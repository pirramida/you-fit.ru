/*! For license information please see main.e9a42b7f.js.LICENSE.txt */
(()=>{var e={14:e=>{e.exports=function(){return!1}},39:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(6772)},61:e=>{e.exports=function(e,t){return e<t}},122:e=>{"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,o,a;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(o=r;0!==o--;)if(!e(t[o],n[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(a=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(o=r;0!==o--;)if(!Object.prototype.hasOwnProperty.call(n,a[o]))return!1;for(o=r;0!==o--;){var i=a[o];if(!e(t[i],n[i]))return!1}return!0}return t!==t&&n!==n}},143:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},149:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}},191:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler");Symbol.for("react.provider");var s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.for("react.view_transition"),m=Symbol.for("react.client.reference");function g(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case o:case i:case a:case c:case d:case f:return e;default:switch(e=e&&e.$$typeof){case l:case u:case h:case p:case s:return e;default:return t}}case r:return t}}}t.vM=u,t.lD=p},219:(e,t,n)=>{"use strict";var r=n(3763),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?i:s[e.$$typeof]||o}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=i;var u=Object.defineProperty,c=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(f){var o=h(n);o&&o!==f&&e(t,o,r)}var i=c(n);d&&(i=i.concat(d(n)));for(var s=l(t),m=l(n),g=0;g<i.length;++g){var y=i[g];if(!a[y]&&(!r||!r[y])&&(!m||!m[y])&&(!s||!s[y])){var v=p(n,y);try{u(t,y,v)}catch(b){}}}}return t}},320:e=>{e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},396:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},438:(e,t,n)=>{var r=n(2622);e.exports=function(e){return r(this,e).get(e)}},446:function(e){e.exports=function(){"use strict";var e=1e3,t=6e4,n=36e5,r="millisecond",o="second",a="minute",i="hour",s="day",l="week",u="month",c="quarter",d="year",p="date",h="Invalid Date",f=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}},y=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},v={s:y,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),r=Math.floor(n/60),o=n%60;return(t<=0?"+":"-")+y(r,2,"0")+":"+y(o,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),o=t.clone().add(r,u),a=n-o<0,i=t.clone().add(r+(a?-1:1),u);return+(-(r+(n-o)/(a?o-i:i-o))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:u,y:d,w:l,d:s,D:p,h:i,m:a,s:o,ms:r,Q:c}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},b="en",x={};x[b]=g;var w="$isDayjsObject",k=function(e){return e instanceof T||!(!e||!e[w])},S=function e(t,n,r){var o;if(!t)return b;if("string"==typeof t){var a=t.toLowerCase();x[a]&&(o=a),n&&(x[a]=n,o=a);var i=t.split("-");if(!o&&i.length>1)return e(i[0])}else{var s=t.name;x[s]=t,o=s}return!r&&o&&(b=o),o||!r&&b},A=function(e,t){if(k(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new T(n)},C=v;C.l=S,C.i=k,C.w=function(e,t){return A(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var T=function(){function g(e){this.$L=S(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[w]=!0}var y=g.prototype;return y.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(C.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(f);if(r){var o=r[2]-1||0,a=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],o,r[3]||1,r[4]||0,r[5]||0,r[6]||0,a)):new Date(r[1],o,r[3]||1,r[4]||0,r[5]||0,r[6]||0,a)}}return new Date(t)}(e),this.init()},y.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},y.$utils=function(){return C},y.isValid=function(){return!(this.$d.toString()===h)},y.isSame=function(e,t){var n=A(e);return this.startOf(t)<=n&&n<=this.endOf(t)},y.isAfter=function(e,t){return A(e)<this.startOf(t)},y.isBefore=function(e,t){return this.endOf(t)<A(e)},y.$g=function(e,t,n){return C.u(e)?this[t]:this.set(n,e)},y.unix=function(){return Math.floor(this.valueOf()/1e3)},y.valueOf=function(){return this.$d.getTime()},y.startOf=function(e,t){var n=this,r=!!C.u(t)||t,c=C.p(e),h=function(e,t){var o=C.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return r?o:o.endOf(s)},f=function(e,t){return C.w(n.toDate()[e].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},m=this.$W,g=this.$M,y=this.$D,v="set"+(this.$u?"UTC":"");switch(c){case d:return r?h(1,0):h(31,11);case u:return r?h(1,g):h(0,g+1);case l:var b=this.$locale().weekStart||0,x=(m<b?m+7:m)-b;return h(r?y-x:y+(6-x),g);case s:case p:return f(v+"Hours",0);case i:return f(v+"Minutes",1);case a:return f(v+"Seconds",2);case o:return f(v+"Milliseconds",3);default:return this.clone()}},y.endOf=function(e){return this.startOf(e,!1)},y.$set=function(e,t){var n,l=C.p(e),c="set"+(this.$u?"UTC":""),h=(n={},n[s]=c+"Date",n[p]=c+"Date",n[u]=c+"Month",n[d]=c+"FullYear",n[i]=c+"Hours",n[a]=c+"Minutes",n[o]=c+"Seconds",n[r]=c+"Milliseconds",n)[l],f=l===s?this.$D+(t-this.$W):t;if(l===u||l===d){var m=this.clone().set(p,1);m.$d[h](f),m.init(),this.$d=m.set(p,Math.min(this.$D,m.daysInMonth())).$d}else h&&this.$d[h](f);return this.init(),this},y.set=function(e,t){return this.clone().$set(e,t)},y.get=function(e){return this[C.p(e)]()},y.add=function(r,c){var p,h=this;r=Number(r);var f=C.p(c),m=function(e){var t=A(h);return C.w(t.date(t.date()+Math.round(e*r)),h)};if(f===u)return this.set(u,this.$M+r);if(f===d)return this.set(d,this.$y+r);if(f===s)return m(1);if(f===l)return m(7);var g=(p={},p[a]=t,p[i]=n,p[o]=e,p)[f]||1,y=this.$d.getTime()+r*g;return C.w(y,this)},y.subtract=function(e,t){return this.add(-1*e,t)},y.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||h;var r=e||"YYYY-MM-DDTHH:mm:ssZ",o=C.z(this),a=this.$H,i=this.$m,s=this.$M,l=n.weekdays,u=n.months,c=n.meridiem,d=function(e,n,o,a){return e&&(e[n]||e(t,r))||o[n].slice(0,a)},p=function(e){return C.s(a%12||12,e,"0")},f=c||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r};return r.replace(m,(function(e,r){return r||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return C.s(t.$y,4,"0");case"M":return s+1;case"MM":return C.s(s+1,2,"0");case"MMM":return d(n.monthsShort,s,u,3);case"MMMM":return d(u,s);case"D":return t.$D;case"DD":return C.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return d(n.weekdaysMin,t.$W,l,2);case"ddd":return d(n.weekdaysShort,t.$W,l,3);case"dddd":return l[t.$W];case"H":return String(a);case"HH":return C.s(a,2,"0");case"h":return p(1);case"hh":return p(2);case"a":return f(a,i,!0);case"A":return f(a,i,!1);case"m":return String(i);case"mm":return C.s(i,2,"0");case"s":return String(t.$s);case"ss":return C.s(t.$s,2,"0");case"SSS":return C.s(t.$ms,3,"0");case"Z":return o}return null}(e)||o.replace(":","")}))},y.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},y.diff=function(r,p,h){var f,m=this,g=C.p(p),y=A(r),v=(y.utcOffset()-this.utcOffset())*t,b=this-y,x=function(){return C.m(m,y)};switch(g){case d:f=x()/12;break;case u:f=x();break;case c:f=x()/3;break;case l:f=(b-v)/6048e5;break;case s:f=(b-v)/864e5;break;case i:f=b/n;break;case a:f=b/t;break;case o:f=b/e;break;default:f=b}return h?f:C.a(f)},y.daysInMonth=function(){return this.endOf(u).$D},y.$locale=function(){return x[this.$L]},y.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=S(e,t,!0);return r&&(n.$L=r),n},y.clone=function(){return C.w(this.$d,this)},y.toDate=function(){return new Date(this.valueOf())},y.toJSON=function(){return this.isValid()?this.toISOString():null},y.toISOString=function(){return this.$d.toISOString()},y.toString=function(){return this.$d.toUTCString()},g}(),I=T.prototype;return A.prototype=I,[["$ms",r],["$s",o],["$m",a],["$H",i],["$W",s],["$M",u],["$y",d],["$D",p]].forEach((function(e){I[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),A.extend=function(e,t){return e.$i||(e(t,T,A),e.$i=!0),A},A.locale=S,A.isDayjs=k,A.unix=function(e){return A(1e3*e)},A.en=x[b],A.Ls=x,A.p={},A}()},457:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A});var r=n(7868)},492:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var o=r(n(39)),a=n(579);t.A=(0,o.default)((0,a.jsx)("path",{d:"M7.5 5.6 10 7 8.6 4.5 10 2 7.5 3.4 5 2l1.4 2.5L5 7zm12 9.8L17 14l1.4 2.5L17 19l2.5-1.4L22 19l-1.4-2.5L22 14zM22 2l-2.5 1.4L17 2l1.4 2.5L17 7l2.5-1.4L22 7l-1.4-2.5zm-7.63 5.29a.9959.9959 0 0 0-1.41 0L1.29 18.96c-.39.39-.39 1.02 0 1.41l2.34 2.34c.39.39 1.02.39 1.41 0L16.7 11.05c.39-.39.39-1.02 0-1.41zm-1.03 5.49-2.12-2.12 2.44-2.44 2.12 2.12z"}),"AutoFixHigh")},539:(e,t,n)=>{var r=n(9742),o=n(7498),a=n(3279);e.exports=function(e){return e&&e.length?r(e,a,o):void 0}},551:()=>{},579:(e,t,n)=>{"use strict";e.exports=n(2799)},620:(e,t,n)=>{var r=n(6913),o=n(4052),a=n(2761);e.exports=function(e){return"string"==typeof e||!o(e)&&a(e)&&"[object String]"==r(e)}},643:(e,t,n)=>{var r=n(5295)("toUpperCase");e.exports=r},644:e=>{e.exports=function(e){return e!==e}},705:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},715:e=>{var t="\\ud800-\\udfff",n="["+t+"]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",o="\\ud83c[\\udffb-\\udfff]",a="[^"+t+"]",i="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",l="(?:"+r+"|"+o+")"+"?",u="[\\ufe0e\\ufe0f]?",c=u+l+("(?:\\u200d(?:"+[a,i,s].join("|")+")"+u+l+")*"),d="(?:"+[a+r+"?",r,i,s,n].join("|")+")",p=RegExp(o+"(?="+o+")|"+d+c,"g");e.exports=function(e){return e.match(p)||[]}},755:(e,t,n)=>{var r=n(8895),o=n(7116);e.exports=function e(t,n,a,i,s){var l=-1,u=t.length;for(a||(a=o),s||(s=[]);++l<u;){var c=t[l];n>0&&a(c)?n>1?e(c,n-1,a,i,s):r(s,c):i||(s[s.length]=c)}return s}},793:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},801:(e,t,n)=>{var r=n(1141),o=n(6686),a=n(9841),i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(a(e))return NaN;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||l.test(e)?u(e.slice(2),n?2:8):i.test(e)?NaN:+e}},869:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});n(5043);var r=n(3290),o=n(579);function a(e){const{styles:t,defaultTheme:n={}}=e,a="function"===typeof t?e=>{return t(void 0===(r=e)||null===r||0===Object.keys(r).length?n:e);var r}:t;return(0,o.jsx)(r.mL,{styles:a})}},914:(e,t,n)=>{var r=n(9841);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},918:(e,t,n)=>{"use strict";function r(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}n.d(t,{A:()=>r})},929:(e,t,n)=>{var r=n(3211),o=n(6571),a=n(9194),i=n(6686);e.exports=function(e,t,n){if(!i(n))return!1;var s=typeof t;return!!("number"==s?o(n)&&a(t,n.length):"string"==s&&t in n)&&r(n[t],e)}},950:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(3468).A},977:(e,t,n)=>{var r=n(9096),o=n(4416);e.exports=function(e,t){return e&&e.length?o(e,r(t,2)):[]}},1052:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(5043);function o(e){let{controlled:t,default:n,name:o,state:a="value"}=e;const{current:i}=r.useRef(void 0!==t),[s,l]=r.useState(n);return[i?t:s,r.useCallback((e=>{i||l(e)}),[])]}},1069:(e,t,n)=>{var r=n(8541);e.exports=function(e){return null==e?"":r(e)}},1141:(e,t,n)=>{var r=n(143),o=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(o,""):e}},1143:(e,t,n)=>{var r=n(3028)(Object.keys,Object);e.exports=r},1170:e=>{e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},1188:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MIN_SAFE_INTEGER,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.MAX_SAFE_INTEGER;return Math.max(t,Math.min(e,n))}},1234:()=>{},1268:(e,t,n)=>{var r=n(5428),o=n(7574),a=n(6832),i=a&&a.isTypedArray,s=i?o(i):r;e.exports=s},1310:e=>{e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},1337:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var o=r(n(39)),a=n(579);t.A=(0,o.default)((0,a.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore")},1340:(e,t,n)=>{var r=n(3211);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},1475:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(7123);const o=e=>(0,r.A)(e)&&"classes"!==e},1497:(e,t,n)=>{"use strict";var r=n(3218);function o(){}function a(){}a.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,a,i){if(i!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:o};return n.PropTypes=n,n}},1558:e=>{e.exports=function(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}},1629:(e,t,n)=>{var r=n(6913),o=n(6686);e.exports=function(e){if(!o(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},1668:(e,t,n)=>{"use strict";function r(e){return e&&e.ownerDocument||document}n.d(t,{A:()=>r})},1714:(e,t,n)=>{var r=n(1340);e.exports=function(e,t){var n=this.__data__,o=r(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}},1722:(e,t,n)=>{"use strict";n.d(t,{Rk:()=>r,SF:()=>o,sk:()=>a});function r(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):n&&(r+=n+" ")})),r}var o=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},a=function(e,t,n){o(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var a=t;do{e.insert(t===a?"."+r:"",a,e.sheet,!0),a=a.next}while(void 0!==a)}}},1733:(e,t,n)=>{var r=n(1775),o=n(4664),a=n(9096);e.exports=function(e,t){var n={};return t=a(t,3),o(e,(function(e,o,a){r(n,o,t(e,o,a))})),n}},1775:(e,t,n)=>{var r=n(5654);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},1782:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(5043),o=n(4440);const a=function(e){const t=r.useRef(e);return(0,o.A)((()=>{t.current=e})),r.useRef((function(){return(0,t.current)(...arguments)})).current}},1946:(e,t,n)=>{var r=n(1340);e.exports=function(e){return r(this.__data__,e)>-1}},2070:(e,t,n)=>{var r=n(7937)(n(6552),"Set");e.exports=r},2074:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},2090:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var o=r(n(39)),a=n(579);t.A=(0,o.default)((0,a.jsx)("path",{d:"M17 12h-5v5h5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1zm3 18H5V8h14z"}),"Event")},2154:(e,t,n)=>{var r=n(5575),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return o.call(t,e)?t[e]:void 0}},2165:(e,t,n)=>{var r=n(5652);e.exports=function(e,t){var n;return r(e,(function(e,r,o){return!(n=t(e,r,o))})),!!n}},2177:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var o=r(n(39)),a=n(579);t.A=(0,o.default)((0,a.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person")},2322:(e,t,n)=>{var r=n(6913),o=n(5990),a=n(2761),i=Function.prototype,s=Object.prototype,l=i.toString,u=s.hasOwnProperty,c=l.call(Object);e.exports=function(e){if(!a(e)||"[object Object]"!=r(e))return!1;var t=o(e);if(null===t)return!0;var n=u.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==c}},2372:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>a});var r=n(9386);const o={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function a(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const a=o[t];return a?`${n}-${a}`:`${r.A.generate(e)}-${t}`}},2374:(e,t,n)=>{"use strict";t.A=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(r,i,s):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(5043)),o=n(3174);function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}t.A=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=r.useContext(o.ThemeContext);return t&&(n=t,0!==Object.keys(n).length)?t:e;var n}},2427:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(1668).A},2430:function(e,t,n){var r;!function(o,a,i){var s,l=256,u=i.pow(l,6),c=i.pow(2,52),d=2*c,p=255;function h(e,t,n){var r=[],p=y(g((t=1==t?{entropy:!0}:t||{}).entropy?[e,v(a)]:null==e?function(){try{var e;return s&&(e=s.randomBytes)?e=e(l):(e=new Uint8Array(l),(o.crypto||o.msCrypto).getRandomValues(e)),v(e)}catch(r){var t=o.navigator,n=t&&t.plugins;return[+new Date,o,n,o.screen,v(a)]}}():e,3),r),h=new f(r),b=function(){for(var e=h.g(6),t=u,n=0;e<c;)e=(e+n)*l,t*=l,n=h.g(1);for(;e>=d;)e/=2,t/=2,n>>>=1;return(e+n)/t};return b.int32=function(){return 0|h.g(4)},b.quick=function(){return h.g(4)/4294967296},b.double=b,y(v(h.S),a),(t.pass||n||function(e,t,n,r){return r&&(r.S&&m(r,h),e.state=function(){return m(h,{})}),n?(i.random=e,t):e})(b,p,"global"in t?t.global:this==i,t.state)}function f(e){var t,n=e.length,r=this,o=0,a=r.i=r.j=0,i=r.S=[];for(n||(e=[n++]);o<l;)i[o]=o++;for(o=0;o<l;o++)i[o]=i[a=p&a+e[o%n]+(t=i[o])],i[a]=t;(r.g=function(e){for(var t,n=0,o=r.i,a=r.j,i=r.S;e--;)t=i[o=p&o+1],n=n*l+i[p&(i[o]=i[a=p&a+t])+(i[a]=t)];return r.i=o,r.j=a,n})(l)}function m(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function g(e,t){var n,r=[],o=typeof e;if(t&&"object"==o)for(n in e)try{r.push(g(e[n],t-1))}catch(a){}return r.length?r:"string"==o?e:e+"\0"}function y(e,t){for(var n,r=e+"",o=0;o<r.length;)t[p&o]=p&(n^=19*t[p&o])+r.charCodeAt(o++);return v(t)}function v(e){return String.fromCharCode.apply(0,e)}if(y(i.random(),a),e.exports){e.exports=h;try{s=n(1234)}catch(b){}}else void 0===(r=function(){return h}.call(t,n,t,e))||(e.exports=r)}("undefined"!==typeof self?self:this,[],Math)},2456:(e,t,n)=>{"use strict";function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(((e,t)=>null==t?e:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];e.apply(this,r),t.apply(this,r)}),(()=>{}))}n.d(t,{A:()=>r})},2497:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var o=r(n(39)),a=n(579);t.A=(0,o.default)((0,a.jsx)("path",{d:"M6.23 20.23 8 22l10-10L8 2 6.23 3.77 14.46 12z"}),"ArrowForwardIos")},2505:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var o=r(n(39)),a=n(579);t.A=(0,o.default)((0,a.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add")},2520:(e,t,n)=>{var r=n(5816),o=n(9096),a=n(9140),i=Math.max;e.exports=function(e,t,n){var s=null==e?0:e.length;if(!s)return-1;var l=null==n?0:a(n);return l<0&&(l=i(s+l,0)),r(e,o(t,3),l)}},2532:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(2372);function o(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const o={};return t.forEach((t=>{o[t]=(0,r.Ay)(e,t,n)})),o}},2536:(e,t,n)=>{var r=n(149),o=n(2969),a=n(9096),i=n(8883),s=n(320),l=n(7574),u=n(5893),c=n(3279),d=n(4052);e.exports=function(e,t,n){t=t.length?r(t,(function(e){return d(e)?function(t){return o(t,1===e.length?e[0]:e)}:e})):[c];var p=-1;t=r(t,l(a));var h=i(e,(function(e,n,o){return{criteria:r(t,(function(t){return t(e)})),index:++p,value:e}}));return s(h,(function(e,t){return u(e,t,n)}))}},2541:e=>{e.exports=function(e){return function(){return e}}},2587:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},2597:(e,t,n)=>{var r=n(4052),o=n(9841),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!o(e))||(i.test(e)||!a.test(e)||null!=t&&e in Object(t))}},2622:(e,t,n)=>{var r=n(705);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},2662:(e,t,n)=>{var r=n(5575);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},2761:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},2777:(e,t,n)=>{var r=n(5193),o=n(2761),a=Object.prototype,i=a.hasOwnProperty,s=a.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return o(e)&&i.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},2799:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function o(e,t,r){var o=null;if(void 0!==r&&(o=""+r),void 0!==t.key&&(o=""+t.key),"key"in t)for(var a in r={},t)"key"!==a&&(r[a]=t[a]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:o,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=o,t.jsxs=o},2866:(e,t,n)=>{var r=n(2969);e.exports=function(e){return function(t){return r(t,e)}}},2929:(e,t,n)=>{var r=n(6552).Uint8Array;e.exports=r},2969:(e,t,n)=>{var r=n(5324),o=n(914);e.exports=function(e,t){for(var n=0,a=(t=r(t,e)).length;null!=e&&n<a;)e=e[o(t[n++])];return n&&n==a?e:void 0}},3028:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},3030:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(8168);function o(e,t){const n=(0,r.A)({},t);return Object.keys(e).forEach((a=>{if(a.toString().match(/^(components|slots)$/))n[a]=(0,r.A)({},e[a],n[a]);else if(a.toString().match(/^(componentsProps|slotProps)$/)){const i=e[a]||{},s=t[a];n[a]={},s&&Object.keys(s)?i&&Object.keys(i)?(n[a]=(0,r.A)({},s),Object.keys(i).forEach((e=>{n[a][e]=o(i[e],s[e])}))):n[a]=s:n[a]=i}else void 0===n[a]&&(n[a]=e[a])})),n}},3097:(e,t,n)=>{var r=n(2969);e.exports=function(e,t,n){var o=null==e?void 0:r(e,t);return void 0===o?n:o}},3174:(e,t,n)=>{"use strict";n.r(t),n.d(t,{GlobalStyles:()=>k.A,StyledEngineProvider:()=>w,ThemeContext:()=>o.T,css:()=>y.AH,default:()=>S,internal_processStyles:()=>A,keyframes:()=>y.i7});var r=n(8168),o=n(9369),a=n(6598),i=n(9436),s=n(1722),l=n(5043),u=n(918),c=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,d=(0,u.A)((function(e){return c.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),p=function(e){return"theme"!==e},h=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?d:p},f=function(e,t,n){var r;if(t){var o=t.shouldForwardProp;r=e.__emotion_forwardProp&&o?function(t){return e.__emotion_forwardProp(t)&&o(t)}:o}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},m=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return(0,s.SF)(t,n,r),(0,i.s)((function(){return(0,s.sk)(t,n,r)})),null},g=function e(t,n){var i,u,c=t.__emotion_real===t,d=c&&t.__emotion_base||t;void 0!==n&&(i=n.label,u=n.target);var p=f(t,n,c),g=p||h(d),y=!g("as");return function(){var v=arguments,b=c&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==i&&b.push("label:"+i+";"),null==v[0]||void 0===v[0].raw)b.push.apply(b,v);else{var x=v[0];b.push(x[0]);for(var w=v.length,k=1;k<w;k++)b.push(v[k],x[k])}var S=(0,o.w)((function(e,t,n){var r=y&&e.as||d,i="",c=[],f=e;if(null==e.theme){for(var v in f={},e)f[v]=e[v];f.theme=l.useContext(o.T)}"string"===typeof e.className?i=(0,s.Rk)(t.registered,c,e.className):null!=e.className&&(i=e.className+" ");var x=(0,a.J)(b.concat(c),t.registered,f);i+=t.key+"-"+x.name,void 0!==u&&(i+=" "+u);var w=y&&void 0===p?h(r):g,k={};for(var S in e)y&&"as"===S||w(S)&&(k[S]=e[S]);return k.className=i,n&&(k.ref=n),l.createElement(l.Fragment,null,l.createElement(m,{cache:t,serialized:x,isStringTag:"string"===typeof r}),l.createElement(r,k))}));return S.displayName=void 0!==i?i:"Styled("+("string"===typeof d?d:d.displayName||d.name||"Component")+")",S.defaultProps=t.defaultProps,S.__emotion_real=S,S.__emotion_base=d,S.__emotion_styles=b,S.__emotion_forwardProp=p,Object.defineProperty(S,"toString",{value:function(){return"."+u}}),S.withComponent=function(t,o){return e(t,(0,r.A)({},n,o,{shouldForwardProp:f(S,o,!0)})).apply(void 0,b)},S}}.bind(null);["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){g[e]=g(e)}));var y=n(3290),v=n(3803),b=n(579);let x;function w(e){const{injectFirst:t,children:n}=e;return t&&x?(0,b.jsx)(o.C,{value:x,children:n}):n}"object"===typeof document&&(x=(0,v.A)({key:"css",prepend:!0}));var k=n(869);function S(e,t){return g(e,t)}const A=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}},3204:(e,t,n)=>{var r=n(3343),o=n(2777),a=n(4052),i=n(4543),s=n(9194),l=n(1268),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=a(e),c=!n&&o(e),d=!n&&!c&&i(e),p=!n&&!c&&!d&&l(e),h=n||c||d||p,f=h?r(e.length,String):[],m=f.length;for(var g in e)!t&&!u.call(e,g)||h&&("length"==g||d&&("offset"==g||"parent"==g)||p&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,m))||f.push(g);return f}},3211:e=>{e.exports=function(e,t){return e===t||e!==e&&t!==t}},3218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},3234:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A,extendSxProp:()=>o.A,unstable_createStyleFunctionSx:()=>r.k,unstable_defaultSxConfig:()=>a.A});var r=n(8812),o=n(8698),a=n(7758)},3279:e=>{e.exports=function(e){return e}},3290:(e,t,n)=>{"use strict";n.d(t,{AH:()=>c,i7:()=>d,mL:()=>u});var r=n(9369),o=n(5043),a=n(1722),i=n(9436),s=n(6598),l=(n(3803),n(219),function(e,t){var n=arguments;if(null==t||!r.h.call(t,"css"))return o.createElement.apply(void 0,n);var a=n.length,i=new Array(a);i[0]=r.E,i[1]=(0,r.c)(e,t);for(var s=2;s<a;s++)i[s]=n[s];return o.createElement.apply(null,i)});!function(e){var t;t||(t=e.JSX||(e.JSX={}))}(l||(l={}));var u=(0,r.w)((function(e,t){var n=e.styles,l=(0,s.J)([n],void 0,o.useContext(r.T)),u=o.useRef();return(0,i.i)((function(){var e=t.key+"-global",n=new t.sheet.constructor({key:e,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),r=!1,o=document.querySelector('style[data-emotion="'+e+" "+l.name+'"]');return t.sheet.tags.length&&(n.before=t.sheet.tags[0]),null!==o&&(r=!0,o.setAttribute("data-emotion",e),n.hydrate([o])),u.current=[n,r],function(){n.flush()}}),[t]),(0,i.i)((function(){var e=u.current,n=e[0];if(e[1])e[1]=!1;else{if(void 0!==l.next&&(0,a.sk)(t,l.next,!0),n.tags.length){var r=n.tags[n.tags.length-1].nextElementSibling;n.before=r,n.flush()}t.insert("",l,n,!1)}}),[t,l.name]),null}));function c(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,s.J)(t)}function d(){var e=c.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}},3319:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(1782).A},3331:(e,t,n)=>{var r=n(9676),o=n(929),a=n(7303);e.exports=function(e){return function(t,n,i){return i&&"number"!=typeof i&&o(t,n,i)&&(n=i=void 0),t=a(t),void 0===n?(n=t,t=0):n=a(n),i=void 0===i?t<n?1:-1:a(i),r(t,n,i,e)}}},3343:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},3366:(e,t,n)=>{var r=n(7894),o=n(9057);e.exports=function(e,t){return null!=e&&o(e,t,r)}},3375:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r="$$material"},3382:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l,getFunctionName:()=>a});var r=n(191);const o=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function a(e){const t=`${e}`.match(o);return t&&t[1]||""}function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.displayName||e.name||a(e)||t}function s(e,t,n){const r=i(t);return e.displayName||(""!==r?`${n}(${r})`:n)}function l(e){if(null!=e){if("string"===typeof e)return e;if("function"===typeof e)return i(e,"Component");if("object"===typeof e)switch(e.$$typeof){case r.vM:return s(e,e.render,"ForwardRef");case r.lD:return s(e,e.type,"memo");default:return}}}},3411:(e,t,n)=>{var r=n(149),o=n(9096),a=n(8883),i=n(4052);e.exports=function(e,t){return(i(e)?r:a)(e,o(t,3))}},3440:(e,t,n)=>{var r=n(6552)["__core-js_shared__"];e.exports=r},3462:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(5043),o=n(6564);function a(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.useMemo((()=>t.every((e=>null==e))?null:e=>{t.forEach((t=>{(0,o.A)(t,e)}))}),t)}},3468:(e,t,n)=>{"use strict";function r(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];clearTimeout(t),t=setTimeout((()=>{e.apply(this,o)}),n)}return r.clear=()=>{clearTimeout(t)},r}n.d(t,{A:()=>r})},3471:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var o=r(n(39)),a=n(579);t.A=(0,o.default)((0,a.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")},3538:(e,t,n)=>{var r=n(755),o=n(3411);e.exports=function(e,t){return r(o(e,t),1)}},3668:(e,t,n)=>{var r=n(8902),o=n(2587),a=n(8114);e.exports=function(e,t,n,i,s,l){var u=1&n,c=e.length,d=t.length;if(c!=d&&!(u&&d>c))return!1;var p=l.get(e),h=l.get(t);if(p&&h)return p==t&&h==e;var f=-1,m=!0,g=2&n?new r:void 0;for(l.set(e,t),l.set(t,e);++f<c;){var y=e[f],v=t[f];if(i)var b=u?i(v,y,f,t,e,l):i(y,v,f,e,t,l);if(void 0!==b){if(b)continue;m=!1;break}if(g){if(!o(t,(function(e,t){if(!a(g,t)&&(y===e||s(y,e,n,i,l)))return g.push(t)}))){m=!1;break}}else if(y!==v&&!s(y,v,n,i,l)){m=!1;break}}return l.delete(e),l.delete(t),m}},3713:(e,t,n)=>{var r=n(6140),o=n(1143),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=[];for(var n in Object(e))a.call(e,n)&&"constructor"!=n&&t.push(n);return t}},3763:(e,t,n)=>{"use strict";e.exports=n(4983)},3781:(e,t,n)=>{var r=n(9417),o=n(8673);e.exports=function(e){for(var t=o(e),n=t.length;n--;){var a=t[n],i=e[a];t[n]=[a,i,r(i)]}return t}},3803:(e,t,n)=>{"use strict";n.d(t,{A:()=>oe});var r=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)})),this.tags=[],this.ctr=0},e}(),o=Math.abs,a=String.fromCharCode,i=Object.assign;function s(e){return e.trim()}function l(e,t,n){return e.replace(t,n)}function u(e,t){return e.indexOf(t)}function c(e,t){return 0|e.charCodeAt(t)}function d(e,t,n){return e.slice(t,n)}function p(e){return e.length}function h(e){return e.length}function f(e,t){return t.push(e),e}var m=1,g=1,y=0,v=0,b=0,x="";function w(e,t,n,r,o,a,i){return{value:e,root:t,parent:n,type:r,props:o,children:a,line:m,column:g,length:i,return:""}}function k(e,t){return i(w("",null,null,"",null,null,0),e,{length:-e.length},t)}function S(){return b=v>0?c(x,--v):0,g--,10===b&&(g=1,m--),b}function A(){return b=v<y?c(x,v++):0,g++,10===b&&(g=1,m++),b}function C(){return c(x,v)}function T(){return v}function I(e,t){return d(x,e,t)}function E(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function N(e){return m=g=1,y=p(x=e),v=0,[]}function O(e){return x="",e}function M(e){return s(I(v-1,P(91===e?e+2:40===e?e+1:e)))}function D(e){for(;(b=C())&&b<33;)A();return E(e)>2||E(b)>3?"":" "}function R(e,t){for(;--t&&A()&&!(b<48||b>102||b>57&&b<65||b>70&&b<97););return I(e,T()+(t<6&&32==C()&&32==A()))}function P(e){for(;A();)switch(b){case e:return v;case 34:case 39:34!==e&&39!==e&&P(b);break;case 40:41===e&&P(e);break;case 92:A()}return v}function $(e,t){for(;A()&&e+b!==57&&(e+b!==84||47!==C()););return"/*"+I(t,v-1)+"*"+a(47===e?e:A())}function j(e){for(;!E(C());)A();return I(e,v)}var _="-ms-",F="-moz-",L="-webkit-",z="comm",B="rule",W="decl",V="@keyframes";function U(e,t){for(var n="",r=h(e),o=0;o<r;o++)n+=t(e[o],o,e,t)||"";return n}function H(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case W:return e.return=e.return||e.value;case z:return"";case V:return e.return=e.value+"{"+U(e.children,r)+"}";case B:e.value=e.props.join(",")}return p(n=U(e.children,r))?e.return=e.value+"{"+n+"}":""}function G(e){return O(q("",null,null,null,[""],e=N(e),0,[0],e))}function q(e,t,n,r,o,i,s,d,h){for(var m=0,g=0,y=s,v=0,b=0,x=0,w=1,k=1,I=1,E=0,N="",O=o,P=i,_=r,F=N;k;)switch(x=E,E=A()){case 40:if(108!=x&&58==c(F,y-1)){-1!=u(F+=l(M(E),"&","&\f"),"&\f")&&(I=-1);break}case 34:case 39:case 91:F+=M(E);break;case 9:case 10:case 13:case 32:F+=D(x);break;case 92:F+=R(T()-1,7);continue;case 47:switch(C()){case 42:case 47:f(X($(A(),T()),t,n),h);break;default:F+="/"}break;case 123*w:d[m++]=p(F)*I;case 125*w:case 59:case 0:switch(E){case 0:case 125:k=0;case 59+g:-1==I&&(F=l(F,/\f/g,"")),b>0&&p(F)-y&&f(b>32?Y(F+";",r,n,y-1):Y(l(F," ","")+";",r,n,y-2),h);break;case 59:F+=";";default:if(f(_=K(F,t,n,m,g,o,d,N,O=[],P=[],y),i),123===E)if(0===g)q(F,t,_,_,O,i,y,d,P);else switch(99===v&&110===c(F,3)?100:v){case 100:case 108:case 109:case 115:q(e,_,_,r&&f(K(e,_,_,0,0,o,d,N,o,O=[],y),P),o,P,y,d,r?O:P);break;default:q(F,_,_,_,[""],P,0,d,P)}}m=g=b=0,w=I=1,N=F="",y=s;break;case 58:y=1+p(F),b=x;default:if(w<1)if(123==E)--w;else if(125==E&&0==w++&&125==S())continue;switch(F+=a(E),E*w){case 38:I=g>0?1:(F+="\f",-1);break;case 44:d[m++]=(p(F)-1)*I,I=1;break;case 64:45===C()&&(F+=M(A())),v=C(),g=y=p(N=F+=j(T())),E++;break;case 45:45===x&&2==p(F)&&(w=0)}}return i}function K(e,t,n,r,a,i,u,c,p,f,m){for(var g=a-1,y=0===a?i:[""],v=h(y),b=0,x=0,k=0;b<r;++b)for(var S=0,A=d(e,g+1,g=o(x=u[b])),C=e;S<v;++S)(C=s(x>0?y[S]+" "+A:l(A,/&\f/g,y[S])))&&(p[k++]=C);return w(e,t,n,0===a?B:c,p,f,m)}function X(e,t,n){return w(e,t,n,z,a(b),d(e,2,-2),0)}function Y(e,t,n,r){return w(e,t,n,W,d(e,0,r),d(e,r+1,-1),r)}var Q=function(e,t,n){for(var r=0,o=0;r=o,o=C(),38===r&&12===o&&(t[n]=1),!E(o);)A();return I(e,v)},Z=function(e,t){return O(function(e,t){var n=-1,r=44;do{switch(E(r)){case 0:38===r&&12===C()&&(t[n]=1),e[n]+=Q(v-1,t,n);break;case 2:e[n]+=M(r);break;case 4:if(44===r){e[++n]=58===C()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=a(r)}}while(r=A());return e}(N(e),t))},J=new WeakMap,ee=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||J.get(n))&&!r){J.set(e,!0);for(var o=[],a=Z(t,o),i=n.props,s=0,l=0;s<a.length;s++)for(var u=0;u<i.length;u++,l++)e.props[l]=o[s]?a[s].replace(/&\f/g,i[u]):i[u]+" "+a[s]}}},te=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function ne(e,t){switch(function(e,t){return 45^c(e,0)?(((t<<2^c(e,0))<<2^c(e,1))<<2^c(e,2))<<2^c(e,3):0}(e,t)){case 5103:return L+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return L+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return L+e+F+e+_+e+e;case 6828:case 4268:return L+e+_+e+e;case 6165:return L+e+_+"flex-"+e+e;case 5187:return L+e+l(e,/(\w+).+(:[^]+)/,L+"box-$1$2"+_+"flex-$1$2")+e;case 5443:return L+e+_+"flex-item-"+l(e,/flex-|-self/,"")+e;case 4675:return L+e+_+"flex-line-pack"+l(e,/align-content|flex-|-self/,"")+e;case 5548:return L+e+_+l(e,"shrink","negative")+e;case 5292:return L+e+_+l(e,"basis","preferred-size")+e;case 6060:return L+"box-"+l(e,"-grow","")+L+e+_+l(e,"grow","positive")+e;case 4554:return L+l(e,/([^-])(transform)/g,"$1"+L+"$2")+e;case 6187:return l(l(l(e,/(zoom-|grab)/,L+"$1"),/(image-set)/,L+"$1"),e,"")+e;case 5495:case 3959:return l(e,/(image-set\([^]*)/,L+"$1$`$1");case 4968:return l(l(e,/(.+:)(flex-)?(.*)/,L+"box-pack:$3"+_+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+L+e+e;case 4095:case 3583:case 4068:case 2532:return l(e,/(.+)-inline(.+)/,L+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(p(e)-1-t>6)switch(c(e,t+1)){case 109:if(45!==c(e,t+4))break;case 102:return l(e,/(.+:)(.+)-([^]+)/,"$1"+L+"$2-$3$1"+F+(108==c(e,t+3)?"$3":"$2-$3"))+e;case 115:return~u(e,"stretch")?ne(l(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==c(e,t+1))break;case 6444:switch(c(e,p(e)-3-(~u(e,"!important")&&10))){case 107:return l(e,":",":"+L)+e;case 101:return l(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+L+(45===c(e,14)?"inline-":"")+"box$3$1"+L+"$2$3$1"+_+"$2box$3")+e}break;case 5936:switch(c(e,t+11)){case 114:return L+e+_+l(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return L+e+_+l(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return L+e+_+l(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return L+e+_+e+e}return e}var re=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case W:e.return=ne(e.value,e.length);break;case V:return U([k(e,{value:l(e.value,"@","@"+L)})],r);case B:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return U([k(e,{props:[l(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return U([k(e,{props:[l(t,/:(plac\w+)/,":"+L+"input-$1")]}),k(e,{props:[l(t,/:(plac\w+)/,":-moz-$1")]}),k(e,{props:[l(t,/:(plac\w+)/,_+"input-$1")]})],r)}return""}))}}],oe=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var o,a,i=e.stylisPlugins||re,s={},l=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)s[t[n]]=!0;l.push(e)}));var u,c,d=[H,(c=function(e){u.insert(e)},function(e){e.root||(e=e.return)&&c(e)})],p=function(e){var t=h(e);return function(n,r,o,a){for(var i="",s=0;s<t;s++)i+=e[s](n,r,o,a)||"";return i}}([ee,te].concat(i,d));a=function(e,t,n,r){u=n,U(G(e?e+"{"+t.styles+"}":t.styles),p),r&&(f.inserted[t.name]=!0)};var f={key:t,sheet:new r({key:t,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:a};return f.sheet.hydrate(l),f}},3815:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(9172);const o=function(e,t){return t?(0,r.A)(e,t,{clone:!1}):e}},3871:e=>{e.exports=function(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(o);++r<o;)a[r]=e[r+t];return a}},3892:e=>{e.exports=function(e){return this.__data__.has(e)}},3932:(e,t,n)=>{var r=n(396),o=n(2866),a=n(2597),i=n(914);e.exports=function(e){return a(e)?r(i(e)):o(e)}},3940:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(1668);function o(e){return(0,r.A)(e).defaultView||window}},3950:(e,t,n)=>{var r=n(6686),o=n(4757),a=n(801),i=Math.max,s=Math.min;e.exports=function(e,t,n){var l,u,c,d,p,h,f=0,m=!1,g=!1,y=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var n=l,r=u;return l=u=void 0,f=t,d=e.apply(r,n)}function b(e){var n=e-h;return void 0===h||n>=t||n<0||g&&e-f>=c}function x(){var e=o();if(b(e))return w(e);p=setTimeout(x,function(e){var n=t-(e-h);return g?s(n,c-(e-f)):n}(e))}function w(e){return p=void 0,y&&l?v(e):(l=u=void 0,d)}function k(){var e=o(),n=b(e);if(l=arguments,u=this,h=e,n){if(void 0===p)return function(e){return f=e,p=setTimeout(x,t),m?v(e):d}(h);if(g)return clearTimeout(p),p=setTimeout(x,t),v(h)}return void 0===p&&(p=setTimeout(x,t)),d}return t=a(t)||0,r(n)&&(m=!!n.leading,c=(g="maxWait"in n)?i(a(n.maxWait)||0,t):c,y="trailing"in n?!!n.trailing:y),k.cancel=function(){void 0!==p&&clearTimeout(p),f=0,l=h=u=p=void 0},k.flush=function(){return void 0===p?d:w(o())},k}},4020:e=>{e.exports=function(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}},4052:e=>{var t=Array.isArray;e.exports=t},4065:e=>{e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},4079:(e,t,n)=>{var r=n(8259),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,i=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(o,(function(e,n,r,o){t.push(r?o.replace(a,"$1"):n||e)})),t}));e.exports=i},4160:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},4190:(e,t,n)=>{var r=n(1340);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},4258:(e,t,n)=>{var r=n(5906)();e.exports=r},4262:(e,t,n)=>{var r=n(8895),o=n(4052);e.exports=function(e,t,n){var a=t(e);return o(e)?a:r(a,n(e))}},4288:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),h=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var x=b.prototype=new v;x.constructor=b,m(x,y.prototype),x.isPureReactComponent=!0;var w=Array.isArray,k={H:null,A:null,T:null,S:null,V:null},S=Object.prototype.hasOwnProperty;function A(e,t,r,o,a,i){return r=i.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:i}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function E(){}function N(e,t,o,a,i){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l,u,c=!1;if(null===e)c=!0;else switch(s){case"bigint":case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case n:case r:c=!0;break;case p:return N((c=e._init)(e._payload),t,o,a,i)}}if(c)return i=i(e),c=""===a?"."+I(e,0):a,w(i)?(o="",null!=c&&(o=c.replace(T,"$&/")+"/"),N(i,t,o,"",(function(e){return e}))):null!=i&&(C(i)&&(l=i,u=o+(null==i.key||e&&e.key===i.key?"":(""+i.key).replace(T,"$&/")+"/")+c,i=A(l.type,u,void 0,0,0,l.props)),t.push(i)),1;c=0;var d,f=""===a?".":a+":";if(w(e))for(var m=0;m<e.length;m++)c+=N(a=e[m],t,o,s=f+I(a,m),i);else if("function"===typeof(m=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=h&&d[h]||d["@@iterator"])?d:null))for(e=m.call(e),m=0;!(a=e.next()).done;)c+=N(a=a.value,t,o,s=f+I(a,m++),i);else if("object"===s){if("function"===typeof e.then)return N(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(E,E):(e.status="pending",e.then((function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)}),(function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)}))),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,o,a,i);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return c}function O(e,t,n){if(null==e)return e;var r=[],o=0;return N(e,r,"","",(function(e){return t.call(n,e,o++)})),r}function M(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function R(){}t.Children={map:O,forEach:function(e,t,n){O(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return O(e,(function(){t++})),t},toArray:function(e){return O(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=o,t.Profiler=i,t.PureComponent=b,t.StrictMode=a,t.Suspense=c,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return k.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=m({},e.props),o=e.key;if(null!=t)for(a in void 0!==t.ref&&void 0,void 0!==t.key&&(o=""+t.key),t)!S.call(t,a)||"key"===a||"__self"===a||"__source"===a||"ref"===a&&void 0===t.ref||(r[a]=t[a]);var a=arguments.length-2;if(1===a)r.children=n;else if(1<a){for(var i=Array(a),s=0;s<a;s++)i[s]=arguments[s+2];r.children=i}return A(e.type,o,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:s,_context:e},e},t.createElement=function(e,t,n){var r,o={},a=null;if(null!=t)for(r in void 0!==t.key&&(a=""+t.key),t)S.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(o[r]=t[r]);var i=arguments.length-2;if(1===i)o.children=n;else if(1<i){for(var s=Array(i),l=0;l<i;l++)s[l]=arguments[l+2];o.children=s}if(e&&e.defaultProps)for(r in i=e.defaultProps)void 0===o[r]&&(o[r]=i[r]);return A(e,a,void 0,0,0,o)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:M}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=k.T,n={};k.T=n;try{var r=e(),o=k.S;null!==o&&o(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(R,D)}catch(a){D(a)}finally{k.T=t}},t.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},t.use=function(e){return k.H.use(e)},t.useActionState=function(e,t,n){return k.H.useActionState(e,t,n)},t.useCallback=function(e,t){return k.H.useCallback(e,t)},t.useContext=function(e){return k.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return k.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var r=k.H;if("function"===typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)},t.useId=function(){return k.H.useId()},t.useImperativeHandle=function(e,t,n){return k.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return k.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return k.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return k.H.useMemo(e,t)},t.useOptimistic=function(e,t){return k.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return k.H.useReducer(e,t,n)},t.useRef=function(e){return k.H.useRef(e)},t.useState=function(e){return k.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return k.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return k.H.useTransition()},t.version="19.1.0"},4318:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>c,p0:()=>s});var r=n(8587),o=n(8168);const a=["duration","easing","delay"],i={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},s={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function l(e){return`${Math.round(e)}ms`}function u(e){if(!e)return 0;const t=e/36;return Math.round(10*(4+15*t**.25+t/5))}function c(e){const t=(0,o.A)({},i,e.easing),n=(0,o.A)({},s,e.duration);return(0,o.A)({getAutoHeightDuration:u,create:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{duration:i=n.standard,easing:s=t.easeInOut,delay:u=0}=o;(0,r.A)(o,a);return(Array.isArray(e)?e:[e]).map((e=>`${e} ${"string"===typeof i?i:l(i)} ${s} ${"string"===typeof u?u:l(u)}`)).join(",")}},e,{easing:t,duration:n})}},4329:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var o=r(n(39)),a=n(579);t.A=(0,o.default)((0,a.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"}),"Save")},4334:(e,t,n)=>{var r=n(7359),o=n(7066),a=n(9016),i=n(9538),s=n(6288),l=n(5262),u=n(2430);u.alea=r,u.xor128=o,u.xorwow=a,u.xorshift7=i,u.xor4096=s,u.tychei=l,e.exports=u},4358:(e,t)=>{"use strict";const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,r=/^[\u0021-\u003A\u003C-\u007E]*$/,o=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,s=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function l(e,t,n){do{const n=e.charCodeAt(t);if(32!==n&&9!==n)return t}while(++t<n);return n}function u(e,t,n){for(;t>n;){const n=e.charCodeAt(--t);if(32!==n&&9!==n)return t+1}return n}function c(e){if(-1===e.indexOf("%"))return e;try{return decodeURIComponent(e)}catch(t){return e}}},4391:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(7004)},4416:(e,t,n)=>{var r=n(8902),o=n(5866),a=n(1558),i=n(8114),s=n(8182),l=n(2074);e.exports=function(e,t,n){var u=-1,c=o,d=e.length,p=!0,h=[],f=h;if(n)p=!1,c=a;else if(d>=200){var m=t?null:s(e);if(m)return l(m);p=!1,c=i,f=new r}else f=t?[]:h;e:for(;++u<d;){var g=e[u],y=t?t(g):g;if(g=n||0!==g?g:0,p&&y===y){for(var v=f.length;v--;)if(f[v]===y)continue e;t&&f.push(y),h.push(g)}else c(f,y,n)||(f!==h&&f.push(y),h.push(g))}return h}},4440:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(5043);const o="undefined"!==typeof window?r.useLayoutEffect:r.useEffect},4516:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(1052).A},4530:()=>{},4535:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>s});var r=n(8052),o=n(5170),a=n(3375),i=n(1475);const s=(0,r.Ay)({themeId:a.A,defaultTheme:o.A,rootShouldForwardProp:i.A})},4543:(e,t,n)=>{e=n.nmd(e);var r=n(6552),o=n(14),a=t&&!t.nodeType&&t,i=a&&e&&!e.nodeType&&e,s=i&&i.exports===a?r.Buffer:void 0,l=(s?s.isBuffer:void 0)||o;e.exports=l},4545:(e,t,n)=>{var r=n(7160);e.exports=function(){this.__data__=new r,this.size=0}},4552:(e,t,n)=>{var r=n(9812),o=Object.prototype,a=o.hasOwnProperty,i=o.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=a.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(l){}var o=i.call(e);return r&&(t?e[s]=n:delete e[s]),o}},4597:(e,t,n)=>{var r=n(2587),o=n(9096),a=n(2165),i=n(4052),s=n(929);e.exports=function(e,t,n){var l=i(e)?r:a;return n&&s(e,t,n)&&(t=void 0),l(e,o(t,3))}},4634:e=>{function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(null,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},4657:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},4664:(e,t,n)=>{var r=n(4258),o=n(8673);e.exports=function(e,t){return e&&r(e,t,o)}},4746:(e,t,n)=>{var r=n(5652);e.exports=function(e,t){var n=!0;return r(e,(function(e,r,o){return n=!!t(e,r,o)})),n}},4757:(e,t,n)=>{var r=n(6552);e.exports=function(){return r.Date.now()}},4802:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var o=r(n(39)),a=n(579);t.A=(0,o.default)((0,a.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close")},4816:(e,t,n)=>{var r=n(7251),o=n(7159),a=n(438),i=n(9394),s=n(6874);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=o,l.prototype.get=a,l.prototype.has=i,l.prototype.set=s,e.exports=l},4853:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(8587),o=n(8168);const a=["values","unit","step"],i=e=>{const t=Object.keys(e).map((t=>({key:t,val:e[t]})))||[];return t.sort(((e,t)=>e.val-t.val)),t.reduce(((e,t)=>(0,o.A)({},e,{[t.key]:t.val})),{})};function s(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:s=5}=e,l=(0,r.A)(e,a),u=i(t),c=Object.keys(u);function d(e){return`@media (min-width:${"number"===typeof t[e]?t[e]:e}${n})`}function p(e){return`@media (max-width:${("number"===typeof t[e]?t[e]:e)-s/100}${n})`}function h(e,r){const o=c.indexOf(r);return`@media (min-width:${"number"===typeof t[e]?t[e]:e}${n}) and (max-width:${(-1!==o&&"number"===typeof t[c[o]]?t[c[o]]:r)-s/100}${n})`}return(0,o.A)({keys:c,values:u,up:d,down:p,between:h,only:function(e){return c.indexOf(e)+1<c.length?h(e,c[c.indexOf(e)+1]):d(e)},not:function(e){const t=c.indexOf(e);return 0===t?d(c[1]):t===c.length-1?p(c[t]):h(e,c[c.indexOf(e)+1]).replace("@media","@media not all and")},unit:n},l)}},4893:e=>{e.exports=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n},e.exports.__esModule=!0,e.exports.default=e.exports},4914:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var o=r(n(39)),a=n(579);t.A=(0,o.default)((0,a.jsx)("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"}),"ContentCopy")},4983:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,o=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,i=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,f=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,v=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,x=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case c:case d:case a:case s:case i:case h:return e;default:switch(e=e&&e.$$typeof){case u:case p:case g:case m:case l:return e;default:return t}}case o:return t}}}function k(e){return w(e)===d}t.AsyncMode=c,t.ConcurrentMode=d,t.ContextConsumer=u,t.ContextProvider=l,t.Element=r,t.ForwardRef=p,t.Fragment=a,t.Lazy=g,t.Memo=m,t.Portal=o,t.Profiler=s,t.StrictMode=i,t.Suspense=h,t.isAsyncMode=function(e){return k(e)||w(e)===c},t.isConcurrentMode=k,t.isContextConsumer=function(e){return w(e)===u},t.isContextProvider=function(e){return w(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===p},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===g},t.isMemo=function(e){return w(e)===m},t.isPortal=function(e){return w(e)===o},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===i},t.isSuspense=function(e){return w(e)===h},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===d||e===s||e===i||e===h||e===f||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===u||e.$$typeof===p||e.$$typeof===v||e.$$typeof===b||e.$$typeof===x||e.$$typeof===y)},t.typeOf=w},4989:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A,private_createBreakpoints:()=>o.A,unstable_applyStyles:()=>a.A});var r=n(8280),o=n(4853),a=n(9703)},4994:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},5013:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(4440).A},5029:(e,t,n)=>{var r=n(6989),o=n(3097),a=n(3366),i=n(2597),s=n(9417),l=n(1310),u=n(914);e.exports=function(e,t){return i(e)&&s(t)?l(u(e),t):function(n){var i=o(n,e);return void 0===i&&i===t?a(n,e):r(t,i,3)}}},5043:(e,t,n)=>{"use strict";e.exports=n(4288)},5051:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},5134:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var o=r(n(39)),a=n(579);t.A=(0,o.default)((0,a.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m.88 15.76V19h-1.75v-1.29c-.74-.18-2.39-.77-3.02-2.96l1.65-.67c.06.22.58 2.09 2.4 2.09.93 0 1.98-.48 1.98-1.61 0-.96-.7-1.46-2.28-2.03-1.1-.39-3.35-1.03-3.35-3.31 0-.1.01-2.4 2.62-2.96V5h1.75v1.24c1.84.32 2.51 1.79 2.66 2.23l-1.58.67c-.11-.35-.59-1.34-1.9-1.34-.7 0-1.81.37-1.81 1.39 0 .95.86 1.31 2.64 1.9 2.4.83 3.01 2.05 3.01 3.45 0 2.63-2.5 3.13-3.02 3.22"}),"Paid")},5170:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(7344).A)()},5173:(e,t,n)=>{e.exports=n(1497)()},5193:(e,t,n)=>{var r=n(6913),o=n(2761);e.exports=function(e){return o(e)&&"[object Arguments]"==r(e)}},5204:(e,t,n)=>{var r=n(7937)(n(6552),"Map");e.exports=r},5262:function(e,t,n){var r;!function(e,o){function a(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,r=t.d,o=t.a;return e=e<<25^e>>>7^n,n=n-r|0,r=r<<24^r>>>8^o,o=o-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-r|0,t.d=r<<16^n>>>16^o,t.a=o-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var r=0;r<n.length+20;r++)t.b^=0|n.charCodeAt(r),t.next()}function i(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function s(e,t){var n=new a(e),r=t&&t.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},o.int32=n.next,o.quick=o,r&&("object"==typeof r&&i(r,n),o.state=function(){return i(n,{})}),o}o&&o.exports?o.exports=s:n.amdD&&n.amdO?void 0===(r=function(){return s}.call(t,n,t,o))||(o.exports=r):this.tychei=s}(0,e=n.nmd(e),n.amdD)},5268:(e,t,n)=>{var r=n(9160);e.exports=function(e){return r(e)&&e!=+e}},5295:(e,t,n)=>{var r=n(8189),o=n(6311),a=n(9115),i=n(1069);e.exports=function(e){return function(t){t=i(t);var n=o(t)?a(t):void 0,s=n?n[0]:t.charAt(0),l=n?r(n,1).join(""):t.slice(1);return s[e]()+l}}},5311:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var o=r(n(39)),a=n(579);t.A=(0,o.default)((0,a.jsx)("path",{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2m0 14H4v-6h16zm0-10H4V6h16z"}),"CreditCard")},5324:(e,t,n)=>{var r=n(4052),o=n(2597),a=n(4079),i=n(1069);e.exports=function(e,t){return r(e)?e:o(e,t)?[e]:a(i(e))}},5382:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var o=r(n(39)),a=n(579);t.A=(0,o.default)((0,a.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check")},5387:(e,t,n)=>{var r=n(7937)(n(6552),"Promise");e.exports=r},5428:(e,t,n)=>{var r=n(6913),o=n(6173),a=n(2761),i={};i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0,i["[object Arguments]"]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object Boolean]"]=i["[object DataView]"]=i["[object Date]"]=i["[object Error]"]=i["[object Function]"]=i["[object Map]"]=i["[object Number]"]=i["[object Object]"]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object WeakMap]"]=!1,e.exports=function(e){return a(e)&&o(e.length)&&!!i[r(e)]}},5538:(e,t,n)=>{var r=n(7160),o=n(4545),a=n(793),i=n(7760),s=n(3892),l=n(6788);function u(e){var t=this.__data__=new r(e);this.size=t.size}u.prototype.clear=o,u.prototype.delete=a,u.prototype.get=i,u.prototype.has=s,u.prototype.set=l,e.exports=u},5540:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var o=r(n(39)),a=n(579);t.A=(0,o.default)((0,a.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")},5575:(e,t,n)=>{var r=n(7937)(Object,"create");e.exports=r},5636:(e,t,n)=>{var r=n(1170),o=Math.max;e.exports=function(e,t,n){return t=o(void 0===t?e.length-1:t,0),function(){for(var a=arguments,i=-1,s=o(a.length-t,0),l=Array(s);++i<s;)l[i]=a[t+i];i=-1;for(var u=Array(t+1);++i<t;)u[i]=a[i];return u[t]=n(l),r(e,this,u)}}},5647:(e,t,n)=>{var r=n(3279),o=n(5636),a=n(6350);e.exports=function(e,t){return a(o(e,t,r),e+"")}},5652:(e,t,n)=>{var r=n(4664),o=n(6516)(r);e.exports=o},5654:(e,t,n)=>{var r=n(7937),o=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=o},5713:e=>{e.exports=function(){}},5752:(e,t,n)=>{var r=n(9395),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,a,i,s){var l=1&n,u=r(e),c=u.length;if(c!=r(t).length&&!l)return!1;for(var d=c;d--;){var p=u[d];if(!(l?p in t:o.call(t,p)))return!1}var h=s.get(e),f=s.get(t);if(h&&f)return h==t&&f==e;var m=!0;s.set(e,t),s.set(t,e);for(var g=l;++d<c;){var y=e[p=u[d]],v=t[p];if(a)var b=l?a(v,y,p,t,e,s):a(y,v,p,e,t,s);if(!(void 0===b?y===v||i(y,v,n,a,s):b)){m=!1;break}g||(g="constructor"==p)}if(m&&!g){var x=e.constructor,w=t.constructor;x==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof x&&x instanceof x&&"function"==typeof w&&w instanceof w||(m=!1)}return s.delete(e),s.delete(t),m}},5797:(e,t,n)=>{var r=n(4816);function o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],a=n.cache;if(a.has(o))return a.get(o);var i=e.apply(this,r);return n.cache=a.set(o,i)||a,i};return n.cache=new(o.Cache||r),n}o.Cache=r,e.exports=o},5816:e=>{e.exports=function(e,t,n,r){for(var o=e.length,a=n+(r?1:-1);r?a--:++a<o;)if(t(e[a],a,e))return a;return-1}},5817:()=>{},5844:(e,t,n)=>{"use strict";var r;n.d(t,{A:()=>s});var o=n(5043);let a=0;const i=(r||(r=n.t(o,2)))["useId".toString()];function s(e){if(void 0!==i){const t=i();return null!=e?e:t}return function(e){const[t,n]=o.useState(e),r=e||t;return o.useEffect((()=>{null==t&&(a+=1,n(`mui-${a}`))}),[t]),r}(e)}},5849:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(3462).A},5866:(e,t,n)=>{var r=n(8468);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},5879:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(5844).A},5893:(e,t,n)=>{var r=n(6599);e.exports=function(e,t,n){for(var o=-1,a=e.criteria,i=t.criteria,s=a.length,l=n.length;++o<s;){var u=r(a[o],i[o]);if(u)return o>=l?u:u*("desc"==n[o]?-1:1)}return e.index-t.index}},5896:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<a(o,t)))break e;e[r]=t,e[n]=o,n=r}}function r(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,i=o>>>1;r<i;){var s=2*(r+1)-1,l=e[s],u=s+1,c=e[u];if(0>a(l,n))u<o&&0>a(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[s]=n,r=s);else{if(!(u<o&&0>a(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],c=[],d=1,p=null,h=3,f=!1,m=!1,g=!1,y=!1,v="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(c);null!==t;){if(null===t.callback)o(c);else{if(!(t.startTime<=e))break;o(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function k(e){if(g=!1,w(e),!m)if(null!==r(u))m=!0,A||(A=!0,S());else{var t=r(c);null!==t&&D(k,t.startTime-e)}}var S,A=!1,C=-1,T=5,I=-1;function E(){return!!y||!(t.unstable_now()-I<T)}function N(){if(y=!1,A){var e=t.unstable_now();I=e;var n=!0;try{e:{m=!1,g&&(g=!1,b(C),C=-1),f=!0;var a=h;try{t:{for(w(e),p=r(u);null!==p&&!(p.expirationTime>e&&E());){var i=p.callback;if("function"===typeof i){p.callback=null,h=p.priorityLevel;var s=i(p.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof s){p.callback=s,w(e),n=!0;break t}p===r(u)&&o(u),w(e)}else o(u);p=r(u)}if(null!==p)n=!0;else{var l=r(c);null!==l&&D(k,l.startTime-e),n=!1}}break e}finally{p=null,h=a,f=!1}n=void 0}}finally{n?S():A=!1}}}if("function"===typeof x)S=function(){x(N)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,M=O.port2;O.port1.onmessage=N,S=function(){M.postMessage(null)}}else S=function(){v(N,0)};function D(e,n){C=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,o,a){var i=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?i+a:i:a=i,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:o,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>i?(e.sortIndex=a,n(c,e),null===r(u)&&e===r(c)&&(g?(b(C),C=-1):g=!0,D(k,a-i))):(e.sortIndex=s,n(u,e),m||f||(m=!0,A||(A=!0,S()))),e},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},5906:e=>{e.exports=function(e){return function(t,n,r){for(var o=-1,a=Object(t),i=r(t),s=i.length;s--;){var l=i[e?s:++o];if(!1===n(a[l],l,a))break}return t}}},5967:e=>{e.exports=function(e){return e.split("")}},5990:(e,t,n)=>{var r=n(3028)(Object.getPrototypeOf,Object);e.exports=r},6061:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var o=r(n(39)),a=n(579);t.A=(0,o.default)((0,a.jsx)("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2m-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"DragIndicator")},6078:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(3940).A},6095:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},6140:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},6173:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},6179:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},6288:function(e,t,n){var r;!function(e,o){function a(e){var t=this;t.next=function(){var e,n,r=t.w,o=t.X,a=t.i;return t.w=r=r+1640531527|0,n=o[a+34&127],e=o[a=a+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=o[a]=n^e,t.i=a,n+(r^r>>>16)|0},function(e,t){var n,r,o,a,i,s=[],l=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,l=Math.max(l,t.length)),o=0,a=-32;a<l;++a)t&&(r^=t.charCodeAt((a+32)%t.length)),0===a&&(i=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,a>=0&&(i=i+1640531527|0,o=0==(n=s[127&a]^=r+i)?o+1:0);for(o>=128&&(s[127&(t&&t.length||0)]=-1),o=127,a=512;a>0;--a)r=s[o+34&127],n=s[o=o+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,s[o]=r^n;e.w=i,e.X=s,e.i=o}(t,e)}function i(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function s(e,t){null==e&&(e=+new Date);var n=new a(e),r=t&&t.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},o.int32=n.next,o.quick=o,r&&(r.X&&i(r,n),o.state=function(){return i(n,{})}),o}o&&o.exports?o.exports=s:n.amdD&&n.amdO?void 0===(r=function(){return s}.call(t,n,t,o))||(o.exports=r):this.xor4096=s}(0,e=n.nmd(e),n.amdD)},6311:e=>{var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},6350:(e,t,n)=>{var r=n(8325),o=n(6578)(r);e.exports=o},6361:(e,t,n)=>{var r=n(6913),o=n(2761);e.exports=function(e){return!0===e||!1===e||o(e)&&"[object Boolean]"==r(e)}},6378:(e,t)=>{"use strict";var n,r=Symbol.for("react.element"),o=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen");function y(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case s:case i:case p:case h:return e;default:switch(e=e&&e.$$typeof){case c:case u:case d:case m:case f:case l:return e;default:return t}}case o:return t}}}n=Symbol.for("react.module.reference"),t.isFragment=function(e){return y(e)===a}},6399:(e,t,n)=>{var r=n(5538),o=n(3668),a=n(9987),i=n(5752),s=n(6924),l=n(4052),u=n(4543),c=n(1268),d="[object Arguments]",p="[object Array]",h="[object Object]",f=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,m,g,y){var v=l(e),b=l(t),x=v?p:s(e),w=b?p:s(t),k=(x=x==d?h:x)==h,S=(w=w==d?h:w)==h,A=x==w;if(A&&u(e)){if(!u(t))return!1;v=!0,k=!1}if(A&&!k)return y||(y=new r),v||c(e)?o(e,t,n,m,g,y):a(e,t,x,n,m,g,y);if(!(1&n)){var C=k&&f.call(e,"__wrapped__"),T=S&&f.call(t,"__wrapped__");if(C||T){var I=C?e.value():e,E=T?t.value():t;return y||(y=new r),g(I,E,n,m,y)}}return!!A&&(y||(y=new r),i(e,t,n,m,g,y))}},6431:(e,t,n)=>{"use strict";n.d(t,{b:()=>s});var r=n(5043),o=n(3030);n(579);const a=r.createContext(void 0);function i(e){let{props:t,name:n}=e;return function(e){const{theme:t,name:n,props:r}=e;if(!t||!t.components||!t.components[n])return r;const a=t.components[n];return a.defaultProps?(0,o.A)(a.defaultProps,r):a.styleOverrides||a.variants?r:(0,o.A)(a,r)}({props:t,name:n,theme:{components:r.useContext(a)}})}function s(e){return i(e)}},6502:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var o=r(n(39)),a=n(579);t.A=(0,o.default)((0,a.jsx)("path",{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}),"ArrowForward")},6516:(e,t,n)=>{var r=n(6571);e.exports=function(e,t){return function(n,o){if(null==n)return n;if(!r(n))return e(n,o);for(var a=n.length,i=t?a:-1,s=Object(n);(t?i--:++i<a)&&!1!==o(s[i],i,s););return n}}},6531:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A});var r=n(1188)},6532:(e,t,n)=>{var r=n(5538),o=n(6989);e.exports=function(e,t,n,a){var i=n.length,s=i,l=!a;if(null==e)return!s;for(e=Object(e);i--;){var u=n[i];if(l&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++i<s;){var c=(u=n[i])[0],d=e[c],p=u[1];if(l&&u[2]){if(void 0===d&&!(c in e))return!1}else{var h=new r;if(a)var f=a(d,p,c,e,t,h);if(!(void 0===f?o(p,d,3,a,h):f))return!1}}return!0}},6552:(e,t,n)=>{var r=n(7105),o="object"==typeof self&&self&&self.Object===Object&&self,a=r||o||Function("return this")();e.exports=a},6564:(e,t,n)=>{"use strict";function r(e,t){"function"===typeof e?e(t):e&&(e.current=t)}n.d(t,{A:()=>r})},6571:(e,t,n)=>{var r=n(1629),o=n(6173);e.exports=function(e){return null!=e&&o(e.length)&&!r(e)}},6578:e=>{var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var o=t(),a=16-(o-r);if(r=o,a>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},6593:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(2456).A},6598:(e,t,n)=>{"use strict";n.d(t,{J:()=>g});var r={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},o=n(918),a=!1,i=/[A-Z]|^ms/g,s=/_EMO_([^_]+?)_([^]*?)_EMO_/g,l=function(e){return 45===e.charCodeAt(1)},u=function(e){return null!=e&&"boolean"!==typeof e},c=(0,o.A)((function(e){return l(e)?e:e.replace(i,"-$&").toLowerCase()})),d=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(s,(function(e,t,n){return f={name:t,styles:n,next:f},t}))}return 1===r[e]||l(e)||"number"!==typeof t||0===t?t:t+"px"},p="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function h(e,t,n){if(null==n)return"";var r=n;if(void 0!==r.__emotion_styles)return r;switch(typeof n){case"boolean":return"";case"object":var o=n;if(1===o.anim)return f={name:o.name,styles:o.styles,next:f},o.name;var i=n;if(void 0!==i.styles){var s=i.next;if(void 0!==s)for(;void 0!==s;)f={name:s.name,styles:s.styles,next:f},s=s.next;return i.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var o=0;o<n.length;o++)r+=h(e,t,n[o])+";";else for(var i in n){var s=n[i];if("object"!==typeof s){var l=s;null!=t&&void 0!==t[l]?r+=i+"{"+t[l]+"}":u(l)&&(r+=c(i)+":"+d(i,l)+";")}else{if("NO_COMPONENT_SELECTOR"===i&&a)throw new Error(p);if(!Array.isArray(s)||"string"!==typeof s[0]||null!=t&&void 0!==t[s[0]]){var f=h(e,t,s);switch(i){case"animation":case"animationName":r+=c(i)+":"+f+";";break;default:r+=i+"{"+f+"}"}}else for(var m=0;m<s.length;m++)u(s[m])&&(r+=c(i)+":"+d(i,s[m])+";")}}return r}(e,t,n);case"function":if(void 0!==e){var l=f,m=n(e);return f=l,h(e,t,m)}}var g=n;if(null==t)return g;var y=t[g];return void 0!==y?y:g}var f,m=/label:\s*([^\s;{]+)\s*(;|$)/g;function g(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,o="";f=void 0;var a=e[0];null==a||void 0===a.raw?(r=!1,o+=h(n,t,a)):o+=a[0];for(var i=1;i<e.length;i++){if(o+=h(n,t,e[i]),r)o+=a[i]}m.lastIndex=0;for(var s,l="";null!==(s=m.exec(o));)l+="-"+s[1];var u=function(e){for(var t,n=0,r=0,o=e.length;o>=4;++r,o-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(o){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(o)+l;return{name:u,styles:o,next:f}}},6599:(e,t,n)=>{var r=n(9841);e.exports=function(e,t){if(e!==t){var n=void 0!==e,o=null===e,a=e===e,i=r(e),s=void 0!==t,l=null===t,u=t===t,c=r(t);if(!l&&!c&&!i&&e>t||i&&s&&u&&!l&&!c||o&&s&&u||!n&&u||!a)return 1;if(!o&&!i&&!c&&e<t||c&&n&&a&&!o&&!i||l&&n&&a||!s&&a||!u)return-1}return 0}},6600:(e,t,n)=>{var r=n(7937)(n(6552),"WeakMap");e.exports=r},6604:(e,t,n)=>{var r=n(3331)();e.exports=r},6672:(e,t,n)=>{"use strict";var r=n(5043);function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var i={d:{f:a,r:function(){throw Error(o(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},s=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(o(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:s,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=i.p;try{if(l.T=null,i.p=2,e)return e()}finally{l.T=t,i.p=n,i.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,i.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&i.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=u(n,t.crossOrigin),o="string"===typeof t.integrity?t.integrity:void 0,a="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?i.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:o,fetchPriority:a}):"script"===n&&i.d.X(e,{crossOrigin:r,integrity:o,fetchPriority:a,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=u(t.as,t.crossOrigin);i.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&i.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=u(n,t.crossOrigin);i.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=u(t.as,t.crossOrigin);i.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else i.d.m(e)},t.requestFormReset=function(e){i.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.1.0"},6686:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},6704:e=>{e.exports=function(e){return this.__data__.has(e)}},6723:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},r=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},o={p:r,P:function(e,t){var o,a=e.match(/(P+)(p+)?/)||[],i=a[1],s=a[2];if(!s)return n(e,t);switch(i){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;default:o=t.dateTime({width:"full"})}return o.replace("{{date}}",n(i,t)).replace("{{time}}",r(s,t))}};t.default=o,e.exports=t.default},6745:(e,t,n)=>{var r=n(9742),o=n(61),a=n(3279);e.exports=function(e){return e&&e.length?r(e,a,o):void 0}},6772:(e,t,n)=>{"use strict";n.r(t),n.d(t,{capitalize:()=>o.A,createChainedFunction:()=>a.A,createSvgIcon:()=>i.A,debounce:()=>s.A,deprecatedPropType:()=>l,isMuiElement:()=>u.A,ownerDocument:()=>c.A,ownerWindow:()=>d.A,requirePropFactory:()=>p,setRef:()=>h,unstable_ClassNameGenerator:()=>w,unstable_useEnhancedEffect:()=>f.A,unstable_useId:()=>m.A,unsupportedProp:()=>g,useControlled:()=>y.A,useEventCallback:()=>v.A,useForkRef:()=>b.A,useIsFocusVisible:()=>x.A});var r=n(9386),o=n(6803),a=n(6593),i=n(9662),s=n(950);const l=function(e,t){return()=>null};var u=n(7328),c=n(2427),d=n(6078);n(8168);const p=function(e,t){return()=>null};const h=n(6564).A;var f=n(5013),m=n(5879);const g=function(e,t,n,r,o){return null};var y=n(4516),v=n(3319),b=n(5849),x=n(7844);const w={configure:e=>{r.A.configure(e)}}},6788:(e,t,n)=>{var r=n(7160),o=n(5204),a=n(4816);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var i=n.__data__;if(!o||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new a(i)}return n.set(e,t),this.size=n.size,this}},6803:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(7598).A},6832:(e,t,n)=>{e=n.nmd(e);var r=n(7105),o=t&&!t.nodeType&&t,a=o&&e&&!e.nodeType&&e,i=a&&a.exports===o&&r.process,s=function(){try{var e=a&&a.require&&a.require("util").types;return e||i&&i.binding&&i.binding("util")}catch(t){}}();e.exports=s},6874:(e,t,n)=>{var r=n(2622);e.exports=function(e,t){var n=r(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}},6913:(e,t,n)=>{var r=n(9812),o=n(4552),a=n(6095),i=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":i&&i in Object(e)?o(e):a(e)}},6924:(e,t,n)=>{var r=n(7685),o=n(5204),a=n(5387),i=n(2070),s=n(6600),l=n(6913),u=n(6996),c="[object Map]",d="[object Promise]",p="[object Set]",h="[object WeakMap]",f="[object DataView]",m=u(r),g=u(o),y=u(a),v=u(i),b=u(s),x=l;(r&&x(new r(new ArrayBuffer(1)))!=f||o&&x(new o)!=c||a&&x(a.resolve())!=d||i&&x(new i)!=p||s&&x(new s)!=h)&&(x=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,r=n?u(n):"";if(r)switch(r){case m:return f;case g:return c;case y:return d;case v:return p;case b:return h}return t}),e.exports=x},6954:(e,t,n)=>{var r=n(1629),o=n(7857),a=n(6686),i=n(6996),s=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,c=l.toString,d=u.hasOwnProperty,p=RegExp("^"+c.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!a(e)||o(e))&&(r(e)?p:s).test(i(e))}},6989:(e,t,n)=>{var r=n(6399),o=n(2761);e.exports=function e(t,n,a,i,s){return t===n||(null==t||null==n||!o(t)&&!o(n)?t!==t&&n!==n:r(t,n,a,i,e,s))}},6996:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},7002:(e,t,n)=>{var r=n(7676),o=n(4746),a=n(9096),i=n(4052),s=n(929);e.exports=function(e,t,n){var l=i(e)?r:o;return n&&s(e,t,n)&&(t=void 0),l(e,a(t,3))}},7004:(e,t,n)=>{"use strict";var r=n(8853),o=n(5043),a=n(7950);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function u(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function c(e){if(l(e)!==e)throw Error(i(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var p=Object.assign,h=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),x=Symbol.for("react.consumer"),w=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),T=Symbol.for("react.lazy");Symbol.for("react.scope");var I=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var E=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var N=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=N&&e[N]||e["@@iterator"])?e:null}var M=Symbol.for("react.client.reference");function D(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===M?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case g:return"Fragment";case v:return"Profiler";case y:return"StrictMode";case S:return"Suspense";case A:return"SuspenseList";case I:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case m:return"Portal";case w:return(e.displayName||"Context")+".Provider";case x:return(e._context.displayName||"Context")+".Consumer";case k:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case C:return null!==(t=e.displayName||null)?t:D(e.type)||"Memo";case T:t=e._payload,e=e._init;try{return D(e(t))}catch(n){}}return null}var R=Array.isArray,P=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,j={pending:!1,data:null,method:null,action:null},_=[],F=-1;function L(e){return{current:e}}function z(e){0>F||(e.current=_[F],_[F]=null,F--)}function B(e,t){F++,_[F]=e.current,e.current=t}var W=L(null),V=L(null),U=L(null),H=L(null);function G(e,t){switch(B(U,t),B(V,e),B(W,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?od(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=ad(t=od(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}z(W),B(W,e)}function q(){z(W),z(V),z(U)}function K(e){null!==e.memoizedState&&B(H,e);var t=W.current,n=ad(t,e.type);t!==n&&(B(V,e),B(W,n))}function X(e){V.current===e&&(z(W),z(V)),H.current===e&&(z(H),Kd._currentValue=j)}var Y=Object.prototype.hasOwnProperty,Q=r.unstable_scheduleCallback,Z=r.unstable_cancelCallback,J=r.unstable_shouldYield,ee=r.unstable_requestPaint,te=r.unstable_now,ne=r.unstable_getCurrentPriorityLevel,re=r.unstable_ImmediatePriority,oe=r.unstable_UserBlockingPriority,ae=r.unstable_NormalPriority,ie=r.unstable_LowPriority,se=r.unstable_IdlePriority,le=r.log,ue=r.unstable_setDisableYieldValue,ce=null,de=null;function pe(e){if("function"===typeof le&&ue(e),de&&"function"===typeof de.setStrictMode)try{de.setStrictMode(ce,e)}catch(t){}}var he=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(fe(e)/me|0)|0},fe=Math.log,me=Math.LN2;var ge=256,ye=4194304;function ve(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function be(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var o=0,a=e.suspendedLanes,i=e.pingedLanes;e=e.warmLanes;var s=134217727&r;return 0!==s?0!==(r=s&~a)?o=ve(r):0!==(i&=s)?o=ve(i):n||0!==(n=s&~e)&&(o=ve(n)):0!==(s=r&~a)?o=ve(s):0!==i?o=ve(i):n||0!==(n=r&~e)&&(o=ve(n)),0===o?0:0!==t&&t!==o&&0===(t&a)&&((a=o&-o)>=(n=t&-t)||32===a&&0!==(4194048&n))?t:o}function xe(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function we(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ke(){var e=ge;return 0===(4194048&(ge<<=1))&&(ge=256),e}function Se(){var e=ye;return 0===(62914560&(ye<<=1))&&(ye=4194304),e}function Ae(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ce(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Te(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-he(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function Ie(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-he(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}function Ee(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ne(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Oe(){var e=$.p;return 0!==e?e:void 0===(e=window.event)?32:up(e.type)}var Me=Math.random().toString(36).slice(2),De="__reactFiber$"+Me,Re="__reactProps$"+Me,Pe="__reactContainer$"+Me,$e="__reactEvents$"+Me,je="__reactListeners$"+Me,_e="__reactHandles$"+Me,Fe="__reactResources$"+Me,Le="__reactMarker$"+Me;function ze(e){delete e[De],delete e[Re],delete e[$e],delete e[je],delete e[_e]}function Be(e){var t=e[De];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Pe]||n[De]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=bd(e);null!==e;){if(n=e[De])return n;e=bd(e)}return t}n=(e=n).parentNode}return null}function We(e){if(e=e[De]||e[Pe]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function Ve(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(i(33))}function Ue(e){var t=e[Fe];return t||(t=e[Fe]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function He(e){e[Le]=!0}var Ge=new Set,qe={};function Ke(e,t){Xe(e,t),Xe(e+"Capture",t)}function Xe(e,t){for(qe[e]=t,e=0;e<t.length;e++)Ge.add(t[e])}var Ye,Qe,Ze=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Je={},et={};function tt(e,t,n){if(o=t,Y.call(et,o)||!Y.call(Je,o)&&(Ze.test(o)?et[o]=!0:(Je[o]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var o}function nt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function rt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function ot(e){if(void 0===Ye)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ye=t&&t[1]||"",Qe=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Ye+e+Qe}var at=!1;function it(e,t){if(!e||at)return"";at=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(o){var r=o}Reflect.construct(e,[],n)}else{try{n.call()}catch(a){r=a}e.call(n.prototype)}}else{try{throw Error()}catch(i){r=i}(n=e())&&"function"===typeof n.catch&&n.catch((function(){}))}}catch(s){if(s&&r&&"string"===typeof s.stack)return[s.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=r.DetermineComponentFrameRoot(),i=a[0],s=a[1];if(i&&s){var l=i.split("\n"),u=s.split("\n");for(o=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;o<u.length&&!u[o].includes("DetermineComponentFrameRoot");)o++;if(r===l.length||o===u.length)for(r=l.length-1,o=u.length-1;1<=r&&0<=o&&l[r]!==u[o];)o--;for(;1<=r&&0<=o;r--,o--)if(l[r]!==u[o]){if(1!==r||1!==o)do{if(r--,0>--o||l[r]!==u[o]){var c="\n"+l[r].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=r&&0<=o);break}}}finally{at=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?ot(n):""}function st(e){switch(e.tag){case 26:case 27:case 5:return ot(e.type);case 16:return ot("Lazy");case 13:return ot("Suspense");case 19:return ot("SuspenseList");case 0:case 15:return it(e.type,!1);case 11:return it(e.type.render,!1);case 1:return it(e.type,!0);case 31:return ot("Activity");default:return""}}function lt(e){try{var t="";do{t+=st(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function ut(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ct(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ct(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var o=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function pt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ct(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ht(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var ft=/[\n"\\]/g;function mt(e){return e.replace(ft,(function(e){return"\\"+e.charCodeAt(0).toString(16)+" "}))}function gt(e,t,n,r,o,a,i,s){e.name="",null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i?e.type=i:e.removeAttribute("type"),null!=t?"number"===i?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ut(t)):e.value!==""+ut(t)&&(e.value=""+ut(t)):"submit"!==i&&"reset"!==i||e.removeAttribute("value"),null!=t?vt(e,i,ut(t)):null!=n?vt(e,i,ut(n)):null!=r&&e.removeAttribute("value"),null==o&&null!=a&&(e.defaultChecked=!!a),null!=o&&(e.checked=o&&"function"!==typeof o&&"symbol"!==typeof o),null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.name=""+ut(s):e.removeAttribute("name")}function yt(e,t,n,r,o,a,i,s){if(null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.type=a),null!=t||null!=n){if(!("submit"!==a&&"reset"!==a||void 0!==t&&null!==t))return;n=null!=n?""+ut(n):"",t=null!=t?""+ut(t):n,s||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:o)&&"symbol"!==typeof r&&!!r,e.checked=s?e.checked:!!r,e.defaultChecked=!!r,null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i&&(e.name=i)}function vt(e,t,n){"number"===t&&ht(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function bt(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ut(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function xt(e,t,n){null==t||((t=""+ut(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ut(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function wt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(i(92));if(R(r)){if(1<r.length)throw Error(i(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ut(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function kt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var St=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function At(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||St.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Ct(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(i(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var o in t)r=t[o],t.hasOwnProperty(o)&&n[o]!==r&&At(e,o,r)}else for(var a in t)t.hasOwnProperty(a)&&At(e,a,t[a])}function Tt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var It=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Et=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Nt(e){return Et.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Ot=null;function Mt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Dt=null,Rt=null;function Pt(e){var t=We(e);if(t&&(e=t.stateNode)){var n=e[Re]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+mt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=r[Re]||null;if(!o)throw Error(i(90));gt(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&pt(r)}break e;case"textarea":xt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&bt(e,!!n.multiple,t,!1)}}}var $t=!1;function jt(e,t,n){if($t)return e(t,n);$t=!0;try{return e(t)}finally{if($t=!1,(null!==Dt||null!==Rt)&&(Bu(),Dt&&(t=Dt,e=Rt,Rt=Dt=null,Pt(t),e)))for(t=0;t<e.length;t++)Pt(e[t])}}function _t(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Re]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Ft=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Lt=!1;if(Ft)try{var zt={};Object.defineProperty(zt,"passive",{get:function(){Lt=!0}}),window.addEventListener("test",zt,zt),window.removeEventListener("test",zt,zt)}catch(Rp){Lt=!1}var Bt=null,Wt=null,Vt=null;function Ut(){if(Vt)return Vt;var e,t,n=Wt,r=n.length,o="value"in Bt?Bt.value:Bt.textContent,a=o.length;for(e=0;e<r&&n[e]===o[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===o[a-t];t++);return Vt=o.slice(e,1<t?1-t:void 0)}function Ht(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Gt(){return!0}function qt(){return!1}function Kt(e){function t(t,n,r,o,a){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(o):o[i]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?Gt:qt,this.isPropagationStopped=qt,this}return p(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Gt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Gt)},persist:function(){},isPersistent:Gt}),t}var Xt,Yt,Qt,Zt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jt=Kt(Zt),en=p({},Zt,{view:0,detail:0}),tn=Kt(en),nn=p({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qt&&(Qt&&"mousemove"===e.type?(Xt=e.screenX-Qt.screenX,Yt=e.screenY-Qt.screenY):Yt=Xt=0,Qt=e),Xt)},movementY:function(e){return"movementY"in e?e.movementY:Yt}}),rn=Kt(nn),on=Kt(p({},nn,{dataTransfer:0})),an=Kt(p({},en,{relatedTarget:0})),sn=Kt(p({},Zt,{animationName:0,elapsedTime:0,pseudoElement:0})),ln=Kt(p({},Zt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),un=Kt(p({},Zt,{data:0})),cn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=pn[e])&&!!t[e]}function fn(){return hn}var mn=Kt(p({},en,{key:function(e){if(e.key){var t=cn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Ht(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?dn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fn,charCode:function(e){return"keypress"===e.type?Ht(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Ht(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),gn=Kt(p({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),yn=Kt(p({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fn})),vn=Kt(p({},Zt,{propertyName:0,elapsedTime:0,pseudoElement:0})),bn=Kt(p({},nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),xn=Kt(p({},Zt,{newState:0,oldState:0})),wn=[9,13,27,32],kn=Ft&&"CompositionEvent"in window,Sn=null;Ft&&"documentMode"in document&&(Sn=document.documentMode);var An=Ft&&"TextEvent"in window&&!Sn,Cn=Ft&&(!kn||Sn&&8<Sn&&11>=Sn),Tn=String.fromCharCode(32),In=!1;function En(e,t){switch(e){case"keyup":return-1!==wn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var On=!1;var Mn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Mn[e.type]:"textarea"===t}function Rn(e,t,n,r){Dt?Rt?Rt.push(r):Rt=[r]:Dt=r,0<(t=Uc(t,"onChange")).length&&(n=new Jt("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Pn=null,$n=null;function jn(e){jc(e,0)}function _n(e){if(pt(Ve(e)))return e}function Fn(e,t){if("change"===e)return t}var Ln=!1;if(Ft){var zn;if(Ft){var Bn="oninput"in document;if(!Bn){var Wn=document.createElement("div");Wn.setAttribute("oninput","return;"),Bn="function"===typeof Wn.oninput}zn=Bn}else zn=!1;Ln=zn&&(!document.documentMode||9<document.documentMode)}function Vn(){Pn&&(Pn.detachEvent("onpropertychange",Un),$n=Pn=null)}function Un(e){if("value"===e.propertyName&&_n($n)){var t=[];Rn(t,$n,e,Mt(e)),jt(jn,t)}}function Hn(e,t,n){"focusin"===e?(Vn(),$n=n,(Pn=t).attachEvent("onpropertychange",Un)):"focusout"===e&&Vn()}function Gn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return _n($n)}function qn(e,t){if("click"===e)return _n(t)}function Kn(e,t){if("input"===e||"change"===e)return _n(t)}var Xn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Yn(e,t){if(Xn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Y.call(t,o)||!Xn(e[o],t[o]))return!1}return!0}function Qn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Zn(e,t){var n,r=Qn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Qn(r)}}function Jn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Jn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function er(e){for(var t=ht((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=ht((e=t.contentWindow).document)}return t}function tr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var nr=Ft&&"documentMode"in document&&11>=document.documentMode,rr=null,or=null,ar=null,ir=!1;function sr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ir||null==rr||rr!==ht(r)||("selectionStart"in(r=rr)&&tr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},ar&&Yn(ar,r)||(ar=r,0<(r=Uc(or,"onSelect")).length&&(t=new Jt("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function lr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ur={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},cr={},dr={};function pr(e){if(cr[e])return cr[e];if(!ur[e])return e;var t,n=ur[e];for(t in n)if(n.hasOwnProperty(t)&&t in dr)return cr[e]=n[t];return e}Ft&&(dr=document.createElement("div").style,"AnimationEvent"in window||(delete ur.animationend.animation,delete ur.animationiteration.animation,delete ur.animationstart.animation),"TransitionEvent"in window||delete ur.transitionend.transition);var hr=pr("animationend"),fr=pr("animationiteration"),mr=pr("animationstart"),gr=pr("transitionrun"),yr=pr("transitionstart"),vr=pr("transitioncancel"),br=pr("transitionend"),xr=new Map,wr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kr(e,t){xr.set(e,t),Ke(t,[e])}wr.push("scrollEnd");var Sr=new WeakMap;function Ar(e,t){if("object"===typeof e&&null!==e){var n=Sr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:lt(t)},Sr.set(e,t),t)}return{value:e,source:t,stack:lt(t)}}var Cr=[],Tr=0,Ir=0;function Er(){for(var e=Tr,t=Ir=Tr=0;t<e;){var n=Cr[t];Cr[t++]=null;var r=Cr[t];Cr[t++]=null;var o=Cr[t];Cr[t++]=null;var a=Cr[t];if(Cr[t++]=null,null!==r&&null!==o){var i=r.pending;null===i?o.next=o:(o.next=i.next,i.next=o),r.pending=o}0!==a&&Dr(n,o,a)}}function Nr(e,t,n,r){Cr[Tr++]=e,Cr[Tr++]=t,Cr[Tr++]=n,Cr[Tr++]=r,Ir|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Or(e,t,n,r){return Nr(e,t,n,r),Rr(e)}function Mr(e,t){return Nr(e,null,null,t),Rr(e)}function Dr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var o=!1,a=e.return;null!==a;)a.childLanes|=n,null!==(r=a.alternate)&&(r.childLanes|=n),22===a.tag&&(null===(e=a.stateNode)||1&e._visibility||(o=!0)),e=a,a=a.return;return 3===e.tag?(a=e.stateNode,o&&null!==t&&(o=31-he(n),null===(r=(e=a.hiddenUpdates)[o])?e[o]=[t]:r.push(t),t.lane=536870912|n),a):null}function Rr(e){if(50<Du)throw Du=0,Ru=null,Error(i(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Pr={};function $r(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jr(e,t,n,r){return new $r(e,t,n,r)}function _r(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Fr(e,t){var n=e.alternate;return null===n?((n=jr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Lr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function zr(e,t,n,r,o,a){var s=0;if(r=e,"function"===typeof e)_r(e)&&(s=1);else if("string"===typeof e)s=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,W.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case I:return(e=jr(31,n,t,o)).elementType=I,e.lanes=a,e;case g:return Br(n.children,o,a,t);case y:s=8,o|=24;break;case v:return(e=jr(12,n,t,2|o)).elementType=v,e.lanes=a,e;case S:return(e=jr(13,n,t,o)).elementType=S,e.lanes=a,e;case A:return(e=jr(19,n,t,o)).elementType=A,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case b:case w:s=10;break e;case x:s=9;break e;case k:s=11;break e;case C:s=14;break e;case T:s=16,r=null;break e}s=29,n=Error(i(130,null===e?"null":typeof e,"")),r=null}return(t=jr(s,n,t,o)).elementType=e,t.type=r,t.lanes=a,t}function Br(e,t,n,r){return(e=jr(7,e,r,t)).lanes=n,e}function Wr(e,t,n){return(e=jr(6,e,null,t)).lanes=n,e}function Vr(e,t,n){return(t=jr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ur=[],Hr=0,Gr=null,qr=0,Kr=[],Xr=0,Yr=null,Qr=1,Zr="";function Jr(e,t){Ur[Hr++]=qr,Ur[Hr++]=Gr,Gr=e,qr=t}function eo(e,t,n){Kr[Xr++]=Qr,Kr[Xr++]=Zr,Kr[Xr++]=Yr,Yr=e;var r=Qr;e=Zr;var o=32-he(r)-1;r&=~(1<<o),n+=1;var a=32-he(t)+o;if(30<a){var i=o-o%5;a=(r&(1<<i)-1).toString(32),r>>=i,o-=i,Qr=1<<32-he(t)+o|n<<o|r,Zr=a+e}else Qr=1<<a|n<<o|r,Zr=e}function to(e){null!==e.return&&(Jr(e,1),eo(e,1,0))}function no(e){for(;e===Gr;)Gr=Ur[--Hr],Ur[Hr]=null,qr=Ur[--Hr],Ur[Hr]=null;for(;e===Yr;)Yr=Kr[--Xr],Kr[Xr]=null,Zr=Kr[--Xr],Kr[Xr]=null,Qr=Kr[--Xr],Kr[Xr]=null}var ro=null,oo=null,ao=!1,io=null,so=!1,lo=Error(i(519));function uo(e){throw go(Ar(Error(i(418,"")),e)),lo}function co(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[De]=e,t[Re]=r,n){case"dialog":_c("cancel",t),_c("close",t);break;case"iframe":case"object":case"embed":_c("load",t);break;case"video":case"audio":for(n=0;n<Pc.length;n++)_c(Pc[n],t);break;case"source":_c("error",t);break;case"img":case"image":case"link":_c("error",t),_c("load",t);break;case"details":_c("toggle",t);break;case"input":_c("invalid",t),yt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),dt(t);break;case"select":_c("invalid",t);break;case"textarea":_c("invalid",t),wt(t,r.value,r.defaultValue,r.children),dt(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Yc(t.textContent,n)?(null!=r.popover&&(_c("beforetoggle",t),_c("toggle",t)),null!=r.onScroll&&_c("scroll",t),null!=r.onScrollEnd&&_c("scrollend",t),null!=r.onClick&&(t.onclick=Qc),t=!0):t=!1,t||uo(e)}function po(e){for(ro=e.return;ro;)switch(ro.tag){case 5:case 13:return void(so=!1);case 27:case 3:return void(so=!0);default:ro=ro.return}}function ho(e){if(e!==ro)return!1;if(!ao)return po(e),ao=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||id(e.type,e.memoizedProps)),t=!t),t&&oo&&uo(e),po(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){oo=yd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}oo=null}}else 27===n?(n=oo,hd(e.type)?(e=vd,vd=null,oo=e):oo=n):oo=ro?yd(e.stateNode.nextSibling):null;return!0}function fo(){oo=ro=null,ao=!1}function mo(){var e=io;return null!==e&&(null===bu?bu=e:bu.push.apply(bu,e),io=null),e}function go(e){null===io?io=[e]:io.push(e)}var yo=L(null),vo=null,bo=null;function xo(e,t,n){B(yo,t._currentValue),t._currentValue=n}function wo(e){e._currentValue=yo.current,z(yo)}function ko(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function So(e,t,n,r){var o=e.child;for(null!==o&&(o.return=e);null!==o;){var a=o.dependencies;if(null!==a){var s=o.child;a=a.firstContext;e:for(;null!==a;){var l=a;a=o;for(var u=0;u<t.length;u++)if(l.context===t[u]){a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),ko(a.return,n,e),r||(s=null);break e}a=l.next}}else if(18===o.tag){if(null===(s=o.return))throw Error(i(341));s.lanes|=n,null!==(a=s.alternate)&&(a.lanes|=n),ko(s,n,e),s=null}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===e){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}}function Ao(e,t,n,r){e=null;for(var o=t,a=!1;null!==o;){if(!a)if(0!==(524288&o.flags))a=!0;else if(0!==(262144&o.flags))break;if(10===o.tag){var s=o.alternate;if(null===s)throw Error(i(387));if(null!==(s=s.memoizedProps)){var l=o.type;Xn(o.pendingProps.value,s.value)||(null!==e?e.push(l):e=[l])}}else if(o===H.current){if(null===(s=o.alternate))throw Error(i(387));s.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(null!==e?e.push(Kd):e=[Kd])}o=o.return}null!==e&&So(t,e,n,r),t.flags|=262144}function Co(e){for(e=e.firstContext;null!==e;){if(!Xn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function To(e){vo=e,bo=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Io(e){return No(vo,e)}function Eo(e,t){return null===vo&&To(e),No(e,t)}function No(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===bo){if(null===e)throw Error(i(308));bo=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else bo=bo.next=t;return n}var Oo="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach((function(e){return e()}))}},Mo=r.unstable_scheduleCallback,Do=r.unstable_NormalPriority,Ro={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Po(){return{controller:new Oo,data:new Map,refCount:0}}function $o(e){e.refCount--,0===e.refCount&&Mo(Do,(function(){e.controller.abort()}))}var jo=null,_o=0,Fo=0,Lo=null;function zo(){if(0===--_o&&null!==jo){null!==Lo&&(Lo.status="fulfilled");var e=jo;jo=null,Fo=0,Lo=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Bo=P.S;P.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===jo){var n=jo=[];_o=0,Fo=Nc(),Lo={status:"pending",value:void 0,then:function(e){n.push(e)}}}_o++,t.then(zo,zo)}(0,t),null!==Bo&&Bo(e,t)};var Wo=L(null);function Vo(){var e=Wo.current;return null!==e?e:ru.pooledCache}function Uo(e,t){B(Wo,null===t?Wo.current:t.pool)}function Ho(){var e=Vo();return null===e?null:{parent:Ro._currentValue,pool:e}}var Go=Error(i(460)),qo=Error(i(474)),Ko=Error(i(542)),Xo={then:function(){}};function Yo(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Qo(){}function Zo(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Qo,Qo),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw ta(e=t.reason),e;default:if("string"===typeof t.status)t.then(Qo,Qo);else{if(null!==(e=ru)&&100<e.shellSuspendCounter)throw Error(i(482));(e=t).status="pending",e.then((function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}}),(function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}}))}switch(t.status){case"fulfilled":return t.value;case"rejected":throw ta(e=t.reason),e}throw Jo=t,Go}}var Jo=null;function ea(){if(null===Jo)throw Error(i(459));var e=Jo;return Jo=null,e}function ta(e){if(e===Go||e===Ko)throw Error(i(483))}var na=!1;function ra(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function oa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function aa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ia(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&nu)){var o=r.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),r.pending=t,t=Rr(e),Dr(e,null,n),t}return Nr(e,r,t,n),Rr(e)}function sa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ie(e,n)}}function la(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var i={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===a?o=a=i:a=a.next=i,n=n.next}while(null!==n);null===a?o=a=t:a=a.next=t}else o=a=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var ua=!1;function ca(){if(ua){if(null!==Lo)throw Lo}}function da(e,t,n,r){ua=!1;var o=e.updateQueue;na=!1;var a=o.firstBaseUpdate,i=o.lastBaseUpdate,s=o.shared.pending;if(null!==s){o.shared.pending=null;var l=s,u=l.next;l.next=null,null===i?a=u:i.next=u,i=l;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==i&&(null===s?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(null!==a){var d=o.baseState;for(i=0,c=u=l=null,s=a;;){var h=-536870913&s.lane,f=h!==s.lane;if(f?(au&h)===h:(r&h)===h){0!==h&&h===Fo&&(ua=!0),null!==c&&(c=c.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var m=e,g=s;h=t;var y=n;switch(g.tag){case 1:if("function"===typeof(m=g.payload)){d=m.call(y,d,h);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(h="function"===typeof(m=g.payload)?m.call(y,d,h):m)||void 0===h)break e;d=p({},d,h);break e;case 2:na=!0}}null!==(h=s.callback)&&(e.flags|=64,f&&(e.flags|=8192),null===(f=o.callbacks)?o.callbacks=[h]:f.push(h))}else f={lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(u=c=f,l=d):c=c.next=f,i|=h;if(null===(s=s.next)){if(null===(s=o.shared.pending))break;s=(f=s).next,f.next=null,o.lastBaseUpdate=f,o.shared.pending=null}}null===c&&(l=d),o.baseState=l,o.firstBaseUpdate=u,o.lastBaseUpdate=c,null===a&&(o.shared.lanes=0),hu|=i,e.lanes=i,e.memoizedState=d}}function pa(e,t){if("function"!==typeof e)throw Error(i(191,e));e.call(t)}function ha(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)pa(n[e],t)}var fa=L(null),ma=L(0);function ga(e,t){B(ma,e=du),B(fa,t),du=e|t.baseLanes}function ya(){B(ma,du),B(fa,fa.current)}function va(){du=ma.current,z(fa),z(ma)}var ba=0,xa=null,wa=null,ka=null,Sa=!1,Aa=!1,Ca=!1,Ta=0,Ia=0,Ea=null,Na=0;function Oa(){throw Error(i(321))}function Ma(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Xn(e[n],t[n]))return!1;return!0}function Da(e,t,n,r,o,a){return ba=a,xa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,P.H=null===e||null===e.memoizedState?Gi:qi,Ca=!1,a=n(r,o),Ca=!1,Aa&&(a=Pa(t,n,r,o)),Ra(e),a}function Ra(e){P.H=Hi;var t=null!==wa&&null!==wa.next;if(ba=0,ka=wa=xa=null,Sa=!1,Ia=0,Ea=null,t)throw Error(i(300));null===e||Is||null!==(e=e.dependencies)&&Co(e)&&(Is=!0)}function Pa(e,t,n,r){xa=e;var o=0;do{if(Aa&&(Ea=null),Ia=0,Aa=!1,25<=o)throw Error(i(301));if(o+=1,ka=wa=null,null!=e.updateQueue){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,null!=a.memoCache&&(a.memoCache.index=0)}P.H=Ki,a=t(n,r)}while(Aa);return a}function $a(){var e=P.H,t=e.useState()[0];return t="function"===typeof t.then?Ba(t):t,e=e.useState()[0],(null!==wa?wa.memoizedState:null)!==e&&(xa.flags|=1024),t}function ja(){var e=0!==Ta;return Ta=0,e}function _a(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Fa(e){if(Sa){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Sa=!1}ba=0,ka=wa=xa=null,Aa=!1,Ia=Ta=0,Ea=null}function La(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ka?xa.memoizedState=ka=e:ka=ka.next=e,ka}function za(){if(null===wa){var e=xa.alternate;e=null!==e?e.memoizedState:null}else e=wa.next;var t=null===ka?xa.memoizedState:ka.next;if(null!==t)ka=t,wa=e;else{if(null===e){if(null===xa.alternate)throw Error(i(467));throw Error(i(310))}e={memoizedState:(wa=e).memoizedState,baseState:wa.baseState,baseQueue:wa.baseQueue,queue:wa.queue,next:null},null===ka?xa.memoizedState=ka=e:ka=ka.next=e}return ka}function Ba(e){var t=Ia;return Ia+=1,null===Ea&&(Ea=[]),e=Zo(Ea,e,t),t=xa,null===(null===ka?t.memoizedState:ka.next)&&(t=t.alternate,P.H=null===t||null===t.memoizedState?Gi:qi),e}function Wa(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return Ba(e);if(e.$$typeof===w)return Io(e)}throw Error(i(438,String(e)))}function Va(e){var t=null,n=xa.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=xa.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map((function(e){return e.slice()})),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},xa.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=E;return t.index++,n}function Ua(e,t){return"function"===typeof t?t(e):t}function Ha(e){return Ga(za(),wa,e)}function Ga(e,t,n){var r=e.queue;if(null===r)throw Error(i(311));r.lastRenderedReducer=n;var o=e.baseQueue,a=r.pending;if(null!==a){if(null!==o){var s=o.next;o.next=a.next,a.next=s}t.baseQueue=o=a,r.pending=null}if(a=e.baseState,null===o)e.memoizedState=a;else{var l=s=null,u=null,c=t=o.next,d=!1;do{var p=-536870913&c.lane;if(p!==c.lane?(au&p)===p:(ba&p)===p){var h=c.revertLane;if(0===h)null!==u&&(u=u.next={lane:0,revertLane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),p===Fo&&(d=!0);else{if((ba&h)===h){c=c.next,h===Fo&&(d=!0);continue}p={lane:0,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===u?(l=u=p,s=a):u=u.next=p,xa.lanes|=h,hu|=h}p=c.action,Ca&&n(a,p),a=c.hasEagerState?c.eagerState:n(a,p)}else h={lane:p,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===u?(l=u=h,s=a):u=u.next=h,xa.lanes|=p,hu|=p;c=c.next}while(null!==c&&c!==t);if(null===u?s=a:u.next=l,!Xn(a,e.memoizedState)&&(Is=!0,d&&null!==(n=Lo)))throw n;e.memoizedState=a,e.baseState=s,e.baseQueue=u,r.lastRenderedState=a}return null===o&&(r.lanes=0),[e.memoizedState,r.dispatch]}function qa(e){var t=za(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,a=t.memoizedState;if(null!==o){n.pending=null;var s=o=o.next;do{a=e(a,s.action),s=s.next}while(s!==o);Xn(a,t.memoizedState)||(Is=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Ka(e,t,n){var r=xa,o=za(),a=ao;if(a){if(void 0===n)throw Error(i(407));n=n()}else n=t();var s=!Xn((wa||o).memoizedState,n);if(s&&(o.memoizedState=n,Is=!0),o=o.queue,yi(2048,8,Qa.bind(null,r,o,e),[e]),o.getSnapshot!==t||s||null!==ka&&1&ka.memoizedState.tag){if(r.flags|=2048,fi(9,{destroy:void 0,resource:void 0},Ya.bind(null,r,o,n,t),null),null===ru)throw Error(i(349));a||0!==(124&ba)||Xa(r,t,n)}return n}function Xa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=xa.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},xa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ya(e,t,n,r){t.value=n,t.getSnapshot=r,Za(t)&&Ja(e)}function Qa(e,t,n){return n((function(){Za(t)&&Ja(e)}))}function Za(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Xn(e,n)}catch(r){return!0}}function Ja(e){var t=Mr(e,2);null!==t&&ju(t,e,2)}function ei(e){var t=La();if("function"===typeof e){var n=e;if(e=n(),Ca){pe(!0);try{n()}finally{pe(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ua,lastRenderedState:e},t}function ti(e,t,n,r){return e.baseState=n,Ga(e,wa,"function"===typeof r?r:Ua)}function ni(e,t,n,r,o){if(Wi(e))throw Error(i(485));if(null!==(e=t.action)){var a={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){a.listeners.push(e)}};null!==P.T?n(!0):a.isTransition=!1,r(a),null===(n=t.pending)?(a.next=t.pending=a,ri(t,a)):(a.next=n.next,t.pending=n.next=a)}}function ri(e,t){var n=t.action,r=t.payload,o=e.state;if(t.isTransition){var a=P.T,i={};P.T=i;try{var s=n(o,r),l=P.S;null!==l&&l(i,s),oi(e,t,s)}catch(u){ii(e,t,u)}finally{P.T=a}}else try{oi(e,t,a=n(o,r))}catch(c){ii(e,t,c)}}function oi(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then((function(n){ai(e,t,n)}),(function(n){return ii(e,t,n)})):ai(e,t,n)}function ai(e,t,n){t.status="fulfilled",t.value=n,si(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,ri(e,n)))}function ii(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,si(t),t=t.next}while(t!==r)}e.action=null}function si(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function li(e,t){return t}function ui(e,t){if(ao){var n=ru.formState;if(null!==n){e:{var r=xa;if(ao){if(oo){t:{for(var o=oo,a=so;8!==o.nodeType;){if(!a){o=null;break t}if(null===(o=yd(o.nextSibling))){o=null;break t}}o="F!"===(a=o.data)||"F"===a?o:null}if(o){oo=yd(o.nextSibling),r="F!"===o.data;break e}}uo(r)}r=!1}r&&(t=n[0])}}return(n=La()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:li,lastRenderedState:t},n.queue=r,n=Li.bind(null,xa,r),r.dispatch=n,r=ei(!1),a=Bi.bind(null,xa,!1,r.queue),o={state:t,dispatch:null,action:e,pending:null},(r=La()).queue=o,n=ni.bind(null,xa,o,a,n),o.dispatch=n,r.memoizedState=e,[t,n,!1]}function ci(e){return di(za(),wa,e)}function di(e,t,n){if(t=Ga(e,t,li)[0],e=Ha(Ua)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=Ba(t)}catch(i){if(i===Go)throw Ko;throw i}else r=t;var o=(t=za()).queue,a=o.dispatch;return n!==t.memoizedState&&(xa.flags|=2048,fi(9,{destroy:void 0,resource:void 0},pi.bind(null,o,n),null)),[r,a,e]}function pi(e,t){e.action=t}function hi(e){var t=za(),n=wa;if(null!==n)return di(t,n,e);za(),t=t.memoizedState;var r=(n=za()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function fi(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=xa.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},xa.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function mi(){return za().memoizedState}function gi(e,t,n,r){var o=La();r=void 0===r?null:r,xa.flags|=e,o.memoizedState=fi(1|t,{destroy:void 0,resource:void 0},n,r)}function yi(e,t,n,r){var o=za();r=void 0===r?null:r;var a=o.memoizedState.inst;null!==wa&&null!==r&&Ma(r,wa.memoizedState.deps)?o.memoizedState=fi(t,a,n,r):(xa.flags|=e,o.memoizedState=fi(1|t,a,n,r))}function vi(e,t){gi(8390656,8,e,t)}function bi(e,t){yi(2048,8,e,t)}function xi(e,t){return yi(4,2,e,t)}function wi(e,t){return yi(4,4,e,t)}function ki(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Si(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,yi(4,4,ki.bind(null,t,e),n)}function Ai(){}function Ci(e,t){var n=za();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Ma(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ti(e,t){var n=za();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Ma(t,r[1]))return r[0];if(r=e(),Ca){pe(!0);try{e()}finally{pe(!1)}}return n.memoizedState=[r,t],r}function Ii(e,t,n){return void 0===n||0!==(1073741824&ba)?e.memoizedState=t:(e.memoizedState=n,e=$u(),xa.lanes|=e,hu|=e,n)}function Ei(e,t,n,r){return Xn(n,t)?n:null!==fa.current?(e=Ii(e,n,r),Xn(e,t)||(Is=!0),e):0===(42&ba)?(Is=!0,e.memoizedState=n):(e=$u(),xa.lanes|=e,hu|=e,t)}function Ni(e,t,n,r,o){var a=$.p;$.p=0!==a&&8>a?a:8;var i=P.T,s={};P.T=s,Bi(e,!1,t,n);try{var l=o(),u=P.S;if(null!==u&&u(s,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)zi(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then((function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)}),(function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)})),r}(l,r),Pu());else zi(e,t,r,Pu())}catch(c){zi(e,t,{then:function(){},status:"rejected",reason:c},Pu())}finally{$.p=a,P.T=i}}function Oi(){}function Mi(e,t,n,r){if(5!==e.tag)throw Error(i(476));var o=Di(e).queue;Ni(e,o,t,j,null===n?Oi:function(){return Ri(e),n(r)})}function Di(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:j,baseState:j,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ua,lastRenderedState:j},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ua,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Ri(e){zi(e,Di(e).next.queue,{},Pu())}function Pi(){return Io(Kd)}function $i(){return za().memoizedState}function ji(){return za().memoizedState}function _i(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Pu(),r=ia(t,e=aa(n),n);return null!==r&&(ju(r,t,n),sa(r,t,n)),t={cache:Po()},void(e.payload=t)}t=t.return}}function Fi(e,t,n){var r=Pu();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Wi(e)?Vi(t,n):null!==(n=Or(e,t,n,r))&&(ju(n,e,r),Ui(n,t,r))}function Li(e,t,n){zi(e,t,n,Pu())}function zi(e,t,n,r){var o={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Wi(e))Vi(t,o);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var i=t.lastRenderedState,s=a(i,n);if(o.hasEagerState=!0,o.eagerState=s,Xn(s,i))return Nr(e,t,o,0),null===ru&&Er(),!1}catch(l){}if(null!==(n=Or(e,t,o,r)))return ju(n,e,r),Ui(n,t,r),!0}return!1}function Bi(e,t,n,r){if(r={lane:2,revertLane:Nc(),action:r,hasEagerState:!1,eagerState:null,next:null},Wi(e)){if(t)throw Error(i(479))}else null!==(t=Or(e,n,r,2))&&ju(t,e,2)}function Wi(e){var t=e.alternate;return e===xa||null!==t&&t===xa}function Vi(e,t){Aa=Sa=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ui(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ie(e,n)}}var Hi={readContext:Io,use:Wa,useCallback:Oa,useContext:Oa,useEffect:Oa,useImperativeHandle:Oa,useLayoutEffect:Oa,useInsertionEffect:Oa,useMemo:Oa,useReducer:Oa,useRef:Oa,useState:Oa,useDebugValue:Oa,useDeferredValue:Oa,useTransition:Oa,useSyncExternalStore:Oa,useId:Oa,useHostTransitionStatus:Oa,useFormState:Oa,useActionState:Oa,useOptimistic:Oa,useMemoCache:Oa,useCacheRefresh:Oa},Gi={readContext:Io,use:Wa,useCallback:function(e,t){return La().memoizedState=[e,void 0===t?null:t],e},useContext:Io,useEffect:vi,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,gi(4194308,4,ki.bind(null,t,e),n)},useLayoutEffect:function(e,t){return gi(4194308,4,e,t)},useInsertionEffect:function(e,t){gi(4,2,e,t)},useMemo:function(e,t){var n=La();t=void 0===t?null:t;var r=e();if(Ca){pe(!0);try{e()}finally{pe(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=La();if(void 0!==n){var o=n(t);if(Ca){pe(!0);try{n(t)}finally{pe(!1)}}}else o=t;return r.memoizedState=r.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},r.queue=e,e=e.dispatch=Fi.bind(null,xa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},La().memoizedState=e},useState:function(e){var t=(e=ei(e)).queue,n=Li.bind(null,xa,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Ai,useDeferredValue:function(e,t){return Ii(La(),e,t)},useTransition:function(){var e=ei(!1);return e=Ni.bind(null,xa,e.queue,!0,!1),La().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=xa,o=La();if(ao){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===ru)throw Error(i(349));0!==(124&au)||Xa(r,t,n)}o.memoizedState=n;var a={value:n,getSnapshot:t};return o.queue=a,vi(Qa.bind(null,r,a,e),[e]),r.flags|=2048,fi(9,{destroy:void 0,resource:void 0},Ya.bind(null,r,a,n,t),null),n},useId:function(){var e=La(),t=ru.identifierPrefix;if(ao){var n=Zr;t="\xab"+t+"R"+(n=(Qr&~(1<<32-he(Qr)-1)).toString(32)+n),0<(n=Ta++)&&(t+="H"+n.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(n=Na++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Pi,useFormState:ui,useActionState:ui,useOptimistic:function(e){var t=La();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Bi.bind(null,xa,!0,n),n.dispatch=t,[e,t]},useMemoCache:Va,useCacheRefresh:function(){return La().memoizedState=_i.bind(null,xa)}},qi={readContext:Io,use:Wa,useCallback:Ci,useContext:Io,useEffect:bi,useImperativeHandle:Si,useInsertionEffect:xi,useLayoutEffect:wi,useMemo:Ti,useReducer:Ha,useRef:mi,useState:function(){return Ha(Ua)},useDebugValue:Ai,useDeferredValue:function(e,t){return Ei(za(),wa.memoizedState,e,t)},useTransition:function(){var e=Ha(Ua)[0],t=za().memoizedState;return["boolean"===typeof e?e:Ba(e),t]},useSyncExternalStore:Ka,useId:$i,useHostTransitionStatus:Pi,useFormState:ci,useActionState:ci,useOptimistic:function(e,t){return ti(za(),0,e,t)},useMemoCache:Va,useCacheRefresh:ji},Ki={readContext:Io,use:Wa,useCallback:Ci,useContext:Io,useEffect:bi,useImperativeHandle:Si,useInsertionEffect:xi,useLayoutEffect:wi,useMemo:Ti,useReducer:qa,useRef:mi,useState:function(){return qa(Ua)},useDebugValue:Ai,useDeferredValue:function(e,t){var n=za();return null===wa?Ii(n,e,t):Ei(n,wa.memoizedState,e,t)},useTransition:function(){var e=qa(Ua)[0],t=za().memoizedState;return["boolean"===typeof e?e:Ba(e),t]},useSyncExternalStore:Ka,useId:$i,useHostTransitionStatus:Pi,useFormState:hi,useActionState:hi,useOptimistic:function(e,t){var n=za();return null!==wa?ti(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Va,useCacheRefresh:ji},Xi=null,Yi=0;function Qi(e){var t=Yi;return Yi+=1,null===Xi&&(Xi=[]),Zo(Xi,e,t)}function Zi(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Ji(e,t){if(t.$$typeof===h)throw Error(i(525));throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function es(e){return(0,e._init)(e._payload)}function ts(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function o(e,t){return(e=Fr(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Wr(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function u(e,t,n,r){var a=n.type;return a===g?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===T&&es(a)===t.type)?(Zi(t=o(t,n.props),n),t.return=e,t):(Zi(t=zr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vr(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=Br(n,e.mode,r,a)).return=e,t):((t=o(t,n)).return=e,t)}function p(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Wr(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case f:return Zi(n=zr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case m:return(t=Vr(t,e.mode,n)).return=e,t;case T:return p(e,t=(0,t._init)(t._payload),n)}if(R(t)||O(t))return(t=Br(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return p(e,Qi(t),n);if(t.$$typeof===w)return p(e,Eo(e,t),n);Ji(e,t)}return null}function h(e,t,n,r){var o=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==o?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case f:return n.key===o?u(e,t,n,r):null;case m:return n.key===o?c(e,t,n,r):null;case T:return h(e,t,n=(o=n._init)(n._payload),r)}if(R(n)||O(n))return null!==o?null:d(e,t,n,r,null);if("function"===typeof n.then)return h(e,t,Qi(n),r);if(n.$$typeof===w)return h(e,t,Eo(e,n),r);Ji(e,n)}return null}function y(e,t,n,r,o){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,o);if("object"===typeof r&&null!==r){switch(r.$$typeof){case f:return u(t,e=e.get(null===r.key?n:r.key)||null,r,o);case m:return c(t,e=e.get(null===r.key?n:r.key)||null,r,o);case T:return y(e,t,n,r=(0,r._init)(r._payload),o)}if(R(r)||O(r))return d(t,e=e.get(n)||null,r,o,null);if("function"===typeof r.then)return y(e,t,n,Qi(r),o);if(r.$$typeof===w)return y(e,t,n,Eo(t,r),o);Ji(t,r)}return null}function v(l,u,c,d){if("object"===typeof c&&null!==c&&c.type===g&&null===c.key&&(c=c.props.children),"object"===typeof c&&null!==c){switch(c.$$typeof){case f:e:{for(var b=c.key;null!==u;){if(u.key===b){if((b=c.type)===g){if(7===u.tag){n(l,u.sibling),(d=o(u,c.props.children)).return=l,l=d;break e}}else if(u.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===T&&es(b)===u.type){n(l,u.sibling),Zi(d=o(u,c.props),c),d.return=l,l=d;break e}n(l,u);break}t(l,u),u=u.sibling}c.type===g?((d=Br(c.props.children,l.mode,d,c.key)).return=l,l=d):(Zi(d=zr(c.type,c.key,c.props,null,l.mode,d),c),d.return=l,l=d)}return s(l);case m:e:{for(b=c.key;null!==u;){if(u.key===b){if(4===u.tag&&u.stateNode.containerInfo===c.containerInfo&&u.stateNode.implementation===c.implementation){n(l,u.sibling),(d=o(u,c.children||[])).return=l,l=d;break e}n(l,u);break}t(l,u),u=u.sibling}(d=Vr(c,l.mode,d)).return=l,l=d}return s(l);case T:return v(l,u,c=(b=c._init)(c._payload),d)}if(R(c))return function(o,i,s,l){for(var u=null,c=null,d=i,f=i=0,m=null;null!==d&&f<s.length;f++){d.index>f?(m=d,d=null):m=d.sibling;var g=h(o,d,s[f],l);if(null===g){null===d&&(d=m);break}e&&d&&null===g.alternate&&t(o,d),i=a(g,i,f),null===c?u=g:c.sibling=g,c=g,d=m}if(f===s.length)return n(o,d),ao&&Jr(o,f),u;if(null===d){for(;f<s.length;f++)null!==(d=p(o,s[f],l))&&(i=a(d,i,f),null===c?u=d:c.sibling=d,c=d);return ao&&Jr(o,f),u}for(d=r(d);f<s.length;f++)null!==(m=y(d,o,f,s[f],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?f:m.key),i=a(m,i,f),null===c?u=m:c.sibling=m,c=m);return e&&d.forEach((function(e){return t(o,e)})),ao&&Jr(o,f),u}(l,u,c,d);if(O(c)){if("function"!==typeof(b=O(c)))throw Error(i(150));return function(o,s,l,u){if(null==l)throw Error(i(151));for(var c=null,d=null,f=s,m=s=0,g=null,v=l.next();null!==f&&!v.done;m++,v=l.next()){f.index>m?(g=f,f=null):g=f.sibling;var b=h(o,f,v.value,u);if(null===b){null===f&&(f=g);break}e&&f&&null===b.alternate&&t(o,f),s=a(b,s,m),null===d?c=b:d.sibling=b,d=b,f=g}if(v.done)return n(o,f),ao&&Jr(o,m),c;if(null===f){for(;!v.done;m++,v=l.next())null!==(v=p(o,v.value,u))&&(s=a(v,s,m),null===d?c=v:d.sibling=v,d=v);return ao&&Jr(o,m),c}for(f=r(f);!v.done;m++,v=l.next())null!==(v=y(f,o,m,v.value,u))&&(e&&null!==v.alternate&&f.delete(null===v.key?m:v.key),s=a(v,s,m),null===d?c=v:d.sibling=v,d=v);return e&&f.forEach((function(e){return t(o,e)})),ao&&Jr(o,m),c}(l,u,c=b.call(c),d)}if("function"===typeof c.then)return v(l,u,Qi(c),d);if(c.$$typeof===w)return v(l,u,Eo(l,c),d);Ji(l,c)}return"string"===typeof c&&""!==c||"number"===typeof c||"bigint"===typeof c?(c=""+c,null!==u&&6===u.tag?(n(l,u.sibling),(d=o(u,c)).return=l,l=d):(n(l,u),(d=Wr(c,l.mode,d)).return=l,l=d),s(l)):n(l,u)}return function(e,t,n,r){try{Yi=0;var o=v(e,t,n,r);return Xi=null,o}catch(i){if(i===Go||i===Ko)throw i;var a=jr(29,i,null,e.mode);return a.lanes=r,a.return=e,a}}}var ns=ts(!0),rs=ts(!1),os=L(null),as=null;function is(e){var t=e.alternate;B(cs,1&cs.current),B(os,e),null===as&&(null===t||null!==fa.current||null!==t.memoizedState)&&(as=e)}function ss(e){if(22===e.tag){if(B(cs,cs.current),B(os,e),null===as){var t=e.alternate;null!==t&&null!==t.memoizedState&&(as=e)}}else ls()}function ls(){B(cs,cs.current),B(os,os.current)}function us(e){z(os),as===e&&(as=null),z(cs)}var cs=L(0);function ds(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||gd(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function ps(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:p({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var hs={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Pu(),o=aa(r);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=ia(e,o,r))&&(ju(t,e,r),sa(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Pu(),o=aa(r);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=ia(e,o,r))&&(ju(t,e,r),sa(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Pu(),r=aa(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=ia(e,r,n))&&(ju(t,e,n),sa(t,e,n))}};function fs(e,t,n,r,o,a,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,i):!t.prototype||!t.prototype.isPureReactComponent||(!Yn(n,r)||!Yn(o,a))}function ms(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&hs.enqueueReplaceState(t,t.state,null)}function gs(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var o in n===t&&(n=p({},n)),e)void 0===n[o]&&(n[o]=e[o]);return n}var ys="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function vs(e){ys(e)}function bs(e){console.error(e)}function xs(e){ys(e)}function ws(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout((function(){throw n}))}}function ks(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout((function(){throw r}))}}function Ss(e,t,n){return(n=aa(n)).tag=3,n.payload={element:null},n.callback=function(){ws(e,t)},n}function As(e){return(e=aa(e)).tag=3,e}function Cs(e,t,n,r){var o=n.type.getDerivedStateFromError;if("function"===typeof o){var a=r.value;e.payload=function(){return o(a)},e.callback=function(){ks(t,n,r)}}var i=n.stateNode;null!==i&&"function"===typeof i.componentDidCatch&&(e.callback=function(){ks(t,n,r),"function"!==typeof o&&(null===Au?Au=new Set([this]):Au.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Ts=Error(i(461)),Is=!1;function Es(e,t,n,r){t.child=null===e?rs(t,null,n,r):ns(t,e.child,n,r)}function Ns(e,t,n,r,o){n=n.render;var a=t.ref;if("ref"in r){var i={};for(var s in r)"ref"!==s&&(i[s]=r[s])}else i=r;return To(t),r=Da(e,t,n,i,a,o),s=ja(),null===e||Is?(ao&&s&&to(t),t.flags|=1,Es(e,t,r,o),t.child):(_a(e,t,o),Xs(e,t,o))}function Os(e,t,n,r,o){if(null===e){var a=n.type;return"function"!==typeof a||_r(a)||void 0!==a.defaultProps||null!==n.compare?((e=zr(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ms(e,t,a,r,o))}if(a=e.child,!Ys(e,o)){var i=a.memoizedProps;if((n=null!==(n=n.compare)?n:Yn)(i,r)&&e.ref===t.ref)return Xs(e,t,o)}return t.flags|=1,(e=Fr(a,r)).ref=t.ref,e.return=t,t.child=e}function Ms(e,t,n,r,o){if(null!==e){var a=e.memoizedProps;if(Yn(a,r)&&e.ref===t.ref){if(Is=!1,t.pendingProps=r=a,!Ys(e,o))return t.lanes=e.lanes,Xs(e,t,o);0!==(131072&e.flags)&&(Is=!0)}}return $s(e,t,n,r,o)}function Ds(e,t,n){var r=t.pendingProps,o=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(0!==(128&t.flags)){if(r=null!==a?a.baseLanes|n:n,null!==e){for(o=t.child=e.child,a=0;null!==o;)a=a|o.lanes|o.childLanes,o=o.sibling;t.childLanes=a&~r}else t.childLanes=0,t.child=null;return Rs(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Rs(e,t,null!==a?a.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Uo(0,null!==a?a.cachePool:null),null!==a?ga(t,a):ya(),ss(t)}else null!==a?(Uo(0,a.cachePool),ga(t,a),ls(),t.memoizedState=null):(null!==e&&Uo(0,null),ya(),ls());return Es(e,t,o,n),t.child}function Rs(e,t,n,r){var o=Vo();return o=null===o?null:{parent:Ro._currentValue,pool:o},t.memoizedState={baseLanes:n,cachePool:o},null!==e&&Uo(0,null),ya(),ss(t),null!==e&&Ao(e,t,r,!0),null}function Ps(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(i(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function $s(e,t,n,r,o){return To(t),n=Da(e,t,n,r,void 0,o),r=ja(),null===e||Is?(ao&&r&&to(t),t.flags|=1,Es(e,t,n,o),t.child):(_a(e,t,o),Xs(e,t,o))}function js(e,t,n,r,o,a){return To(t),t.updateQueue=null,n=Pa(t,r,n,o),Ra(e),r=ja(),null===e||Is?(ao&&r&&to(t),t.flags|=1,Es(e,t,n,a),t.child):(_a(e,t,a),Xs(e,t,a))}function _s(e,t,n,r,o){if(To(t),null===t.stateNode){var a=Pr,i=n.contextType;"object"===typeof i&&null!==i&&(a=Io(i)),a=new n(r,a),t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,a.updater=hs,t.stateNode=a,a._reactInternals=t,(a=t.stateNode).props=r,a.state=t.memoizedState,a.refs={},ra(t),i=n.contextType,a.context="object"===typeof i&&null!==i?Io(i):Pr,a.state=t.memoizedState,"function"===typeof(i=n.getDerivedStateFromProps)&&(ps(t,n,i,r),a.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(i=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),i!==a.state&&hs.enqueueReplaceState(a,a.state,null),da(t,r,a,o),ca(),a.state=t.memoizedState),"function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){a=t.stateNode;var s=t.memoizedProps,l=gs(n,s);a.props=l;var u=a.context,c=n.contextType;i=Pr,"object"===typeof c&&null!==c&&(i=Io(c));var d=n.getDerivedStateFromProps;c="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate,s=t.pendingProps!==s,c||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s||u!==i)&&ms(t,a,r,i),na=!1;var p=t.memoizedState;a.state=p,da(t,r,a,o),ca(),u=t.memoizedState,s||p!==u||na?("function"===typeof d&&(ps(t,n,d,r),u=t.memoizedState),(l=na||fs(t,n,l,r,p,u,i))?(c||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=i,r=l):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,oa(e,t),c=gs(n,i=t.memoizedProps),a.props=c,d=t.pendingProps,p=a.context,u=n.contextType,l=Pr,"object"===typeof u&&null!==u&&(l=Io(u)),(u="function"===typeof(s=n.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(i!==d||p!==l)&&ms(t,a,r,l),na=!1,p=t.memoizedState,a.state=p,da(t,r,a,o),ca();var h=t.memoizedState;i!==d||p!==h||na||null!==e&&null!==e.dependencies&&Co(e.dependencies)?("function"===typeof s&&(ps(t,n,s,r),h=t.memoizedState),(c=na||fs(t,n,c,r,p,h,l)||null!==e&&null!==e.dependencies&&Co(e.dependencies))?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,h,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,h,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),a.props=r,a.state=h,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return a=r,Ps(e,t),r=0!==(128&t.flags),a||r?(a=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:a.render(),t.flags|=1,null!==e&&r?(t.child=ns(t,e.child,null,o),t.child=ns(t,null,n,o)):Es(e,t,n,o),t.memoizedState=a.state,e=t.child):e=Xs(e,t,o),e}function Fs(e,t,n,r){return fo(),t.flags|=256,Es(e,t,n,r),t.child}var Ls={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zs(e){return{baseLanes:e,cachePool:Ho()}}function Bs(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=gu),e}function Ws(e,t,n){var r,o=t.pendingProps,a=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&cs.current)),r&&(a=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(ao){if(a?is(t):ls(),ao){var l,u=oo;if(l=u){e:{for(l=u,u=so;8!==l.nodeType;){if(!u){u=null;break e}if(null===(l=yd(l.nextSibling))){u=null;break e}}u=l}null!==u?(t.memoizedState={dehydrated:u,treeContext:null!==Yr?{id:Qr,overflow:Zr}:null,retryLane:536870912,hydrationErrors:null},(l=jr(18,null,null,0)).stateNode=u,l.return=t,t.child=l,ro=t,oo=null,l=!0):l=!1}l||uo(t)}if(null!==(u=t.memoizedState)&&null!==(u=u.dehydrated))return gd(u)?t.lanes=32:t.lanes=536870912,null;us(t)}return u=o.children,o=o.fallback,a?(ls(),u=Us({mode:"hidden",children:u},a=t.mode),o=Br(o,a,n,null),u.return=t,o.return=t,u.sibling=o,t.child=u,(a=t.child).memoizedState=zs(n),a.childLanes=Bs(e,r,n),t.memoizedState=Ls,o):(is(t),Vs(t,u))}if(null!==(l=e.memoizedState)&&null!==(u=l.dehydrated)){if(s)256&t.flags?(is(t),t.flags&=-257,t=Hs(e,t,n)):null!==t.memoizedState?(ls(),t.child=e.child,t.flags|=128,t=null):(ls(),a=o.fallback,u=t.mode,o=Us({mode:"visible",children:o.children},u),(a=Br(a,u,n,null)).flags|=2,o.return=t,a.return=t,o.sibling=a,t.child=o,ns(t,e.child,null,n),(o=t.child).memoizedState=zs(n),o.childLanes=Bs(e,r,n),t.memoizedState=Ls,t=a);else if(is(t),gd(u)){if(r=u.nextSibling&&u.nextSibling.dataset)var c=r.dgst;r=c,(o=Error(i(419))).stack="",o.digest=r,go({value:o,source:null,stack:null}),t=Hs(e,t,n)}else if(Is||Ao(e,t,n,!1),r=0!==(n&e.childLanes),Is||r){if(null!==(r=ru)&&(0!==(o=0!==((o=0!==(42&(o=n&-n))?1:Ee(o))&(r.suspendedLanes|n))?0:o)&&o!==l.retryLane))throw l.retryLane=o,Mr(e,o),ju(r,e,o),Ts;"$?"===u.data||qu(),t=Hs(e,t,n)}else"$?"===u.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,oo=yd(u.nextSibling),ro=t,ao=!0,io=null,so=!1,null!==e&&(Kr[Xr++]=Qr,Kr[Xr++]=Zr,Kr[Xr++]=Yr,Qr=e.id,Zr=e.overflow,Yr=t),(t=Vs(t,o.children)).flags|=4096);return t}return a?(ls(),a=o.fallback,u=t.mode,c=(l=e.child).sibling,(o=Fr(l,{mode:"hidden",children:o.children})).subtreeFlags=65011712&l.subtreeFlags,null!==c?a=Fr(c,a):(a=Br(a,u,n,null)).flags|=2,a.return=t,o.return=t,o.sibling=a,t.child=o,o=a,a=t.child,null===(u=e.child.memoizedState)?u=zs(n):(null!==(l=u.cachePool)?(c=Ro._currentValue,l=l.parent!==c?{parent:c,pool:c}:l):l=Ho(),u={baseLanes:u.baseLanes|n,cachePool:l}),a.memoizedState=u,a.childLanes=Bs(e,r,n),t.memoizedState=Ls,o):(is(t),e=(n=e.child).sibling,(n=Fr(n,{mode:"visible",children:o.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Vs(e,t){return(t=Us({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Us(e,t){return(e=jr(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Hs(e,t,n){return ns(t,e.child,null,n),(e=Vs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Gs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ko(e.return,t,n)}function qs(e,t,n,r,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=o)}function Ks(e,t,n){var r=t.pendingProps,o=r.revealOrder,a=r.tail;if(Es(e,t,r.children,n),0!==(2&(r=cs.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Gs(e,n,t);else if(19===e.tag)Gs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(B(cs,r),o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===ds(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),qs(t,!1,o,n,a);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===ds(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}qs(t,!0,n,null,a);break;case"together":qs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),hu|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Ao(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Fr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Fr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ys(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Co(e))}function Qs(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Is=!0;else{if(!Ys(e,n)&&0===(128&t.flags))return Is=!1,function(e,t,n){switch(t.tag){case 3:G(t,t.stateNode.containerInfo),xo(0,Ro,e.memoizedState.cache),fo();break;case 27:case 5:K(t);break;case 4:G(t,t.stateNode.containerInfo);break;case 10:xo(0,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(is(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Ws(e,t,n):(is(t),null!==(e=Xs(e,t,n))?e.sibling:null);is(t);break;case 19:var o=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(Ao(e,t,n,!1),r=0!==(n&t.childLanes)),o){if(r)return Ks(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),B(cs,cs.current),r)break;return null;case 22:case 23:return t.lanes=0,Ds(e,t,n);case 24:xo(0,Ro,e.memoizedState.cache)}return Xs(e,t,n)}(e,t,n);Is=0!==(131072&e.flags)}else Is=!1,ao&&0!==(1048576&t.flags)&&eo(t,qr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,o=r._init;if(r=o(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((o=r.$$typeof)===k){t.tag=11,t=Ns(null,t,r,e,n);break e}if(o===C){t.tag=14,t=Os(null,t,r,e,n);break e}}throw t=D(r)||r,Error(i(306,t,""))}_r(r)?(e=gs(r,e),t.tag=1,t=_s(null,t,r,e,n)):(t.tag=0,t=$s(null,t,r,e,n))}return t;case 0:return $s(e,t,t.type,t.pendingProps,n);case 1:return _s(e,t,r=t.type,o=gs(r,t.pendingProps),n);case 3:e:{if(G(t,t.stateNode.containerInfo),null===e)throw Error(i(387));r=t.pendingProps;var a=t.memoizedState;o=a.element,oa(e,t),da(t,r,null,n);var s=t.memoizedState;if(r=s.cache,xo(0,Ro,r),r!==a.cache&&So(t,[Ro],n,!0),ca(),r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Fs(e,t,r,n);break e}if(r!==o){go(o=Ar(Error(i(424)),t)),t=Fs(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(oo=yd(e.firstChild),ro=t,ao=!0,io=null,so=!0,n=rs(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fo(),r===o){t=Xs(e,t,n);break e}Es(e,t,r,n)}t=t.child}return t;case 26:return Ps(e,t),null===e?(n=Ed(t.type,null,t.pendingProps,null))?t.memoizedState=n:ao||(n=t.type,e=t.pendingProps,(r=rd(U.current).createElement(n))[De]=t,r[Re]=e,ed(r,n,e),He(r),t.stateNode=r):t.memoizedState=Ed(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return K(t),null===e&&ao&&(r=t.stateNode=xd(t.type,t.pendingProps,U.current),ro=t,so=!0,o=oo,hd(t.type)?(vd=o,oo=yd(r.firstChild)):oo=o),Es(e,t,t.pendingProps.children,n),Ps(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&ao&&((o=r=oo)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var o=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Le])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(a=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(a!==o.rel||e.getAttribute("href")!==(null==o.href||""===o.href?null:o.href)||e.getAttribute("crossorigin")!==(null==o.crossOrigin?null:o.crossOrigin)||e.getAttribute("title")!==(null==o.title?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((a=e.getAttribute("src"))!==(null==o.src?null:o.src)||e.getAttribute("type")!==(null==o.type?null:o.type)||e.getAttribute("crossorigin")!==(null==o.crossOrigin?null:o.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var a=null==o.name?null:""+o.name;if("hidden"===o.type&&e.getAttribute("name")===a)return e}if(null===(e=yd(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,so))?(t.stateNode=r,ro=t,oo=yd(r.firstChild),so=!1,o=!0):o=!1),o||uo(t)),K(t),o=t.type,a=t.pendingProps,s=null!==e?e.memoizedProps:null,r=a.children,id(o,a)?r=null:null!==s&&id(o,s)&&(t.flags|=32),null!==t.memoizedState&&(o=Da(e,t,$a,null,null,n),Kd._currentValue=o),Ps(e,t),Es(e,t,r,n),t.child;case 6:return null===e&&ao&&((e=n=oo)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=yd(e.nextSibling)))return null}return e}(n,t.pendingProps,so))?(t.stateNode=n,ro=t,oo=null,e=!0):e=!1),e||uo(t)),null;case 13:return Ws(e,t,n);case 4:return G(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ns(t,null,r,n):Es(e,t,r,n),t.child;case 11:return Ns(e,t,t.type,t.pendingProps,n);case 7:return Es(e,t,t.pendingProps,n),t.child;case 8:case 12:return Es(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,xo(0,t.type,r.value),Es(e,t,r.children,n),t.child;case 9:return o=t.type._context,r=t.pendingProps.children,To(t),r=r(o=Io(o)),t.flags|=1,Es(e,t,r,n),t.child;case 14:return Os(e,t,t.type,t.pendingProps,n);case 15:return Ms(e,t,t.type,t.pendingProps,n);case 19:return Ks(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},null===e?((n=Us(r,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=Fr(e.child,r)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Ds(e,t,n);case 24:return To(t),r=Io(Ro),null===e?(null===(o=Vo())&&(o=ru,a=Po(),o.pooledCache=a,a.refCount++,null!==a&&(o.pooledCacheLanes|=n),o=a),t.memoizedState={parent:r,cache:o},ra(t),xo(0,Ro,o)):(0!==(e.lanes&n)&&(oa(e,t),da(t,null,null,n),ca()),o=e.memoizedState,a=t.memoizedState,o.parent!==r?(o={parent:r,cache:r},t.memoizedState=o,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=o),xo(0,Ro,r)):(r=a.cache,xo(0,Ro,r),r!==o.cache&&So(t,[Ro],n,!0))),Es(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function Zs(e){e.flags|=4}function Js(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Bd(t)){if(null!==(t=os.current)&&((4194048&au)===au?null!==as:(62914560&au)!==au&&0===(536870912&au)||t!==as))throw Jo=Xo,qo;e.flags|=8192}}function el(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Se():536870912,e.lanes|=t,yu|=t)}function tl(e,t){if(!ao)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function nl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=65011712&o.subtreeFlags,r|=65011712&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function rl(e,t,n){var r=t.pendingProps;switch(no(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return nl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),wo(Ro),q(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(ho(t)?Zs(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,mo())),nl(t),null;case 26:return n=t.memoizedState,null===e?(Zs(t),null!==n?(nl(t),Js(t,n)):(nl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Zs(t),nl(t),Js(t,n)):(nl(t),t.flags&=-16777217):(e.memoizedProps!==r&&Zs(t),nl(t),t.flags&=-16777217),null;case 27:X(t),n=U.current;var o=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Zs(t);else{if(!r){if(null===t.stateNode)throw Error(i(166));return nl(t),null}e=W.current,ho(t)?co(t):(e=xd(o,r,n),t.stateNode=e,Zs(t))}return nl(t),null;case 5:if(X(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Zs(t);else{if(!r){if(null===t.stateNode)throw Error(i(166));return nl(t),null}if(e=W.current,ho(t))co(t);else{switch(o=rd(U.current),e){case 1:e=o.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=o.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=o.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=o.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=o.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?o.createElement("select",{is:r.is}):o.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?o.createElement(n,{is:r.is}):o.createElement(n)}}e[De]=t,e[Re]=r;e:for(o=t.child;null!==o;){if(5===o.tag||6===o.tag)e.appendChild(o.stateNode);else if(4!==o.tag&&27!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;null===o.sibling;){if(null===o.return||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=e;e:switch(ed(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Zs(t)}}return nl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Zs(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(e=U.current,ho(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(o=ro))switch(o.tag){case 27:case 5:r=o.memoizedProps}e[De]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||Yc(e.nodeValue,n)))||uo(t)}else(e=rd(e).createTextNode(r))[De]=t,t.stateNode=e}return nl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(o=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(i(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(i(317));o[De]=t}else fo(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;nl(t),o=!1}else o=mo(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return 256&t.flags?(us(t),t):(us(t),null)}if(us(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){o=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(o=r.alternate.memoizedState.cachePool.pool);var a=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(a=r.memoizedState.cachePool.pool),a!==o&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),el(t,t.updateQueue),nl(t),null;case 4:return q(),null===e&&zc(t.stateNode.containerInfo),nl(t),null;case 10:return wo(t.type),nl(t),null;case 19:if(z(cs),null===(o=t.memoizedState))return nl(t),null;if(r=0!==(128&t.flags),null===(a=o.rendering))if(r)tl(o,!1);else{if(0!==pu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(a=ds(e))){for(t.flags|=128,tl(o,!1),e=a.updateQueue,t.updateQueue=e,el(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Lr(n,e),n=n.sibling;return B(cs,1&cs.current|2),t.child}e=e.sibling}null!==o.tail&&te()>ku&&(t.flags|=128,r=!0,tl(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ds(a))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,el(t,e),tl(o,!0),null===o.tail&&"hidden"===o.tailMode&&!a.alternate&&!ao)return nl(t),null}else 2*te()-o.renderingStartTime>ku&&536870912!==n&&(t.flags|=128,r=!0,tl(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(null!==(e=o.last)?e.sibling=a:t.child=a,o.last=a)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=te(),t.sibling=null,e=cs.current,B(cs,r?1&e|2:1&e),t):(nl(t),null);case 22:case 23:return us(t),va(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(nl(t),6&t.subtreeFlags&&(t.flags|=8192)):nl(t),null!==(n=t.updateQueue)&&el(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&z(Wo),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),wo(Ro),nl(t),null;case 25:case 30:return null}throw Error(i(156,t.tag))}function ol(e,t){switch(no(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return wo(Ro),q(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return X(t),null;case 13:if(us(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));fo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return z(cs),null;case 4:return q(),null;case 10:return wo(t.type),null;case 22:case 23:return us(t),va(),null!==e&&z(Wo),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return wo(Ro),null;default:return null}}function al(e,t){switch(no(t),t.tag){case 3:wo(Ro),q();break;case 26:case 27:case 5:X(t);break;case 4:q();break;case 13:us(t);break;case 19:z(cs);break;case 10:wo(t.type);break;case 22:case 23:us(t),va(),null!==e&&z(Wo);break;case 24:wo(Ro)}}function il(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var o=r.next;n=o;do{if((n.tag&e)===e){r=void 0;var a=n.create,i=n.inst;r=a(),i.destroy=r}n=n.next}while(n!==o)}}catch(s){cc(t,t.return,s)}}function sl(e,t,n){try{var r=t.updateQueue,o=null!==r?r.lastEffect:null;if(null!==o){var a=o.next;r=a;do{if((r.tag&e)===e){var i=r.inst,s=i.destroy;if(void 0!==s){i.destroy=void 0,o=t;var l=n,u=s;try{u()}catch(c){cc(o,l,c)}}}r=r.next}while(r!==a)}}catch(c){cc(t,t.return,c)}}function ll(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{ha(t,n)}catch(r){cc(e,e.return,r)}}}function ul(e,t,n){n.props=gs(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){cc(e,t,r)}}function cl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(o){cc(e,t,o)}}function dl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(o){cc(e,t,o)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(a){cc(e,t,a)}else n.current=null}function pl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(o){cc(e,e.return,o)}}function hl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,a=null,s=null,l=null,u=null,c=null,d=null;for(f in n){var p=n[f];if(n.hasOwnProperty(f)&&null!=p)switch(f){case"checked":case"value":break;case"defaultValue":u=p;default:r.hasOwnProperty(f)||Zc(e,t,f,null,r,p)}}for(var h in r){var f=r[h];if(p=n[h],r.hasOwnProperty(h)&&(null!=f||null!=p))switch(h){case"type":a=f;break;case"name":o=f;break;case"checked":c=f;break;case"defaultChecked":d=f;break;case"value":s=f;break;case"defaultValue":l=f;break;case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(i(137,t));break;default:f!==p&&Zc(e,t,h,f,r,p)}}return void gt(e,s,l,u,c,d,a,o);case"select":for(a in f=s=l=h=null,n)if(u=n[a],n.hasOwnProperty(a)&&null!=u)switch(a){case"value":break;case"multiple":f=u;default:r.hasOwnProperty(a)||Zc(e,t,a,null,r,u)}for(o in r)if(a=r[o],u=n[o],r.hasOwnProperty(o)&&(null!=a||null!=u))switch(o){case"value":h=a;break;case"defaultValue":l=a;break;case"multiple":s=a;default:a!==u&&Zc(e,t,o,a,r,u)}return t=l,n=s,r=f,void(null!=h?bt(e,!!n,h,!1):!!r!==!!n&&(null!=t?bt(e,!!n,t,!0):bt(e,!!n,n?[]:"",!1)));case"textarea":for(l in f=h=null,n)if(o=n[l],n.hasOwnProperty(l)&&null!=o&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Zc(e,t,l,null,r,o)}for(s in r)if(o=r[s],a=n[s],r.hasOwnProperty(s)&&(null!=o||null!=a))switch(s){case"value":h=o;break;case"defaultValue":f=o;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=o)throw Error(i(91));break;default:o!==a&&Zc(e,t,s,o,r,a)}return void xt(e,h,f);case"option":for(var m in n)if(h=n[m],n.hasOwnProperty(m)&&null!=h&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else Zc(e,t,m,null,r,h);for(u in r)if(h=r[u],f=n[u],r.hasOwnProperty(u)&&h!==f&&(null!=h||null!=f))if("selected"===u)e.selected=h&&"function"!==typeof h&&"symbol"!==typeof h;else Zc(e,t,u,h,r,f);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)h=n[g],n.hasOwnProperty(g)&&null!=h&&!r.hasOwnProperty(g)&&Zc(e,t,g,null,r,h);for(c in r)if(h=r[c],f=n[c],r.hasOwnProperty(c)&&h!==f&&(null!=h||null!=f))switch(c){case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(i(137,t));break;default:Zc(e,t,c,h,r,f)}return;default:if(Tt(t)){for(var y in n)h=n[y],n.hasOwnProperty(y)&&void 0!==h&&!r.hasOwnProperty(y)&&Jc(e,t,y,void 0,r,h);for(d in r)h=r[d],f=n[d],!r.hasOwnProperty(d)||h===f||void 0===h&&void 0===f||Jc(e,t,d,h,r,f);return}}for(var v in n)h=n[v],n.hasOwnProperty(v)&&null!=h&&!r.hasOwnProperty(v)&&Zc(e,t,v,null,r,h);for(p in r)h=r[p],f=n[p],!r.hasOwnProperty(p)||h===f||null==h&&null==f||Zc(e,t,p,h,r,f)}(r,e.type,n,t),r[Re]=t}catch(o){cc(e,e.return,o)}}function fl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&hd(e.type)||4===e.tag}function ml(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||fl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&hd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function gl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Qc));else if(4!==r&&(27===r&&hd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(gl(e,t,n),e=e.sibling;null!==e;)gl(e,t,n),e=e.sibling}function yl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&hd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(yl(e,t,n),e=e.sibling;null!==e;)yl(e,t,n),e=e.sibling}function vl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);ed(t,r,n),t[De]=e,t[Re]=n}catch(a){cc(e,e.return,a)}}var bl=!1,xl=!1,wl=!1,kl="function"===typeof WeakSet?WeakSet:Set,Sl=null;function Al(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:_l(e,n),4&r&&il(5,n);break;case 1:if(_l(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(i){cc(n,n.return,i)}else{var o=gs(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(s){cc(n,n.return,s)}}64&r&&ll(n),512&r&&cl(n,n.return);break;case 3:if(_l(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{ha(e,t)}catch(i){cc(n,n.return,i)}}break;case 27:null===t&&4&r&&vl(n);case 26:case 5:_l(e,n),null===t&&4&r&&pl(n),512&r&&cl(n,n.return);break;case 12:_l(e,n);break;case 13:_l(e,n),4&r&&Ol(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=fc.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||bl)){t=null!==t&&null!==t.memoizedState||xl,o=bl;var a=xl;bl=r,(xl=t)&&!a?Ll(e,n,0!==(8772&n.subtreeFlags)):_l(e,n),bl=o,xl=a}break;case 30:break;default:_l(e,n)}}function Cl(e){var t=e.alternate;null!==t&&(e.alternate=null,Cl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&ze(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Tl=null,Il=!1;function El(e,t,n){for(n=n.child;null!==n;)Nl(e,t,n),n=n.sibling}function Nl(e,t,n){if(de&&"function"===typeof de.onCommitFiberUnmount)try{de.onCommitFiberUnmount(ce,n)}catch(a){}switch(n.tag){case 26:xl||dl(n,t),El(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:xl||dl(n,t);var r=Tl,o=Il;hd(n.type)&&(Tl=n.stateNode,Il=!1),El(e,t,n),wd(n.stateNode),Tl=r,Il=o;break;case 5:xl||dl(n,t);case 6:if(r=Tl,o=Il,Tl=null,El(e,t,n),Il=o,null!==(Tl=r))if(Il)try{(9===Tl.nodeType?Tl.body:"HTML"===Tl.nodeName?Tl.ownerDocument.body:Tl).removeChild(n.stateNode)}catch(i){cc(n,t,i)}else try{Tl.removeChild(n.stateNode)}catch(i){cc(n,t,i)}break;case 18:null!==Tl&&(Il?(fd(9===(e=Tl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Ip(e)):fd(Tl,n.stateNode));break;case 4:r=Tl,o=Il,Tl=n.stateNode.containerInfo,Il=!0,El(e,t,n),Tl=r,Il=o;break;case 0:case 11:case 14:case 15:xl||sl(2,n,t),xl||sl(4,n,t),El(e,t,n);break;case 1:xl||(dl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&ul(n,t,r)),El(e,t,n);break;case 21:El(e,t,n);break;case 22:xl=(r=xl)||null!==n.memoizedState,El(e,t,n),xl=r;break;default:El(e,t,n)}}function Ol(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Ip(e)}catch(n){cc(t,t.return,n)}}function Ml(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new kl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new kl),t;default:throw Error(i(435,e.tag))}}(e);t.forEach((function(t){var r=mc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}function Dl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var o=n[r],a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 27:if(hd(l.type)){Tl=l.stateNode,Il=!1;break e}break;case 5:Tl=l.stateNode,Il=!1;break e;case 3:case 4:Tl=l.stateNode.containerInfo,Il=!0;break e}l=l.return}if(null===Tl)throw Error(i(160));Nl(a,s,o),Tl=null,Il=!1,null!==(a=o.alternate)&&(a.return=null),o.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Pl(t,e),t=t.sibling}var Rl=null;function Pl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Dl(t,e),$l(e),4&r&&(sl(3,e,e.return),il(3,e),sl(5,e,e.return));break;case 1:Dl(t,e),$l(e),512&r&&(xl||null===n||dl(n,n.return)),64&r&&bl&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var o=Rl;if(Dl(t,e),$l(e),512&r&&(xl||null===n||dl(n,n.return)),4&r){var a=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,o=o.ownerDocument||o;t:switch(r){case"title":(!(a=o.getElementsByTagName("title")[0])||a[Le]||a[De]||"http://www.w3.org/2000/svg"===a.namespaceURI||a.hasAttribute("itemprop"))&&(a=o.createElement(r),o.head.insertBefore(a,o.querySelector("head > title"))),ed(a,r,n),a[De]=e,He(a),r=a;break e;case"link":var s=Ld("link","href",o).get(r+(n.href||""));if(s)for(var l=0;l<s.length;l++)if((a=s[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&a.getAttribute("rel")===(null==n.rel?null:n.rel)&&a.getAttribute("title")===(null==n.title?null:n.title)&&a.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){s.splice(l,1);break t}ed(a=o.createElement(r),r,n),o.head.appendChild(a);break;case"meta":if(s=Ld("meta","content",o).get(r+(n.content||"")))for(l=0;l<s.length;l++)if((a=s[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&a.getAttribute("name")===(null==n.name?null:n.name)&&a.getAttribute("property")===(null==n.property?null:n.property)&&a.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&a.getAttribute("charset")===(null==n.charSet?null:n.charSet)){s.splice(l,1);break t}ed(a=o.createElement(r),r,n),o.head.appendChild(a);break;default:throw Error(i(468,r))}a[De]=e,He(a),r=a}e.stateNode=r}else zd(o,e.type,e.stateNode);else e.stateNode=Pd(o,r,e.memoizedProps);else a!==r?(null===a?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):a.count--,null===r?zd(o,e.type,e.stateNode):Pd(o,r,e.memoizedProps)):null===r&&null!==e.stateNode&&hl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Dl(t,e),$l(e),512&r&&(xl||null===n||dl(n,n.return)),null!==n&&4&r&&hl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Dl(t,e),$l(e),512&r&&(xl||null===n||dl(n,n.return)),32&e.flags){o=e.stateNode;try{kt(o,"")}catch(f){cc(e,e.return,f)}}4&r&&null!=e.stateNode&&hl(e,o=e.memoizedProps,null!==n?n.memoizedProps:o),1024&r&&(wl=!0);break;case 6:if(Dl(t,e),$l(e),4&r){if(null===e.stateNode)throw Error(i(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(f){cc(e,e.return,f)}}break;case 3:if(Fd=null,o=Rl,Rl=Ad(t.containerInfo),Dl(t,e),Rl=o,$l(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ip(t.containerInfo)}catch(f){cc(e,e.return,f)}wl&&(wl=!1,jl(e));break;case 4:r=Rl,Rl=Ad(e.stateNode.containerInfo),Dl(t,e),$l(e),Rl=r;break;case 12:default:Dl(t,e),$l(e);break;case 13:Dl(t,e),$l(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(wu=te()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Ml(e,r)));break;case 22:o=null!==e.memoizedState;var u=null!==n&&null!==n.memoizedState,c=bl,d=xl;if(bl=c||o,xl=d||u,Dl(t,e),xl=d,bl=c,$l(e),8192&r)e:for(t=e.stateNode,t._visibility=o?-2&t._visibility:1|t._visibility,o&&(null===n||u||bl||xl||Fl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){u=n=t;try{if(a=u.stateNode,o)"function"===typeof(s=a.style).setProperty?s.setProperty("display","none","important"):s.display="none";else{l=u.stateNode;var p=u.memoizedProps.style,h=void 0!==p&&null!==p&&p.hasOwnProperty("display")?p.display:null;l.style.display=null==h||"boolean"===typeof h?"":(""+h).trim()}}catch(f){cc(u,u.return,f)}}}else if(6===t.tag){if(null===n){u=t;try{u.stateNode.nodeValue=o?"":u.memoizedProps}catch(f){cc(u,u.return,f)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Ml(e,n))));break;case 19:Dl(t,e),$l(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Ml(e,r)));case 30:case 21:}}function $l(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(fl(r)){n=r;break}r=r.return}if(null==n)throw Error(i(160));switch(n.tag){case 27:var o=n.stateNode;yl(e,ml(e),o);break;case 5:var a=n.stateNode;32&n.flags&&(kt(a,""),n.flags&=-33),yl(e,ml(e),a);break;case 3:case 4:var s=n.stateNode.containerInfo;gl(e,ml(e),s);break;default:throw Error(i(161))}}catch(l){cc(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function jl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;jl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function _l(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Al(e,t.alternate,t),t=t.sibling}function Fl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:sl(4,t,t.return),Fl(t);break;case 1:dl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&ul(t,t.return,n),Fl(t);break;case 27:wd(t.stateNode);case 26:case 5:dl(t,t.return),Fl(t);break;case 22:null===t.memoizedState&&Fl(t);break;default:Fl(t)}e=e.sibling}}function Ll(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,o=e,a=t,i=a.flags;switch(a.tag){case 0:case 11:case 15:Ll(o,a,n),il(4,a);break;case 1:if(Ll(o,a,n),"function"===typeof(o=(r=a).stateNode).componentDidMount)try{o.componentDidMount()}catch(u){cc(r,r.return,u)}if(null!==(o=(r=a).updateQueue)){var s=r.stateNode;try{var l=o.shared.hiddenCallbacks;if(null!==l)for(o.shared.hiddenCallbacks=null,o=0;o<l.length;o++)pa(l[o],s)}catch(u){cc(r,r.return,u)}}n&&64&i&&ll(a),cl(a,a.return);break;case 27:vl(a);case 26:case 5:Ll(o,a,n),n&&null===r&&4&i&&pl(a),cl(a,a.return);break;case 12:Ll(o,a,n);break;case 13:Ll(o,a,n),n&&4&i&&Ol(o,a);break;case 22:null===a.memoizedState&&Ll(o,a,n),cl(a,a.return);break;case 30:break;default:Ll(o,a,n)}t=t.sibling}}function zl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&$o(n))}function Bl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&$o(e))}function Wl(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Vl(e,t,n,r),t=t.sibling}function Vl(e,t,n,r){var o=t.flags;switch(t.tag){case 0:case 11:case 15:Wl(e,t,n,r),2048&o&&il(9,t);break;case 1:case 13:default:Wl(e,t,n,r);break;case 3:Wl(e,t,n,r),2048&o&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&$o(e)));break;case 12:if(2048&o){Wl(e,t,n,r),e=t.stateNode;try{var a=t.memoizedProps,i=a.id,s=a.onPostCommit;"function"===typeof s&&s(i,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){cc(t,t.return,l)}}else Wl(e,t,n,r);break;case 23:break;case 22:a=t.stateNode,i=t.alternate,null!==t.memoizedState?2&a._visibility?Wl(e,t,n,r):Hl(e,t):2&a._visibility?Wl(e,t,n,r):(a._visibility|=2,Ul(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&o&&zl(i,t);break;case 24:Wl(e,t,n,r),2048&o&&Bl(t.alternate,t)}}function Ul(e,t,n,r,o){for(o=o&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var a=e,i=t,s=n,l=r,u=i.flags;switch(i.tag){case 0:case 11:case 15:Ul(a,i,s,l,o),il(8,i);break;case 23:break;case 22:var c=i.stateNode;null!==i.memoizedState?2&c._visibility?Ul(a,i,s,l,o):Hl(a,i):(c._visibility|=2,Ul(a,i,s,l,o)),o&&2048&u&&zl(i.alternate,i);break;case 24:Ul(a,i,s,l,o),o&&2048&u&&Bl(i.alternate,i);break;default:Ul(a,i,s,l,o)}t=t.sibling}}function Hl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,o=r.flags;switch(r.tag){case 22:Hl(n,r),2048&o&&zl(r.alternate,r);break;case 24:Hl(n,r),2048&o&&Bl(r.alternate,r);break;default:Hl(n,r)}t=t.sibling}}var Gl=8192;function ql(e){if(e.subtreeFlags&Gl)for(e=e.child;null!==e;)Kl(e),e=e.sibling}function Kl(e){switch(e.tag){case 26:ql(e),e.flags&Gl&&null!==e.memoizedState&&function(e,t,n){if(null===Wd)throw Error(i(475));var r=Wd;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var o=Nd(n.href),a=e.querySelector(Od(o));if(a)return null!==(e=a._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=Ud.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=a,void He(a);a=e.ownerDocument||e,n=Md(n),(o=kd.get(o))&&jd(n,o),He(a=a.createElement("link"));var s=a;s._p=new Promise((function(e,t){s.onload=e,s.onerror=t})),ed(a,"link",n),t.instance=a}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=Ud.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(Rl,e.memoizedState,e.memoizedProps);break;case 5:default:ql(e);break;case 3:case 4:var t=Rl;Rl=Ad(e.stateNode.containerInfo),ql(e),Rl=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Gl,Gl=16777216,ql(e),Gl=t):ql(e))}}function Xl(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Yl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Sl=r,Jl(r,e)}Xl(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Ql(e),e=e.sibling}function Ql(e){switch(e.tag){case 0:case 11:case 15:Yl(e),2048&e.flags&&sl(9,e,e.return);break;case 3:case 12:default:Yl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Zl(e)):Yl(e)}}function Zl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Sl=r,Jl(r,e)}Xl(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:sl(8,t,t.return),Zl(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Zl(t));break;default:Zl(t)}e=e.sibling}}function Jl(e,t){for(;null!==Sl;){var n=Sl;switch(n.tag){case 0:case 11:case 15:sl(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:$o(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Sl=r;else e:for(n=e;null!==Sl;){var o=(r=Sl).sibling,a=r.return;if(Cl(r),r===n){Sl=null;break e}if(null!==o){o.return=a,Sl=o;break e}Sl=a}}}var eu={getCacheForType:function(e){var t=Io(Ro),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},tu="function"===typeof WeakMap?WeakMap:Map,nu=0,ru=null,ou=null,au=0,iu=0,su=null,lu=!1,uu=!1,cu=!1,du=0,pu=0,hu=0,fu=0,mu=0,gu=0,yu=0,vu=null,bu=null,xu=!1,wu=0,ku=1/0,Su=null,Au=null,Cu=0,Tu=null,Iu=null,Eu=0,Nu=0,Ou=null,Mu=null,Du=0,Ru=null;function Pu(){if(0!==(2&nu)&&0!==au)return au&-au;if(null!==P.T){return 0!==Fo?Fo:Nc()}return Oe()}function $u(){0===gu&&(gu=0===(536870912&au)||ao?ke():536870912);var e=os.current;return null!==e&&(e.flags|=32),gu}function ju(e,t,n){(e!==ru||2!==iu&&9!==iu)&&null===e.cancelPendingCommit||(Vu(e,0),zu(e,au,gu,!1)),Ce(e,n),0!==(2&nu)&&e===ru||(e===ru&&(0===(2&nu)&&(fu|=n),4===pu&&zu(e,au,gu,!1)),kc(e))}function _u(e,t,n){if(0!==(6&nu))throw Error(i(327));for(var r=!n&&0===(124&t)&&0===(t&e.expiredLanes)||xe(e,t),o=r?function(e,t){var n=nu;nu|=2;var r=Hu(),o=Gu();ru!==e||au!==t?(Su=null,ku=te()+500,Vu(e,t)):uu=xe(e,t);e:for(;;)try{if(0!==iu&&null!==ou){t=ou;var a=su;t:switch(iu){case 1:iu=0,su=null,Ju(e,t,a,1);break;case 2:case 9:if(Yo(a)){iu=0,su=null,Zu(t);break}t=function(){2!==iu&&9!==iu||ru!==e||(iu=7),kc(e)},a.then(t,t);break e;case 3:iu=7;break e;case 4:iu=5;break e;case 7:Yo(a)?(iu=0,su=null,Zu(t)):(iu=0,su=null,Ju(e,t,a,7));break;case 5:var s=null;switch(ou.tag){case 26:s=ou.memoizedState;case 5:case 27:var l=ou;if(!s||Bd(s)){iu=0,su=null;var u=l.sibling;if(null!==u)ou=u;else{var c=l.return;null!==c?(ou=c,ec(c)):ou=null}break t}}iu=0,su=null,Ju(e,t,a,5);break;case 6:iu=0,su=null,Ju(e,t,a,6);break;case 8:Wu(),pu=6;break e;default:throw Error(i(462))}}Yu();break}catch(d){Uu(e,d)}return bo=vo=null,P.H=r,P.A=o,nu=n,null!==ou?0:(ru=null,au=0,Er(),pu)}(e,t):Ku(e,t,!0),a=r;;){if(0===o){uu&&!r&&zu(e,t,0,!1);break}if(n=e.current.alternate,!a||Lu(n)){if(2===o){if(a=t,e.errorRecoveryDisabledLanes&a)var s=0;else s=0!==(s=-536870913&e.pendingLanes)?s:536870912&s?536870912:0;if(0!==s){t=s;e:{var l=e;o=vu;var u=l.current.memoizedState.isDehydrated;if(u&&(Vu(l,s).flags|=256),2!==(s=Ku(l,s,!1))){if(cu&&!u){l.errorRecoveryDisabledLanes|=a,fu|=a,o=4;break e}a=bu,bu=o,null!==a&&(null===bu?bu=a:bu.push.apply(bu,a))}o=s}if(a=!1,2!==o)continue}}if(1===o){Vu(e,0),zu(e,t,0,!0);break}e:{switch(r=e,a=o){case 0:case 1:throw Error(i(345));case 4:if((4194048&t)!==t)break;case 6:zu(r,t,gu,!lu);break e;case 2:bu=null;break;case 3:case 5:break;default:throw Error(i(329))}if((62914560&t)===t&&10<(o=wu+300-te())){if(zu(r,t,gu,!lu),0!==be(r,0,!0))break e;r.timeoutHandle=ld(Fu.bind(null,r,n,bu,Su,xu,t,gu,fu,yu,lu,a,2,-0,0),o)}else Fu(r,n,bu,Su,xu,t,gu,fu,yu,lu,a,0,-0,0)}break}o=Ku(e,t,!1),a=!1}kc(e)}function Fu(e,t,n,r,o,a,s,l,u,c,d,p,h,f){if(e.timeoutHandle=-1,(8192&(p=t.subtreeFlags)||16785408===(16785408&p))&&(Wd={stylesheets:null,count:0,unsuspend:Vd},Kl(t),null!==(p=function(){if(null===Wd)throw Error(i(475));var e=Wd;return e.stylesheets&&0===e.count&&Gd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout((function(){if(e.stylesheets&&Gd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}}),6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=p(nc.bind(null,e,t,a,n,r,o,s,l,u,d,1,h,f)),void zu(e,a,s,!c);nc(e,t,a,n,r,o,s,l,u)}function Lu(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var o=n[r],a=o.getSnapshot;o=o.value;try{if(!Xn(a(),o))return!1}catch(i){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function zu(e,t,n,r){t&=~mu,t&=~fu,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var o=t;0<o;){var a=31-he(o),i=1<<a;r[a]=-1,o&=~i}0!==n&&Te(e,n,t)}function Bu(){return 0!==(6&nu)||(Sc(0,!1),!1)}function Wu(){if(null!==ou){if(0===iu)var e=ou.return;else bo=vo=null,Fa(e=ou),Xi=null,Yi=0,e=ou;for(;null!==e;)al(e.alternate,e),e=e.return;ou=null}}function Vu(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,ud(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Wu(),ru=e,ou=n=Fr(e.current,null),au=t,iu=0,su=null,lu=!1,uu=xe(e,t),cu=!1,yu=gu=mu=fu=hu=pu=0,bu=vu=null,xu=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var o=31-he(r),a=1<<o;t|=e[o],r&=~a}return du=t,Er(),n}function Uu(e,t){xa=null,P.H=Hi,t===Go||t===Ko?(t=ea(),iu=3):t===qo?(t=ea(),iu=4):iu=t===Ts?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,su=t,null===ou&&(pu=1,ws(e,Ar(t,e.current)))}function Hu(){var e=P.H;return P.H=Hi,null===e?Hi:e}function Gu(){var e=P.A;return P.A=eu,e}function qu(){pu=4,lu||(4194048&au)!==au&&null!==os.current||(uu=!0),0===(134217727&hu)&&0===(134217727&fu)||null===ru||zu(ru,au,gu,!1)}function Ku(e,t,n){var r=nu;nu|=2;var o=Hu(),a=Gu();ru===e&&au===t||(Su=null,Vu(e,t)),t=!1;var i=pu;e:for(;;)try{if(0!==iu&&null!==ou){var s=ou,l=su;switch(iu){case 8:Wu(),i=6;break e;case 3:case 2:case 9:case 6:null===os.current&&(t=!0);var u=iu;if(iu=0,su=null,Ju(e,s,l,u),n&&uu){i=0;break e}break;default:u=iu,iu=0,su=null,Ju(e,s,l,u)}}Xu(),i=pu;break}catch(c){Uu(e,c)}return t&&e.shellSuspendCounter++,bo=vo=null,nu=r,P.H=o,P.A=a,null===ou&&(ru=null,au=0,Er()),i}function Xu(){for(;null!==ou;)Qu(ou)}function Yu(){for(;null!==ou&&!J();)Qu(ou)}function Qu(e){var t=Qs(e.alternate,e,du);e.memoizedProps=e.pendingProps,null===t?ec(e):ou=t}function Zu(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=js(n,t,t.pendingProps,t.type,void 0,au);break;case 11:t=js(n,t,t.pendingProps,t.type.render,t.ref,au);break;case 5:Fa(t);default:al(n,t),t=Qs(n,t=ou=Lr(t,du),du)}e.memoizedProps=e.pendingProps,null===t?ec(e):ou=t}function Ju(e,t,n,r){bo=vo=null,Fa(t),Xi=null,Yi=0;var o=t.return;try{if(function(e,t,n,r,o){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&Ao(t,n,o,!0),null!==(n=os.current)){switch(n.tag){case 13:return null===as?qu():null===n.alternate&&0===pu&&(pu=3),n.flags&=-257,n.flags|=65536,n.lanes=o,r===Xo?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),dc(e,r,o)),!1;case 22:return n.flags|=65536,r===Xo?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),dc(e,r,o)),!1}throw Error(i(435,n.tag))}return dc(e,r,o),qu(),!1}if(ao)return null!==(t=os.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=o,r!==lo&&go(Ar(e=Error(i(422),{cause:r}),n))):(r!==lo&&go(Ar(t=Error(i(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,o&=-o,e.lanes|=o,r=Ar(r,n),la(e,o=Ss(e.stateNode,r,o)),4!==pu&&(pu=2)),!1;var a=Error(i(520),{cause:r});if(a=Ar(a,n),null===vu?vu=[a]:vu.push(a),4!==pu&&(pu=2),null===t)return!0;r=Ar(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=o&-o,n.lanes|=e,la(n,e=Ss(n.stateNode,r,e)),!1;case 1:if(t=n.type,a=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==a&&"function"===typeof a.componentDidCatch&&(null===Au||!Au.has(a))))return n.flags|=65536,o&=-o,n.lanes|=o,Cs(o=As(o),e,n,r),la(n,o),!1}n=n.return}while(null!==n);return!1}(e,o,t,n,au))return pu=1,ws(e,Ar(n,e.current)),void(ou=null)}catch(a){if(null!==o)throw ou=o,a;return pu=1,ws(e,Ar(n,e.current)),void(ou=null)}32768&t.flags?(ao||1===r?e=!0:uu||0!==(536870912&au)?e=!1:(lu=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=os.current)&&13===r.tag&&(r.flags|=16384))),tc(t,e)):ec(t)}function ec(e){var t=e;do{if(0!==(32768&t.flags))return void tc(t,lu);e=t.return;var n=rl(t.alternate,t,du);if(null!==n)return void(ou=n);if(null!==(t=t.sibling))return void(ou=t);ou=t=e}while(null!==t);0===pu&&(pu=5)}function tc(e,t){do{var n=ol(e.alternate,e);if(null!==n)return n.flags&=32767,void(ou=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(ou=e);ou=e=n}while(null!==e);pu=6,ou=null}function nc(e,t,n,r,o,a,s,l,u){e.cancelPendingCommit=null;do{sc()}while(0!==Cu);if(0!==(6&nu))throw Error(i(327));if(null!==t){if(t===e.current)throw Error(i(177));if(a=t.lanes|t.childLanes,function(e,t,n,r,o,a){var i=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,l=e.expirationTimes,u=e.hiddenUpdates;for(n=i&~n;0<n;){var c=31-he(n),d=1<<c;s[c]=0,l[c]=-1;var p=u[c];if(null!==p)for(u[c]=null,c=0;c<p.length;c++){var h=p[c];null!==h&&(h.lane&=-536870913)}n&=~d}0!==r&&Te(e,r,0),0!==a&&0===o&&0!==e.tag&&(e.suspendedLanes|=a&~(i&~t))}(e,n,a|=Ir,s,l,u),e===ru&&(ou=ru=null,au=0),Iu=t,Tu=e,Eu=n,Nu=a,Ou=o,Mu=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,Q(ae,(function(){return lc(),null}))):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=P.T,P.T=null,o=$.p,$.p=2,s=nu,nu|=4;try{!function(e,t){if(e=e.containerInfo,td=np,tr(e=er(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var o=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(g){n=null;break e}var s=0,l=-1,u=-1,c=0,d=0,p=e,h=null;t:for(;;){for(var f;p!==n||0!==o&&3!==p.nodeType||(l=s+o),p!==a||0!==r&&3!==p.nodeType||(u=s+r),3===p.nodeType&&(s+=p.nodeValue.length),null!==(f=p.firstChild);)h=p,p=f;for(;;){if(p===e)break t;if(h===n&&++c===o&&(l=s),h===a&&++d===r&&(u=s),null!==(f=p.nextSibling))break;h=(p=h).parentNode}p=f}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(nd={focusedElem:e,selectionRange:n},np=!1,Sl=t;null!==Sl;)if(e=(t=Sl).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,Sl=e;else for(;null!==Sl;){switch(a=(t=Sl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==a){e=void 0,n=t,o=a.memoizedProps,a=a.memoizedState,r=n.stateNode;try{var m=gs(n.type,o,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(m,a),r.__reactInternalSnapshotBeforeUpdate=e}catch(y){cc(n,n.return,y)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))md(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":md(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(i(163))}if(null!==(e=t.sibling)){e.return=t.return,Sl=e;break}Sl=t.return}}(e,t)}finally{nu=s,$.p=o,P.T=r}}Cu=1,rc(),oc(),ac()}}function rc(){if(1===Cu){Cu=0;var e=Tu,t=Iu,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=P.T,P.T=null;var r=$.p;$.p=2;var o=nu;nu|=4;try{Pl(t,e);var a=nd,i=er(e.containerInfo),s=a.focusedElem,l=a.selectionRange;if(i!==s&&s&&s.ownerDocument&&Jn(s.ownerDocument.documentElement,s)){if(null!==l&&tr(s)){var u=l.start,c=l.end;if(void 0===c&&(c=u),"selectionStart"in s)s.selectionStart=u,s.selectionEnd=Math.min(c,s.value.length);else{var d=s.ownerDocument||document,p=d&&d.defaultView||window;if(p.getSelection){var h=p.getSelection(),f=s.textContent.length,m=Math.min(l.start,f),g=void 0===l.end?m:Math.min(l.end,f);!h.extend&&m>g&&(i=g,g=m,m=i);var y=Zn(s,m),v=Zn(s,g);if(y&&v&&(1!==h.rangeCount||h.anchorNode!==y.node||h.anchorOffset!==y.offset||h.focusNode!==v.node||h.focusOffset!==v.offset)){var b=d.createRange();b.setStart(y.node,y.offset),h.removeAllRanges(),m>g?(h.addRange(b),h.extend(v.node,v.offset)):(b.setEnd(v.node,v.offset),h.addRange(b))}}}}for(d=[],h=s;h=h.parentNode;)1===h.nodeType&&d.push({element:h,left:h.scrollLeft,top:h.scrollTop});for("function"===typeof s.focus&&s.focus(),s=0;s<d.length;s++){var x=d[s];x.element.scrollLeft=x.left,x.element.scrollTop=x.top}}np=!!td,nd=td=null}finally{nu=o,$.p=r,P.T=n}}e.current=t,Cu=2}}function oc(){if(2===Cu){Cu=0;var e=Tu,t=Iu,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=P.T,P.T=null;var r=$.p;$.p=2;var o=nu;nu|=4;try{Al(e,t.alternate,t)}finally{nu=o,$.p=r,P.T=n}}Cu=3}}function ac(){if(4===Cu||3===Cu){Cu=0,ee();var e=Tu,t=Iu,n=Eu,r=Mu;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Cu=5:(Cu=0,Iu=Tu=null,ic(e,e.pendingLanes));var o=e.pendingLanes;if(0===o&&(Au=null),Ne(n),t=t.stateNode,de&&"function"===typeof de.onCommitFiberRoot)try{de.onCommitFiberRoot(ce,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=P.T,o=$.p,$.p=2,P.T=null;try{for(var a=e.onRecoverableError,i=0;i<r.length;i++){var s=r[i];a(s.value,{componentStack:s.stack})}}finally{P.T=t,$.p=o}}0!==(3&Eu)&&sc(),kc(e),o=e.pendingLanes,0!==(4194090&n)&&0!==(42&o)?e===Ru?Du++:(Du=0,Ru=e):Du=0,Sc(0,!1)}}function ic(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,$o(t)))}function sc(e){return rc(),oc(),ac(),lc()}function lc(){if(5!==Cu)return!1;var e=Tu,t=Nu;Nu=0;var n=Ne(Eu),r=P.T,o=$.p;try{$.p=32>n?32:n,P.T=null,n=Ou,Ou=null;var a=Tu,s=Eu;if(Cu=0,Iu=Tu=null,Eu=0,0!==(6&nu))throw Error(i(331));var l=nu;if(nu|=4,Ql(a.current),Vl(a,a.current,s,n),nu=l,Sc(0,!1),de&&"function"===typeof de.onPostCommitFiberRoot)try{de.onPostCommitFiberRoot(ce,a)}catch(u){}return!0}finally{$.p=o,P.T=r,ic(e,t)}}function uc(e,t,n){t=Ar(n,t),null!==(e=ia(e,t=Ss(e.stateNode,t,2),2))&&(Ce(e,2),kc(e))}function cc(e,t,n){if(3===e.tag)uc(e,e,n);else for(;null!==t;){if(3===t.tag){uc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Au||!Au.has(r))){e=Ar(n,e),null!==(r=ia(t,n=As(2),2))&&(Cs(n,r,t,e),Ce(r,2),kc(r));break}}t=t.return}}function dc(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new tu;var o=new Set;r.set(t,o)}else void 0===(o=r.get(t))&&(o=new Set,r.set(t,o));o.has(n)||(cu=!0,o.add(n),e=pc.bind(null,e,t,n),t.then(e,e))}function pc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ru===e&&(au&n)===n&&(4===pu||3===pu&&(62914560&au)===au&&300>te()-wu?0===(2&nu)&&Vu(e,0):mu|=n,yu===au&&(yu=0)),kc(e)}function hc(e,t){0===t&&(t=Se()),null!==(e=Mr(e,t))&&(Ce(e,t),kc(e))}function fc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),hc(e,n)}function mc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(i(314))}null!==r&&r.delete(t),hc(e,n)}var gc=null,yc=null,vc=!1,bc=!1,xc=!1,wc=0;function kc(e){e!==yc&&null===e.next&&(null===yc?gc=yc=e:yc=yc.next=e),bc=!0,vc||(vc=!0,dd((function(){0!==(6&nu)?Q(re,Ac):Cc()})))}function Sc(e,t){if(!xc&&bc){xc=!0;do{for(var n=!1,r=gc;null!==r;){if(!t)if(0!==e){var o=r.pendingLanes;if(0===o)var a=0;else{var i=r.suspendedLanes,s=r.pingedLanes;a=(1<<31-he(42|e)+1)-1,a=201326741&(a&=o&~(i&~s))?201326741&a|1:a?2|a:0}0!==a&&(n=!0,Ec(r,a))}else a=au,0===(3&(a=be(r,r===ru?a:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||xe(r,a)||(n=!0,Ec(r,a));r=r.next}}while(n);xc=!1}}function Ac(){Cc()}function Cc(){bc=vc=!1;var e=0;0!==wc&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==sd&&(sd=e,!0);return sd=null,!1}()&&(e=wc),wc=0);for(var t=te(),n=null,r=gc;null!==r;){var o=r.next,a=Tc(r,t);0===a?(r.next=null,null===n?gc=o:n.next=o,null===o&&(yc=n)):(n=r,(0!==e||0!==(3&a))&&(bc=!0)),r=o}Sc(e,!1)}function Tc(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,a=-62914561&e.pendingLanes;0<a;){var i=31-he(a),s=1<<i,l=o[i];-1===l?0!==(s&n)&&0===(s&r)||(o[i]=we(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}if(n=au,n=be(e,e===(t=ru)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===iu||9===iu)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&Z(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||xe(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&Z(r),Ne(n)){case 2:case 8:n=oe;break;case 32:default:n=ae;break;case 268435456:n=se}return r=Ic.bind(null,e),n=Q(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&Z(r),e.callbackPriority=2,e.callbackNode=null,2}function Ic(e,t){if(0!==Cu&&5!==Cu)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(sc()&&e.callbackNode!==n)return null;var r=au;return 0===(r=be(e,e===ru?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(_u(e,r,t),Tc(e,te()),null!=e.callbackNode&&e.callbackNode===n?Ic.bind(null,e):null)}function Ec(e,t){if(sc())return null;_u(e,t,!0)}function Nc(){return 0===wc&&(wc=ke()),wc}function Oc(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Nt(""+e)}function Mc(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Dc=0;Dc<wr.length;Dc++){var Rc=wr[Dc];kr(Rc.toLowerCase(),"on"+(Rc[0].toUpperCase()+Rc.slice(1)))}kr(hr,"onAnimationEnd"),kr(fr,"onAnimationIteration"),kr(mr,"onAnimationStart"),kr("dblclick","onDoubleClick"),kr("focusin","onFocus"),kr("focusout","onBlur"),kr(gr,"onTransitionRun"),kr(yr,"onTransitionStart"),kr(vr,"onTransitionCancel"),kr(br,"onTransitionEnd"),Xe("onMouseEnter",["mouseout","mouseover"]),Xe("onMouseLeave",["mouseout","mouseover"]),Xe("onPointerEnter",["pointerout","pointerover"]),Xe("onPointerLeave",["pointerout","pointerover"]),Ke("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ke("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ke("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ke("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ke("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ke("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$c=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Pc));function jc(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var i=r.length-1;0<=i;i--){var s=r[i],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==a&&o.isPropagationStopped())break e;a=s,o.currentTarget=u;try{a(o)}catch(c){ys(c)}o.currentTarget=null,a=l}else for(i=0;i<r.length;i++){if(l=(s=r[i]).instance,u=s.currentTarget,s=s.listener,l!==a&&o.isPropagationStopped())break e;a=s,o.currentTarget=u;try{a(o)}catch(c){ys(c)}o.currentTarget=null,a=l}}}}function _c(e,t){var n=t[$e];void 0===n&&(n=t[$e]=new Set);var r=e+"__bubble";n.has(r)||(Bc(t,e,2,!1),n.add(r))}function Fc(e,t,n){var r=0;t&&(r|=4),Bc(n,e,r,t)}var Lc="_reactListening"+Math.random().toString(36).slice(2);function zc(e){if(!e[Lc]){e[Lc]=!0,Ge.forEach((function(t){"selectionchange"!==t&&($c.has(t)||Fc(t,!1,e),Fc(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Lc]||(t[Lc]=!0,Fc("selectionchange",!1,t))}}function Bc(e,t,n,r){switch(up(t)){case 2:var o=rp;break;case 8:o=op;break;default:o=ap}n=o.bind(null,t,n,e),o=void 0,!Lt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Wc(e,t,n,r,o){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var s=r.stateNode.containerInfo;if(s===o)break;if(4===i)for(i=r.return;null!==i;){var u=i.tag;if((3===u||4===u)&&i.stateNode.containerInfo===o)return;i=i.return}for(;null!==s;){if(null===(i=Be(s)))return;if(5===(u=i.tag)||6===u||26===u||27===u){r=a=i;continue e}s=s.parentNode}}r=r.return}jt((function(){var r=a,o=Mt(n),i=[];e:{var s=xr.get(e);if(void 0!==s){var u=Jt,c=e;switch(e){case"keypress":if(0===Ht(n))break e;case"keydown":case"keyup":u=mn;break;case"focusin":c="focus",u=an;break;case"focusout":c="blur",u=an;break;case"beforeblur":case"afterblur":u=an;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=on;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=yn;break;case hr:case fr:case mr:u=sn;break;case br:u=vn;break;case"scroll":case"scrollend":u=tn;break;case"wheel":u=bn;break;case"copy":case"cut":case"paste":u=ln;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=gn;break;case"toggle":case"beforetoggle":u=xn}var d=0!==(4&t),p=!d&&("scroll"===e||"scrollend"===e),h=d?null!==s?s+"Capture":null:s;d=[];for(var f,m=r;null!==m;){var g=m;if(f=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===f||null===h||null!=(g=_t(m,h))&&d.push(Vc(m,g,f)),p)break;m=m.return}0<d.length&&(s=new u(s,c,null,n,o),i.push({event:s,listeners:d}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===Ot||!(c=n.relatedTarget||n.fromElement)||!Be(c)&&!c[Pe])&&(u||s)&&(s=o.window===o?o:(s=o.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?Be(c):null)&&(p=l(c),d=c.tag,c!==p||5!==d&&27!==d&&6!==d)&&(c=null)):(u=null,c=r),u!==c)){if(d=rn,g="onMouseLeave",h="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=gn,g="onPointerLeave",h="onPointerEnter",m="pointer"),p=null==u?s:Ve(u),f=null==c?s:Ve(c),(s=new d(g,m+"leave",u,n,o)).target=p,s.relatedTarget=f,g=null,Be(o)===r&&((d=new d(h,m+"enter",c,n,o)).target=f,d.relatedTarget=p,g=d),p=g,u&&c)e:{for(h=c,m=0,f=d=u;f;f=Hc(f))m++;for(f=0,g=h;g;g=Hc(g))f++;for(;0<m-f;)d=Hc(d),m--;for(;0<f-m;)h=Hc(h),f--;for(;m--;){if(d===h||null!==h&&d===h.alternate)break e;d=Hc(d),h=Hc(h)}d=null}else d=null;null!==u&&Gc(i,s,u,d,!1),null!==c&&null!==p&&Gc(i,p,c,d,!0)}if("select"===(u=(s=r?Ve(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var y=Fn;else if(Dn(s))if(Ln)y=Kn;else{y=Gn;var v=Hn}else!(u=s.nodeName)||"input"!==u.toLowerCase()||"checkbox"!==s.type&&"radio"!==s.type?r&&Tt(r.elementType)&&(y=Fn):y=qn;switch(y&&(y=y(e,r))?Rn(i,y,n,o):(v&&v(e,s,r),"focusout"===e&&r&&"number"===s.type&&null!=r.memoizedProps.value&&vt(s,"number",s.value)),v=r?Ve(r):window,e){case"focusin":(Dn(v)||"true"===v.contentEditable)&&(rr=v,or=r,ar=null);break;case"focusout":ar=or=rr=null;break;case"mousedown":ir=!0;break;case"contextmenu":case"mouseup":case"dragend":ir=!1,sr(i,n,o);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":sr(i,n,o)}var b;if(kn)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else On?En(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(Cn&&"ko"!==n.locale&&(On||"onCompositionStart"!==x?"onCompositionEnd"===x&&On&&(b=Ut()):(Wt="value"in(Bt=o)?Bt.value:Bt.textContent,On=!0)),0<(v=Uc(r,x)).length&&(x=new un(x,e,null,n,o),i.push({event:x,listeners:v}),b?x.data=b:null!==(b=Nn(n))&&(x.data=b))),(b=An?function(e,t){switch(e){case"compositionend":return Nn(t);case"keypress":return 32!==t.which?null:(In=!0,Tn);case"textInput":return(e=t.data)===Tn&&In?null:e;default:return null}}(e,n):function(e,t){if(On)return"compositionend"===e||!kn&&En(e,t)?(e=Ut(),Vt=Wt=Bt=null,On=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Cn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(x=Uc(r,"onBeforeInput")).length&&(v=new un("onBeforeInput","beforeinput",null,n,o),i.push({event:v,listeners:x}),v.data=b)),function(e,t,n,r,o){if("submit"===t&&n&&n.stateNode===o){var a=Oc((o[Re]||null).action),i=r.submitter;i&&null!==(t=(t=i[Re]||null)?Oc(t.formAction):i.getAttribute("formAction"))&&(a=t,i=null);var s=new Jt("action","action",null,r,o);e.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==wc){var e=i?Mc(o,i):new FormData(o);Mi(n,{pending:!0,data:e,method:o.method,action:a},null,e)}}else"function"===typeof a&&(s.preventDefault(),e=i?Mc(o,i):new FormData(o),Mi(n,{pending:!0,data:e,method:o.method,action:a},a,e))},currentTarget:o}]})}}(i,e,r,n,o)}jc(i,t)}))}function Vc(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Uc(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,a=o.stateNode;if(5!==(o=o.tag)&&26!==o&&27!==o||null===a||(null!=(o=_t(e,n))&&r.unshift(Vc(e,o,a)),null!=(o=_t(e,t))&&r.push(Vc(e,o,a))),3===e.tag)return r;e=e.return}return[]}function Hc(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Gc(e,t,n,r,o){for(var a=t._reactName,i=[];null!==n&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(s=s.tag,null!==l&&l===r)break;5!==s&&26!==s&&27!==s||null===u||(l=u,o?null!=(u=_t(n,a))&&i.unshift(Vc(n,u,l)):o||null!=(u=_t(n,a))&&i.push(Vc(n,u,l))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var qc=/\r\n?/g,Kc=/\u0000|\uFFFD/g;function Xc(e){return("string"===typeof e?e:""+e).replace(qc,"\n").replace(Kc,"")}function Yc(e,t){return t=Xc(t),Xc(e)===t}function Qc(){}function Zc(e,t,n,r,o,a){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||kt(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&kt(e,""+r);break;case"className":nt(e,"class",r);break;case"tabIndex":nt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":nt(e,n,r);break;case"style":Ct(e,r,a);break;case"data":if("object"!==t){nt(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Nt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof a&&("formAction"===n?("input"!==t&&Zc(e,t,"name",o.name,o,null),Zc(e,t,"formEncType",o.formEncType,o,null),Zc(e,t,"formMethod",o.formMethod,o,null),Zc(e,t,"formTarget",o.formTarget,o,null)):(Zc(e,t,"encType",o.encType,o,null),Zc(e,t,"method",o.method,o,null),Zc(e,t,"target",o.target,o,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Nt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Qc);break;case"onScroll":null!=r&&_c("scroll",e);break;case"onScrollEnd":null!=r&&_c("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(i(61));if(null!=(n=r.__html)){if(null!=o.children)throw Error(i(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=Nt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":_c("beforetoggle",e),_c("toggle",e),tt(e,"popover",r);break;case"xlinkActuate":rt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":rt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":rt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":rt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":rt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":rt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":rt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":rt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":rt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":tt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&tt(e,n=It.get(n)||n,r)}}function Jc(e,t,n,r,o,a){switch(n){case"style":Ct(e,r,a);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(i(61));if(null!=(n=r.__html)){if(null!=o.children)throw Error(i(60));e.innerHTML=n}}break;case"children":"string"===typeof r?kt(e,r):("number"===typeof r||"bigint"===typeof r)&&kt(e,""+r);break;case"onScroll":null!=r&&_c("scroll",e);break;case"onScrollEnd":null!=r&&_c("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Qc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:qe.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(o=n.endsWith("Capture"),t=n.slice(2,o?n.length-7:void 0),"function"===typeof(a=null!=(a=e[Re]||null)?a[n]:null)&&e.removeEventListener(t,a,o),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):tt(e,n,r):("function"!==typeof a&&null!==a&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,o)))}}function ed(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_c("error",e),_c("load",e);var r,o=!1,a=!1;for(r in n)if(n.hasOwnProperty(r)){var s=n[r];if(null!=s)switch(r){case"src":o=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Zc(e,t,r,s,n,null)}}return a&&Zc(e,t,"srcSet",n.srcSet,n,null),void(o&&Zc(e,t,"src",n.src,n,null));case"input":_c("invalid",e);var l=r=s=a=null,u=null,c=null;for(o in n)if(n.hasOwnProperty(o)){var d=n[o];if(null!=d)switch(o){case"name":a=d;break;case"type":s=d;break;case"checked":u=d;break;case"defaultChecked":c=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(i(137,t));break;default:Zc(e,t,o,d,n,null)}}return yt(e,r,l,u,c,s,a,!1),void dt(e);case"select":for(a in _c("invalid",e),o=s=r=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":r=l;break;case"defaultValue":s=l;break;case"multiple":o=l;default:Zc(e,t,a,l,n,null)}return t=r,n=s,e.multiple=!!o,void(null!=t?bt(e,!!o,t,!1):null!=n&&bt(e,!!o,n,!0));case"textarea":for(s in _c("invalid",e),r=a=o=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":o=l;break;case"defaultValue":a=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(i(91));break;default:Zc(e,t,s,l,n,null)}return wt(e,o,a,r),void dt(e);case"option":for(u in n)if(n.hasOwnProperty(u)&&null!=(o=n[u]))if("selected"===u)e.selected=o&&"function"!==typeof o&&"symbol"!==typeof o;else Zc(e,t,u,o,n,null);return;case"dialog":_c("beforetoggle",e),_c("toggle",e),_c("cancel",e),_c("close",e);break;case"iframe":case"object":_c("load",e);break;case"video":case"audio":for(o=0;o<Pc.length;o++)_c(Pc[o],e);break;case"image":_c("error",e),_c("load",e);break;case"details":_c("toggle",e);break;case"embed":case"source":case"link":_c("error",e),_c("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&null!=(o=n[c]))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Zc(e,t,c,o,n,null)}return;default:if(Tt(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(o=n[d])&&Jc(e,t,d,o,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(o=n[l])&&Zc(e,t,l,o,n,null))}var td=null,nd=null;function rd(e){return 9===e.nodeType?e:e.ownerDocument}function od(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ad(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function id(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var sd=null;var ld="function"===typeof setTimeout?setTimeout:void 0,ud="function"===typeof clearTimeout?clearTimeout:void 0,cd="function"===typeof Promise?Promise:void 0,dd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof cd?function(e){return cd.resolve(null).then(e).catch(pd)}:ld;function pd(e){setTimeout((function(){throw e}))}function hd(e){return"head"===e}function fd(e,t){var n=t,r=0,o=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0<r&&8>r){n=r;var i=e.ownerDocument;if(1&n&&wd(i.documentElement),2&n&&wd(i.body),4&n)for(wd(n=i.head),i=n.firstChild;i;){var s=i.nextSibling,l=i.nodeName;i[Le]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===i.rel.toLowerCase()||n.removeChild(i),i=s}}if(0===o)return e.removeChild(a),void Ip(t);o--}else"$"===n||"$?"===n||"$!"===n?o++:r=n.charCodeAt(0)-48;else r=0;n=a}while(n);Ip(t)}function md(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":md(n),ze(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function gd(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function yd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var vd=null;function bd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function xd(e,t,n){switch(t=rd(n),e){case"html":if(!(e=t.documentElement))throw Error(i(452));return e;case"head":if(!(e=t.head))throw Error(i(453));return e;case"body":if(!(e=t.body))throw Error(i(454));return e;default:throw Error(i(451))}}function wd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ze(e)}var kd=new Map,Sd=new Set;function Ad(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Cd=$.d;$.d={f:function(){var e=Cd.f(),t=Bu();return e||t},r:function(e){var t=We(e);null!==t&&5===t.tag&&"form"===t.type?Ri(t):Cd.r(e)},D:function(e){Cd.D(e),Id("dns-prefetch",e,null)},C:function(e,t){Cd.C(e,t),Id("preconnect",e,t)},L:function(e,t,n){Cd.L(e,t,n);var r=Td;if(r&&e&&t){var o='link[rel="preload"][as="'+mt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(o+='[imagesrcset="'+mt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(o+='[imagesizes="'+mt(n.imageSizes)+'"]')):o+='[href="'+mt(e)+'"]';var a=o;switch(t){case"style":a=Nd(e);break;case"script":a=Dd(e)}kd.has(a)||(e=p({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),kd.set(a,e),null!==r.querySelector(o)||"style"===t&&r.querySelector(Od(a))||"script"===t&&r.querySelector(Rd(a))||(ed(t=r.createElement("link"),"link",e),He(t),r.head.appendChild(t)))}},m:function(e,t){Cd.m(e,t);var n=Td;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",o='link[rel="modulepreload"][as="'+mt(r)+'"][href="'+mt(e)+'"]',a=o;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=Dd(e)}if(!kd.has(a)&&(e=p({rel:"modulepreload",href:e},t),kd.set(a,e),null===n.querySelector(o))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Rd(a)))return}ed(r=n.createElement("link"),"link",e),He(r),n.head.appendChild(r)}}},X:function(e,t){Cd.X(e,t);var n=Td;if(n&&e){var r=Ue(n).hoistableScripts,o=Dd(e),a=r.get(o);a||((a=n.querySelector(Rd(o)))||(e=p({src:e,async:!0},t),(t=kd.get(o))&&_d(e,t),He(a=n.createElement("script")),ed(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(o,a))}},S:function(e,t,n){Cd.S(e,t,n);var r=Td;if(r&&e){var o=Ue(r).hoistableStyles,a=Nd(e);t=t||"default";var i=o.get(a);if(!i){var s={loading:0,preload:null};if(i=r.querySelector(Od(a)))s.loading=5;else{e=p({rel:"stylesheet",href:e,"data-precedence":t},n),(n=kd.get(a))&&jd(e,n);var l=i=r.createElement("link");He(l),ed(l,"link",e),l._p=new Promise((function(e,t){l.onload=e,l.onerror=t})),l.addEventListener("load",(function(){s.loading|=1})),l.addEventListener("error",(function(){s.loading|=2})),s.loading|=4,$d(i,t,r)}i={type:"stylesheet",instance:i,count:1,state:s},o.set(a,i)}}},M:function(e,t){Cd.M(e,t);var n=Td;if(n&&e){var r=Ue(n).hoistableScripts,o=Dd(e),a=r.get(o);a||((a=n.querySelector(Rd(o)))||(e=p({src:e,async:!0,type:"module"},t),(t=kd.get(o))&&_d(e,t),He(a=n.createElement("script")),ed(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(o,a))}}};var Td="undefined"===typeof document?null:document;function Id(e,t,n){var r=Td;if(r&&"string"===typeof t&&t){var o=mt(t);o='link[rel="'+e+'"][href="'+o+'"]',"string"===typeof n&&(o+='[crossorigin="'+n+'"]'),Sd.has(o)||(Sd.add(o),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(o)&&(ed(t=r.createElement("link"),"link",e),He(t),r.head.appendChild(t)))}}function Ed(e,t,n,r){var o,a,s,l,u=(u=U.current)?Ad(u):null;if(!u)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Nd(n.href),(r=(n=Ue(u).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Nd(n.href);var c=Ue(u).hoistableStyles,d=c.get(e);if(d||(u=u.ownerDocument||u,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,d),(c=u.querySelector(Od(e)))&&!c._p&&(d.instance=c,d.state.loading=5),kd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},kd.set(e,n),c||(o=u,a=e,s=n,l=d.state,o.querySelector('link[rel="preload"][as="style"]['+a+"]")?l.loading=1:(a=o.createElement("link"),l.preload=a,a.addEventListener("load",(function(){return l.loading|=1})),a.addEventListener("error",(function(){return l.loading|=2})),ed(a,"link",s),He(a),o.head.appendChild(a))))),t&&null===r)throw Error(i(528,""));return d}if(t&&null!==r)throw Error(i(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Dd(n),(r=(n=Ue(u).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function Nd(e){return'href="'+mt(e)+'"'}function Od(e){return'link[rel="stylesheet"]['+e+"]"}function Md(e){return p({},e,{"data-precedence":e.precedence,precedence:null})}function Dd(e){return'[src="'+mt(e)+'"]'}function Rd(e){return"script[async]"+e}function Pd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+mt(n.href)+'"]');if(r)return t.instance=r,He(r),r;var o=p({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return He(r=(e.ownerDocument||e).createElement("style")),ed(r,"style",o),$d(r,n.precedence,e),t.instance=r;case"stylesheet":o=Nd(n.href);var a=e.querySelector(Od(o));if(a)return t.state.loading|=4,t.instance=a,He(a),a;r=Md(n),(o=kd.get(o))&&jd(r,o),He(a=(e.ownerDocument||e).createElement("link"));var s=a;return s._p=new Promise((function(e,t){s.onload=e,s.onerror=t})),ed(a,"link",r),t.state.loading|=4,$d(a,n.precedence,e),t.instance=a;case"script":return a=Dd(n.src),(o=e.querySelector(Rd(a)))?(t.instance=o,He(o),o):(r=n,(o=kd.get(a))&&_d(r=p({},n),o),He(o=(e=e.ownerDocument||e).createElement("script")),ed(o,"link",r),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(i(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,$d(r,n.precedence,e));return t.instance}function $d(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=r.length?r[r.length-1]:null,a=o,i=0;i<r.length;i++){var s=r[i];if(s.dataset.precedence===t)a=s;else if(a!==o)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function jd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function _d(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Fd=null;function Ld(e,t,n){if(null===Fd){var r=new Map,o=Fd=new Map;o.set(n,r)}else(r=(o=Fd).get(n))||(r=new Map,o.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),o=0;o<n.length;o++){var a=n[o];if(!(a[Le]||a[De]||"link"===e&&"stylesheet"===a.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==a.namespaceURI){var i=a.getAttribute(t)||"";i=e+i;var s=r.get(i);s?s.push(a):r.set(i,[a])}}return r}function zd(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Bd(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Wd=null;function Vd(){}function Ud(){if(this.count--,0===this.count)if(this.stylesheets)Gd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Hd=null;function Gd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Hd=new Map,t.forEach(qd,e),Hd=null,Ud.call(e))}function qd(e,t){if(!(4&t.state.loading)){var n=Hd.get(e);if(n)var r=n.get(null);else{n=new Map,Hd.set(e,n);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<o.length;a++){var i=o[a];"LINK"!==i.nodeName&&"not all"===i.getAttribute("media")||(n.set(i.dataset.precedence,i),r=i)}r&&n.set(null,r)}i=(o=t.instance).getAttribute("data-precedence"),(a=n.get(i)||r)===r&&n.set(null,o),n.set(i,o),this.count++,r=Ud.bind(this),o.addEventListener("load",r),o.addEventListener("error",r),a?a.parentNode.insertBefore(o,a.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(o,e.firstChild),t.state.loading|=4}}var Kd={$$typeof:w,Provider:null,Consumer:null,_currentValue:j,_currentValue2:j,_threadCount:0};function Xd(e,t,n,r,o,a,i,s){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ae(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ae(0),this.hiddenUpdates=Ae(null),this.identifierPrefix=r,this.onUncaughtError=o,this.onCaughtError=a,this.onRecoverableError=i,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=s,this.incompleteTransitions=new Map}function Yd(e,t,n,r,o,a,i,s,l,u,c,d){return e=new Xd(e,t,n,i,s,l,u,d),t=1,!0===a&&(t|=24),a=jr(3,null,null,t),e.current=a,a.stateNode=e,(t=Po()).refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:t},ra(a),e}function Qd(e){return e?e=Pr:Pr}function Zd(e,t,n,r,o,a){o=Qd(o),null===r.context?r.context=o:r.pendingContext=o,(r=aa(t)).payload={element:n},null!==(a=void 0===a?null:a)&&(r.callback=a),null!==(n=ia(e,r,t))&&(ju(n,0,t),sa(n,e,t))}function Jd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ep(e,t){Jd(e,t),(e=e.alternate)&&Jd(e,t)}function tp(e){if(13===e.tag){var t=Mr(e,67108864);null!==t&&ju(t,0,67108864),ep(e,67108864)}}var np=!0;function rp(e,t,n,r){var o=P.T;P.T=null;var a=$.p;try{$.p=2,ap(e,t,n,r)}finally{$.p=a,P.T=o}}function op(e,t,n,r){var o=P.T;P.T=null;var a=$.p;try{$.p=8,ap(e,t,n,r)}finally{$.p=a,P.T=o}}function ap(e,t,n,r){if(np){var o=ip(r);if(null===o)Wc(e,t,r,sp,n),vp(e,r);else if(function(e,t,n,r,o){switch(t){case"focusin":return dp=bp(dp,e,t,n,r,o),!0;case"dragenter":return pp=bp(pp,e,t,n,r,o),!0;case"mouseover":return hp=bp(hp,e,t,n,r,o),!0;case"pointerover":var a=o.pointerId;return fp.set(a,bp(fp.get(a)||null,e,t,n,r,o)),!0;case"gotpointercapture":return a=o.pointerId,mp.set(a,bp(mp.get(a)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r))r.stopPropagation();else if(vp(e,r),4&t&&-1<yp.indexOf(e)){for(;null!==o;){var a=We(o);if(null!==a)switch(a.tag){case 3:if((a=a.stateNode).current.memoizedState.isDehydrated){var i=ve(a.pendingLanes);if(0!==i){var s=a;for(s.pendingLanes|=2,s.entangledLanes|=2;i;){var l=1<<31-he(i);s.entanglements[1]|=l,i&=~l}kc(a),0===(6&nu)&&(ku=te()+500,Sc(0,!1))}}break;case 13:null!==(s=Mr(a,2))&&ju(s,0,2),Bu(),ep(a,2)}if(null===(a=ip(r))&&Wc(e,t,r,sp,n),a===o)break;o=a}null!==o&&r.stopPropagation()}else Wc(e,t,r,null,n)}}function ip(e){return lp(e=Mt(e))}var sp=null;function lp(e){if(sp=null,null!==(e=Be(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=u(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return sp=e,null}function up(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case re:return 2;case oe:return 8;case ae:case ie:return 32;case se:return 268435456;default:return 32}default:return 32}}var cp=!1,dp=null,pp=null,hp=null,fp=new Map,mp=new Map,gp=[],yp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vp(e,t){switch(e){case"focusin":case"focusout":dp=null;break;case"dragenter":case"dragleave":pp=null;break;case"mouseover":case"mouseout":hp=null;break;case"pointerover":case"pointerout":fp.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":mp.delete(t.pointerId)}}function bp(e,t,n,r,o,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[o]},null!==t&&(null!==(t=We(t))&&tp(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function xp(e){var t=Be(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=u(n)))return e.blockedOn=t,void function(e,t){var n=$.p;try{return $.p=e,t()}finally{$.p=n}}(e.priority,(function(){if(13===n.tag){var e=Pu();e=Ee(e);var t=Mr(n,e);null!==t&&ju(t,0,e),ep(n,e)}}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function wp(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=ip(e.nativeEvent);if(null!==n)return null!==(t=We(n))&&tp(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Ot=r,n.target.dispatchEvent(r),Ot=null,t.shift()}return!0}function kp(e,t,n){wp(e)&&n.delete(t)}function Sp(){cp=!1,null!==dp&&wp(dp)&&(dp=null),null!==pp&&wp(pp)&&(pp=null),null!==hp&&wp(hp)&&(hp=null),fp.forEach(kp),mp.forEach(kp)}function Ap(e,t){e.blockedOn===t&&(e.blockedOn=null,cp||(cp=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Sp)))}var Cp=null;function Tp(e){Cp!==e&&(Cp=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,(function(){Cp===e&&(Cp=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],o=e[t+2];if("function"!==typeof r){if(null===lp(r||n))continue;break}var a=We(n);null!==a&&(e.splice(t,3),t-=3,Mi(a,{pending:!0,data:o,method:n.method,action:r},r,o))}})))}function Ip(e){function t(t){return Ap(t,e)}null!==dp&&Ap(dp,e),null!==pp&&Ap(pp,e),null!==hp&&Ap(hp,e),fp.forEach(t),mp.forEach(t);for(var n=0;n<gp.length;n++){var r=gp[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<gp.length&&null===(n=gp[0]).blockedOn;)xp(n),null===n.blockedOn&&gp.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var o=n[r],a=n[r+1],i=o[Re]||null;if("function"===typeof a)i||Tp(n);else if(i){var s=null;if(a&&a.hasAttribute("formAction")){if(o=a,i=a[Re]||null)s=i.formAction;else if(null!==lp(o))continue}else s=i.action;"function"===typeof s?n[r+1]=s:(n.splice(r,3),r-=3),Tp(n)}}}function Ep(e){this._internalRoot=e}function Np(e){this._internalRoot=e}Np.prototype.render=Ep.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Zd(t.current,Pu(),e,t,null,null)},Np.prototype.unmount=Ep.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Zd(e.current,2,null,e,null,null),Bu(),t[Pe]=null}},Np.prototype.unstable_scheduleHydration=function(e){if(e){var t=Oe();e={blockedOn:null,target:e,priority:t};for(var n=0;n<gp.length&&0!==t&&t<gp[n].priority;n++);gp.splice(n,0,e),0===n&&xp(e)}};var Op=o.version;if("19.1.0"!==Op)throw Error(i(527,Op,"19.1.0"));$.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var a=o.alternate;if(null===a){if(null!==(r=o.return)){n=r;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===n)return c(o),e;if(a===r)return c(o),t;a=a.sibling}throw Error(i(188))}if(n.return!==r.return)n=o,r=a;else{for(var s=!1,u=o.child;u;){if(u===n){s=!0,n=o,r=a;break}if(u===r){s=!0,r=o,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=o;break}if(u===r){s=!0,r=a,n=o;break}u=u.sibling}if(!s)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var Mp={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.1.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Dp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dp.isDisabled&&Dp.supportsFiber)try{ce=Dp.inject(Mp),de=Dp}catch(Pp){}}t.createRoot=function(e,t){if(!s(e))throw Error(i(299));var n=!1,r="",o=vs,a=bs,l=xs;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(o=t.onUncaughtError),void 0!==t.onCaughtError&&(a=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Yd(e,1,!1,null,0,n,r,o,a,l,0,null),e[Pe]=t.current,zc(e),new Ep(t)},t.hydrateRoot=function(e,t,n){if(!s(e))throw Error(i(299));var r=!1,o="",a=vs,l=bs,u=xs,c=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onUncaughtError&&(a=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(u=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(c=n.formState)),(t=Yd(e,1,!0,t,0,r,o,a,l,u,0,c)).context=Qd(null),n=t.current,(o=aa(r=Ee(r=Pu()))).callback=null,ia(n,o,r),n=r,t.current.lanes=n,Ce(t,n),kc(t),e[Pe]=t.current,zc(e),new Np(t)},t.version="19.1.0"},7066:function(e,t,n){var r;!function(e,o){function a(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),t.next()}function i(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function s(e,t){var n=new a(e),r=t&&t.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},o.int32=n.next,o.quick=o,r&&("object"==typeof r&&i(r,n),o.state=function(){return i(n,{})}),o}o&&o.exports?o.exports=s:n.amdD&&n.amdO?void 0===(r=function(){return s}.call(t,n,t,o))||(o.exports=r):this.xor128=s}(0,e=n.nmd(e),n.amdD)},7105:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},7116:(e,t,n)=>{var r=n(9812),o=n(2777),a=n(4052),i=r?r.isConcatSpreadable:void 0;e.exports=function(e){return a(e)||o(e)||!!(i&&e&&e[i])}},7123:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=function(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}},7159:(e,t,n)=>{var r=n(2622);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},7160:(e,t,n)=>{var r=n(7563),o=n(9935),a=n(4190),i=n(1946),s=n(1714);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=o,l.prototype.get=a,l.prototype.has=i,l.prototype.set=s,e.exports=l},7162:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>s,BO:()=>i,Yn:()=>a});var r=n(7598),o=n(9751);function a(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){const n=`vars.${t}`.split(".").reduce(((e,t)=>e&&e[t]?e[t]:null),e);if(null!=n)return n}return t.split(".").reduce(((e,t)=>e&&null!=e[t]?e[t]:null),e)}function i(e,t,n){let r,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||o:a(e,n)||o,t&&(r=t(r,o,e)),r}const s=function(e){const{prop:t,cssProperty:n=e.prop,themeKey:s,transform:l}=e,u=e=>{if(null==e[t])return null;const u=e[t],c=a(e.theme,s)||{};return(0,o.NI)(e,u,(e=>{let o=i(c,l,e);return e===o&&"string"===typeof e&&(o=i(c,l,`${t}${"default"===e?"":(0,r.A)(e)}`,e)),!1===n?o:{[n]:o}}))};return u.propTypes={},u.filterProps=[t],u}},7227:function(e){e.exports=function(){"use strict";return function(e,t,n){var r=function(e,t){if(!t||!t.length||1===t.length&&!t[0]||1===t.length&&Array.isArray(t[0])&&!t[0].length)return null;var n;1===t.length&&t[0].length>0&&(t=t[0]),n=(t=t.filter((function(e){return e})))[0];for(var r=1;r<t.length;r+=1)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n};n.max=function(){var e=[].slice.call(arguments,0);return r("isAfter",e)},n.min=function(){var e=[].slice.call(arguments,0);return r("isBefore",e)}}}()},7251:(e,t,n)=>{var r=n(8724),o=n(7160),a=n(5204);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(a||o),string:new r}}},7266:(e,t,n)=>{"use strict";var r=n(4994);t.X4=h,t.e$=f,t.tL=g,t.eM=function(e,t){const n=p(e),r=p(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)},t.a=m;var o=r(n(457)),a=r(n(6531));function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return(0,a.default)(e,t,n)}function s(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&1===n[0].length&&(n=n.map((e=>e+e))),n?`rgb${4===n.length?"a":""}(${n.map(((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3)).join(", ")})`:""}function l(e){if(e.type)return e;if("#"===e.charAt(0))return l(s(e));const t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error((0,o.default)(9,e));let r,a=e.substring(t+1,e.length-1);if("color"===n){if(a=a.split(" "),r=a.shift(),4===a.length&&"/"===a[3].charAt(0)&&(a[3]=a[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error((0,o.default)(10,r))}else a=a.split(",");return a=a.map((e=>parseFloat(e))),{type:n,values:a,colorSpace:r}}const u=e=>{const t=l(e);return t.values.slice(0,3).map(((e,n)=>-1!==t.type.indexOf("hsl")&&0!==n?`${e}%`:e)).join(" ")};function c(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return-1!==t.indexOf("rgb")?r=r.map(((e,t)=>t<3?parseInt(e,10):e)):-1!==t.indexOf("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),r=-1!==t.indexOf("color")?`${n} ${r.join(" ")}`:`${r.join(", ")}`,`${t}(${r})`}function d(e){e=l(e);const{values:t}=e,n=t[0],r=t[1]/100,o=t[2]/100,a=r*Math.min(o,1-o),i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return o-a*Math.max(Math.min(t-3,9-t,1),-1)};let s="rgb";const u=[Math.round(255*i(0)),Math.round(255*i(8)),Math.round(255*i(4))];return"hsla"===e.type&&(s+="a",u.push(t[3])),c({type:s,values:u})}function p(e){let t="hsl"===(e=l(e)).type||"hsla"===e.type?l(d(e)).values:e.values;return t=t.map((t=>("color"!==e.type&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4))),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function h(e,t){return e=l(e),t=i(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]=`/${t}`:e.values[3]=t,c(e)}function f(e,t){if(e=l(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return c(e)}function m(e,t){if(e=l(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return c(e)}function g(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return p(e)>.5?f(e,t):m(e,t)}},7283:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function o(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function a(e,t,r,a,i){if("function"!==typeof r)throw new TypeError("The listener must be a function");var s=new o(r,a||e,i),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function i(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,o=[];if(0===this._eventsCount)return o;for(r in e=this._events)t.call(e,r)&&o.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(e)):o},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var o=0,a=r.length,i=new Array(a);o<a;o++)i[o]=r[o].fn;return i},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,o,a,i){var s=n?n+e:e;if(!this._events[s])return!1;var l,u,c=this._events[s],d=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),d){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,r),!0;case 4:return c.fn.call(c.context,t,r,o),!0;case 5:return c.fn.call(c.context,t,r,o,a),!0;case 6:return c.fn.call(c.context,t,r,o,a,i),!0}for(u=1,l=new Array(d-1);u<d;u++)l[u-1]=arguments[u];c.fn.apply(c.context,l)}else{var p,h=c.length;for(u=0;u<h;u++)switch(c[u].once&&this.removeListener(e,c[u].fn,void 0,!0),d){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,t);break;case 3:c[u].fn.call(c[u].context,t,r);break;case 4:c[u].fn.call(c[u].context,t,r,o);break;default:if(!l)for(p=1,l=new Array(d-1);p<d;p++)l[p-1]=arguments[p];c[u].fn.apply(c[u].context,l)}}return!0},s.prototype.on=function(e,t,n){return a(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return a(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,o){var a=n?n+e:e;if(!this._events[a])return this;if(!t)return i(this,a),this;var s=this._events[a];if(s.fn)s.fn!==t||o&&!s.once||r&&s.context!==r||i(this,a);else{for(var l=0,u=[],c=s.length;l<c;l++)(s[l].fn!==t||o&&!s[l].once||r&&s[l].context!==r)&&u.push(s[l]);u.length?this._events[a]=1===u.length?u[0]:u:i(this,a)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&i(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s},7303:(e,t,n)=>{var r=n(801),o=1/0;e.exports=function(e){return e?(e=r(e))===o||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}},7328:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(5043);const o=function(e,t){var n,o;return r.isValidElement(e)&&-1!==t.indexOf(null!=(n=e.type.muiName)?n:null==(o=e.type)||null==(o=o._payload)||null==(o=o.value)?void 0:o.muiName)}},7344:(e,t,n)=>{"use strict";n.d(t,{A:()=>P});var r=n(8168),o=n(8587),a=n(7868),i=n(9172),s=n(7758),l=n(8812),u=n(8280);var c=n(7266);const d={black:"#000",white:"#fff"},p={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},h={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},f={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},m={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},g={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},y={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},v={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},b=["mode","contrastThreshold","tonalOffset"],x={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:d.white,default:d.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},w={text:{primary:d.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:d.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function k(e,t,n,r){const o=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=(0,c.a)(e.main,o):"dark"===t&&(e.dark=(0,c.e$)(e.main,a)))}function S(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:s=.2}=e,l=(0,o.A)(e,b),u=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:g[200],light:g[50],dark:g[400]}:{main:g[700],light:g[400],dark:g[800]}}(t),S=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:h[200],light:h[50],dark:h[400]}:{main:h[500],light:h[300],dark:h[700]}}(t),A=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:f[500],light:f[300],dark:f[700]}:{main:f[700],light:f[400],dark:f[800]}}(t),C=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:y[400],light:y[300],dark:y[700]}:{main:y[700],light:y[500],dark:y[900]}}(t),T=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:v[400],light:v[300],dark:v[700]}:{main:v[800],light:v[500],dark:v[900]}}(t),I=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:m[400],light:m[300],dark:m[700]}:{main:"#ed6c02",light:m[500],dark:m[900]}}(t);function E(e){return(0,c.eM)(e,w.text.primary)>=n?w.text.primary:x.text.primary}const N=e=>{let{color:t,name:n,mainShade:o=500,lightShade:i=300,darkShade:l=700}=e;if(t=(0,r.A)({},t),!t.main&&t[o]&&(t.main=t[o]),!t.hasOwnProperty("main"))throw new Error((0,a.A)(11,n?` (${n})`:"",o));if("string"!==typeof t.main)throw new Error((0,a.A)(12,n?` (${n})`:"",JSON.stringify(t.main)));return k(t,"light",i,s),k(t,"dark",l,s),t.contrastText||(t.contrastText=E(t.main)),t},O={dark:w,light:x};return(0,i.A)((0,r.A)({common:(0,r.A)({},d),mode:t,primary:N({color:u,name:"primary"}),secondary:N({color:S,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:N({color:A,name:"error"}),warning:N({color:I,name:"warning"}),info:N({color:C,name:"info"}),success:N({color:T,name:"success"}),grey:p,contrastThreshold:n,getContrastText:E,augmentColor:N,tonalOffset:s},O[t]),l)}const A=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];const C={textTransform:"uppercase"},T='"Roboto", "Helvetica", "Arial", sans-serif';function I(e,t){const n="function"===typeof t?t(e):t,{fontFamily:a=T,fontSize:s=14,fontWeightLight:l=300,fontWeightRegular:u=400,fontWeightMedium:c=500,fontWeightBold:d=700,htmlFontSize:p=16,allVariants:h,pxToRem:f}=n,m=(0,o.A)(n,A);const g=s/14,y=f||(e=>e/p*g+"rem"),v=(e,t,n,o,i)=>{return(0,r.A)({fontFamily:a,fontWeight:e,fontSize:y(t),lineHeight:n},a===T?{letterSpacing:(s=o/t,Math.round(1e5*s)/1e5)+"em"}:{},i,h);var s},b={h1:v(l,96,1.167,-1.5),h2:v(l,60,1.2,-.5),h3:v(u,48,1.167,0),h4:v(u,34,1.235,.25),h5:v(u,24,1.334,0),h6:v(c,20,1.6,.15),subtitle1:v(u,16,1.75,.15),subtitle2:v(c,14,1.57,.1),body1:v(u,16,1.5,.15),body2:v(u,14,1.43,.15),button:v(c,14,1.75,.4,C),caption:v(u,12,1.66,.4),overline:v(u,12,2.66,1,C),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return(0,i.A)((0,r.A)({htmlFontSize:p,pxToRem:y,fontFamily:a,fontSize:s,fontWeightLight:l,fontWeightRegular:u,fontWeightMedium:c,fontWeightBold:d},b),m,{clone:!1})}function E(){return[`${arguments.length<=0?void 0:arguments[0]}px ${arguments.length<=1?void 0:arguments[1]}px ${arguments.length<=2?void 0:arguments[2]}px ${arguments.length<=3?void 0:arguments[3]}px rgba(0,0,0,0.2)`,`${arguments.length<=4?void 0:arguments[4]}px ${arguments.length<=5?void 0:arguments[5]}px ${arguments.length<=6?void 0:arguments[6]}px ${arguments.length<=7?void 0:arguments[7]}px rgba(0,0,0,0.14)`,`${arguments.length<=8?void 0:arguments[8]}px ${arguments.length<=9?void 0:arguments[9]}px ${arguments.length<=10?void 0:arguments[10]}px ${arguments.length<=11?void 0:arguments[11]}px rgba(0,0,0,0.12)`].join(",")}const N=["none",E(0,2,1,-1,0,1,1,0,0,1,3,0),E(0,3,1,-2,0,2,2,0,0,1,5,0),E(0,3,3,-2,0,3,4,0,0,1,8,0),E(0,2,4,-1,0,4,5,0,0,1,10,0),E(0,3,5,-1,0,5,8,0,0,1,14,0),E(0,3,5,-1,0,6,10,0,0,1,18,0),E(0,4,5,-2,0,7,10,1,0,2,16,1),E(0,5,5,-3,0,8,10,1,0,3,14,2),E(0,5,6,-3,0,9,12,1,0,3,16,2),E(0,6,6,-3,0,10,14,1,0,4,18,3),E(0,6,7,-4,0,11,15,1,0,4,20,3),E(0,7,8,-4,0,12,17,2,0,5,22,4),E(0,7,8,-4,0,13,19,2,0,5,24,4),E(0,7,9,-4,0,14,21,2,0,5,26,4),E(0,8,9,-5,0,15,22,2,0,6,28,5),E(0,8,10,-5,0,16,24,2,0,6,30,5),E(0,8,11,-5,0,17,26,2,0,6,32,5),E(0,9,11,-5,0,18,28,2,0,7,34,6),E(0,9,12,-6,0,19,29,2,0,7,36,6),E(0,10,13,-6,0,20,31,3,0,8,38,7),E(0,10,13,-6,0,21,33,3,0,8,40,7),E(0,10,14,-6,0,22,35,3,0,8,42,7),E(0,11,14,-7,0,23,36,3,0,9,44,8),E(0,11,15,-7,0,24,38,3,0,9,46,8)];var O=n(4318);const M={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},D=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function R(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{mixins:t={},palette:n={},transitions:c={},typography:d={}}=e,p=(0,o.A)(e,D);if(e.vars&&void 0===e.generateCssVars)throw new Error((0,a.A)(18));const h=S(n),f=(0,u.A)(e);let m=(0,i.A)(f,{mixins:(g=f.breakpoints,y=t,(0,r.A)({toolbar:{minHeight:56,[g.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[g.up("sm")]:{minHeight:64}}},y)),palette:h,shadows:N.slice(),typography:I(h,d),transitions:(0,O.Ay)(c),zIndex:(0,r.A)({},M)});var g,y;m=(0,i.A)(m,p);for(var v=arguments.length,b=new Array(v>1?v-1:0),x=1;x<v;x++)b[x-1]=arguments[x];return m=b.reduce(((e,t)=>(0,i.A)(e,t)),m),m.unstable_sxConfig=(0,r.A)({},s.A,null==p?void 0:p.unstable_sxConfig),m.unstable_sx=function(e){return(0,l.A)({sx:e,theme:this})},m}const P=R},7353:e=>{e.exports=n;var t=null;try{t=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(C){}function n(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function r(e){return!0===(e&&e.__isLong__)}n.prototype.__isLong__,Object.defineProperty(n.prototype,"__isLong__",{value:!0}),n.isLong=r;var o={},a={};function i(e,t){var n,r,i;return t?(i=0<=(e>>>=0)&&e<256)&&(r=a[e])?r:(n=l(e,(0|e)<0?-1:0,!0),i&&(a[e]=n),n):(i=-128<=(e|=0)&&e<128)&&(r=o[e])?r:(n=l(e,e<0?-1:0,!1),i&&(o[e]=n),n)}function s(e,t){if(isNaN(e))return t?y:g;if(t){if(e<0)return y;if(e>=h)return k}else{if(e<=-f)return S;if(e+1>=f)return w}return e<0?s(-e,t).neg():l(e%p|0,e/p|0,t)}function l(e,t,r){return new n(e,t,r)}n.fromInt=i,n.fromNumber=s,n.fromBits=l;var u=Math.pow;function c(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return g;if("number"===typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return c(e.substring(1),t,n).neg();for(var o=s(u(n,8)),a=g,i=0;i<e.length;i+=8){var l=Math.min(8,e.length-i),d=parseInt(e.substring(i,i+l),n);if(l<8){var p=s(u(n,l));a=a.mul(p).add(s(d))}else a=(a=a.mul(o)).add(s(d))}return a.unsigned=t,a}function d(e,t){return"number"===typeof e?s(e,t):"string"===typeof e?c(e,t):l(e.low,e.high,"boolean"===typeof t?t:e.unsigned)}n.fromString=c,n.fromValue=d;var p=4294967296,h=p*p,f=h/2,m=i(1<<24),g=i(0);n.ZERO=g;var y=i(0,!0);n.UZERO=y;var v=i(1);n.ONE=v;var b=i(1,!0);n.UONE=b;var x=i(-1);n.NEG_ONE=x;var w=l(-1,2147483647,!1);n.MAX_VALUE=w;var k=l(-1,-1,!0);n.MAX_UNSIGNED_VALUE=k;var S=l(0,-2147483648,!1);n.MIN_VALUE=S;var A=n.prototype;A.toInt=function(){return this.unsigned?this.low>>>0:this.low},A.toNumber=function(){return this.unsigned?(this.high>>>0)*p+(this.low>>>0):this.high*p+(this.low>>>0)},A.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(S)){var t=s(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var o=s(u(e,6),this.unsigned),a=this,i="";;){var l=a.div(o),c=(a.sub(l.mul(o)).toInt()>>>0).toString(e);if((a=l).isZero())return c+i;for(;c.length<6;)c="0"+c;i=""+c+i}},A.getHighBits=function(){return this.high},A.getHighBitsUnsigned=function(){return this.high>>>0},A.getLowBits=function(){return this.low},A.getLowBitsUnsigned=function(){return this.low>>>0},A.getNumBitsAbs=function(){if(this.isNegative())return this.eq(S)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},A.isZero=function(){return 0===this.high&&0===this.low},A.eqz=A.isZero,A.isNegative=function(){return!this.unsigned&&this.high<0},A.isPositive=function(){return this.unsigned||this.high>=0},A.isOdd=function(){return 1===(1&this.low)},A.isEven=function(){return 0===(1&this.low)},A.equals=function(e){return r(e)||(e=d(e)),(this.unsigned===e.unsigned||this.high>>>31!==1||e.high>>>31!==1)&&(this.high===e.high&&this.low===e.low)},A.eq=A.equals,A.notEquals=function(e){return!this.eq(e)},A.neq=A.notEquals,A.ne=A.notEquals,A.lessThan=function(e){return this.comp(e)<0},A.lt=A.lessThan,A.lessThanOrEqual=function(e){return this.comp(e)<=0},A.lte=A.lessThanOrEqual,A.le=A.lessThanOrEqual,A.greaterThan=function(e){return this.comp(e)>0},A.gt=A.greaterThan,A.greaterThanOrEqual=function(e){return this.comp(e)>=0},A.gte=A.greaterThanOrEqual,A.ge=A.greaterThanOrEqual,A.compare=function(e){if(r(e)||(e=d(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},A.comp=A.compare,A.negate=function(){return!this.unsigned&&this.eq(S)?S:this.not().add(v)},A.neg=A.negate,A.add=function(e){r(e)||(e=d(e));var t=this.high>>>16,n=65535&this.high,o=this.low>>>16,a=65535&this.low,i=e.high>>>16,s=65535&e.high,u=e.low>>>16,c=0,p=0,h=0,f=0;return h+=(f+=a+(65535&e.low))>>>16,p+=(h+=o+u)>>>16,c+=(p+=n+s)>>>16,c+=t+i,l((h&=65535)<<16|(f&=65535),(c&=65535)<<16|(p&=65535),this.unsigned)},A.subtract=function(e){return r(e)||(e=d(e)),this.add(e.neg())},A.sub=A.subtract,A.multiply=function(e){if(this.isZero())return g;if(r(e)||(e=d(e)),t)return l(t.mul(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned);if(e.isZero())return g;if(this.eq(S))return e.isOdd()?S:g;if(e.eq(S))return this.isOdd()?S:g;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(m)&&e.lt(m))return s(this.toNumber()*e.toNumber(),this.unsigned);var n=this.high>>>16,o=65535&this.high,a=this.low>>>16,i=65535&this.low,u=e.high>>>16,c=65535&e.high,p=e.low>>>16,h=65535&e.low,f=0,y=0,v=0,b=0;return v+=(b+=i*h)>>>16,y+=(v+=a*h)>>>16,v&=65535,y+=(v+=i*p)>>>16,f+=(y+=o*h)>>>16,y&=65535,f+=(y+=a*p)>>>16,y&=65535,f+=(y+=i*c)>>>16,f+=n*h+o*p+a*c+i*u,l((v&=65535)<<16|(b&=65535),(f&=65535)<<16|(y&=65535),this.unsigned)},A.mul=A.multiply,A.divide=function(e){if(r(e)||(e=d(e)),e.isZero())throw Error("division by zero");var n,o,a;if(t)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?l((this.unsigned?t.div_u:t.div_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?y:g;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return y;if(e.gt(this.shru(1)))return b;a=y}else{if(this.eq(S))return e.eq(v)||e.eq(x)?S:e.eq(S)?v:(n=this.shr(1).div(e).shl(1)).eq(g)?e.isNegative()?v:x:(o=this.sub(e.mul(n)),a=n.add(o.div(e)));if(e.eq(S))return this.unsigned?y:g;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();a=g}for(o=this;o.gte(e);){n=Math.max(1,Math.floor(o.toNumber()/e.toNumber()));for(var i=Math.ceil(Math.log(n)/Math.LN2),c=i<=48?1:u(2,i-48),p=s(n),h=p.mul(e);h.isNegative()||h.gt(o);)h=(p=s(n-=c,this.unsigned)).mul(e);p.isZero()&&(p=v),a=a.add(p),o=o.sub(h)}return a},A.div=A.divide,A.modulo=function(e){return r(e)||(e=d(e)),t?l((this.unsigned?t.rem_u:t.rem_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},A.mod=A.modulo,A.rem=A.modulo,A.not=function(){return l(~this.low,~this.high,this.unsigned)},A.and=function(e){return r(e)||(e=d(e)),l(this.low&e.low,this.high&e.high,this.unsigned)},A.or=function(e){return r(e)||(e=d(e)),l(this.low|e.low,this.high|e.high,this.unsigned)},A.xor=function(e){return r(e)||(e=d(e)),l(this.low^e.low,this.high^e.high,this.unsigned)},A.shiftLeft=function(e){return r(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?l(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):l(0,this.low<<e-32,this.unsigned)},A.shl=A.shiftLeft,A.shiftRight=function(e){return r(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?l(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):l(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},A.shr=A.shiftRight,A.shiftRightUnsigned=function(e){if(r(e)&&(e=e.toInt()),0===(e&=63))return this;var t=this.high;return e<32?l(this.low>>>e|t<<32-e,t>>>e,this.unsigned):l(32===e?t:t>>>e-32,0,this.unsigned)},A.shru=A.shiftRightUnsigned,A.shr_u=A.shiftRightUnsigned,A.toSigned=function(){return this.unsigned?l(this.low,this.high,!1):this},A.toUnsigned=function(){return this.unsigned?this:l(this.low,this.high,!0)},A.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},A.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},A.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},n.fromBytes=function(e,t,r){return r?n.fromBytesLE(e,t):n.fromBytesBE(e,t)},n.fromBytesLE=function(e,t){return new n(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},n.fromBytesBE=function(e,t){return new n(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},7359:function(e,t,n){var r;!function(e,o){function a(e){var t=this,n=function(){var e=4022871197,t=function(t){t=String(t);for(var n=0;n<t.length;n++){var r=.02519603282416938*(e+=t.charCodeAt(n));r-=e=r>>>0,e=(r*=e)>>>0,e+=4294967296*(r-=e)}return 2.3283064365386963e-10*(e>>>0)};return t}();t.next=function(){var e=2091639*t.s0+2.3283064365386963e-10*t.c;return t.s0=t.s1,t.s1=t.s2,t.s2=e-(t.c=0|e)},t.c=1,t.s0=n(" "),t.s1=n(" "),t.s2=n(" "),t.s0-=n(e),t.s0<0&&(t.s0+=1),t.s1-=n(e),t.s1<0&&(t.s1+=1),t.s2-=n(e),t.s2<0&&(t.s2+=1),n=null}function i(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function s(e,t){var n=new a(e),r=t&&t.state,o=n.next;return o.int32=function(){return 4294967296*n.next()|0},o.double=function(){return o()+11102230246251565e-32*(2097152*o()|0)},o.quick=o,r&&("object"==typeof r&&i(r,n),o.state=function(){return i(n,{})}),o}o&&o.exports?o.exports=s:n.amdD&&n.amdO?void 0===(r=function(){return s}.call(t,n,t,o))||(o.exports=r):this.alea=s}(0,e=n.nmd(e),n.amdD)},7424:(e,t,n)=>{var r=n(755),o=n(2536),a=n(5647),i=n(929),s=a((function(e,t){if(null==e)return[];var n=t.length;return n>1&&i(e,t[0],t[1])?t=[]:n>2&&i(t[0],t[1],t[2])&&(t=[t[0]]),o(e,r(t,1),[])}));e.exports=s},7498:e=>{e.exports=function(e,t){return e>t}},7529:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,a=[];++n<r;){var i=e[n];t(i,n,e)&&(a[o++]=i)}return a}},7563:e=>{e.exports=function(){this.__data__=[],this.size=0}},7574:e=>{e.exports=function(e){return function(t){return e(t)}}},7598:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(7868);function o(e){if("string"!==typeof e)throw new Error((0,r.A)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},7615:(e,t,n)=>{var r=n(5575);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},7676:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}},7685:(e,t,n)=>{var r=n(7937)(n(6552),"DataView");e.exports=r},7758:(e,t,n)=>{"use strict";n.d(t,{A:()=>P});var r=n(8604),o=n(7162),a=n(3815);const i=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>(t.filterProps.forEach((n=>{e[n]=t})),e)),{}),o=e=>Object.keys(e).reduce(((t,n)=>r[n]?(0,a.A)(t,r[n](e)):t),{});return o.propTypes={},o.filterProps=t.reduce(((e,t)=>e.concat(t.filterProps)),[]),o};var s=n(9751);function l(e){return"number"!==typeof e?e:`${e}px solid`}function u(e,t){return(0,o.Ay)({prop:e,themeKey:"borders",transform:t})}const c=u("border",l),d=u("borderTop",l),p=u("borderRight",l),h=u("borderBottom",l),f=u("borderLeft",l),m=u("borderColor"),g=u("borderTopColor"),y=u("borderRightColor"),v=u("borderBottomColor"),b=u("borderLeftColor"),x=u("outline",l),w=u("outlineColor"),k=e=>{if(void 0!==e.borderRadius&&null!==e.borderRadius){const t=(0,r.MA)(e.theme,"shape.borderRadius",4,"borderRadius"),n=e=>({borderRadius:(0,r._W)(t,e)});return(0,s.NI)(e,e.borderRadius,n)}return null};k.propTypes={},k.filterProps=["borderRadius"];i(c,d,p,h,f,m,g,y,v,b,k,x,w);const S=e=>{if(void 0!==e.gap&&null!==e.gap){const t=(0,r.MA)(e.theme,"spacing",8,"gap"),n=e=>({gap:(0,r._W)(t,e)});return(0,s.NI)(e,e.gap,n)}return null};S.propTypes={},S.filterProps=["gap"];const A=e=>{if(void 0!==e.columnGap&&null!==e.columnGap){const t=(0,r.MA)(e.theme,"spacing",8,"columnGap"),n=e=>({columnGap:(0,r._W)(t,e)});return(0,s.NI)(e,e.columnGap,n)}return null};A.propTypes={},A.filterProps=["columnGap"];const C=e=>{if(void 0!==e.rowGap&&null!==e.rowGap){const t=(0,r.MA)(e.theme,"spacing",8,"rowGap"),n=e=>({rowGap:(0,r._W)(t,e)});return(0,s.NI)(e,e.rowGap,n)}return null};C.propTypes={},C.filterProps=["rowGap"];i(S,A,C,(0,o.Ay)({prop:"gridColumn"}),(0,o.Ay)({prop:"gridRow"}),(0,o.Ay)({prop:"gridAutoFlow"}),(0,o.Ay)({prop:"gridAutoColumns"}),(0,o.Ay)({prop:"gridAutoRows"}),(0,o.Ay)({prop:"gridTemplateColumns"}),(0,o.Ay)({prop:"gridTemplateRows"}),(0,o.Ay)({prop:"gridTemplateAreas"}),(0,o.Ay)({prop:"gridArea"}));function T(e,t){return"grey"===t?t:e}i((0,o.Ay)({prop:"color",themeKey:"palette",transform:T}),(0,o.Ay)({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:T}),(0,o.Ay)({prop:"backgroundColor",themeKey:"palette",transform:T}));function I(e){return e<=1&&0!==e?100*e+"%":e}const E=(0,o.Ay)({prop:"width",transform:I}),N=e=>{if(void 0!==e.maxWidth&&null!==e.maxWidth){const t=t=>{var n,r;const o=(null==(n=e.theme)||null==(n=n.breakpoints)||null==(n=n.values)?void 0:n[t])||s.zu[t];return o?"px"!==(null==(r=e.theme)||null==(r=r.breakpoints)?void 0:r.unit)?{maxWidth:`${o}${e.theme.breakpoints.unit}`}:{maxWidth:o}:{maxWidth:I(t)}};return(0,s.NI)(e,e.maxWidth,t)}return null};N.filterProps=["maxWidth"];const O=(0,o.Ay)({prop:"minWidth",transform:I}),M=(0,o.Ay)({prop:"height",transform:I}),D=(0,o.Ay)({prop:"maxHeight",transform:I}),R=(0,o.Ay)({prop:"minHeight",transform:I}),P=((0,o.Ay)({prop:"size",cssProperty:"width",transform:I}),(0,o.Ay)({prop:"size",cssProperty:"height",transform:I}),i(E,N,O,M,D,R,(0,o.Ay)({prop:"boxSizing"})),{border:{themeKey:"borders",transform:l},borderTop:{themeKey:"borders",transform:l},borderRight:{themeKey:"borders",transform:l},borderBottom:{themeKey:"borders",transform:l},borderLeft:{themeKey:"borders",transform:l},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:l},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:k},color:{themeKey:"palette",transform:T},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:T},backgroundColor:{themeKey:"palette",transform:T},p:{style:r.Ms},pt:{style:r.Ms},pr:{style:r.Ms},pb:{style:r.Ms},pl:{style:r.Ms},px:{style:r.Ms},py:{style:r.Ms},padding:{style:r.Ms},paddingTop:{style:r.Ms},paddingRight:{style:r.Ms},paddingBottom:{style:r.Ms},paddingLeft:{style:r.Ms},paddingX:{style:r.Ms},paddingY:{style:r.Ms},paddingInline:{style:r.Ms},paddingInlineStart:{style:r.Ms},paddingInlineEnd:{style:r.Ms},paddingBlock:{style:r.Ms},paddingBlockStart:{style:r.Ms},paddingBlockEnd:{style:r.Ms},m:{style:r.Lc},mt:{style:r.Lc},mr:{style:r.Lc},mb:{style:r.Lc},ml:{style:r.Lc},mx:{style:r.Lc},my:{style:r.Lc},margin:{style:r.Lc},marginTop:{style:r.Lc},marginRight:{style:r.Lc},marginBottom:{style:r.Lc},marginLeft:{style:r.Lc},marginX:{style:r.Lc},marginY:{style:r.Lc},marginInline:{style:r.Lc},marginInlineStart:{style:r.Lc},marginInlineEnd:{style:r.Lc},marginBlock:{style:r.Lc},marginBlockStart:{style:r.Lc},marginBlockEnd:{style:r.Lc},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:S},rowGap:{style:C},columnGap:{style:A},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:I},maxWidth:{style:N},minWidth:{transform:I},height:{transform:I},maxHeight:{transform:I},minHeight:{transform:I},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}})},7760:e=>{e.exports=function(e){return this.__data__.get(e)}},7828:e=>{e.exports=function(){return[]}},7844:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(9640).A},7857:(e,t,n)=>{var r=n(3440),o=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!o&&o in e}},7868:(e,t,n)=>{"use strict";function r(e){let t="https://mui.com/production-error/?code="+e;for(let n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}n.d(t,{A:()=>r})},7894:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},7918:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A});var r=n(7598)},7919:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var o=r(n(39)),a=n(579);t.A=(0,o.default)((0,a.jsx)("path",{d:"M20.57 14.86 22 13.43 20.57 12 17 15.57 8.43 7 12 3.43 10.57 2 9.14 3.43 7.71 2 5.57 4.14 4.14 2.71 2.71 4.14l1.43 1.43L2 7.71l1.43 1.43L2 10.57 3.43 12 7 8.43 15.57 17 12 20.57 13.43 22l1.43-1.43L16.29 22l2.14-2.14 1.43 1.43 1.43-1.43-1.43-1.43L22 16.29z"}),"FitnessCenter")},7937:(e,t,n)=>{var r=n(6954),o=n(4657);e.exports=function(e,t){var n=o(e,t);return r(n)?n:void 0}},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(6672)},8052:(e,t,n)=>{"use strict";var r=n(4994);t.Ay=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n=m,rootShouldForwardProp:r=f,slotShouldForwardProp:l=f}=e,c=e=>(0,u.default)((0,o.default)({},e,{theme:y((0,o.default)({},e,{defaultTheme:n,themeId:t}))}));return c.__mui_systemSx=!0,function(e){let u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,i.internal_processStyles)(e,(e=>e.filter((e=>!(null!=e&&e.__mui_systemSx)))));const{name:d,slot:h,skipVariantsResolver:m,skipSx:x,overridesResolver:w=v(g(h))}=u,k=(0,a.default)(u,p),S=void 0!==m?m:h&&"Root"!==h&&"root"!==h||!1,A=x||!1;let C=f;"Root"===h||"root"===h?C=r:h?C=l:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(C=void 0);const T=(0,i.default)(e,(0,o.default)({shouldForwardProp:C,label:undefined},k)),I=e=>"function"===typeof e&&e.__emotion_real!==e||(0,s.isPlainObject)(e)?r=>b(e,(0,o.default)({},r,{theme:y({theme:r.theme,defaultTheme:n,themeId:t})})):e,E=function(r){let a=I(r);for(var i=arguments.length,s=new Array(i>1?i-1:0),l=1;l<i;l++)s[l-1]=arguments[l];const u=s?s.map(I):[];d&&w&&u.push((e=>{const r=y((0,o.default)({},e,{defaultTheme:n,themeId:t}));if(!r.components||!r.components[d]||!r.components[d].styleOverrides)return null;const a=r.components[d].styleOverrides,i={};return Object.entries(a).forEach((t=>{let[n,a]=t;i[n]=b(a,(0,o.default)({},e,{theme:r}))})),w(e,i)})),d&&!S&&u.push((e=>{var r;const a=y((0,o.default)({},e,{defaultTheme:n,themeId:t}));return b({variants:null==a||null==(r=a.components)||null==(r=r[d])?void 0:r.variants},(0,o.default)({},e,{theme:a}))})),A||u.push(c);const p=u.length-s.length;if(Array.isArray(r)&&p>0){const e=new Array(p).fill("");a=[...r,...e],a.raw=[...r.raw,...e]}const h=T(a,...u);return e.muiName&&(h.muiName=e.muiName),h};return T.withConfig&&(E.withConfig=T.withConfig),E}};var o=r(n(4634)),a=r(n(4893)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(r,a,i):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(n(3174)),s=n(9482),l=(r(n(7918)),r(n(3382)),r(n(4989))),u=r(n(3234));const c=["ownerState"],d=["variants"],p=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function f(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}const m=(0,l.default)(),g=e=>e?e.charAt(0).toLowerCase()+e.slice(1):e;function y(e){let{defaultTheme:t,theme:n,themeId:r}=e;return o=n,0===Object.keys(o).length?t:n[r]||n;var o}function v(e){return e?(t,n)=>n[e]:null}function b(e,t){let{ownerState:n}=t,r=(0,a.default)(t,c);const i="function"===typeof e?e((0,o.default)({ownerState:n},r)):e;if(Array.isArray(i))return i.flatMap((e=>b(e,(0,o.default)({ownerState:n},r))));if(i&&"object"===typeof i&&Array.isArray(i.variants)){const{variants:e=[]}=i;let t=(0,a.default)(i,d);return e.forEach((e=>{let a=!0;"function"===typeof e.props?a=e.props((0,o.default)({ownerState:n},r,n)):Object.keys(e.props).forEach((t=>{(null==n?void 0:n[t])!==e.props[t]&&r[t]!==e.props[t]&&(a=!1)})),a&&(Array.isArray(t)||(t=[t]),t.push("function"===typeof e.style?e.style((0,o.default)({ownerState:n},r,n)):e.style))})),t}return i}},8082:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var o=r(n(39)),a=n(579);t.A=(0,o.default)((0,a.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"MoreVert")},8108:()=>{},8114:e=>{e.exports=function(e,t){return e.has(t)}},8168:(e,t,n)=>{"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(null,arguments)}n.d(t,{A:()=>r})},8182:(e,t,n)=>{var r=n(2070),o=n(5713),a=n(2074),i=r&&1/a(new r([,-0]))[1]==1/0?function(e){return new r(e)}:o;e.exports=i},8189:(e,t,n)=>{var r=n(3871);e.exports=function(e,t,n){var o=e.length;return n=void 0===n?o:n,!t&&n>=o?e:r(e,t,n)}},8210:function(e,t,n){var r;!function(){"use strict";var o,a=1e9,i={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},s=!0,l="[DecimalError] ",u=l+"Invalid argument: ",c=l+"Exponent out of range: ",d=Math.floor,p=Math.pow,h=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,f=1e7,m=9007199254740991,g=d(1286742750677284.5),y={};function v(e,t){var n,r,o,a,i,l,u,c,d=e.constructor,p=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),s?E(t,p):t;if(u=e.d,c=t.d,i=e.e,o=t.e,u=u.slice(),a=i-o){for(a<0?(r=u,a=-a,l=c.length):(r=c,o=i,l=u.length),a>(l=(i=Math.ceil(p/7))>l?i+1:l+1)&&(a=l,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for((l=u.length)-(a=c.length)<0&&(a=l,r=c,c=u,u=r),n=0;a;)n=(u[--a]=u[a]+c[a]+n)/f|0,u[a]%=f;for(n&&(u.unshift(n),++o),l=u.length;0==u[--l];)u.pop();return t.d=u,t.e=o,s?E(t,p):t}function b(e,t,n){if(e!==~~e||e<t||e>n)throw Error(u+e)}function x(e){var t,n,r,o=e.length-1,a="",i=e[0];if(o>0){for(a+=i,t=1;t<o;t++)(n=7-(r=e[t]+"").length)&&(a+=C(n)),a+=r;(n=7-(r=(i=e[t])+"").length)&&(a+=C(n))}else if(0===i)return"0";for(;i%10===0;)i/=10;return a+i}y.absoluteValue=y.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},y.comparedTo=y.cmp=function(e){var t,n,r,o,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(t=0,n=(r=a.d.length)<(o=e.d.length)?r:o;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===o?0:r>o^a.s<0?1:-1},y.decimalPlaces=y.dp=function(){var e=this,t=e.d.length-1,n=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)n--;return n<0?0:n},y.dividedBy=y.div=function(e){return w(this,new this.constructor(e))},y.dividedToIntegerBy=y.idiv=function(e){var t=this.constructor;return E(w(this,new t(e),0,1),t.precision)},y.equals=y.eq=function(e){return!this.cmp(e)},y.exponent=function(){return S(this)},y.greaterThan=y.gt=function(e){return this.cmp(e)>0},y.greaterThanOrEqualTo=y.gte=function(e){return this.cmp(e)>=0},y.isInteger=y.isint=function(){return this.e>this.d.length-2},y.isNegative=y.isneg=function(){return this.s<0},y.isPositive=y.ispos=function(){return this.s>0},y.isZero=function(){return 0===this.s},y.lessThan=y.lt=function(e){return this.cmp(e)<0},y.lessThanOrEqualTo=y.lte=function(e){return this.cmp(e)<1},y.logarithm=y.log=function(e){var t,n=this,r=n.constructor,a=r.precision,i=a+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(o))throw Error(l+"NaN");if(n.s<1)throw Error(l+(n.s?"NaN":"-Infinity"));return n.eq(o)?new r(0):(s=!1,t=w(T(n,i),T(e,i),i),s=!0,E(t,a))},y.minus=y.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?N(t,e):v(t,(e.s=-e.s,e))},y.modulo=y.mod=function(e){var t,n=this,r=n.constructor,o=r.precision;if(!(e=new r(e)).s)throw Error(l+"NaN");return n.s?(s=!1,t=w(n,e,0,1).times(e),s=!0,n.minus(t)):E(new r(n),o)},y.naturalExponential=y.exp=function(){return k(this)},y.naturalLogarithm=y.ln=function(){return T(this)},y.negated=y.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},y.plus=y.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?v(t,e):N(t,(e.s=-e.s,e))},y.precision=y.sd=function(e){var t,n,r,o=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(u+e);if(t=S(o)+1,n=7*(r=o.d.length-1)+1,r=o.d[r]){for(;r%10==0;r/=10)n--;for(r=o.d[0];r>=10;r/=10)n++}return e&&t>n?t:n},y.squareRoot=y.sqrt=function(){var e,t,n,r,o,a,i,u=this,c=u.constructor;if(u.s<1){if(!u.s)return new c(0);throw Error(l+"NaN")}for(e=S(u),s=!1,0==(o=Math.sqrt(+u))||o==1/0?(((t=x(u.d)).length+e)%2==0&&(t+="0"),o=Math.sqrt(t),e=d((e+1)/2)-(e<0||e%2),r=new c(t=o==1/0?"5e"+e:(t=o.toExponential()).slice(0,t.indexOf("e")+1)+e)):r=new c(o.toString()),o=i=(n=c.precision)+3;;)if(r=(a=r).plus(w(u,a,i+2)).times(.5),x(a.d).slice(0,i)===(t=x(r.d)).slice(0,i)){if(t=t.slice(i-3,i+1),o==i&&"4999"==t){if(E(a,n+1,0),a.times(a).eq(u)){r=a;break}}else if("9999"!=t)break;i+=4}return s=!0,E(r,n)},y.times=y.mul=function(e){var t,n,r,o,a,i,l,u,c,d=this,p=d.constructor,h=d.d,m=(e=new p(e)).d;if(!d.s||!e.s)return new p(0);for(e.s*=d.s,n=d.e+e.e,(u=h.length)<(c=m.length)&&(a=h,h=m,m=a,i=u,u=c,c=i),a=[],r=i=u+c;r--;)a.push(0);for(r=c;--r>=0;){for(t=0,o=u+r;o>r;)l=a[o]+m[r]*h[o-r-1]+t,a[o--]=l%f|0,t=l/f|0;a[o]=(a[o]+t)%f|0}for(;!a[--i];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,s?E(e,p.precision):e},y.toDecimalPlaces=y.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(b(e,0,a),void 0===t?t=r.rounding:b(t,0,8),E(n,e+S(n)+1,t))},y.toExponential=function(e,t){var n,r=this,o=r.constructor;return void 0===e?n=O(r,!0):(b(e,0,a),void 0===t?t=o.rounding:b(t,0,8),n=O(r=E(new o(r),e+1,t),!0,e+1)),n},y.toFixed=function(e,t){var n,r,o=this,i=o.constructor;return void 0===e?O(o):(b(e,0,a),void 0===t?t=i.rounding:b(t,0,8),n=O((r=E(new i(o),e+S(o)+1,t)).abs(),!1,e+S(r)+1),o.isneg()&&!o.isZero()?"-"+n:n)},y.toInteger=y.toint=function(){var e=this,t=e.constructor;return E(new t(e),S(e)+1,t.rounding)},y.toNumber=function(){return+this},y.toPower=y.pow=function(e){var t,n,r,a,i,u,c=this,p=c.constructor,h=+(e=new p(e));if(!e.s)return new p(o);if(!(c=new p(c)).s){if(e.s<1)throw Error(l+"Infinity");return c}if(c.eq(o))return c;if(r=p.precision,e.eq(o))return E(c,r);if(u=(t=e.e)>=(n=e.d.length-1),i=c.s,u){if((n=h<0?-h:h)<=m){for(a=new p(o),t=Math.ceil(r/7+4),s=!1;n%2&&M((a=a.times(c)).d,t),0!==(n=d(n/2));)M((c=c.times(c)).d,t);return s=!0,e.s<0?new p(o).div(a):E(a,r)}}else if(i<0)throw Error(l+"NaN");return i=i<0&&1&e.d[Math.max(t,n)]?-1:1,c.s=1,s=!1,a=e.times(T(c,r+12)),s=!0,(a=k(a)).s=i,a},y.toPrecision=function(e,t){var n,r,o=this,i=o.constructor;return void 0===e?r=O(o,(n=S(o))<=i.toExpNeg||n>=i.toExpPos):(b(e,1,a),void 0===t?t=i.rounding:b(t,0,8),r=O(o=E(new i(o),e,t),e<=(n=S(o))||n<=i.toExpNeg,e)),r},y.toSignificantDigits=y.tosd=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(b(e,1,a),void 0===t?t=n.rounding:b(t,0,8)),E(new n(this),e,t)},y.toString=y.valueOf=y.val=y.toJSON=function(){var e=this,t=S(e),n=e.constructor;return O(e,t<=n.toExpNeg||t>=n.toExpPos)};var w=function(){function e(e,t){var n,r=0,o=e.length;for(e=e.slice();o--;)n=e[o]*t+r,e[o]=n%f|0,r=n/f|0;return r&&e.unshift(r),e}function t(e,t,n,r){var o,a;if(n!=r)a=n>r?1:-1;else for(o=a=0;o<n;o++)if(e[o]!=t[o]){a=e[o]>t[o]?1:-1;break}return a}function n(e,t,n){for(var r=0;n--;)e[n]-=r,r=e[n]<t[n]?1:0,e[n]=r*f+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,o,a,i){var s,u,c,d,p,h,m,g,y,v,b,x,w,k,A,C,T,I,N=r.constructor,O=r.s==o.s?1:-1,M=r.d,D=o.d;if(!r.s)return new N(r);if(!o.s)throw Error(l+"Division by zero");for(u=r.e-o.e,T=D.length,A=M.length,g=(m=new N(O)).d=[],c=0;D[c]==(M[c]||0);)++c;if(D[c]>(M[c]||0)&&--u,(x=null==a?a=N.precision:i?a+(S(r)-S(o))+1:a)<0)return new N(0);if(x=x/7+2|0,c=0,1==T)for(d=0,D=D[0],x++;(c<A||d)&&x--;c++)w=d*f+(M[c]||0),g[c]=w/D|0,d=w%D|0;else{for((d=f/(D[0]+1)|0)>1&&(D=e(D,d),M=e(M,d),T=D.length,A=M.length),k=T,v=(y=M.slice(0,T)).length;v<T;)y[v++]=0;(I=D.slice()).unshift(0),C=D[0],D[1]>=f/2&&++C;do{d=0,(s=t(D,y,T,v))<0?(b=y[0],T!=v&&(b=b*f+(y[1]||0)),(d=b/C|0)>1?(d>=f&&(d=f-1),1==(s=t(p=e(D,d),y,h=p.length,v=y.length))&&(d--,n(p,T<h?I:D,h))):(0==d&&(s=d=1),p=D.slice()),(h=p.length)<v&&p.unshift(0),n(y,p,v),-1==s&&(s=t(D,y,T,v=y.length))<1&&(d++,n(y,T<v?I:D,v)),v=y.length):0===s&&(d++,y=[0]),g[c++]=d,s&&y[0]?y[v++]=M[k]||0:(y=[M[k]],v=1)}while((k++<A||void 0!==y[0])&&x--)}return g[0]||g.shift(),m.e=u,E(m,i?a+S(m)+1:a)}}();function k(e,t){var n,r,a,i,l,u=0,d=0,h=e.constructor,f=h.precision;if(S(e)>16)throw Error(c+S(e));if(!e.s)return new h(o);for(null==t?(s=!1,l=f):l=t,i=new h(.03125);e.abs().gte(.1);)e=e.times(i),d+=5;for(l+=Math.log(p(2,d))/Math.LN10*2+5|0,n=r=a=new h(o),h.precision=l;;){if(r=E(r.times(e),l),n=n.times(++u),x((i=a.plus(w(r,n,l))).d).slice(0,l)===x(a.d).slice(0,l)){for(;d--;)a=E(a.times(a),l);return h.precision=f,null==t?(s=!0,E(a,f)):a}a=i}}function S(e){for(var t=7*e.e,n=e.d[0];n>=10;n/=10)t++;return t}function A(e,t,n){if(t>e.LN10.sd())throw s=!0,n&&(e.precision=n),Error(l+"LN10 precision limit exceeded");return E(new e(e.LN10),t)}function C(e){for(var t="";e--;)t+="0";return t}function T(e,t){var n,r,a,i,u,c,d,p,h,f=1,m=e,g=m.d,y=m.constructor,v=y.precision;if(m.s<1)throw Error(l+(m.s?"NaN":"-Infinity"));if(m.eq(o))return new y(0);if(null==t?(s=!1,p=v):p=t,m.eq(10))return null==t&&(s=!0),A(y,p);if(p+=10,y.precision=p,r=(n=x(g)).charAt(0),i=S(m),!(Math.abs(i)<15e14))return d=A(y,p+2,v).times(i+""),m=T(new y(r+"."+n.slice(1)),p-10).plus(d),y.precision=v,null==t?(s=!0,E(m,v)):m;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=x((m=m.times(e)).d)).charAt(0),f++;for(i=S(m),r>1?(m=new y("0."+n),i++):m=new y(r+"."+n.slice(1)),c=u=m=w(m.minus(o),m.plus(o),p),h=E(m.times(m),p),a=3;;){if(u=E(u.times(h),p),x((d=c.plus(w(u,new y(a),p))).d).slice(0,p)===x(c.d).slice(0,p))return c=c.times(2),0!==i&&(c=c.plus(A(y,p+2,v).times(i+""))),c=w(c,new y(f),p),y.precision=v,null==t?(s=!0,E(c,v)):c;c=d,a+=2}}function I(e,t){var n,r,o;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);)++r;for(o=t.length;48===t.charCodeAt(o-1);)--o;if(t=t.slice(r,o)){if(o-=r,n=n-r-1,e.e=d(n/7),e.d=[],r=(n+1)%7,n<0&&(r+=7),r<o){for(r&&e.d.push(+t.slice(0,r)),o-=7;r<o;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=o;for(;r--;)t+="0";if(e.d.push(+t),s&&(e.e>g||e.e<-g))throw Error(c+n)}else e.s=0,e.e=0,e.d=[0];return e}function E(e,t,n){var r,o,a,i,l,u,h,m,y=e.d;for(i=1,a=y[0];a>=10;a/=10)i++;if((r=t-i)<0)r+=7,o=t,h=y[m=0];else{if((m=Math.ceil((r+1)/7))>=(a=y.length))return e;for(h=a=y[m],i=1;a>=10;a/=10)i++;o=(r%=7)-7+i}if(void 0!==n&&(l=h/(a=p(10,i-o-1))%10|0,u=t<0||void 0!==y[m+1]||h%a,u=n<4?(l||u)&&(0==n||n==(e.s<0?3:2)):l>5||5==l&&(4==n||u||6==n&&(r>0?o>0?h/p(10,i-o):0:y[m-1])%10&1||n==(e.s<0?8:7))),t<1||!y[0])return u?(a=S(e),y.length=1,t=t-a-1,y[0]=p(10,(7-t%7)%7),e.e=d(-t/7)||0):(y.length=1,y[0]=e.e=e.s=0),e;if(0==r?(y.length=m,a=1,m--):(y.length=m+1,a=p(10,7-r),y[m]=o>0?(h/p(10,i-o)%p(10,o)|0)*a:0),u)for(;;){if(0==m){(y[0]+=a)==f&&(y[0]=1,++e.e);break}if(y[m]+=a,y[m]!=f)break;y[m--]=0,a=1}for(r=y.length;0===y[--r];)y.pop();if(s&&(e.e>g||e.e<-g))throw Error(c+S(e));return e}function N(e,t){var n,r,o,a,i,l,u,c,d,p,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),s?E(t,m):t;if(u=e.d,p=t.d,r=t.e,c=e.e,u=u.slice(),i=c-r){for((d=i<0)?(n=u,i=-i,l=p.length):(n=p,r=c,l=u.length),i>(o=Math.max(Math.ceil(m/7),l)+2)&&(i=o,n.length=1),n.reverse(),o=i;o--;)n.push(0);n.reverse()}else{for((d=(o=u.length)<(l=p.length))&&(l=o),o=0;o<l;o++)if(u[o]!=p[o]){d=u[o]<p[o];break}i=0}for(d&&(n=u,u=p,p=n,t.s=-t.s),l=u.length,o=p.length-l;o>0;--o)u[l++]=0;for(o=p.length;o>i;){if(u[--o]<p[o]){for(a=o;a&&0===u[--a];)u[a]=f-1;--u[a],u[o]+=f}u[o]-=p[o]}for(;0===u[--l];)u.pop();for(;0===u[0];u.shift())--r;return u[0]?(t.d=u,t.e=r,s?E(t,m):t):new h(0)}function O(e,t,n){var r,o=S(e),a=x(e.d),i=a.length;return t?(n&&(r=n-i)>0?a=a.charAt(0)+"."+a.slice(1)+C(r):i>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(o<0?"e":"e+")+o):o<0?(a="0."+C(-o-1)+a,n&&(r=n-i)>0&&(a+=C(r))):o>=i?(a+=C(o+1-i),n&&(r=n-o-1)>0&&(a=a+"."+C(r))):((r=o+1)<i&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-i)>0&&(o+1===i&&(a+="."),a+=C(r))),e.s<0?"-"+a:a}function M(e,t){if(e.length>t)return e.length=t,!0}function D(e){if(!e||"object"!==typeof e)throw Error(l+"Object expected");var t,n,r,o=["precision",1,a,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<o.length;t+=3)if(void 0!==(r=e[n=o[t]])){if(!(d(r)===r&&r>=o[t+1]&&r<=o[t+2]))throw Error(u+n+": "+r);this[n]=r}if(void 0!==(r=e[n="LN10"])){if(r!=Math.LN10)throw Error(u+n+": "+r);this[n]=new this(r)}return this}i=function e(t){var n,r,o;function a(e){var t=this;if(!(t instanceof a))return new a(e);if(t.constructor=a,e instanceof a)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"===typeof e){if(0*e!==0)throw Error(u+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):I(t,e.toString())}if("string"!==typeof e)throw Error(u+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!h.test(e))throw Error(u+e);I(t,e)}if(a.prototype=y,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=e,a.config=a.set=D,void 0===t&&(t={}),t)for(o=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<o.length;)t.hasOwnProperty(r=o[n++])||(t[r]=this[r]);return a.config(t),a}(i),i.default=i.Decimal=i,o=new i(1),void 0===(r=function(){return i}.call(t,n,t,e))||(e.exports=r)}()},8259:(e,t,n)=>{var r=n(5797);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},8280:(e,t,n)=>{"use strict";n.d(t,{A:()=>h});var r=n(8168),o=n(8587),a=n(9172),i=n(4853);const s={borderRadius:4};var l=n(8604);var u=n(8812),c=n(7758),d=n(9703);const p=["breakpoints","palette","spacing","shape"];const h=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:t={},palette:n={},spacing:h,shape:f={}}=e,m=(0,o.A)(e,p),g=(0,i.A)(t),y=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;const t=(0,l.LX)({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0===n.length?[1]:n).map((e=>{const n=t(e);return"number"===typeof n?`${n}px`:n})).join(" ")};return n.mui=!0,n}(h);let v=(0,a.A)({breakpoints:g,direction:"ltr",components:{},palette:(0,r.A)({mode:"light"},n),spacing:y,shape:(0,r.A)({},s,f)},m);v.applyStyles=d.A;for(var b=arguments.length,x=new Array(b>1?b-1:0),w=1;w<b;w++)x[w-1]=arguments[w];return v=x.reduce(((e,t)=>(0,a.A)(e,t)),v),v.unstable_sxConfig=(0,r.A)({},c.A,null==m?void 0:m.unstable_sxConfig),v.unstable_sx=function(e){return(0,u.A)({sx:e,theme:this})},v}},8325:(e,t,n)=>{var r=n(2541),o=n(5654),a=n(3279),i=o?function(e,t){return o(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:a;e.exports=i},8387:(e,t,n)=>{"use strict";function r(e){var t,n,o="";if("string"==typeof e||"number"==typeof e)o+=e;else if("object"==typeof e)if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=r(e[t]))&&(o&&(o+=" "),o+=n)}else for(n in e)e[n]&&(o&&(o+=" "),o+=n);return o}n.d(t,{A:()=>o});const o=function(){for(var e,t,n=0,o="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=r(e))&&(o&&(o+=" "),o+=t);return o}},8468:(e,t,n)=>{var r=n(5816),o=n(644),a=n(4020);e.exports=function(e,t,n){return t===t?a(e,t,n):r(e,o,n)}},8541:(e,t,n)=>{var r=n(9812),o=n(149),a=n(4052),i=n(9841),s=r?r.prototype:void 0,l=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(a(t))return o(t,e)+"";if(i(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},8587:(e,t,n)=>{"use strict";function r(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}n.d(t,{A:()=>r})},8590:()=>{},8604:(e,t,n)=>{"use strict";n.d(t,{LX:()=>f,MA:()=>h,_W:()=>m,Lc:()=>v,Ms:()=>b});var r=n(9751),o=n(7162),a=n(3815);const i={m:"margin",p:"padding"},s={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},l={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},u=function(e){const t={};return n=>(void 0===t[n]&&(t[n]=e(n)),t[n])}((e=>{if(e.length>2){if(!l[e])return[e];e=l[e]}const[t,n]=e.split(""),r=i[t],o=s[n]||"";return Array.isArray(o)?o.map((e=>r+e)):[r+o]})),c=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],d=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],p=[...c,...d];function h(e,t,n,r){var a;const i=null!=(a=(0,o.Yn)(e,t,!1))?a:n;return"number"===typeof i?e=>"string"===typeof e?e:i*e:Array.isArray(i)?e=>"string"===typeof e?e:i[e]:"function"===typeof i?i:()=>{}}function f(e){return h(e,"spacing",8)}function m(e,t){if("string"===typeof t||null==t)return t;const n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:`-${n}`}function g(e,t,n,o){if(-1===t.indexOf(n))return null;const a=function(e,t){return n=>e.reduce(((e,r)=>(e[r]=m(t,n),e)),{})}(u(n),o),i=e[n];return(0,r.NI)(e,i,a)}function y(e,t){const n=f(e.theme);return Object.keys(e).map((r=>g(e,t,r,n))).reduce(a.A,{})}function v(e){return y(e,c)}function b(e){return y(e,d)}function x(e){return y(e,p)}v.propTypes={},v.filterProps=c,b.propTypes={},b.filterProps=d,x.propTypes={},x.filterProps=p},8610:(e,t,n)=>{"use strict";function r(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const r={};return Object.keys(e).forEach((o=>{r[o]=e[o].reduce(((e,r)=>{if(r){const o=t(r);""!==o&&e.push(o),n&&n[r]&&e.push(n[r])}return e}),[]).join(" ")})),r}n.d(t,{A:()=>r})},8625:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var o=r(n(39)),a=n(579);t.A=(0,o.default)((0,a.jsx)("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"}),"Refresh")},8641:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var o=r(n(39)),a=n(579);t.A=(0,o.default)((0,a.jsx)("path",{d:"M17.77 3.77 16 2 6 12l10 10 1.77-1.77L9.54 12z"}),"ArrowBackIosNew")},8663:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var o=r(n(39)),a=n(579);t.A=(0,o.default)((0,a.jsx)("path",{d:"M3 18h12v-2H3zM3 6v2h18V6zm0 7h18v-2H3z"}),"Notes")},8673:(e,t,n)=>{var r=n(3204),o=n(3713),a=n(6571);e.exports=function(e){return a(e)?r(e):o(e)}},8698:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var r=n(8168),o=n(8587),a=n(9172),i=n(7758);const s=["sx"],l=e=>{var t,n;const r={systemProps:{},otherProps:{}},o=null!=(t=null==e||null==(n=e.theme)?void 0:n.unstable_sxConfig)?t:i.A;return Object.keys(e).forEach((t=>{o[t]?r.systemProps[t]=e[t]:r.otherProps[t]=e[t]})),r};function u(e){const{sx:t}=e,n=(0,o.A)(e,s),{systemProps:i,otherProps:u}=l(n);let c;return c=Array.isArray(t)?[i,...t]:"function"===typeof t?function(){const e=t(...arguments);return(0,a.Q)(e)?(0,r.A)({},i,e):i}:(0,r.A)({},i,t),(0,r.A)({},u,{sx:c})}},8724:(e,t,n)=>{var r=n(7615),o=n(5051),a=n(2154),i=n(8734),s=n(2662);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=o,l.prototype.get=a,l.prototype.has=i,l.prototype.set=s,e.exports=l},8734:(e,t,n)=>{var r=n(5575),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:o.call(t,e)}},8812:(e,t,n)=>{"use strict";n.d(t,{A:()=>c,k:()=>l});var r=n(7598),o=n(3815),a=n(7162),i=n(9751),s=n(7758);function l(){function e(e,t,n,o){const s={[e]:t,theme:n},l=o[e];if(!l)return{[e]:t};const{cssProperty:u=e,themeKey:c,transform:d,style:p}=l;if(null==t)return null;if("typography"===c&&"inherit"===t)return{[e]:t};const h=(0,a.Yn)(n,c)||{};if(p)return p(s);return(0,i.NI)(s,t,(t=>{let n=(0,a.BO)(h,d,t);return t===n&&"string"===typeof t&&(n=(0,a.BO)(h,d,`${e}${"default"===t?"":(0,r.A)(t)}`,t)),!1===u?n:{[u]:n}}))}return function t(n){var r;const{sx:a,theme:l={}}=n||{};if(!a)return null;const u=null!=(r=l.unstable_sxConfig)?r:s.A;function c(n){let r=n;if("function"===typeof n)r=n(l);else if("object"!==typeof n)return n;if(!r)return null;const a=(0,i.EU)(l.breakpoints),s=Object.keys(a);let c=a;return Object.keys(r).forEach((n=>{const a=(s=r[n],d=l,"function"===typeof s?s(d):s);var s,d;if(null!==a&&void 0!==a)if("object"===typeof a)if(u[n])c=(0,o.A)(c,e(n,a,l,u));else{const e=(0,i.NI)({theme:l},a,(e=>({[n]:e})));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>e.concat(Object.keys(t))),[]),o=new Set(r);return t.every((e=>o.size===Object.keys(e).length))}(e,a)?c=(0,o.A)(c,e):c[n]=t({sx:a,theme:l})}else c=(0,o.A)(c,e(n,a,l,u))})),(0,i.vf)(s,c)}return Array.isArray(a)?a.map(c):c(a)}}const u=l();u.filterProps=["sx"];const c=u},8853:(e,t,n)=>{"use strict";e.exports=n(5896)},8883:(e,t,n)=>{var r=n(5652),o=n(6571);e.exports=function(e,t){var n=-1,a=o(e)?Array(e.length):[];return r(e,(function(e,r,o){a[++n]=t(e,r,o)})),a}},8895:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}},8902:(e,t,n)=>{var r=n(4816),o=n(6179),a=n(6704);function i(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}i.prototype.add=i.prototype.push=o,i.prototype.has=a,e.exports=i},8990:(e,t,n)=>{var r=n(9995)(n(2520));e.exports=r},9016:function(e,t,n){var r;!function(e,o){function a(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),r==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function i(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function s(e,t){var n=new a(e),r=t&&t.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},o.int32=n.next,o.quick=o,r&&("object"==typeof r&&i(r,n),o.state=function(){return i(n,{})}),o}o&&o.exports?o.exports=s:n.amdD&&n.amdO?void 0===(r=function(){return s}.call(t,n,t,o))||(o.exports=r):this.xorwow=s}(0,e=n.nmd(e),n.amdD)},9057:(e,t,n)=>{var r=n(5324),o=n(2777),a=n(4052),i=n(9194),s=n(6173),l=n(914);e.exports=function(e,t,n){for(var u=-1,c=(t=r(t,e)).length,d=!1;++u<c;){var p=l(t[u]);if(!(d=null!=e&&n(e,p)))break;e=e[p]}return d||++u!=c?d:!!(c=null==e?0:e.length)&&s(c)&&i(p,c)&&(a(e)||o(e))}},9062:(e,t,n)=>{"use strict";e.exports=n(6378)},9096:(e,t,n)=>{var r=n(9256),o=n(5029),a=n(3279),i=n(4052),s=n(3932);e.exports=function(e){return"function"==typeof e?e:null==e?a:"object"==typeof e?i(e)?o(e[0],e[1]):r(e):s(e)}},9115:(e,t,n)=>{var r=n(5967),o=n(6311),a=n(715);e.exports=function(e){return o(e)?a(e):r(e)}},9140:(e,t,n)=>{var r=n(7303);e.exports=function(e){var t=r(e),n=t%1;return t===t?n?t-n:t:0}},9160:(e,t,n)=>{var r=n(6913),o=n(2761);e.exports=function(e){return"number"==typeof e||o(e)&&"[object Number]"==r(e)}},9172:(e,t,n)=>{"use strict";n.d(t,{A:()=>s,Q:()=>a});var r=n(8168),o=n(5043);function a(e){if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function i(e){if(o.isValidElement(e)||!a(e))return e;const t={};return Object.keys(e).forEach((n=>{t[n]=i(e[n])})),t}function s(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0};const l=n.clone?(0,r.A)({},e):e;return a(e)&&a(t)&&Object.keys(t).forEach((r=>{o.isValidElement(t[r])?l[r]=t[r]:a(t[r])&&Object.prototype.hasOwnProperty.call(e,r)&&a(e[r])?l[r]=s(e[r],t[r],n):n.clone?l[r]=a(t[r])?i(t[r]):t[r]:l[r]=t[r]})),l}},9194:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},9256:(e,t,n)=>{var r=n(6532),o=n(3781),a=n(1310);e.exports=function(e){var t=o(e);return 1==t.length&&t[0][2]?a(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},9303:(e,t,n)=>{"use strict";n.d(t,{E:()=>i,A:()=>s});var r=n(5043);const o={};const a=[];class i{constructor(){this.currentId=null,this.clear=()=>{null!==this.currentId&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new i}start(e,t){this.clear(),this.currentId=setTimeout((()=>{this.currentId=null,t()}),e)}}function s(){const e=function(e,t){const n=r.useRef(o);return n.current===o&&(n.current=e(t)),n}(i.create).current;var t;return t=e.disposeEffect,r.useEffect(t,a),e}},9369:(e,t,n)=>{"use strict";n.d(t,{C:()=>u,E:()=>g,T:()=>d,c:()=>f,h:()=>p,w:()=>c});var r=n(5043),o=n(3803),a=n(1722),i=n(6598),s=n(9436),l=r.createContext("undefined"!==typeof HTMLElement?(0,o.A)({key:"css"}):null),u=l.Provider,c=function(e){return(0,r.forwardRef)((function(t,n){var o=(0,r.useContext)(l);return e(t,o,n)}))},d=r.createContext({});var p={}.hasOwnProperty,h="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",f=function(e,t){var n={};for(var r in t)p.call(t,r)&&(n[r]=t[r]);return n[h]=e,n},m=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return(0,a.SF)(t,n,r),(0,s.s)((function(){return(0,a.sk)(t,n,r)})),null},g=c((function(e,t,n){var o=e.css;"string"===typeof o&&void 0!==t.registered[o]&&(o=t.registered[o]);var s=e[h],l=[o],u="";"string"===typeof e.className?u=(0,a.Rk)(t.registered,l,e.className):null!=e.className&&(u=e.className+" ");var c=(0,i.J)(l,void 0,r.useContext(d));u+=t.key+"-"+c.name;var f={};for(var g in e)p.call(e,g)&&"css"!==g&&g!==h&&(f[g]=e[g]);return f.className=u,n&&(f.ref=n),r.createElement(r.Fragment,null,r.createElement(m,{cache:t,serialized:c,isStringTag:"string"===typeof s}),r.createElement(s,f))}))},9386:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});const r=e=>e,o=(()=>{let e=r;return{configure(t){e=t},generate:t=>e(t),reset(){e=r}}})()},9394:(e,t,n)=>{var r=n(2622);e.exports=function(e){return r(this,e).has(e)}},9395:(e,t,n)=>{var r=n(4262),o=n(9621),a=n(8673);e.exports=function(e){return r(e,a,o)}},9417:(e,t,n)=>{var r=n(6686);e.exports=function(e){return e===e&&!r(e)}},9436:(e,t,n)=>{"use strict";var r;n.d(t,{i:()=>s,s:()=>i});var o=n(5043),a=!!(r||(r=n.t(o,2))).useInsertionEffect&&(r||(r=n.t(o,2))).useInsertionEffect,i=a||function(e){return e()},s=a||o.useLayoutEffect},9466:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var o=r(n(39)),a=n(579);t.A=(0,o.default)((0,a.jsx)("path",{d:"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02z"}),"Phone")},9482:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A,isPlainObject:()=>r.Q});var r=n(9172)},9538:function(e,t,n){var r;!function(e,o){function a(e){var t=this;t.next=function(){var e,n,r=t.x,o=t.i;return e=r[o],n=(e^=e>>>7)^e<<24,n^=(e=r[o+1&7])^e>>>10,n^=(e=r[o+3&7])^e>>>3,n^=(e=r[o+4&7])^e<<7,e=r[o+7&7],n^=(e^=e<<13)^e<<9,r[o]=n,t.i=o+1&7,n},function(e,t){var n,r=[];if(t===(0|t))r[0]=t;else for(t=""+t,n=0;n<t.length;++n)r[7&n]=r[7&n]<<15^t.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],e.x=r,e.i=0,n=256;n>0;--n)e.next()}(t,e)}function i(e,t){return t.x=e.x.slice(),t.i=e.i,t}function s(e,t){null==e&&(e=+new Date);var n=new a(e),r=t&&t.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},o.int32=n.next,o.quick=o,r&&(r.x&&i(r,n),o.state=function(){return i(n,{})}),o}o&&o.exports?o.exports=s:n.amdD&&n.amdO?void 0===(r=function(){return s}.call(t,n,t,o))||(o.exports=r):this.xorshift7=s}(0,e=n.nmd(e),n.amdD)},9611:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var o=r(n(39)),a=n(579);t.A=(0,o.default)((0,a.jsx)("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu")},9621:(e,t,n)=>{var r=n(7529),o=n(7828),a=Object.prototype.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(e){return null==e?[]:(e=Object(e),r(i(e),(function(t){return a.call(e,t)})))}:o;e.exports=s},9640:(e,t,n)=>{"use strict";n.d(t,{A:()=>h});var r=n(5043),o=n(9303);let a=!0,i=!1;const s=new o.E,l={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function u(e){e.metaKey||e.altKey||e.ctrlKey||(a=!0)}function c(){a=!1}function d(){"hidden"===this.visibilityState&&i&&(a=!0)}function p(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch(n){}return a||function(e){const{type:t,tagName:n}=e;return!("INPUT"!==n||!l[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}function h(){const e=r.useCallback((e=>{var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",u,!0),t.addEventListener("mousedown",c,!0),t.addEventListener("pointerdown",c,!0),t.addEventListener("touchstart",c,!0),t.addEventListener("visibilitychange",d,!0))}),[]),t=r.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!p(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(i=!0,s.start(100,(()=>{i=!1})),t.current=!1,!0)},ref:e}}},9662:(e,t,n)=>{"use strict";n.d(t,{A:()=>b});var r=n(8168),o=n(5043),a=n(8587),i=n(8387),s=n(8610),l=n(6803),u=n(6431),c=n(4535),d=n(2532),p=n(2372);function h(e){return(0,p.Ay)("MuiSvgIcon",e)}(0,d.A)("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var f=n(579);const m=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],g=(0,c.Ay)("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"inherit"!==n.color&&t[`color${(0,l.A)(n.color)}`],t[`fontSize${(0,l.A)(n.fontSize)}`]]}})((e=>{let{theme:t,ownerState:n}=e;var r,o,a,i,s,l,u,c,d,p,h,f,m;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:n.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:null==(r=t.transitions)||null==(o=r.create)?void 0:o.call(r,"fill",{duration:null==(a=t.transitions)||null==(a=a.duration)?void 0:a.shorter}),fontSize:{inherit:"inherit",small:(null==(i=t.typography)||null==(s=i.pxToRem)?void 0:s.call(i,20))||"1.25rem",medium:(null==(l=t.typography)||null==(u=l.pxToRem)?void 0:u.call(l,24))||"1.5rem",large:(null==(c=t.typography)||null==(d=c.pxToRem)?void 0:d.call(c,35))||"2.1875rem"}[n.fontSize],color:null!=(p=null==(h=(t.vars||t).palette)||null==(h=h[n.color])?void 0:h.main)?p:{action:null==(f=(t.vars||t).palette)||null==(f=f.action)?void 0:f.active,disabled:null==(m=(t.vars||t).palette)||null==(m=m.action)?void 0:m.disabled,inherit:void 0}[n.color]}})),y=o.forwardRef((function(e,t){const n=(0,u.b)({props:e,name:"MuiSvgIcon"}),{children:c,className:d,color:p="inherit",component:y="svg",fontSize:v="medium",htmlColor:b,inheritViewBox:x=!1,titleAccess:w,viewBox:k="0 0 24 24"}=n,S=(0,a.A)(n,m),A=o.isValidElement(c)&&"svg"===c.type,C=(0,r.A)({},n,{color:p,component:y,fontSize:v,instanceFontSize:e.fontSize,inheritViewBox:x,viewBox:k,hasSvgAsChild:A}),T={};x||(T.viewBox=k);const I=(e=>{const{color:t,fontSize:n,classes:r}=e,o={root:["root","inherit"!==t&&`color${(0,l.A)(t)}`,`fontSize${(0,l.A)(n)}`]};return(0,s.A)(o,h,r)})(C);return(0,f.jsxs)(g,(0,r.A)({as:y,className:(0,i.A)(I.root,d),focusable:"false",color:b,"aria-hidden":!w||void 0,role:w?"img":void 0,ref:t},T,S,A&&c.props,{ownerState:C,children:[A?c.props.children:c,w?(0,f.jsx)("title",{children:w}):null]}))}));y.muiName="SvgIcon";const v=y;function b(e,t){function n(n,o){return(0,f.jsx)(v,(0,r.A)({"data-testid":`${t}Icon`,ref:o},n,{children:e}))}return n.muiName=v.muiName,o.memo(o.forwardRef(n))}},9676:e=>{var t=Math.ceil,n=Math.max;e.exports=function(e,r,o,a){for(var i=-1,s=n(t((r-e)/(o||1)),0),l=Array(s);s--;)l[a?s:++i]=e,e+=o;return l}},9686:e=>{e.exports=function(e){return null==e}},9703:(e,t,n)=>{"use strict";function r(e,t){const n=this;if(n.vars&&"function"===typeof n.getColorSchemeSelector){const r=n.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)");return{[r]:t}}return n.palette.mode===e?t:{}}n.d(t,{A:()=>r})},9742:(e,t,n)=>{var r=n(9841);e.exports=function(e,t,n){for(var o=-1,a=e.length;++o<a;){var i=e[o],s=t(i);if(null!=s&&(void 0===l?s===s&&!r(s):n(s,l)))var l=s,u=i}return u}},9751:(e,t,n)=>{"use strict";n.d(t,{EU:()=>s,NI:()=>i,iZ:()=>u,kW:()=>c,vf:()=>l,zu:()=>o});var r=n(9172);const o={xs:0,sm:600,md:900,lg:1200,xl:1536},a={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${o[e]}px)`};function i(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const e=r.breakpoints||a;return t.reduce(((r,o,a)=>(r[e.up(e.keys[a])]=n(t[a]),r)),{})}if("object"===typeof t){const e=r.breakpoints||a;return Object.keys(t).reduce(((r,a)=>{if(-1!==Object.keys(e.values||o).indexOf(a)){r[e.up(a)]=n(t[a],a)}else{const e=a;r[e]=t[e]}return r}),{})}return n(t)}function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;return(null==(t=e.keys)?void 0:t.reduce(((t,n)=>(t[e.up(n)]={},t)),{}))||{}}function l(e,t){return e.reduce(((e,t)=>{const n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function u(e){const t=s(e);for(var n=arguments.length,o=new Array(n>1?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];const i=[t,...o].reduce(((e,t)=>(0,r.A)(e,t)),{});return l(Object.keys(t),i)}function c(e){let{values:t,breakpoints:n,base:r}=e;const o=r||function(e,t){if("object"!==typeof e)return{};const n={},r=Object.keys(t);return Array.isArray(e)?r.forEach(((t,r)=>{r<e.length&&(n[t]=!0)})):r.forEach((t=>{null!=e[t]&&(n[t]=!0)})),n}(t,n),a=Object.keys(o);if(0===a.length)return t;let i;return a.reduce(((e,n,r)=>(Array.isArray(t)?(e[n]=null!=t[r]?t[r]:t[i],i=r):"object"===typeof t?(e[n]=null!=t[n]?t[n]:t[i],i=n):e[n]=t,e)),{})}},9778:(e,t,n)=>{"use strict";var r=n(4994);t.A=void 0;var o=r(n(39)),a=n(579);t.A=(0,o.default)((0,a.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle")},9812:(e,t,n)=>{var r=n(6552).Symbol;e.exports=r},9841:(e,t,n)=>{var r=n(6913),o=n(2761);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==r(e)}},9853:(e,t,n)=>{var r=n(6989);e.exports=function(e,t){return r(e,t)}},9889:(e,t,n)=>{var r=n(3950),o=n(6686);e.exports=function(e,t,n){var a=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return o(n)&&(a="leading"in n?!!n.leading:a,i="trailing"in n?!!n.trailing:i),r(e,t,{leading:a,maxWait:t,trailing:i})}},9935:(e,t,n)=>{var r=n(1340),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():o.call(t,n,1),--this.size,!0)}},9987:(e,t,n)=>{var r=n(9812),o=n(2929),a=n(3211),i=n(3668),s=n(4160),l=n(2074),u=r?r.prototype:void 0,c=u?u.valueOf:void 0;e.exports=function(e,t,n,r,u,d,p){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new o(e),new o(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return a(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var h=s;case"[object Set]":var f=1&r;if(h||(h=l),e.size!=t.size&&!f)return!1;var m=p.get(e);if(m)return m==t;r|=2,p.set(e,t);var g=i(h(e),h(t),r,u,d,p);return p.delete(e),g;case"[object Symbol]":if(c)return c.call(e)==c.call(t)}return!1}},9995:(e,t,n)=>{var r=n(9096),o=n(6571),a=n(8673);e.exports=function(e){return function(t,n,i){var s=Object(t);if(!o(t)){var l=r(n,3);t=a(t),n=function(e){return l(s[e],e,s)}}var u=e(t,n,i);return u>-1?s[l?t[u]:u]:void 0}}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.m=e,n.amdD=function(){throw new Error("define cannot be used indirect")},n.amdO={},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,o){if(1&o&&(r=this(r)),8&o)return r;if("object"===typeof r&&r){if(4&o&&r.__esModule)return r;if(16&o&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var i={};e=e||[null,t({}),t([]),t(t)];for(var s=2&o&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>i[e]=()=>r[e]));return i.default=()=>r,n.d(a,i),a}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".5565870f.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="app:";n.l=(r,o,a,i)=>{if(e[r])e[r].push(o);else{var s,l;if(void 0!==a)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var d=u[c];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+a){s=d;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[o];var p=(t,n)=>{s.onerror=s.onload=null,clearTimeout(h);var o=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),o&&o.forEach((e=>e(n))),t)return t(n)},h=setTimeout(p.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=p.bind(null,s.onerror),s.onload=p.bind(null,s.onload),l&&document.head.appendChild(s)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="/you-fit.ru/",(()=>{var e={792:0};n.f.j=(t,r)=>{var o=n.o(e,t)?e[t]:void 0;if(0!==o)if(o)r.push(o[2]);else{var a=new Promise(((n,r)=>o=e[t]=[n,r]));r.push(o[2]=a);var i=n.p+n.u(t),s=new Error;n.l(i,(r=>{if(n.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var a=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+i+")",s.name="ChunkLoadError",s.type=a,s.request=i,o[1](s)}}),"chunk-"+t,t)}};var t=(t,r)=>{var o,a,i=r[0],s=r[1],l=r[2],u=0;if(i.some((t=>0!==e[t]))){for(o in s)n.o(s,o)&&(n.m[o]=s[o]);if(l)l(n)}for(t&&t(r);u<i.length;u++)a=i[u],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkapp=self.webpackChunkapp||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{hasBrowserEnv:()=>Du,hasStandardBrowserEnv:()=>Pu,hasStandardBrowserWebWorkerEnv:()=>$u,navigator:()=>Ru,origin:()=>ju});var t={};n.r(t),n.d(t,{scaleBand:()=>f_,scaleDiverging:()=>HW,scaleDivergingLog:()=>GW,scaleDivergingPow:()=>KW,scaleDivergingSqrt:()=>XW,scaleDivergingSymlog:()=>qW,scaleIdentity:()=>LL,scaleImplicit:()=>p_,scaleLinear:()=>FL,scaleLog:()=>KL,scaleOrdinal:()=>h_,scalePoint:()=>g_,scalePow:()=>rz,scaleQuantile:()=>mz,scaleQuantize:()=>gz,scaleRadial:()=>iz,scaleSequential:()=>FW,scaleSequentialLog:()=>LW,scaleSequentialPow:()=>BW,scaleSequentialQuantile:()=>VW,scaleSequentialSqrt:()=>WW,scaleSequentialSymlog:()=>zW,scaleSqrt:()=>oz,scaleSymlog:()=>ZL,scaleThreshold:()=>yz,scaleTime:()=>PW,scaleUtc:()=>$W,tickFormat:()=>jL});var r={};n.r(r),n.d(r,{arraysEqual:()=>TJ,arraysEqualWithNull:()=>CJ,assert:()=>xJ,assertNonNegativeIntegerDimensions:()=>n0,assertNonNull:()=>kJ,assertShapesMatch:()=>wJ,bytesFromStringArray:()=>WJ,bytesPerElement:()=>BJ,checkConversionForErrors:()=>FJ,clamp:()=>fJ,computeStrides:()=>XJ,convertBackendValuesAndArrayBuffer:()=>ZJ,createScalarValue:()=>i4,createShuffledIndices:()=>OJ,decodeString:()=>d4,distSquared:()=>bJ,encodeString:()=>c4,fetch:()=>u4,fingerPrint64:()=>a4,flatten:()=>h4,getArrayFromDType:()=>_J,getTypedArrayFromDType:()=>jJ,hasEncodingLoss:()=>zJ,hexToLong:()=>K3,indexToLoc:()=>o0,inferDtype:()=>GJ,inferFromImplicitShape:()=>RJ,isBoolean:()=>UJ,isFunction:()=>qJ,isInt:()=>IJ,isNumber:()=>HJ,isPromise:()=>a0,isScalarShape:()=>AJ,isString:()=>VJ,isTypedArray:()=>p4,isValidDtype:()=>LJ,locToIndex:()=>r0,makeOnesTypedArray:()=>JJ,makeZerosNestedTypedArray:()=>t0,makeZerosTypedArray:()=>e0,nearestDivisor:()=>KJ,nearestLargerEven:()=>mJ,now:()=>l4,parseAxisParam:()=>PJ,randUniform:()=>vJ,repeatedTry:()=>DJ,rightPad:()=>MJ,shuffle:()=>pJ,shuffleCombo:()=>hJ,sizeFromShape:()=>SJ,sizeToSquarishShape:()=>NJ,squeezeShape:()=>$J,sum:()=>yJ,swap:()=>gJ,tanh:()=>EJ,toNestedArray:()=>QJ,toTypedArray:()=>s4});var o={};n.r(o),n.d(o,{assertTypesMatch:()=>H4,getTensorsInContainer:()=>q4,isTensorInList:()=>G4,makeTypesMatch:()=>U4});var a={};n.r(a),n.d(a,{isBrowser:()=>o5,isMobile:()=>r5,mockIsMobile:()=>n5});var i={};n.r(i),n.d(i,{Serializable:()=>l8,SerializationMap:()=>u8,getRegisteredName:()=>d8,registerClass:()=>c8});var s={};n.r(s),n.d(s,{assertAndGetBroadcastShape:()=>k8,getBroadcastDims:()=>x8,getReductionAxes:()=>w8});var l={};n.r(l),n.d(l,{CompositeArrayBuffer:()=>y5,browserFiles:()=>D8,browserHTTPRequest:()=>B8,concatenateArrayBuffers:()=>Y5,copyModel:()=>$6,decodeWeights:()=>B5,decodeWeightsStream:()=>G5,encodeWeights:()=>z5,fromMemory:()=>H8,fromMemorySync:()=>G8,getLoadHandlers:()=>s6,getModelArtifactsForJSON:()=>e6,getModelArtifactsForJSONSync:()=>J5,getModelArtifactsInfoForJSON:()=>t6,getSaveHandlers:()=>i6,getWeightSpecs:()=>n6,http:()=>z8,isHTTPScheme:()=>F8,listModels:()=>R6,loadWeights:()=>$8,moveModel:()=>j6,registerLoadRouter:()=>a6,registerSaveRouter:()=>o6,removeModel:()=>P6,weightsLoaderFactory:()=>j8,withSaveHandler:()=>q8,withSaveHandlerSync:()=>K8});var u={};n.r(u),n.d(u,{confusionMatrix:()=>t9});var c={};n.r(c),n.d(c,{draw:()=>c9,fromPixels:()=>d9,fromPixelsAsync:()=>s9,toPixels:()=>u9});var d={};n.r(d),n.d(d,{prepareAndValidate:()=>p9});var p={};n.r(p),n.d(p,{calculateShapes:()=>m9,validateInput:()=>f9,validateUpdateShape:()=>h9});var h={};n.r(h),n.d(h,{assertParamsValid:()=>v9,computeFlatOffset:()=>M9,computeOutShape:()=>x9,getNormalizedAxes:()=>A9,isSliceContinous:()=>O9,maskToAxes:()=>b9,parseSliceParams:()=>D9,sliceInfo:()=>R9,startForAxis:()=>E9,startIndicesWithElidedDims:()=>C9,stopForAxis:()=>N9,stopIndicesWithElidedDims:()=>T9,stridesForAxis:()=>I9,stridesWithElidedDims:()=>w9});var f={};n.r(f),n.d(f,{TEST_EPSILON_FLOAT16:()=>j9,createVideoElement:()=>q9,encodeStrings:()=>G9,expectArrayBuffersEqual:()=>H9,expectArraysClose:()=>_9,expectArraysEqual:()=>B9,expectNumbersClose:()=>W9,expectPromiseToFail:()=>z9,expectValuesInRange:()=>U9,play:()=>K9,testEpsilon:()=>F9});var m={};n.r(m),n.d(m,{conv2d:()=>Jne,depthwiseConv2d:()=>nre,matMul:()=>rre});var g={};n.r(g),n.d(g,{collectGatherOpShapeInfo:()=>sae,computeOutShape:()=>iae,segOpComputeOptimalWindowSize:()=>aae});var y={};n.r(y),n.d(y,{ERF_A1:()=>Soe,ERF_A2:()=>Aoe,ERF_A3:()=>Coe,ERF_A4:()=>Toe,ERF_A5:()=>Ioe,ERF_P:()=>koe,PARALLELIZE_THRESHOLD:()=>poe,RowPartitionType:()=>ioe,SELU_SCALE:()=>woe,SELU_SCALEALPHA:()=>xoe,applyActivation:()=>Qne,assertAndGetBroadcastShape:()=>k8,assertAxesAreInnerMostDims:()=>wee,assertParamsConsistent:()=>ooe,assignToTypedArray:()=>Roe,axesAreInnerMostDims:()=>yee,calculateShapes:()=>m9,checkEinsumDimSizes:()=>Woe,checkPadOnDimRoundingMode:()=>S7,combineLocations:()=>vee,combineRaggedTensorToTensorShapes:()=>loe,complexWithEvenIndex:()=>Ooe,complexWithOddIndex:()=>Moe,computeConv2DInfo:()=>p7,computeConv3DInfo:()=>h7,computeDefaultPad:()=>f7,computeDilation2DInfo:()=>u7,computeOptimalWindowSize:()=>hoe,computeOutAndReduceShapes:()=>bee,computeOutShape:()=>aoe,computePool2DInfo:()=>c7,computePool3DInfo:()=>d7,convertConv2DDataFormat:()=>k7,decodeEinsumEquation:()=>zoe,eitherStridesOrDilationsAreOne:()=>x7,expandShapeToKeepDim:()=>xee,exponent:()=>$oe,exponents:()=>Poe,fromStringArrayToUint8:()=>uae,fromUint8ToStringArray:()=>lae,getAxesPermutation:()=>kee,getBroadcastDims:()=>x8,getComplexWithIndex:()=>Doe,getEinsumComputePath:()=>Voe,getEinsumPermutation:()=>Boe,getFusedBiasGradient:()=>Yne,getFusedDyActivation:()=>Xne,getImageCenter:()=>foe,getInnerMostAxes:()=>Aee,getPermuted:()=>goe,getRaggedRank:()=>coe,getReductionAxes:()=>w8,getReshaped:()=>moe,getReshapedPermuted:()=>yoe,getRowPartitionTypesHelper:()=>uoe,getSliceBeginCoords:()=>voe,getSliceSize:()=>boe,getSparseFillEmptyRowsIndicesDenseShapeMismatch:()=>qoe,getSparseFillEmptyRowsNegativeIndexErrorMessage:()=>Koe,getSparseFillEmptyRowsOutOfRangeIndexErrorMessage:()=>Xoe,getSparseReshapeEmptyTensorZeroOutputDimErrorMessage:()=>Zoe,getSparseReshapeInputOutputMismatchErrorMessage:()=>eae,getSparseReshapeInputOutputMultipleErrorMessage:()=>Joe,getSparseReshapeMultipleNegativeOneOutputDimErrorMessage:()=>Yoe,getSparseReshapeNegativeOutputDimErrorMessage:()=>Qoe,getSparseSegmentReductionIndicesOutOfRangeErrorMessage:()=>oae,getSparseSegmentReductionNegativeSegmentIdsErrorMessage:()=>tae,getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage:()=>nae,getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage:()=>rae,getUndoAxesPermutation:()=>See,isIdentityPermutation:()=>Uoe,log:()=>R3,mergeRealAndImagArrays:()=>Eoe,prepareAndValidate:()=>p9,prepareSplitSize:()=>Goe,segment_util:()=>g,shouldFuse:()=>Zne,slice_util:()=>h,splitRealAndImagArrays:()=>Noe,stridesOrDilationsArePositive:()=>w7,tupleValuesAreOne:()=>b7,upcastType:()=>z4,validateDefaultValueShape:()=>doe,validateInput:()=>f9,validateUpdateShape:()=>h9,warn:()=>D3});var v={};n.r(v),n.d(v,{nonMaxSuppressionV3Impl:()=>yre,nonMaxSuppressionV4Impl:()=>vre,nonMaxSuppressionV5Impl:()=>bre,whereImpl:()=>_ne});var b={};n.r(b),n.d(b,{Abs:()=>f0,Acos:()=>m0,Acosh:()=>g0,AdadeltaOptimizer:()=>h8,AdagradOptimizer:()=>m8,AdamOptimizer:()=>v8,AdamaxOptimizer:()=>A8,Add:()=>y0,AddN:()=>v0,All:()=>b0,Any:()=>x0,ArgMax:()=>w0,ArgMin:()=>k0,Asin:()=>S0,Asinh:()=>A0,Atan:()=>C0,Atan2:()=>I0,Atanh:()=>T0,AvgPool:()=>E0,AvgPool3D:()=>O0,AvgPool3DGrad:()=>M0,AvgPoolGrad:()=>N0,BatchMatMul:()=>D0,BatchToSpaceND:()=>R0,Bincount:()=>P0,BitwiseAnd:()=>$0,BroadcastArgs:()=>_0,BroadcastTo:()=>j0,Cast:()=>F0,Ceil:()=>L0,ClipByValue:()=>z0,Complex:()=>B0,ComplexAbs:()=>W0,Concat:()=>V0,Conv2D:()=>U0,Conv2DBackpropFilter:()=>H0,Conv2DBackpropInput:()=>G0,Conv3D:()=>q0,Conv3DBackpropFilterV2:()=>K0,Conv3DBackpropInputV2:()=>X0,Cos:()=>Y0,Cosh:()=>Q0,CropAndResize:()=>e1,Cumprod:()=>Z0,Cumsum:()=>J0,DataStorage:()=>uJ,DenseBincount:()=>t1,DepthToSpace:()=>n1,DepthwiseConv2dNative:()=>r1,DepthwiseConv2dNativeBackpropFilter:()=>o1,DepthwiseConv2dNativeBackpropInput:()=>a1,Diag:()=>i1,Dilation2D:()=>s1,Dilation2DBackpropFilter:()=>u1,Dilation2DBackpropInput:()=>l1,Draw:()=>c1,ENV:()=>d0,Einsum:()=>p1,Elu:()=>h1,EluGrad:()=>f1,Environment:()=>s0,Equal:()=>g1,Erf:()=>m1,Exp:()=>y1,ExpandDims:()=>v1,Expm1:()=>b1,FFT:()=>x1,Fill:()=>w1,FlipLeftRight:()=>k1,Floor:()=>S1,FloorDiv:()=>A1,FromPixels:()=>I3,FusedBatchNorm:()=>C1,FusedConv2D:()=>O3,FusedDepthwiseConv2D:()=>M3,GatherNd:()=>I1,GatherV2:()=>T1,Greater:()=>E1,GreaterEqual:()=>N1,IFFT:()=>M1,Identity:()=>O1,Imag:()=>D1,IsFinite:()=>R1,IsInf:()=>P1,IsNan:()=>$1,KernelBackend:()=>cJ,LRN:()=>K1,LRNGrad:()=>X1,LeakyRelu:()=>j1,Less:()=>_1,LessEqual:()=>F1,LinSpace:()=>L1,Log:()=>z1,Log1p:()=>B1,LogSoftmax:()=>G1,LogicalAnd:()=>W1,LogicalNot:()=>V1,LogicalOr:()=>U1,LogicalXor:()=>H1,LowerBound:()=>q1,MatrixBandPart:()=>Y1,Max:()=>Q1,MaxPool:()=>J1,MaxPool3D:()=>t2,MaxPool3DGrad:()=>n2,MaxPoolGrad:()=>e2,MaxPoolWithArgmax:()=>r2,Maximum:()=>Z1,Mean:()=>o2,Min:()=>a2,Minimum:()=>i2,MirrorPad:()=>s2,Mod:()=>l2,MomentumOptimizer:()=>T8,Multinomial:()=>u2,Multiply:()=>c2,Neg:()=>d2,NonMaxSuppressionV3:()=>h2,NonMaxSuppressionV4:()=>f2,NonMaxSuppressionV5:()=>m2,NotEqual:()=>p2,OP_SCOPE_SUFFIX:()=>d5,OneHot:()=>y2,OnesLike:()=>g2,Optimizer:()=>p8,OptimizerConstructors:()=>Y9,Pack:()=>v2,PadV2:()=>b2,Pool:()=>x2,Pow:()=>w2,Prelu:()=>k2,Prod:()=>S2,RMSPropOptimizer:()=>I8,RaggedGather:()=>A2,RaggedRange:()=>C2,RaggedTensorToTensor:()=>T2,Range:()=>I2,Rank:()=>N4,Real:()=>E2,RealDiv:()=>d1,Reciprocal:()=>N2,Reduction:()=>_re,Relu:()=>O2,Relu6:()=>j2,Reshape:()=>M2,ResizeBilinear:()=>P2,ResizeBilinearGrad:()=>$2,ResizeNearestNeighbor:()=>D2,ResizeNearestNeighborGrad:()=>R2,Reverse:()=>_2,RotateWithOffset:()=>E3,Round:()=>F2,Rsqrt:()=>L2,SGDOptimizer:()=>C8,ScatterNd:()=>z2,SearchSorted:()=>W2,Select:()=>V2,Selu:()=>U2,Sigmoid:()=>X2,Sign:()=>K2,Sin:()=>G2,Sinh:()=>q2,Slice:()=>H2,Softmax:()=>t3,Softplus:()=>Y2,SpaceToBatchND:()=>J2,SparseFillEmptyRows:()=>n3,SparseReshape:()=>r3,SparseSegmentMean:()=>o3,SparseSegmentSum:()=>a3,SparseToDense:()=>i3,SplitV:()=>e3,Sqrt:()=>Q2,Square:()=>l3,SquaredDifference:()=>s3,StaticRegexReplace:()=>u3,Step:()=>T3,StridedSlice:()=>c3,StringNGrams:()=>d3,StringSplit:()=>p3,StringToHashBucketFast:()=>h3,Sub:()=>f3,Sum:()=>Z2,Tan:()=>m3,Tanh:()=>g3,Tensor:()=>T4,TensorBuffer:()=>k4,TensorScatterUpdate:()=>B2,Tile:()=>y3,TopK:()=>v3,Transform:()=>b3,Transpose:()=>x3,Unique:()=>w3,Unpack:()=>k3,UnsortedSegmentSum:()=>S3,UpperBound:()=>A3,Variable:()=>E4,ZerosLike:()=>C3,_FusedMatMul:()=>N3,abs:()=>b8,acos:()=>Q9,acosh:()=>Z9,add:()=>H6,addN:()=>J9,all:()=>e7,any:()=>t7,argMax:()=>n7,argMin:()=>r7,asin:()=>o7,asinh:()=>a7,atan:()=>i7,atan2:()=>s7,atanh:()=>l7,avgPool:()=>C7,avgPool3d:()=>T7,backend:()=>_5,backend_util:()=>y,basicLSTMCell:()=>M7,batchNorm:()=>R7,batchNorm2d:()=>P7,batchNorm3d:()=>$7,batchNorm4d:()=>j7,batchToSpaceND:()=>D7,bincount:()=>_7,bitwiseAnd:()=>F7,booleanMaskAsync:()=>Lne,broadcastArgs:()=>L7,broadcastTo:()=>z7,broadcast_util:()=>s,browser:()=>c,buffer:()=>B6,cast:()=>W6,ceil:()=>B7,clipByValue:()=>W7,clone:()=>V6,complex:()=>h5,concat:()=>I7,concat1d:()=>V7,concat2d:()=>U7,concat3d:()=>H7,concat4d:()=>G7,conv1d:()=>K7,conv2d:()=>q7,conv2dTranspose:()=>Y7,conv3d:()=>Q7,conv3dTranspose:()=>J7,copyRegisteredKernels:()=>V3,cos:()=>eee,cosh:()=>tee,cosineWindow:()=>Gne,cumprod:()=>nee,cumsum:()=>ree,customGrad:()=>r8,denseBincount:()=>oee,deprecationWarn:()=>w5,depthToSpace:()=>aee,depthwiseConv2d:()=>iee,device_util:()=>a,diag:()=>see,dilation2d:()=>lee,disableDeprecationWarnings:()=>x5,dispose:()=>I5,disposeVariables:()=>k5,div:()=>q6,divNoNan:()=>dee,dot:()=>pee,dropout:()=>Une,einsum:()=>hee,elu:()=>fee,enableDebugMode:()=>b5,enableProdMode:()=>v5,enclosingPowerOfTwo:()=>Hne,engine:()=>S5,ensureShape:()=>mee,env:()=>u0,equal:()=>uee,erf:()=>gee,euclideanNorm:()=>Oee,exp:()=>Mee,expandDims:()=>Dee,expm1:()=>Ree,eye:()=>$ee,fft:()=>hne,fill:()=>f8,findBackend:()=>P5,findBackendFactory:()=>$5,floor:()=>jee,floorDiv:()=>G6,fused:()=>m,gather:()=>_ee,gatherND:()=>Vne,gather_util:()=>d,getBackend:()=>D5,getGradient:()=>_3,getKernel:()=>j3,getKernelsForBackend:()=>F3,grad:()=>Z6,grads:()=>J6,greater:()=>Fee,greaterEqual:()=>Lee,ifft:()=>fne,imag:()=>Q8,image:()=>Yre,inTopKAsync:()=>qne,io:()=>l,irfft:()=>mne,isFinite:()=>zee,isInf:()=>Bee,isNaN:()=>Wee,keep:()=>E5,kernel_impls:()=>v,leakyRelu:()=>Vee,less:()=>Uee,lessEqual:()=>Hee,linalg:()=>Qre,linspace:()=>Gee,localResponseNormalization:()=>qee,log:()=>Kee,log1p:()=>Xee,logSigmoid:()=>Qee,logSoftmax:()=>Zee,logSumExp:()=>Jee,logicalAnd:()=>ete,logicalNot:()=>tte,logicalOr:()=>nte,logicalXor:()=>rte,losses:()=>Zre,lowerBound:()=>ite,matMul:()=>X8,math:()=>u,max:()=>Cee,maxPool:()=>ste,maxPool3d:()=>lte,maxPoolWithArgmax:()=>ute,maximum:()=>S8,mean:()=>cte,memory:()=>A5,meshgrid:()=>hte,min:()=>Tee,minimum:()=>fte,mirrorPad:()=>mte,mod:()=>gte,moments:()=>yte,movingAverage:()=>zne,mul:()=>K6,multiRNNCell:()=>vte,multinomial:()=>bte,neg:()=>Z8,nextFrame:()=>roe,norm:()=>Nee,notEqual:()=>xte,oneHot:()=>Y8,ones:()=>pte,onesLike:()=>wte,op:()=>p5,outerProduct:()=>kte,pad:()=>Ste,pad1d:()=>Ate,pad2d:()=>Cte,pad3d:()=>Tte,pad4d:()=>Ite,pool:()=>Nte,pow:()=>g8,prelu:()=>Ote,print:()=>U6,prod:()=>Mte,profile:()=>C5,raggedGather:()=>Dte,raggedRange:()=>Rte,raggedTensorToTensor:()=>Pte,rand:()=>$te,randomGamma:()=>zte,randomNormal:()=>Bte,randomStandardNormal:()=>Wte,randomUniform:()=>Vte,randomUniformInt:()=>Ute,range:()=>Hte,ready:()=>M5,real:()=>J8,reciprocal:()=>Gte,registerBackend:()=>j5,registerGradient:()=>z3,registerKernel:()=>L3,relu:()=>qte,relu6:()=>Kte,removeBackend:()=>R5,reshape:()=>A7,reverse:()=>Xte,reverse1d:()=>Yte,reverse2d:()=>Qte,reverse3d:()=>Zte,reverse4d:()=>Jte,rfft:()=>yne,round:()=>ene,rsqrt:()=>tne,scalar:()=>a8,scatterND:()=>Bne,scatter_util:()=>p,searchSorted:()=>ate,selu:()=>nne,separableConv2d:()=>rne,serialization:()=>i,setBackend:()=>O5,setPlatform:()=>F5,setdiff1dAsync:()=>one,sigmoid:()=>E7,sign:()=>ane,signal:()=>Xre,sin:()=>ine,sinh:()=>sne,slice:()=>N7,slice1d:()=>lne,slice2d:()=>une,slice3d:()=>cne,slice4d:()=>dne,slice_util:()=>h,softmax:()=>pne,softplus:()=>Yee,spaceToBatchND:()=>Ete,sparse:()=>Jre,sparseToDense:()=>Wne,spectral:()=>Kre,split:()=>gne,sqrt:()=>X6,square:()=>Y6,squaredDifference:()=>vne,squeeze:()=>bne,stack:()=>xne,step:()=>wne,stridedSlice:()=>kne,string:()=>eoe,sub:()=>y8,sum:()=>Iee,sumOutType:()=>B4,tan:()=>Sne,tanh:()=>O7,tensor:()=>m5,tensor1d:()=>Ane,tensor2d:()=>Cne,tensor3d:()=>n9,tensor4d:()=>Tne,tensor5d:()=>Ine,tensor6d:()=>Ene,tensorScatterUpdate:()=>Nne,tensor_util:()=>o,test_util:()=>f,tidy:()=>T5,tile:()=>Pee,time:()=>N5,topk:()=>One,train:()=>toe,transpose:()=>e9,truncatedNormal:()=>Mne,unique:()=>Dne,unregisterGradient:()=>W3,unregisterKernel:()=>B3,unsortedSegmentSum:()=>Rne,unstack:()=>Pne,upcastType:()=>z4,upperBound:()=>$ne,util:()=>r,valueAndGrad:()=>e8,valueAndGrads:()=>t8,variable:()=>jne,variableGrads:()=>n8,version_core:()=>X9,where:()=>cee,whereAsync:()=>Fne,zeros:()=>dte,zerosLike:()=>Q6});var x={};n.r(x),n.d(x,{json:()=>Sae});var w={};n.r(w),n.d(w,{json:()=>Aae});var k={};n.r(k),n.d(k,{json:()=>Cae});var S={};n.r(S),n.d(S,{json:()=>Tae});var A={};n.r(A),n.d(A,{json:()=>Iae});var C={};n.r(C),n.d(C,{json:()=>Eae});var T={};n.r(T),n.d(T,{json:()=>Nae});var I={};n.r(I),n.d(I,{json:()=>Oae});var E={};n.r(E),n.d(E,{json:()=>Mae});var N={};n.r(N),n.d(N,{json:()=>Dae});var O={};n.r(O),n.d(O,{json:()=>Rae});var M={};n.r(M),n.d(M,{json:()=>Pae});var D={};n.r(D),n.d(D,{json:()=>$ae});var R={};n.r(R),n.d(R,{json:()=>jae});var P={};n.r(P),n.d(P,{json:()=>_ae});var $={};n.r($),n.d($,{json:()=>Fae});var j={};n.r(j),n.d(j,{json:()=>Lae});var _={};n.r(_),n.d(_,{json:()=>zae});var F={};n.r(F),n.d(F,{json:()=>Bae});var L={};n.r(L),n.d(L,{OP_SCOPE_SUFFIX:()=>d5,abs:()=>b8,acos:()=>Q9,acosh:()=>Z9,add:()=>H6,addN:()=>J9,all:()=>e7,any:()=>t7,argMax:()=>n7,argMin:()=>r7,asin:()=>o7,asinh:()=>a7,atan:()=>i7,atan2:()=>s7,atanh:()=>l7,avgPool:()=>C7,avgPool3d:()=>T7,basicLSTMCell:()=>M7,batchNorm:()=>R7,batchNorm2d:()=>P7,batchNorm3d:()=>$7,batchNorm4d:()=>j7,batchToSpaceND:()=>D7,bincount:()=>_7,bitwiseAnd:()=>F7,booleanMaskAsync:()=>Lne,broadcastArgs:()=>L7,broadcastTo:()=>z7,buffer:()=>B6,cast:()=>W6,ceil:()=>B7,clipByValue:()=>W7,clone:()=>V6,complex:()=>h5,concat:()=>I7,concat1d:()=>V7,concat2d:()=>U7,concat3d:()=>H7,concat4d:()=>G7,conv1d:()=>K7,conv2d:()=>q7,conv2dTranspose:()=>Y7,conv3d:()=>Q7,conv3dTranspose:()=>J7,cos:()=>eee,cosh:()=>tee,cosineWindow:()=>Gne,cumprod:()=>nee,cumsum:()=>ree,denseBincount:()=>oee,depthToSpace:()=>aee,depthwiseConv2d:()=>iee,diag:()=>see,dilation2d:()=>lee,div:()=>q6,divNoNan:()=>dee,dot:()=>pee,dropout:()=>Une,einsum:()=>hee,elu:()=>fee,enclosingPowerOfTwo:()=>Hne,ensureShape:()=>mee,equal:()=>uee,erf:()=>gee,euclideanNorm:()=>Oee,exp:()=>Mee,expandDims:()=>Dee,expm1:()=>Ree,eye:()=>$ee,fft:()=>hne,fill:()=>f8,floor:()=>jee,floorDiv:()=>G6,fused:()=>m,gather:()=>_ee,gatherND:()=>Vne,greater:()=>Fee,greaterEqual:()=>Lee,ifft:()=>fne,imag:()=>Q8,image:()=>Yre,inTopKAsync:()=>qne,irfft:()=>mne,isFinite:()=>zee,isInf:()=>Bee,isNaN:()=>Wee,leakyRelu:()=>Vee,less:()=>Uee,lessEqual:()=>Hee,linalg:()=>Qre,linspace:()=>Gee,localResponseNormalization:()=>qee,log:()=>Kee,log1p:()=>Xee,logSigmoid:()=>Qee,logSoftmax:()=>Zee,logSumExp:()=>Jee,logicalAnd:()=>ete,logicalNot:()=>tte,logicalOr:()=>nte,logicalXor:()=>rte,losses:()=>Zre,lowerBound:()=>ite,matMul:()=>X8,max:()=>Cee,maxPool:()=>ste,maxPool3d:()=>lte,maxPoolWithArgmax:()=>ute,maximum:()=>S8,mean:()=>cte,meshgrid:()=>hte,min:()=>Tee,minimum:()=>fte,mirrorPad:()=>mte,mod:()=>gte,moments:()=>yte,movingAverage:()=>zne,mul:()=>K6,multiRNNCell:()=>vte,multinomial:()=>bte,neg:()=>Z8,norm:()=>Nee,notEqual:()=>xte,oneHot:()=>Y8,ones:()=>pte,onesLike:()=>wte,op:()=>p5,outerProduct:()=>kte,pad:()=>Ste,pad1d:()=>Ate,pad2d:()=>Cte,pad3d:()=>Tte,pad4d:()=>Ite,pool:()=>Nte,pow:()=>g8,prelu:()=>Ote,print:()=>U6,prod:()=>Mte,raggedGather:()=>Dte,raggedRange:()=>Rte,raggedTensorToTensor:()=>Pte,rand:()=>$te,randomGamma:()=>zte,randomNormal:()=>Bte,randomStandardNormal:()=>Wte,randomUniform:()=>Vte,randomUniformInt:()=>Ute,range:()=>Hte,real:()=>J8,reciprocal:()=>Gte,relu:()=>qte,relu6:()=>Kte,reshape:()=>A7,reverse:()=>Xte,reverse1d:()=>Yte,reverse2d:()=>Qte,reverse3d:()=>Zte,reverse4d:()=>Jte,rfft:()=>yne,round:()=>ene,rsqrt:()=>tne,scalar:()=>a8,scatterND:()=>Bne,searchSorted:()=>ate,selu:()=>nne,separableConv2d:()=>rne,setdiff1dAsync:()=>one,sigmoid:()=>E7,sign:()=>ane,signal:()=>Xre,sin:()=>ine,sinh:()=>sne,slice:()=>N7,slice1d:()=>lne,slice2d:()=>une,slice3d:()=>cne,slice4d:()=>dne,softmax:()=>pne,softplus:()=>Yee,spaceToBatchND:()=>Ete,sparse:()=>Jre,sparseToDense:()=>Wne,spectral:()=>Kre,split:()=>gne,sqrt:()=>X6,square:()=>Y6,squaredDifference:()=>vne,squeeze:()=>bne,stack:()=>xne,step:()=>wne,stridedSlice:()=>kne,string:()=>eoe,sub:()=>y8,sum:()=>Iee,tan:()=>Sne,tanh:()=>O7,tensor:()=>m5,tensor1d:()=>Ane,tensor2d:()=>Cne,tensor3d:()=>n9,tensor4d:()=>Tne,tensor5d:()=>Ine,tensor6d:()=>Ene,tensorScatterUpdate:()=>Nne,tile:()=>Pee,topk:()=>One,transpose:()=>e9,truncatedNormal:()=>Mne,unique:()=>Dne,unsortedSegmentSum:()=>Rne,unstack:()=>Pne,upperBound:()=>$ne,variable:()=>jne,where:()=>cee,whereAsync:()=>Fne,zeros:()=>dte,zerosLike:()=>Q6});var z={};n.r(z),n.d(z,{mx:()=>sme,XI:()=>Jme,Nk:()=>ege,f6:()=>nge,ct:()=>nme,YG:()=>ige,hH:()=>pge,z3:()=>Yge,sG:()=>sye,uM:()=>pye,vS:()=>Nye,qB:()=>_ye,GG:()=>Lye,lg:()=>Uye,rq:()=>Bye,cu:()=>rve,WR:()=>eve,GE:()=>ive,px:()=>lve,jC:()=>Sve,He:()=>Tve,hE:()=>jve,BF:()=>Wge,Dk:()=>Gve,cl:()=>ebe,_B:()=>hbe,ub:()=>vbe,_f:()=>wbe,Ku:()=>Ibe,qy:()=>Nbe,Zy:()=>Bbe,bu:()=>Ube,zv:()=>qfe,dH:()=>gme,HS:()=>Xme,yH:()=>cxe,l3:()=>pxe,z9:()=>fxe,x6:()=>bxe,_m:()=>Txe,eW:()=>Mxe,GK:()=>Pxe,SP:()=>_xe,yr:()=>Lxe,dl:()=>vye,Dw:()=>Uxe,xT:()=>qxe,_X:()=>Sme,wz:()=>Zxe});var B={};n.r(B),n.d(B,{FILE:()=>DBe,HTML:()=>$Be,TEXT:()=>PBe,URL:()=>RBe});var W=n(5043),V=n.t(W,2),U=n(4391),H=(n(4358),"popstate");function G(){return J((function(e,t){let{pathname:n="/",search:r="",hash:o=""}=Z(e.location.hash.substring(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),Y("",{pathname:n,search:r,hash:o},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){let n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");r=-1===n?t:t.slice(0,n)}return r+"#"+("string"===typeof t?t:Q(t))}),(function(e,t){K("/"===e.pathname.charAt(0),`relative pathnames are not supported in hash history.push(${JSON.stringify(t)})`)}),arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function q(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function K(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function X(e,t){return{usr:e.state,key:e.key,idx:t}}function Y(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return{pathname:"string"===typeof e?e:e.pathname,search:"",hash:"",..."string"===typeof t?Z(t):t,state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)}}function Q(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function Z(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function J(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:o=document.defaultView,v5Compat:a=!1}=r,i=o.history,s="POP",l=null,u=c();function c(){return(i.state||{idx:null}).idx}function d(){s="POP";let e=c(),t=null==e?null:e-u;u=e,l&&l({action:s,location:h.location,delta:t})}function p(e){let t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:Q(e);return n=n.replace(/ $/,"%20"),q(t,`No window.location.(origin|href) available to create URL for href: ${n}`),new URL(n,t)}null==u&&(u=0,i.replaceState({...i.state,idx:u},""));let h={get action(){return s},get location(){return e(o,i)},listen(e){if(l)throw new Error("A history only accepts one active listener");return o.addEventListener(H,d),l=e,()=>{o.removeEventListener(H,d),l=null}},createHref:e=>t(o,e),createURL:p,encodeLocation(e){let t=p(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){s="PUSH";let r=Y(h.location,e,t);n&&n(r,e),u=c()+1;let d=X(r,u),p=h.createHref(r);try{i.pushState(d,"",p)}catch(f){if(f instanceof DOMException&&"DataCloneError"===f.name)throw f;o.location.assign(p)}a&&l&&l({action:s,location:h.location,delta:1})},replace:function(e,t){s="REPLACE";let r=Y(h.location,e,t);n&&n(r,e),u=c();let o=X(r,u),d=h.createHref(r);i.replaceState(o,"",d),a&&l&&l({action:s,location:h.location,delta:0})},go:e=>i.go(e)};return h}new WeakMap;function ee(e,t){return te(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function te(e,t,n,r){let o=ge(("string"===typeof t?Z(t):t).pathname||"/",n);if(null==o)return null;let a=ne(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(a);let i=null;for(let s=0;null==i&&s<a.length;++s){let e=me(o);i=pe(a[s],e,r)}return i}function ne(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=(e,o,a)=>{let i={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:o,route:e};i.relativePath.startsWith("/")&&(q(i.relativePath.startsWith(r),`Absolute route path "${i.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),i.relativePath=i.relativePath.slice(r.length));let s=we([r,i.relativePath]),l=n.concat(i);e.children&&e.children.length>0&&(q(!0!==e.index,`Index routes must not have child routes. Please remove all child routes from route path "${s}".`),ne(e.children,t,l,s)),(null!=e.path||e.index)&&t.push({path:s,score:de(s,e.index),routesMeta:l})};return e.forEach(((e,t)=>{if(""!==e.path&&e.path?.includes("?"))for(let n of re(e.path))o(e,t,n);else o(e,t)})),t}function re(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,o=n.endsWith("?"),a=n.replace(/\?$/,"");if(0===r.length)return o?[a,""]:[a];let i=re(r.join("/")),s=[];return s.push(...i.map((e=>""===e?a:[a,e].join("/")))),o&&s.push(...i),s.map((t=>e.startsWith("/")&&""===t?"/":t))}var oe=/^:[\w-]+$/,ae=3,ie=2,se=1,le=10,ue=-2,ce=e=>"*"===e;function de(e,t){let n=e.split("/"),r=n.length;return n.some(ce)&&(r+=ue),t&&(r+=ie),n.filter((e=>!ce(e))).reduce(((e,t)=>e+(oe.test(t)?ae:""===t?se:le)),r)}function pe(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,o={},a="/",i=[];for(let s=0;s<r.length;++s){let e=r[s],l=s===r.length-1,u="/"===a?t:t.slice(a.length)||"/",c=he({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},u),d=e.route;if(!c&&l&&n&&!r[r.length-1].route.index&&(c=he({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},u)),!c)return null;Object.assign(o,c.params),i.push({params:o,pathname:we([a,c.pathname]),pathnameBase:ke(we([a,c.pathnameBase])),route:d}),"/"!==c.pathnameBase&&(a=we([a,c.pathnameBase]))}return i}function he(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=fe(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let a=o[0],i=a.replace(/(.)\/+$/,"$1"),s=o.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:o}=t;if("*"===r){let e=s[n]||"";i=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[n];return e[r]=o&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:a,pathnameBase:i,pattern:e}}function fe(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];K("*"===e||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));return e.endsWith("*")?(r.push({paramName:"*"}),o+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":""!==e&&"/"!==e&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}function me(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return K(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ge(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function ye(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ve(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function be(e){let t=ve(e);return t.map(((e,n)=>n===t.length-1?e.pathname:e.pathnameBase))}function xe(e,t,n){let r,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=Z(e):(r={...e},q(!r.pathname||!r.pathname.includes("?"),ye("?","pathname","search",r)),q(!r.pathname||!r.pathname.includes("#"),ye("#","pathname","hash",r)),q(!r.search||!r.search.includes("#"),ye("#","search","hash",r)));let a,i=""===e||""===r.pathname,s=i?"/":r.pathname;if(null==s)a=n;else{let e=t.length-1;if(!o&&s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}a=e>=0?t[e]:"/"}let l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:o=""}="string"===typeof e?Z(e):e,a=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:a,search:Se(r),hash:Ae(o)}}(r,a),u=s&&"/"!==s&&s.endsWith("/"),c=(i||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!u&&!c||(l.pathname+="/"),l}var we=e=>e.join("/").replace(/\/\/+/g,"/"),ke=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Se=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",Ae=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function Ce(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var Te=["POST","PUT","PATCH","DELETE"],Ie=(new Set(Te),["GET",...Te]);new Set(Ie),Symbol("ResetLoaderData");var Ee=W.createContext(null);Ee.displayName="DataRouter";var Ne=W.createContext(null);Ne.displayName="DataRouterState";var Oe=W.createContext({isTransitioning:!1});Oe.displayName="ViewTransition";var Me=W.createContext(new Map);Me.displayName="Fetchers";var De=W.createContext(null);De.displayName="Await";var Re=W.createContext(null);Re.displayName="Navigation";var Pe=W.createContext(null);Pe.displayName="Location";var $e=W.createContext({outlet:null,matches:[],isDataRoute:!1});$e.displayName="Route";var je=W.createContext(null);je.displayName="RouteError";function _e(){return null!=W.useContext(Pe)}function Fe(){return q(_e(),"useLocation() may be used only in the context of a <Router> component."),W.useContext(Pe).location}var Le="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ze(e){W.useContext(Re).static||W.useLayoutEffect(e)}function Be(){let{isDataRoute:e}=W.useContext($e);return e?function(){let{router:e}=Ye("useNavigate"),t=Ze("useNavigate"),n=W.useRef(!1);ze((()=>{n.current=!0}));let r=W.useCallback((async function(r){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};K(n.current,Le),n.current&&("number"===typeof r?e.navigate(r):await e.navigate(r,{fromRouteId:t,...o}))}),[e,t]);return r}():function(){q(_e(),"useNavigate() may be used only in the context of a <Router> component.");let e=W.useContext(Ee),{basename:t,navigator:n}=W.useContext(Re),{matches:r}=W.useContext($e),{pathname:o}=Fe(),a=JSON.stringify(be(r)),i=W.useRef(!1);ze((()=>{i.current=!0}));let s=W.useCallback((function(r){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(K(i.current,Le),!i.current)return;if("number"===typeof r)return void n.go(r);let l=xe(r,JSON.parse(a),o,"path"===s.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:we([t,l.pathname])),(s.replace?n.replace:n.push)(l,s.state,s)}),[t,n,a,o,e]);return s}()}W.createContext(null);function We(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:n}=W.useContext($e),{pathname:r}=Fe(),o=JSON.stringify(be(n));return W.useMemo((()=>xe(e,JSON.parse(o),r,"path"===t)),[e,o,r,t])}function Ve(e,t,n,r){q(_e(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:a}=W.useContext(Re),{matches:i}=W.useContext($e),s=i[i.length-1],l=s?s.params:{},u=s?s.pathname:"/",c=s?s.pathnameBase:"/",d=s&&s.route;{let e=d&&d.path||"";tt(u,!d||e.endsWith("*")||e.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="${e}"> to <Route path="${"/"===e?"*":`${e}/*`}">.`)}let p,h=Fe();if(t){let e="string"===typeof t?Z(t):t;q("/"===c||e.pathname?.startsWith(c),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${e.pathname}" was given in the \`location\` prop.`),p=e}else p=h;let f=p.pathname||"/",m=f;if("/"!==c){let e=c.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(e.length).join("/")}let g=!a&&n&&n.matches&&n.matches.length>0?n.matches:ee(e,{pathname:m});K(d||null!=g,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),K(null==g||void 0!==g[g.length-1].route.element||void 0!==g[g.length-1].route.Component||void 0!==g[g.length-1].route.lazy,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let y=Ke(g&&g.map((e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:we([c,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:we([c,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),i,n,r);return t&&y?W.createElement(Pe.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},y):y}function Ue(){let e=Je(),t=Ce(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},i=null;return console.error("Error handled by React Router default ErrorBoundary:",e),i=W.createElement(W.Fragment,null,W.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),W.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",W.createElement("code",{style:a},"ErrorBoundary")," or"," ",W.createElement("code",{style:a},"errorElement")," prop on your route.")),W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},t),n?W.createElement("pre",{style:o},n):null,i)}var He=W.createElement(Ue,null),Ge=class extends W.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?W.createElement($e.Provider,{value:this.props.routeContext},W.createElement(je.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function qe(e){let{routeContext:t,match:n,children:r}=e,o=W.useContext(Ee);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),W.createElement($e.Provider,{value:t},r)}function Ke(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==t.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let r=e,o=n?.errors;if(null!=o){let e=r.findIndex((e=>e.route.id&&void 0!==o?.[e.route.id]));q(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),r=r.slice(0,Math.min(r.length,e+1))}let a=!1,i=-1;if(n)for(let s=0;s<r.length;s++){let e=r[s];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(i=s),e.route.id){let{loaderData:t,errors:o}=n,s=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!o||void 0===o[e.route.id]);if(e.route.lazy||s){a=!0,r=i>=0?r.slice(0,i+1):[r[0]];break}}}return r.reduceRight(((e,s,l)=>{let u,c=!1,d=null,p=null;n&&(u=o&&s.route.id?o[s.route.id]:void 0,d=s.route.errorElement||He,a&&(i<0&&0===l?(tt("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),c=!0,p=null):i===l&&(c=!0,p=s.route.hydrateFallbackElement||null)));let h=t.concat(r.slice(0,l+1)),f=()=>{let t;return t=u?d:c?p:s.route.Component?W.createElement(s.route.Component,null):s.route.element?s.route.element:e,W.createElement(qe,{match:s,routeContext:{outlet:e,matches:h,isDataRoute:null!=n},children:t})};return n&&(s.route.ErrorBoundary||s.route.errorElement||0===l)?W.createElement(Ge,{location:n.location,revalidation:n.revalidation,component:d,error:u,children:f(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):f()}),null)}function Xe(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ye(e){let t=W.useContext(Ee);return q(t,Xe(e)),t}function Qe(e){let t=W.useContext(Ne);return q(t,Xe(e)),t}function Ze(e){let t=function(e){let t=W.useContext($e);return q(t,Xe(e)),t}(e),n=t.matches[t.matches.length-1];return q(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function Je(){let e=W.useContext(je),t=Qe("useRouteError"),n=Ze("useRouteError");return void 0!==e?e:t.errors?.[n]}var et={};function tt(e,t,n){t||et[e]||(et[e]=!0,K(!1,n))}W.memo((function(e){let{routes:t,future:n,state:r}=e;return Ve(t,void 0,r,n)}));function nt(e){let{to:t,replace:n,state:r,relative:o}=e;q(_e(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=W.useContext(Re);K(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=W.useContext($e),{pathname:s}=Fe(),l=Be(),u=xe(t,be(i),s,"path"===o),c=JSON.stringify(u);return W.useEffect((()=>{l(JSON.parse(c),{replace:n,state:r,relative:o})}),[l,c,o,n,r]),null}function rt(e){q(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ot(e){let{basename:t="/",children:n=null,location:r,navigationType:o="POP",navigator:a,static:i=!1}=e;q(!_e(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=t.replace(/^\/*/,"/"),l=W.useMemo((()=>({basename:s,navigator:a,static:i,future:{}})),[s,a,i]);"string"===typeof r&&(r=Z(r));let{pathname:u="/",search:c="",hash:d="",state:p=null,key:h="default"}=r,f=W.useMemo((()=>{let e=ge(u,s);return null==e?null:{location:{pathname:e,search:c,hash:d,state:p,key:h},navigationType:o}}),[s,u,c,d,p,h,o]);return K(null!=f,`<Router basename="${s}"> is not able to match the URL "${u}${c}${d}" because it does not start with the basename, so the <Router> won't render anything.`),null==f?null:W.createElement(Re.Provider,{value:l},W.createElement(Pe.Provider,{children:n,value:f}))}function at(e){let{children:t,location:n}=e;return Ve(it(t),n)}W.Component;function it(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return W.Children.forEach(e,((e,r)=>{if(!W.isValidElement(e))return;let o=[...t,r];if(e.type===W.Fragment)return void n.push.apply(n,it(e.props.children,o));q(e.type===rt,`[${"string"===typeof e.type?e.type:e.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),q(!e.props.index||!e.props.children,"An index route cannot have child routes.");let a={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=it(e.props.children,o)),n.push(a)})),n}var st="get",lt="application/x-www-form-urlencoded";function ut(e){return null!=e&&"string"===typeof e.tagName}var ct=null;var dt=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function pt(e){return null==e||dt.has(e)?e:(K(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${lt}"`),null)}function ht(e,t){let n,r,o,a,i;if(ut(s=e)&&"form"===s.tagName.toLowerCase()){let i=e.getAttribute("action");r=i?ge(i,t):null,n=e.getAttribute("method")||st,o=pt(e.getAttribute("enctype"))||lt,a=new FormData(e)}else if(function(e){return ut(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return ut(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let i=e.form;if(null==i)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let s=e.getAttribute("formaction")||i.getAttribute("action");if(r=s?ge(s,t):null,n=e.getAttribute("formmethod")||i.getAttribute("method")||st,o=pt(e.getAttribute("formenctype"))||pt(i.getAttribute("enctype"))||lt,a=new FormData(i,e),!function(){if(null===ct)try{new FormData(document.createElement("form"),0),ct=!1}catch(e){ct=!0}return ct}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?`${t}.`:"";a.append(`${e}x`,"0"),a.append(`${e}y`,"0")}else t&&a.append(t,r)}}else{if(ut(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=st,r=null,o=lt,i=e}var s;return a&&"text/plain"===o&&(i=a,a=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:a,body:i}}function ft(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}async function mt(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise((()=>{}))}}function gt(e){return null!=e&&"string"===typeof e.page}function yt(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function vt(e,t,n,r,o,a){let i=(e,t)=>!n[t]||e.route.id!==n[t].route.id,s=(e,t)=>n[t].pathname!==e.pathname||n[t].route.path?.endsWith("*")&&n[t].params["*"]!==e.params["*"];return"assets"===a?t.filter(((e,t)=>i(e,t)||s(e,t))):"data"===a?t.filter(((t,a)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(i(t,a)||s(t,a))return!0;if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0})):[]}function bt(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map((e=>{let r=t.routes[e.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o})).flat(1),[...new Set(r)];var r}function xt(e,t){let n=new Set,r=new Set(t);return e.reduce(((e,o)=>{if(t&&!gt(o)&&"script"===o.as&&o.href&&r.has(o.href))return e;let a=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(o));return n.has(a)||(n.add(a),e.push({key:a,link:o})),e}),[])}function wt(e){return{__html:e}}Symbol("SingleFetchRedirect");var kt=new Set([100,101,204,205]);function St(e,t){let n="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===n.pathname?n.pathname="_root.data":t&&"/"===ge(n.pathname,t)?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}W.Component;function At(e){let{error:t,isOutsideRemixApp:n}=e;console.error(t);let r,o=W.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://remix.run/guides/errors for more information."\n        );\n      '}});if(Ce(t))return W.createElement(Ct,{title:"Unhandled Thrown Response!"},W.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),o);if(t instanceof Error)0;else{let e=null==t?"Unknown Error":"object"===typeof t&&"toString"in t?t.toString():JSON.stringify(t);new Error(e)}return W.createElement(Ct,{title:"Application Error!",isOutsideRemixApp:n},W.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),W.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},r.stack),o)}function Ct(e){let{title:t,renderScripts:n,isOutsideRemixApp:r,children:o}=e,{routeModules:a}=Ot();return a.root?.Layout&&!r?o:W.createElement("html",{lang:"en"},W.createElement("head",null,W.createElement("meta",{charSet:"utf-8"}),W.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),W.createElement("title",null,t)),W.createElement("body",null,W.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},o,n?W.createElement(_t,null):null)))}function Tt(e){return!0===e}function It(){let e=W.useContext(Ee);return ft(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Et(){let e=W.useContext(Ne);return ft(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Nt=W.createContext(void 0);function Ot(){let e=W.useContext(Nt);return ft(e,"You must render this element inside a <HydratedRouter> element"),e}function Mt(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Dt(e,t,n){if(n&&!jt)return[e[0]];if(t){let n=e.findIndex((e=>void 0!==t[e.route.id]));return e.slice(0,n+1)}return e}function Rt(e){let{page:t,...n}=e,{router:r}=It(),o=W.useMemo((()=>ee(r.routes,t,r.basename)),[r.routes,t,r.basename]);return o?W.createElement($t,{page:t,matches:o,...n}):null}function Pt(e){let{manifest:t,routeModules:n}=Ot(),[r,o]=W.useState([]);return W.useEffect((()=>{let r=!1;return async function(e,t,n){return xt((await Promise.all(e.map((async e=>{let r=t.routes[e.route.id];if(r){let e=await mt(r,n);return e.links?e.links():[]}return[]})))).flat(1).filter(yt).filter((e=>"stylesheet"===e.rel||"preload"===e.rel)).map((e=>"stylesheet"===e.rel?{...e,rel:"prefetch",as:"style"}:{...e,rel:"prefetch"})))}(e,t,n).then((e=>{r||o(e)})),()=>{r=!0}}),[e,t,n]),r}function $t(e){let{page:t,matches:n,...r}=e,o=Fe(),{manifest:a,routeModules:i}=Ot(),{basename:s}=It(),{loaderData:l,matches:u}=Et(),c=W.useMemo((()=>vt(t,n,u,a,o,"data")),[t,n,u,a,o]),d=W.useMemo((()=>vt(t,n,u,a,o,"assets")),[t,n,u,a,o]),p=W.useMemo((()=>{if(t===o.pathname+o.search+o.hash)return[];let e=new Set,r=!1;if(n.forEach((t=>{let n=a.routes[t.route.id];n&&n.hasLoader&&(!c.some((e=>e.route.id===t.route.id))&&t.route.id in l&&i[t.route.id]?.shouldRevalidate||n.hasClientLoader?r=!0:e.add(t.route.id))})),0===e.size)return[];let u=St(t,s);return r&&e.size>0&&u.searchParams.set("_routes",n.filter((t=>e.has(t.route.id))).map((e=>e.route.id)).join(",")),[u.pathname+u.search]}),[s,l,o,a,c,n,t,i]),h=W.useMemo((()=>bt(d,a)),[d,a]),f=Pt(d);return W.createElement(W.Fragment,null,p.map((e=>W.createElement("link",{key:e,rel:"prefetch",as:"fetch",href:e,...r}))),h.map((e=>W.createElement("link",{key:e,rel:"modulepreload",href:e,...r}))),f.map((e=>{let{key:t,link:n}=e;return W.createElement("link",{key:t,...n})})))}Nt.displayName="FrameworkContext";var jt=!1;function _t(e){let{manifest:t,serverHandoffString:n,isSpaMode:r,ssr:o,renderMeta:a}=Ot(),{router:i,static:s,staticContext:l}=It(),{matches:u}=Et(),c=Tt(o);a&&(a.didRenderScripts=!0);let d=Dt(u,null,r);W.useEffect((()=>{0}),[]);let p=W.useMemo((()=>{let r=l?`window.__reactRouterContext = ${n};window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());`:" ",o=s?`${t.hmr?.runtime?`import ${JSON.stringify(t.hmr.runtime)};`:""}${c?"":`import ${JSON.stringify(t.url)}`};\n${d.map(((e,n)=>{let r=`route${n}`,o=t.routes[e.route.id];ft(o,`Route ${e.route.id} not found in manifest`);let{clientActionModule:a,clientLoaderModule:i,clientMiddlewareModule:s,hydrateFallbackModule:l,module:u}=o,c=[...a?[{module:a,varName:`${r}_clientAction`}]:[],...i?[{module:i,varName:`${r}_clientLoader`}]:[],...s?[{module:s,varName:`${r}_clientMiddleware`}]:[],...l?[{module:l,varName:`${r}_HydrateFallback`}]:[],{module:u,varName:`${r}_main`}];return 1===c.length?`import * as ${r} from ${JSON.stringify(u)};`:[c.map((e=>`import * as ${e.varName} from "${e.module}";`)).join("\n"),`const ${r} = {${c.map((e=>`...${e.varName}`)).join(",")}};`].join("\n")})).join("\n")}\n  ${c?`window.__reactRouterManifest = ${JSON.stringify(function(e,t){let{sri:n,...r}=e,o=new Set(t.state.matches.map((e=>e.route.id))),a=t.state.location.pathname.split("/").filter(Boolean),i=["/"];for(a.pop();a.length>0;)i.push(`/${a.join("/")}`),a.pop();i.forEach((e=>{let n=ee(t.routes,e,t.basename);n&&n.forEach((e=>o.add(e.route.id)))}));let s=[...o].reduce(((e,t)=>Object.assign(e,{[t]:r.routes[t]})),{});return{...r,routes:s,sri:!!n||void 0}}(t,i),null,2)};`:""}\n  window.__reactRouterRouteModules = {${d.map(((e,t)=>`${JSON.stringify(e.route.id)}:route${t}`)).join(",")}};\n\nimport(${JSON.stringify(t.entry.module)});`:" ";return W.createElement(W.Fragment,null,W.createElement("script",{...e,suppressHydrationWarning:!0,dangerouslySetInnerHTML:wt(r),type:void 0}),W.createElement("script",{...e,suppressHydrationWarning:!0,dangerouslySetInnerHTML:wt(o),type:"module",async:!0}))}),[]),h=jt?[]:(t.entry.imports.concat(bt(d,t,{includeHydrateFallback:!0})),[...new Set(f)]);var f;let m="object"===typeof t.sri?t.sri:{};return jt?null:W.createElement(W.Fragment,null,"object"===typeof t.sri?W.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:m})}}):null,c?null:W.createElement("link",{rel:"modulepreload",href:t.url,crossOrigin:e.crossOrigin,integrity:m[t.url],suppressHydrationWarning:!0}),W.createElement("link",{rel:"modulepreload",href:t.entry.module,crossOrigin:e.crossOrigin,integrity:m[t.entry.module],suppressHydrationWarning:!0}),h.map((t=>W.createElement("link",{key:t,rel:"modulepreload",href:t,crossOrigin:e.crossOrigin,integrity:m[t],suppressHydrationWarning:!0}))),p)}function Ft(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach((t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)}))}}var Lt="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{Lt&&(window.__reactRouterVersion="7.5.3")}catch(ZBe){}function zt(e){let{basename:t,children:n,window:r}=e,o=W.useRef();null==o.current&&(o.current=G({window:r,v5Compat:!0}));let a=o.current,[i,s]=W.useState({action:a.action,location:a.location}),l=W.useCallback((e=>{W.startTransition((()=>s(e)))}),[s]);return W.useLayoutEffect((()=>a.listen(l)),[a,l]),W.createElement(ot,{basename:t,children:n,location:i.location,navigationType:i.action,navigator:a})}var Bt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Wt=W.forwardRef((function(e,t){let n,{onClick:r,discover:o="render",prefetch:a="none",relative:i,reloadDocument:s,replace:l,state:u,target:c,to:d,preventScrollReset:p,viewTransition:h,...f}=e,{basename:m}=W.useContext(Re),g="string"===typeof d&&Bt.test(d),y=!1;if("string"===typeof d&&g&&(n=d,Lt))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),n=ge(t.pathname,m);t.origin===e.origin&&null!=n?d=n+t.search+t.hash:y=!0}catch(ZBe){K(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let v=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};q(_e(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=W.useContext(Re),{hash:o,pathname:a,search:i}=We(e,{relative:t}),s=a;return"/"!==n&&(s="/"===a?n:we([n,a])),r.createHref({pathname:s,search:i,hash:o})}(d,{relative:i}),[b,x,w]=function(e,t){let n=W.useContext(Nt),[r,o]=W.useState(!1),[a,i]=W.useState(!1),{onFocus:s,onBlur:l,onMouseEnter:u,onMouseLeave:c,onTouchStart:d}=t,p=W.useRef(null);W.useEffect((()=>{if("render"===e&&i(!0),"viewport"===e){let e=new IntersectionObserver((e=>{e.forEach((e=>{i(e.isIntersecting)}))}),{threshold:.5});return p.current&&e.observe(p.current),()=>{e.disconnect()}}}),[e]),W.useEffect((()=>{if(r){let e=setTimeout((()=>{i(!0)}),100);return()=>{clearTimeout(e)}}}),[r]);let h=()=>{o(!0)},f=()=>{o(!1),i(!1)};return n?"intent"!==e?[a,p,{}]:[a,p,{onFocus:Mt(s,h),onBlur:Mt(l,f),onMouseEnter:Mt(u,h),onMouseLeave:Mt(c,f),onTouchStart:Mt(d,h)}]:[!1,p,{}]}(a,f),k=function(e){let{target:t,replace:n,state:r,preventScrollReset:o,relative:a,viewTransition:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=Be(),l=Fe(),u=We(e,{relative:a});return W.useCallback((c=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(c,t)){c.preventDefault();let t=void 0!==n?n:Q(l)===Q(u);s(e,{replace:t,state:r,preventScrollReset:o,relative:a,viewTransition:i})}}),[l,s,u,n,r,t,e,o,a,i])}(d,{replace:l,state:u,target:c,preventScrollReset:p,relative:i,viewTransition:h});let S=W.createElement("a",{...f,...w,href:n||v,onClick:y||s?r:function(e){r&&r(e),e.defaultPrevented||k(e)},ref:Ft(t,x),target:c,"data-discover":g||"render"!==o?void 0:"true"});return b&&!g?W.createElement(W.Fragment,null,S,W.createElement(Rt,{page:v})):S}));Wt.displayName="Link",W.forwardRef((function(e,t){let{"aria-current":n="page",caseSensitive:r=!1,className:o="",end:a=!1,style:i,to:s,viewTransition:l,children:u,...c}=e,d=We(s,{relative:c.relative}),p=Fe(),h=W.useContext(Ne),{navigator:f,basename:m}=W.useContext(Re),g=null!=h&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=W.useContext(Oe);q(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Ht("useViewTransitionState"),o=We(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=ge(n.currentLocation.pathname,r)||n.currentLocation.pathname,i=ge(n.nextLocation.pathname,r)||n.nextLocation.pathname;return null!=he(o.pathname,i)||null!=he(o.pathname,a)}(d)&&!0===l,y=f.encodeLocation?f.encodeLocation(d).pathname:d.pathname,v=p.pathname,b=h&&h.navigation&&h.navigation.location?h.navigation.location.pathname:null;r||(v=v.toLowerCase(),b=b?b.toLowerCase():null,y=y.toLowerCase()),b&&m&&(b=ge(b,m)||b);const x="/"!==y&&y.endsWith("/")?y.length-1:y.length;let w,k=v===y||!a&&v.startsWith(y)&&"/"===v.charAt(x),S=null!=b&&(b===y||!a&&b.startsWith(y)&&"/"===b.charAt(y.length)),A={isActive:k,isPending:S,isTransitioning:g},C=k?n:void 0;w="function"===typeof o?o(A):[o,k?"active":null,S?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let T="function"===typeof i?i(A):i;return W.createElement(Wt,{...c,"aria-current":C,className:w,ref:t,style:T,to:s,viewTransition:l},"function"===typeof u?u(A):u)})).displayName="NavLink";var Vt=W.forwardRef(((e,t)=>{let{discover:n="render",fetcherKey:r,navigate:o,reloadDocument:a,replace:i,state:s,method:l=st,action:u,onSubmit:c,relative:d,preventScrollReset:p,viewTransition:h,...f}=e,m=Kt(),g=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:n}=W.useContext(Re),r=W.useContext($e);q(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),a={...We(e||".",{relative:t})},i=Fe();if(null==e){a.search=i.search;let e=new URLSearchParams(a.search),t=e.getAll("index");if(t.some((e=>""===e))){e.delete("index"),t.filter((e=>e)).forEach((t=>e.append("index",t)));let n=e.toString();a.search=n?`?${n}`:""}}e&&"."!==e||!o.route.index||(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(a.pathname="/"===a.pathname?n:we([n,a.pathname]));return Q(a)}(u,{relative:d}),y="get"===l.toLowerCase()?"get":"post",v="string"===typeof u&&Bt.test(u);return W.createElement("form",{ref:t,method:y,action:g,onSubmit:a?c:e=>{if(c&&c(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=t?.getAttribute("formmethod")||l;m(t||e.currentTarget,{fetcherKey:r,method:n,navigate:o,replace:i,state:s,relative:d,preventScrollReset:p,viewTransition:h})},...f,"data-discover":v||"render"!==n?void 0:"true"})}));function Ut(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ht(e){let t=W.useContext(Ee);return q(t,Ut(e)),t}Vt.displayName="Form";var Gt=0,qt=()=>`__${String(++Gt)}__`;function Kt(){let{router:e}=Ht("useSubmit"),{basename:t}=W.useContext(Re),n=Ze("useRouteId");return W.useCallback((async function(r){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:a,method:i,encType:s,formData:l,body:u}=ht(r,t);if(!1===o.navigate){let t=o.fetcherKey||qt();await e.fetch(t,n,o.action||a,{preventScrollReset:o.preventScrollReset,formData:l,body:u,formMethod:o.method||i,formEncType:o.encType||s,flushSync:o.flushSync})}else await e.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:l,body:u,formMethod:o.method||i,formEncType:o.encType||s,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})}),[e,t,n])}new TextEncoder;var Xt=n(8587),Yt=n(8168),Qt=n(8387),Zt=n(8610),Jt=n(7266),en=n(4535);const tn=e=>{let t;return t=e<1?5.11916*e**2:4.5*Math.log(e+1)+2,(t/100).toFixed(2)};var nn=n(6431),rn=n(2532),on=n(2372);function an(e){return(0,on.Ay)("MuiPaper",e)}(0,rn.A)("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);var sn=n(579);const ln=["className","component","elevation","square","variant"],un=(0,en.Ay)("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t[`elevation${n.elevation}`]]}})((e=>{let{theme:t,ownerState:n}=e;var r;return(0,Yt.A)({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!n.square&&{borderRadius:t.shape.borderRadius},"outlined"===n.variant&&{border:`1px solid ${(t.vars||t).palette.divider}`},"elevation"===n.variant&&(0,Yt.A)({boxShadow:(t.vars||t).shadows[n.elevation]},!t.vars&&"dark"===t.palette.mode&&{backgroundImage:`linear-gradient(${(0,Jt.X4)("#fff",tn(n.elevation))}, ${(0,Jt.X4)("#fff",tn(n.elevation))})`},t.vars&&{backgroundImage:null==(r=t.vars.overlays)?void 0:r[n.elevation]}))})),cn=W.forwardRef((function(e,t){const n=(0,nn.b)({props:e,name:"MuiPaper"}),{className:r,component:o="div",elevation:a=1,square:i=!1,variant:s="elevation"}=n,l=(0,Xt.A)(n,ln),u=(0,Yt.A)({},n,{component:o,elevation:a,square:i,variant:s}),c=(e=>{const{square:t,elevation:n,variant:r,classes:o}=e,a={root:["root",r,!t&&"rounded","elevation"===r&&`elevation${n}`]};return(0,Zt.A)(a,an,o)})(u);return(0,sn.jsx)(un,(0,Yt.A)({as:o,ownerState:u,className:(0,Qt.A)(c.root,r),ref:t},l))}));var dn=n(3030),pn=n(1475),hn=n(5849),fn=n(3319),mn=n(7844);function gn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yn(e,t){return yn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},yn(e,t)}function vn(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,yn(e,t)}const bn=W.createContext(null);function xn(e,t){var n=Object.create(null);return e&&W.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,W.isValidElement)(e)?t(e):e}(e)})),n}function wn(e,t,n){return null!=n[t]?n[t]:e.props[t]}function kn(e,t,n){var r=xn(e.children),o=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,o=Object.create(null),a=[];for(var i in e)i in t?a.length&&(o[i]=a,a=[]):a.push(i);var s={};for(var l in t){if(o[l])for(r=0;r<o[l].length;r++){var u=o[l][r];s[o[l][r]]=n(u)}s[l]=n(l)}for(r=0;r<a.length;r++)s[a[r]]=n(a[r]);return s}(t,r);return Object.keys(o).forEach((function(a){var i=o[a];if((0,W.isValidElement)(i)){var s=a in t,l=a in r,u=t[a],c=(0,W.isValidElement)(u)&&!u.props.in;!l||s&&!c?l||!s||c?l&&s&&(0,W.isValidElement)(u)&&(o[a]=(0,W.cloneElement)(i,{onExited:n.bind(null,i),in:u.props.in,exit:wn(i,"exit",e),enter:wn(i,"enter",e)})):o[a]=(0,W.cloneElement)(i,{in:!1}):o[a]=(0,W.cloneElement)(i,{onExited:n.bind(null,i),in:!0,exit:wn(i,"exit",e),enter:wn(i,"enter",e)})}})),o}var Sn=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},An=function(e){function t(t,n){var r,o=(r=e.call(this,t,n)||this).handleExited.bind(gn(r));return r.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},r}vn(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,r,o=t.children,a=t.handleExited;return{children:t.firstRender?(n=e,r=a,xn(n.children,(function(e){return(0,W.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:wn(e,"appear",n),enter:wn(e,"enter",n),exit:wn(e,"exit",n)})}))):kn(e,o,a),firstRender:!1}},n.handleExited=function(e,t){var n=xn(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=(0,Yt.A)({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=(0,Xt.A)(e,["component","childFactory"]),o=this.state.contextValue,a=Sn(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?W.createElement(bn.Provider,{value:o},a):W.createElement(bn.Provider,{value:o},W.createElement(t,r,a))},t}(W.Component);An.propTypes={},An.defaultProps={component:"div",childFactory:function(e){return e}};const Cn=An;var Tn=n(3290),In=n(9303);const En=function(e){const{className:t,classes:n,pulsate:r=!1,rippleX:o,rippleY:a,rippleSize:i,in:s,onExited:l,timeout:u}=e,[c,d]=W.useState(!1),p=(0,Qt.A)(t,n.ripple,n.rippleVisible,r&&n.ripplePulsate),h={width:i,height:i,top:-i/2+a,left:-i/2+o},f=(0,Qt.A)(n.child,c&&n.childLeaving,r&&n.childPulsate);return s||c||d(!0),W.useEffect((()=>{if(!s&&null!=l){const e=setTimeout(l,u);return()=>{clearTimeout(e)}}}),[l,s,u]),(0,sn.jsx)("span",{className:p,style:h,children:(0,sn.jsx)("span",{className:f})})};const Nn=(0,rn.A)("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),On=["center","classes","className"];let Mn,Dn,Rn,Pn,$n=e=>e;const jn=(0,Tn.i7)(Mn||(Mn=$n`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),_n=(0,Tn.i7)(Dn||(Dn=$n`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),Fn=(0,Tn.i7)(Rn||(Rn=$n`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),Ln=(0,en.Ay)("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),zn=(0,en.Ay)(En,{name:"MuiTouchRipple",slot:"Ripple"})(Pn||(Pn=$n`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),Nn.rippleVisible,jn,550,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}),Nn.ripplePulsate,(e=>{let{theme:t}=e;return t.transitions.duration.shorter}),Nn.child,Nn.childLeaving,_n,550,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}),Nn.childPulsate,Fn,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut})),Bn=W.forwardRef((function(e,t){const n=(0,nn.b)({props:e,name:"MuiTouchRipple"}),{center:r=!1,classes:o={},className:a}=n,i=(0,Xt.A)(n,On),[s,l]=W.useState([]),u=W.useRef(0),c=W.useRef(null);W.useEffect((()=>{c.current&&(c.current(),c.current=null)}),[s]);const d=W.useRef(!1),p=(0,In.A)(),h=W.useRef(null),f=W.useRef(null),m=W.useCallback((e=>{const{pulsate:t,rippleX:n,rippleY:r,rippleSize:a,cb:i}=e;l((e=>[...e,(0,sn.jsx)(zn,{classes:{ripple:(0,Qt.A)(o.ripple,Nn.ripple),rippleVisible:(0,Qt.A)(o.rippleVisible,Nn.rippleVisible),ripplePulsate:(0,Qt.A)(o.ripplePulsate,Nn.ripplePulsate),child:(0,Qt.A)(o.child,Nn.child),childLeaving:(0,Qt.A)(o.childLeaving,Nn.childLeaving),childPulsate:(0,Qt.A)(o.childPulsate,Nn.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:a},u.current)])),u.current+=1,c.current=i}),[o]),g=W.useCallback((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};const{pulsate:o=!1,center:a=r||t.pulsate,fakeElement:i=!1}=t;if("mousedown"===(null==e?void 0:e.type)&&d.current)return void(d.current=!1);"touchstart"===(null==e?void 0:e.type)&&(d.current=!0);const s=i?null:f.current,l=s?s.getBoundingClientRect():{width:0,height:0,left:0,top:0};let u,c,g;if(a||void 0===e||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)u=Math.round(l.width/2),c=Math.round(l.height/2);else{const{clientX:t,clientY:n}=e.touches&&e.touches.length>0?e.touches[0]:e;u=Math.round(t-l.left),c=Math.round(n-l.top)}if(a)g=Math.sqrt((2*l.width**2+l.height**2)/3),g%2===0&&(g+=1);else{const e=2*Math.max(Math.abs((s?s.clientWidth:0)-u),u)+2,t=2*Math.max(Math.abs((s?s.clientHeight:0)-c),c)+2;g=Math.sqrt(e**2+t**2)}null!=e&&e.touches?null===h.current&&(h.current=()=>{m({pulsate:o,rippleX:u,rippleY:c,rippleSize:g,cb:n})},p.start(80,(()=>{h.current&&(h.current(),h.current=null)}))):m({pulsate:o,rippleX:u,rippleY:c,rippleSize:g,cb:n})}),[r,m,p]),y=W.useCallback((()=>{g({},{pulsate:!0})}),[g]),v=W.useCallback(((e,t)=>{if(p.clear(),"touchend"===(null==e?void 0:e.type)&&h.current)return h.current(),h.current=null,void p.start(0,(()=>{v(e,t)}));h.current=null,l((e=>e.length>0?e.slice(1):e)),c.current=t}),[p]);return W.useImperativeHandle(t,(()=>({pulsate:y,start:g,stop:v})),[y,g,v]),(0,sn.jsx)(Ln,(0,Yt.A)({className:(0,Qt.A)(Nn.root,o.root,a),ref:f},i,{children:(0,sn.jsx)(Cn,{component:null,exit:!0,children:s})}))}));function Wn(e){return(0,on.Ay)("MuiButtonBase",e)}const Vn=(0,rn.A)("MuiButtonBase",["root","disabled","focusVisible"]),Un=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],Hn=(0,en.Ay)("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Vn.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Gn=W.forwardRef((function(e,t){const n=(0,nn.b)({props:e,name:"MuiButtonBase"}),{action:r,centerRipple:o=!1,children:a,className:i,component:s="button",disabled:l=!1,disableRipple:u=!1,disableTouchRipple:c=!1,focusRipple:d=!1,LinkComponent:p="a",onBlur:h,onClick:f,onContextMenu:m,onDragLeave:g,onFocus:y,onFocusVisible:v,onKeyDown:b,onKeyUp:x,onMouseDown:w,onMouseLeave:k,onMouseUp:S,onTouchEnd:A,onTouchMove:C,onTouchStart:T,tabIndex:I=0,TouchRippleProps:E,touchRippleRef:N,type:O}=n,M=(0,Xt.A)(n,Un),D=W.useRef(null),R=W.useRef(null),P=(0,hn.A)(R,N),{isFocusVisibleRef:$,onFocus:j,onBlur:_,ref:F}=(0,mn.A)(),[L,z]=W.useState(!1);l&&L&&z(!1),W.useImperativeHandle(r,(()=>({focusVisible:()=>{z(!0),D.current.focus()}})),[]);const[B,V]=W.useState(!1);W.useEffect((()=>{V(!0)}),[]);const U=B&&!u&&!l;function H(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c;return(0,fn.A)((r=>{t&&t(r);return!n&&R.current&&R.current[e](r),!0}))}W.useEffect((()=>{L&&d&&!u&&B&&R.current.pulsate()}),[u,d,L,B]);const G=H("start",w),q=H("stop",m),K=H("stop",g),X=H("stop",S),Y=H("stop",(e=>{L&&e.preventDefault(),k&&k(e)})),Q=H("start",T),Z=H("stop",A),J=H("stop",C),ee=H("stop",(e=>{_(e),!1===$.current&&z(!1),h&&h(e)}),!1),te=(0,fn.A)((e=>{D.current||(D.current=e.currentTarget),j(e),!0===$.current&&(z(!0),v&&v(e)),y&&y(e)})),ne=()=>{const e=D.current;return s&&"button"!==s&&!("A"===e.tagName&&e.href)},re=W.useRef(!1),oe=(0,fn.A)((e=>{d&&!re.current&&L&&R.current&&" "===e.key&&(re.current=!0,R.current.stop(e,(()=>{R.current.start(e)}))),e.target===e.currentTarget&&ne()&&" "===e.key&&e.preventDefault(),b&&b(e),e.target===e.currentTarget&&ne()&&"Enter"===e.key&&!l&&(e.preventDefault(),f&&f(e))})),ae=(0,fn.A)((e=>{d&&" "===e.key&&R.current&&L&&!e.defaultPrevented&&(re.current=!1,R.current.stop(e,(()=>{R.current.pulsate(e)}))),x&&x(e),f&&e.target===e.currentTarget&&ne()&&" "===e.key&&!e.defaultPrevented&&f(e)}));let ie=s;"button"===ie&&(M.href||M.to)&&(ie=p);const se={};"button"===ie?(se.type=void 0===O?"button":O,se.disabled=l):(M.href||M.to||(se.role="button"),l&&(se["aria-disabled"]=l));const le=(0,hn.A)(t,F,D);const ue=(0,Yt.A)({},n,{centerRipple:o,component:s,disabled:l,disableRipple:u,disableTouchRipple:c,focusRipple:d,tabIndex:I,focusVisible:L}),ce=(e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:o}=e,a={root:["root",t&&"disabled",n&&"focusVisible"]},i=(0,Zt.A)(a,Wn,o);return n&&r&&(i.root+=` ${r}`),i})(ue);return(0,sn.jsxs)(Hn,(0,Yt.A)({as:ie,className:(0,Qt.A)(ce.root,i),ownerState:ue,onBlur:ee,onClick:f,onContextMenu:q,onFocus:te,onKeyDown:oe,onKeyUp:ae,onMouseDown:G,onMouseLeave:Y,onMouseUp:X,onDragLeave:K,onTouchEnd:Z,onTouchMove:J,onTouchStart:Q,ref:le,tabIndex:l?-1:I,type:O},se,M,{children:[a,U?(0,sn.jsx)(Bn,(0,Yt.A)({ref:P,center:o},E)):null]}))}));var qn=n(6803);function Kn(e){return(0,on.Ay)("MuiButton",e)}const Xn=(0,rn.A)("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);const Yn=W.createContext({});const Qn=W.createContext(void 0),Zn=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],Jn=e=>(0,Yt.A)({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}}),er=(0,en.Ay)(Gn,{shouldForwardProp:e=>(0,pn.A)(e)||"classes"===e,name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${(0,qn.A)(n.color)}`],t[`size${(0,qn.A)(n.size)}`],t[`${n.variant}Size${(0,qn.A)(n.size)}`],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})((e=>{let{theme:t,ownerState:n}=e;var r,o;const a="light"===t.palette.mode?t.palette.grey[300]:t.palette.grey[800],i="light"===t.palette.mode?t.palette.grey.A100:t.palette.grey[700];return(0,Yt.A)({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":(0,Yt.A)({textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,Jt.X4)(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===n.variant&&"inherit"!==n.color&&{backgroundColor:t.vars?`rgba(${t.vars.palette[n.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,Jt.X4)(t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===n.variant&&"inherit"!==n.color&&{border:`1px solid ${(t.vars||t).palette[n.color].main}`,backgroundColor:t.vars?`rgba(${t.vars.palette[n.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,Jt.X4)(t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===n.variant&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:i,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},"contained"===n.variant&&"inherit"!==n.color&&{backgroundColor:(t.vars||t).palette[n.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[n.color].main}}),"&:active":(0,Yt.A)({},"contained"===n.variant&&{boxShadow:(t.vars||t).shadows[8]}),[`&.${Xn.focusVisible}`]:(0,Yt.A)({},"contained"===n.variant&&{boxShadow:(t.vars||t).shadows[6]}),[`&.${Xn.disabled}`]:(0,Yt.A)({color:(t.vars||t).palette.action.disabled},"outlined"===n.variant&&{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},"contained"===n.variant&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},"text"===n.variant&&{padding:"6px 8px"},"text"===n.variant&&"inherit"!==n.color&&{color:(t.vars||t).palette[n.color].main},"outlined"===n.variant&&{padding:"5px 15px",border:"1px solid currentColor"},"outlined"===n.variant&&"inherit"!==n.color&&{color:(t.vars||t).palette[n.color].main,border:t.vars?`1px solid rgba(${t.vars.palette[n.color].mainChannel} / 0.5)`:`1px solid ${(0,Jt.X4)(t.palette[n.color].main,.5)}`},"contained"===n.variant&&{color:t.vars?t.vars.palette.text.primary:null==(r=(o=t.palette).getContrastText)?void 0:r.call(o,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:a,boxShadow:(t.vars||t).shadows[2]},"contained"===n.variant&&"inherit"!==n.color&&{color:(t.vars||t).palette[n.color].contrastText,backgroundColor:(t.vars||t).palette[n.color].main},"inherit"===n.color&&{color:"inherit",borderColor:"currentColor"},"small"===n.size&&"text"===n.variant&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},"large"===n.size&&"text"===n.variant&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},"small"===n.size&&"outlined"===n.variant&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},"large"===n.size&&"outlined"===n.variant&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},"small"===n.size&&"contained"===n.variant&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},"large"===n.size&&"contained"===n.variant&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},n.fullWidth&&{width:"100%"})}),(e=>{let{ownerState:t}=e;return t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Xn.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Xn.disabled}`]:{boxShadow:"none"}}})),tr=(0,en.Ay)("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,t[`iconSize${(0,qn.A)(n.size)}`]]}})((e=>{let{ownerState:t}=e;return(0,Yt.A)({display:"inherit",marginRight:8,marginLeft:-4},"small"===t.size&&{marginLeft:-2},Jn(t))})),nr=(0,en.Ay)("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,t[`iconSize${(0,qn.A)(n.size)}`]]}})((e=>{let{ownerState:t}=e;return(0,Yt.A)({display:"inherit",marginRight:-4,marginLeft:8},"small"===t.size&&{marginRight:-2},Jn(t))})),rr=W.forwardRef((function(e,t){const n=W.useContext(Yn),r=W.useContext(Qn),o=(0,dn.A)(n,e),a=(0,nn.b)({props:o,name:"MuiButton"}),{children:i,color:s="primary",component:l="button",className:u,disabled:c=!1,disableElevation:d=!1,disableFocusRipple:p=!1,endIcon:h,focusVisibleClassName:f,fullWidth:m=!1,size:g="medium",startIcon:y,type:v,variant:b="text"}=a,x=(0,Xt.A)(a,Zn),w=(0,Yt.A)({},a,{color:s,component:l,disabled:c,disableElevation:d,disableFocusRipple:p,fullWidth:m,size:g,type:v,variant:b}),k=(e=>{const{color:t,disableElevation:n,fullWidth:r,size:o,variant:a,classes:i}=e,s={root:["root",a,`${a}${(0,qn.A)(t)}`,`size${(0,qn.A)(o)}`,`${a}Size${(0,qn.A)(o)}`,`color${(0,qn.A)(t)}`,n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${(0,qn.A)(o)}`],endIcon:["icon","endIcon",`iconSize${(0,qn.A)(o)}`]},l=(0,Zt.A)(s,Kn,i);return(0,Yt.A)({},i,l)})(w),S=y&&(0,sn.jsx)(tr,{className:k.startIcon,ownerState:w,children:y}),A=h&&(0,sn.jsx)(nr,{className:k.endIcon,ownerState:w,children:h}),C=r||"";return(0,sn.jsxs)(er,(0,Yt.A)({ownerState:w,className:(0,Qt.A)(n.className,k.root,u,C),component:l,disabled:c,focusRipple:!p,focusVisibleClassName:(0,Qt.A)(k.focusVisible,f),ref:t,type:v},x,{classes:k,children:[S,i,A]}))}));var or=n(5844),ar=n(9172),ir=n(7868);const sr=function(e){return"string"===typeof e};var lr=n(3462),ur=n(3940),cr=n(1782),dr=n(4440),pr=n(3468);const hr=["onChange","maxRows","minRows","style","value"];function fr(e){return parseInt(e,10)||0}const mr={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"};function gr(e){return function(e){for(const t in e)return!1;return!0}(e)||0===e.outerHeightStyle&&!e.overflowing}const yr=W.forwardRef((function(e,t){const{onChange:n,maxRows:r,minRows:o=1,style:a,value:i}=e,s=(0,Xt.A)(e,hr),{current:l}=W.useRef(null!=i),u=W.useRef(null),c=(0,lr.A)(t,u),d=W.useRef(null),p=W.useRef(null),h=W.useCallback((()=>{const t=u.current,n=p.current;if(!t||!n)return;const a=(0,ur.A)(t).getComputedStyle(t);if("0px"===a.width)return{outerHeightStyle:0,overflowing:!1};n.style.width=a.width,n.value=t.value||e.placeholder||"x","\n"===n.value.slice(-1)&&(n.value+=" ");const i=a.boxSizing,s=fr(a.paddingBottom)+fr(a.paddingTop),l=fr(a.borderBottomWidth)+fr(a.borderTopWidth),c=n.scrollHeight;n.value="x";const d=n.scrollHeight;let h=c;o&&(h=Math.max(Number(o)*d,h)),r&&(h=Math.min(Number(r)*d,h)),h=Math.max(h,d);return{outerHeightStyle:h+("border-box"===i?s+l:0),overflowing:Math.abs(h-c)<=1}}),[r,o,e.placeholder]),f=(0,cr.A)((()=>{const e=u.current,t=h();if(!e||!t||gr(t))return!1;const n=t.outerHeightStyle;return null!=d.current&&d.current!==n})),m=W.useCallback((()=>{const e=u.current,t=h();if(!e||!t||gr(t))return;const n=t.outerHeightStyle;d.current!==n&&(d.current=n,e.style.height=`${n}px`),e.style.overflow=t.overflowing?"hidden":""}),[h]),g=W.useRef(-1);(0,dr.A)((()=>{const e=(0,pr.A)(m),t=null==u?void 0:u.current;if(!t)return;const n=(0,ur.A)(t);let r;return n.addEventListener("resize",e),"undefined"!==typeof ResizeObserver&&(r=new ResizeObserver((()=>{f()&&(r.unobserve(t),cancelAnimationFrame(g.current),m(),g.current=requestAnimationFrame((()=>{r.observe(t)})))})),r.observe(t)),()=>{e.clear(),cancelAnimationFrame(g.current),n.removeEventListener("resize",e),r&&r.disconnect()}}),[h,m,f]),(0,dr.A)((()=>{m()}));return(0,sn.jsxs)(W.Fragment,{children:[(0,sn.jsx)("textarea",(0,Yt.A)({value:i,onChange:e=>{l||m(),n&&n(e)},ref:c,rows:o,style:a},s)),(0,sn.jsx)("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:p,tabIndex:-1,style:(0,Yt.A)({},mr,a,{paddingTop:0,paddingBottom:0})})]})}));function vr(e){let{props:t,states:n,muiFormControl:r}=e;return n.reduce(((e,n)=>(e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e)),{})}const br=W.createContext(void 0);function xr(){return W.useContext(br)}var wr=n(5013),kr=n(869),Sr=n(8280),Ar=n(9369);const Cr=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=W.useContext(Ar.T);return t&&(n=t,0!==Object.keys(n).length)?t:e;var n},Tr=(0,Sr.A)();const Ir=function(){return Cr(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tr)};const Er=function(e){let{styles:t,themeId:n,defaultTheme:r={}}=e;const o=Ir(r),a="function"===typeof t?t(n&&o[n]||o):t;return(0,sn.jsx)(kr.A,{styles:a})};var Nr=n(5170),Or=n(3375);const Mr=function(e){return(0,sn.jsx)(Er,(0,Yt.A)({},e,{defaultTheme:Nr.A,themeId:Or.A}))};function Dr(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function Rr(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(Dr(e.value)&&""!==e.value||t&&Dr(e.defaultValue)&&""!==e.defaultValue)}function Pr(e){return(0,on.Ay)("MuiInputBase",e)}const $r=(0,rn.A)("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),jr=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],_r=(e,t)=>{const{ownerState:n}=e;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,"small"===n.size&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t[`color${(0,qn.A)(n.color)}`],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},Fr=(e,t)=>{const{ownerState:n}=e;return[t.input,"small"===n.size&&t.inputSizeSmall,n.multiline&&t.inputMultiline,"search"===n.type&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},Lr=(0,en.Ay)("div",{name:"MuiInputBase",slot:"Root",overridesResolver:_r})((e=>{let{theme:t,ownerState:n}=e;return(0,Yt.A)({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${$r.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},n.multiline&&(0,Yt.A)({padding:"4px 0 5px"},"small"===n.size&&{paddingTop:1}),n.fullWidth&&{width:"100%"})})),zr=(0,en.Ay)("input",{name:"MuiInputBase",slot:"Input",overridesResolver:Fr})((e=>{let{theme:t,ownerState:n}=e;const r="light"===t.palette.mode,o=(0,Yt.A)({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:r?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),a={opacity:"0 !important"},i=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:r?.42:.5};return(0,Yt.A)({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&:-ms-input-placeholder":o,"&::-ms-input-placeholder":o,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${$r.formControl} &`]:{"&::-webkit-input-placeholder":a,"&::-moz-placeholder":a,"&:-ms-input-placeholder":a,"&::-ms-input-placeholder":a,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus:-ms-input-placeholder":i,"&:focus::-ms-input-placeholder":i},[`&.${$r.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},"small"===n.size&&{paddingTop:1},n.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},"search"===n.type&&{MozAppearance:"textfield"})})),Br=(0,sn.jsx)(Mr,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),Wr=W.forwardRef((function(e,t){var n;const r=(0,nn.b)({props:e,name:"MuiInputBase"}),{"aria-describedby":o,autoComplete:a,autoFocus:i,className:s,components:l={},componentsProps:u={},defaultValue:c,disabled:d,disableInjectingGlobalStyles:p,endAdornment:h,fullWidth:f=!1,id:m,inputComponent:g="input",inputProps:y={},inputRef:v,maxRows:b,minRows:x,multiline:w=!1,name:k,onBlur:S,onChange:A,onClick:C,onFocus:T,onKeyDown:I,onKeyUp:E,placeholder:N,readOnly:O,renderSuffix:M,rows:D,slotProps:R={},slots:P={},startAdornment:$,type:j="text",value:_}=r,F=(0,Xt.A)(r,jr),L=null!=y.value?y.value:_,{current:z}=W.useRef(null!=L),B=W.useRef(),V=W.useCallback((e=>{0}),[]),U=(0,hn.A)(B,v,y.ref,V),[H,G]=W.useState(!1),q=xr();const K=vr({props:r,muiFormControl:q,states:["color","disabled","error","hiddenLabel","size","required","filled"]});K.focused=q?q.focused:H,W.useEffect((()=>{!q&&d&&H&&(G(!1),S&&S())}),[q,d,H,S]);const X=q&&q.onFilled,Y=q&&q.onEmpty,Q=W.useCallback((e=>{Rr(e)?X&&X():Y&&Y()}),[X,Y]);(0,wr.A)((()=>{z&&Q({value:L})}),[L,Q,z]);W.useEffect((()=>{Q(B.current)}),[]);let Z=g,J=y;w&&"input"===Z&&(J=D?(0,Yt.A)({type:void 0,minRows:D,maxRows:D},J):(0,Yt.A)({type:void 0,maxRows:b,minRows:x},J),Z=yr);W.useEffect((()=>{q&&q.setAdornedStart(Boolean($))}),[q,$]);const ee=(0,Yt.A)({},r,{color:K.color||"primary",disabled:K.disabled,endAdornment:h,error:K.error,focused:K.focused,formControl:q,fullWidth:f,hiddenLabel:K.hiddenLabel,multiline:w,size:K.size,startAdornment:$,type:j}),te=(e=>{const{classes:t,color:n,disabled:r,error:o,endAdornment:a,focused:i,formControl:s,fullWidth:l,hiddenLabel:u,multiline:c,readOnly:d,size:p,startAdornment:h,type:f}=e,m={root:["root",`color${(0,qn.A)(n)}`,r&&"disabled",o&&"error",l&&"fullWidth",i&&"focused",s&&"formControl",p&&"medium"!==p&&`size${(0,qn.A)(p)}`,c&&"multiline",h&&"adornedStart",a&&"adornedEnd",u&&"hiddenLabel",d&&"readOnly"],input:["input",r&&"disabled","search"===f&&"inputTypeSearch",c&&"inputMultiline","small"===p&&"inputSizeSmall",u&&"inputHiddenLabel",h&&"inputAdornedStart",a&&"inputAdornedEnd",d&&"readOnly"]};return(0,Zt.A)(m,Pr,t)})(ee),ne=P.root||l.Root||Lr,re=R.root||u.root||{},oe=P.input||l.Input||zr;return J=(0,Yt.A)({},J,null!=(n=R.input)?n:u.input),(0,sn.jsxs)(W.Fragment,{children:[!p&&Br,(0,sn.jsxs)(ne,(0,Yt.A)({},re,!sr(ne)&&{ownerState:(0,Yt.A)({},ee,re.ownerState)},{ref:t,onClick:e=>{B.current&&e.currentTarget===e.target&&B.current.focus(),C&&C(e)}},F,{className:(0,Qt.A)(te.root,re.className,s,O&&"MuiInputBase-readOnly"),children:[$,(0,sn.jsx)(br.Provider,{value:null,children:(0,sn.jsx)(oe,(0,Yt.A)({ownerState:ee,"aria-invalid":K.error,"aria-describedby":o,autoComplete:a,autoFocus:i,defaultValue:c,disabled:K.disabled,id:m,onAnimationStart:e=>{Q("mui-auto-fill-cancel"===e.animationName?B.current:{value:"x"})},name:k,placeholder:N,readOnly:O,required:K.required,rows:D,value:L,onKeyDown:I,onKeyUp:E,type:j},J,!sr(oe)&&{as:Z,ownerState:(0,Yt.A)({},ee,J.ownerState)},{ref:U,className:(0,Qt.A)(te.input,J.className,O&&"MuiInputBase-readOnly"),onBlur:e=>{S&&S(e),y.onBlur&&y.onBlur(e),q&&q.onBlur?q.onBlur(e):G(!1)},onChange:function(e){if(!z){const t=e.target||B.current;if(null==t)throw new Error((0,ir.A)(1));Q({value:t.value})}for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];y.onChange&&y.onChange(e,...n),A&&A(e,...n)},onFocus:e=>{K.disabled?e.stopPropagation():(T&&T(e),y.onFocus&&y.onFocus(e),q&&q.onFocus?q.onFocus(e):G(!0))}}))}),h,M?M((0,Yt.A)({},K,{startAdornment:$})):null]}))]})}));function Vr(e){return(0,on.Ay)("MuiInput",e)}const Ur=(0,Yt.A)({},$r,(0,rn.A)("MuiInput",["root","underline","input"])),Hr=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],Gr=(0,en.Ay)(Lr,{shouldForwardProp:e=>(0,pn.A)(e)||"classes"===e,name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[..._r(e,t),!n.disableUnderline&&t.underline]}})((e=>{let{theme:t,ownerState:n}=e;let r="light"===t.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(r=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),(0,Yt.A)({position:"relative"},n.formControl&&{"label + &":{marginTop:16}},!n.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[n.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Ur.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Ur.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Ur.disabled}, .${Ur.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${Ur.disabled}:before`]:{borderBottomStyle:"dotted"}})})),qr=(0,en.Ay)(zr,{name:"MuiInput",slot:"Input",overridesResolver:Fr})({}),Kr=W.forwardRef((function(e,t){var n,r,o,a;const i=(0,nn.b)({props:e,name:"MuiInput"}),{disableUnderline:s,components:l={},componentsProps:u,fullWidth:c=!1,inputComponent:d="input",multiline:p=!1,slotProps:h,slots:f={},type:m="text"}=i,g=(0,Xt.A)(i,Hr),y=(e=>{const{classes:t,disableUnderline:n}=e,r={root:["root",!n&&"underline"],input:["input"]},o=(0,Zt.A)(r,Vr,t);return(0,Yt.A)({},t,o)})(i),v={root:{ownerState:{disableUnderline:s}}},b=(null!=h?h:u)?(0,ar.A)(null!=h?h:u,v):v,x=null!=(n=null!=(r=f.root)?r:l.Root)?n:Gr,w=null!=(o=null!=(a=f.input)?a:l.Input)?o:qr;return(0,sn.jsx)(Wr,(0,Yt.A)({slots:{root:x,input:w},slotProps:b,fullWidth:c,inputComponent:d,multiline:p,ref:t,type:m},g,{classes:y}))}));Kr.muiName="Input";const Xr=Kr;function Yr(e){return(0,on.Ay)("MuiFilledInput",e)}const Qr=(0,Yt.A)({},$r,(0,rn.A)("MuiFilledInput",["root","underline","input"])),Zr=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],Jr=(0,en.Ay)(Lr,{shouldForwardProp:e=>(0,pn.A)(e)||"classes"===e,name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[..._r(e,t),!n.disableUnderline&&t.underline]}})((e=>{let{theme:t,ownerState:n}=e;var r;const o="light"===t.palette.mode,a=o?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",i=o?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",s=o?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",l=o?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return(0,Yt.A)({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:i,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:s,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:i}},[`&.${Qr.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:i},[`&.${Qr.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:l}},!n.disableUnderline&&{"&::after":{borderBottom:`2px solid ${null==(r=(t.vars||t).palette[n.color||"primary"])?void 0:r.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Qr.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Qr.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:a}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Qr.disabled}, .${Qr.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${Qr.disabled}:before`]:{borderBottomStyle:"dotted"}},n.startAdornment&&{paddingLeft:12},n.endAdornment&&{paddingRight:12},n.multiline&&(0,Yt.A)({padding:"25px 12px 8px"},"small"===n.size&&{paddingTop:21,paddingBottom:4},n.hiddenLabel&&{paddingTop:16,paddingBottom:17},n.hiddenLabel&&"small"===n.size&&{paddingTop:8,paddingBottom:9}))})),eo=(0,en.Ay)(zr,{name:"MuiFilledInput",slot:"Input",overridesResolver:Fr})((e=>{let{theme:t,ownerState:n}=e;return(0,Yt.A)({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},"small"===n.size&&{paddingTop:21,paddingBottom:4},n.hiddenLabel&&{paddingTop:16,paddingBottom:17},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0},n.hiddenLabel&&"small"===n.size&&{paddingTop:8,paddingBottom:9},n.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})})),to=W.forwardRef((function(e,t){var n,r,o,a;const i=(0,nn.b)({props:e,name:"MuiFilledInput"}),{components:s={},componentsProps:l,fullWidth:u=!1,inputComponent:c="input",multiline:d=!1,slotProps:p,slots:h={},type:f="text"}=i,m=(0,Xt.A)(i,Zr),g=(0,Yt.A)({},i,{fullWidth:u,inputComponent:c,multiline:d,type:f}),y=(e=>{const{classes:t,disableUnderline:n}=e,r={root:["root",!n&&"underline"],input:["input"]},o=(0,Zt.A)(r,Yr,t);return(0,Yt.A)({},t,o)})(i),v={root:{ownerState:g},input:{ownerState:g}},b=(null!=p?p:l)?(0,ar.A)(v,null!=p?p:l):v,x=null!=(n=null!=(r=h.root)?r:s.Root)?n:Jr,w=null!=(o=null!=(a=h.input)?a:s.Input)?o:eo;return(0,sn.jsx)(Wr,(0,Yt.A)({slots:{root:x,input:w},componentsProps:b,fullWidth:u,inputComponent:c,multiline:d,ref:t,type:f},m,{classes:y}))}));to.muiName="Input";const no=to;var ro;const oo=["children","classes","className","label","notched"],ao=(0,en.Ay)("fieldset",{shouldForwardProp:pn.A})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),io=(0,en.Ay)("legend",{shouldForwardProp:pn.A})((e=>{let{ownerState:t,theme:n}=e;return(0,Yt.A)({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:n.transitions.create("width",{duration:150,easing:n.transitions.easing.easeOut})},t.withLabel&&(0,Yt.A)({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:n.transitions.create("max-width",{duration:50,easing:n.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:n.transitions.create("max-width",{duration:100,easing:n.transitions.easing.easeOut,delay:50})}))}));function so(e){return(0,on.Ay)("MuiOutlinedInput",e)}const lo=(0,Yt.A)({},$r,(0,rn.A)("MuiOutlinedInput",["root","notchedOutline","input"])),uo=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],co=(0,en.Ay)(Lr,{shouldForwardProp:e=>(0,pn.A)(e)||"classes"===e,name:"MuiOutlinedInput",slot:"Root",overridesResolver:_r})((e=>{let{theme:t,ownerState:n}=e;const r="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return(0,Yt.A)({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${lo.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${lo.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:r}},[`&.${lo.focused} .${lo.notchedOutline}`]:{borderColor:(t.vars||t).palette[n.color].main,borderWidth:2},[`&.${lo.error} .${lo.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${lo.disabled} .${lo.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}},n.startAdornment&&{paddingLeft:14},n.endAdornment&&{paddingRight:14},n.multiline&&(0,Yt.A)({padding:"16.5px 14px"},"small"===n.size&&{padding:"8.5px 14px"}))})),po=(0,en.Ay)((function(e){const{className:t,label:n,notched:r}=e,o=(0,Xt.A)(e,oo),a=null!=n&&""!==n,i=(0,Yt.A)({},e,{notched:r,withLabel:a});return(0,sn.jsx)(ao,(0,Yt.A)({"aria-hidden":!0,className:t,ownerState:i},o,{children:(0,sn.jsx)(io,{ownerState:i,children:a?(0,sn.jsx)("span",{children:n}):ro||(ro=(0,sn.jsx)("span",{className:"notranslate",children:"\u200b"}))})}))}),{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})((e=>{let{theme:t}=e;const n="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:n}})),ho=(0,en.Ay)(zr,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:Fr})((e=>{let{theme:t,ownerState:n}=e;return(0,Yt.A)({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},"small"===n.size&&{padding:"8.5px 14px"},n.multiline&&{padding:0},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0})})),fo=W.forwardRef((function(e,t){var n,r,o,a,i;const s=(0,nn.b)({props:e,name:"MuiOutlinedInput"}),{components:l={},fullWidth:u=!1,inputComponent:c="input",label:d,multiline:p=!1,notched:h,slots:f={},type:m="text"}=s,g=(0,Xt.A)(s,uo),y=(e=>{const{classes:t}=e,n=(0,Zt.A)({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},so,t);return(0,Yt.A)({},t,n)})(s),v=xr(),b=vr({props:s,muiFormControl:v,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),x=(0,Yt.A)({},s,{color:b.color||"primary",disabled:b.disabled,error:b.error,focused:b.focused,formControl:v,fullWidth:u,hiddenLabel:b.hiddenLabel,multiline:p,size:b.size,type:m}),w=null!=(n=null!=(r=f.root)?r:l.Root)?n:co,k=null!=(o=null!=(a=f.input)?a:l.Input)?o:ho;return(0,sn.jsx)(Wr,(0,Yt.A)({slots:{root:w,input:k},renderSuffix:e=>(0,sn.jsx)(po,{ownerState:x,className:y.notchedOutline,label:null!=d&&""!==d&&b.required?i||(i=(0,sn.jsxs)(W.Fragment,{children:[d,"\u2009","*"]})):d,notched:"undefined"!==typeof h?h:Boolean(e.startAdornment||e.filled||e.focused)}),fullWidth:u,inputComponent:c,multiline:p,ref:t,type:m},g,{classes:(0,Yt.A)({},y,{notchedOutline:null})}))}));fo.muiName="Input";const mo=fo;function go(e){return(0,on.Ay)("MuiFormLabel",e)}const yo=(0,rn.A)("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),vo=["children","className","color","component","disabled","error","filled","focused","required"],bo=(0,en.Ay)("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return(0,Yt.A)({},t.root,"secondary"===n.color&&t.colorSecondary,n.filled&&t.filled)}})((e=>{let{theme:t,ownerState:n}=e;return(0,Yt.A)({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${yo.focused}`]:{color:(t.vars||t).palette[n.color].main},[`&.${yo.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${yo.error}`]:{color:(t.vars||t).palette.error.main}})})),xo=(0,en.Ay)("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})((e=>{let{theme:t}=e;return{[`&.${yo.error}`]:{color:(t.vars||t).palette.error.main}}})),wo=W.forwardRef((function(e,t){const n=(0,nn.b)({props:e,name:"MuiFormLabel"}),{children:r,className:o,component:a="label"}=n,i=(0,Xt.A)(n,vo),s=vr({props:n,muiFormControl:xr(),states:["color","required","focused","disabled","error","filled"]}),l=(0,Yt.A)({},n,{color:s.color||"primary",component:a,disabled:s.disabled,error:s.error,filled:s.filled,focused:s.focused,required:s.required}),u=(e=>{const{classes:t,color:n,focused:r,disabled:o,error:a,filled:i,required:s}=e,l={root:["root",`color${(0,qn.A)(n)}`,o&&"disabled",a&&"error",i&&"filled",r&&"focused",s&&"required"],asterisk:["asterisk",a&&"error"]};return(0,Zt.A)(l,go,t)})(l);return(0,sn.jsxs)(bo,(0,Yt.A)({as:a,ownerState:l,className:(0,Qt.A)(u.root,o),ref:t},i,{children:[r,s.required&&(0,sn.jsxs)(xo,{ownerState:l,"aria-hidden":!0,className:u.asterisk,children:["\u2009","*"]})]}))}));function ko(e){return(0,on.Ay)("MuiInputLabel",e)}(0,rn.A)("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const So=["disableAnimation","margin","shrink","variant","className"],Ao=(0,en.Ay)(wo,{shouldForwardProp:e=>(0,pn.A)(e)||"classes"===e,name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${yo.asterisk}`]:t.asterisk},t.root,n.formControl&&t.formControl,"small"===n.size&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,n.focused&&t.focused,t[n.variant]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,Yt.A)({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},n.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},"small"===n.size&&{transform:"translate(0, 17px) scale(1)"},n.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!n.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},"filled"===n.variant&&(0,Yt.A)({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(12px, 13px) scale(1)"},n.shrink&&(0,Yt.A)({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},"small"===n.size&&{transform:"translate(12px, 4px) scale(0.75)"})),"outlined"===n.variant&&(0,Yt.A)({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(14px, 9px) scale(1)"},n.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))})),Co=W.forwardRef((function(e,t){const n=(0,nn.b)({name:"MuiInputLabel",props:e}),{disableAnimation:r=!1,shrink:o,className:a}=n,i=(0,Xt.A)(n,So),s=xr();let l=o;"undefined"===typeof l&&s&&(l=s.filled||s.focused||s.adornedStart);const u=vr({props:n,muiFormControl:s,states:["size","variant","required","focused"]}),c=(0,Yt.A)({},n,{disableAnimation:r,formControl:s,shrink:l,size:u.size,variant:u.variant,required:u.required,focused:u.focused}),d=(e=>{const{classes:t,formControl:n,size:r,shrink:o,disableAnimation:a,variant:i,required:s}=e,l={root:["root",n&&"formControl",!a&&"animated",o&&"shrink",r&&"normal"!==r&&`size${(0,qn.A)(r)}`,i],asterisk:[s&&"asterisk"]},u=(0,Zt.A)(l,ko,t);return(0,Yt.A)({},t,u)})(c);return(0,sn.jsx)(Ao,(0,Yt.A)({"data-shrink":l,ownerState:c,ref:t,className:(0,Qt.A)(d.root,a)},i,{classes:d}))}));var To=n(7328);function Io(e){return(0,on.Ay)("MuiFormControl",e)}(0,rn.A)("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const Eo=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],No=(0,en.Ay)("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return(0,Yt.A)({},t.root,t[`margin${(0,qn.A)(n.margin)}`],n.fullWidth&&t.fullWidth)}})((e=>{let{ownerState:t}=e;return(0,Yt.A)({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},"normal"===t.margin&&{marginTop:16,marginBottom:8},"dense"===t.margin&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})})),Oo=W.forwardRef((function(e,t){const n=(0,nn.b)({props:e,name:"MuiFormControl"}),{children:r,className:o,color:a="primary",component:i="div",disabled:s=!1,error:l=!1,focused:u,fullWidth:c=!1,hiddenLabel:d=!1,margin:p="none",required:h=!1,size:f="medium",variant:m="outlined"}=n,g=(0,Xt.A)(n,Eo),y=(0,Yt.A)({},n,{color:a,component:i,disabled:s,error:l,fullWidth:c,hiddenLabel:d,margin:p,required:h,size:f,variant:m}),v=(e=>{const{classes:t,margin:n,fullWidth:r}=e,o={root:["root","none"!==n&&`margin${(0,qn.A)(n)}`,r&&"fullWidth"]};return(0,Zt.A)(o,Io,t)})(y),[b,x]=W.useState((()=>{let e=!1;return r&&W.Children.forEach(r,(t=>{if(!(0,To.A)(t,["Input","Select"]))return;const n=(0,To.A)(t,["Select"])?t.props.input:t;n&&n.props.startAdornment&&(e=!0)})),e})),[w,k]=W.useState((()=>{let e=!1;return r&&W.Children.forEach(r,(t=>{(0,To.A)(t,["Input","Select"])&&(Rr(t.props,!0)||Rr(t.props.inputProps,!0))&&(e=!0)})),e})),[S,A]=W.useState(!1);s&&S&&A(!1);const C=void 0===u||s?S:u;let T;const I=W.useMemo((()=>({adornedStart:b,setAdornedStart:x,color:a,disabled:s,error:l,filled:w,focused:C,fullWidth:c,hiddenLabel:d,size:f,onBlur:()=>{A(!1)},onEmpty:()=>{k(!1)},onFilled:()=>{k(!0)},onFocus:()=>{A(!0)},registerEffect:T,required:h,variant:m})),[b,a,s,l,w,C,c,d,T,h,f,m]);return(0,sn.jsx)(br.Provider,{value:I,children:(0,sn.jsx)(No,(0,Yt.A)({as:i,ownerState:y,className:(0,Qt.A)(v.root,o),ref:t},g,{children:r}))})}));function Mo(e){return(0,on.Ay)("MuiFormHelperText",e)}const Do=(0,rn.A)("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var Ro;const Po=["children","className","component","disabled","error","filled","focused","margin","required","variant"],$o=(0,en.Ay)("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.size&&t[`size${(0,qn.A)(n.size)}`],n.contained&&t.contained,n.filled&&t.filled]}})((e=>{let{theme:t,ownerState:n}=e;return(0,Yt.A)({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${Do.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${Do.error}`]:{color:(t.vars||t).palette.error.main}},"small"===n.size&&{marginTop:4},n.contained&&{marginLeft:14,marginRight:14})})),jo=W.forwardRef((function(e,t){const n=(0,nn.b)({props:e,name:"MuiFormHelperText"}),{children:r,className:o,component:a="p"}=n,i=(0,Xt.A)(n,Po),s=vr({props:n,muiFormControl:xr(),states:["variant","size","disabled","error","filled","focused","required"]}),l=(0,Yt.A)({},n,{component:a,contained:"filled"===s.variant||"outlined"===s.variant,variant:s.variant,size:s.size,disabled:s.disabled,error:s.error,filled:s.filled,focused:s.focused,required:s.required}),u=(e=>{const{classes:t,contained:n,size:r,disabled:o,error:a,filled:i,focused:s,required:l}=e,u={root:["root",o&&"disabled",a&&"error",r&&`size${(0,qn.A)(r)}`,n&&"contained",s&&"focused",i&&"filled",l&&"required"]};return(0,Zt.A)(u,Mo,t)})(l);return(0,sn.jsx)($o,(0,Yt.A)({as:a,ownerState:l,className:(0,Qt.A)(u.root,o),ref:t},i,{children:" "===r?Ro||(Ro=(0,sn.jsx)("span",{className:"notranslate",children:"\u200b"})):r}))}));function _o(e){var t;return parseInt(W.version,10)>=19?(null==e||null==(t=e.props)?void 0:t.ref)||null:(null==e?void 0:e.ref)||null}var Fo=n(2427);const Lo=W.createContext();const zo=()=>{const e=W.useContext(Lo);return null!=e&&e};const Bo=function(e,t,n){return void 0===e||sr(e)?t:(0,Yt.A)({},t,{ownerState:(0,Yt.A)({},t.ownerState,n)})};const Wo=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===e)return{};const n={};return Object.keys(e).filter((n=>n.match(/^on[A-Z]/)&&"function"===typeof e[n]&&!t.includes(n))).forEach((t=>{n[t]=e[t]})),n};const Vo=function(e){if(void 0===e)return{};const t={};return Object.keys(e).filter((t=>!(t.match(/^on[A-Z]/)&&"function"===typeof e[t]))).forEach((n=>{t[n]=e[n]})),t};const Uo=function(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:o,className:a}=e;if(!t){const e=(0,Qt.A)(null==n?void 0:n.className,a,null==o?void 0:o.className,null==r?void 0:r.className),t=(0,Yt.A)({},null==n?void 0:n.style,null==o?void 0:o.style,null==r?void 0:r.style),i=(0,Yt.A)({},n,o,r);return e.length>0&&(i.className=e),Object.keys(t).length>0&&(i.style=t),{props:i,internalRef:void 0}}const i=Wo((0,Yt.A)({},o,r)),s=Vo(r),l=Vo(o),u=t(i),c=(0,Qt.A)(null==u?void 0:u.className,null==n?void 0:n.className,a,null==o?void 0:o.className,null==r?void 0:r.className),d=(0,Yt.A)({},null==u?void 0:u.style,null==n?void 0:n.style,null==o?void 0:o.style,null==r?void 0:r.style),p=(0,Yt.A)({},u,n,l,s);return c.length>0&&(p.className=c),Object.keys(d).length>0&&(p.style=d),{props:p,internalRef:u.ref}};const Ho=function(e,t,n){return"function"===typeof e?e(t,n):e},Go=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];const qo=function(e){var t;const{elementType:n,externalSlotProps:r,ownerState:o,skipResolvingSlotProps:a=!1}=e,i=(0,Xt.A)(e,Go),s=a?{}:Ho(r,o),{props:l,internalRef:u}=Uo((0,Yt.A)({},i,{externalSlotProps:s})),c=(0,lr.A)(u,null==s?void 0:s.ref,null==(t=e.additionalProps)?void 0:t.ref);return Bo(n,(0,Yt.A)({},l,{ref:c}),o)};const Ko=W.createContext({});function Xo(e){return(0,on.Ay)("MuiList",e)}(0,rn.A)("MuiList",["root","padding","dense","subheader"]);const Yo=["children","className","component","dense","disablePadding","subheader"],Qo=(0,en.Ay)("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})((e=>{let{ownerState:t}=e;return(0,Yt.A)({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})})),Zo=W.forwardRef((function(e,t){const n=(0,nn.b)({props:e,name:"MuiList"}),{children:r,className:o,component:a="ul",dense:i=!1,disablePadding:s=!1,subheader:l}=n,u=(0,Xt.A)(n,Yo),c=W.useMemo((()=>({dense:i})),[i]),d=(0,Yt.A)({},n,{component:a,dense:i,disablePadding:s}),p=(e=>{const{classes:t,disablePadding:n,dense:r,subheader:o}=e,a={root:["root",!n&&"padding",r&&"dense",o&&"subheader"]};return(0,Zt.A)(a,Xo,t)})(d);return(0,sn.jsx)(Ko.Provider,{value:c,children:(0,sn.jsxs)(Qo,(0,Yt.A)({as:a,className:(0,Qt.A)(p.root,o),ref:t,ownerState:d},u,{children:[l,r]}))})}));function Jo(e){const t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}const ea=Jo,ta=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function na(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function ra(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function oa(e,t){if(void 0===t)return!0;let n=e.innerText;return void 0===n&&(n=e.textContent),n=n.trim().toLowerCase(),0!==n.length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join("")))}function aa(e,t,n,r,o,a){let i=!1,s=o(e,t,!!t&&n);for(;s;){if(s===e.firstChild){if(i)return!1;i=!0}const t=!r&&(s.disabled||"true"===s.getAttribute("aria-disabled"));if(s.hasAttribute("tabindex")&&oa(s,a)&&!t)return s.focus(),!0;s=o(e,s,n)}return!1}const ia=W.forwardRef((function(e,t){const{actions:n,autoFocus:r=!1,autoFocusItem:o=!1,children:a,className:i,disabledItemsFocusable:s=!1,disableListWrap:l=!1,onKeyDown:u,variant:c="selectedMenu"}=e,d=(0,Xt.A)(e,ta),p=W.useRef(null),h=W.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});(0,wr.A)((()=>{r&&p.current.focus()}),[r]),W.useImperativeHandle(n,(()=>({adjustStyleForScrollbar:(e,t)=>{let{direction:n}=t;const r=!p.current.style.width;if(e.clientHeight<p.current.clientHeight&&r){const t=`${ea((0,Fo.A)(e))}px`;p.current.style["rtl"===n?"paddingLeft":"paddingRight"]=t,p.current.style.width=`calc(100% + ${t})`}return p.current}})),[]);const f=(0,hn.A)(p,t);let m=-1;W.Children.forEach(a,((e,t)=>{W.isValidElement(e)?(e.props.disabled||("selectedMenu"===c&&e.props.selected||-1===m)&&(m=t),m===t&&(e.props.disabled||e.props.muiSkipListHighlight||e.type.muiSkipListHighlight)&&(m+=1,m>=a.length&&(m=-1))):m===t&&(m+=1,m>=a.length&&(m=-1))}));const g=W.Children.map(a,((e,t)=>{if(t===m){const t={};return o&&(t.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===c&&(t.tabIndex=0),W.cloneElement(e,t)}return e}));return(0,sn.jsx)(Zo,(0,Yt.A)({role:"menu",ref:f,className:i,onKeyDown:e=>{const t=p.current,n=e.key,r=(0,Fo.A)(t).activeElement;if("ArrowDown"===n)e.preventDefault(),aa(t,r,l,s,na);else if("ArrowUp"===n)e.preventDefault(),aa(t,r,l,s,ra);else if("Home"===n)e.preventDefault(),aa(t,null,l,s,na);else if("End"===n)e.preventDefault(),aa(t,null,l,s,ra);else if(1===n.length){const o=h.current,a=n.toLowerCase(),i=performance.now();o.keys.length>0&&(i-o.lastTime>500?(o.keys=[],o.repeating=!0,o.previousKeyMatched=!0):o.repeating&&a!==o.keys[0]&&(o.repeating=!1)),o.lastTime=i,o.keys.push(a);const l=r&&!o.repeating&&oa(r,o);o.previousKeyMatched&&(l||aa(t,r,!1,s,na,o))?e.preventDefault():o.previousKeyMatched=!1}u&&u(e)},tabIndex:r?0:-1},d,{children:g}))}));var sa=n(950),la=n(6078),ua=n(7950);const ca=!1;var da=function(e){return e.scrollTop},pa="unmounted",ha="exited",fa="entering",ma="entered",ga="exiting",ya=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var o,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(o=ha,r.appearStatus=fa):o=ma:o=t.unmountOnExit||t.mountOnEnter?pa:ha,r.state={status:o},r.nextCallback=null,r}vn(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===pa?{status:ha}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==fa&&n!==ma&&(t=fa):n!==fa&&n!==ma||(t=ga)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===fa){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:ua.findDOMNode(this);n&&da(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ha&&this.setState({status:pa})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,o=this.props.nodeRef?[r]:[ua.findDOMNode(this),r],a=o[0],i=o[1],s=this.getTimeouts(),l=r?s.appear:s.enter;!e&&!n||ca?this.safeSetState({status:ma},(function(){t.props.onEntered(a)})):(this.props.onEnter(a,i),this.safeSetState({status:fa},(function(){t.props.onEntering(a,i),t.onTransitionEnd(l,(function(){t.safeSetState({status:ma},(function(){t.props.onEntered(a,i)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:ua.findDOMNode(this);t&&!ca?(this.props.onExit(r),this.safeSetState({status:ga},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:ha},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:ha},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:ua.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var o=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=o[0],i=o[1];this.props.addEndListener(a,i)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===pa)return null;var t=this.props,n=t.children,r=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,Xt.A)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return W.createElement(bn.Provider,{value:null},"function"===typeof n?n(e,r):W.cloneElement(W.Children.only(n),r))},t}(W.Component);function va(){}ya.contextType=bn,ya.propTypes={},ya.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:va,onEntering:va,onEntered:va,onExit:va,onExiting:va,onExited:va},ya.UNMOUNTED=pa,ya.EXITED=ha,ya.ENTERING=fa,ya.ENTERED=ma,ya.EXITING=ga;const ba=ya;function xa(){const e=Ir(Nr.A);return e[Or.A]||e}const wa=e=>e.scrollTop;function ka(e,t){var n,r;const{timeout:o,easing:a,style:i={}}=e;return{duration:null!=(n=i.transitionDuration)?n:"number"===typeof o?o:o[t.mode]||0,easing:null!=(r=i.transitionTimingFunction)?r:"object"===typeof a?a[t.mode]:a,delay:i.transitionDelay}}const Sa=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function Aa(e){return`scale(${e}, ${e**2})`}const Ca={entering:{opacity:1,transform:Aa(1)},entered:{opacity:1,transform:"none"}},Ta="undefined"!==typeof navigator&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Ia=W.forwardRef((function(e,t){const{addEndListener:n,appear:r=!0,children:o,easing:a,in:i,onEnter:s,onEntered:l,onEntering:u,onExit:c,onExited:d,onExiting:p,style:h,timeout:f="auto",TransitionComponent:m=ba}=e,g=(0,Xt.A)(e,Sa),y=(0,In.A)(),v=W.useRef(),b=xa(),x=W.useRef(null),w=(0,hn.A)(x,_o(o),t),k=e=>t=>{if(e){const n=x.current;void 0===t?e(n):e(n,t)}},S=k(u),A=k(((e,t)=>{wa(e);const{duration:n,delay:r,easing:o}=ka({style:h,timeout:f,easing:a},{mode:"enter"});let i;"auto"===f?(i=b.transitions.getAutoHeightDuration(e.clientHeight),v.current=i):i=n,e.style.transition=[b.transitions.create("opacity",{duration:i,delay:r}),b.transitions.create("transform",{duration:Ta?i:.666*i,delay:r,easing:o})].join(","),s&&s(e,t)})),C=k(l),T=k(p),I=k((e=>{const{duration:t,delay:n,easing:r}=ka({style:h,timeout:f,easing:a},{mode:"exit"});let o;"auto"===f?(o=b.transitions.getAutoHeightDuration(e.clientHeight),v.current=o):o=t,e.style.transition=[b.transitions.create("opacity",{duration:o,delay:n}),b.transitions.create("transform",{duration:Ta?o:.666*o,delay:Ta?n:n||.333*o,easing:r})].join(","),e.style.opacity=0,e.style.transform=Aa(.75),c&&c(e)})),E=k(d);return(0,sn.jsx)(m,(0,Yt.A)({appear:r,in:i,nodeRef:x,onEnter:A,onEntered:C,onEntering:S,onExit:I,onExited:E,onExiting:T,addEndListener:e=>{"auto"===f&&y.start(v.current||0,e),n&&n(x.current,e)},timeout:"auto"===f?null:f},g,{children:(e,t)=>W.cloneElement(o,(0,Yt.A)({style:(0,Yt.A)({opacity:0,transform:Aa(.75),visibility:"exited"!==e||i?void 0:"hidden"},Ca[e],h,o.props.style),ref:w},t))}))}));Ia.muiSupportAuto=!0;const Ea=Ia;var Na=n(1668);const Oa=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function Ma(e){const t=[],n=[];return Array.from(e.querySelectorAll(Oa)).forEach(((e,r)=>{const o=function(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1!==o&&function(e){return!(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type)return!1;if(!e.name)return!1;const t=t=>e.ownerDocument.querySelector(`input[type="radio"]${t}`);let n=t(`[name="${e.name}"]:checked`);return n||(n=t(`[name="${e.name}"]`)),n!==e}(e))}(e)&&(0===o?t.push(e):n.push({documentOrder:r,tabIndex:o,node:e}))})),n.sort(((e,t)=>e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex)).map((e=>e.node)).concat(t)}function Da(){return!0}const Ra=function(e){const{children:t,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:o=!1,getTabbable:a=Ma,isEnabled:i=Da,open:s}=e,l=W.useRef(!1),u=W.useRef(null),c=W.useRef(null),d=W.useRef(null),p=W.useRef(null),h=W.useRef(!1),f=W.useRef(null),m=(0,lr.A)(_o(t),f),g=W.useRef(null);W.useEffect((()=>{s&&f.current&&(h.current=!n)}),[n,s]),W.useEffect((()=>{if(!s||!f.current)return;const e=(0,Na.A)(f.current);return f.current.contains(e.activeElement)||(f.current.hasAttribute("tabIndex")||f.current.setAttribute("tabIndex","-1"),h.current&&f.current.focus()),()=>{o||(d.current&&d.current.focus&&(l.current=!0,d.current.focus()),d.current=null)}}),[s]),W.useEffect((()=>{if(!s||!f.current)return;const e=(0,Na.A)(f.current),t=t=>{g.current=t,!r&&i()&&"Tab"===t.key&&e.activeElement===f.current&&t.shiftKey&&(l.current=!0,c.current&&c.current.focus())},n=()=>{const t=f.current;if(null===t)return;if(!e.hasFocus()||!i()||l.current)return void(l.current=!1);if(t.contains(e.activeElement))return;if(r&&e.activeElement!==u.current&&e.activeElement!==c.current)return;if(e.activeElement!==p.current)p.current=null;else if(null!==p.current)return;if(!h.current)return;let n=[];if(e.activeElement!==u.current&&e.activeElement!==c.current||(n=a(f.current)),n.length>0){var o,s;const e=Boolean((null==(o=g.current)?void 0:o.shiftKey)&&"Tab"===(null==(s=g.current)?void 0:s.key)),t=n[0],r=n[n.length-1];"string"!==typeof t&&"string"!==typeof r&&(e?r.focus():t.focus())}else t.focus()};e.addEventListener("focusin",n),e.addEventListener("keydown",t,!0);const o=setInterval((()=>{e.activeElement&&"BODY"===e.activeElement.tagName&&n()}),50);return()=>{clearInterval(o),e.removeEventListener("focusin",n),e.removeEventListener("keydown",t,!0)}}),[n,r,o,i,s,a]);const y=e=>{null===d.current&&(d.current=e.relatedTarget),h.current=!0};return(0,sn.jsxs)(W.Fragment,{children:[(0,sn.jsx)("div",{tabIndex:s?0:-1,onFocus:y,ref:u,"data-testid":"sentinelStart"}),W.cloneElement(t,{ref:m,onFocus:e=>{null===d.current&&(d.current=e.relatedTarget),h.current=!0,p.current=e.target;const n=t.props.onFocus;n&&n(e)}}),(0,sn.jsx)("div",{tabIndex:s?0:-1,onFocus:y,ref:c,"data-testid":"sentinelEnd"})]})};var Pa=n(6564);const $a=W.forwardRef((function(e,t){const{children:n,container:r,disablePortal:o=!1}=e,[a,i]=W.useState(null),s=(0,lr.A)(W.isValidElement(n)?_o(n):null,t);if((0,dr.A)((()=>{o||i(function(e){return"function"===typeof e?e():e}(r)||document.body)}),[r,o]),(0,dr.A)((()=>{if(a&&!o)return(0,Pa.A)(t,a),()=>{(0,Pa.A)(t,null)}}),[t,a,o]),o){if(W.isValidElement(n)){const e={ref:s};return W.cloneElement(n,e)}return(0,sn.jsx)(W.Fragment,{children:n})}return(0,sn.jsx)(W.Fragment,{children:a?ua.createPortal(n,a):a})})),ja=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],_a={entering:{opacity:1},entered:{opacity:1}},Fa=W.forwardRef((function(e,t){const n=xa(),r={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:o,appear:a=!0,children:i,easing:s,in:l,onEnter:u,onEntered:c,onEntering:d,onExit:p,onExited:h,onExiting:f,style:m,timeout:g=r,TransitionComponent:y=ba}=e,v=(0,Xt.A)(e,ja),b=W.useRef(null),x=(0,hn.A)(b,_o(i),t),w=e=>t=>{if(e){const n=b.current;void 0===t?e(n):e(n,t)}},k=w(d),S=w(((e,t)=>{wa(e);const r=ka({style:m,timeout:g,easing:s},{mode:"enter"});e.style.webkitTransition=n.transitions.create("opacity",r),e.style.transition=n.transitions.create("opacity",r),u&&u(e,t)})),A=w(c),C=w(f),T=w((e=>{const t=ka({style:m,timeout:g,easing:s},{mode:"exit"});e.style.webkitTransition=n.transitions.create("opacity",t),e.style.transition=n.transitions.create("opacity",t),p&&p(e)})),I=w(h);return(0,sn.jsx)(y,(0,Yt.A)({appear:a,in:l,nodeRef:b,onEnter:S,onEntered:A,onEntering:k,onExit:T,onExited:I,onExiting:C,addEndListener:e=>{o&&o(b.current,e)},timeout:g},v,{children:(e,t)=>W.cloneElement(i,(0,Yt.A)({style:(0,Yt.A)({opacity:0,visibility:"exited"!==e||l?void 0:"hidden"},_a[e],m,i.props.style),ref:x},t))}))}));function La(e){return(0,on.Ay)("MuiBackdrop",e)}(0,rn.A)("MuiBackdrop",["root","invisible"]);const za=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],Ba=(0,en.Ay)("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})((e=>{let{ownerState:t}=e;return(0,Yt.A)({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})})),Wa=W.forwardRef((function(e,t){var n,r,o;const a=(0,nn.b)({props:e,name:"MuiBackdrop"}),{children:i,className:s,component:l="div",components:u={},componentsProps:c={},invisible:d=!1,open:p,slotProps:h={},slots:f={},TransitionComponent:m=Fa,transitionDuration:g}=a,y=(0,Xt.A)(a,za),v=(0,Yt.A)({},a,{component:l,invisible:d}),b=(e=>{const{classes:t,invisible:n}=e,r={root:["root",n&&"invisible"]};return(0,Zt.A)(r,La,t)})(v),x=null!=(n=h.root)?n:c.root;return(0,sn.jsx)(m,(0,Yt.A)({in:p,timeout:g},y,{children:(0,sn.jsx)(Ba,(0,Yt.A)({"aria-hidden":!0},x,{as:null!=(r=null!=(o=f.root)?o:u.Root)?r:l,className:(0,Qt.A)(b.root,s,null==x?void 0:x.className),ownerState:(0,Yt.A)({},v,null==x?void 0:x.ownerState),classes:b,ref:t,children:i}))}))}));var Va=n(2456);function Ua(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function Ha(e){return parseInt((0,ur.A)(e).getComputedStyle(e).paddingRight,10)||0}function Ga(e,t,n,r,o){const a=[t,n,...r];[].forEach.call(e.children,(e=>{const t=-1===a.indexOf(e),n=!function(e){const t=-1!==["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName),n="INPUT"===e.tagName&&"hidden"===e.getAttribute("type");return t||n}(e);t&&n&&Ua(e,o)}))}function qa(e,t){let n=-1;return e.some(((e,r)=>!!t(e)&&(n=r,!0))),n}function Ka(e,t){const n=[],r=e.container;if(!t.disableScrollLock){if(function(e){const t=(0,Na.A)(e);return t.body===e?(0,ur.A)(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(r)){const e=Jo((0,Na.A)(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${Ha(r)+e}px`;const t=(0,Na.A)(r).querySelectorAll(".mui-fixed");[].forEach.call(t,(t=>{n.push({value:t.style.paddingRight,property:"padding-right",el:t}),t.style.paddingRight=`${Ha(t)+e}px`}))}let e;if(r.parentNode instanceof DocumentFragment)e=(0,Na.A)(r).body;else{const t=r.parentElement,n=(0,ur.A)(r);e="HTML"===(null==t?void 0:t.nodeName)&&"scroll"===n.getComputedStyle(t).overflowY?t:r}n.push({value:e.style.overflow,property:"overflow",el:e},{value:e.style.overflowX,property:"overflow-x",el:e},{value:e.style.overflowY,property:"overflow-y",el:e}),e.style.overflow="hidden"}return()=>{n.forEach((e=>{let{value:t,el:n,property:r}=e;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}const Xa=new class{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,t){let n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&Ua(e.modalRef,!1);const r=function(e){const t=[];return[].forEach.call(e.children,(e=>{"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);Ga(t,e.mount,e.modalRef,r,!0);const o=qa(this.containers,(e=>e.container===t));return-1!==o?(this.containers[o].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:r}),n)}mount(e,t){const n=qa(this.containers,(t=>-1!==t.modals.indexOf(e))),r=this.containers[n];r.restore||(r.restore=Ka(r,t))}remove(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this.modals.indexOf(e);if(-1===n)return n;const r=qa(this.containers,(t=>-1!==t.modals.indexOf(e))),o=this.containers[r];if(o.modals.splice(o.modals.indexOf(e),1),this.modals.splice(n,1),0===o.modals.length)o.restore&&o.restore(),e.modalRef&&Ua(e.modalRef,t),Ga(o.container,e.mount,e.modalRef,o.hiddenSiblings,!1),this.containers.splice(r,1);else{const e=o.modals[o.modals.length-1];e.modalRef&&Ua(e.modalRef,!1)}return n}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}};const Ya=function(e){const{container:t,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,manager:o=Xa,closeAfterTransition:a=!1,onTransitionEnter:i,onTransitionExited:s,children:l,onClose:u,open:c,rootRef:d}=e,p=W.useRef({}),h=W.useRef(null),f=W.useRef(null),m=(0,lr.A)(f,d),[g,y]=W.useState(!c),v=function(e){return!!e&&e.props.hasOwnProperty("in")}(l);let b=!0;"false"!==e["aria-hidden"]&&!1!==e["aria-hidden"]||(b=!1);const x=()=>(p.current.modalRef=f.current,p.current.mount=h.current,p.current),w=()=>{o.mount(x(),{disableScrollLock:r}),f.current&&(f.current.scrollTop=0)},k=(0,cr.A)((()=>{const e=function(e){return"function"===typeof e?e():e}(t)||(0,Na.A)(h.current).body;o.add(x(),e),f.current&&w()})),S=W.useCallback((()=>o.isTopModal(x())),[o]),A=(0,cr.A)((e=>{h.current=e,e&&(c&&S()?w():f.current&&Ua(f.current,b))})),C=W.useCallback((()=>{o.remove(x(),b)}),[b,o]);W.useEffect((()=>()=>{C()}),[C]),W.useEffect((()=>{c?k():v&&a||C()}),[c,C,v,a,k]);const T=e=>t=>{var r;null==(r=e.onKeyDown)||r.call(e,t),"Escape"===t.key&&229!==t.which&&S()&&(n||(t.stopPropagation(),u&&u(t,"escapeKeyDown")))},I=e=>t=>{var n;null==(n=e.onClick)||n.call(e,t),t.target===t.currentTarget&&u&&u(t,"backdropClick")};return{getRootProps:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=Wo(e);delete n.onTransitionEnter,delete n.onTransitionExited;const r=(0,Yt.A)({},n,t);return(0,Yt.A)({role:"presentation"},r,{onKeyDown:T(r),ref:m})},getBackdropProps:function(){const e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,Yt.A)({"aria-hidden":!0},e,{onClick:I(e),open:c})},getTransitionProps:()=>({onEnter:(0,Va.A)((()=>{y(!1),i&&i()}),null==l?void 0:l.props.onEnter),onExited:(0,Va.A)((()=>{y(!0),s&&s(),a&&C()}),null==l?void 0:l.props.onExited)}),rootRef:m,portalRef:A,isTopModal:S,exited:g,hasTransition:v}};function Qa(e){return(0,on.Ay)("MuiModal",e)}(0,rn.A)("MuiModal",["root","hidden","backdrop"]);const Za=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],Ja=(0,en.Ay)("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})((e=>{let{theme:t,ownerState:n}=e;return(0,Yt.A)({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!n.open&&n.exited&&{visibility:"hidden"})})),ei=(0,en.Ay)(Wa,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),ti=W.forwardRef((function(e,t){var n,r,o,a,i,s;const l=(0,nn.b)({name:"MuiModal",props:e}),{BackdropComponent:u=ei,BackdropProps:c,className:d,closeAfterTransition:p=!1,children:h,container:f,component:m,components:g={},componentsProps:y={},disableAutoFocus:v=!1,disableEnforceFocus:b=!1,disableEscapeKeyDown:x=!1,disablePortal:w=!1,disableRestoreFocus:k=!1,disableScrollLock:S=!1,hideBackdrop:A=!1,keepMounted:C=!1,onBackdropClick:T,open:I,slotProps:E,slots:N}=l,O=(0,Xt.A)(l,Za),M=(0,Yt.A)({},l,{closeAfterTransition:p,disableAutoFocus:v,disableEnforceFocus:b,disableEscapeKeyDown:x,disablePortal:w,disableRestoreFocus:k,disableScrollLock:S,hideBackdrop:A,keepMounted:C}),{getRootProps:D,getBackdropProps:R,getTransitionProps:P,portalRef:$,isTopModal:j,exited:_,hasTransition:F}=Ya((0,Yt.A)({},M,{rootRef:t})),L=(0,Yt.A)({},M,{exited:_}),z=(e=>{const{open:t,exited:n,classes:r}=e,o={root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]};return(0,Zt.A)(o,Qa,r)})(L),B={};if(void 0===h.props.tabIndex&&(B.tabIndex="-1"),F){const{onEnter:e,onExited:t}=P();B.onEnter=e,B.onExited=t}const V=null!=(n=null!=(r=null==N?void 0:N.root)?r:g.Root)?n:Ja,U=null!=(o=null!=(a=null==N?void 0:N.backdrop)?a:g.Backdrop)?o:u,H=null!=(i=null==E?void 0:E.root)?i:y.root,G=null!=(s=null==E?void 0:E.backdrop)?s:y.backdrop,q=qo({elementType:V,externalSlotProps:H,externalForwardedProps:O,getSlotProps:D,additionalProps:{ref:t,as:m},ownerState:L,className:(0,Qt.A)(d,null==H?void 0:H.className,null==z?void 0:z.root,!L.open&&L.exited&&(null==z?void 0:z.hidden))}),K=qo({elementType:U,externalSlotProps:G,additionalProps:c,getSlotProps:e=>R((0,Yt.A)({},e,{onClick:t=>{T&&T(t),null!=e&&e.onClick&&e.onClick(t)}})),className:(0,Qt.A)(null==G?void 0:G.className,null==c?void 0:c.className,null==z?void 0:z.backdrop),ownerState:L});return C||I||F&&!_?(0,sn.jsx)($a,{ref:$,container:f,disablePortal:w,children:(0,sn.jsxs)(V,(0,Yt.A)({},q,{children:[!A&&u?(0,sn.jsx)(U,(0,Yt.A)({},K)):null,(0,sn.jsx)(Ra,{disableEnforceFocus:b,disableAutoFocus:v,disableRestoreFocus:k,isEnabled:j,open:I,children:W.cloneElement(h,B)})]}))}):null}));function ni(e){return(0,on.Ay)("MuiPopover",e)}(0,rn.A)("MuiPopover",["root","paper"]);const ri=["onEntering"],oi=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],ai=["slotProps"];function ii(e,t){let n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function si(e,t){let n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function li(e){return[e.horizontal,e.vertical].map((e=>"number"===typeof e?`${e}px`:e)).join(" ")}function ui(e){return"function"===typeof e?e():e}const ci=(0,en.Ay)(ti,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),di=(0,en.Ay)(cn,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),pi=W.forwardRef((function(e,t){var n,r,o;const a=(0,nn.b)({props:e,name:"MuiPopover"}),{action:i,anchorEl:s,anchorOrigin:l={vertical:"top",horizontal:"left"},anchorPosition:u,anchorReference:c="anchorEl",children:d,className:p,container:h,elevation:f=8,marginThreshold:m=16,open:g,PaperProps:y={},slots:v,slotProps:b,transformOrigin:x={vertical:"top",horizontal:"left"},TransitionComponent:w=Ea,transitionDuration:k="auto",TransitionProps:{onEntering:S}={},disableScrollLock:A=!1}=a,C=(0,Xt.A)(a.TransitionProps,ri),T=(0,Xt.A)(a,oi),I=null!=(n=null==b?void 0:b.paper)?n:y,E=W.useRef(),N=(0,hn.A)(E,I.ref),O=(0,Yt.A)({},a,{anchorOrigin:l,anchorReference:c,elevation:f,marginThreshold:m,externalPaperSlotProps:I,transformOrigin:x,TransitionComponent:w,transitionDuration:k,TransitionProps:C}),M=(e=>{const{classes:t}=e;return(0,Zt.A)({root:["root"],paper:["paper"]},ni,t)})(O),D=W.useCallback((()=>{if("anchorPosition"===c)return u;const e=ui(s),t=(e&&1===e.nodeType?e:(0,Fo.A)(E.current).body).getBoundingClientRect();return{top:t.top+ii(t,l.vertical),left:t.left+si(t,l.horizontal)}}),[s,l.horizontal,l.vertical,u,c]),R=W.useCallback((e=>({vertical:ii(e,x.vertical),horizontal:si(e,x.horizontal)})),[x.horizontal,x.vertical]),P=W.useCallback((e=>{const t={width:e.offsetWidth,height:e.offsetHeight},n=R(t);if("none"===c)return{top:null,left:null,transformOrigin:li(n)};const r=D();let o=r.top-n.vertical,a=r.left-n.horizontal;const i=o+t.height,l=a+t.width,u=(0,la.A)(ui(s)),d=u.innerHeight-m,p=u.innerWidth-m;if(null!==m&&o<m){const e=o-m;o-=e,n.vertical+=e}else if(null!==m&&i>d){const e=i-d;o-=e,n.vertical+=e}if(null!==m&&a<m){const e=a-m;a-=e,n.horizontal+=e}else if(l>p){const e=l-p;a-=e,n.horizontal+=e}return{top:`${Math.round(o)}px`,left:`${Math.round(a)}px`,transformOrigin:li(n)}}),[s,c,D,R,m]),[$,j]=W.useState(g),_=W.useCallback((()=>{const e=E.current;if(!e)return;const t=P(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin,j(!0)}),[P]);W.useEffect((()=>(A&&window.addEventListener("scroll",_),()=>window.removeEventListener("scroll",_))),[s,A,_]);W.useEffect((()=>{g&&_()})),W.useImperativeHandle(i,(()=>g?{updatePosition:()=>{_()}}:null),[g,_]),W.useEffect((()=>{if(!g)return;const e=(0,sa.A)((()=>{_()})),t=(0,la.A)(s);return t.addEventListener("resize",e),()=>{e.clear(),t.removeEventListener("resize",e)}}),[s,g,_]);let F=k;"auto"!==k||w.muiSupportAuto||(F=void 0);const L=h||(s?(0,Fo.A)(ui(s)).body:void 0),z=null!=(r=null==v?void 0:v.root)?r:ci,B=null!=(o=null==v?void 0:v.paper)?o:di,V=qo({elementType:B,externalSlotProps:(0,Yt.A)({},I,{style:$?I.style:(0,Yt.A)({},I.style,{opacity:0})}),additionalProps:{elevation:f,ref:N},ownerState:O,className:(0,Qt.A)(M.paper,null==I?void 0:I.className)}),U=qo({elementType:z,externalSlotProps:(null==b?void 0:b.root)||{},externalForwardedProps:T,additionalProps:{ref:t,slotProps:{backdrop:{invisible:!0}},container:L,open:g},ownerState:O,className:(0,Qt.A)(M.root,p)}),{slotProps:H}=U,G=(0,Xt.A)(U,ai);return(0,sn.jsx)(z,(0,Yt.A)({},G,!sr(z)&&{slotProps:H,disableScrollLock:A},{children:(0,sn.jsx)(w,(0,Yt.A)({appear:!0,in:g,onEntering:(e,t)=>{S&&S(e,t),_()},onExited:()=>{j(!1)},timeout:F},C,{children:(0,sn.jsx)(B,(0,Yt.A)({},V,{children:d}))}))}))}));function hi(e){return(0,on.Ay)("MuiMenu",e)}(0,rn.A)("MuiMenu",["root","paper","list"]);const fi=["onEntering"],mi=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],gi={vertical:"top",horizontal:"right"},yi={vertical:"top",horizontal:"left"},vi=(0,en.Ay)(pi,{shouldForwardProp:e=>(0,pn.A)(e)||"classes"===e,name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),bi=(0,en.Ay)(di,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),xi=(0,en.Ay)(ia,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),wi=W.forwardRef((function(e,t){var n,r;const o=(0,nn.b)({props:e,name:"MuiMenu"}),{autoFocus:a=!0,children:i,className:s,disableAutoFocusItem:l=!1,MenuListProps:u={},onClose:c,open:d,PaperProps:p={},PopoverClasses:h,transitionDuration:f="auto",TransitionProps:{onEntering:m}={},variant:g="selectedMenu",slots:y={},slotProps:v={}}=o,b=(0,Xt.A)(o.TransitionProps,fi),x=(0,Xt.A)(o,mi),w=zo(),k=(0,Yt.A)({},o,{autoFocus:a,disableAutoFocusItem:l,MenuListProps:u,onEntering:m,PaperProps:p,transitionDuration:f,TransitionProps:b,variant:g}),S=(e=>{const{classes:t}=e;return(0,Zt.A)({root:["root"],paper:["paper"],list:["list"]},hi,t)})(k),A=a&&!l&&d,C=W.useRef(null);let T=-1;W.Children.map(i,((e,t)=>{W.isValidElement(e)&&(e.props.disabled||("selectedMenu"===g&&e.props.selected||-1===T)&&(T=t))}));const I=null!=(n=y.paper)?n:bi,E=null!=(r=v.paper)?r:p,N=qo({elementType:y.root,externalSlotProps:v.root,ownerState:k,className:[S.root,s]}),O=qo({elementType:I,externalSlotProps:E,ownerState:k,className:S.paper});return(0,sn.jsx)(vi,(0,Yt.A)({onClose:c,anchorOrigin:{vertical:"bottom",horizontal:w?"right":"left"},transformOrigin:w?gi:yi,slots:{paper:I,root:y.root},slotProps:{root:N,paper:O},open:d,ref:t,transitionDuration:f,TransitionProps:(0,Yt.A)({onEntering:(e,t)=>{C.current&&C.current.adjustStyleForScrollbar(e,{direction:w?"rtl":"ltr"}),m&&m(e,t)}},b),ownerState:k},x,{classes:h,children:(0,sn.jsx)(xi,(0,Yt.A)({onKeyDown:e=>{"Tab"===e.key&&(e.preventDefault(),c&&c(e,"tabKeyDown"))},actions:C,autoFocus:a&&(-1===T||l),autoFocusItem:A,variant:g},u,{className:(0,Qt.A)(S.list,u.className),children:i}))}))}));function ki(e){return(0,on.Ay)("MuiNativeSelect",e)}const Si=(0,rn.A)("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),Ai=["className","disabled","error","IconComponent","inputRef","variant"],Ci=e=>{let{ownerState:t,theme:n}=e;return(0,Yt.A)({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":(0,Yt.A)({},n.vars?{backgroundColor:`rgba(${n.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:"light"===n.palette.mode?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${Si.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(n.vars||n).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},"filled"===t.variant&&{"&&&":{paddingRight:32}},"outlined"===t.variant&&{borderRadius:(n.vars||n).shape.borderRadius,"&:focus":{borderRadius:(n.vars||n).shape.borderRadius},"&&&":{paddingRight:32}})},Ti=(0,en.Ay)("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:pn.A,overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.select,t[n.variant],n.error&&t.error,{[`&.${Si.multiple}`]:t.multiple}]}})(Ci),Ii=e=>{let{ownerState:t,theme:n}=e;return(0,Yt.A)({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(n.vars||n).palette.action.active,[`&.${Si.disabled}`]:{color:(n.vars||n).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},"filled"===t.variant&&{right:7},"outlined"===t.variant&&{right:7})},Ei=(0,en.Ay)("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${(0,qn.A)(n.variant)}`],n.open&&t.iconOpen]}})(Ii),Ni=W.forwardRef((function(e,t){const{className:n,disabled:r,error:o,IconComponent:a,inputRef:i,variant:s="standard"}=e,l=(0,Xt.A)(e,Ai),u=(0,Yt.A)({},e,{disabled:r,variant:s,error:o}),c=(e=>{const{classes:t,variant:n,disabled:r,multiple:o,open:a,error:i}=e,s={select:["select",n,r&&"disabled",o&&"multiple",i&&"error"],icon:["icon",`icon${(0,qn.A)(n)}`,a&&"iconOpen",r&&"disabled"]};return(0,Zt.A)(s,ki,t)})(u);return(0,sn.jsxs)(W.Fragment,{children:[(0,sn.jsx)(Ti,(0,Yt.A)({ownerState:u,className:(0,Qt.A)(c.select,n),disabled:r,ref:i||t},l)),e.multiple?null:(0,sn.jsx)(Ei,{as:a,ownerState:u,className:c.icon})]})}));var Oi=n(7123),Mi=n(4516);function Di(e){return(0,on.Ay)("MuiSelect",e)}const Ri=(0,rn.A)("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var Pi;const $i=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],ji=(0,en.Ay)("div",{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`&.${Ri.select}`]:t.select},{[`&.${Ri.select}`]:t[n.variant]},{[`&.${Ri.error}`]:t.error},{[`&.${Ri.multiple}`]:t.multiple}]}})(Ci,{[`&.${Ri.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),_i=(0,en.Ay)("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${(0,qn.A)(n.variant)}`],n.open&&t.iconOpen]}})(Ii),Fi=(0,en.Ay)("input",{shouldForwardProp:e=>(0,Oi.A)(e)&&"classes"!==e,name:"MuiSelect",slot:"NativeInput",overridesResolver:(e,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function Li(e,t){return"object"===typeof t&&null!==t?e===t:String(e)===String(t)}function zi(e){return null==e||"string"===typeof e&&!e.trim()}const Bi=W.forwardRef((function(e,t){var n;const{"aria-describedby":r,"aria-label":o,autoFocus:a,autoWidth:i,children:s,className:l,defaultOpen:u,defaultValue:c,disabled:d,displayEmpty:p,error:h=!1,IconComponent:f,inputRef:m,labelId:g,MenuProps:y={},multiple:v,name:b,onBlur:x,onChange:w,onClose:k,onFocus:S,onOpen:A,open:C,readOnly:T,renderValue:I,SelectDisplayProps:E={},tabIndex:N,value:O,variant:M="standard"}=e,D=(0,Xt.A)(e,$i),[R,P]=(0,Mi.A)({controlled:O,default:c,name:"Select"}),[$,j]=(0,Mi.A)({controlled:C,default:u,name:"Select"}),_=W.useRef(null),F=W.useRef(null),[L,z]=W.useState(null),{current:B}=W.useRef(null!=C),[V,U]=W.useState(),H=(0,hn.A)(t,m),G=W.useCallback((e=>{F.current=e,e&&z(e)}),[]),q=null==L?void 0:L.parentNode;W.useImperativeHandle(H,(()=>({focus:()=>{F.current.focus()},node:_.current,value:R})),[R]),W.useEffect((()=>{u&&$&&L&&!B&&(U(i?null:q.clientWidth),F.current.focus())}),[L,i]),W.useEffect((()=>{a&&F.current.focus()}),[a]),W.useEffect((()=>{if(!g)return;const e=(0,Fo.A)(F.current).getElementById(g);if(e){const t=()=>{getSelection().isCollapsed&&F.current.focus()};return e.addEventListener("click",t),()=>{e.removeEventListener("click",t)}}}),[g]);const K=(e,t)=>{e?A&&A(t):k&&k(t),B||(U(i?null:q.clientWidth),j(e))},X=W.Children.toArray(s),Y=e=>t=>{let n;if(t.currentTarget.hasAttribute("tabindex")){if(v){n=Array.isArray(R)?R.slice():[];const t=R.indexOf(e.props.value);-1===t?n.push(e.props.value):n.splice(t,1)}else n=e.props.value;if(e.props.onClick&&e.props.onClick(t),R!==n&&(P(n),w)){const r=t.nativeEvent||t,o=new r.constructor(r.type,r);Object.defineProperty(o,"target",{writable:!0,value:{value:n,name:b}}),w(o,e)}v||K(!1,t)}},Q=null!==L&&$;let Z,J;delete D["aria-invalid"];const ee=[];let te=!1,ne=!1;(Rr({value:R})||p)&&(I?Z=I(R):te=!0);const re=X.map((e=>{if(!W.isValidElement(e))return null;let t;if(v){if(!Array.isArray(R))throw new Error((0,ir.A)(2));t=R.some((t=>Li(t,e.props.value))),t&&te&&ee.push(e.props.children)}else t=Li(R,e.props.value),t&&te&&(J=e.props.children);return t&&(ne=!0),W.cloneElement(e,{"aria-selected":t?"true":"false",onClick:Y(e),onKeyUp:t=>{" "===t.key&&t.preventDefault(),e.props.onKeyUp&&e.props.onKeyUp(t)},role:"option",selected:t,value:void 0,"data-value":e.props.value})}));te&&(Z=v?0===ee.length?null:ee.reduce(((e,t,n)=>(e.push(t),n<ee.length-1&&e.push(", "),e)),[]):J);let oe,ae=V;!i&&B&&L&&(ae=q.clientWidth),oe="undefined"!==typeof N?N:d?null:0;const ie=E.id||(b?`mui-component-select-${b}`:void 0),se=(0,Yt.A)({},e,{variant:M,value:R,open:Q,error:h}),le=(e=>{const{classes:t,variant:n,disabled:r,multiple:o,open:a,error:i}=e,s={select:["select",n,r&&"disabled",o&&"multiple",i&&"error"],icon:["icon",`icon${(0,qn.A)(n)}`,a&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return(0,Zt.A)(s,Di,t)})(se),ue=(0,Yt.A)({},y.PaperProps,null==(n=y.slotProps)?void 0:n.paper),ce=(0,or.A)();return(0,sn.jsxs)(W.Fragment,{children:[(0,sn.jsx)(ji,(0,Yt.A)({ref:G,tabIndex:oe,role:"combobox","aria-controls":ce,"aria-disabled":d?"true":void 0,"aria-expanded":Q?"true":"false","aria-haspopup":"listbox","aria-label":o,"aria-labelledby":[g,ie].filter(Boolean).join(" ")||void 0,"aria-describedby":r,onKeyDown:e=>{if(!T){-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)&&(e.preventDefault(),K(!0,e))}},onMouseDown:d||T?null:e=>{0===e.button&&(e.preventDefault(),F.current.focus(),K(!0,e))},onBlur:e=>{!Q&&x&&(Object.defineProperty(e,"target",{writable:!0,value:{value:R,name:b}}),x(e))},onFocus:S},E,{ownerState:se,className:(0,Qt.A)(E.className,le.select,l),id:ie,children:zi(Z)?Pi||(Pi=(0,sn.jsx)("span",{className:"notranslate",children:"\u200b"})):Z})),(0,sn.jsx)(Fi,(0,Yt.A)({"aria-invalid":h,value:Array.isArray(R)?R.join(","):R,name:b,ref:_,"aria-hidden":!0,onChange:e=>{const t=X.find((t=>t.props.value===e.target.value));void 0!==t&&(P(t.props.value),w&&w(e,t))},tabIndex:-1,disabled:d,className:le.nativeInput,autoFocus:a,ownerState:se},D)),(0,sn.jsx)(_i,{as:f,className:le.icon,ownerState:se}),(0,sn.jsx)(wi,(0,Yt.A)({id:`menu-${b||""}`,anchorEl:q,open:Q,onClose:e=>{K(!1,e)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},y,{MenuListProps:(0,Yt.A)({"aria-labelledby":g,role:"listbox","aria-multiselectable":v?"true":void 0,disableListWrap:!0,id:ce},y.MenuListProps),slotProps:(0,Yt.A)({},y.slotProps,{paper:(0,Yt.A)({},ue,{style:(0,Yt.A)({minWidth:ae},null!=ue?ue.style:null)})}),children:re}))]})})),Wi=Bi;var Vi=n(9662);const Ui=(0,Vi.A)((0,sn.jsx)("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),Hi=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],Gi=["root"],qi={name:"MuiSelect",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>(0,pn.A)(e)&&"variant"!==e,slot:"Root"},Ki=(0,en.Ay)(Xr,qi)(""),Xi=(0,en.Ay)(mo,qi)(""),Yi=(0,en.Ay)(no,qi)(""),Qi=W.forwardRef((function(e,t){const n=(0,nn.b)({name:"MuiSelect",props:e}),{autoWidth:r=!1,children:o,classes:a={},className:i,defaultOpen:s=!1,displayEmpty:l=!1,IconComponent:u=Ui,id:c,input:d,inputProps:p,label:h,labelId:f,MenuProps:m,multiple:g=!1,native:y=!1,onClose:v,onOpen:b,open:x,renderValue:w,SelectDisplayProps:k,variant:S="outlined"}=n,A=(0,Xt.A)(n,Hi),C=y?Ni:Wi,T=vr({props:n,muiFormControl:xr(),states:["variant","error"]}),I=T.variant||S,E=(0,Yt.A)({},n,{variant:I,classes:a}),N=(e=>{const{classes:t}=e;return t})(E),O=(0,Xt.A)(N,Gi),M=d||{standard:(0,sn.jsx)(Ki,{ownerState:E}),outlined:(0,sn.jsx)(Xi,{label:h,ownerState:E}),filled:(0,sn.jsx)(Yi,{ownerState:E})}[I],D=(0,hn.A)(t,_o(M));return(0,sn.jsx)(W.Fragment,{children:W.cloneElement(M,(0,Yt.A)({inputComponent:C,inputProps:(0,Yt.A)({children:o,error:T.error,IconComponent:u,variant:I,type:void 0,multiple:g},y?{id:c}:{autoWidth:r,defaultOpen:s,displayEmpty:l,labelId:f,MenuProps:m,onClose:v,onOpen:b,open:x,renderValue:w,SelectDisplayProps:(0,Yt.A)({id:c},k)},p,{classes:p?(0,ar.A)(O,p.classes):O},d?d.props.inputProps:{})},(g&&y||l)&&"outlined"===I?{notched:!0}:{},{ref:D,className:(0,Qt.A)(M.props.className,i,N.root)},!d&&{variant:I},A))})}));Qi.muiName="Select";const Zi=Qi;function Ji(e){return(0,on.Ay)("MuiTextField",e)}(0,rn.A)("MuiTextField",["root"]);const es=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],ts={standard:Xr,filled:no,outlined:mo},ns=(0,en.Ay)(Oo,{name:"MuiTextField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),rs=W.forwardRef((function(e,t){const n=(0,nn.b)({props:e,name:"MuiTextField"}),{autoComplete:r,autoFocus:o=!1,children:a,className:i,color:s="primary",defaultValue:l,disabled:u=!1,error:c=!1,FormHelperTextProps:d,fullWidth:p=!1,helperText:h,id:f,InputLabelProps:m,inputProps:g,InputProps:y,inputRef:v,label:b,maxRows:x,minRows:w,multiline:k=!1,name:S,onBlur:A,onChange:C,onFocus:T,placeholder:I,required:E=!1,rows:N,select:O=!1,SelectProps:M,type:D,value:R,variant:P="outlined"}=n,$=(0,Xt.A)(n,es),j=(0,Yt.A)({},n,{autoFocus:o,color:s,disabled:u,error:c,fullWidth:p,multiline:k,required:E,select:O,variant:P}),_=(e=>{const{classes:t}=e;return(0,Zt.A)({root:["root"]},Ji,t)})(j);const F={};"outlined"===P&&(m&&"undefined"!==typeof m.shrink&&(F.notched=m.shrink),F.label=b),O&&(M&&M.native||(F.id=void 0),F["aria-describedby"]=void 0);const L=(0,or.A)(f),z=h&&L?`${L}-helper-text`:void 0,B=b&&L?`${L}-label`:void 0,W=ts[P],V=(0,sn.jsx)(W,(0,Yt.A)({"aria-describedby":z,autoComplete:r,autoFocus:o,defaultValue:l,fullWidth:p,multiline:k,name:S,rows:N,maxRows:x,minRows:w,type:D,value:R,id:L,inputRef:v,onBlur:A,onChange:C,onFocus:T,placeholder:I,inputProps:g},F,y));return(0,sn.jsxs)(ns,(0,Yt.A)({className:(0,Qt.A)(_.root,i),disabled:u,error:c,fullWidth:p,ref:t,required:E,color:s,variant:P,ownerState:j},$,{children:[null!=b&&""!==b&&(0,sn.jsx)(Co,(0,Yt.A)({htmlFor:L,id:B},m,{children:b})),O?(0,sn.jsx)(Zi,(0,Yt.A)({"aria-describedby":z,id:L,labelId:B,value:R,input:V},M,{children:a})):V,h&&(0,sn.jsx)(jo,(0,Yt.A)({id:z},d,{children:h}))]}))}));var os=n(3174),as=n(8812),is=n(8698);const ss=["className","component"];var ls=n(9386),us=n(7344);const cs=(0,rn.A)("MuiBox",["root"]),ds=(0,us.A)(),ps=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:o}=e,a=(0,os.default)("div",{shouldForwardProp:e=>"theme"!==e&&"sx"!==e&&"as"!==e})(as.A);return W.forwardRef((function(e,i){const s=Ir(n),l=(0,is.A)(e),{className:u,component:c="div"}=l,d=(0,Xt.A)(l,ss);return(0,sn.jsx)(a,(0,Yt.A)({as:c,ref:i,className:(0,Qt.A)(u,o?o(r):r),theme:t&&s[t]||s},d))}))}({themeId:Or.A,defaultTheme:ds,defaultClassName:cs.root,generateClassName:ls.A.generate});function hs(e){return(0,on.Ay)("MuiTypography",e)}(0,rn.A)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const fs=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],ms=(0,en.Ay)("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t[`align${(0,qn.A)(n.align)}`],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})((e=>{let{theme:t,ownerState:n}=e;return(0,Yt.A)({margin:0},"inherit"===n.variant&&{font:"inherit"},"inherit"!==n.variant&&t.typography[n.variant],"inherit"!==n.align&&{textAlign:n.align},n.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n.gutterBottom&&{marginBottom:"0.35em"},n.paragraph&&{marginBottom:16})})),gs={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},ys={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},vs=W.forwardRef((function(e,t){const n=(0,nn.b)({props:e,name:"MuiTypography"}),r=(e=>ys[e]||e)(n.color),o=(0,is.A)((0,Yt.A)({},n,{color:r})),{align:a="inherit",className:i,component:s,gutterBottom:l=!1,noWrap:u=!1,paragraph:c=!1,variant:d="body1",variantMapping:p=gs}=o,h=(0,Xt.A)(o,fs),f=(0,Yt.A)({},o,{align:a,color:r,className:i,component:s,gutterBottom:l,noWrap:u,paragraph:c,variant:d,variantMapping:p}),m=s||(c?"p":p[d]||gs[d])||"span",g=(e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:o,variant:a,classes:i}=e,s={root:["root",a,"inherit"!==e.align&&`align${(0,qn.A)(t)}`,n&&"gutterBottom",r&&"noWrap",o&&"paragraph"]};return(0,Zt.A)(s,hs,i)})(f);return(0,sn.jsx)(ms,(0,Yt.A)({as:m,ref:t,ownerState:f,className:(0,Qt.A)(g.root,i)},h))})),bs=["className","elementType","ownerState","externalForwardedProps","getSlotOwnerState","internalForwardedProps"],xs=["component","slots","slotProps"],ws=["component"];function ks(e,t){const{className:n,elementType:r,ownerState:o,externalForwardedProps:a,getSlotOwnerState:i,internalForwardedProps:s}=t,l=(0,Xt.A)(t,bs),{component:u,slots:c={[e]:void 0},slotProps:d={[e]:void 0}}=a,p=(0,Xt.A)(a,xs),h=c[e]||r,f=Ho(d[e],o),m=Uo((0,Yt.A)({className:n},l,{externalForwardedProps:"root"===e?p:void 0,externalSlotProps:f})),{props:{component:g},internalRef:y}=m,v=(0,Xt.A)(m.props,ws),b=(0,lr.A)(y,null==f?void 0:f.ref,t.ref),x=i?i(v):{},w=(0,Yt.A)({},o,x),k="root"===e?g||u:g,S=Bo(h,(0,Yt.A)({},"root"===e&&!u&&!c[e]&&s,"root"!==e&&!c[e]&&s,v,k&&{as:k},{ref:b}),w);return Object.keys(x).forEach((e=>{delete S[e]})),[h,S]}function Ss(e){return(0,on.Ay)("MuiAlert",e)}const As=(0,rn.A)("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);function Cs(e){return(0,on.Ay)("MuiIconButton",e)}const Ts=(0,rn.A)("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),Is=["edge","children","className","color","disabled","disableFocusRipple","size"],Es=(0,en.Ay)(Gn,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"default"!==n.color&&t[`color${(0,qn.A)(n.color)}`],n.edge&&t[`edge${(0,qn.A)(n.edge)}`],t[`size${(0,qn.A)(n.size)}`]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,Yt.A)({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!n.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,Jt.X4)(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===n.edge&&{marginLeft:"small"===n.size?-3:-12},"end"===n.edge&&{marginRight:"small"===n.size?-3:-12})}),(e=>{let{theme:t,ownerState:n}=e;var r;const o=null==(r=(t.vars||t).palette)?void 0:r[n.color];return(0,Yt.A)({},"inherit"===n.color&&{color:"inherit"},"inherit"!==n.color&&"default"!==n.color&&(0,Yt.A)({color:null==o?void 0:o.main},!n.disableRipple&&{"&:hover":(0,Yt.A)({},o&&{backgroundColor:t.vars?`rgba(${o.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,Jt.X4)(o.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),"small"===n.size&&{padding:5,fontSize:t.typography.pxToRem(18)},"large"===n.size&&{padding:12,fontSize:t.typography.pxToRem(28)},{[`&.${Ts.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})})),Ns=W.forwardRef((function(e,t){const n=(0,nn.b)({props:e,name:"MuiIconButton"}),{edge:r=!1,children:o,className:a,color:i="default",disabled:s=!1,disableFocusRipple:l=!1,size:u="medium"}=n,c=(0,Xt.A)(n,Is),d=(0,Yt.A)({},n,{edge:r,color:i,disabled:s,disableFocusRipple:l,size:u}),p=(e=>{const{classes:t,disabled:n,color:r,edge:o,size:a}=e,i={root:["root",n&&"disabled","default"!==r&&`color${(0,qn.A)(r)}`,o&&`edge${(0,qn.A)(o)}`,`size${(0,qn.A)(a)}`]};return(0,Zt.A)(i,Cs,t)})(d);return(0,sn.jsx)(Es,(0,Yt.A)({className:(0,Qt.A)(p.root,a),centerRipple:!0,focusRipple:!l,disabled:s,ref:t},c,{ownerState:d,children:o}))})),Os=(0,Vi.A)((0,sn.jsx)("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),Ms=(0,Vi.A)((0,sn.jsx)("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),Ds=(0,Vi.A)((0,sn.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),Rs=(0,Vi.A)((0,sn.jsx)("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),Ps=(0,Vi.A)((0,sn.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),$s=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],js=(0,en.Ay)(cn,{name:"MuiAlert",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${(0,qn.A)(n.color||n.severity)}`]]}})((e=>{let{theme:t}=e;const n="light"===t.palette.mode?Jt.e$:Jt.a,r="light"===t.palette.mode?Jt.a:Jt.e$;return(0,Yt.A)({},t.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(t.palette).filter((e=>{let[,t]=e;return t.main&&t.light})).map((e=>{let[o]=e;return{props:{colorSeverity:o,variant:"standard"},style:{color:t.vars?t.vars.palette.Alert[`${o}Color`]:n(t.palette[o].light,.6),backgroundColor:t.vars?t.vars.palette.Alert[`${o}StandardBg`]:r(t.palette[o].light,.9),[`& .${As.icon}`]:t.vars?{color:t.vars.palette.Alert[`${o}IconColor`]}:{color:t.palette[o].main}}}})),...Object.entries(t.palette).filter((e=>{let[,t]=e;return t.main&&t.light})).map((e=>{let[r]=e;return{props:{colorSeverity:r,variant:"outlined"},style:{color:t.vars?t.vars.palette.Alert[`${r}Color`]:n(t.palette[r].light,.6),border:`1px solid ${(t.vars||t).palette[r].light}`,[`& .${As.icon}`]:t.vars?{color:t.vars.palette.Alert[`${r}IconColor`]}:{color:t.palette[r].main}}}})),...Object.entries(t.palette).filter((e=>{let[,t]=e;return t.main&&t.dark})).map((e=>{let[n]=e;return{props:{colorSeverity:n,variant:"filled"},style:(0,Yt.A)({fontWeight:t.typography.fontWeightMedium},t.vars?{color:t.vars.palette.Alert[`${n}FilledColor`],backgroundColor:t.vars.palette.Alert[`${n}FilledBg`]}:{backgroundColor:"dark"===t.palette.mode?t.palette[n].dark:t.palette[n].main,color:t.palette.getContrastText(t.palette[n].main)})}}))]})})),_s=(0,en.Ay)("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(e,t)=>t.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),Fs=(0,en.Ay)("div",{name:"MuiAlert",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),Ls=(0,en.Ay)("div",{name:"MuiAlert",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),zs={success:(0,sn.jsx)(Os,{fontSize:"inherit"}),warning:(0,sn.jsx)(Ms,{fontSize:"inherit"}),error:(0,sn.jsx)(Ds,{fontSize:"inherit"}),info:(0,sn.jsx)(Rs,{fontSize:"inherit"})},Bs=W.forwardRef((function(e,t){const n=(0,nn.b)({props:e,name:"MuiAlert"}),{action:r,children:o,className:a,closeText:i="Close",color:s,components:l={},componentsProps:u={},icon:c,iconMapping:d=zs,onClose:p,role:h="alert",severity:f="success",slotProps:m={},slots:g={},variant:y="standard"}=n,v=(0,Xt.A)(n,$s),b=(0,Yt.A)({},n,{color:s,severity:f,variant:y,colorSeverity:s||f}),x=(e=>{const{variant:t,color:n,severity:r,classes:o}=e,a={root:["root",`color${(0,qn.A)(n||r)}`,`${t}${(0,qn.A)(n||r)}`,`${t}`],icon:["icon"],message:["message"],action:["action"]};return(0,Zt.A)(a,Ss,o)})(b),w={slots:(0,Yt.A)({closeButton:l.CloseButton,closeIcon:l.CloseIcon},g),slotProps:(0,Yt.A)({},u,m)},[k,S]=ks("closeButton",{elementType:Ns,externalForwardedProps:w,ownerState:b}),[A,C]=ks("closeIcon",{elementType:Ps,externalForwardedProps:w,ownerState:b});return(0,sn.jsxs)(js,(0,Yt.A)({role:h,elevation:0,ownerState:b,className:(0,Qt.A)(x.root,a),ref:t},v,{children:[!1!==c?(0,sn.jsx)(_s,{ownerState:b,className:x.icon,children:c||d[f]||zs[f]}):null,(0,sn.jsx)(Fs,{ownerState:b,className:x.message,children:o}),null!=r?(0,sn.jsx)(Ls,{ownerState:b,className:x.action,children:r}):null,null==r&&p?(0,sn.jsx)(Ls,{ownerState:b,className:x.action,children:(0,sn.jsx)(k,(0,Yt.A)({size:"small","aria-label":i,title:i,color:"inherit",onClick:p},S,{children:(0,sn.jsx)(A,(0,Yt.A)({fontSize:"small"},C))}))}):null]}))}));var Ws=n(9751);const Vs=W.createContext();function Us(e){return(0,on.Ay)("MuiGrid",e)}const Hs=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],Gs=(0,rn.A)("MuiGrid",["root","container","item","zeroMinWidth",...[0,1,2,3,4,5,6,7,8,9,10].map((e=>`spacing-xs-${e}`)),...["column-reverse","column","row-reverse","row"].map((e=>`direction-xs-${e}`)),...["nowrap","wrap-reverse","wrap"].map((e=>`wrap-xs-${e}`)),...Hs.map((e=>`grid-xs-${e}`)),...Hs.map((e=>`grid-sm-${e}`)),...Hs.map((e=>`grid-md-${e}`)),...Hs.map((e=>`grid-lg-${e}`)),...Hs.map((e=>`grid-xl-${e}`))]),qs=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function Ks(e){const t=parseFloat(e);return`${t}${String(e).replace(String(t),"")||"px"}`}function Xs(e){let{breakpoints:t,values:n}=e,r="";Object.keys(n).forEach((e=>{""===r&&0!==n[e]&&(r=e)}));const o=Object.keys(t).sort(((e,n)=>t[e]-t[n]));return o.slice(0,o.indexOf(r))}const Ys=(0,en.Ay)("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{container:r,direction:o,item:a,spacing:i,wrap:s,zeroMinWidth:l,breakpoints:u}=n;let c=[];r&&(c=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e||e<=0)return[];if("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e)return[n[`spacing-xs-${String(e)}`]];const r=[];return t.forEach((t=>{const o=e[t];Number(o)>0&&r.push(n[`spacing-${t}-${String(o)}`])})),r}(i,u,t));const d=[];return u.forEach((e=>{const r=n[e];r&&d.push(t[`grid-${e}-${String(r)}`])})),[t.root,r&&t.container,a&&t.item,l&&t.zeroMinWidth,...c,"row"!==o&&t[`direction-xs-${String(o)}`],"wrap"!==s&&t[`wrap-xs-${String(s)}`],...d]}})((e=>{let{ownerState:t}=e;return(0,Yt.A)({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},"wrap"!==t.wrap&&{flexWrap:t.wrap})}),(function(e){let{theme:t,ownerState:n}=e;const r=(0,Ws.kW)({values:n.direction,breakpoints:t.breakpoints.values});return(0,Ws.NI)({theme:t},r,(e=>{const t={flexDirection:e};return 0===e.indexOf("column")&&(t[`& > .${Gs.item}`]={maxWidth:"none"}),t}))}),(function(e){let{theme:t,ownerState:n}=e;const{container:r,rowSpacing:o}=n;let a={};if(r&&0!==o){const e=(0,Ws.kW)({values:o,breakpoints:t.breakpoints.values});let n;"object"===typeof e&&(n=Xs({breakpoints:t.breakpoints.values,values:e})),a=(0,Ws.NI)({theme:t},e,((e,r)=>{var o;const a=t.spacing(e);return"0px"!==a?{marginTop:`-${Ks(a)}`,[`& > .${Gs.item}`]:{paddingTop:Ks(a)}}:null!=(o=n)&&o.includes(r)?{}:{marginTop:0,[`& > .${Gs.item}`]:{paddingTop:0}}}))}return a}),(function(e){let{theme:t,ownerState:n}=e;const{container:r,columnSpacing:o}=n;let a={};if(r&&0!==o){const e=(0,Ws.kW)({values:o,breakpoints:t.breakpoints.values});let n;"object"===typeof e&&(n=Xs({breakpoints:t.breakpoints.values,values:e})),a=(0,Ws.NI)({theme:t},e,((e,r)=>{var o;const a=t.spacing(e);return"0px"!==a?{width:`calc(100% + ${Ks(a)})`,marginLeft:`-${Ks(a)}`,[`& > .${Gs.item}`]:{paddingLeft:Ks(a)}}:null!=(o=n)&&o.includes(r)?{}:{width:"100%",marginLeft:0,[`& > .${Gs.item}`]:{paddingLeft:0}}}))}return a}),(function(e){let t,{theme:n,ownerState:r}=e;return n.breakpoints.keys.reduce(((e,o)=>{let a={};if(r[o]&&(t=r[o]),!t)return e;if(!0===t)a={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if("auto"===t)a={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const i=(0,Ws.kW)({values:r.columns,breakpoints:n.breakpoints.values}),s="object"===typeof i?i[o]:i;if(void 0===s||null===s)return e;const l=Math.round(t/s*1e8)/1e6+"%";let u={};if(r.container&&r.item&&0!==r.columnSpacing){const e=n.spacing(r.columnSpacing);if("0px"!==e){const t=`calc(${l} + ${Ks(e)})`;u={flexBasis:t,maxWidth:t}}}a=(0,Yt.A)({flexBasis:l,flexGrow:0,maxWidth:l},u)}return 0===n.breakpoints.values[o]?Object.assign(e,a):e[n.breakpoints.up(o)]=a,e}),{})}));const Qs=e=>{const{classes:t,container:n,direction:r,item:o,spacing:a,wrap:i,zeroMinWidth:s,breakpoints:l}=e;let u=[];n&&(u=function(e,t){if(!e||e<=0)return[];if("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e)return[`spacing-xs-${String(e)}`];const n=[];return t.forEach((t=>{const r=e[t];if(Number(r)>0){const e=`spacing-${t}-${String(r)}`;n.push(e)}})),n}(a,l));const c=[];l.forEach((t=>{const n=e[t];n&&c.push(`grid-${t}-${String(n)}`)}));const d={root:["root",n&&"container",o&&"item",s&&"zeroMinWidth",...u,"row"!==r&&`direction-xs-${String(r)}`,"wrap"!==i&&`wrap-xs-${String(i)}`,...c]};return(0,Zt.A)(d,Us,t)};const Zs=W.forwardRef((function(e,t){const n=(0,nn.b)({props:e,name:"MuiGrid"}),{breakpoints:r}=xa(),o=(0,is.A)(n),{className:a,columns:i,columnSpacing:s,component:l="div",container:u=!1,direction:c="row",item:d=!1,rowSpacing:p,spacing:h=0,wrap:f="wrap",zeroMinWidth:m=!1}=o,g=(0,Xt.A)(o,qs),y=p||h,v=s||h,b=W.useContext(Vs),x=u?i||12:b,w={},k=(0,Yt.A)({},g);r.keys.forEach((e=>{null!=g[e]&&(w[e]=g[e],delete k[e])}));const S=(0,Yt.A)({},o,{columns:x,container:u,direction:c,item:d,rowSpacing:y,columnSpacing:v,wrap:f,zeroMinWidth:m,spacing:h},w,{breakpoints:r.keys}),A=Qs(S);return(0,sn.jsx)(Vs.Provider,{value:x,children:(0,sn.jsx)(Ys,(0,Yt.A)({ownerState:S,className:(0,Qt.A)(A.root,a),as:l,ref:t},k))})}));function Js(e){return(0,on.Ay)("MuiDivider",e)}const el=(0,rn.A)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);function tl(e){return(0,on.Ay)("MuiListItemIcon",e)}const nl=(0,rn.A)("MuiListItemIcon",["root","alignItemsFlexStart"]);function rl(e){return(0,on.Ay)("MuiListItemText",e)}const ol=(0,rn.A)("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);function al(e){return(0,on.Ay)("MuiMenuItem",e)}const il=(0,rn.A)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),sl=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],ll=(0,en.Ay)(Gn,{shouldForwardProp:e=>(0,pn.A)(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]}})((e=>{let{theme:t,ownerState:n}=e;return(0,Yt.A)({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!n.disableGutters&&{paddingLeft:16,paddingRight:16},n.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${il.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:(0,Jt.X4)(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${il.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:(0,Jt.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${il.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:(0,Jt.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:(0,Jt.X4)(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${il.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${il.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${el.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${el.inset}`]:{marginLeft:52},[`& .${ol.root}`]:{marginTop:0,marginBottom:0},[`& .${ol.inset}`]:{paddingLeft:36},[`& .${nl.root}`]:{minWidth:36}},!n.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},n.dense&&(0,Yt.A)({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{[`& .${nl.root} svg`]:{fontSize:"1.25rem"}}))})),ul=W.forwardRef((function(e,t){const n=(0,nn.b)({props:e,name:"MuiMenuItem"}),{autoFocus:r=!1,component:o="li",dense:a=!1,divider:i=!1,disableGutters:s=!1,focusVisibleClassName:l,role:u="menuitem",tabIndex:c,className:d}=n,p=(0,Xt.A)(n,sl),h=W.useContext(Ko),f=W.useMemo((()=>({dense:a||h.dense||!1,disableGutters:s})),[h.dense,a,s]),m=W.useRef(null);(0,wr.A)((()=>{r&&m.current&&m.current.focus()}),[r]);const g=(0,Yt.A)({},n,{dense:f.dense,divider:i,disableGutters:s}),y=(e=>{const{disabled:t,dense:n,divider:r,disableGutters:o,selected:a,classes:i}=e,s={root:["root",n&&"dense",t&&"disabled",!o&&"gutters",r&&"divider",a&&"selected"]},l=(0,Zt.A)(s,al,i);return(0,Yt.A)({},i,l)})(n),v=(0,hn.A)(m,t);let b;return n.disabled||(b=void 0!==c?c:-1),(0,sn.jsx)(Ko.Provider,{value:f,children:(0,sn.jsx)(ll,(0,Yt.A)({ref:v,role:u,tabIndex:b,component:o,focusVisibleClassName:(0,Qt.A)(y.focusVisible,l),className:(0,Qt.A)(y.root,d)},p,{ownerState:g,classes:y}))})}));function cl(e){return(0,on.Ay)("MuiCircularProgress",e)}(0,rn.A)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const dl=["className","color","disableShrink","size","style","thickness","value","variant"];let pl,hl,fl,ml,gl=e=>e;const yl=44,vl=(0,Tn.i7)(pl||(pl=gl`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),bl=(0,Tn.i7)(hl||(hl=gl`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),xl=(0,en.Ay)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`color${(0,qn.A)(n.color)}`]]}})((e=>{let{ownerState:t,theme:n}=e;return(0,Yt.A)({display:"inline-block"},"determinate"===t.variant&&{transition:n.transitions.create("transform")},"inherit"!==t.color&&{color:(n.vars||n).palette[t.color].main})}),(e=>{let{ownerState:t}=e;return"indeterminate"===t.variant&&(0,Tn.AH)(fl||(fl=gl`
      animation: ${0} 1.4s linear infinite;
    `),vl)})),wl=(0,en.Ay)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),kl=(0,en.Ay)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t[`circle${(0,qn.A)(n.variant)}`],n.disableShrink&&t.circleDisableShrink]}})((e=>{let{ownerState:t,theme:n}=e;return(0,Yt.A)({stroke:"currentColor"},"determinate"===t.variant&&{transition:n.transitions.create("stroke-dashoffset")},"indeterminate"===t.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})}),(e=>{let{ownerState:t}=e;return"indeterminate"===t.variant&&!t.disableShrink&&(0,Tn.AH)(ml||(ml=gl`
      animation: ${0} 1.4s ease-in-out infinite;
    `),bl)})),Sl=W.forwardRef((function(e,t){const n=(0,nn.b)({props:e,name:"MuiCircularProgress"}),{className:r,color:o="primary",disableShrink:a=!1,size:i=40,style:s,thickness:l=3.6,value:u=0,variant:c="indeterminate"}=n,d=(0,Xt.A)(n,dl),p=(0,Yt.A)({},n,{color:o,disableShrink:a,size:i,thickness:l,value:u,variant:c}),h=(e=>{const{classes:t,variant:n,color:r,disableShrink:o}=e,a={root:["root",n,`color${(0,qn.A)(r)}`],svg:["svg"],circle:["circle",`circle${(0,qn.A)(n)}`,o&&"circleDisableShrink"]};return(0,Zt.A)(a,cl,t)})(p),f={},m={},g={};if("determinate"===c){const e=2*Math.PI*((yl-l)/2);f.strokeDasharray=e.toFixed(3),g["aria-valuenow"]=Math.round(u),f.strokeDashoffset=`${((100-u)/100*e).toFixed(3)}px`,m.transform="rotate(-90deg)"}return(0,sn.jsx)(xl,(0,Yt.A)({className:(0,Qt.A)(h.root,r),style:(0,Yt.A)({width:i,height:i},m,s),ownerState:p,ref:t,role:"progressbar"},g,d,{children:(0,sn.jsx)(wl,{className:h.svg,ownerState:p,viewBox:"22 22 44 44",children:(0,sn.jsx)(kl,{className:h.circle,style:f,ownerState:p,cx:yl,cy:yl,r:(yl-l)/2,fill:"none",strokeWidth:l})})}))})),Al=(0,Vi.A)((0,sn.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person"),Cl=(0,Vi.A)((0,sn.jsx)("path",{d:"M12 6c1.11 0 2-.9 2-2 0-.38-.1-.73-.29-1.03L12 0l-1.71 2.97c-.19.3-.29.65-.29 1.03 0 1.1.9 2 2 2m4.6 9.99-1.07-1.07-1.08 1.07c-1.3 1.3-3.58 1.31-4.89 0l-1.07-1.07-1.09 1.07C6.75 16.64 5.88 17 4.96 17c-.73 0-1.4-.23-1.96-.61V21c0 .55.45 1 1 1h16c.55 0 1-.45 1-1v-4.61c-.56.38-1.23.61-1.96.61-.92 0-1.79-.36-2.44-1.01M18 9h-5V7h-2v2H6c-1.66 0-3 1.34-3 3v1.54c0 1.08.88 1.96 1.96 1.96.52 0 1.02-.2 1.38-.57l2.14-2.13 2.13 2.13c.74.74 2.03.74 2.77 0l2.14-2.13 2.13 2.13c.37.37.86.57 1.38.57 1.08 0 1.96-.88 1.96-1.96V12C21 10.34 19.66 9 18 9"}),"Cake"),Tl=(0,Vi.A)((0,sn.jsx)("path",{d:"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02z"}),"Phone"),Il=(0,Vi.A)((0,sn.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"}),"Save");function El(e,t){return function(){return e.apply(t,arguments)}}const{toString:Nl}=Object.prototype,{getPrototypeOf:Ol}=Object,{iterator:Ml,toStringTag:Dl}=Symbol,Rl=(Pl=Object.create(null),e=>{const t=Nl.call(e);return Pl[t]||(Pl[t]=t.slice(8,-1).toLowerCase())});var Pl;const $l=e=>(e=e.toLowerCase(),t=>Rl(t)===e),jl=e=>t=>typeof t===e,{isArray:_l}=Array,Fl=jl("undefined");const Ll=$l("ArrayBuffer");const zl=jl("string"),Bl=jl("function"),Wl=jl("number"),Vl=e=>null!==e&&"object"===typeof e,Ul=e=>{if("object"!==Rl(e))return!1;const t=Ol(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Dl in e)&&!(Ml in e)},Hl=$l("Date"),Gl=$l("File"),ql=$l("Blob"),Kl=$l("FileList"),Xl=$l("URLSearchParams"),[Yl,Ql,Zl,Jl]=["ReadableStream","Request","Response","Headers"].map($l);function eu(e,t){let n,r,{allOwnKeys:o=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),_l(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{const r=o?Object.getOwnPropertyNames(e):Object.keys(e),a=r.length;let i;for(n=0;n<a;n++)i=r[n],t.call(null,e[i],i,e)}}function tu(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,o=n.length;for(;o-- >0;)if(r=n[o],t===r.toLowerCase())return r;return null}const nu="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,ru=e=>!Fl(e)&&e!==nu;const ou=(au="undefined"!==typeof Uint8Array&&Ol(Uint8Array),e=>au&&e instanceof au);var au;const iu=$l("HTMLFormElement"),su=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),lu=$l("RegExp"),uu=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};eu(n,((n,o)=>{let a;!1!==(a=t(n,o,e))&&(r[o]=a||n)})),Object.defineProperties(e,r)};const cu=$l("AsyncFunction"),du=((e,t)=>{return e?setImmediate:t?(n=`axios@${Math.random()}`,r=[],nu.addEventListener("message",(e=>{let{source:t,data:o}=e;t===nu&&o===n&&r.length&&r.shift()()}),!1),e=>{r.push(e),nu.postMessage(n,"*")}):e=>setTimeout(e);var n,r})("function"===typeof setImmediate,Bl(nu.postMessage)),pu="undefined"!==typeof queueMicrotask?queueMicrotask.bind(nu):"undefined"!==typeof process&&process.nextTick||du,hu={isArray:_l,isArrayBuffer:Ll,isBuffer:function(e){return null!==e&&!Fl(e)&&null!==e.constructor&&!Fl(e.constructor)&&Bl(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||Bl(e.append)&&("formdata"===(t=Rl(e))||"object"===t&&Bl(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Ll(e.buffer),t},isString:zl,isNumber:Wl,isBoolean:e=>!0===e||!1===e,isObject:Vl,isPlainObject:Ul,isReadableStream:Yl,isRequest:Ql,isResponse:Zl,isHeaders:Jl,isUndefined:Fl,isDate:Hl,isFile:Gl,isBlob:ql,isRegExp:lu,isFunction:Bl,isStream:e=>Vl(e)&&Bl(e.pipe),isURLSearchParams:Xl,isTypedArray:ou,isFileList:Kl,forEach:eu,merge:function e(){const{caseless:t}=ru(this)&&this||{},n={},r=(r,o)=>{const a=t&&tu(n,o)||o;Ul(n[a])&&Ul(r)?n[a]=e(n[a],r):Ul(r)?n[a]=e({},r):_l(r)?n[a]=r.slice():n[a]=r};for(let o=0,a=arguments.length;o<a;o++)arguments[o]&&eu(arguments[o],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return eu(t,((t,r)=>{n&&Bl(t)?e[r]=El(t,n):e[r]=t}),{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let o,a,i;const s={};if(t=t||{},null==e)return t;do{for(o=Object.getOwnPropertyNames(e),a=o.length;a-- >0;)i=o[a],r&&!r(i,e,t)||s[i]||(t[i]=e[i],s[i]=!0);e=!1!==n&&Ol(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:Rl,kindOfTest:$l,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(_l(e))return e;let t=e.length;if(!Wl(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Ml]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:iu,hasOwnProperty:su,hasOwnProp:su,reduceDescriptors:uu,freezeMethods:e=>{uu(e,((t,n)=>{if(Bl(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];Bl(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return _l(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:tu,global:nu,isContextDefined:ru,isSpecCompliantForm:function(e){return!!(e&&Bl(e.append)&&"FormData"===e[Dl]&&e[Ml])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(Vl(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const o=_l(e)?[]:{};return eu(e,((e,t)=>{const a=n(e,r+1);!Fl(a)&&(o[t]=a)})),t[r]=void 0,o}}return e};return n(e,0)},isAsyncFn:cu,isThenable:e=>e&&(Vl(e)||Bl(e))&&Bl(e.then)&&Bl(e.catch),setImmediate:du,asap:pu,isIterable:e=>null!=e&&Bl(e[Ml])};function fu(e,t,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o,this.status=o.status?o.status:null)}hu.inherits(fu,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:hu.toJSONObject(this.config),code:this.code,status:this.status}}});const mu=fu.prototype,gu={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{gu[e]={value:e}})),Object.defineProperties(fu,gu),Object.defineProperty(mu,"isAxiosError",{value:!0}),fu.from=(e,t,n,r,o,a)=>{const i=Object.create(mu);return hu.toFlatObject(e,i,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),fu.call(i,e.message,t,n,r,o),i.cause=e,i.name=e.name,a&&Object.assign(i,a),i};const yu=fu;function vu(e){return hu.isPlainObject(e)||hu.isArray(e)}function bu(e){return hu.endsWith(e,"[]")?e.slice(0,-2):e}function xu(e,t,n){return e?e.concat(t).map((function(e,t){return e=bu(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const wu=hu.toFlatObject(hu,{},null,(function(e){return/^is[A-Z]/.test(e)}));const ku=function(e,t,n){if(!hu.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=hu.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!hu.isUndefined(t[e])}))).metaTokens,o=n.visitor||u,a=n.dots,i=n.indexes,s=(n.Blob||"undefined"!==typeof Blob&&Blob)&&hu.isSpecCompliantForm(t);if(!hu.isFunction(o))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(hu.isDate(e))return e.toISOString();if(!s&&hu.isBlob(e))throw new yu("Blob is not supported. Use a Buffer instead.");return hu.isArrayBuffer(e)||hu.isTypedArray(e)?s&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function u(e,n,o){let s=e;if(e&&!o&&"object"===typeof e)if(hu.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(hu.isArray(e)&&function(e){return hu.isArray(e)&&!e.some(vu)}(e)||(hu.isFileList(e)||hu.endsWith(n,"[]"))&&(s=hu.toArray(e)))return n=bu(n),s.forEach((function(e,r){!hu.isUndefined(e)&&null!==e&&t.append(!0===i?xu([n],r,a):null===i?n:n+"[]",l(e))})),!1;return!!vu(e)||(t.append(xu(o,n,a),l(e)),!1)}const c=[],d=Object.assign(wu,{defaultVisitor:u,convertValue:l,isVisitable:vu});if(!hu.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!hu.isUndefined(n)){if(-1!==c.indexOf(n))throw Error("Circular reference detected in "+r.join("."));c.push(n),hu.forEach(n,(function(n,a){!0===(!(hu.isUndefined(n)||null===n)&&o.call(t,n,hu.isString(a)?a.trim():a,r,d))&&e(n,r?r.concat(a):[a])})),c.pop()}}(e),t};function Su(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function Au(e,t){this._pairs=[],e&&ku(e,this,t)}const Cu=Au.prototype;Cu.append=function(e,t){this._pairs.push([e,t])},Cu.toString=function(e){const t=e?function(t){return e.call(this,t,Su)}:Su;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const Tu=Au;function Iu(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Eu(e,t,n){if(!t)return e;const r=n&&n.encode||Iu;hu.isFunction(n)&&(n={serialize:n});const o=n&&n.serialize;let a;if(a=o?o(t,n):hu.isURLSearchParams(t)?t.toString():new Tu(t,n).toString(r),a){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}const Nu=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){hu.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},Ou={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Mu={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:Tu,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Du="undefined"!==typeof window&&"undefined"!==typeof document,Ru="object"===typeof navigator&&navigator||void 0,Pu=Du&&(!Ru||["ReactNative","NativeScript","NS"].indexOf(Ru.product)<0),$u="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,ju=Du&&window.location.href||"http://localhost",_u={...e,...Mu};const Fu=function(e){function t(e,n,r,o){let a=e[o++];if("__proto__"===a)return!0;const i=Number.isFinite(+a),s=o>=e.length;if(a=!a&&hu.isArray(r)?r.length:a,s)return hu.hasOwnProp(r,a)?r[a]=[r[a],n]:r[a]=n,!i;r[a]&&hu.isObject(r[a])||(r[a]=[]);return t(e,n,r[a],o)&&hu.isArray(r[a])&&(r[a]=function(e){const t={},n=Object.keys(e);let r;const o=n.length;let a;for(r=0;r<o;r++)a=n[r],t[a]=e[a];return t}(r[a])),!i}if(hu.isFormData(e)&&hu.isFunction(e.entries)){const n={};return hu.forEachEntry(e,((e,r)=>{t(function(e){return hu.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null};const Lu={transitional:Ou,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,o=hu.isObject(e);o&&hu.isHTMLForm(e)&&(e=new FormData(e));if(hu.isFormData(e))return r?JSON.stringify(Fu(e)):e;if(hu.isArrayBuffer(e)||hu.isBuffer(e)||hu.isStream(e)||hu.isFile(e)||hu.isBlob(e)||hu.isReadableStream(e))return e;if(hu.isArrayBufferView(e))return e.buffer;if(hu.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return ku(e,new _u.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return _u.isNode&&hu.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((a=hu.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return ku(a?{"files[]":e}:e,t&&new t,this.formSerializer)}}return o||r?(t.setContentType("application/json",!1),function(e,t,n){if(hu.isString(e))try{return(t||JSON.parse)(e),hu.trim(e)}catch(ZBe){if("SyntaxError"!==ZBe.name)throw ZBe}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Lu.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(hu.isResponse(e)||hu.isReadableStream(e))return e;if(e&&hu.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(ZBe){if(n){if("SyntaxError"===ZBe.name)throw yu.from(ZBe,yu.ERR_BAD_RESPONSE,this,null,this.response);throw ZBe}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:_u.classes.FormData,Blob:_u.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};hu.forEach(["delete","get","head","post","put","patch"],(e=>{Lu.headers[e]={}}));const zu=Lu,Bu=hu.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Wu=Symbol("internals");function Vu(e){return e&&String(e).trim().toLowerCase()}function Uu(e){return!1===e||null==e?e:hu.isArray(e)?e.map(Uu):String(e)}function Hu(e,t,n,r,o){return hu.isFunction(r)?r.call(this,t,n):(o&&(t=n),hu.isString(t)?hu.isString(r)?-1!==t.indexOf(r):hu.isRegExp(r)?r.test(t):void 0:void 0)}class Gu{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function o(e,t,n){const o=Vu(t);if(!o)throw new Error("header name must be a non-empty string");const a=hu.findKey(r,o);(!a||void 0===r[a]||!0===n||void 0===n&&!1!==r[a])&&(r[a||t]=Uu(e))}const a=(e,t)=>hu.forEach(e,((e,n)=>o(e,n,t)));if(hu.isPlainObject(e)||e instanceof this.constructor)a(e,t);else if(hu.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))a((e=>{const t={};let n,r,o;return e&&e.split("\n").forEach((function(e){o=e.indexOf(":"),n=e.substring(0,o).trim().toLowerCase(),r=e.substring(o+1).trim(),!n||t[n]&&Bu[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t);else if(hu.isObject(e)&&hu.isIterable(e)){let n,r,o={};for(const t of e){if(!hu.isArray(t))throw TypeError("Object iterator must return a key-value pair");o[r=t[0]]=(n=o[r])?hu.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}a(o,t)}else null!=e&&o(t,e,n);return this}get(e,t){if(e=Vu(e)){const n=hu.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(hu.isFunction(t))return t.call(this,e,n);if(hu.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Vu(e)){const n=hu.findKey(this,e);return!(!n||void 0===this[n]||t&&!Hu(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function o(e){if(e=Vu(e)){const o=hu.findKey(n,e);!o||t&&!Hu(0,n[o],o,t)||(delete n[o],r=!0)}}return hu.isArray(e)?e.forEach(o):o(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const o=t[n];e&&!Hu(0,this[o],o,e,!0)||(delete this[o],r=!0)}return r}normalize(e){const t=this,n={};return hu.forEach(this,((r,o)=>{const a=hu.findKey(n,o);if(a)return t[a]=Uu(r),void delete t[o];const i=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(o):String(o).trim();i!==o&&delete t[o],t[i]=Uu(r),n[i]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return hu.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&hu.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,n]=e;return t+": "+n})).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[Wu]=this[Wu]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=Vu(e);t[r]||(!function(e,t){const n=hu.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,o){return this[r].call(this,t,e,n,o)},configurable:!0})}))}(n,e),t[r]=!0)}return hu.isArray(e)?e.forEach(r):r(e),this}}Gu.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),hu.reduceDescriptors(Gu.prototype,((e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}})),hu.freezeMethods(Gu);const qu=Gu;function Ku(e,t){const n=this||zu,r=t||n,o=qu.from(r.headers);let a=r.data;return hu.forEach(e,(function(e){a=e.call(n,a,o.normalize(),t?t.status:void 0)})),o.normalize(),a}function Xu(e){return!(!e||!e.__CANCEL__)}function Yu(e,t,n){yu.call(this,null==e?"canceled":e,yu.ERR_CANCELED,t,n),this.name="CanceledError"}hu.inherits(Yu,yu,{__CANCEL__:!0});const Qu=Yu;function Zu(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new yu("Request failed with status code "+n.status,[yu.ERR_BAD_REQUEST,yu.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const Ju=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let o,a=0,i=0;return t=void 0!==t?t:1e3,function(s){const l=Date.now(),u=r[i];o||(o=l),n[a]=s,r[a]=l;let c=i,d=0;for(;c!==a;)d+=n[c++],c%=e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),l-o<t)return;const p=u&&l-u;return p?Math.round(1e3*d/p):void 0}};const ec=function(e,t){let n,r,o=0,a=1e3/t;const i=function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();o=a,n=null,r&&(clearTimeout(r),r=null),e.apply(null,t)};return[function(){const e=Date.now(),t=e-o;for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];t>=a?i(l,e):(n=l,r||(r=setTimeout((()=>{r=null,i(n)}),a-t)))},()=>n&&i(n)]},tc=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const o=Ju(50,250);return ec((n=>{const a=n.loaded,i=n.lengthComputable?n.total:void 0,s=a-r,l=o(s);r=a;e({loaded:a,total:i,progress:i?a/i:void 0,bytes:s,rate:l||void 0,estimated:l&&i&&a<=i?(i-a)/l:void 0,event:n,lengthComputable:null!=i,[t?"download":"upload"]:!0})}),n)},nc=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},rc=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return hu.asap((()=>e(...n)))},oc=_u.hasStandardBrowserEnv?(ac=new URL(_u.origin),ic=_u.navigator&&/(msie|trident)/i.test(_u.navigator.userAgent),e=>(e=new URL(e,_u.origin),ac.protocol===e.protocol&&ac.host===e.host&&(ic||ac.port===e.port))):()=>!0;var ac,ic;const sc=_u.hasStandardBrowserEnv?{write(e,t,n,r,o,a){const i=[e+"="+encodeURIComponent(t)];hu.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),hu.isString(r)&&i.push("path="+r),hu.isString(o)&&i.push("domain="+o),!0===a&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function lc(e,t,n){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(r||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const uc=e=>e instanceof qu?{...e}:e;function cc(e,t){t=t||{};const n={};function r(e,t,n,r){return hu.isPlainObject(e)&&hu.isPlainObject(t)?hu.merge.call({caseless:r},e,t):hu.isPlainObject(t)?hu.merge({},t):hu.isArray(t)?t.slice():t}function o(e,t,n,o){return hu.isUndefined(t)?hu.isUndefined(e)?void 0:r(void 0,e,0,o):r(e,t,0,o)}function a(e,t){if(!hu.isUndefined(t))return r(void 0,t)}function i(e,t){return hu.isUndefined(t)?hu.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function s(n,o,a){return a in t?r(n,o):a in e?r(void 0,n):void 0}const l={url:a,method:a,data:a,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:s,headers:(e,t,n)=>o(uc(e),uc(t),0,!0)};return hu.forEach(Object.keys(Object.assign({},e,t)),(function(r){const a=l[r]||o,i=a(e[r],t[r],r);hu.isUndefined(i)&&a!==s||(n[r]=i)})),n}const dc=e=>{const t=cc({},e);let n,{data:r,withXSRFToken:o,xsrfHeaderName:a,xsrfCookieName:i,headers:s,auth:l}=t;if(t.headers=s=qu.from(s),t.url=Eu(lc(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&s.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),hu.isFormData(r))if(_u.hasStandardBrowserEnv||_u.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(!1!==(n=s.getContentType())){const[e,...t]=n?n.split(";").map((e=>e.trim())).filter(Boolean):[];s.setContentType([e||"multipart/form-data",...t].join("; "))}if(_u.hasStandardBrowserEnv&&(o&&hu.isFunction(o)&&(o=o(t)),o||!1!==o&&oc(t.url))){const e=a&&i&&sc.read(i);e&&s.set(a,e)}return t},pc="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){const r=dc(e);let o=r.data;const a=qu.from(r.headers).normalize();let i,s,l,u,c,{responseType:d,onUploadProgress:p,onDownloadProgress:h}=r;function f(){u&&u(),c&&c(),r.cancelToken&&r.cancelToken.unsubscribe(i),r.signal&&r.signal.removeEventListener("abort",i)}let m=new XMLHttpRequest;function g(){if(!m)return;const r=qu.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());Zu((function(e){t(e),f()}),(function(e){n(e),f()}),{data:d&&"text"!==d&&"json"!==d?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:r,config:e,request:m}),m=null}m.open(r.method.toUpperCase(),r.url,!0),m.timeout=r.timeout,"onloadend"in m?m.onloadend=g:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(g)},m.onabort=function(){m&&(n(new yu("Request aborted",yu.ECONNABORTED,e,m)),m=null)},m.onerror=function(){n(new yu("Network Error",yu.ERR_NETWORK,e,m)),m=null},m.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const o=r.transitional||Ou;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new yu(t,o.clarifyTimeoutError?yu.ETIMEDOUT:yu.ECONNABORTED,e,m)),m=null},void 0===o&&a.setContentType(null),"setRequestHeader"in m&&hu.forEach(a.toJSON(),(function(e,t){m.setRequestHeader(t,e)})),hu.isUndefined(r.withCredentials)||(m.withCredentials=!!r.withCredentials),d&&"json"!==d&&(m.responseType=r.responseType),h&&([l,c]=tc(h,!0),m.addEventListener("progress",l)),p&&m.upload&&([s,u]=tc(p),m.upload.addEventListener("progress",s),m.upload.addEventListener("loadend",u)),(r.cancelToken||r.signal)&&(i=t=>{m&&(n(!t||t.type?new Qu(null,e,m):t),m.abort(),m=null)},r.cancelToken&&r.cancelToken.subscribe(i),r.signal&&(r.signal.aborted?i():r.signal.addEventListener("abort",i)));const y=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);y&&-1===_u.protocols.indexOf(y)?n(new yu("Unsupported protocol "+y+":",yu.ERR_BAD_REQUEST,e)):m.send(o||null)}))},hc=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const o=function(e){if(!n){n=!0,i();const t=e instanceof Error?e:this.reason;r.abort(t instanceof yu?t:new Qu(t instanceof Error?t.message:t))}};let a=t&&setTimeout((()=>{a=null,o(new yu(`timeout ${t} of ms exceeded`,yu.ETIMEDOUT))}),t);const i=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(o):e.removeEventListener("abort",o)})),e=null)};e.forEach((e=>e.addEventListener("abort",o)));const{signal:s}=r;return s.unsubscribe=()=>hu.asap(i),s}},fc=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,o=0;for(;o<n;)r=o+t,yield e.slice(o,r),o=r},mc=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:n}=await t.read();if(e)break;yield n}}finally{await t.cancel()}},gc=(e,t,n,r)=>{const o=async function*(e,t){for await(const n of mc(e))yield*fc(n,t)}(e,t);let a,i=0,s=e=>{a||(a=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await o.next();if(t)return s(),void e.close();let a=r.byteLength;if(n){let e=i+=a;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw s(t),t}},cancel:e=>(s(e),o.return())},{highWaterMark:2})},yc="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,vc=yc&&"function"===typeof ReadableStream,bc=yc&&("function"===typeof TextEncoder?(xc=new TextEncoder,e=>xc.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var xc;const wc=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch(ZBe){return!1}},kc=vc&&wc((()=>{let e=!1;const t=new Request(_u.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),Sc=vc&&wc((()=>hu.isReadableStream(new Response("").body))),Ac={stream:Sc&&(e=>e.body)};var Cc;yc&&(Cc=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!Ac[e]&&(Ac[e]=hu.isFunction(Cc[e])?t=>t[e]():(t,n)=>{throw new yu(`Response type '${e}' is not supported`,yu.ERR_NOT_SUPPORT,n)})})));const Tc=async(e,t)=>{const n=hu.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(hu.isBlob(e))return e.size;if(hu.isSpecCompliantForm(e)){const t=new Request(_u.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return hu.isArrayBufferView(e)||hu.isArrayBuffer(e)?e.byteLength:(hu.isURLSearchParams(e)&&(e+=""),hu.isString(e)?(await bc(e)).byteLength:void 0)})(t):n},Ic={http:null,xhr:pc,fetch:yc&&(async e=>{let{url:t,method:n,data:r,signal:o,cancelToken:a,timeout:i,onDownloadProgress:s,onUploadProgress:l,responseType:u,headers:c,withCredentials:d="same-origin",fetchOptions:p}=dc(e);u=u?(u+"").toLowerCase():"text";let h,f=hc([o,a&&a.toAbortSignal()],i);const m=f&&f.unsubscribe&&(()=>{f.unsubscribe()});let g;try{if(l&&kc&&"get"!==n&&"head"!==n&&0!==(g=await Tc(c,r))){let e,n=new Request(t,{method:"POST",body:r,duplex:"half"});if(hu.isFormData(r)&&(e=n.headers.get("content-type"))&&c.setContentType(e),n.body){const[e,t]=nc(g,tc(rc(l)));r=gc(n.body,65536,e,t)}}hu.isString(d)||(d=d?"include":"omit");const o="credentials"in Request.prototype;h=new Request(t,{...p,signal:f,method:n.toUpperCase(),headers:c.normalize().toJSON(),body:r,duplex:"half",credentials:o?d:void 0});let a=await fetch(h);const i=Sc&&("stream"===u||"response"===u);if(Sc&&(s||i&&m)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=a[t]}));const t=hu.toFiniteNumber(a.headers.get("content-length")),[n,r]=s&&nc(t,tc(rc(s),!0))||[];a=new Response(gc(a.body,65536,n,(()=>{r&&r(),m&&m()})),e)}u=u||"text";let y=await Ac[hu.findKey(Ac,u)||"text"](a,e);return!i&&m&&m(),await new Promise(((t,n)=>{Zu(t,n,{data:y,headers:qu.from(a.headers),status:a.status,statusText:a.statusText,config:e,request:h})}))}catch(y){if(m&&m(),y&&"TypeError"===y.name&&/Load failed|fetch/i.test(y.message))throw Object.assign(new yu("Network Error",yu.ERR_NETWORK,e,h),{cause:y.cause||y});throw yu.from(y,y&&y.code,e,h)}})};hu.forEach(Ic,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(ZBe){}Object.defineProperty(e,"adapterName",{value:t})}}));const Ec=e=>`- ${e}`,Nc=e=>hu.isFunction(e)||null===e||!1===e,Oc=e=>{e=hu.isArray(e)?e:[e];const{length:t}=e;let n,r;const o={};for(let a=0;a<t;a++){let t;if(n=e[a],r=n,!Nc(n)&&(r=Ic[(t=String(n)).toLowerCase()],void 0===r))throw new yu(`Unknown adapter '${t}'`);if(r)break;o[t||"#"+a]=r}if(!r){const e=Object.entries(o).map((e=>{let[t,n]=e;return`adapter ${t} `+(!1===n?"is not supported by the environment":"is not available in the build")}));let n=t?e.length>1?"since :\n"+e.map(Ec).join("\n"):" "+Ec(e[0]):"as no adapter specified";throw new yu("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function Mc(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Qu(null,e)}function Dc(e){Mc(e),e.headers=qu.from(e.headers),e.data=Ku.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Oc(e.adapter||zu.adapter)(e).then((function(t){return Mc(e),t.data=Ku.call(e,e.transformResponse,t),t.headers=qu.from(t.headers),t}),(function(t){return Xu(t)||(Mc(e),t&&t.response&&(t.response.data=Ku.call(e,e.transformResponse,t.response),t.response.headers=qu.from(t.response.headers))),Promise.reject(t)}))}const Rc="1.9.0",Pc={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{Pc[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const $c={};Pc.transitional=function(e,t,n){function r(e,t){return"[Axios v1.9.0] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,o,a)=>{if(!1===e)throw new yu(r(o," has been removed"+(t?" in "+t:"")),yu.ERR_DEPRECATED);return t&&!$c[o]&&($c[o]=!0,console.warn(r(o," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,o,a)}},Pc.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};const jc={assertOptions:function(e,t,n){if("object"!==typeof e)throw new yu("options must be an object",yu.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let o=r.length;for(;o-- >0;){const a=r[o],i=t[a];if(i){const t=e[a],n=void 0===t||i(t,a,e);if(!0!==n)throw new yu("option "+a+" must be "+n,yu.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new yu("Unknown option "+a,yu.ERR_BAD_OPTION)}},validators:Pc},_c=jc.validators;class Fc{constructor(e){this.defaults=e||{},this.interceptors={request:new Nu,response:new Nu}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(ZBe){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=cc(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:o}=t;void 0!==n&&jc.assertOptions(n,{silentJSONParsing:_c.transitional(_c.boolean),forcedJSONParsing:_c.transitional(_c.boolean),clarifyTimeoutError:_c.transitional(_c.boolean)},!1),null!=r&&(hu.isFunction(r)?t.paramsSerializer={serialize:r}:jc.assertOptions(r,{encode:_c.function,serialize:_c.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),jc.assertOptions(t,{baseUrl:_c.spelling("baseURL"),withXsrfToken:_c.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=o&&hu.merge(o.common,o[t.method]);o&&hu.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete o[e]})),t.headers=qu.concat(a,o);const i=[];let s=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(s=s&&e.synchronous,i.unshift(e.fulfilled,e.rejected))}));const l=[];let u;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let c,d=0;if(!s){const e=[Dc.bind(this),void 0];for(e.unshift.apply(e,i),e.push.apply(e,l),c=e.length,u=Promise.resolve(t);d<c;)u=u.then(e[d++],e[d++]);return u}c=i.length;let p=t;for(d=0;d<c;){const e=i[d++],t=i[d++];try{p=e(p)}catch(h){t.call(this,h);break}}try{u=Dc.call(this,p)}catch(h){return Promise.reject(h)}for(d=0,c=l.length;d<c;)u=u.then(l[d++],l[d++]);return u}getUri(e){return Eu(lc((e=cc(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}hu.forEach(["delete","get","head","options"],(function(e){Fc.prototype[e]=function(t,n){return this.request(cc(n||{},{method:e,url:t,data:(n||{}).data}))}})),hu.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,o){return this.request(cc(o||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Fc.prototype[e]=t(),Fc.prototype[e+"Form"]=t(!0)}));const Lc=Fc;class zc{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,o){n.reason||(n.reason=new Qu(e,r,o),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new zc((function(t){e=t})),cancel:e}}}const Bc=zc;const Wc={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Wc).forEach((e=>{let[t,n]=e;Wc[n]=t}));const Vc=Wc;const Uc=function e(t){const n=new Lc(t),r=El(Lc.prototype.request,n);return hu.extend(r,Lc.prototype,n,{allOwnKeys:!0}),hu.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(cc(t,n))},r}(zu);Uc.Axios=Lc,Uc.CanceledError=Qu,Uc.CancelToken=Bc,Uc.isCancel=Xu,Uc.VERSION=Rc,Uc.toFormData=ku,Uc.AxiosError=yu,Uc.Cancel=Uc.CanceledError,Uc.all=function(e){return Promise.all(e)},Uc.spread=function(e){return function(t){return e.apply(null,t)}},Uc.isAxiosError=function(e){return hu.isObject(e)&&!0===e.isAxiosError},Uc.mergeConfig=cc,Uc.AxiosHeaders=qu,Uc.formToJSON=e=>Fu(hu.isHTMLForm(e)?new FormData(e):e),Uc.getAdapter=Oc,Uc.HttpStatusCode=Vc,Uc.default=Uc;const Hc=Uc;!function(e){if(!e||"undefined"==typeof document)return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}(':root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}\n');var Gc=e=>"number"==typeof e&&!isNaN(e),qc=e=>"string"==typeof e,Kc=e=>"function"==typeof e,Xc=e=>qc(e)||Kc(e)?e:null,Yc=(e,t)=>!1===e||Gc(e)&&e>0?e:t,Qc=e=>(0,W.isValidElement)(e)||qc(e)||Kc(e)||Gc(e);function Zc(e){let{enter:t,exit:n,appendPosition:r=!1,collapse:o=!0,collapseDuration:a=300}=e;return function(e){let{children:i,position:s,preventExitTransition:l,done:u,nodeRef:c,isIn:d,playToast:p}=e,h=r?`${t}--${s}`:t,f=r?`${n}--${s}`:n,m=(0,W.useRef)(0);return(0,W.useLayoutEffect)((()=>{let e=c.current,t=h.split(" "),n=r=>{r.target===c.current&&(p(),e.removeEventListener("animationend",n),e.removeEventListener("animationcancel",n),0===m.current&&"animationcancel"!==r.type&&e.classList.remove(...t))};e.classList.add(...t),e.addEventListener("animationend",n),e.addEventListener("animationcancel",n)}),[]),(0,W.useEffect)((()=>{let e=c.current,t=()=>{e.removeEventListener("animationend",t),o?function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,{scrollHeight:r,style:o}=e;requestAnimationFrame((()=>{o.minHeight="initial",o.height=r+"px",o.transition=`all ${n}ms`,requestAnimationFrame((()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(t,n)}))}))}(e,u,a):u()};d||(l?t():(m.current=1,e.className+=` ${f}`,e.addEventListener("animationend",t)))}),[d]),W.createElement(W.Fragment,null,i)}}function Jc(e,t){return{content:ed(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function ed(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,W.isValidElement)(e)&&!qc(e.type)?(0,W.cloneElement)(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):Kc(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):e}function td(e){let{delay:t,isRunning:n,closeToast:r,type:o="default",hide:a,className:i,controlledProgress:s,progress:l,rtl:u,isIn:c,theme:d}=e,p=a||s&&0===l,h={animationDuration:`${t}ms`,animationPlayState:n?"running":"paused"};s&&(h.transform=`scaleX(${l})`);let f=(0,Qt.A)("Toastify__progress-bar",s?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${d}`,`Toastify__progress-bar--${o}`,{"Toastify__progress-bar--rtl":u}),m=Kc(i)?i({rtl:u,type:o,defaultClassName:f}):(0,Qt.A)(f,i),g={[s&&l>=1?"onTransitionEnd":"onAnimationEnd"]:s&&l<1?null:()=>{c&&r()}};return W.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":p},W.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${d} Toastify__progress-bar--${o}`}),W.createElement("div",{role:"progressbar","aria-hidden":p?"true":"false","aria-label":"notification timer",className:m,style:h,...g}))}var nd=1,rd=()=>""+nd++;function od(e,t,n){let r=1,o=0,a=[],i=[],s=t,l=new Map,u=new Set,c=()=>{i=Array.from(l.values()),u.forEach((e=>e()))},d=e=>{var t,n;null==(n=null==(t=e.props)?void 0:t.onClose)||n.call(t,e.removalReason),e.isActive=!1},p=e=>{if(null==e)l.forEach(d);else{let t=l.get(e);t&&d(t)}c()},h=e=>{var t,r;let{toastId:o,updateId:a}=e.props,i=null==a;e.staleId&&l.delete(e.staleId),e.isActive=!0,l.set(o,e),c(),n(Jc(e,i?"added":"updated")),i&&(null==(r=(t=e.props).onOpen)||r.call(t))};return{id:e,props:s,observe:e=>(u.add(e),()=>u.delete(e)),toggle:(e,t)=>{l.forEach((n=>{var r;(null==t||t===n.props.toastId)&&(null==(r=n.toggle)||r.call(n,e))}))},removeToast:p,toasts:l,clearQueue:()=>{o-=a.length,a=[]},buildToast:(t,i)=>{if((t=>{let{containerId:n,toastId:r,updateId:o}=t,a=n?n!==e:1!==e,i=l.has(r)&&null==o;return a||i})(i))return;let{toastId:u,updateId:d,data:f,staleId:m,delay:g}=i,y=null==d;y&&o++;let v={...s,style:s.toastStyle,key:r++,...Object.fromEntries(Object.entries(i).filter((e=>{let[t,n]=e;return null!=n}))),toastId:u,updateId:d,data:f,isIn:!1,className:Xc(i.className||s.toastClassName),progressClassName:Xc(i.progressClassName||s.progressClassName),autoClose:!i.isLoading&&Yc(i.autoClose,s.autoClose),closeToast(e){l.get(u).removalReason=e,p(u)},deleteToast(){let e=l.get(u);if(null!=e){if(n(Jc(e,"removed")),l.delete(u),o--,o<0&&(o=0),a.length>0)return void h(a.shift());c()}}};v.closeButton=s.closeButton,!1===i.closeButton||Qc(i.closeButton)?v.closeButton=i.closeButton:!0===i.closeButton&&(v.closeButton=!Qc(s.closeButton)||s.closeButton);let b={content:t,props:v,staleId:m};s.limit&&s.limit>0&&o>s.limit&&y?a.push(b):Gc(g)?setTimeout((()=>{h(b)}),g):h(b)},setProps(e){s=e},setToggle:(e,t)=>{let n=l.get(e);n&&(n.toggle=t)},isToastActive:e=>{var t;return null==(t=l.get(e))?void 0:t.isActive},getSnapshot:()=>i}}var ad=new Map,id=[],sd=new Set,ld=e=>sd.forEach((t=>t(e))),ud=()=>ad.size>0;function cd(e,t){var n;if(t)return!(null==(n=ad.get(t))||!n.isToastActive(e));let r=!1;return ad.forEach((t=>{t.isToastActive(e)&&(r=!0)})),r}function dd(e){if(ud()){if(null==e||(e=>qc(e)||Gc(e))(e))ad.forEach((t=>{t.removeToast(e)}));else if(e&&("containerId"in e||"id"in e)){let t=ad.get(e.containerId);t?t.removeToast(e.id):ad.forEach((t=>{t.removeToast(e.id)}))}}else id=id.filter((t=>null!=e&&t.options.toastId!==e))}function pd(e,t){Qc(e)&&(ud()||id.push({content:e,options:t}),ad.forEach((n=>{n.buildToast(e,t)})))}function hd(e,t){ad.forEach((n=>{(null==t||null==t||!t.containerId||(null==t?void 0:t.containerId)===n.id)&&n.toggle(e,null==t?void 0:t.id)}))}function fd(e){let t=e.containerId||1;return{subscribe(n){let r=od(t,e,ld);ad.set(t,r);let o=r.observe(n);return id.forEach((e=>pd(e.content,e.options))),id=[],()=>{o(),ad.delete(t)}},setProps(e){var n;null==(n=ad.get(t))||n.setProps(e)},getSnapshot(){var e;return null==(e=ad.get(t))?void 0:e.getSnapshot()}}}function md(e){return e&&(qc(e.toastId)||Gc(e.toastId))?e.toastId:rd()}function gd(e,t){return pd(e,t),t.toastId}function yd(e,t){return{...t,type:t&&t.type||e,toastId:md(t)}}function vd(e){return(t,n)=>gd(t,yd(e,n))}function bd(e,t){return gd(e,yd("default",t))}function xd(e){let[t,n]=(0,W.useState)(!1),[r,o]=(0,W.useState)(!1),a=(0,W.useRef)(null),i=(0,W.useRef)({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:s,pauseOnHover:l,closeToast:u,onClick:c,closeOnClick:d}=e;function p(){n(!0)}function h(){n(!1)}function f(n){let r=a.current;if(i.canDrag&&r){i.didMove=!0,t&&h(),"x"===e.draggableDirection?i.delta=n.clientX-i.start:i.delta=n.clientY-i.start,i.start!==n.clientX&&(i.canCloseOnClick=!1);let o="x"===e.draggableDirection?`${i.delta}px, var(--y)`:`0, calc(${i.delta}px + var(--y))`;r.style.transform=`translate3d(${o},0)`,r.style.opacity=""+(1-Math.abs(i.delta/i.removalDistance))}}function m(){document.removeEventListener("pointermove",f),document.removeEventListener("pointerup",m);let t=a.current;if(i.canDrag&&i.didMove&&t){if(i.canDrag=!1,Math.abs(i.delta)>i.removalDistance)return o(!0),e.closeToast(!0),void e.collapseAll();t.style.transition="transform 0.2s, opacity 0.2s",t.style.removeProperty("transform"),t.style.removeProperty("opacity")}}(function(e){var t;null==(t=ad.get(e.containerId||1))||t.setToggle(e.id,e.fn)})({id:e.toastId,containerId:e.containerId,fn:n}),(0,W.useEffect)((()=>{if(e.pauseOnFocusLoss)return document.hasFocus()||h(),window.addEventListener("focus",p),window.addEventListener("blur",h),()=>{window.removeEventListener("focus",p),window.removeEventListener("blur",h)}}),[e.pauseOnFocusLoss]);let g={onPointerDown:function(t){if(!0===e.draggable||e.draggable===t.pointerType){i.didMove=!1,document.addEventListener("pointermove",f),document.addEventListener("pointerup",m);let n=a.current;i.canCloseOnClick=!0,i.canDrag=!0,n.style.transition="none","x"===e.draggableDirection?(i.start=t.clientX,i.removalDistance=n.offsetWidth*(e.draggablePercent/100)):(i.start=t.clientY,i.removalDistance=n.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent)/100)}},onPointerUp:function(t){let{top:n,bottom:r,left:o,right:i}=a.current.getBoundingClientRect();"touchend"!==t.nativeEvent.type&&e.pauseOnHover&&t.clientX>=o&&t.clientX<=i&&t.clientY>=n&&t.clientY<=r?h():p()}};return s&&l&&(g.onMouseEnter=h,e.stacked||(g.onMouseLeave=p)),d&&(g.onClick=e=>{c&&c(e),i.canCloseOnClick&&u(!0)}),{playToast:p,pauseToast:h,isRunning:t,preventExitTransition:r,toastRef:a,eventHandlers:g}}bd.loading=(e,t)=>gd(e,yd("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),bd.promise=function(e,t,n){let r,{pending:o,error:a,success:i}=t;o&&(r=qc(o)?bd.loading(o,n):bd.loading(o.render,{...n,...o}));let s={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(e,t,o)=>{if(null==t)return void bd.dismiss(r);let a={type:e,...s,...n,data:o},i=qc(t)?{render:t}:t;return r?bd.update(r,{...a,...i}):bd(i.render,{...a,...i}),o},u=Kc(e)?e():e;return u.then((e=>l("success",i,e))).catch((e=>l("error",a,e))),u},bd.success=vd("success"),bd.info=vd("info"),bd.error=vd("error"),bd.warning=vd("warning"),bd.warn=bd.warning,bd.dark=(e,t)=>gd(e,yd("default",{theme:"dark",...t})),bd.dismiss=function(e){dd(e)},bd.clearWaitingQueue=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};ad.forEach((t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()}))},bd.isActive=cd,bd.update=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=((e,t)=>{let{containerId:n}=t;var r;return null==(r=ad.get(n||1))?void 0:r.toasts.get(e)})(e,t);if(n){let{props:r,content:o}=n,a={delay:100,...r,...t,toastId:t.toastId||e,updateId:rd()};a.toastId!==e&&(a.staleId=e);let i=a.render||o;delete a.render,gd(i,a)}},bd.done=e=>{bd.update(e,{progress:1})},bd.onChange=function(e){return sd.add(e),()=>{sd.delete(e)}},bd.play=e=>hd(!0,e),bd.pause=e=>hd(!1,e);var wd="undefined"!=typeof window?W.useLayoutEffect:W.useEffect,kd=e=>{let{theme:t,type:n,isLoading:r,...o}=e;return W.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===t?"currentColor":`var(--toastify-icon-color-${n})`,...o})};var Sd={info:function(e){return W.createElement(kd,{...e},W.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return W.createElement(kd,{...e},W.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return W.createElement(kd,{...e},W.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return W.createElement(kd,{...e},W.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return W.createElement("div",{className:"Toastify__spinner"})}};function Ad(e){let{theme:t,type:n,isLoading:r,icon:o}=e,a=null,i={theme:t,type:n};return!1===o||(Kc(o)?a=o({...i,isLoading:r}):(0,W.isValidElement)(o)?a=(0,W.cloneElement)(o,i):r?a=Sd.spinner():(e=>e in Sd)(n)&&(a=Sd[n](i))),a}var Cd=e=>{let{isRunning:t,preventExitTransition:n,toastRef:r,eventHandlers:o,playToast:a}=xd(e),{closeButton:i,children:s,autoClose:l,onClick:u,type:c,hideProgressBar:d,closeToast:p,transition:h,position:f,className:m,style:g,progressClassName:y,updateId:v,role:b,progress:x,rtl:w,toastId:k,deleteToast:S,isIn:A,isLoading:C,closeOnClick:T,theme:I,ariaLabel:E}=e,N=(0,Qt.A)("Toastify__toast",`Toastify__toast-theme--${I}`,`Toastify__toast--${c}`,{"Toastify__toast--rtl":w},{"Toastify__toast--close-on-click":T}),O=Kc(m)?m({rtl:w,position:f,type:c,defaultClassName:N}):(0,Qt.A)(N,m),M=Ad(e),D=!!x||!l,R={closeToast:p,type:c,theme:I},P=null;return!1===i||(P=Kc(i)?i(R):(0,W.isValidElement)(i)?(0,W.cloneElement)(i,R):function(e){let{closeToast:t,theme:n,ariaLabel:r="close"}=e;return W.createElement("button",{className:`Toastify__close-button Toastify__close-button--${n}`,type:"button",onClick:e=>{e.stopPropagation(),t(!0)},"aria-label":r},W.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},W.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(R)),W.createElement(h,{isIn:A,done:S,position:f,preventExitTransition:n,nodeRef:r,playToast:a},W.createElement("div",{id:k,tabIndex:0,onClick:u,"data-in":A,className:O,...o,style:g,ref:r,...A&&{role:b,"aria-label":E}},null!=M&&W.createElement("div",{className:(0,Qt.A)("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!C})},M),ed(s,e,!t),P,!e.customProgressBar&&W.createElement(td,{...v&&!D?{key:`p-${v}`}:{},rtl:w,theme:I,delay:l,isRunning:t,isIn:A,closeToast:p,hide:d,type:c,className:y,controlledProgress:D,progress:x||0})))},Td=function(e){return{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:arguments.length>1&&void 0!==arguments[1]&&arguments[1]}},Id=Zc(Td("bounce",!0)),Ed=(Zc(Td("slide",!0)),Zc(Td("zoom")),Zc(Td("flip")),{position:"top-right",transition:Id,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&"KeyT"===e.code});function Nd(e){let t={...Ed,...e},n=e.stacked,[r,o]=(0,W.useState)(!0),a=(0,W.useRef)(null),{getToastToRender:i,isToastActive:s,count:l}=function(e){var t;let{subscribe:n,getSnapshot:r,setProps:o}=(0,W.useRef)(fd(e)).current;o(e);let a=null==(t=(0,W.useSyncExternalStore)(n,r,r))?void 0:t.slice();return{getToastToRender:function(t){if(!a)return[];let n=new Map;return e.newestOnTop&&a.reverse(),a.forEach((e=>{let{position:t}=e.props;n.has(t)||n.set(t,[]),n.get(t).push(e)})),Array.from(n,(e=>t(e[0],e[1])))},isToastActive:cd,count:null==a?void 0:a.length}}(t),{className:u,style:c,rtl:d,containerId:p,hotKeys:h}=t;function f(e){let t=(0,Qt.A)("Toastify__toast-container",`Toastify__toast-container--${e}`,{"Toastify__toast-container--rtl":d});return Kc(u)?u({position:e,rtl:d,defaultClassName:t}):(0,Qt.A)(t,Xc(u))}function m(){n&&(o(!0),bd.play())}return wd((()=>{var e;if(n){let n=a.current.querySelectorAll('[data-in="true"]'),o=12,i=null==(e=t.position)?void 0:e.includes("top"),s=0,l=0;Array.from(n).reverse().forEach(((e,t)=>{let n=e;n.classList.add("Toastify__toast--stacked"),t>0&&(n.dataset.collapsed=`${r}`),n.dataset.pos||(n.dataset.pos=i?"top":"bot");let a=s*(r?.2:1)+(r?0:o*t);n.style.setProperty("--y",`${i?a:-1*a}px`),n.style.setProperty("--g",`${o}`),n.style.setProperty("--s",""+(1-(r?l:0))),s+=n.offsetHeight,l+=.025}))}}),[r,l,n]),(0,W.useEffect)((()=>{function e(e){var t;let n=a.current;h(e)&&(null==(t=n.querySelector('[tabIndex="0"]'))||t.focus(),o(!1),bd.pause()),"Escape"===e.key&&(document.activeElement===n||null!=n&&n.contains(document.activeElement))&&(o(!0),bd.play())}return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}}),[h]),W.createElement("section",{ref:a,className:"Toastify",id:p,onMouseEnter:()=>{n&&(o(!1),bd.pause())},onMouseLeave:m,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},i(((e,t)=>{let r=t.length?{...c}:{...c,pointerEvents:"none"};return W.createElement("div",{tabIndex:-1,className:f(e),"data-stacked":n,style:r,key:`c-${e}`},t.map((e=>{let{content:t,props:r}=e;return W.createElement(Cd,{...r,stacked:n,collapseAll:m,isIn:s(r.toastId,r.containerId),key:`t-${r.key}`},t)})))})))}const Od=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{autoHideDuration:t=null,disableWindowBlurListener:n=!1,onClose:r,open:o,resumeHideDuration:a}=e,i=(0,In.A)();W.useEffect((()=>{if(o)return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)};function e(e){e.defaultPrevented||"Escape"!==e.key&&"Esc"!==e.key||null==r||r(e,"escapeKeyDown")}}),[o,r]);const s=(0,cr.A)(((e,t)=>{null==r||r(e,t)})),l=(0,cr.A)((e=>{r&&null!=e&&i.start(e,(()=>{s(null,"timeout")}))}));W.useEffect((()=>(o&&l(t),i.clear)),[o,t,l,i]);const u=i.clear,c=W.useCallback((()=>{null!=t&&l(null!=a?a:.5*t)}),[t,a,l]),d=e=>t=>{const n=e.onFocus;null==n||n(t),u()},p=e=>t=>{const n=e.onMouseEnter;null==n||n(t),u()},h=e=>t=>{const n=e.onMouseLeave;null==n||n(t),c()};return W.useEffect((()=>{if(!n&&o)return window.addEventListener("focus",c),window.addEventListener("blur",u),()=>{window.removeEventListener("focus",c),window.removeEventListener("blur",u)}}),[n,o,c,u]),{getRootProps:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=(0,Yt.A)({},Wo(e),Wo(t));return(0,Yt.A)({role:"presentation"},t,n,{onBlur:(r=n,e=>{const t=r.onBlur;null==t||t(e),c()}),onFocus:d(n),onMouseEnter:p(n),onMouseLeave:h(n)});var r},onClickAway:e=>{null==r||r(e,"clickaway")}}};function Md(e){return e.substring(2).toLowerCase()}function Dd(e){const{children:t,disableReactTree:n=!1,mouseEvent:r="onClick",onClickAway:o,touchEvent:a="onTouchEnd"}=e,i=W.useRef(!1),s=W.useRef(null),l=W.useRef(!1),u=W.useRef(!1);W.useEffect((()=>(setTimeout((()=>{l.current=!0}),0),()=>{l.current=!1})),[]);const c=(0,lr.A)(_o(t),s),d=(0,cr.A)((e=>{const t=u.current;u.current=!1;const r=(0,Na.A)(s.current);if(!l.current||!s.current||"clientX"in e&&function(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}(e,r))return;if(i.current)return void(i.current=!1);let a;a=e.composedPath?e.composedPath().indexOf(s.current)>-1:!r.documentElement.contains(e.target)||s.current.contains(e.target),a||!n&&t||o(e)})),p=e=>n=>{u.current=!0;const r=t.props[e];r&&r(n)},h={ref:c};return!1!==a&&(h[a]=p(a)),W.useEffect((()=>{if(!1!==a){const e=Md(a),t=(0,Na.A)(s.current),n=()=>{i.current=!0};return t.addEventListener(e,d),t.addEventListener("touchmove",n),()=>{t.removeEventListener(e,d),t.removeEventListener("touchmove",n)}}}),[d,a]),!1!==r&&(h[r]=p(r)),W.useEffect((()=>{if(!1!==r){const e=Md(r),t=(0,Na.A)(s.current);return t.addEventListener(e,d),()=>{t.removeEventListener(e,d)}}}),[d,r]),(0,sn.jsx)(W.Fragment,{children:W.cloneElement(t,h)})}function Rd(e){return(0,on.Ay)("MuiSnackbarContent",e)}(0,rn.A)("MuiSnackbarContent",["root","message","action"]);const Pd=["action","className","message","role"],$d=(0,en.Ay)(cn,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:(e,t)=>t.root})((e=>{let{theme:t}=e;const n="light"===t.palette.mode?.8:.98,r=(0,Jt.tL)(t.palette.background.default,n);return(0,Yt.A)({},t.typography.body2,{color:t.vars?t.vars.palette.SnackbarContent.color:t.palette.getContrastText(r),backgroundColor:t.vars?t.vars.palette.SnackbarContent.bg:r,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,flexGrow:1,[t.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}})})),jd=(0,en.Ay)("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0"}),_d=(0,en.Ay)("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),Fd=W.forwardRef((function(e,t){const n=(0,nn.b)({props:e,name:"MuiSnackbarContent"}),{action:r,className:o,message:a,role:i="alert"}=n,s=(0,Xt.A)(n,Pd),l=n,u=(e=>{const{classes:t}=e;return(0,Zt.A)({root:["root"],action:["action"],message:["message"]},Rd,t)})(l);return(0,sn.jsxs)($d,(0,Yt.A)({role:i,square:!0,elevation:6,className:(0,Qt.A)(u.root,o),ownerState:l,ref:t},s,{children:[(0,sn.jsx)(jd,{className:u.message,ownerState:l,children:a}),r?(0,sn.jsx)(_d,{className:u.action,ownerState:l,children:r}):null]}))}));function Ld(e){return(0,on.Ay)("MuiSnackbar",e)}(0,rn.A)("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const zd=["onEnter","onExited"],Bd=["action","anchorOrigin","autoHideDuration","children","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onBlur","onClose","onFocus","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"],Wd=(0,en.Ay)("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`anchorOrigin${(0,qn.A)(n.anchorOrigin.vertical)}${(0,qn.A)(n.anchorOrigin.horizontal)}`]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,Yt.A)({zIndex:(t.vars||t).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},"top"===n.anchorOrigin.vertical?{top:8}:{bottom:8},"left"===n.anchorOrigin.horizontal&&{justifyContent:"flex-start"},"right"===n.anchorOrigin.horizontal&&{justifyContent:"flex-end"},{[t.breakpoints.up("sm")]:(0,Yt.A)({},"top"===n.anchorOrigin.vertical?{top:24}:{bottom:24},"center"===n.anchorOrigin.horizontal&&{left:"50%",right:"auto",transform:"translateX(-50%)"},"left"===n.anchorOrigin.horizontal&&{left:24,right:"auto"},"right"===n.anchorOrigin.horizontal&&{right:24,left:"auto"})})})),Vd=W.forwardRef((function(e,t){const n=(0,nn.b)({props:e,name:"MuiSnackbar"}),r=xa(),o={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{action:a,anchorOrigin:{vertical:i,horizontal:s}={vertical:"bottom",horizontal:"left"},autoHideDuration:l=null,children:u,className:c,ClickAwayListenerProps:d,ContentProps:p,disableWindowBlurListener:h=!1,message:f,open:m,TransitionComponent:g=Ea,transitionDuration:y=o,TransitionProps:{onEnter:v,onExited:b}={}}=n,x=(0,Xt.A)(n.TransitionProps,zd),w=(0,Xt.A)(n,Bd),k=(0,Yt.A)({},n,{anchorOrigin:{vertical:i,horizontal:s},autoHideDuration:l,disableWindowBlurListener:h,TransitionComponent:g,transitionDuration:y}),S=(e=>{const{classes:t,anchorOrigin:n}=e,r={root:["root",`anchorOrigin${(0,qn.A)(n.vertical)}${(0,qn.A)(n.horizontal)}`]};return(0,Zt.A)(r,Ld,t)})(k),{getRootProps:A,onClickAway:C}=Od((0,Yt.A)({},k)),[T,I]=W.useState(!0),E=qo({elementType:Wd,getSlotProps:A,externalForwardedProps:w,ownerState:k,additionalProps:{ref:t},className:[S.root,c]});return!m&&T?null:(0,sn.jsx)(Dd,(0,Yt.A)({onClickAway:C},d,{children:(0,sn.jsx)(Wd,(0,Yt.A)({},E,{children:(0,sn.jsx)(g,(0,Yt.A)({appear:!0,in:m,timeout:y,direction:"top"===i?"down":"up",onEnter:(e,t)=>{I(!1),v&&v(e,t)},onExited:e=>{I(!0),b&&b(e)}},x,{children:u||(0,sn.jsx)(Fd,(0,Yt.A)({message:f,action:a},p))}))}))}))})),Ud=async(e,t,n,r)=>{try{bd.isActive(e)?bd.update(e,{autoClose:r}):(bd.dismiss(),bd[t](n,{toastId:e,autoClose:r,style:{background:"var(--color-primary)",color:"var(--color-text)"}}))}catch(o){console.error(`\u041e\u0448\u0438\u0431\u043a\u0430 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f toast c ID: ${e}, type: ${t}, text: ${n}, delay: ${r}`,o)}},Hd=(0,W.createContext)(null),Gd=e=>{let{children:t}=e;const[n,r]=(0,W.useState)({open:!1,id:null,type:"info",text:"",delay:3e3}),o=()=>{r((e=>({...e,open:!1})))};return(0,sn.jsxs)(Hd.Provider,{value:{addSnackBar:function(e,t,o){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3e3;n.id===e&&n.open?r((e=>({...e,delay:a}))):r({open:!0,id:e,type:t,text:o,delay:a})}},children:[t,(0,sn.jsx)(Vd,{open:n.open,autoHideDuration:n.delay,onClose:o,anchorOrigin:{vertical:"top",horizontal:"right"},children:(0,sn.jsx)(Bs,{severity:n.type,onClose:o,sx:{background:"#4caf50",color:"#fff"},children:n.text})})]})},qd=async function(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const a=`${"https://lemon-birds-double.loca.lt".replace(/\/$/,"")}/${e.replace(/^\//,"")}`;try{return(await Hc({method:t,url:a,data:n,withCredentials:!0,...o})).data}catch(i){if(i.response&&401===i.response.status){if(await(async()=>{try{return(await Hc.post("https://lemon-birds-double.loca.lt/auth/refresh-token",null,{withCredentials:!0})).data.accessToken}catch(i){Ud("connectionLost","error","\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u043c...!",1e3)}})()){return(await Hc({method:t,url:a,data:n,withCredentials:!0,...o})).data}throw localStorage.setItem("isLoggedIn",!1),Ud("unauthorized","error","\u0412\u043e\u0439\u0434\u0438\u0442\u0435 \u0432 \u0430\u043a\u043a\u0430\u0443\u043d\u0442!",1e3),r("/"),new Error("Token refresh failed")}throw"ERR_NETWORK"===i.code?(Ud("connectionLost","error","\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u043c...!",1e3),localStorage.setItem("isLoggedIn",!1),r("/"),new Error("Connection lost")):i}},Kd=(0,en.Ay)(cn)((e=>{let{theme:t}=e;return{padding:t.spacing(4),borderRadius:"16px",boxShadow:"0px 4px 20px rgba(0, 0, 0, 0.08)",background:"linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%)"}})),Xd=(0,en.Ay)(rr)((e=>{let{theme:t}=e;return{background:"linear-gradient(135deg, #6a11cb 0%, #2575fc 100%)",color:"white",fontWeight:"bold",padding:"12px 32px",borderRadius:"12px",textTransform:"none",fontSize:"16px","&:hover":{background:"linear-gradient(135deg, #5e0ec0 0%, #1e63e9 100%)",boxShadow:"0 6px 20px rgba(106, 17, 203, 0.4)"},"&:disabled":{background:"linear-gradient(135deg, #cccccc 0%, #999999 100%)"}}})),Yd=(0,en.Ay)(rs)((e=>{let{theme:t}=e;return{"& .MuiOutlinedInput-root":{borderRadius:"12px","&:hover fieldset":{borderColor:"#6a11cb"},"&.Mui-focused fieldset":{borderColor:"#2575fc"}}}})),Qd=(0,en.Ay)(Oo)((e=>{let{theme:t}=e;return{"& .MuiOutlinedInput-root":{borderRadius:"12px","&:hover fieldset":{borderColor:"#6a11cb"},"&.Mui-focused fieldset":{borderColor:"#2575fc"}}}})),Zd=()=>{const[e,t]=(0,W.useState)({name:"",birthDate:"",gender:"Male",phone:"",userId:""}),[n,r]=(0,W.useState)(!1),[o,a]=(0,W.useState)(!1),i=(e,n)=>{t((t=>({...t,[e]:n})))};return(0,sn.jsx)(ps,{sx:{p:3,maxWidth:800,margin:"0 auto"},children:(0,sn.jsxs)(Kd,{elevation:0,children:[(0,sn.jsxs)(ps,{sx:{textAlign:"center",mb:4},children:[(0,sn.jsx)(vs,{variant:"h4",sx:{fontWeight:"bold",background:"linear-gradient(135deg, #6a11cb 0%, #2575fc 100%)",backgroundClip:"text",WebkitBackgroundClip:"text",color:"transparent",mb:1},children:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043a\u043b\u0438\u0435\u043d\u0442\u0430"}),(0,sn.jsx)(vs,{variant:"subtitle1",color:"text.secondary",children:"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043e\u0441\u043d\u043e\u0432\u043d\u0443\u044e \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e \u043a\u043b\u0438\u0435\u043d\u0442\u0435"})]}),o&&(0,sn.jsx)(Bs,{severity:"success",sx:{mb:3,borderRadius:"12px",background:"linear-gradient(135deg, #11998e 0%, #38ef7d 100%)",color:"white","& .MuiAlert-icon":{color:"white"}},children:"\u0414\u0430\u043d\u043d\u044b\u0435 \u043a\u043b\u0438\u0435\u043d\u0442\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u044b!"}),(0,sn.jsx)("form",{onSubmit:async n=>{n.preventDefault(),r(!0);try{const n=JSON.parse(localStorage.getItem("user")||"{}"),r=null===n||void 0===n?void 0:n.id;e.userId=r;"\u041a\u043b\u0438\u0435\u043d\u0442 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d"===(await qd("/clients","POST",{form:e})).message?(t({name:"",birthDate:"",gender:"Male",phone:"",userId:""}),a(!0),Ud("acceptedNewClientAdd","success",`${e.name} \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d!`,1e3),setTimeout((()=>a(!1)),3e3)):Ud("connectionLost","error","\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u043c...!",1e3)}catch(o){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0435:",o),Ud("submitError","error","\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0438 \u043a\u043b\u0438\u0435\u043d\u0442\u0430",1e3)}finally{r(!1)}},children:(0,sn.jsxs)(Zs,{container:!0,spacing:3,children:[(0,sn.jsx)(Zs,{item:!0,xs:12,children:(0,sn.jsxs)(vs,{variant:"h6",sx:{mb:2,color:"text.secondary",display:"flex",alignItems:"center",gap:1},children:[(0,sn.jsx)(Al,{color:"primary"}),"\u041e\u0441\u043d\u043e\u0432\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"]})}),(0,sn.jsx)(Zs,{item:!0,xs:12,md:6,children:(0,sn.jsx)(Yd,{fullWidth:!0,label:"\u0418\u043c\u044f",value:e.name,onChange:e=>i("name",e.target.value),required:!0,variant:"outlined",size:"medium",InputProps:{startAdornment:(0,sn.jsx)(Al,{color:"action",sx:{mr:1}})},placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u043e\u043b\u043d\u043e\u0435 \u0438\u043c\u044f"})}),(0,sn.jsx)(Zs,{item:!0,xs:12,md:6,children:(0,sn.jsx)(Yd,{fullWidth:!0,label:"\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f",type:"date",value:e.birthDate,onChange:e=>i("birthDate",e.target.value),InputLabelProps:{shrink:!0},size:"medium",InputProps:{startAdornment:(0,sn.jsx)(Cl,{color:"action",sx:{mr:1}})}})}),(0,sn.jsx)(Zs,{item:!0,xs:12,md:6,children:(0,sn.jsxs)(Qd,{fullWidth:!0,size:"medium",children:[(0,sn.jsx)(Co,{children:"\u041f\u043e\u043b"}),(0,sn.jsxs)(Zi,{value:e.gender,onChange:e=>i("gender",e.target.value),label:"\u041f\u043e\u043b",children:[(0,sn.jsx)(ul,{value:"Male",children:"\u041c\u0443\u0436\u0441\u043a\u043e\u0439"}),(0,sn.jsx)(ul,{value:"Female",children:"\u0416\u0435\u043d\u0441\u043a\u0438\u0439"})]})]})}),(0,sn.jsx)(Zs,{item:!0,xs:12,md:6,children:(0,sn.jsx)(Yd,{fullWidth:!0,label:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d",value:e.phone,onChange:e=>i("phone",e.target.value),required:!0,size:"medium",InputProps:{startAdornment:(0,sn.jsx)(Tl,{color:"action",sx:{mr:1}})},placeholder:"+7 (XXX) XXX-XX-XX"})}),(0,sn.jsx)(Zs,{item:!0,xs:12,sx:{mt:2},children:(0,sn.jsx)(Xd,{type:"submit",size:"large",fullWidth:!0,disabled:n,startIcon:n?(0,sn.jsx)(Sl,{size:20,color:"inherit"}):(0,sn.jsx)(Il,{}),sx:{height:"56px",fontSize:"16px",fontWeight:"600"},children:n?"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435...":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043b\u0438\u0435\u043d\u0442\u0430"})})]})}),(e.name||e.phone)&&(0,sn.jsxs)(ps,{sx:{mt:4,p:3,borderRadius:"12px",bgcolor:"grey.50"},children:[(0,sn.jsx)(vs,{variant:"h6",sx:{mb:2,color:"text.secondary"},children:"\u041f\u0440\u0435\u0434\u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0434\u0430\u043d\u043d\u044b\u0445"}),(0,sn.jsxs)(Zs,{container:!0,spacing:2,children:[e.name&&(0,sn.jsxs)(Zs,{item:!0,xs:12,sm:6,children:[(0,sn.jsx)(vs,{variant:"body2",color:"text.secondary",children:"\u0418\u043c\u044f"}),(0,sn.jsx)(vs,{variant:"body1",fontWeight:"500",children:e.name})]}),e.birthDate&&(0,sn.jsxs)(Zs,{item:!0,xs:12,sm:6,children:[(0,sn.jsx)(vs,{variant:"body2",color:"text.secondary",children:"\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f"}),(0,sn.jsx)(vs,{variant:"body1",fontWeight:"500",children:new Date(e.birthDate).toLocaleDateString("ru-RU")})]}),e.gender&&(0,sn.jsxs)(Zs,{item:!0,xs:12,sm:6,children:[(0,sn.jsx)(vs,{variant:"body2",color:"text.secondary",children:"\u041f\u043e\u043b"}),(0,sn.jsx)(vs,{variant:"body1",fontWeight:"500",children:"Male"===e.gender?"\u041c\u0443\u0436\u0441\u043a\u043e\u0439":"\u0416\u0435\u043d\u0441\u043a\u0438\u0439"})]}),e.phone&&(0,sn.jsxs)(Zs,{item:!0,xs:12,sm:6,children:[(0,sn.jsx)(vs,{variant:"body2",color:"text.secondary",children:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"}),(0,sn.jsx)(vs,{variant:"body1",fontWeight:"500",children:e.phone})]})]})]})]})})},Jd=e=>{let{user:t}=e;return(0,sn.jsx)(sn.Fragment,{children:(0,sn.jsx)(Zd,{})})};function ep(e){return(0,on.Ay)("MuiAppBar",e)}(0,rn.A)("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const tp=["className","color","enableColorOnDark","position"],np=(e,t)=>e?`${null==e?void 0:e.replace(")","")}, ${t})`:t,rp=(0,en.Ay)(cn,{name:"MuiAppBar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`position${(0,qn.A)(n.position)}`],t[`color${(0,qn.A)(n.color)}`]]}})((e=>{let{theme:t,ownerState:n}=e;const r="light"===t.palette.mode?t.palette.grey[100]:t.palette.grey[900];return(0,Yt.A)({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},"fixed"===n.position&&{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},"absolute"===n.position&&{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},"sticky"===n.position&&{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},"static"===n.position&&{position:"static"},"relative"===n.position&&{position:"relative"},!t.vars&&(0,Yt.A)({},"default"===n.color&&{backgroundColor:r,color:t.palette.getContrastText(r)},n.color&&"default"!==n.color&&"inherit"!==n.color&&"transparent"!==n.color&&{backgroundColor:t.palette[n.color].main,color:t.palette[n.color].contrastText},"inherit"===n.color&&{color:"inherit"},"dark"===t.palette.mode&&!n.enableColorOnDark&&{backgroundColor:null,color:null},"transparent"===n.color&&(0,Yt.A)({backgroundColor:"transparent",color:"inherit"},"dark"===t.palette.mode&&{backgroundImage:"none"})),t.vars&&(0,Yt.A)({},"default"===n.color&&{"--AppBar-background":n.enableColorOnDark?t.vars.palette.AppBar.defaultBg:np(t.vars.palette.AppBar.darkBg,t.vars.palette.AppBar.defaultBg),"--AppBar-color":n.enableColorOnDark?t.vars.palette.text.primary:np(t.vars.palette.AppBar.darkColor,t.vars.palette.text.primary)},n.color&&!n.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":n.enableColorOnDark?t.vars.palette[n.color].main:np(t.vars.palette.AppBar.darkBg,t.vars.palette[n.color].main),"--AppBar-color":n.enableColorOnDark?t.vars.palette[n.color].contrastText:np(t.vars.palette.AppBar.darkColor,t.vars.palette[n.color].contrastText)},!["inherit","transparent"].includes(n.color)&&{backgroundColor:"var(--AppBar-background)"},{color:"inherit"===n.color?"inherit":"var(--AppBar-color)"},"transparent"===n.color&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))})),op=W.forwardRef((function(e,t){const n=(0,nn.b)({props:e,name:"MuiAppBar"}),{className:r,color:o="primary",enableColorOnDark:a=!1,position:i="fixed"}=n,s=(0,Xt.A)(n,tp),l=(0,Yt.A)({},n,{color:o,position:i,enableColorOnDark:a}),u=(e=>{const{color:t,position:n,classes:r}=e,o={root:["root",`color${(0,qn.A)(t)}`,`position${(0,qn.A)(n)}`]};return(0,Zt.A)(o,ep,r)})(l);return(0,sn.jsx)(rp,(0,Yt.A)({square:!0,component:"header",ownerState:l,elevation:4,className:(0,Qt.A)(u.root,r,"fixed"===i&&"mui-fixed"),ref:t},s))}));function ap(e){return(0,on.Ay)("MuiToolbar",e)}(0,rn.A)("MuiToolbar",["root","gutters","regular","dense"]);const ip=["className","component","disableGutters","variant"],sp=(0,en.Ay)("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableGutters&&t.gutters,t[n.variant]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,Yt.A)({position:"relative",display:"flex",alignItems:"center"},!n.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}},"dense"===n.variant&&{minHeight:48})}),(e=>{let{theme:t,ownerState:n}=e;return"regular"===n.variant&&t.mixins.toolbar})),lp=W.forwardRef((function(e,t){const n=(0,nn.b)({props:e,name:"MuiToolbar"}),{className:r,component:o="div",disableGutters:a=!1,variant:i="regular"}=n,s=(0,Xt.A)(n,ip),l=(0,Yt.A)({},n,{component:o,disableGutters:a,variant:i}),u=(e=>{const{classes:t,disableGutters:n,variant:r}=e,o={root:["root",!n&&"gutters",r]};return(0,Zt.A)(o,ap,t)})(l);return(0,sn.jsx)(sp,(0,Yt.A)({as:o,className:(0,Qt.A)(u.root,r),ref:t,ownerState:l},s))})),up=(0,Vi.A)((0,sn.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function cp(e){return(0,on.Ay)("MuiAvatar",e)}(0,rn.A)("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const dp=["alt","children","className","component","slots","slotProps","imgProps","sizes","src","srcSet","variant"],pp=(0,en.Ay)("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],n.colorDefault&&t.colorDefault]}})((e=>{let{theme:t}=e;return{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:(0,Yt.A)({color:(t.vars||t).palette.background.default},t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:(0,Yt.A)({backgroundColor:t.palette.grey[400]},t.applyStyles("dark",{backgroundColor:t.palette.grey[600]})))}]}})),hp=(0,en.Ay)("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(e,t)=>t.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),fp=(0,en.Ay)(up,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(e,t)=>t.fallback})({width:"75%",height:"75%"});const mp=W.forwardRef((function(e,t){const n=(0,nn.b)({props:e,name:"MuiAvatar"}),{alt:r,children:o,className:a,component:i="div",slots:s={},slotProps:l={},imgProps:u,sizes:c,src:d,srcSet:p,variant:h="circular"}=n,f=(0,Xt.A)(n,dp);let m=null;const g=function(e){let{crossOrigin:t,referrerPolicy:n,src:r,srcSet:o}=e;const[a,i]=W.useState(!1);return W.useEffect((()=>{if(!r&&!o)return;i(!1);let e=!0;const a=new Image;return a.onload=()=>{e&&i("loaded")},a.onerror=()=>{e&&i("error")},a.crossOrigin=t,a.referrerPolicy=n,a.src=r,o&&(a.srcset=o),()=>{e=!1}}),[t,n,r,o]),a}((0,Yt.A)({},u,{src:d,srcSet:p})),y=d||p,v=y&&"error"!==g,b=(0,Yt.A)({},n,{colorDefault:!v,component:i,variant:h}),x=(e=>{const{classes:t,variant:n,colorDefault:r}=e,o={root:["root",n,r&&"colorDefault"],img:["img"],fallback:["fallback"]};return(0,Zt.A)(o,cp,t)})(b),[w,k]=ks("img",{className:x.img,elementType:hp,externalForwardedProps:{slots:s,slotProps:{img:(0,Yt.A)({},u,l.img)}},additionalProps:{alt:r,src:d,srcSet:p,sizes:c},ownerState:b});return m=v?(0,sn.jsx)(w,(0,Yt.A)({},k)):o||0===o?o:y&&r?r[0]:(0,sn.jsx)(fp,{ownerState:b,className:x.fallback}),(0,sn.jsx)(pp,(0,Yt.A)({as:i,ownerState:b,className:(0,Qt.A)(x.root,a),ref:t},f,{children:m}))})),gp=(0,Vi.A)((0,sn.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function yp(e){return(0,on.Ay)("MuiChip",e)}const vp=(0,rn.A)("MuiChip",["root","sizeSmall","sizeMedium","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),bp=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled"],xp=(0,en.Ay)("div",{name:"MuiChip",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{color:r,iconColor:o,clickable:a,onDelete:i,size:s,variant:l}=n;return[{[`& .${vp.avatar}`]:t.avatar},{[`& .${vp.avatar}`]:t[`avatar${(0,qn.A)(s)}`]},{[`& .${vp.avatar}`]:t[`avatarColor${(0,qn.A)(r)}`]},{[`& .${vp.icon}`]:t.icon},{[`& .${vp.icon}`]:t[`icon${(0,qn.A)(s)}`]},{[`& .${vp.icon}`]:t[`iconColor${(0,qn.A)(o)}`]},{[`& .${vp.deleteIcon}`]:t.deleteIcon},{[`& .${vp.deleteIcon}`]:t[`deleteIcon${(0,qn.A)(s)}`]},{[`& .${vp.deleteIcon}`]:t[`deleteIconColor${(0,qn.A)(r)}`]},{[`& .${vp.deleteIcon}`]:t[`deleteIcon${(0,qn.A)(l)}Color${(0,qn.A)(r)}`]},t.root,t[`size${(0,qn.A)(s)}`],t[`color${(0,qn.A)(r)}`],a&&t.clickable,a&&"default"!==r&&t[`clickableColor${(0,qn.A)(r)})`],i&&t.deletable,i&&"default"!==r&&t[`deletableColor${(0,qn.A)(r)}`],t[l],t[`${l}${(0,qn.A)(r)}`]]}})((e=>{let{theme:t,ownerState:n}=e;const r="light"===t.palette.mode?t.palette.grey[700]:t.palette.grey[300];return(0,Yt.A)({maxWidth:"100%",fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(t.vars||t).palette.text.primary,backgroundColor:(t.vars||t).palette.action.selected,borderRadius:16,whiteSpace:"nowrap",transition:t.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${vp.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${vp.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:t.vars?t.vars.palette.Chip.defaultAvatarColor:r,fontSize:t.typography.pxToRem(12)},[`& .${vp.avatarColorPrimary}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.dark},[`& .${vp.avatarColorSecondary}`]:{color:(t.vars||t).palette.secondary.contrastText,backgroundColor:(t.vars||t).palette.secondary.dark},[`& .${vp.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:t.typography.pxToRem(10)},[`& .${vp.icon}`]:(0,Yt.A)({marginLeft:5,marginRight:-6},"small"===n.size&&{fontSize:18,marginLeft:4,marginRight:-4},n.iconColor===n.color&&(0,Yt.A)({color:t.vars?t.vars.palette.Chip.defaultIconColor:r},"default"!==n.color&&{color:"inherit"})),[`& .${vp.deleteIcon}`]:(0,Yt.A)({WebkitTapHighlightColor:"transparent",color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.26)`:(0,Jt.X4)(t.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.4)`:(0,Jt.X4)(t.palette.text.primary,.4)}},"small"===n.size&&{fontSize:16,marginRight:4,marginLeft:-4},"default"!==n.color&&{color:t.vars?`rgba(${t.vars.palette[n.color].contrastTextChannel} / 0.7)`:(0,Jt.X4)(t.palette[n.color].contrastText,.7),"&:hover, &:active":{color:(t.vars||t).palette[n.color].contrastText}})},"small"===n.size&&{height:24},"default"!==n.color&&{backgroundColor:(t.vars||t).palette[n.color].main,color:(t.vars||t).palette[n.color].contrastText},n.onDelete&&{[`&.${vp.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:(0,Jt.X4)(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},n.onDelete&&"default"!==n.color&&{[`&.${vp.focusVisible}`]:{backgroundColor:(t.vars||t).palette[n.color].dark}})}),(e=>{let{theme:t,ownerState:n}=e;return(0,Yt.A)({},n.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:(0,Jt.X4)(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)},[`&.${vp.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:(0,Jt.X4)(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)},"&:active":{boxShadow:(t.vars||t).shadows[1]}},n.clickable&&"default"!==n.color&&{[`&:hover, &.${vp.focusVisible}`]:{backgroundColor:(t.vars||t).palette[n.color].dark}})}),(e=>{let{theme:t,ownerState:n}=e;return(0,Yt.A)({},"outlined"===n.variant&&{backgroundColor:"transparent",border:t.vars?`1px solid ${t.vars.palette.Chip.defaultBorder}`:`1px solid ${"light"===t.palette.mode?t.palette.grey[400]:t.palette.grey[700]}`,[`&.${vp.clickable}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${vp.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`& .${vp.avatar}`]:{marginLeft:4},[`& .${vp.avatarSmall}`]:{marginLeft:2},[`& .${vp.icon}`]:{marginLeft:4},[`& .${vp.iconSmall}`]:{marginLeft:2},[`& .${vp.deleteIcon}`]:{marginRight:5},[`& .${vp.deleteIconSmall}`]:{marginRight:3}},"outlined"===n.variant&&"default"!==n.color&&{color:(t.vars||t).palette[n.color].main,border:`1px solid ${t.vars?`rgba(${t.vars.palette[n.color].mainChannel} / 0.7)`:(0,Jt.X4)(t.palette[n.color].main,.7)}`,[`&.${vp.clickable}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[n.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,Jt.X4)(t.palette[n.color].main,t.palette.action.hoverOpacity)},[`&.${vp.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[n.color].mainChannel} / ${t.vars.palette.action.focusOpacity})`:(0,Jt.X4)(t.palette[n.color].main,t.palette.action.focusOpacity)},[`& .${vp.deleteIcon}`]:{color:t.vars?`rgba(${t.vars.palette[n.color].mainChannel} / 0.7)`:(0,Jt.X4)(t.palette[n.color].main,.7),"&:hover, &:active":{color:(t.vars||t).palette[n.color].main}}})})),wp=(0,en.Ay)("span",{name:"MuiChip",slot:"Label",overridesResolver:(e,t)=>{const{ownerState:n}=e,{size:r}=n;return[t.label,t[`label${(0,qn.A)(r)}`]]}})((e=>{let{ownerState:t}=e;return(0,Yt.A)({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},"outlined"===t.variant&&{paddingLeft:11,paddingRight:11},"small"===t.size&&{paddingLeft:8,paddingRight:8},"small"===t.size&&"outlined"===t.variant&&{paddingLeft:7,paddingRight:7})}));function kp(e){return"Backspace"===e.key||"Delete"===e.key}const Sp=W.forwardRef((function(e,t){const n=(0,nn.b)({props:e,name:"MuiChip"}),{avatar:r,className:o,clickable:a,color:i="default",component:s,deleteIcon:l,disabled:u=!1,icon:c,label:d,onClick:p,onDelete:h,onKeyDown:f,onKeyUp:m,size:g="medium",variant:y="filled",tabIndex:v,skipFocusWhenDisabled:b=!1}=n,x=(0,Xt.A)(n,bp),w=W.useRef(null),k=(0,hn.A)(w,t),S=e=>{e.stopPropagation(),h&&h(e)},A=!(!1===a||!p)||a,C=A||h?Gn:s||"div",T=(0,Yt.A)({},n,{component:C,disabled:u,size:g,color:i,iconColor:W.isValidElement(c)&&c.props.color||i,onDelete:!!h,clickable:A,variant:y}),I=(e=>{const{classes:t,disabled:n,size:r,color:o,iconColor:a,onDelete:i,clickable:s,variant:l}=e,u={root:["root",l,n&&"disabled",`size${(0,qn.A)(r)}`,`color${(0,qn.A)(o)}`,s&&"clickable",s&&`clickableColor${(0,qn.A)(o)}`,i&&"deletable",i&&`deletableColor${(0,qn.A)(o)}`,`${l}${(0,qn.A)(o)}`],label:["label",`label${(0,qn.A)(r)}`],avatar:["avatar",`avatar${(0,qn.A)(r)}`,`avatarColor${(0,qn.A)(o)}`],icon:["icon",`icon${(0,qn.A)(r)}`,`iconColor${(0,qn.A)(a)}`],deleteIcon:["deleteIcon",`deleteIcon${(0,qn.A)(r)}`,`deleteIconColor${(0,qn.A)(o)}`,`deleteIcon${(0,qn.A)(l)}Color${(0,qn.A)(o)}`]};return(0,Zt.A)(u,yp,t)})(T),E=C===Gn?(0,Yt.A)({component:s||"div",focusVisibleClassName:I.focusVisible},h&&{disableRipple:!0}):{};let N=null;h&&(N=l&&W.isValidElement(l)?W.cloneElement(l,{className:(0,Qt.A)(l.props.className,I.deleteIcon),onClick:S}):(0,sn.jsx)(gp,{className:(0,Qt.A)(I.deleteIcon),onClick:S}));let O=null;r&&W.isValidElement(r)&&(O=W.cloneElement(r,{className:(0,Qt.A)(I.avatar,r.props.className)}));let M=null;return c&&W.isValidElement(c)&&(M=W.cloneElement(c,{className:(0,Qt.A)(I.icon,c.props.className)})),(0,sn.jsxs)(xp,(0,Yt.A)({as:C,className:(0,Qt.A)(I.root,o),disabled:!(!A||!u)||void 0,onClick:p,onKeyDown:e=>{e.currentTarget===e.target&&kp(e)&&e.preventDefault(),f&&f(e)},onKeyUp:e=>{e.currentTarget===e.target&&(h&&kp(e)?h(e):"Escape"===e.key&&w.current&&w.current.blur()),m&&m(e)},ref:k,tabIndex:b&&u?-1:v,ownerState:T},E,x,{children:[O||M,(0,sn.jsx)(wp,{className:(0,Qt.A)(I.label),ownerState:T,children:d}),N]}))}));var Ap=n(7919),Cp=n(9611),Tp=n(8082);const Ip="#6a1b9a",Ep="#ffab00",Np="#ffffff",Op="#1a237e",Mp=(0,en.Ay)(op)({background:`linear-gradient(135deg, ${Ip} 0%, ${Op} 100%)`,boxShadow:"0 2px 12px rgba(0, 0, 0, 0.1)"}),Dp=(0,en.Ay)(rr)({color:Np,fontWeight:600,padding:"8px 20px",borderRadius:"20px",margin:"0 4px",transition:"all 0.3s ease","&:hover":{transform:"translateY(-2px)",backgroundColor:"rgba(255, 255, 255, 0.15)"}}),Rp=(0,en.Ay)(rr)({color:Op,fontWeight:700,padding:"10px 24px",borderRadius:"20px",background:Ep,boxShadow:"0 2px 10px rgba(255, 171, 0, 0.3)",transition:"all 0.3s ease","&:hover":{transform:"translateY(-2px)",boxShadow:"0 4px 15px rgba(255, 171, 0, 0.4)",background:"#ff8f00"}}),Pp=e=>{let{user:t}=e;const[n,r]=(0,W.useState)(null),[o,a]=(0,W.useState)(null),i=async()=>{await qd("/users/refresh-events","GET");r(null),a(null)};return(0,sn.jsx)(Mp,{position:"sticky",children:(0,sn.jsxs)(lp,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",height:"80px",maxWidth:"1400px",margin:"0 auto",width:"100%",px:{xs:2,sm:4}},children:[(0,sn.jsxs)(ps,{sx:{display:"flex",alignItems:"center"},children:[(0,sn.jsx)(mp,{sx:{mr:2,bgcolor:Ep,color:Op,width:44,height:44},children:(0,sn.jsx)(Ap.A,{})}),(0,sn.jsx)(vs,{variant:"h5",component:"div",sx:{color:Np,fontWeight:800,letterSpacing:"1px",fontFamily:'"Bangers", cursive',display:{xs:"none",sm:"block"}},children:"YouFit"})]}),(0,sn.jsxs)(ps,{sx:{display:{xs:"none",md:"flex"},alignItems:"center"},children:[(0,sn.jsx)(Dp,{component:Wt,to:"/MainPage",children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"}),(0,sn.jsxs)(Dp,{component:Wt,to:"/allClients",children:["\u0411\u0430\u043d\u0434\u042e\u043b\u0438",(0,sn.jsx)(Sp,{label:"24",size:"small",sx:{ml:1,color:Np,bgcolor:"rgba(255,255,255,0.2)",fontSize:"0.75rem"}})]}),(0,sn.jsx)(Dp,{component:Wt,to:"/trainingCalendar",children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"}),(0,sn.jsx)(Dp,{component:Wt,to:"/payPage",children:"\u041e\u043f\u043b\u0430\u0442\u0430"}),(0,sn.jsx)(Dp,{component:Wt,to:"/generateProgramm",children:"\u0413\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c"})]}),(0,sn.jsxs)(ps,{sx:{display:"flex",alignItems:"center"},children:[(0,sn.jsx)(Rp,{component:Wt,to:"/addClient",sx:{display:{xs:"none",sm:"flex"},mr:2},children:"+ \u041d\u043e\u0432\u044b\u0439"}),(0,sn.jsx)(Ns,{color:"inherit",onClick:e=>{a(e.currentTarget)},sx:{display:{xs:"none",md:"flex"},ml:1},children:(0,sn.jsx)(Tp.A,{})}),(0,sn.jsx)(Ns,{color:"inherit",edge:"end",onClick:e=>{r(e.currentTarget)},sx:{display:{md:"none"}},children:(0,sn.jsx)(Cp.A,{})}),(0,sn.jsx)(Rp,{onClick:()=>{localStorage.removeItem("user"),localStorage.removeItem("refresh_token"),window.location.href="/"},sx:{display:{xs:"none",sm:"flex"},ml:2,backgroundColor:"#ef5350",color:"white","&:hover":{backgroundColor:"#d32f2f"}},children:"\u0412\u044b\u0439\u0442\u0438"})]}),(0,sn.jsxs)(wi,{anchorEl:n,open:Boolean(n),onClose:i,PaperProps:{sx:{mt:5,minWidth:200,borderRadius:"12px",background:`linear-gradient(135deg, ${Ip} 0%, ${Op} 100%)`,color:Np}},children:[(0,sn.jsx)(ul,{component:Wt,to:"/MainPage",onClick:i,sx:{fontWeight:600},children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"}),(0,sn.jsxs)(ul,{component:Wt,to:"/allClients",onClick:i,sx:{fontWeight:600},children:["\u0411\u0430\u043d\u0434\u042e\u043b\u0438",(0,sn.jsx)(Sp,{label:"24",size:"small",sx:{ml:1,color:Np,bgcolor:"rgba(255,255,255,0.2)"}})]}),(0,sn.jsx)(ul,{component:Wt,to:"/trainingCalendar",onClick:i,sx:{fontWeight:600},children:"\u0413\u0440\u0430\u0444\u0438\u043a \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043e\u043a"}),(0,sn.jsx)(ul,{component:Wt,to:"/calculators",onClick:i,sx:{fontWeight:600},children:"\u041a\u0430\u043b\u044c\u043a\u0443\u043b\u044f\u0442\u043e\u0440\u044b"}),(0,sn.jsx)(ul,{component:Wt,to:"/calories",onClick:i,sx:{fontWeight:600},children:"\u041a\u0430\u043b\u043e\u0440\u0438\u0438"}),(0,sn.jsx)(ul,{component:Wt,to:"/addClient",onClick:i,sx:{fontWeight:700,color:Op,background:Ep,mt:1,borderRadius:"8px","&:hover":{background:"#ff8f00"}},children:"+ \u041d\u043e\u0432\u044b\u0439 \u043a\u043b\u0438\u0435\u043d\u0442"})]}),(0,sn.jsxs)(wi,{anchorEl:o,open:Boolean(o),onClose:i,PaperProps:{sx:{mt:5,minWidth:180,borderRadius:"12px",background:`linear-gradient(135deg, ${Ip} 0%, ${Op} 100%)`,color:Np}},children:[(0,sn.jsx)(ul,{component:Wt,to:"/calculators",onClick:i,children:"\u041a\u0430\u043b\u044c\u043a\u0443\u043b\u044f\u0442\u043e\u0440\u044b"}),(0,sn.jsx)(ul,{component:Wt,to:"/calories",onClick:i,children:"\u041a\u0430\u043b\u043e\u0440\u0438\u0438"}),(0,sn.jsx)(ul,{component:Wt,to:"/settings",onClick:i,children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"})]})]})})};function $p(e){return(0,on.Ay)("MuiCard",e)}(0,rn.A)("MuiCard",["root"]);const jp=["className","raised"],_p=(0,en.Ay)(cn,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({overflow:"hidden"}))),Fp=W.forwardRef((function(e,t){const n=(0,nn.b)({props:e,name:"MuiCard"}),{className:r,raised:o=!1}=n,a=(0,Xt.A)(n,jp),i=(0,Yt.A)({},n,{raised:o}),s=(e=>{const{classes:t}=e;return(0,Zt.A)({root:["root"]},$p,t)})(i);return(0,sn.jsx)(_p,(0,Yt.A)({className:(0,Qt.A)(s.root,r),elevation:o?8:void 0,ref:t,ownerState:i},a))}));function Lp(e){return(0,on.Ay)("MuiCardContent",e)}(0,rn.A)("MuiCardContent",["root"]);const zp=["className","component"],Bp=(0,en.Ay)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({padding:16,"&:last-child":{paddingBottom:24}}))),Wp=W.forwardRef((function(e,t){const n=(0,nn.b)({props:e,name:"MuiCardContent"}),{className:r,component:o="div"}=n,a=(0,Xt.A)(n,zp),i=(0,Yt.A)({},n,{component:o}),s=(e=>{const{classes:t}=e;return(0,Zt.A)({root:["root"]},Lp,t)})(i);return(0,sn.jsx)(Bp,(0,Yt.A)({as:o,className:(0,Qt.A)(s.root,r),ownerState:i,ref:t},a))})),Vp=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],Up=(0,en.Ay)("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.absolute&&t.absolute,t[n.variant],n.light&&t.light,"vertical"===n.orientation&&t.vertical,n.flexItem&&t.flexItem,n.children&&t.withChildren,n.children&&"vertical"===n.orientation&&t.withChildrenVertical,"right"===n.textAlign&&"vertical"!==n.orientation&&t.textAlignRight,"left"===n.textAlign&&"vertical"!==n.orientation&&t.textAlignLeft]}})((e=>{let{theme:t,ownerState:n}=e;return(0,Yt.A)({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin"},n.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},n.light&&{borderColor:t.vars?`rgba(${t.vars.palette.dividerChannel} / 0.08)`:(0,Jt.X4)(t.palette.divider,.08)},"inset"===n.variant&&{marginLeft:72},"middle"===n.variant&&"horizontal"===n.orientation&&{marginLeft:t.spacing(2),marginRight:t.spacing(2)},"middle"===n.variant&&"vertical"===n.orientation&&{marginTop:t.spacing(1),marginBottom:t.spacing(1)},"vertical"===n.orientation&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},n.flexItem&&{alignSelf:"stretch",height:"auto"})}),(e=>{let{ownerState:t}=e;return(0,Yt.A)({},t.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}})}),(e=>{let{theme:t,ownerState:n}=e;return(0,Yt.A)({},n.children&&"vertical"!==n.orientation&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(t.vars||t).palette.divider}`,borderTopStyle:"inherit"}})}),(e=>{let{theme:t,ownerState:n}=e;return(0,Yt.A)({},n.children&&"vertical"===n.orientation&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(t.vars||t).palette.divider}`,borderLeftStyle:"inherit"}})}),(e=>{let{ownerState:t}=e;return(0,Yt.A)({},"right"===t.textAlign&&"vertical"!==t.orientation&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},"left"===t.textAlign&&"vertical"!==t.orientation&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})})),Hp=(0,en.Ay)("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.wrapper,"vertical"===n.orientation&&t.wrapperVertical]}})((e=>{let{theme:t,ownerState:n}=e;return(0,Yt.A)({display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`},"vertical"===n.orientation&&{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`})})),Gp=W.forwardRef((function(e,t){const n=(0,nn.b)({props:e,name:"MuiDivider"}),{absolute:r=!1,children:o,className:a,component:i=(o?"div":"hr"),flexItem:s=!1,light:l=!1,orientation:u="horizontal",role:c=("hr"!==i?"separator":void 0),textAlign:d="center",variant:p="fullWidth"}=n,h=(0,Xt.A)(n,Vp),f=(0,Yt.A)({},n,{absolute:r,component:i,flexItem:s,light:l,orientation:u,role:c,textAlign:d,variant:p}),m=(e=>{const{absolute:t,children:n,classes:r,flexItem:o,light:a,orientation:i,textAlign:s,variant:l}=e,u={root:["root",t&&"absolute",l,a&&"light","vertical"===i&&"vertical",o&&"flexItem",n&&"withChildren",n&&"vertical"===i&&"withChildrenVertical","right"===s&&"vertical"!==i&&"textAlignRight","left"===s&&"vertical"!==i&&"textAlignLeft"],wrapper:["wrapper","vertical"===i&&"wrapperVertical"]};return(0,Zt.A)(u,Js,r)})(f);return(0,sn.jsx)(Up,(0,Yt.A)({as:i,className:(0,Qt.A)(m.root,a),role:c,ref:t,ownerState:f},h,{children:o?(0,sn.jsx)(Hp,{className:m.wrapper,ownerState:f,children:o}):null}))}));Gp.muiSkipListHighlight=!0;const qp=Gp;var Kp=n(1052);const Xp=e=>{const t=W.useRef({});return W.useEffect((()=>{t.current=e})),t.current};function Yp(e){return"undefined"!==typeof e.normalize?e.normalize("NFD").replace(/[\u0300-\u036f]/g,""):e}function Qp(e,t){for(let n=0;n<e.length;n+=1)if(t(e[n]))return n;return-1}const Zp=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{ignoreAccents:t=!0,ignoreCase:n=!0,limit:r,matchFrom:o="any",stringify:a,trim:i=!1}=e;return(e,s)=>{let{inputValue:l,getOptionLabel:u}=s,c=i?l.trim():l;n&&(c=c.toLowerCase()),t&&(c=Yp(c));const d=c?e.filter((e=>{let r=(a||u)(e);return n&&(r=r.toLowerCase()),t&&(r=Yp(r)),"start"===o?0===r.indexOf(c):r.indexOf(c)>-1})):e;return"number"===typeof r?d.slice(0,r):d}}(),Jp=e=>{var t;return null!==e.current&&(null==(t=e.current.parentElement)?void 0:t.contains(document.activeElement))},eh=[];const th=function(e){const{unstable_isActiveElementInListbox:t=Jp,unstable_classNamePrefix:n="Mui",autoComplete:r=!1,autoHighlight:o=!1,autoSelect:a=!1,blurOnSelect:i=!1,clearOnBlur:s=!e.freeSolo,clearOnEscape:l=!1,componentName:u="useAutocomplete",defaultValue:c=(e.multiple?eh:null),disableClearable:d=!1,disableCloseOnSelect:p=!1,disabled:h,disabledItemsFocusable:f=!1,disableListWrap:m=!1,filterOptions:g=Zp,filterSelectedOptions:y=!1,freeSolo:v=!1,getOptionDisabled:b,getOptionKey:x,getOptionLabel:w=e=>{var t;return null!=(t=e.label)?t:e},groupBy:k,handleHomeEndKeys:S=!e.freeSolo,id:A,includeInputInList:C=!1,inputValue:T,isOptionEqualToValue:I=(e,t)=>e===t,multiple:E=!1,onChange:N,onClose:O,onHighlightChange:M,onInputChange:D,onOpen:R,open:P,openOnFocus:$=!1,options:j,readOnly:_=!1,selectOnFocus:F=!e.freeSolo,value:L}=e,z=(0,or.A)(A);let B=w;B=e=>{const t=w(e);return"string"!==typeof t?String(t):t};const V=W.useRef(!1),U=W.useRef(!0),H=W.useRef(null),G=W.useRef(null),[q,K]=W.useState(null),[X,Y]=W.useState(-1),Q=o?0:-1,Z=W.useRef(Q),[J,ee]=(0,Kp.A)({controlled:L,default:c,name:u}),[te,ne]=(0,Kp.A)({controlled:T,default:"",name:u,state:"inputValue"}),[re,oe]=W.useState(!1),ae=W.useCallback(((e,t)=>{if(!(E?J.length<t.length:null!==t)&&!s)return;let n;if(E)n="";else if(null==t)n="";else{const e=B(t);n="string"===typeof e?e:""}te!==n&&(ne(n),D&&D(e,n,"reset"))}),[B,te,E,D,ne,s,J]),[ie,se]=(0,Kp.A)({controlled:P,default:!1,name:u,state:"open"}),[le,ue]=W.useState(!0),ce=!E&&null!=J&&te===B(J),de=ie&&!_,pe=de?g(j.filter((e=>!y||!(E?J:[J]).some((t=>null!==t&&I(e,t))))),{inputValue:ce&&le?"":te,getOptionLabel:B}):[],he=Xp({filteredOptions:pe,value:J,inputValue:te});W.useEffect((()=>{const e=J!==he.value;re&&!e||v&&!e||ae(null,J)}),[J,ae,re,he.value,v]);const fe=ie&&pe.length>0&&!_,me=(0,cr.A)((e=>{-1===e?H.current.focus():q.querySelector(`[data-tag-index="${e}"]`).focus()}));W.useEffect((()=>{E&&X>J.length-1&&(Y(-1),me(-1))}),[J,E,X,me]);const ge=(0,cr.A)((e=>{let{event:t,index:r,reason:o="auto"}=e;if(Z.current=r,-1===r?H.current.removeAttribute("aria-activedescendant"):H.current.setAttribute("aria-activedescendant",`${z}-option-${r}`),M&&M(t,-1===r?null:pe[r],o),!G.current)return;const a=G.current.querySelector(`[role="option"].${n}-focused`);a&&(a.classList.remove(`${n}-focused`),a.classList.remove(`${n}-focusVisible`));let i=G.current;if("listbox"!==G.current.getAttribute("role")&&(i=G.current.parentElement.querySelector('[role="listbox"]')),!i)return;if(-1===r)return void(i.scrollTop=0);const s=G.current.querySelector(`[data-option-index="${r}"]`);if(s&&(s.classList.add(`${n}-focused`),"keyboard"===o&&s.classList.add(`${n}-focusVisible`),i.scrollHeight>i.clientHeight&&"mouse"!==o&&"touch"!==o)){const e=s,t=i.clientHeight+i.scrollTop,n=e.offsetTop+e.offsetHeight;n>t?i.scrollTop=n-i.clientHeight:e.offsetTop-e.offsetHeight*(k?1.3:0)<i.scrollTop&&(i.scrollTop=e.offsetTop-e.offsetHeight*(k?1.3:0))}})),ye=(0,cr.A)((e=>{let{event:t,diff:n,direction:o="next",reason:a="auto"}=e;if(!de)return;const i=function(e,t){if(!G.current||e<0||e>=pe.length)return-1;let n=e;for(;;){const r=G.current.querySelector(`[data-option-index="${n}"]`),o=!f&&(!r||r.disabled||"true"===r.getAttribute("aria-disabled"));if(r&&r.hasAttribute("tabindex")&&!o)return n;if(n="next"===t?(n+1)%pe.length:(n-1+pe.length)%pe.length,n===e)return-1}}((()=>{const e=pe.length-1;if("reset"===n)return Q;if("start"===n)return 0;if("end"===n)return e;const t=Z.current+n;return t<0?-1===t&&C?-1:m&&-1!==Z.current||Math.abs(n)>1?0:e:t>e?t===e+1&&C?-1:m||Math.abs(n)>1?e:0:t})(),o);if(ge({index:i,reason:a,event:t}),r&&"reset"!==n)if(-1===i)H.current.value=te;else{const e=B(pe[i]);H.current.value=e;0===e.toLowerCase().indexOf(te.toLowerCase())&&te.length>0&&H.current.setSelectionRange(te.length,e.length)}})),ve=W.useCallback((()=>{if(!de)return;const e=(()=>{if(-1!==Z.current&&he.filteredOptions&&he.filteredOptions.length!==pe.length&&he.inputValue===te&&(E?J.length===he.value.length&&he.value.every(((e,t)=>B(J[t])===B(e))):(e=he.value,t=J,(e?B(e):"")===(t?B(t):"")))){const e=he.filteredOptions[Z.current];if(e)return Qp(pe,(t=>B(t)===B(e)))}var e,t;return-1})();if(-1!==e)return void(Z.current=e);const t=E?J[0]:J;if(0!==pe.length&&null!=t){if(G.current)if(null==t)Z.current>=pe.length-1?ge({index:pe.length-1}):ge({index:Z.current});else{const e=pe[Z.current];if(E&&e&&-1!==Qp(J,(t=>I(e,t))))return;const n=Qp(pe,(e=>I(e,t)));-1===n?ye({diff:"reset"}):ge({index:n})}}else ye({diff:"reset"})}),[pe.length,!E&&J,y,ye,ge,de,te,E]),be=(0,cr.A)((e=>{(0,Pa.A)(G,e),e&&ve()}));W.useEffect((()=>{ve()}),[ve]);const xe=e=>{ie||(se(!0),ue(!0),R&&R(e))},we=(e,t)=>{ie&&(se(!1),O&&O(e,t))},ke=(e,t,n,r)=>{if(E){if(J.length===t.length&&J.every(((e,n)=>e===t[n])))return}else if(J===t)return;N&&N(e,t,n,r),ee(t)},Se=W.useRef(!1),Ae=function(e,t){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"options",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"selectOption",o=t;if(E){o=Array.isArray(J)?J.slice():[];const e=Qp(o,(e=>I(t,e)));-1===e?o.push(t):"freeSolo"!==n&&(o.splice(e,1),r="removeOption")}ae(e,o),ke(e,o,r,{option:t}),p||e&&(e.ctrlKey||e.metaKey)||we(e,r),(!0===i||"touch"===i&&Se.current||"mouse"===i&&!Se.current)&&H.current.blur()},Ce=(e,t)=>{if(!E)return;""===te&&we(e,"toggleInput");let n=X;-1===X?""===te&&"previous"===t&&(n=J.length-1):(n+="next"===t?1:-1,n<0&&(n=0),n===J.length&&(n=-1)),n=function(e,t){if(-1===e)return-1;let n=e;for(;;){if("next"===t&&n===J.length||"previous"===t&&-1===n)return-1;const e=q.querySelector(`[data-tag-index="${n}"]`);if(e&&e.hasAttribute("tabindex")&&!e.disabled&&"true"!==e.getAttribute("aria-disabled"))return n;n+="next"===t?1:-1}}(n,t),Y(n),me(n)},Te=e=>{V.current=!0,ne(""),D&&D(e,"","clear"),ke(e,E?[]:null,"clear")},Ie=e=>t=>{if(e.onKeyDown&&e.onKeyDown(t),!t.defaultMuiPrevented&&(-1!==X&&-1===["ArrowLeft","ArrowRight"].indexOf(t.key)&&(Y(-1),me(-1)),229!==t.which))switch(t.key){case"Home":de&&S&&(t.preventDefault(),ye({diff:"start",direction:"next",reason:"keyboard",event:t}));break;case"End":de&&S&&(t.preventDefault(),ye({diff:"end",direction:"previous",reason:"keyboard",event:t}));break;case"PageUp":t.preventDefault(),ye({diff:-5,direction:"previous",reason:"keyboard",event:t}),xe(t);break;case"PageDown":t.preventDefault(),ye({diff:5,direction:"next",reason:"keyboard",event:t}),xe(t);break;case"ArrowDown":t.preventDefault(),ye({diff:1,direction:"next",reason:"keyboard",event:t}),xe(t);break;case"ArrowUp":t.preventDefault(),ye({diff:-1,direction:"previous",reason:"keyboard",event:t}),xe(t);break;case"ArrowLeft":Ce(t,"previous");break;case"ArrowRight":Ce(t,"next");break;case"Enter":if(-1!==Z.current&&de){const e=pe[Z.current],n=!!b&&b(e);if(t.preventDefault(),n)return;Ae(t,e,"selectOption"),r&&H.current.setSelectionRange(H.current.value.length,H.current.value.length)}else v&&""!==te&&!1===ce&&(E&&t.preventDefault(),Ae(t,te,"createOption","freeSolo"));break;case"Escape":de?(t.preventDefault(),t.stopPropagation(),we(t,"escape")):l&&(""!==te||E&&J.length>0)&&(t.preventDefault(),t.stopPropagation(),Te(t));break;case"Backspace":if(E&&!_&&""===te&&J.length>0){const e=-1===X?J.length-1:X,n=J.slice();n.splice(e,1),ke(t,n,"removeOption",{option:J[e]})}break;case"Delete":if(E&&!_&&""===te&&J.length>0&&-1!==X){const e=X,n=J.slice();n.splice(e,1),ke(t,n,"removeOption",{option:J[e]})}}},Ee=e=>{oe(!0),$&&!V.current&&xe(e)},Ne=e=>{t(G)?H.current.focus():(oe(!1),U.current=!0,V.current=!1,a&&-1!==Z.current&&de?Ae(e,pe[Z.current],"blur"):a&&v&&""!==te?Ae(e,te,"blur","freeSolo"):s&&ae(e,J),we(e,"blur"))},Oe=e=>{const t=e.target.value;te!==t&&(ne(t),ue(!1),D&&D(e,t,"input")),""===t?d||E||ke(e,null,"clear"):xe(e)},Me=e=>{const t=Number(e.currentTarget.getAttribute("data-option-index"));Z.current!==t&&ge({event:e,index:t,reason:"mouse"})},De=e=>{ge({event:e,index:Number(e.currentTarget.getAttribute("data-option-index")),reason:"touch"}),Se.current=!0},Re=e=>{const t=Number(e.currentTarget.getAttribute("data-option-index"));Ae(e,pe[t],"selectOption"),Se.current=!1},Pe=e=>t=>{const n=J.slice();n.splice(e,1),ke(t,n,"removeOption",{option:J[e]})},$e=e=>{ie?we(e,"toggleInput"):xe(e)},je=e=>{e.currentTarget.contains(e.target)&&e.target.getAttribute("id")!==z&&e.preventDefault()},_e=e=>{e.currentTarget.contains(e.target)&&(H.current.focus(),F&&U.current&&H.current.selectionEnd-H.current.selectionStart===0&&H.current.select(),U.current=!1)},Fe=e=>{h||""!==te&&ie||$e(e)};let Le=v&&te.length>0;Le=Le||(E?J.length>0:null!==J);let ze=pe;if(k){new Map;ze=pe.reduce(((e,t,n)=>{const r=k(t);return e.length>0&&e[e.length-1].group===r?e[e.length-1].options.push(t):e.push({key:n,index:n,group:r,options:[t]}),e}),[])}return h&&re&&Ne(),{getRootProps:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,Yt.A)({"aria-owns":fe?`${z}-listbox`:null},e,{onKeyDown:Ie(e),onMouseDown:je,onClick:_e})},getInputLabelProps:()=>({id:`${z}-label`,htmlFor:z}),getInputProps:()=>({id:z,value:te,onBlur:Ne,onFocus:Ee,onChange:Oe,onMouseDown:Fe,"aria-activedescendant":de?"":null,"aria-autocomplete":r?"both":"list","aria-controls":fe?`${z}-listbox`:void 0,"aria-expanded":fe,autoComplete:"off",ref:H,autoCapitalize:"none",spellCheck:"false",role:"combobox",disabled:h}),getClearProps:()=>({tabIndex:-1,type:"button",onClick:Te}),getPopupIndicatorProps:()=>({tabIndex:-1,type:"button",onClick:$e}),getTagProps:e=>{let{index:t}=e;return(0,Yt.A)({key:t,"data-tag-index":t,tabIndex:-1},!_&&{onDelete:Pe(t)})},getListboxProps:()=>({role:"listbox",id:`${z}-listbox`,"aria-labelledby":`${z}-label`,ref:be,onMouseDown:e=>{e.preventDefault()}}),getOptionProps:e=>{let{index:t,option:n}=e;var r;const o=(E?J:[J]).some((e=>null!=e&&I(n,e))),a=!!b&&b(n);return{key:null!=(r=null==x?void 0:x(n))?r:B(n),tabIndex:-1,role:"option",id:`${z}-option-${t}`,onMouseMove:Me,onClick:Re,onTouchStart:De,"data-option-index":t,"aria-disabled":a,"aria-selected":o}},id:z,inputValue:te,value:J,dirty:Le,expanded:de&&q,popupOpen:de,focused:re||-1!==X,anchorEl:q,setAnchorEl:K,focusedTag:X,groupedOptions:ze}};var nh=n(2374);function rh(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function oh(e){return e instanceof rh(e).Element||e instanceof Element}function ah(e){return e instanceof rh(e).HTMLElement||e instanceof HTMLElement}function ih(e){return"undefined"!==typeof ShadowRoot&&(e instanceof rh(e).ShadowRoot||e instanceof ShadowRoot)}var sh=Math.max,lh=Math.min,uh=Math.round;function ch(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function dh(){return!/^((?!chrome|android).)*safari/i.test(ch())}function ph(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),o=1,a=1;t&&ah(e)&&(o=e.offsetWidth>0&&uh(r.width)/e.offsetWidth||1,a=e.offsetHeight>0&&uh(r.height)/e.offsetHeight||1);var i=(oh(e)?rh(e):window).visualViewport,s=!dh()&&n,l=(r.left+(s&&i?i.offsetLeft:0))/o,u=(r.top+(s&&i?i.offsetTop:0))/a,c=r.width/o,d=r.height/a;return{width:c,height:d,top:u,right:l+c,bottom:u+d,left:l,x:l,y:u}}function hh(e){var t=rh(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function fh(e){return e?(e.nodeName||"").toLowerCase():null}function mh(e){return((oh(e)?e.ownerDocument:e.document)||window.document).documentElement}function gh(e){return ph(mh(e)).left+hh(e).scrollLeft}function yh(e){return rh(e).getComputedStyle(e)}function vh(e){var t=yh(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function bh(e,t,n){void 0===n&&(n=!1);var r=ah(t),o=ah(t)&&function(e){var t=e.getBoundingClientRect(),n=uh(t.width)/e.offsetWidth||1,r=uh(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),a=mh(t),i=ph(e,o,n),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&(("body"!==fh(t)||vh(a))&&(s=function(e){return e!==rh(e)&&ah(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:hh(e);var t}(t)),ah(t)?((l=ph(t,!0)).x+=t.clientLeft,l.y+=t.clientTop):a&&(l.x=gh(a))),{x:i.left+s.scrollLeft-l.x,y:i.top+s.scrollTop-l.y,width:i.width,height:i.height}}function xh(e){var t=ph(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function wh(e){return"html"===fh(e)?e:e.assignedSlot||e.parentNode||(ih(e)?e.host:null)||mh(e)}function kh(e){return["html","body","#document"].indexOf(fh(e))>=0?e.ownerDocument.body:ah(e)&&vh(e)?e:kh(wh(e))}function Sh(e,t){var n;void 0===t&&(t=[]);var r=kh(e),o=r===(null==(n=e.ownerDocument)?void 0:n.body),a=rh(r),i=o?[a].concat(a.visualViewport||[],vh(r)?r:[]):r,s=t.concat(i);return o?s:s.concat(Sh(wh(i)))}function Ah(e){return["table","td","th"].indexOf(fh(e))>=0}function Ch(e){return ah(e)&&"fixed"!==yh(e).position?e.offsetParent:null}function Th(e){for(var t=rh(e),n=Ch(e);n&&Ah(n)&&"static"===yh(n).position;)n=Ch(n);return n&&("html"===fh(n)||"body"===fh(n)&&"static"===yh(n).position)?t:n||function(e){var t=/firefox/i.test(ch());if(/Trident/i.test(ch())&&ah(e)&&"fixed"===yh(e).position)return null;var n=wh(e);for(ih(n)&&(n=n.host);ah(n)&&["html","body"].indexOf(fh(n))<0;){var r=yh(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}var Ih="top",Eh="bottom",Nh="right",Oh="left",Mh="auto",Dh=[Ih,Eh,Nh,Oh],Rh="start",Ph="end",$h="viewport",jh="popper",_h=Dh.reduce((function(e,t){return e.concat([t+"-"+Rh,t+"-"+Ph])}),[]),Fh=[].concat(Dh,[Mh]).reduce((function(e,t){return e.concat([t,t+"-"+Rh,t+"-"+Ph])}),[]),Lh=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function zh(e){var t=new Map,n=new Set,r=[];function o(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&o(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||o(e)})),r}function Bh(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var Wh={placement:"bottom",modifiers:[],strategy:"absolute"};function Vh(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function Uh(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,o=t.defaultOptions,a=void 0===o?Wh:o;return function(e,t,n){void 0===n&&(n=a);var o={placement:"bottom",orderedModifiers:[],options:Object.assign({},Wh,a),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},i=[],s=!1,l={state:o,setOptions:function(n){var s="function"===typeof n?n(o.options):n;u(),o.options=Object.assign({},a,o.options,s),o.scrollParents={reference:oh(e)?Sh(e):e.contextElement?Sh(e.contextElement):[],popper:Sh(t)};var c=function(e){var t=zh(e);return Lh.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,o.options.modifiers)));return o.orderedModifiers=c.filter((function(e){return e.enabled})),o.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,a=e.effect;if("function"===typeof a){var s=a({state:o,name:t,instance:l,options:r}),u=function(){};i.push(s||u)}})),l.update()},forceUpdate:function(){if(!s){var e=o.elements,t=e.reference,n=e.popper;if(Vh(t,n)){o.rects={reference:bh(t,Th(n),"fixed"===o.options.strategy),popper:xh(n)},o.reset=!1,o.placement=o.options.placement,o.orderedModifiers.forEach((function(e){return o.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<o.orderedModifiers.length;r++)if(!0!==o.reset){var a=o.orderedModifiers[r],i=a.fn,u=a.options,c=void 0===u?{}:u,d=a.name;"function"===typeof i&&(o=i({state:o,options:c,name:d,instance:l})||o)}else o.reset=!1,r=-1}}},update:Bh((function(){return new Promise((function(e){l.forceUpdate(),e(o)}))})),destroy:function(){u(),s=!0}};if(!Vh(e,t))return l;function u(){i.forEach((function(e){return e()})),i=[]}return l.setOptions(n).then((function(e){!s&&n.onFirstUpdate&&n.onFirstUpdate(e)})),l}}var Hh={passive:!0};function Gh(e){return e.split("-")[0]}function qh(e){return e.split("-")[1]}function Kh(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Xh(e){var t,n=e.reference,r=e.element,o=e.placement,a=o?Gh(o):null,i=o?qh(o):null,s=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2;switch(a){case Ih:t={x:s,y:n.y-r.height};break;case Eh:t={x:s,y:n.y+n.height};break;case Nh:t={x:n.x+n.width,y:l};break;case Oh:t={x:n.x-r.width,y:l};break;default:t={x:n.x,y:n.y}}var u=a?Kh(a):null;if(null!=u){var c="y"===u?"height":"width";switch(i){case Rh:t[u]=t[u]-(n[c]/2-r[c]/2);break;case Ph:t[u]=t[u]+(n[c]/2-r[c]/2)}}return t}var Yh={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Qh(e){var t,n=e.popper,r=e.popperRect,o=e.placement,a=e.variation,i=e.offsets,s=e.position,l=e.gpuAcceleration,u=e.adaptive,c=e.roundOffsets,d=e.isFixed,p=i.x,h=void 0===p?0:p,f=i.y,m=void 0===f?0:f,g="function"===typeof c?c({x:h,y:m}):{x:h,y:m};h=g.x,m=g.y;var y=i.hasOwnProperty("x"),v=i.hasOwnProperty("y"),b=Oh,x=Ih,w=window;if(u){var k=Th(n),S="clientHeight",A="clientWidth";if(k===rh(n)&&"static"!==yh(k=mh(n)).position&&"absolute"===s&&(S="scrollHeight",A="scrollWidth"),o===Ih||(o===Oh||o===Nh)&&a===Ph)x=Eh,m-=(d&&k===w&&w.visualViewport?w.visualViewport.height:k[S])-r.height,m*=l?1:-1;if(o===Oh||(o===Ih||o===Eh)&&a===Ph)b=Nh,h-=(d&&k===w&&w.visualViewport?w.visualViewport.width:k[A])-r.width,h*=l?1:-1}var C,T=Object.assign({position:s},u&&Yh),I=!0===c?function(e,t){var n=e.x,r=e.y,o=t.devicePixelRatio||1;return{x:uh(n*o)/o||0,y:uh(r*o)/o||0}}({x:h,y:m},rh(n)):{x:h,y:m};return h=I.x,m=I.y,l?Object.assign({},T,((C={})[x]=v?"0":"",C[b]=y?"0":"",C.transform=(w.devicePixelRatio||1)<=1?"translate("+h+"px, "+m+"px)":"translate3d("+h+"px, "+m+"px, 0)",C)):Object.assign({},T,((t={})[x]=v?m+"px":"",t[b]=y?h+"px":"",t.transform="",t))}var Zh={left:"right",right:"left",bottom:"top",top:"bottom"};function Jh(e){return e.replace(/left|right|bottom|top/g,(function(e){return Zh[e]}))}var ef={start:"end",end:"start"};function tf(e){return e.replace(/start|end/g,(function(e){return ef[e]}))}function nf(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&ih(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function rf(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function of(e,t,n){return t===$h?rf(function(e,t){var n=rh(e),r=mh(e),o=n.visualViewport,a=r.clientWidth,i=r.clientHeight,s=0,l=0;if(o){a=o.width,i=o.height;var u=dh();(u||!u&&"fixed"===t)&&(s=o.offsetLeft,l=o.offsetTop)}return{width:a,height:i,x:s+gh(e),y:l}}(e,n)):oh(t)?function(e,t){var n=ph(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):rf(function(e){var t,n=mh(e),r=hh(e),o=null==(t=e.ownerDocument)?void 0:t.body,a=sh(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),i=sh(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),s=-r.scrollLeft+gh(e),l=-r.scrollTop;return"rtl"===yh(o||n).direction&&(s+=sh(n.clientWidth,o?o.clientWidth:0)-a),{width:a,height:i,x:s,y:l}}(mh(e)))}function af(e,t,n,r){var o="clippingParents"===t?function(e){var t=Sh(wh(e)),n=["absolute","fixed"].indexOf(yh(e).position)>=0&&ah(e)?Th(e):e;return oh(n)?t.filter((function(e){return oh(e)&&nf(e,n)&&"body"!==fh(e)})):[]}(e):[].concat(t),a=[].concat(o,[n]),i=a[0],s=a.reduce((function(t,n){var o=of(e,n,r);return t.top=sh(o.top,t.top),t.right=lh(o.right,t.right),t.bottom=lh(o.bottom,t.bottom),t.left=sh(o.left,t.left),t}),of(e,i,r));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function sf(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function lf(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function uf(e,t){void 0===t&&(t={});var n=t,r=n.placement,o=void 0===r?e.placement:r,a=n.strategy,i=void 0===a?e.strategy:a,s=n.boundary,l=void 0===s?"clippingParents":s,u=n.rootBoundary,c=void 0===u?$h:u,d=n.elementContext,p=void 0===d?jh:d,h=n.altBoundary,f=void 0!==h&&h,m=n.padding,g=void 0===m?0:m,y=sf("number"!==typeof g?g:lf(g,Dh)),v=p===jh?"reference":jh,b=e.rects.popper,x=e.elements[f?v:p],w=af(oh(x)?x:x.contextElement||mh(e.elements.popper),l,c,i),k=ph(e.elements.reference),S=Xh({reference:k,element:b,strategy:"absolute",placement:o}),A=rf(Object.assign({},b,S)),C=p===jh?A:k,T={top:w.top-C.top+y.top,bottom:C.bottom-w.bottom+y.bottom,left:w.left-C.left+y.left,right:C.right-w.right+y.right},I=e.modifiersData.offset;if(p===jh&&I){var E=I[o];Object.keys(T).forEach((function(e){var t=[Nh,Eh].indexOf(e)>=0?1:-1,n=[Ih,Eh].indexOf(e)>=0?"y":"x";T[e]+=E[n]*t}))}return T}function cf(e,t,n){return sh(e,lh(t,n))}function df(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function pf(e){return[Ih,Nh,Eh,Oh].some((function(t){return e[t]>=0}))}var hf=Uh({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,o=r.scroll,a=void 0===o||o,i=r.resize,s=void 0===i||i,l=rh(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&u.forEach((function(e){e.addEventListener("scroll",n.update,Hh)})),s&&l.addEventListener("resize",n.update,Hh),function(){a&&u.forEach((function(e){e.removeEventListener("scroll",n.update,Hh)})),s&&l.removeEventListener("resize",n.update,Hh)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=Xh({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,o=void 0===r||r,a=n.adaptive,i=void 0===a||a,s=n.roundOffsets,l=void 0===s||s,u={placement:Gh(t.placement),variation:qh(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,Qh(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:i,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,Qh(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},o=t.elements[e];ah(o)&&fh(o)&&(Object.assign(o.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?o.removeAttribute(e):o.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],o=t.attributes[e]||{},a=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});ah(r)&&fh(r)&&(Object.assign(r.style,a),Object.keys(o).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]},{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,o=n.offset,a=void 0===o?[0,0]:o,i=Fh.reduce((function(e,n){return e[n]=function(e,t,n){var r=Gh(e),o=[Oh,Ih].indexOf(r)>=0?-1:1,a="function"===typeof n?n(Object.assign({},t,{placement:e})):n,i=a[0],s=a[1];return i=i||0,s=(s||0)*o,[Oh,Nh].indexOf(r)>=0?{x:s,y:i}:{x:i,y:s}}(n,t.rects,a),e}),{}),s=i[t.placement],l=s.x,u=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=u),t.modifiersData[r]=i}},{name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var o=n.mainAxis,a=void 0===o||o,i=n.altAxis,s=void 0===i||i,l=n.fallbackPlacements,u=n.padding,c=n.boundary,d=n.rootBoundary,p=n.altBoundary,h=n.flipVariations,f=void 0===h||h,m=n.allowedAutoPlacements,g=t.options.placement,y=Gh(g),v=l||(y===g||!f?[Jh(g)]:function(e){if(Gh(e)===Mh)return[];var t=Jh(e);return[tf(e),t,tf(t)]}(g)),b=[g].concat(v).reduce((function(e,n){return e.concat(Gh(n)===Mh?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,o=n.boundary,a=n.rootBoundary,i=n.padding,s=n.flipVariations,l=n.allowedAutoPlacements,u=void 0===l?Fh:l,c=qh(r),d=c?s?_h:_h.filter((function(e){return qh(e)===c})):Dh,p=d.filter((function(e){return u.indexOf(e)>=0}));0===p.length&&(p=d);var h=p.reduce((function(t,n){return t[n]=uf(e,{placement:n,boundary:o,rootBoundary:a,padding:i})[Gh(n)],t}),{});return Object.keys(h).sort((function(e,t){return h[e]-h[t]}))}(t,{placement:n,boundary:c,rootBoundary:d,padding:u,flipVariations:f,allowedAutoPlacements:m}):n)}),[]),x=t.rects.reference,w=t.rects.popper,k=new Map,S=!0,A=b[0],C=0;C<b.length;C++){var T=b[C],I=Gh(T),E=qh(T)===Rh,N=[Ih,Eh].indexOf(I)>=0,O=N?"width":"height",M=uf(t,{placement:T,boundary:c,rootBoundary:d,altBoundary:p,padding:u}),D=N?E?Nh:Oh:E?Eh:Ih;x[O]>w[O]&&(D=Jh(D));var R=Jh(D),P=[];if(a&&P.push(M[I]<=0),s&&P.push(M[D]<=0,M[R]<=0),P.every((function(e){return e}))){A=T,S=!1;break}k.set(T,P)}if(S)for(var $=function(e){var t=b.find((function(t){var n=k.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return A=t,"break"},j=f?3:1;j>0;j--){if("break"===$(j))break}t.placement!==A&&(t.modifiersData[r]._skip=!0,t.placement=A,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,o=n.mainAxis,a=void 0===o||o,i=n.altAxis,s=void 0!==i&&i,l=n.boundary,u=n.rootBoundary,c=n.altBoundary,d=n.padding,p=n.tether,h=void 0===p||p,f=n.tetherOffset,m=void 0===f?0:f,g=uf(t,{boundary:l,rootBoundary:u,padding:d,altBoundary:c}),y=Gh(t.placement),v=qh(t.placement),b=!v,x=Kh(y),w="x"===x?"y":"x",k=t.modifiersData.popperOffsets,S=t.rects.reference,A=t.rects.popper,C="function"===typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,T="number"===typeof C?{mainAxis:C,altAxis:C}:Object.assign({mainAxis:0,altAxis:0},C),I=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,E={x:0,y:0};if(k){if(a){var N,O="y"===x?Ih:Oh,M="y"===x?Eh:Nh,D="y"===x?"height":"width",R=k[x],P=R+g[O],$=R-g[M],j=h?-A[D]/2:0,_=v===Rh?S[D]:A[D],F=v===Rh?-A[D]:-S[D],L=t.elements.arrow,z=h&&L?xh(L):{width:0,height:0},B=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},W=B[O],V=B[M],U=cf(0,S[D],z[D]),H=b?S[D]/2-j-U-W-T.mainAxis:_-U-W-T.mainAxis,G=b?-S[D]/2+j+U+V+T.mainAxis:F+U+V+T.mainAxis,q=t.elements.arrow&&Th(t.elements.arrow),K=q?"y"===x?q.clientTop||0:q.clientLeft||0:0,X=null!=(N=null==I?void 0:I[x])?N:0,Y=R+G-X,Q=cf(h?lh(P,R+H-X-K):P,R,h?sh($,Y):$);k[x]=Q,E[x]=Q-R}if(s){var Z,J="x"===x?Ih:Oh,ee="x"===x?Eh:Nh,te=k[w],ne="y"===w?"height":"width",re=te+g[J],oe=te-g[ee],ae=-1!==[Ih,Oh].indexOf(y),ie=null!=(Z=null==I?void 0:I[w])?Z:0,se=ae?re:te-S[ne]-A[ne]-ie+T.altAxis,le=ae?te+S[ne]+A[ne]-ie-T.altAxis:oe,ue=h&&ae?function(e,t,n){var r=cf(e,t,n);return r>n?n:r}(se,te,le):cf(h?se:re,te,h?le:oe);k[w]=ue,E[w]=ue-te}t.modifiersData[r]=E}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,o=e.options,a=n.elements.arrow,i=n.modifiersData.popperOffsets,s=Gh(n.placement),l=Kh(s),u=[Oh,Nh].indexOf(s)>=0?"height":"width";if(a&&i){var c=function(e,t){return sf("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:lf(e,Dh))}(o.padding,n),d=xh(a),p="y"===l?Ih:Oh,h="y"===l?Eh:Nh,f=n.rects.reference[u]+n.rects.reference[l]-i[l]-n.rects.popper[u],m=i[l]-n.rects.reference[l],g=Th(a),y=g?"y"===l?g.clientHeight||0:g.clientWidth||0:0,v=f/2-m/2,b=c[p],x=y-d[u]-c[h],w=y/2-d[u]/2+v,k=cf(b,w,x),S=l;n.modifiersData[r]=((t={})[S]=k,t.centerOffset=k-w,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&nf(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,o=t.rects.popper,a=t.modifiersData.preventOverflow,i=uf(t,{elementContext:"reference"}),s=uf(t,{altBoundary:!0}),l=df(i,r),u=df(s,o,a),c=pf(l),d=pf(u);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":d})}}]});function ff(e){return(0,on.Ay)("MuiPopper",e)}(0,rn.A)("MuiPopper",["root"]);const mf=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],gf=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function yf(e){return"function"===typeof e?e():e}function vf(e){return void 0!==e.nodeType}const bf={},xf=W.forwardRef((function(e,t){var n;const{anchorEl:r,children:o,direction:a,disablePortal:i,modifiers:s,open:l,placement:u,popperOptions:c,popperRef:d,slotProps:p={},slots:h={},TransitionProps:f}=e,m=(0,Xt.A)(e,mf),g=W.useRef(null),y=(0,lr.A)(g,t),v=W.useRef(null),b=(0,lr.A)(v,d),x=W.useRef(b);(0,dr.A)((()=>{x.current=b}),[b]),W.useImperativeHandle(d,(()=>v.current),[]);const w=function(e,t){if("ltr"===t)return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}(u,a),[k,S]=W.useState(w),[A,C]=W.useState(yf(r));W.useEffect((()=>{v.current&&v.current.forceUpdate()})),W.useEffect((()=>{r&&C(yf(r))}),[r]),(0,dr.A)((()=>{if(!A||!l)return;let e=[{name:"preventOverflow",options:{altBoundary:i}},{name:"flip",options:{altBoundary:i}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:e=>{let{state:t}=e;S(t.placement)}}];null!=s&&(e=e.concat(s)),c&&null!=c.modifiers&&(e=e.concat(c.modifiers));const t=hf(A,g.current,(0,Yt.A)({placement:w},c,{modifiers:e}));return x.current(t),()=>{t.destroy(),x.current(null)}}),[A,i,s,l,c,w]);const T={placement:k};null!==f&&(T.TransitionProps=f);const I=(e=>{const{classes:t}=e;return(0,Zt.A)({root:["root"]},ff,t)})(e),E=null!=(n=h.root)?n:"div",N=qo({elementType:E,externalSlotProps:p.root,externalForwardedProps:m,additionalProps:{role:"tooltip",ref:y},ownerState:e,className:I.root});return(0,sn.jsx)(E,(0,Yt.A)({},N,{children:"function"===typeof o?o(T):o}))})),wf=W.forwardRef((function(e,t){const{anchorEl:n,children:r,container:o,direction:a="ltr",disablePortal:i=!1,keepMounted:s=!1,modifiers:l,open:u,placement:c="bottom",popperOptions:d=bf,popperRef:p,style:h,transition:f=!1,slotProps:m={},slots:g={}}=e,y=(0,Xt.A)(e,gf),[v,b]=W.useState(!0);if(!s&&!u&&(!f||v))return null;let x;if(o)x=o;else if(n){const e=yf(n);x=e&&vf(e)?(0,Na.A)(e).body:(0,Na.A)(null).body}const w=u||!s||f&&!v?void 0:"none",k=f?{in:u,onEnter:()=>{b(!1)},onExited:()=>{b(!0)}}:void 0;return(0,sn.jsx)($a,{disablePortal:i,container:x,children:(0,sn.jsx)(xf,(0,Yt.A)({anchorEl:n,direction:a,disablePortal:i,modifiers:l,ref:t,open:f?!v:u,placement:c,popperOptions:d,popperRef:p,slotProps:m,slots:g},y,{style:(0,Yt.A)({position:"fixed",top:0,left:0,display:w},h),TransitionProps:k,children:r}))})})),kf=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],Sf=(0,en.Ay)(wf,{name:"MuiPopper",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Af=W.forwardRef((function(e,t){var n;const r=(0,nh.A)(),o=(0,nn.b)({props:e,name:"MuiPopper"}),{anchorEl:a,component:i,components:s,componentsProps:l,container:u,disablePortal:c,keepMounted:d,modifiers:p,open:h,placement:f,popperOptions:m,popperRef:g,transition:y,slots:v,slotProps:b}=o,x=(0,Xt.A)(o,kf),w=null!=(n=null==v?void 0:v.root)?n:null==s?void 0:s.Root,k=(0,Yt.A)({anchorEl:a,container:u,disablePortal:c,keepMounted:d,modifiers:p,open:h,placement:f,popperOptions:m,popperRef:g,transition:y},x);return(0,sn.jsx)(Sf,(0,Yt.A)({as:i,direction:null==r?void 0:r.direction,slots:{root:w},slotProps:null!=b?b:l},k,{ref:t}))}));function Cf(e){return(0,on.Ay)("MuiListSubheader",e)}(0,rn.A)("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const Tf=["className","color","component","disableGutters","disableSticky","inset"],If=(0,en.Ay)("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"default"!==n.color&&t[`color${(0,qn.A)(n.color)}`],!n.disableGutters&&t.gutters,n.inset&&t.inset,!n.disableSticky&&t.sticky]}})((e=>{let{theme:t,ownerState:n}=e;return(0,Yt.A)({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(t.vars||t).palette.text.secondary,fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(14)},"primary"===n.color&&{color:(t.vars||t).palette.primary.main},"inherit"===n.color&&{color:"inherit"},!n.disableGutters&&{paddingLeft:16,paddingRight:16},n.inset&&{paddingLeft:72},!n.disableSticky&&{position:"sticky",top:0,zIndex:1,backgroundColor:(t.vars||t).palette.background.paper})})),Ef=W.forwardRef((function(e,t){const n=(0,nn.b)({props:e,name:"MuiListSubheader"}),{className:r,color:o="default",component:a="li",disableGutters:i=!1,disableSticky:s=!1,inset:l=!1}=n,u=(0,Xt.A)(n,Tf),c=(0,Yt.A)({},n,{color:o,component:a,disableGutters:i,disableSticky:s,inset:l}),d=(e=>{const{classes:t,color:n,disableGutters:r,inset:o,disableSticky:a}=e,i={root:["root","default"!==n&&`color${(0,qn.A)(n)}`,!r&&"gutters",o&&"inset",!a&&"sticky"]};return(0,Zt.A)(i,Cf,t)})(c);return(0,sn.jsx)(If,(0,Yt.A)({as:a,className:(0,Qt.A)(d.root,r),ref:t,ownerState:c},u))}));Ef.muiSkipListHighlight=!0;const Nf=Ef;function Of(e){return(0,on.Ay)("MuiAutocomplete",e)}const Mf=(0,rn.A)("MuiAutocomplete",["root","expanded","fullWidth","focused","focusVisible","tag","tagSizeSmall","tagSizeMedium","hasPopupIcon","hasClearIcon","inputRoot","input","inputFocused","endAdornment","clearIndicator","popupIndicator","popupIndicatorOpen","popper","popperDisablePortal","paper","listbox","loading","noOptions","option","groupLabel","groupUl"]);var Df,Rf;const Pf=["autoComplete","autoHighlight","autoSelect","blurOnSelect","ChipProps","className","clearIcon","clearOnBlur","clearOnEscape","clearText","closeText","componentsProps","defaultValue","disableClearable","disableCloseOnSelect","disabled","disabledItemsFocusable","disableListWrap","disablePortal","filterOptions","filterSelectedOptions","forcePopupIcon","freeSolo","fullWidth","getLimitTagsText","getOptionDisabled","getOptionKey","getOptionLabel","isOptionEqualToValue","groupBy","handleHomeEndKeys","id","includeInputInList","inputValue","limitTags","ListboxComponent","ListboxProps","loading","loadingText","multiple","noOptionsText","onChange","onClose","onHighlightChange","onInputChange","onOpen","open","openOnFocus","openText","options","PaperComponent","PopperComponent","popupIcon","readOnly","renderGroup","renderInput","renderOption","renderTags","selectOnFocus","size","slotProps","value"],$f=["ref"],jf=["key"],_f=["key"],Ff=(0,en.Ay)("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{fullWidth:r,hasClearIcon:o,hasPopupIcon:a,inputFocused:i,size:s}=n;return[{[`& .${Mf.tag}`]:t.tag},{[`& .${Mf.tag}`]:t[`tagSize${(0,qn.A)(s)}`]},{[`& .${Mf.inputRoot}`]:t.inputRoot},{[`& .${Mf.input}`]:t.input},{[`& .${Mf.input}`]:i&&t.inputFocused},t.root,r&&t.fullWidth,a&&t.hasPopupIcon,o&&t.hasClearIcon]}})({[`&.${Mf.focused} .${Mf.clearIndicator}`]:{visibility:"visible"},"@media (pointer: fine)":{[`&:hover .${Mf.clearIndicator}`]:{visibility:"visible"}},[`& .${Mf.tag}`]:{margin:3,maxWidth:"calc(100% - 6px)"},[`& .${Mf.inputRoot}`]:{[`.${Mf.hasPopupIcon}&, .${Mf.hasClearIcon}&`]:{paddingRight:30},[`.${Mf.hasPopupIcon}.${Mf.hasClearIcon}&`]:{paddingRight:56},[`& .${Mf.input}`]:{width:0,minWidth:30}},[`& .${Ur.root}`]:{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}},[`& .${Ur.root}.${$r.sizeSmall}`]:{[`& .${Ur.input}`]:{padding:"2px 4px 3px 0"}},[`& .${lo.root}`]:{padding:9,[`.${Mf.hasPopupIcon}&, .${Mf.hasClearIcon}&`]:{paddingRight:39},[`.${Mf.hasPopupIcon}.${Mf.hasClearIcon}&`]:{paddingRight:65},[`& .${Mf.input}`]:{padding:"7.5px 4px 7.5px 5px"},[`& .${Mf.endAdornment}`]:{right:9}},[`& .${lo.root}.${$r.sizeSmall}`]:{paddingTop:6,paddingBottom:6,paddingLeft:6,[`& .${Mf.input}`]:{padding:"2.5px 4px 2.5px 8px"}},[`& .${Qr.root}`]:{paddingTop:19,paddingLeft:8,[`.${Mf.hasPopupIcon}&, .${Mf.hasClearIcon}&`]:{paddingRight:39},[`.${Mf.hasPopupIcon}.${Mf.hasClearIcon}&`]:{paddingRight:65},[`& .${Qr.input}`]:{padding:"7px 4px"},[`& .${Mf.endAdornment}`]:{right:9}},[`& .${Qr.root}.${$r.sizeSmall}`]:{paddingBottom:1,[`& .${Qr.input}`]:{padding:"2.5px 4px"}},[`& .${$r.hiddenLabel}`]:{paddingTop:8},[`& .${Qr.root}.${$r.hiddenLabel}`]:{paddingTop:0,paddingBottom:0,[`& .${Mf.input}`]:{paddingTop:16,paddingBottom:17}},[`& .${Qr.root}.${$r.hiddenLabel}.${$r.sizeSmall}`]:{[`& .${Mf.input}`]:{paddingTop:8,paddingBottom:9}},[`& .${Mf.input}`]:{flexGrow:1,textOverflow:"ellipsis",opacity:0},variants:[{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{[`& .${Mf.tag}`]:{margin:2,maxWidth:"calc(100% - 4px)"}}},{props:{inputFocused:!0},style:{[`& .${Mf.input}`]:{opacity:1}}},{props:{multiple:!0},style:{[`& .${Mf.inputRoot}`]:{flexWrap:"wrap"}}}]}),Lf=(0,en.Ay)("div",{name:"MuiAutocomplete",slot:"EndAdornment",overridesResolver:(e,t)=>t.endAdornment})({position:"absolute",right:0,top:"50%",transform:"translate(0, -50%)"}),zf=(0,en.Ay)(Ns,{name:"MuiAutocomplete",slot:"ClearIndicator",overridesResolver:(e,t)=>t.clearIndicator})({marginRight:-2,padding:4,visibility:"hidden"}),Bf=(0,en.Ay)(Ns,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:(e,t)=>{let{ownerState:n}=e;return(0,Yt.A)({},t.popupIndicator,n.popupOpen&&t.popupIndicatorOpen)}})({padding:2,marginRight:-2,variants:[{props:{popupOpen:!0},style:{transform:"rotate(180deg)"}}]}),Wf=(0,en.Ay)(Af,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${Mf.option}`]:t.option},t.popper,n.disablePortal&&t.popperDisablePortal]}})((e=>{let{theme:t}=e;return{zIndex:(t.vars||t).zIndex.modal,variants:[{props:{disablePortal:!0},style:{position:"absolute"}}]}})),Vf=(0,en.Ay)(cn,{name:"MuiAutocomplete",slot:"Paper",overridesResolver:(e,t)=>t.paper})((e=>{let{theme:t}=e;return(0,Yt.A)({},t.typography.body1,{overflow:"auto"})})),Uf=(0,en.Ay)("div",{name:"MuiAutocomplete",slot:"Loading",overridesResolver:(e,t)=>t.loading})((e=>{let{theme:t}=e;return{color:(t.vars||t).palette.text.secondary,padding:"14px 16px"}})),Hf=(0,en.Ay)("div",{name:"MuiAutocomplete",slot:"NoOptions",overridesResolver:(e,t)=>t.noOptions})((e=>{let{theme:t}=e;return{color:(t.vars||t).palette.text.secondary,padding:"14px 16px"}})),Gf=(0,en.Ay)("div",{name:"MuiAutocomplete",slot:"Listbox",overridesResolver:(e,t)=>t.listbox})((e=>{let{theme:t}=e;return{listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",position:"relative",[`& .${Mf.option}`]:{minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16,[t.breakpoints.up("sm")]:{minHeight:"auto"},[`&.${Mf.focused}`]:{backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},'&[aria-disabled="true"]':{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${Mf.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},'&[aria-selected="true"]':{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:(0,Jt.X4)(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${Mf.focused}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:(0,Jt.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(t.vars||t).palette.action.selected}},[`&.${Mf.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:(0,Jt.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}}}}})),qf=(0,en.Ay)(Nf,{name:"MuiAutocomplete",slot:"GroupLabel",overridesResolver:(e,t)=>t.groupLabel})((e=>{let{theme:t}=e;return{backgroundColor:(t.vars||t).palette.background.paper,top:-8}})),Kf=(0,en.Ay)("ul",{name:"MuiAutocomplete",slot:"GroupUl",overridesResolver:(e,t)=>t.groupUl})({padding:0,[`& .${Mf.option}`]:{paddingLeft:24}}),Xf=W.forwardRef((function(e,t){var n,r,o,a;const i=(0,nn.b)({props:e,name:"MuiAutocomplete"}),{autoComplete:s=!1,autoHighlight:l=!1,autoSelect:u=!1,blurOnSelect:c=!1,ChipProps:d,className:p,clearIcon:h=Df||(Df=(0,sn.jsx)(Ps,{fontSize:"small"})),clearOnBlur:f=!i.freeSolo,clearOnEscape:m=!1,clearText:g="Clear",closeText:y="Close",componentsProps:v={},defaultValue:b=(i.multiple?[]:null),disableClearable:x=!1,disableCloseOnSelect:w=!1,disabled:k=!1,disabledItemsFocusable:S=!1,disableListWrap:A=!1,disablePortal:C=!1,filterSelectedOptions:T=!1,forcePopupIcon:I="auto",freeSolo:E=!1,fullWidth:N=!1,getLimitTagsText:O=e=>`+${e}`,getOptionLabel:M,groupBy:D,handleHomeEndKeys:R=!i.freeSolo,includeInputInList:P=!1,limitTags:$=-1,ListboxComponent:j="ul",ListboxProps:_,loading:F=!1,loadingText:L="Loading\u2026",multiple:z=!1,noOptionsText:B="No options",openOnFocus:V=!1,openText:U="Open",PaperComponent:H=cn,PopperComponent:G=Af,popupIcon:q=Rf||(Rf=(0,sn.jsx)(Ui,{})),readOnly:K=!1,renderGroup:X,renderInput:Y,renderOption:Q,renderTags:Z,selectOnFocus:J=!i.freeSolo,size:ee="medium",slotProps:te={}}=i,ne=(0,Xt.A)(i,Pf),{getRootProps:re,getInputProps:oe,getInputLabelProps:ae,getPopupIndicatorProps:ie,getClearProps:se,getTagProps:le,getListboxProps:ue,getOptionProps:ce,value:de,dirty:pe,expanded:he,id:fe,popupOpen:me,focused:ge,focusedTag:ye,anchorEl:ve,setAnchorEl:be,inputValue:xe,groupedOptions:we}=th((0,Yt.A)({},i,{componentName:"Autocomplete"})),ke=!x&&!k&&pe&&!K,Se=(!E||!0===I)&&!1!==I,{onMouseDown:Ae}=oe(),{ref:Ce}=null!=_?_:{},Te=ue(),{ref:Ie}=Te,Ee=(0,Xt.A)(Te,$f),Ne=(0,hn.A)(Ie,Ce),Oe=M||(e=>{var t;return null!=(t=e.label)?t:e}),Me=(0,Yt.A)({},i,{disablePortal:C,expanded:he,focused:ge,fullWidth:N,getOptionLabel:Oe,hasClearIcon:ke,hasPopupIcon:Se,inputFocused:-1===ye,popupOpen:me,size:ee}),De=(e=>{const{classes:t,disablePortal:n,expanded:r,focused:o,fullWidth:a,hasClearIcon:i,hasPopupIcon:s,inputFocused:l,popupOpen:u,size:c}=e,d={root:["root",r&&"expanded",o&&"focused",a&&"fullWidth",i&&"hasClearIcon",s&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",l&&"inputFocused"],tag:["tag",`tagSize${(0,qn.A)(c)}`],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",u&&"popupIndicatorOpen"],popper:["popper",n&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]};return(0,Zt.A)(d,Of,t)})(Me);let Re;if(z&&de.length>0){const e=e=>(0,Yt.A)({className:De.tag,disabled:k},le(e));Re=Z?Z(de,e,Me):de.map(((t,n)=>{const r=e({index:n}),{key:o}=r,a=(0,Xt.A)(r,jf);return(0,sn.jsx)(Sp,(0,Yt.A)({label:Oe(t),size:ee},a,d),o)}))}if($>-1&&Array.isArray(Re)){const e=Re.length-$;!ge&&e>0&&(Re=Re.splice(0,$),Re.push((0,sn.jsx)("span",{className:De.tag,children:O(e)},Re.length)))}const Pe=X||(e=>(0,sn.jsxs)("li",{children:[(0,sn.jsx)(qf,{className:De.groupLabel,ownerState:Me,component:"div",children:e.group}),(0,sn.jsx)(Kf,{className:De.groupUl,ownerState:Me,children:e.children})]},e.key)),$e=Q||((e,t)=>{const{key:n}=e,r=(0,Xt.A)(e,_f);return(0,sn.jsx)("li",(0,Yt.A)({},r,{children:Oe(t)}),n)}),je=(e,t)=>{const n=ce({option:e,index:t});return $e((0,Yt.A)({},n,{className:De.option}),e,{selected:n["aria-selected"],index:t,inputValue:xe},Me)},_e=null!=(n=te.clearIndicator)?n:v.clearIndicator,Fe=null!=(r=te.paper)?r:v.paper,Le=null!=(o=te.popper)?o:v.popper,ze=null!=(a=te.popupIndicator)?a:v.popupIndicator;return(0,sn.jsxs)(W.Fragment,{children:[(0,sn.jsx)(Ff,(0,Yt.A)({ref:t,className:(0,Qt.A)(De.root,p),ownerState:Me},re(ne),{children:Y({id:fe,disabled:k,fullWidth:!0,size:"small"===ee?"small":void 0,InputLabelProps:ae(),InputProps:(0,Yt.A)({ref:be,className:De.inputRoot,startAdornment:Re,onClick:e=>{e.target===e.currentTarget&&Ae(e)}},(ke||Se)&&{endAdornment:(0,sn.jsxs)(Lf,{className:De.endAdornment,ownerState:Me,children:[ke?(0,sn.jsx)(zf,(0,Yt.A)({},se(),{"aria-label":g,title:g,ownerState:Me},_e,{className:(0,Qt.A)(De.clearIndicator,null==_e?void 0:_e.className),children:h})):null,Se?(0,sn.jsx)(Bf,(0,Yt.A)({},ie(),{disabled:k,"aria-label":me?y:U,title:me?y:U,ownerState:Me},ze,{className:(0,Qt.A)(De.popupIndicator,null==ze?void 0:ze.className),children:q})):null]})}),inputProps:(0,Yt.A)({className:De.input,disabled:k,readOnly:K},oe())})})),ve?(0,sn.jsx)(Wf,(0,Yt.A)({as:G,disablePortal:C,style:{width:ve?ve.clientWidth:null},ownerState:Me,role:"presentation",anchorEl:ve,open:me},Le,{className:(0,Qt.A)(De.popper,null==Le?void 0:Le.className),children:(0,sn.jsxs)(Vf,(0,Yt.A)({ownerState:Me,as:H},Fe,{className:(0,Qt.A)(De.paper,null==Fe?void 0:Fe.className),children:[F&&0===we.length?(0,sn.jsx)(Uf,{className:De.loading,ownerState:Me,children:L}):null,0!==we.length||E||F?null:(0,sn.jsx)(Hf,{className:De.noOptions,ownerState:Me,role:"presentation",onMouseDown:e=>{e.preventDefault()},children:B}),we.length>0?(0,sn.jsx)(Gf,(0,Yt.A)({as:j,className:De.listbox,ownerState:Me},Ee,_,{ref:Ne,children:we.map(((e,t)=>D?Pe({key:e.key,group:e.group,children:e.options.map(((t,n)=>je(t,e.index+n)))}):je(e,t)))})):null]}))})):null]})})),Yf=(0,Vi.A)((0,sn.jsx)("path",{d:"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4"}),"AttachMoney"),Qf=(0,Vi.A)((0,sn.jsx)("path",{d:"m18 7-1.41-1.41-6.34 6.34 1.41 1.41zm4.24-1.41L11.66 16.17 7.48 12l-1.41 1.41L11.66 19l12-12zM.41 13.41 6 19l1.41-1.41L1.83 12z"}),"DoneAll"),Zf=(0,Vi.A)((0,sn.jsx)("path",{d:"M18 17H6v-2h12zm0-4H6v-2h12zm0-4H6V7h12zM3 22l1.5-1.5L6 22l1.5-1.5L9 22l1.5-1.5L12 22l1.5-1.5L15 22l1.5-1.5L18 22l1.5-1.5L21 22V2l-1.5 1.5L18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2 7.5 3.5 6 2 4.5 3.5 3 2z"}),"Receipt"),Jf=(0,Vi.A)([(0,sn.jsx)("path",{fillRule:"evenodd",d:"M16.67 13.13C18.04 14.06 19 15.32 19 17v3h4v-3c0-2.18-3.57-3.47-6.33-3.87"},"0"),(0,sn.jsx)("circle",{cx:"9",cy:"8",r:"4",fillRule:"evenodd"},"1"),(0,sn.jsx)("path",{fillRule:"evenodd",d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4c-.47 0-.91.1-1.33.24C14.5 5.27 15 6.58 15 8s-.5 2.73-1.33 3.76c.42.14.86.24 1.33.24m-6 1c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4"},"2")],"PeopleAlt"),em=(0,Vi.A)((0,sn.jsx)("path",{d:"M20.57 14.86 22 13.43 20.57 12 17 15.57 8.43 7 12 3.43 10.57 2 9.14 3.43 7.71 2 5.57 4.14 4.14 2.71 2.71 4.14l1.43 1.43L2 7.71l1.43 1.43L2 10.57 3.43 12 7 8.43 15.57 17 12 20.57 13.43 22l1.43-1.43L16.29 22l2.14-2.14 1.43 1.43 1.43-1.43-1.43-1.43L22 16.29z"}),"FitnessCenter"),tm=(0,Vi.A)((0,sn.jsx)("path",{d:"M19 5h-2V3H7v2H5c-1.1 0-2 .9-2 2v1c0 2.55 1.92 4.63 4.39 4.94.63 1.5 1.98 2.63 3.61 2.96V19H7v2h10v-2h-4v-3.1c1.63-.33 2.98-1.46 3.61-2.96C19.08 12.63 21 10.55 21 8V7c0-1.1-.9-2-2-2M5 8V7h2v3.82C5.84 10.4 5 9.3 5 8m14 0c0 1.3-.84 2.4-2 2.82V7h2z"}),"EmojiEvents"),nm=(0,Vi.A)((0,sn.jsx)("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"ChevronLeft"),rm=(0,Vi.A)((0,sn.jsx)("path",{d:"M21 6H3c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2m0 10H3V8h2v4h2V8h2v4h2V8h2v4h2V8h2v4h2V8h2z"}),"Straighten"),om=(0,Vi.A)([(0,sn.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-7 9c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3"},"0"),(0,sn.jsx)("path",{d:"M10 8.5h1v1h-1zm1.5 0h1v1h-1zm1.5 0h1v1h-1z"},"1")],"MonitorWeight"),am=(0,Vi.A)((0,sn.jsx)("path",{d:"M9.5 11c1.93 0 3.5 1.57 3.5 3.5S11.43 18 9.5 18 6 16.43 6 14.5 7.57 11 9.5 11m0-2C6.46 9 4 11.46 4 14.5S6.46 20 9.5 20s5.5-2.46 5.5-5.5c0-1.16-.36-2.23-.97-3.12L18 7.42V10h2V4h-6v2h2.58l-3.97 3.97C11.73 9.36 10.66 9 9.5 9"}),"Male"),im=(0,Vi.A)((0,sn.jsx)("path",{d:"M17.5 9.5C17.5 6.46 15.04 4 12 4S6.5 6.46 6.5 9.5c0 2.7 1.94 4.93 4.5 5.4V17H9v2h2v2h2v-2h2v-2h-2v-2.1c2.56-.47 4.5-2.7 4.5-5.4m-9 0C8.5 7.57 10.07 6 12 6s3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5"}),"Female"),sm=(0,Vi.A)((0,sn.jsx)("path",{d:"M16.53 11.06 15.47 10l-4.88 4.88-2.12-2.12-1.06 1.06L10.59 17zM19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 16H5V8h14z"}),"EventAvailable"),lm=(0,Vi.A)((0,sn.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add"),um=(0,Vi.A)((0,sn.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight"),cm=(0,Vi.A)((0,sn.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search"),dm=(0,Vi.A)([(0,sn.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"},"0"),(0,sn.jsx)("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},"1")],"AccessTime");function pm(e){return(0,on.Ay)("MuiDialog",e)}const hm=(0,rn.A)("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]);const fm=W.createContext({}),mm=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],gm=(0,en.Ay)(Wa,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),ym=(0,en.Ay)(ti,{name:"MuiDialog",slot:"Root",overridesResolver:(e,t)=>t.root})({"@media print":{position:"absolute !important"}}),vm=(0,en.Ay)("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.container,t[`scroll${(0,qn.A)(n.scroll)}`]]}})((e=>{let{ownerState:t}=e;return(0,Yt.A)({height:"100%","@media print":{height:"auto"},outline:0},"paper"===t.scroll&&{display:"flex",justifyContent:"center",alignItems:"center"},"body"===t.scroll&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})})),bm=(0,en.Ay)(cn,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t[`scrollPaper${(0,qn.A)(n.scroll)}`],t[`paperWidth${(0,qn.A)(String(n.maxWidth))}`],n.fullWidth&&t.paperFullWidth,n.fullScreen&&t.paperFullScreen]}})((e=>{let{theme:t,ownerState:n}=e;return(0,Yt.A)({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},"paper"===n.scroll&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},"body"===n.scroll&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!n.maxWidth&&{maxWidth:"calc(100% - 64px)"},"xs"===n.maxWidth&&{maxWidth:"px"===t.breakpoints.unit?Math.max(t.breakpoints.values.xs,444):`max(${t.breakpoints.values.xs}${t.breakpoints.unit}, 444px)`,[`&.${hm.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}},n.maxWidth&&"xs"!==n.maxWidth&&{maxWidth:`${t.breakpoints.values[n.maxWidth]}${t.breakpoints.unit}`,[`&.${hm.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[n.maxWidth]+64)]:{maxWidth:"calc(100% - 64px)"}}},n.fullWidth&&{width:"calc(100% - 64px)"},n.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${hm.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})})),xm=W.forwardRef((function(e,t){const n=(0,nn.b)({props:e,name:"MuiDialog"}),r=xa(),o={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{"aria-describedby":a,"aria-labelledby":i,BackdropComponent:s,BackdropProps:l,children:u,className:c,disableEscapeKeyDown:d=!1,fullScreen:p=!1,fullWidth:h=!1,maxWidth:f="sm",onBackdropClick:m,onClick:g,onClose:y,open:v,PaperComponent:b=cn,PaperProps:x={},scroll:w="paper",TransitionComponent:k=Fa,transitionDuration:S=o,TransitionProps:A}=n,C=(0,Xt.A)(n,mm),T=(0,Yt.A)({},n,{disableEscapeKeyDown:d,fullScreen:p,fullWidth:h,maxWidth:f,scroll:w}),I=(e=>{const{classes:t,scroll:n,maxWidth:r,fullWidth:o,fullScreen:a}=e,i={root:["root"],container:["container",`scroll${(0,qn.A)(n)}`],paper:["paper",`paperScroll${(0,qn.A)(n)}`,`paperWidth${(0,qn.A)(String(r))}`,o&&"paperFullWidth",a&&"paperFullScreen"]};return(0,Zt.A)(i,pm,t)})(T),E=W.useRef(),N=(0,or.A)(i),O=W.useMemo((()=>({titleId:N})),[N]);return(0,sn.jsx)(ym,(0,Yt.A)({className:(0,Qt.A)(I.root,c),closeAfterTransition:!0,components:{Backdrop:gm},componentsProps:{backdrop:(0,Yt.A)({transitionDuration:S,as:s},l)},disableEscapeKeyDown:d,onClose:y,open:v,ref:t,onClick:e=>{g&&g(e),E.current&&(E.current=null,m&&m(e),y&&y(e,"backdropClick"))},ownerState:T},C,{children:(0,sn.jsx)(k,(0,Yt.A)({appear:!0,in:v,timeout:S,role:"presentation"},A,{children:(0,sn.jsx)(vm,{className:(0,Qt.A)(I.container),onMouseDown:e=>{E.current=e.target===e.currentTarget},ownerState:T,children:(0,sn.jsx)(bm,(0,Yt.A)({as:b,elevation:24,role:"dialog","aria-describedby":a,"aria-labelledby":N},x,{className:(0,Qt.A)(I.paper,x.className),ownerState:T,children:(0,sn.jsx)(fm.Provider,{value:O,children:u})}))})}))}))}));function wm(e){return(0,on.Ay)("MuiDialogTitle",e)}const km=(0,rn.A)("MuiDialogTitle",["root"]),Sm=["className","id"],Am=(0,en.Ay)(vs,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),Cm=W.forwardRef((function(e,t){const n=(0,nn.b)({props:e,name:"MuiDialogTitle"}),{className:r,id:o}=n,a=(0,Xt.A)(n,Sm),i=n,s=(e=>{const{classes:t}=e;return(0,Zt.A)({root:["root"]},wm,t)})(i),{titleId:l=o}=W.useContext(fm);return(0,sn.jsx)(Am,(0,Yt.A)({component:"h2",className:(0,Qt.A)(s.root,r),ownerState:i,ref:t,variant:"h6",id:null!=o?o:l},a))}));function Tm(e){return(0,on.Ay)("MuiDialogContent",e)}(0,rn.A)("MuiDialogContent",["root","dividers"]);const Im=["className","dividers"],Em=(0,en.Ay)("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dividers&&t.dividers]}})((e=>{let{theme:t,ownerState:n}=e;return(0,Yt.A)({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},n.dividers?{padding:"16px 24px",borderTop:`1px solid ${(t.vars||t).palette.divider}`,borderBottom:`1px solid ${(t.vars||t).palette.divider}`}:{[`.${km.root} + &`]:{paddingTop:0}})})),Nm=W.forwardRef((function(e,t){const n=(0,nn.b)({props:e,name:"MuiDialogContent"}),{className:r,dividers:o=!1}=n,a=(0,Xt.A)(n,Im),i=(0,Yt.A)({},n,{dividers:o}),s=(e=>{const{classes:t,dividers:n}=e,r={root:["root",n&&"dividers"]};return(0,Zt.A)(r,Tm,t)})(i);return(0,sn.jsx)(Em,(0,Yt.A)({className:(0,Qt.A)(s.root,r),ownerState:i,ref:t},a))}));function Om(e){return(0,on.Ay)("MuiDialogActions",e)}(0,rn.A)("MuiDialogActions",["root","spacing"]);const Mm=["className","disableSpacing"],Dm=(0,en.Ay)("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})((e=>{let{ownerState:t}=e;return(0,Yt.A)({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!t.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})})),Rm=W.forwardRef((function(e,t){const n=(0,nn.b)({props:e,name:"MuiDialogActions"}),{className:r,disableSpacing:o=!1}=n,a=(0,Xt.A)(n,Mm),i=(0,Yt.A)({},n,{disableSpacing:o}),s=(e=>{const{classes:t,disableSpacing:n}=e,r={root:["root",!n&&"spacing"]};return(0,Zt.A)(r,Om,t)})(i);return(0,sn.jsx)(Dm,(0,Yt.A)({className:(0,Qt.A)(s.root,r),ownerState:i,ref:t},a))})),Pm=["className"],$m=(0,en.Ay)("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"flex-start"===n.alignItems&&t.alignItemsFlexStart]}})((e=>{let{theme:t,ownerState:n}=e;return(0,Yt.A)({minWidth:56,color:(t.vars||t).palette.action.active,flexShrink:0,display:"inline-flex"},"flex-start"===n.alignItems&&{marginTop:8})})),jm=W.forwardRef((function(e,t){const n=(0,nn.b)({props:e,name:"MuiListItemIcon"}),{className:r}=n,o=(0,Xt.A)(n,Pm),a=W.useContext(Ko),i=(0,Yt.A)({},n,{alignItems:a.alignItems}),s=(e=>{const{alignItems:t,classes:n}=e,r={root:["root","flex-start"===t&&"alignItemsFlexStart"]};return(0,Zt.A)(r,tl,n)})(i);return(0,sn.jsx)($m,(0,Yt.A)({className:(0,Qt.A)(s.root,r),ownerState:i,ref:t},o))}));const _m=function(e){const{badgeContent:t,invisible:n=!1,max:r=99,showZero:o=!1}=e,a=Xp({badgeContent:t,max:r});let i=n;!1!==n||0!==t||o||(i=!0);const{badgeContent:s,max:l=r}=i?a:e;return{badgeContent:s,invisible:i,max:l,displayValue:s&&Number(s)>l?`${l}+`:s}};function Fm(e){return(0,on.Ay)("MuiBadge",e)}const Lm=(0,rn.A)("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),zm=["anchorOrigin","className","classes","component","components","componentsProps","children","overlap","color","invisible","max","badgeContent","slots","slotProps","showZero","variant"],Bm=(0,en.Ay)("span",{name:"MuiBadge",slot:"Root",overridesResolver:(e,t)=>t.root})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),Wm=(0,en.Ay)("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.badge,t[n.variant],t[`anchorOrigin${(0,qn.A)(n.anchorOrigin.vertical)}${(0,qn.A)(n.anchorOrigin.horizontal)}${(0,qn.A)(n.overlap)}`],"default"!==n.color&&t[`color${(0,qn.A)(n.color)}`],n.invisible&&t.invisible]}})((e=>{let{theme:t}=e;var n;return{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(12),minWidth:20,lineHeight:1,padding:"0 6px",height:20,borderRadius:10,zIndex:1,transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.enteringScreen}),variants:[...Object.keys((null!=(n=t.vars)?n:t).palette).filter((e=>{var n,r;return(null!=(n=t.vars)?n:t).palette[e].main&&(null!=(r=t.vars)?r:t).palette[e].contrastText})).map((e=>({props:{color:e},style:{backgroundColor:(t.vars||t).palette[e].main,color:(t.vars||t).palette[e].contrastText}}))),{props:{variant:"dot"},style:{borderRadius:4,height:8,minWidth:8,padding:0}},{props:e=>{let{ownerState:t}=e;return"top"===t.anchorOrigin.vertical&&"right"===t.anchorOrigin.horizontal&&"rectangular"===t.overlap},style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${Lm.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:e=>{let{ownerState:t}=e;return"bottom"===t.anchorOrigin.vertical&&"right"===t.anchorOrigin.horizontal&&"rectangular"===t.overlap},style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${Lm.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:e=>{let{ownerState:t}=e;return"top"===t.anchorOrigin.vertical&&"left"===t.anchorOrigin.horizontal&&"rectangular"===t.overlap},style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${Lm.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:e=>{let{ownerState:t}=e;return"bottom"===t.anchorOrigin.vertical&&"left"===t.anchorOrigin.horizontal&&"rectangular"===t.overlap},style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${Lm.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:e=>{let{ownerState:t}=e;return"top"===t.anchorOrigin.vertical&&"right"===t.anchorOrigin.horizontal&&"circular"===t.overlap},style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${Lm.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:e=>{let{ownerState:t}=e;return"bottom"===t.anchorOrigin.vertical&&"right"===t.anchorOrigin.horizontal&&"circular"===t.overlap},style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${Lm.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:e=>{let{ownerState:t}=e;return"top"===t.anchorOrigin.vertical&&"left"===t.anchorOrigin.horizontal&&"circular"===t.overlap},style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${Lm.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:e=>{let{ownerState:t}=e;return"bottom"===t.anchorOrigin.vertical&&"left"===t.anchorOrigin.horizontal&&"circular"===t.overlap},style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${Lm.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.leavingScreen})}}]}})),Vm=W.forwardRef((function(e,t){var n,r,o,a,i,s;const l=(0,nn.b)({props:e,name:"MuiBadge"}),{anchorOrigin:u={vertical:"top",horizontal:"right"},className:c,component:d,components:p={},componentsProps:h={},children:f,overlap:m="rectangular",color:g="default",invisible:y=!1,max:v=99,badgeContent:b,slots:x,slotProps:w,showZero:k=!1,variant:S="standard"}=l,A=(0,Xt.A)(l,zm),{badgeContent:C,invisible:T,max:I,displayValue:E}=_m({max:v,invisible:y,badgeContent:b,showZero:k}),N=Xp({anchorOrigin:u,color:g,overlap:m,variant:S,badgeContent:b}),O=T||null==C&&"dot"!==S,{color:M=g,overlap:D=m,anchorOrigin:R=u,variant:P=S}=O?N:l,$="dot"!==P?E:void 0,j=(0,Yt.A)({},l,{badgeContent:C,invisible:O,max:I,displayValue:$,showZero:k,anchorOrigin:R,color:M,overlap:D,variant:P}),_=(e=>{const{color:t,anchorOrigin:n,invisible:r,overlap:o,variant:a,classes:i={}}=e,s={root:["root"],badge:["badge",a,r&&"invisible",`anchorOrigin${(0,qn.A)(n.vertical)}${(0,qn.A)(n.horizontal)}`,`anchorOrigin${(0,qn.A)(n.vertical)}${(0,qn.A)(n.horizontal)}${(0,qn.A)(o)}`,`overlap${(0,qn.A)(o)}`,"default"!==t&&`color${(0,qn.A)(t)}`]};return(0,Zt.A)(s,Fm,i)})(j),F=null!=(n=null!=(r=null==x?void 0:x.root)?r:p.Root)?n:Bm,L=null!=(o=null!=(a=null==x?void 0:x.badge)?a:p.Badge)?o:Wm,z=null!=(i=null==w?void 0:w.root)?i:h.root,B=null!=(s=null==w?void 0:w.badge)?s:h.badge,W=qo({elementType:F,externalSlotProps:z,externalForwardedProps:A,additionalProps:{ref:t,as:d},ownerState:j,className:(0,Qt.A)(null==z?void 0:z.className,_.root,c)}),V=qo({elementType:L,externalSlotProps:B,ownerState:j,className:(0,Qt.A)(_.badge,null==B?void 0:B.className)});return(0,sn.jsxs)(F,(0,Yt.A)({},W,{children:[f,(0,sn.jsx)(L,(0,Yt.A)({},V,{children:$}))]}))}));var Um=n(5879);function Hm(e){return(0,on.Ay)("MuiTooltip",e)}const Gm=(0,rn.A)("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),qm=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];const Km=(0,en.Ay)(Af,{name:"MuiTooltip",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.popper,!n.disableInteractive&&t.popperInteractive,n.arrow&&t.popperArrow,!n.open&&t.popperClose]}})((e=>{let{theme:t,ownerState:n,open:r}=e;return(0,Yt.A)({zIndex:(t.vars||t).zIndex.tooltip,pointerEvents:"none"},!n.disableInteractive&&{pointerEvents:"auto"},!r&&{pointerEvents:"none"},n.arrow&&{[`&[data-popper-placement*="bottom"] .${Gm.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${Gm.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${Gm.arrow}`]:(0,Yt.A)({},n.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${Gm.arrow}`]:(0,Yt.A)({},n.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})})),Xm=(0,en.Ay)("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.tooltip,n.touch&&t.touch,n.arrow&&t.tooltipArrow,t[`tooltipPlacement${(0,qn.A)(n.placement.split("-")[0])}`]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,Yt.A)({backgroundColor:t.vars?t.vars.palette.Tooltip.bg:(0,Jt.X4)(t.palette.grey[700],.92),borderRadius:(t.vars||t).shape.borderRadius,color:(t.vars||t).palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium},n.arrow&&{position:"relative",margin:0},n.touch&&{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:(r=16/14,Math.round(1e5*r)/1e5)+"em",fontWeight:t.typography.fontWeightRegular},{[`.${Gm.popper}[data-popper-placement*="left"] &`]:(0,Yt.A)({transformOrigin:"right center"},n.isRtl?(0,Yt.A)({marginLeft:"14px"},n.touch&&{marginLeft:"24px"}):(0,Yt.A)({marginRight:"14px"},n.touch&&{marginRight:"24px"})),[`.${Gm.popper}[data-popper-placement*="right"] &`]:(0,Yt.A)({transformOrigin:"left center"},n.isRtl?(0,Yt.A)({marginRight:"14px"},n.touch&&{marginRight:"24px"}):(0,Yt.A)({marginLeft:"14px"},n.touch&&{marginLeft:"24px"})),[`.${Gm.popper}[data-popper-placement*="top"] &`]:(0,Yt.A)({transformOrigin:"center bottom",marginBottom:"14px"},n.touch&&{marginBottom:"24px"}),[`.${Gm.popper}[data-popper-placement*="bottom"] &`]:(0,Yt.A)({transformOrigin:"center top",marginTop:"14px"},n.touch&&{marginTop:"24px"})});var r})),Ym=(0,en.Ay)("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(e,t)=>t.arrow})((e=>{let{theme:t}=e;return{overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:(0,Jt.X4)(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}}));let Qm=!1;const Zm=new In.E;let Jm={x:0,y:0};function eg(e,t){return function(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];t&&t(n,...o),e(n,...o)}}const tg=W.forwardRef((function(e,t){var n,r,o,a,i,s,l,u,c,d,p,h,f,m,g,y,v,b,x;const w=(0,nn.b)({props:e,name:"MuiTooltip"}),{arrow:k=!1,children:S,components:A={},componentsProps:C={},describeChild:T=!1,disableFocusListener:I=!1,disableHoverListener:E=!1,disableInteractive:N=!1,disableTouchListener:O=!1,enterDelay:M=100,enterNextDelay:D=0,enterTouchDelay:R=700,followCursor:P=!1,id:$,leaveDelay:j=0,leaveTouchDelay:_=1500,onClose:F,onOpen:L,open:z,placement:B="bottom",PopperComponent:V,PopperProps:U={},slotProps:H={},slots:G={},title:q,TransitionComponent:K=Ea,TransitionProps:X}=w,Y=(0,Xt.A)(w,qm),Q=W.isValidElement(S)?S:(0,sn.jsx)("span",{children:S}),Z=xa(),J=zo(),[ee,te]=W.useState(),[ne,re]=W.useState(null),oe=W.useRef(!1),ae=N||P,ie=(0,In.A)(),se=(0,In.A)(),le=(0,In.A)(),ue=(0,In.A)(),[ce,de]=(0,Mi.A)({controlled:z,default:!1,name:"Tooltip",state:"open"});let pe=ce;const he=(0,Um.A)($),fe=W.useRef(),me=(0,fn.A)((()=>{void 0!==fe.current&&(document.body.style.WebkitUserSelect=fe.current,fe.current=void 0),ue.clear()}));W.useEffect((()=>me),[me]);const ge=e=>{Zm.clear(),Qm=!0,de(!0),L&&!pe&&L(e)},ye=(0,fn.A)((e=>{Zm.start(800+j,(()=>{Qm=!1})),de(!1),F&&pe&&F(e),ie.start(Z.transitions.duration.shortest,(()=>{oe.current=!1}))})),ve=e=>{oe.current&&"touchstart"!==e.type||(ee&&ee.removeAttribute("title"),se.clear(),le.clear(),M||Qm&&D?se.start(Qm?D:M,(()=>{ge(e)})):ge(e))},be=e=>{se.clear(),le.start(j,(()=>{ye(e)}))},{isFocusVisibleRef:xe,onBlur:we,onFocus:ke,ref:Se}=(0,mn.A)(),[,Ae]=W.useState(!1),Ce=e=>{we(e),!1===xe.current&&(Ae(!1),be(e))},Te=e=>{ee||te(e.currentTarget),ke(e),!0===xe.current&&(Ae(!0),ve(e))},Ie=e=>{oe.current=!0;const t=Q.props;t.onTouchStart&&t.onTouchStart(e)},Ee=e=>{Ie(e),le.clear(),ie.clear(),me(),fe.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",ue.start(R,(()=>{document.body.style.WebkitUserSelect=fe.current,ve(e)}))},Ne=e=>{Q.props.onTouchEnd&&Q.props.onTouchEnd(e),me(),le.start(_,(()=>{ye(e)}))};W.useEffect((()=>{if(pe)return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)};function e(e){"Escape"!==e.key&&"Esc"!==e.key||ye(e)}}),[ye,pe]);const Oe=(0,hn.A)(_o(Q),Se,te,t);q||0===q||(pe=!1);const Me=W.useRef(),De={},Re="string"===typeof q;T?(De.title=pe||!Re||E?null:q,De["aria-describedby"]=pe?he:null):(De["aria-label"]=Re?q:null,De["aria-labelledby"]=pe&&!Re?he:null);const Pe=(0,Yt.A)({},De,Y,Q.props,{className:(0,Qt.A)(Y.className,Q.props.className),onTouchStart:Ie,ref:Oe},P?{onMouseMove:e=>{const t=Q.props;t.onMouseMove&&t.onMouseMove(e),Jm={x:e.clientX,y:e.clientY},Me.current&&Me.current.update()}}:{});const $e={};O||(Pe.onTouchStart=Ee,Pe.onTouchEnd=Ne),E||(Pe.onMouseOver=eg(ve,Pe.onMouseOver),Pe.onMouseLeave=eg(be,Pe.onMouseLeave),ae||($e.onMouseOver=ve,$e.onMouseLeave=be)),I||(Pe.onFocus=eg(Te,Pe.onFocus),Pe.onBlur=eg(Ce,Pe.onBlur),ae||($e.onFocus=Te,$e.onBlur=Ce));const je=W.useMemo((()=>{var e;let t=[{name:"arrow",enabled:Boolean(ne),options:{element:ne,padding:4}}];return null!=(e=U.popperOptions)&&e.modifiers&&(t=t.concat(U.popperOptions.modifiers)),(0,Yt.A)({},U.popperOptions,{modifiers:t})}),[ne,U]),_e=(0,Yt.A)({},w,{isRtl:J,arrow:k,disableInteractive:ae,placement:B,PopperComponentProp:V,touch:oe.current}),Fe=(e=>{const{classes:t,disableInteractive:n,arrow:r,touch:o,placement:a}=e,i={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",o&&"touch",`tooltipPlacement${(0,qn.A)(a.split("-")[0])}`],arrow:["arrow"]};return(0,Zt.A)(i,Hm,t)})(_e),Le=null!=(n=null!=(r=G.popper)?r:A.Popper)?n:Km,ze=null!=(o=null!=(a=null!=(i=G.transition)?i:A.Transition)?a:K)?o:Ea,Be=null!=(s=null!=(l=G.tooltip)?l:A.Tooltip)?s:Xm,We=null!=(u=null!=(c=G.arrow)?c:A.Arrow)?u:Ym,Ve=Bo(Le,(0,Yt.A)({},U,null!=(d=H.popper)?d:C.popper,{className:(0,Qt.A)(Fe.popper,null==U?void 0:U.className,null==(p=null!=(h=H.popper)?h:C.popper)?void 0:p.className)}),_e),Ue=Bo(ze,(0,Yt.A)({},X,null!=(f=H.transition)?f:C.transition),_e),He=Bo(Be,(0,Yt.A)({},null!=(m=H.tooltip)?m:C.tooltip,{className:(0,Qt.A)(Fe.tooltip,null==(g=null!=(y=H.tooltip)?y:C.tooltip)?void 0:g.className)}),_e),Ge=Bo(We,(0,Yt.A)({},null!=(v=H.arrow)?v:C.arrow,{className:(0,Qt.A)(Fe.arrow,null==(b=null!=(x=H.arrow)?x:C.arrow)?void 0:b.className)}),_e);return(0,sn.jsxs)(W.Fragment,{children:[W.cloneElement(Q,Pe),(0,sn.jsx)(Le,(0,Yt.A)({as:null!=V?V:Af,placement:B,anchorEl:P?{getBoundingClientRect:()=>({top:Jm.y,left:Jm.x,right:Jm.x,bottom:Jm.y,width:0,height:0})}:ee,popperRef:Me,open:!!ee&&pe,id:he,transition:!0},$e,Ve,{popperOptions:je,children:e=>{let{TransitionProps:t}=e;return(0,sn.jsx)(ze,(0,Yt.A)({timeout:Z.transitions.duration.shorter},t,Ue,{children:(0,sn.jsxs)(Be,(0,Yt.A)({},He,{children:[q,k?(0,sn.jsx)(We,(0,Yt.A)({},Ge,{ref:re})):null]}))}))}}))]})}));function ng(e){return(0,on.Ay)("MuiLinearProgress",e)}(0,rn.A)("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const rg=["className","color","value","valueBuffer","variant"];let og,ag,ig,sg,lg,ug,cg=e=>e;const dg=(0,Tn.i7)(og||(og=cg`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`)),pg=(0,Tn.i7)(ag||(ag=cg`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`)),hg=(0,Tn.i7)(ig||(ig=cg`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`)),fg=(e,t)=>"inherit"===t?"currentColor":e.vars?e.vars.palette.LinearProgress[`${t}Bg`]:"light"===e.palette.mode?(0,Jt.a)(e.palette[t].main,.62):(0,Jt.e$)(e.palette[t].main,.5),mg=(0,en.Ay)("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`color${(0,qn.A)(n.color)}`],t[n.variant]]}})((e=>{let{ownerState:t,theme:n}=e;return(0,Yt.A)({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:fg(n,t.color)},"inherit"===t.color&&"buffer"!==t.variant&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},"buffer"===t.variant&&{backgroundColor:"transparent"},"query"===t.variant&&{transform:"rotate(180deg)"})})),gg=(0,en.Ay)("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.dashed,t[`dashedColor${(0,qn.A)(n.color)}`]]}})((e=>{let{ownerState:t,theme:n}=e;const r=fg(n,t.color);return(0,Yt.A)({position:"absolute",marginTop:0,height:"100%",width:"100%"},"inherit"===t.color&&{opacity:.3},{backgroundImage:`radial-gradient(${r} 0%, ${r} 16%, transparent 42%)`,backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})}),(0,Tn.AH)(sg||(sg=cg`
    animation: ${0} 3s infinite linear;
  `),hg)),yg=(0,en.Ay)("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.bar,t[`barColor${(0,qn.A)(n.color)}`],("indeterminate"===n.variant||"query"===n.variant)&&t.bar1Indeterminate,"determinate"===n.variant&&t.bar1Determinate,"buffer"===n.variant&&t.bar1Buffer]}})((e=>{let{ownerState:t,theme:n}=e;return(0,Yt.A)({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:"inherit"===t.color?"currentColor":(n.vars||n).palette[t.color].main},"determinate"===t.variant&&{transition:"transform .4s linear"},"buffer"===t.variant&&{zIndex:1,transition:"transform .4s linear"})}),(e=>{let{ownerState:t}=e;return("indeterminate"===t.variant||"query"===t.variant)&&(0,Tn.AH)(lg||(lg=cg`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
    `),dg)})),vg=(0,en.Ay)("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.bar,t[`barColor${(0,qn.A)(n.color)}`],("indeterminate"===n.variant||"query"===n.variant)&&t.bar2Indeterminate,"buffer"===n.variant&&t.bar2Buffer]}})((e=>{let{ownerState:t,theme:n}=e;return(0,Yt.A)({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},"buffer"!==t.variant&&{backgroundColor:"inherit"===t.color?"currentColor":(n.vars||n).palette[t.color].main},"inherit"===t.color&&{opacity:.3},"buffer"===t.variant&&{backgroundColor:fg(n,t.color),transition:"transform .4s linear"})}),(e=>{let{ownerState:t}=e;return("indeterminate"===t.variant||"query"===t.variant)&&(0,Tn.AH)(ug||(ug=cg`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
    `),pg)})),bg=W.forwardRef((function(e,t){const n=(0,nn.b)({props:e,name:"MuiLinearProgress"}),{className:r,color:o="primary",value:a,valueBuffer:i,variant:s="indeterminate"}=n,l=(0,Xt.A)(n,rg),u=(0,Yt.A)({},n,{color:o,variant:s}),c=(e=>{const{classes:t,variant:n,color:r}=e,o={root:["root",`color${(0,qn.A)(r)}`,n],dashed:["dashed",`dashedColor${(0,qn.A)(r)}`],bar1:["bar",`barColor${(0,qn.A)(r)}`,("indeterminate"===n||"query"===n)&&"bar1Indeterminate","determinate"===n&&"bar1Determinate","buffer"===n&&"bar1Buffer"],bar2:["bar","buffer"!==n&&`barColor${(0,qn.A)(r)}`,"buffer"===n&&`color${(0,qn.A)(r)}`,("indeterminate"===n||"query"===n)&&"bar2Indeterminate","buffer"===n&&"bar2Buffer"]};return(0,Zt.A)(o,ng,t)})(u),d=zo(),p={},h={bar1:{},bar2:{}};if("determinate"===s||"buffer"===s)if(void 0!==a){p["aria-valuenow"]=Math.round(a),p["aria-valuemin"]=0,p["aria-valuemax"]=100;let e=a-100;d&&(e=-e),h.bar1.transform=`translateX(${e}%)`}else 0;if("buffer"===s)if(void 0!==i){let e=(i||0)-100;d&&(e=-e),h.bar2.transform=`translateX(${e}%)`}else 0;return(0,sn.jsxs)(mg,(0,Yt.A)({className:(0,Qt.A)(c.root,r),ownerState:u,role:"progressbar"},p,{ref:t},l,{children:["buffer"===s?(0,sn.jsx)(gg,{className:c.dashed,ownerState:u}):null,(0,sn.jsx)(yg,{className:c.bar1,ownerState:u,style:h.bar1}),"determinate"===s?null:(0,sn.jsx)(vg,{className:c.bar2,ownerState:u,style:h.bar2})]}))}));let xg;function wg(){if(xg)return xg;const e=document.createElement("div"),t=document.createElement("div");return t.style.width="10px",t.style.height="1px",e.appendChild(t),e.dir="rtl",e.style.fontSize="14px",e.style.width="4px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.overflow="scroll",document.body.appendChild(e),xg="reverse",e.scrollLeft>0?xg="default":(e.scrollLeft=1,0===e.scrollLeft&&(xg="negative")),document.body.removeChild(e),xg}function kg(e,t){const n=e.scrollLeft;if("rtl"!==t)return n;switch(wg()){case"negative":return e.scrollWidth-e.clientWidth+n;case"reverse":return e.scrollWidth-e.clientWidth-n;default:return n}}function Sg(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2}const Ag=["onChange"],Cg={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};const Tg=(0,Vi.A)((0,sn.jsx)("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),Ig=(0,Vi.A)((0,sn.jsx)("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight");function Eg(e){return(0,on.Ay)("MuiTabScrollButton",e)}const Ng=(0,rn.A)("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),Og=["className","slots","slotProps","direction","orientation","disabled"],Mg=(0,en.Ay)(Gn,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.orientation&&t[n.orientation]]}})((e=>{let{ownerState:t}=e;return(0,Yt.A)({width:40,flexShrink:0,opacity:.8,[`&.${Ng.disabled}`]:{opacity:0}},"vertical"===t.orientation&&{width:"100%",height:40,"& svg":{transform:`rotate(${t.isRtl?-90:90}deg)`}})})),Dg=W.forwardRef((function(e,t){var n,r;const o=(0,nn.b)({props:e,name:"MuiTabScrollButton"}),{className:a,slots:i={},slotProps:s={},direction:l}=o,u=(0,Xt.A)(o,Og),c=zo(),d=(0,Yt.A)({isRtl:c},o),p=(e=>{const{classes:t,orientation:n,disabled:r}=e,o={root:["root",n,r&&"disabled"]};return(0,Zt.A)(o,Eg,t)})(d),h=null!=(n=i.StartScrollButtonIcon)?n:Tg,f=null!=(r=i.EndScrollButtonIcon)?r:Ig,m=qo({elementType:h,externalSlotProps:s.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:d}),g=qo({elementType:f,externalSlotProps:s.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:d});return(0,sn.jsx)(Mg,(0,Yt.A)({component:"div",className:(0,Qt.A)(p.root,a),ref:t,role:null,ownerState:d,tabIndex:null},u,{children:"left"===l?(0,sn.jsx)(h,(0,Yt.A)({},m)):(0,sn.jsx)(f,(0,Yt.A)({},g))}))}));function Rg(e){return(0,on.Ay)("MuiTabs",e)}const Pg=(0,rn.A)("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),$g=["aria-label","aria-labelledby","action","centered","children","className","component","allowScrollButtonsMobile","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","slots","slotProps","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant","visibleScrollbar"],jg=(e,t)=>e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:e.firstChild,_g=(e,t)=>e===t?e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:e.lastChild,Fg=(e,t,n)=>{let r=!1,o=n(e,t);for(;o;){if(o===e.firstChild){if(r)return;r=!0}const t=o.disabled||"true"===o.getAttribute("aria-disabled");if(o.hasAttribute("tabindex")&&!t)return void o.focus();o=n(e,o)}},Lg=(0,en.Ay)("div",{name:"MuiTabs",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${Pg.scrollButtons}`]:t.scrollButtons},{[`& .${Pg.scrollButtons}`]:n.scrollButtonsHideMobile&&t.scrollButtonsHideMobile},t.root,n.vertical&&t.vertical]}})((e=>{let{ownerState:t,theme:n}=e;return(0,Yt.A)({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},t.vertical&&{flexDirection:"column"},t.scrollButtonsHideMobile&&{[`& .${Pg.scrollButtons}`]:{[n.breakpoints.down("sm")]:{display:"none"}}})})),zg=(0,en.Ay)("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.scroller,n.fixed&&t.fixed,n.hideScrollbar&&t.hideScrollbar,n.scrollableX&&t.scrollableX,n.scrollableY&&t.scrollableY]}})((e=>{let{ownerState:t}=e;return(0,Yt.A)({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},t.fixed&&{overflowX:"hidden",width:"100%"},t.hideScrollbar&&{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},t.scrollableX&&{overflowX:"auto",overflowY:"hidden"},t.scrollableY&&{overflowY:"auto",overflowX:"hidden"})})),Bg=(0,en.Ay)("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.flexContainer,n.vertical&&t.flexContainerVertical,n.centered&&t.centered]}})((e=>{let{ownerState:t}=e;return(0,Yt.A)({display:"flex"},t.vertical&&{flexDirection:"column"},t.centered&&{justifyContent:"center"})})),Wg=(0,en.Ay)("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(e,t)=>t.indicator})((e=>{let{ownerState:t,theme:n}=e;return(0,Yt.A)({position:"absolute",height:2,bottom:0,width:"100%",transition:n.transitions.create()},"primary"===t.indicatorColor&&{backgroundColor:(n.vars||n).palette.primary.main},"secondary"===t.indicatorColor&&{backgroundColor:(n.vars||n).palette.secondary.main},t.vertical&&{height:"100%",width:2,right:0})})),Vg=(0,en.Ay)((function(e){const{onChange:t}=e,n=(0,Xt.A)(e,Ag),r=W.useRef(),o=W.useRef(null),a=()=>{r.current=o.current.offsetHeight-o.current.clientHeight};return(0,wr.A)((()=>{const e=(0,sa.A)((()=>{const e=r.current;a(),e!==r.current&&t(r.current)})),n=(0,la.A)(o.current);return n.addEventListener("resize",e),()=>{e.clear(),n.removeEventListener("resize",e)}}),[t]),W.useEffect((()=>{a(),t(r.current)}),[t]),(0,sn.jsx)("div",(0,Yt.A)({style:Cg},n,{ref:o}))}))({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),Ug={};const Hg=W.forwardRef((function(e,t){const n=(0,nn.b)({props:e,name:"MuiTabs"}),r=xa(),o=zo(),{"aria-label":a,"aria-labelledby":i,action:s,centered:l=!1,children:u,className:c,component:d="div",allowScrollButtonsMobile:p=!1,indicatorColor:h="primary",onChange:f,orientation:m="horizontal",ScrollButtonComponent:g=Dg,scrollButtons:y="auto",selectionFollowsFocus:v,slots:b={},slotProps:x={},TabIndicatorProps:w={},TabScrollButtonProps:k={},textColor:S="primary",value:A,variant:C="standard",visibleScrollbar:T=!1}=n,I=(0,Xt.A)(n,$g),E="scrollable"===C,N="vertical"===m,O=N?"scrollTop":"scrollLeft",M=N?"top":"left",D=N?"bottom":"right",R=N?"clientHeight":"clientWidth",P=N?"height":"width",$=(0,Yt.A)({},n,{component:d,allowScrollButtonsMobile:p,indicatorColor:h,orientation:m,vertical:N,scrollButtons:y,textColor:S,variant:C,visibleScrollbar:T,fixed:!E,hideScrollbar:E&&!T,scrollableX:E&&!N,scrollableY:E&&N,centered:l&&!E,scrollButtonsHideMobile:!p}),j=(e=>{const{vertical:t,fixed:n,hideScrollbar:r,scrollableX:o,scrollableY:a,centered:i,scrollButtonsHideMobile:s,classes:l}=e,u={root:["root",t&&"vertical"],scroller:["scroller",n&&"fixed",r&&"hideScrollbar",o&&"scrollableX",a&&"scrollableY"],flexContainer:["flexContainer",t&&"flexContainerVertical",i&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",s&&"scrollButtonsHideMobile"],scrollableX:[o&&"scrollableX"],hideScrollbar:[r&&"hideScrollbar"]};return(0,Zt.A)(u,Rg,l)})($),_=qo({elementType:b.StartScrollButtonIcon,externalSlotProps:x.startScrollButtonIcon,ownerState:$}),F=qo({elementType:b.EndScrollButtonIcon,externalSlotProps:x.endScrollButtonIcon,ownerState:$});const[L,z]=W.useState(!1),[B,V]=W.useState(Ug),[U,H]=W.useState(!1),[G,q]=W.useState(!1),[K,X]=W.useState(!1),[Y,Q]=W.useState({overflow:"hidden",scrollbarWidth:0}),Z=new Map,J=W.useRef(null),ee=W.useRef(null),te=()=>{const e=J.current;let t,n;if(e){const n=e.getBoundingClientRect();t={clientWidth:e.clientWidth,scrollLeft:e.scrollLeft,scrollTop:e.scrollTop,scrollLeftNormalized:kg(e,o?"rtl":"ltr"),scrollWidth:e.scrollWidth,top:n.top,bottom:n.bottom,left:n.left,right:n.right}}if(e&&!1!==A){const e=ee.current.children;if(e.length>0){const t=e[Z.get(A)];0,n=t?t.getBoundingClientRect():null}}return{tabsMeta:t,tabMeta:n}},ne=(0,fn.A)((()=>{const{tabsMeta:e,tabMeta:t}=te();let n,r=0;if(N)n="top",t&&e&&(r=t.top-e.top+e.scrollTop);else if(n=o?"right":"left",t&&e){const a=o?e.scrollLeftNormalized+e.clientWidth-e.scrollWidth:e.scrollLeft;r=(o?-1:1)*(t[n]-e[n]+a)}const a={[n]:r,[P]:t?t[P]:0};if(isNaN(B[n])||isNaN(B[P]))V(a);else{const e=Math.abs(B[n]-a[n]),t=Math.abs(B[P]-a[P]);(e>=1||t>=1)&&V(a)}})),re=function(e){let{animation:t=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t?function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>{};const{ease:a=Sg,duration:i=300}=r;let s=null;const l=t[e];let u=!1;const c=()=>{u=!0},d=r=>{if(u)return void o(new Error("Animation cancelled"));null===s&&(s=r);const c=Math.min(1,(r-s)/i);t[e]=a(c)*(n-l)+l,c>=1?requestAnimationFrame((()=>{o(null)})):requestAnimationFrame(d)};l===n?o(new Error("Element already at target position")):requestAnimationFrame(d)}(O,J.current,e,{duration:r.transitions.duration.standard}):J.current[O]=e},oe=e=>{let t=J.current[O];N?t+=e:(t+=e*(o?-1:1),t*=o&&"reverse"===wg()?-1:1),re(t)},ae=()=>{const e=J.current[R];let t=0;const n=Array.from(ee.current.children);for(let r=0;r<n.length;r+=1){const o=n[r];if(t+o[R]>e){0===r&&(t=e);break}t+=o[R]}return t},ie=()=>{oe(-1*ae())},se=()=>{oe(ae())},le=W.useCallback((e=>{Q({overflow:null,scrollbarWidth:e})}),[]),ue=(0,fn.A)((e=>{const{tabsMeta:t,tabMeta:n}=te();if(n&&t)if(n[M]<t[M]){const r=t[O]+(n[M]-t[M]);re(r,{animation:e})}else if(n[D]>t[D]){const r=t[O]+(n[D]-t[D]);re(r,{animation:e})}})),ce=(0,fn.A)((()=>{E&&!1!==y&&X(!K)}));W.useEffect((()=>{const e=(0,sa.A)((()=>{J.current&&ne()}));let t;const n=n=>{n.forEach((e=>{e.removedNodes.forEach((e=>{var n;null==(n=t)||n.unobserve(e)})),e.addedNodes.forEach((e=>{var n;null==(n=t)||n.observe(e)}))})),e(),ce()},r=(0,la.A)(J.current);let o;return r.addEventListener("resize",e),"undefined"!==typeof ResizeObserver&&(t=new ResizeObserver(e),Array.from(ee.current.children).forEach((e=>{t.observe(e)}))),"undefined"!==typeof MutationObserver&&(o=new MutationObserver(n),o.observe(ee.current,{childList:!0})),()=>{var n,a;e.clear(),r.removeEventListener("resize",e),null==(n=o)||n.disconnect(),null==(a=t)||a.disconnect()}}),[ne,ce]),W.useEffect((()=>{const e=Array.from(ee.current.children),t=e.length;if("undefined"!==typeof IntersectionObserver&&t>0&&E&&!1!==y){const n=e[0],r=e[t-1],o={root:J.current,threshold:.99},a=new IntersectionObserver((e=>{H(!e[0].isIntersecting)}),o);a.observe(n);const i=new IntersectionObserver((e=>{q(!e[0].isIntersecting)}),o);return i.observe(r),()=>{a.disconnect(),i.disconnect()}}}),[E,y,K,null==u?void 0:u.length]),W.useEffect((()=>{z(!0)}),[]),W.useEffect((()=>{ne()})),W.useEffect((()=>{ue(Ug!==B)}),[ue,B]),W.useImperativeHandle(s,(()=>({updateIndicator:ne,updateScrollButtons:ce})),[ne,ce]);const de=(0,sn.jsx)(Wg,(0,Yt.A)({},w,{className:(0,Qt.A)(j.indicator,w.className),ownerState:$,style:(0,Yt.A)({},B,w.style)}));let pe=0;const he=W.Children.map(u,(e=>{if(!W.isValidElement(e))return null;const t=void 0===e.props.value?pe:e.props.value;Z.set(t,pe);const n=t===A;return pe+=1,W.cloneElement(e,(0,Yt.A)({fullWidth:"fullWidth"===C,indicator:n&&!L&&de,selected:n,selectionFollowsFocus:v,onChange:f,textColor:S,value:t},1!==pe||!1!==A||e.props.tabIndex?{}:{tabIndex:0}))})),fe=(()=>{const e={};e.scrollbarSizeListener=E?(0,sn.jsx)(Vg,{onChange:le,className:(0,Qt.A)(j.scrollableX,j.hideScrollbar)}):null;const t=E&&("auto"===y&&(U||G)||!0===y);return e.scrollButtonStart=t?(0,sn.jsx)(g,(0,Yt.A)({slots:{StartScrollButtonIcon:b.StartScrollButtonIcon},slotProps:{startScrollButtonIcon:_},orientation:m,direction:o?"right":"left",onClick:ie,disabled:!U},k,{className:(0,Qt.A)(j.scrollButtons,k.className)})):null,e.scrollButtonEnd=t?(0,sn.jsx)(g,(0,Yt.A)({slots:{EndScrollButtonIcon:b.EndScrollButtonIcon},slotProps:{endScrollButtonIcon:F},orientation:m,direction:o?"left":"right",onClick:se,disabled:!G},k,{className:(0,Qt.A)(j.scrollButtons,k.className)})):null,e})();return(0,sn.jsxs)(Lg,(0,Yt.A)({className:(0,Qt.A)(j.root,c),ownerState:$,ref:t,as:d},I,{children:[fe.scrollButtonStart,fe.scrollbarSizeListener,(0,sn.jsxs)(zg,{className:j.scroller,ownerState:$,style:{overflow:Y.overflow,[N?"margin"+(o?"Left":"Right"):"marginBottom"]:T?void 0:-Y.scrollbarWidth},ref:J,children:[(0,sn.jsx)(Bg,{"aria-label":a,"aria-labelledby":i,"aria-orientation":"vertical"===m?"vertical":null,className:j.flexContainer,ownerState:$,onKeyDown:e=>{const t=ee.current,n=(0,Fo.A)(t).activeElement;if("tab"!==n.getAttribute("role"))return;let r="horizontal"===m?"ArrowLeft":"ArrowUp",a="horizontal"===m?"ArrowRight":"ArrowDown";switch("horizontal"===m&&o&&(r="ArrowRight",a="ArrowLeft"),e.key){case r:e.preventDefault(),Fg(t,n,_g);break;case a:e.preventDefault(),Fg(t,n,jg);break;case"Home":e.preventDefault(),Fg(t,null,jg);break;case"End":e.preventDefault(),Fg(t,null,_g)}},ref:ee,role:"tablist",children:he}),L&&de]}),fe.scrollButtonEnd]}))}));function Gg(e){return(0,on.Ay)("MuiTab",e)}const qg=(0,rn.A)("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper"]),Kg=["className","disabled","disableFocusRipple","fullWidth","icon","iconPosition","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"],Xg=(0,en.Ay)(Gn,{name:"MuiTab",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.label&&n.icon&&t.labelIcon,t[`textColor${(0,qn.A)(n.textColor)}`],n.fullWidth&&t.fullWidth,n.wrapped&&t.wrapped,{[`& .${qg.iconWrapper}`]:t.iconWrapper}]}})((e=>{let{theme:t,ownerState:n}=e;return(0,Yt.A)({},t.typography.button,{maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center"},n.label&&{flexDirection:"top"===n.iconPosition||"bottom"===n.iconPosition?"column":"row"},{lineHeight:1.25},n.icon&&n.label&&{minHeight:72,paddingTop:9,paddingBottom:9,[`& > .${qg.iconWrapper}`]:(0,Yt.A)({},"top"===n.iconPosition&&{marginBottom:6},"bottom"===n.iconPosition&&{marginTop:6},"start"===n.iconPosition&&{marginRight:t.spacing(1)},"end"===n.iconPosition&&{marginLeft:t.spacing(1)})},"inherit"===n.textColor&&{color:"inherit",opacity:.6,[`&.${qg.selected}`]:{opacity:1},[`&.${qg.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}},"primary"===n.textColor&&{color:(t.vars||t).palette.text.secondary,[`&.${qg.selected}`]:{color:(t.vars||t).palette.primary.main},[`&.${qg.disabled}`]:{color:(t.vars||t).palette.text.disabled}},"secondary"===n.textColor&&{color:(t.vars||t).palette.text.secondary,[`&.${qg.selected}`]:{color:(t.vars||t).palette.secondary.main},[`&.${qg.disabled}`]:{color:(t.vars||t).palette.text.disabled}},n.fullWidth&&{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},n.wrapped&&{fontSize:t.typography.pxToRem(12)})})),Yg=W.forwardRef((function(e,t){const n=(0,nn.b)({props:e,name:"MuiTab"}),{className:r,disabled:o=!1,disableFocusRipple:a=!1,fullWidth:i,icon:s,iconPosition:l="top",indicator:u,label:c,onChange:d,onClick:p,onFocus:h,selected:f,selectionFollowsFocus:m,textColor:g="inherit",value:y,wrapped:v=!1}=n,b=(0,Xt.A)(n,Kg),x=(0,Yt.A)({},n,{disabled:o,disableFocusRipple:a,selected:f,icon:!!s,iconPosition:l,label:!!c,fullWidth:i,textColor:g,wrapped:v}),w=(e=>{const{classes:t,textColor:n,fullWidth:r,wrapped:o,icon:a,label:i,selected:s,disabled:l}=e,u={root:["root",a&&i&&"labelIcon",`textColor${(0,qn.A)(n)}`,r&&"fullWidth",o&&"wrapped",s&&"selected",l&&"disabled"],iconWrapper:["iconWrapper"]};return(0,Zt.A)(u,Gg,t)})(x),k=s&&c&&W.isValidElement(s)?W.cloneElement(s,{className:(0,Qt.A)(w.iconWrapper,s.props.className)}):s;return(0,sn.jsxs)(Xg,(0,Yt.A)({focusRipple:!a,className:(0,Qt.A)(w.root,r),ref:t,role:"tab","aria-selected":f,disabled:o,onClick:e=>{!f&&d&&d(e,y),p&&p(e)},onFocus:e=>{m&&!f&&d&&d(e,y),h&&h(e)},ownerState:x,tabIndex:f?0:-1},b,{children:["top"===l||"start"===l?(0,sn.jsxs)(W.Fragment,{children:[k,c]}):(0,sn.jsxs)(W.Fragment,{children:[c,k]}),u]}))})),Qg=(0,Vi.A)((0,sn.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete"),Zg=(0,Vi.A)((0,sn.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle"),Jg=(0,Vi.A)((0,sn.jsx)("path",{d:"M13 6.99h3L12 3 8 6.99h3v10.02H8L12 21l4-3.99h-3z"}),"Height"),ey=(0,Vi.A)((0,sn.jsx)("path",{d:"M14 11V8c4.56-.58 8-3.1 8-6H2c0 2.9 3.44 5.42 8 6v3c-3.68.73-8 3.61-8 11h6v-2H4.13c.93-6.83 6.65-7.2 7.87-7.2s6.94.37 7.87 7.2H16v2h6c0-7.39-4.32-10.27-8-11m-2 11c-1.1 0-2-.9-2-2 0-.55.22-1.05.59-1.41C11.39 17.79 16 16 16 16s-1.79 4.61-2.59 5.41c-.36.37-.86.59-1.41.59"}),"Scale"),ty=(0,Vi.A)((0,sn.jsx)("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"}),"Download"),ny=(0,Vi.A)((0,sn.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),ry=(0,Vi.A)((0,sn.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"MoreVert"),oy=(0,Vi.A)((0,sn.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit"),ay=(0,Vi.A)((0,sn.jsx)("path",{d:"M23 8c0 1.1-.9 2-2 2-.18 0-.35-.02-.51-.07l-3.56 3.55c.05.16.07.34.07.52 0 1.1-.9 2-2 2s-2-.9-2-2c0-.18.02-.36.07-.52l-2.55-2.55c-.16.05-.34.07-.52.07s-.36-.02-.52-.07l-4.55 4.56c.05.16.07.33.07.51 0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2c.18 0 .35.02.51.07l4.56-4.55C8.02 9.36 8 9.18 8 9c0-1.1.9-2 2-2s2 .9 2 2c0 .18-.02.36-.07.52l2.55 2.55c.16-.05.34-.07.52-.07s.36.02.52.07l3.55-3.56C19.02 8.35 19 8.18 19 8c0-1.1.9-2 2-2s2 .9 2 2"}),"Timeline"),iy=(0,Vi.A)((0,sn.jsx)("path",{d:"M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1m2 14H7v-2h7zm3-4H7v-2h10zm0-4H7V7h10z"}),"Assignment"),sy=(0,Vi.A)([(0,sn.jsx)("path",{d:"m19.8 2-8.2 6.7-1.21-1.04 3.6-2.08L9.41 1 8 2.41l2.74 2.74L5 8.46l-1.19 4.29L6.27 17 8 16l-2.03-3.52.35-1.3L9.5 13l.5 9h2l.5-10L21 3.4z"},"0"),(0,sn.jsx)("circle",{cx:"5",cy:"5",r:"2"},"1")],"SportsMartialArts"),ly=(0,Vi.A)((0,sn.jsx)("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9m-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8z"}),"History"),uy=(0,Vi.A)((0,sn.jsx)("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"}),"Warning");const cy=W.createContext();function dy(e){return(0,on.Ay)("MuiTableRow",e)}const py=(0,rn.A)("MuiTableRow",["root","selected","hover","head","footer"]),hy=["className","component","hover","selected"],fy=(0,en.Ay)("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.head&&t.head,n.footer&&t.footer]}})((e=>{let{theme:t}=e;return{color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${py.hover}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${py.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:(0,Jt.X4)(t.palette.primary.main,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:(0,Jt.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)}}}})),my="tr",gy=W.forwardRef((function(e,t){const n=(0,nn.b)({props:e,name:"MuiTableRow"}),{className:r,component:o=my,hover:a=!1,selected:i=!1}=n,s=(0,Xt.A)(n,hy),l=W.useContext(cy),u=(0,Yt.A)({},n,{component:o,hover:a,selected:i,head:l&&"head"===l.variant,footer:l&&"footer"===l.variant}),c=(e=>{const{classes:t,selected:n,hover:r,head:o,footer:a}=e,i={root:["root",n&&"selected",r&&"hover",o&&"head",a&&"footer"]};return(0,Zt.A)(i,dy,t)})(u);return(0,sn.jsx)(fy,(0,Yt.A)({as:o,ref:t,className:(0,Qt.A)(c.root,r),role:o===my?null:"row",ownerState:u},s))}));const yy=W.createContext();function vy(e){return(0,on.Ay)("MuiTableCell",e)}const by=(0,rn.A)("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),xy=["align","className","component","padding","scope","size","sortDirection","variant"],wy=(0,en.Ay)("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`size${(0,qn.A)(n.size)}`],"normal"!==n.padding&&t[`padding${(0,qn.A)(n.padding)}`],"inherit"!==n.align&&t[`align${(0,qn.A)(n.align)}`],n.stickyHeader&&t.stickyHeader]}})((e=>{let{theme:t,ownerState:n}=e;return(0,Yt.A)({},t.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:t.vars?`1px solid ${t.vars.palette.TableCell.border}`:`1px solid\n    ${"light"===t.palette.mode?(0,Jt.a)((0,Jt.X4)(t.palette.divider,1),.88):(0,Jt.e$)((0,Jt.X4)(t.palette.divider,1),.68)}`,textAlign:"left",padding:16},"head"===n.variant&&{color:(t.vars||t).palette.text.primary,lineHeight:t.typography.pxToRem(24),fontWeight:t.typography.fontWeightMedium},"body"===n.variant&&{color:(t.vars||t).palette.text.primary},"footer"===n.variant&&{color:(t.vars||t).palette.text.secondary,lineHeight:t.typography.pxToRem(21),fontSize:t.typography.pxToRem(12)},"small"===n.size&&{padding:"6px 16px",[`&.${by.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}},"checkbox"===n.padding&&{width:48,padding:"0 0 0 4px"},"none"===n.padding&&{padding:0},"left"===n.align&&{textAlign:"left"},"center"===n.align&&{textAlign:"center"},"right"===n.align&&{textAlign:"right",flexDirection:"row-reverse"},"justify"===n.align&&{textAlign:"justify"},n.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:(t.vars||t).palette.background.default})})),ky=W.forwardRef((function(e,t){const n=(0,nn.b)({props:e,name:"MuiTableCell"}),{align:r="inherit",className:o,component:a,padding:i,scope:s,size:l,sortDirection:u,variant:c}=n,d=(0,Xt.A)(n,xy),p=W.useContext(yy),h=W.useContext(cy),f=h&&"head"===h.variant;let m;m=a||(f?"th":"td");let g=s;"td"===m?g=void 0:!g&&f&&(g="col");const y=c||h&&h.variant,v=(0,Yt.A)({},n,{align:r,component:m,padding:i||(p&&p.padding?p.padding:"normal"),size:l||(p&&p.size?p.size:"medium"),sortDirection:u,stickyHeader:"head"===y&&p&&p.stickyHeader,variant:y}),b=(e=>{const{classes:t,variant:n,align:r,padding:o,size:a,stickyHeader:i}=e,s={root:["root",n,i&&"stickyHeader","inherit"!==r&&`align${(0,qn.A)(r)}`,"normal"!==o&&`padding${(0,qn.A)(o)}`,`size${(0,qn.A)(a)}`]};return(0,Zt.A)(s,vy,t)})(v);let x=null;return u&&(x="asc"===u?"ascending":"descending"),(0,sn.jsx)(wy,(0,Yt.A)({as:m,ref:t,className:(0,Qt.A)(b.root,o),"aria-sort":x,scope:g,ownerState:v},d))}));function Sy(e){return(0,on.Ay)("MuiTableContainer",e)}(0,rn.A)("MuiTableContainer",["root"]);const Ay=["className","component"],Cy=(0,en.Ay)("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(e,t)=>t.root})({width:"100%",overflowX:"auto"}),Ty=W.forwardRef((function(e,t){const n=(0,nn.b)({props:e,name:"MuiTableContainer"}),{className:r,component:o="div"}=n,a=(0,Xt.A)(n,Ay),i=(0,Yt.A)({},n,{component:o}),s=(e=>{const{classes:t}=e;return(0,Zt.A)({root:["root"]},Sy,t)})(i);return(0,sn.jsx)(Cy,(0,Yt.A)({ref:t,as:o,className:(0,Qt.A)(s.root,r),ownerState:i},a))}));function Iy(e){return(0,on.Ay)("MuiTable",e)}(0,rn.A)("MuiTable",["root","stickyHeader"]);const Ey=["className","component","padding","size","stickyHeader"],Ny=(0,en.Ay)("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.stickyHeader&&t.stickyHeader]}})((e=>{let{theme:t,ownerState:n}=e;return(0,Yt.A)({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":(0,Yt.A)({},t.typography.body2,{padding:t.spacing(2),color:(t.vars||t).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},n.stickyHeader&&{borderCollapse:"separate"})})),Oy="table",My=W.forwardRef((function(e,t){const n=(0,nn.b)({props:e,name:"MuiTable"}),{className:r,component:o=Oy,padding:a="normal",size:i="medium",stickyHeader:s=!1}=n,l=(0,Xt.A)(n,Ey),u=(0,Yt.A)({},n,{component:o,padding:a,size:i,stickyHeader:s}),c=(e=>{const{classes:t,stickyHeader:n}=e,r={root:["root",n&&"stickyHeader"]};return(0,Zt.A)(r,Iy,t)})(u),d=W.useMemo((()=>({padding:a,size:i,stickyHeader:s})),[a,i,s]);return(0,sn.jsx)(yy.Provider,{value:d,children:(0,sn.jsx)(Ny,(0,Yt.A)({as:o,role:o===Oy?null:"table",ref:t,className:(0,Qt.A)(c.root,r),ownerState:u},l))})}));function Dy(e){return(0,on.Ay)("MuiTableHead",e)}(0,rn.A)("MuiTableHead",["root"]);const Ry=["className","component"],Py=(0,en.Ay)("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-header-group"}),$y={variant:"head"},jy="thead",_y=W.forwardRef((function(e,t){const n=(0,nn.b)({props:e,name:"MuiTableHead"}),{className:r,component:o=jy}=n,a=(0,Xt.A)(n,Ry),i=(0,Yt.A)({},n,{component:o}),s=(e=>{const{classes:t}=e;return(0,Zt.A)({root:["root"]},Dy,t)})(i);return(0,sn.jsx)(cy.Provider,{value:$y,children:(0,sn.jsx)(Py,(0,Yt.A)({as:o,className:(0,Qt.A)(s.root,r),ref:t,role:o===jy?null:"rowgroup",ownerState:i},a))})}));function Fy(e){return(0,on.Ay)("MuiTableBody",e)}(0,rn.A)("MuiTableBody",["root"]);const Ly=["className","component"],zy=(0,en.Ay)("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-row-group"}),By={variant:"body"},Wy="tbody",Vy=W.forwardRef((function(e,t){const n=(0,nn.b)({props:e,name:"MuiTableBody"}),{className:r,component:o=Wy}=n,a=(0,Xt.A)(n,Ly),i=(0,Yt.A)({},n,{component:o}),s=(e=>{const{classes:t}=e;return(0,Zt.A)({root:["root"]},Fy,t)})(i);return(0,sn.jsx)(cy.Provider,{value:By,children:(0,sn.jsx)(zy,(0,Yt.A)({className:(0,Qt.A)(s.root,r),as:o,ref:t,role:o===Wy?null:"rowgroup",ownerState:i},a))})}));var Uy=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function Hy(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(r=e[n],o=t[n],!(r===o||Uy(r)&&Uy(o)))return!1;var r,o;return!0}const Gy=function(e,t){var n;void 0===t&&(t=Hy);var r,o=[],a=!1;return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return a&&n===this&&t(i,o)||(r=e.apply(this,i),a=!0,n=this,o=i),r}};var qy="object"===typeof performance&&"function"===typeof performance.now?function(){return performance.now()}:function(){return Date.now()};function Ky(e){cancelAnimationFrame(e.id)}function Xy(e,t){var n=qy();var r={id:requestAnimationFrame((function o(){qy()-n>=t?e.call(null):r.id=requestAnimationFrame(o)}))};return r}var Yy=-1;function Qy(e){if(void 0===e&&(e=!1),-1===Yy||e){var t=document.createElement("div"),n=t.style;n.width="50px",n.height="50px",n.overflow="scroll",document.body.appendChild(t),Yy=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return Yy}var Zy=null;function Jy(e){if(void 0===e&&(e=!1),null===Zy||e){var t=document.createElement("div"),n=t.style;n.width="50px",n.height="50px",n.overflow="scroll",n.direction="rtl";var r=document.createElement("div"),o=r.style;return o.width="100px",o.height="100px",t.appendChild(r),document.body.appendChild(t),t.scrollLeft>0?Zy="positive-descending":(t.scrollLeft=1,Zy=0===t.scrollLeft?"negative":"positive-ascending"),document.body.removeChild(t),Zy}return Zy}var ev=function(e,t){return e};function tv(e){var t,n=e.getItemOffset,r=e.getEstimatedTotalSize,o=e.getItemSize,a=e.getOffsetForIndexAndAlignment,i=e.getStartIndexForOffset,s=e.getStopIndexForStartIndex,l=e.initInstanceProps,u=e.shouldResetStyleCacheOnItemSizeChange,c=e.validateProps;return(t=function(e){function t(t){var r;return(r=e.call(this,t)||this)._instanceProps=l(r.props,gn(r)),r._outerRef=void 0,r._resetIsScrollingTimeoutId=null,r.state={instance:gn(r),isScrolling:!1,scrollDirection:"forward",scrollOffset:"number"===typeof r.props.initialScrollOffset?r.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},r._callOnItemsRendered=void 0,r._callOnItemsRendered=Gy((function(e,t,n,o){return r.props.onItemsRendered({overscanStartIndex:e,overscanStopIndex:t,visibleStartIndex:n,visibleStopIndex:o})})),r._callOnScroll=void 0,r._callOnScroll=Gy((function(e,t,n){return r.props.onScroll({scrollDirection:e,scrollOffset:t,scrollUpdateWasRequested:n})})),r._getItemStyle=void 0,r._getItemStyle=function(e){var t,a=r.props,i=a.direction,s=a.itemSize,l=a.layout,c=r._getItemStyleCache(u&&s,u&&l,u&&i);if(c.hasOwnProperty(e))t=c[e];else{var d=n(r.props,e,r._instanceProps),p=o(r.props,e,r._instanceProps),h="horizontal"===i||"horizontal"===l,f="rtl"===i,m=h?d:0;c[e]=t={position:"absolute",left:f?void 0:m,right:f?m:void 0,top:h?0:d,height:h?"100%":p,width:h?p:"100%"}}return t},r._getItemStyleCache=void 0,r._getItemStyleCache=Gy((function(e,t,n){return{}})),r._onScrollHorizontal=function(e){var t=e.currentTarget,n=t.clientWidth,o=t.scrollLeft,a=t.scrollWidth;r.setState((function(e){if(e.scrollOffset===o)return null;var t=r.props.direction,i=o;if("rtl"===t)switch(Jy()){case"negative":i=-o;break;case"positive-descending":i=a-n-o}return i=Math.max(0,Math.min(i,a-n)),{isScrolling:!0,scrollDirection:e.scrollOffset<i?"forward":"backward",scrollOffset:i,scrollUpdateWasRequested:!1}}),r._resetIsScrollingDebounced)},r._onScrollVertical=function(e){var t=e.currentTarget,n=t.clientHeight,o=t.scrollHeight,a=t.scrollTop;r.setState((function(e){if(e.scrollOffset===a)return null;var t=Math.max(0,Math.min(a,o-n));return{isScrolling:!0,scrollDirection:e.scrollOffset<t?"forward":"backward",scrollOffset:t,scrollUpdateWasRequested:!1}}),r._resetIsScrollingDebounced)},r._outerRefSetter=function(e){var t=r.props.outerRef;r._outerRef=e,"function"===typeof t?t(e):null!=t&&"object"===typeof t&&t.hasOwnProperty("current")&&(t.current=e)},r._resetIsScrollingDebounced=function(){null!==r._resetIsScrollingTimeoutId&&Ky(r._resetIsScrollingTimeoutId),r._resetIsScrollingTimeoutId=Xy(r._resetIsScrolling,150)},r._resetIsScrolling=function(){r._resetIsScrollingTimeoutId=null,r.setState({isScrolling:!1},(function(){r._getItemStyleCache(-1,null)}))},r}vn(t,e),t.getDerivedStateFromProps=function(e,t){return nv(e,t),c(e),null};var d=t.prototype;return d.scrollTo=function(e){e=Math.max(0,e),this.setState((function(t){return t.scrollOffset===e?null:{scrollDirection:t.scrollOffset<e?"forward":"backward",scrollOffset:e,scrollUpdateWasRequested:!0}}),this._resetIsScrollingDebounced)},d.scrollToItem=function(e,t){void 0===t&&(t="auto");var n=this.props,r=n.itemCount,o=n.layout,i=this.state.scrollOffset;e=Math.max(0,Math.min(e,r-1));var s=0;if(this._outerRef){var l=this._outerRef;s="vertical"===o?l.scrollWidth>l.clientWidth?Qy():0:l.scrollHeight>l.clientHeight?Qy():0}this.scrollTo(a(this.props,e,t,i,this._instanceProps,s))},d.componentDidMount=function(){var e=this.props,t=e.direction,n=e.initialScrollOffset,r=e.layout;if("number"===typeof n&&null!=this._outerRef){var o=this._outerRef;"horizontal"===t||"horizontal"===r?o.scrollLeft=n:o.scrollTop=n}this._callPropsCallbacks()},d.componentDidUpdate=function(){var e=this.props,t=e.direction,n=e.layout,r=this.state,o=r.scrollOffset;if(r.scrollUpdateWasRequested&&null!=this._outerRef){var a=this._outerRef;if("horizontal"===t||"horizontal"===n)if("rtl"===t)switch(Jy()){case"negative":a.scrollLeft=-o;break;case"positive-ascending":a.scrollLeft=o;break;default:var i=a.clientWidth,s=a.scrollWidth;a.scrollLeft=s-i-o}else a.scrollLeft=o;else a.scrollTop=o}this._callPropsCallbacks()},d.componentWillUnmount=function(){null!==this._resetIsScrollingTimeoutId&&Ky(this._resetIsScrollingTimeoutId)},d.render=function(){var e=this.props,t=e.children,n=e.className,o=e.direction,a=e.height,i=e.innerRef,s=e.innerElementType,l=e.innerTagName,u=e.itemCount,c=e.itemData,d=e.itemKey,p=void 0===d?ev:d,h=e.layout,f=e.outerElementType,m=e.outerTagName,g=e.style,y=e.useIsScrolling,v=e.width,b=this.state.isScrolling,x="horizontal"===o||"horizontal"===h,w=x?this._onScrollHorizontal:this._onScrollVertical,k=this._getRangeToRender(),S=k[0],A=k[1],C=[];if(u>0)for(var T=S;T<=A;T++)C.push((0,W.createElement)(t,{data:c,key:p(T,c),index:T,isScrolling:y?b:void 0,style:this._getItemStyle(T)}));var I=r(this.props,this._instanceProps);return(0,W.createElement)(f||m||"div",{className:n,onScroll:w,ref:this._outerRefSetter,style:(0,Yt.A)({position:"relative",height:a,width:v,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:o},g)},(0,W.createElement)(s||l||"div",{children:C,ref:i,style:{height:x?"100%":I,pointerEvents:b?"none":void 0,width:x?I:"100%"}}))},d._callPropsCallbacks=function(){if("function"===typeof this.props.onItemsRendered&&this.props.itemCount>0){var e=this._getRangeToRender(),t=e[0],n=e[1],r=e[2],o=e[3];this._callOnItemsRendered(t,n,r,o)}if("function"===typeof this.props.onScroll){var a=this.state,i=a.scrollDirection,s=a.scrollOffset,l=a.scrollUpdateWasRequested;this._callOnScroll(i,s,l)}},d._getRangeToRender=function(){var e=this.props,t=e.itemCount,n=e.overscanCount,r=this.state,o=r.isScrolling,a=r.scrollDirection,l=r.scrollOffset;if(0===t)return[0,0,0,0];var u=i(this.props,l,this._instanceProps),c=s(this.props,u,l,this._instanceProps),d=o&&"backward"!==a?1:Math.max(1,n),p=o&&"forward"!==a?1:Math.max(1,n);return[Math.max(0,u-d),Math.max(0,Math.min(t-1,c+p)),u,c]},t}(W.PureComponent)).defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},t}var nv=function(e,t){e.children,e.direction,e.height,e.layout,e.innerTagName,e.outerTagName,e.width,t.instance},rv=function(e,t,n){var r=e.itemSize,o=n.itemMetadataMap,a=n.lastMeasuredIndex;if(t>a){var i=0;if(a>=0){var s=o[a];i=s.offset+s.size}for(var l=a+1;l<=t;l++){var u=r(l);o[l]={offset:i,size:u},i+=u}n.lastMeasuredIndex=t}return o[t]},ov=function(e,t,n,r,o){for(;r<=n;){var a=r+Math.floor((n-r)/2),i=rv(e,a,t).offset;if(i===o)return a;i<o?r=a+1:i>o&&(n=a-1)}return r>0?r-1:0},av=function(e,t,n,r){for(var o=e.itemCount,a=1;n<o&&rv(e,n,t).offset<r;)n+=a,a*=2;return ov(e,t,Math.min(n,o-1),Math.floor(n/2),r)},iv=function(e,t){var n=e.itemCount,r=t.itemMetadataMap,o=t.estimatedItemSize,a=t.lastMeasuredIndex,i=0;if(a>=n&&(a=n-1),a>=0){var s=r[a];i=s.offset+s.size}return i+(n-a-1)*o},sv=tv({getItemOffset:function(e,t,n){return rv(e,t,n).offset},getItemSize:function(e,t,n){return n.itemMetadataMap[t].size},getEstimatedTotalSize:iv,getOffsetForIndexAndAlignment:function(e,t,n,r,o,a){var i=e.direction,s=e.height,l=e.layout,u=e.width,c="horizontal"===i||"horizontal"===l?u:s,d=rv(e,t,o),p=iv(e,o),h=Math.max(0,Math.min(p-c,d.offset)),f=Math.max(0,d.offset-c+d.size+a);switch("smart"===n&&(n=r>=f-c&&r<=h+c?"auto":"center"),n){case"start":return h;case"end":return f;case"center":return Math.round(f+(h-f)/2);default:return r>=f&&r<=h?r:r<f?f:h}},getStartIndexForOffset:function(e,t,n){return function(e,t,n){var r=t.itemMetadataMap,o=t.lastMeasuredIndex;return(o>0?r[o].offset:0)>=n?ov(e,t,o,0,n):av(e,t,Math.max(0,o),n)}(e,n,t)},getStopIndexForStartIndex:function(e,t,n,r){for(var o=e.direction,a=e.height,i=e.itemCount,s=e.layout,l=e.width,u="horizontal"===o||"horizontal"===s?l:a,c=rv(e,t,r),d=n+u,p=c.offset+c.size,h=t;h<i-1&&p<d;)h++,p+=rv(e,h,r).size;return h},initInstanceProps:function(e,t){var n={itemMetadataMap:{},estimatedItemSize:e.estimatedItemSize||50,lastMeasuredIndex:-1};return t.resetAfterIndex=function(e,r){void 0===r&&(r=!0),n.lastMeasuredIndex=Math.min(n.lastMeasuredIndex,e-1),t._getItemStyleCache(-1),r&&t.forceUpdate()},n},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(e){e.itemSize}});const lv=e=>{let{payments:t,filteredPayments:n,handleOpen:r,setOpenCardDialog:o,findSelectedClient:a}=e;const i=null!==n&&void 0!==n?n:t,s=(0,W.useMemo)((()=>[...i].reverse()),[i]),l=(0,W.useCallback)((e=>{a(e),o(!0)}),[a,o]),u=(0,W.useRef)(null);return(0,sn.jsx)(cn,{sx:{p:2,borderRadius:3,boxShadow:"0 8px 32px rgba(0, 0, 0, 0.05)"},children:(0,sn.jsx)(Ty,{sx:{maxHeight:440},children:(0,sn.jsxs)(My,{stickyHeader:!0,children:[(0,sn.jsx)(_y,{children:(0,sn.jsxs)(gy,{sx:{background:"linear-gradient(90deg, #f6f6f6 0%, #f9f9f9 100%)",display:"flex",width:"100%"},children:[(0,sn.jsx)(ky,{sx:{fontWeight:700,flex:1},children:"\u0414\u0430\u0442\u0430"}),(0,sn.jsx)(ky,{sx:{fontWeight:700,flex:1},children:"\u041a\u043b\u0438\u0435\u043d\u0442"}),(0,sn.jsx)(ky,{sx:{fontWeight:700,flex:1},children:"\u0421\u0443\u043c\u043c\u0430"}),(0,sn.jsx)(ky,{sx:{fontWeight:700,flex:1},children:"\u0422\u0438\u043f"}),(0,sn.jsx)(ky,{sx:{fontWeight:700,flex:1},children:"\u0421\u0442\u0430\u0442\u0443\u0441"}),(0,sn.jsx)(ky,{sx:{fontWeight:700,flex:1},children:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"})]})}),(0,sn.jsx)(Vy,{component:"div",sx:{display:"block",maxHeight:440,overflow:"auto"},children:(0,sn.jsx)(sv,{height:380,itemCount:s.length,itemSize:()=>50,width:"100%",ref:u,children:e=>{let{index:t,style:n}=e;const o=s[t];return(0,sn.jsxs)(gy,{hover:!0,style:{...n,display:"flex",width:"100%",boxSizing:"border-box"},children:[(0,sn.jsx)(ky,{component:"div",variant:"body",sx:{flex:1,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},children:new Date(null===o||void 0===o?void 0:o.date).toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric"})}),(0,sn.jsx)(ky,{component:"div",variant:"body",sx:{flex:1,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},children:"function"===typeof a?(0,sn.jsx)(rr,{variant:"text",disableRipple:!0,disableElevation:!0,sx:{padding:0,minWidth:0,textTransform:"none",fontWeight:"normal",fontSize:"inherit",color:"inherit","&:hover":{backgroundColor:"transparent",textDecoration:"underline"}},onClick:()=>l(o.clientId),children:null===o||void 0===o?void 0:o.client}):null===o||void 0===o?void 0:o.client}),(0,sn.jsxs)(ky,{component:"div",variant:"body",sx:{flex:1,fontWeight:600,color:"#2e7d32",display:"flex",alignItems:"center",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},children:[null===o||void 0===o?void 0:o.amount.toLocaleString("ru-RU")," \u20bd"]}),(0,sn.jsx)(ky,{component:"div",variant:"body",sx:{flex:1,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},children:(0,sn.jsx)(Sp,{label:null===o||void 0===o?void 0:o.type,size:"small",sx:{background:"\u0420\u0430\u0437\u043e\u0432\u0430\u044f"===(null===o||void 0===o?void 0:o.type)?"#e3f2fd":"10 \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043e\u043a"===(null===o||void 0===o?void 0:o.type)?"#e8f5e9":"#fff8e1",color:"\u0420\u0430\u0437\u043e\u0432\u0430\u044f"===(null===o||void 0===o?void 0:o.type)?"#1565c0":"10 \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043e\u043a"===(null===o||void 0===o?void 0:o.type)?"#2e7d32":"#ff8f00"}})}),(0,sn.jsx)(ky,{component:"div",variant:"body",sx:{flex:1,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},children:(0,sn.jsx)(Sp,{label:null===o||void 0===o?void 0:o.status,size:"small",sx:{background:"\u0410\u043a\u0442\u0438\u0432\u0435\u043d"===(null===o||void 0===o?void 0:o.status)?"#e8f5e9":"#ffebee",color:"\u0410\u043a\u0442\u0438\u0432\u0435\u043d"===(null===o||void 0===o?void 0:o.status)?"#2e7d32":"#c62828"}})}),(0,sn.jsx)(ky,{component:"div",variant:"body",sx:{flex:1,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},children:(0,sn.jsx)(rr,{variant:"outlined",size:"small",color:"primary",onClick:()=>r(o),sx:{textTransform:"none",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)","&:hover":{backgroundColor:"#f0f7ff",boxShadow:"0 4px 8px rgba(0,0,0,0.15)"}},children:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"})})]},o.id)}})})]})})})},uv=W.memo(lv),cv=(0,Vi.A)((0,sn.jsx)("path",{d:"M9 11H7v2h2zm4 0h-2v2h2zm4 0h-2v2h2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 16H5V9h14z"}),"DateRange");function dv(e){const{theme:t,name:n,props:r}=e;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?(0,dn.A)(t.components[n].defaultProps,r):r}function pv(e,t,n,r,o){const[a,i]=W.useState((()=>o&&n?n(e).matches:r?r(e).matches:t));return(0,dr.A)((()=>{let t=!0;if(!n)return;const r=n(e),o=()=>{t&&i(r.matches)};return o(),r.addListener(o),()=>{t=!1,r.removeListener(o)}}),[e,n]),a}const hv=V.useSyncExternalStore;function fv(e,t,n,r,o){const a=W.useCallback((()=>t),[t]),i=W.useMemo((()=>{if(o&&n)return()=>n(e).matches;if(null!==r){const{matches:t}=r(e);return()=>t}return a}),[a,e,r,o,n]),[s,l]=W.useMemo((()=>{if(null===n)return[a,()=>()=>{}];const t=n(e);return[()=>t.matches,e=>(t.addListener(e),()=>{t.removeListener(e)})]}),[a,n,e]);return hv(l,s,i)}function mv(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Cr(),r="undefined"!==typeof window&&"undefined"!==typeof window.matchMedia,{defaultMatches:o=!1,matchMedia:a=(r?window.matchMedia:null),ssrMatchMedia:i=null,noSsr:s=!1}=dv({name:"MuiUseMediaQuery",props:t,theme:n});let l="function"===typeof e?e(n):e;l=l.replace(/^@media( ?)/m,"");return(void 0!==hv?fv:pv)(l,o,a,i,s)}function gv(e){let{props:t,name:n,defaultTheme:r,themeId:o}=e,a=Ir(r);o&&(a=a[o]||a);return dv({theme:a,name:n,props:t})}function yv(e){let{props:t,name:n}=e;return gv({props:t,name:n,defaultTheme:Nr.A,themeId:Or.A})}var vv=n(5173),bv=n.n(vv);const xv=bv().oneOfType([bv().func,bv().object]),wv=(e,t)=>e.length===t.length&&t.every((t=>e.includes(t))),kv=e=>{let{openTo:t,defaultOpenTo:n,views:r,defaultViews:o}=e;const a=r??o;let i;if(null!=t)i=t;else if(a.includes(n))i=n;else{if(!(a.length>0))throw new Error("MUI X: The `views` prop must contain at least one view.");i=a[0]}return{views:a,openTo:i}},Sv=(e,t,n)=>{let r=t;return r=e.setHours(r,e.getHours(n)),r=e.setMinutes(r,e.getMinutes(n)),r=e.setSeconds(r,e.getSeconds(n)),r=e.setMilliseconds(r,e.getMilliseconds(n)),r},Av=e=>{let{date:t,disableFuture:n,disablePast:r,maxDate:o,minDate:a,isDateDisabled:i,utils:s,timezone:l}=e;const u=Sv(s,s.date(void 0,l),t);r&&s.isBefore(a,u)&&(a=u),n&&s.isAfter(o,u)&&(o=u);let c=t,d=t;for(s.isBefore(t,a)&&(c=a,d=null),s.isAfter(t,o)&&(d&&(d=o),c=null);c||d;){if(c&&s.isAfter(c,o)&&(c=null),d&&s.isBefore(d,a)&&(d=null),c){if(!i(c))return c;c=s.addDays(c,1)}if(d){if(!i(d))return d;d=s.addDays(d,-1)}}return null},Cv=(e,t,n)=>null!=t&&e.isValid(t)?t:n,Tv=(e,t)=>{const n=[e.startOfYear(t)];for(;n.length<12;){const t=n[n.length-1];n.push(e.addMonths(t,1))}return n},Iv=(e,t,n)=>"date"===n?e.startOfDay(e.date(void 0,t)):e.date(void 0,t),Ev=(e,t)=>{const n=e.setHours(e.date(),"am"===t?2:14);return e.format(n,"meridiem")},Nv=["year","month","day"],Ov=e=>Nv.includes(e),Mv=(e,t,n)=>{let{format:r,views:o}=t;if(null!=r)return r;const a=e.formats;return wv(o,["year"])?a.year:wv(o,["month"])?a.month:wv(o,["day"])?a.dayOfMonth:wv(o,["month","year"])?`${a.month} ${a.year}`:wv(o,["day","month"])?`${a.month} ${a.dayOfMonth}`:n?/en/.test(e.getCurrentLocaleCode())?a.normalDateWithWeekday:a.normalDate:a.keyboardDate},Dv=(e,t)=>{const n=e.startOfWeek(t);return[0,1,2,3,4,5,6].map((t=>e.addDays(n,t)))},Rv=["hours","minutes","seconds"],Pv=e=>Rv.includes(e),$v=e=>Rv.includes(e)||"meridiem"===e,jv=(e,t,n)=>{if(n){if((e>=12?"pm":"am")!==t)return"am"===t?e-12:e+12}return e},_v=(e,t)=>3600*t.getHours(e)+60*t.getMinutes(e)+t.getSeconds(e),Fv=(e,t)=>(n,r)=>e?t.isAfter(n,r):_v(n,t)>_v(r,t),Lv=(e,t)=>{let{format:n,views:r,ampm:o}=t;if(null!=n)return n;const a=e.formats;return wv(r,["hours"])?o?`${a.hours12h} ${a.meridiem}`:a.hours24h:wv(r,["minutes"])?a.minutes:wv(r,["seconds"])?a.seconds:wv(r,["minutes","seconds"])?`${a.minutes}:${a.seconds}`:wv(r,["hours","minutes","seconds"])?o?`${a.hours12h}:${a.minutes}:${a.seconds} ${a.meridiem}`:`${a.hours24h}:${a.minutes}:${a.seconds}`:o?`${a.hours12h}:${a.minutes} ${a.meridiem}`:`${a.hours24h}:${a.minutes}`},zv={year:1,month:2,day:3,hours:4,minutes:5,seconds:6,milliseconds:7},Bv=(e,t,n)=>{if(t===zv.year)return e.startOfYear(n);if(t===zv.month)return e.startOfMonth(n);if(t===zv.day)return e.startOfDay(n);let r=n;return t<zv.minutes&&(r=e.setMinutes(r,0)),t<zv.seconds&&(r=e.setSeconds(r,0)),t<zv.milliseconds&&(r=e.setMilliseconds(r,0)),r},Wv=(e,t)=>{const n=e.formatTokenMap[t];if(null==n)throw new Error([`MUI X: The token "${t}" is not supported by the Date and Time Pickers.`,"Please try using another token or open an issue on https://github.com/mui/mui-x/issues/new/choose if you think it should be supported."].join("\n"));return"string"===typeof n?{type:n,contentType:"meridiem"===n?"letter":"digit",maxLength:void 0}:{type:n.sectionType,contentType:n.contentType,maxLength:n.maxLength}},Vv=(e,t)=>{const n=[],r=e.date(void 0,"default"),o=e.startOfWeek(r),a=e.endOfWeek(r);let i=o;for(;e.isBefore(i,a);)n.push(i),i=e.addDays(i,1);return n.map((n=>e.formatByString(n,t)))},Uv=(e,t,n,r)=>{switch(n){case"month":return Tv(e,e.date(void 0,t)).map((t=>e.formatByString(t,r)));case"weekDay":return Vv(e,r);case"meridiem":{const n=e.date(void 0,t);return[e.startOfDay(n),e.endOfDay(n)].map((t=>e.formatByString(t,r)))}default:return[]}},Hv=["0","1","2","3","4","5","6","7","8","9"],Gv=(e,t)=>{if("0"===t[0])return e;const n=[];let r="";for(let o=0;o<e.length;o+=1){r+=e[o];const a=t.indexOf(r);a>-1&&(n.push(a.toString()),r="")}return n.join("")},qv=(e,t)=>"0"===t[0]?e:e.split("").map((e=>t[Number(e)])).join(""),Kv=(e,t)=>{const n=Gv(e,t);return" "!==n&&!Number.isNaN(Number(n))},Xv=(e,t)=>{let n=e;for(n=Number(n).toString();n.length<t;)n=`0${n}`;return n},Yv=(e,t,n,r,o)=>{if("day"===o.type&&"digit-with-letter"===o.contentType){const r=e.setDate(n.longestMonth,t);return e.formatByString(r,o.format)}let a=t.toString();return o.hasLeadingZerosInInput&&(a=Xv(a,o.maxLength)),qv(a,r)},Qv=(e,t,n,r,o,a,i,s)=>{const l=(e=>{switch(e){case"ArrowUp":return 1;case"ArrowDown":return-1;case"PageUp":return 5;case"PageDown":return-5;default:return 0}})(r),u="Home"===r,c="End"===r,d=""===n.value||u||c;return"digit"===n.contentType||"digit-with-letter"===n.contentType?(()=>{const r=o[n.type]({currentDate:i,format:n.format,contentType:n.contentType}),p=t=>Yv(e,t,r,a,n),h="minutes"===n.type&&s?.minutesStep?s.minutesStep:1;let f;if(d){if("year"===n.type&&!c&&!u)return e.formatByString(e.date(void 0,t),n.format);f=l>0||u?r.minimum:r.maximum}else f=parseInt(Gv(n.value,a),10)+l*h;return f%h!==0&&((l<0||u)&&(f+=h-(h+f)%h),(l>0||c)&&(f-=f%h)),f>r.maximum?p(r.minimum+(f-r.maximum-1)%(r.maximum-r.minimum+1)):f<r.minimum?p(r.maximum-(r.minimum-f-1)%(r.maximum-r.minimum+1)):p(f)})():(()=>{const r=Uv(e,t,n.type,n.format);if(0===r.length)return n.value;if(d)return l>0||u?r[0]:r[r.length-1];const o=r.indexOf(n.value);return r[((o+l)%r.length+r.length)%r.length]})()},Zv=(e,t,n)=>{let r=e.value||e.placeholder;const o="non-input"===t?e.hasLeadingZerosInFormat:e.hasLeadingZerosInInput;"non-input"===t&&e.hasLeadingZerosInInput&&!e.hasLeadingZerosInFormat&&(r=Number(Gv(r,n)).toString());return["input-rtl","input-ltr"].includes(t)&&"digit"===e.contentType&&!o&&1===r.length&&(r=`${r}\u200e`),"input-rtl"===t&&(r=`\u2068${r}\u2069`),r},Jv=(e,t,n,r)=>e.formatByString(e.parse(t,n),r),eb=(e,t)=>4===e.formatByString(e.date(void 0,"system"),t).length,tb=(e,t,n,r)=>{if("digit"!==t)return!1;const o=e.date(void 0,"default");switch(n){case"year":return"dayjs"===e.lib&&"YY"===r||e.formatByString(e.setYear(o,1),r).startsWith("0");case"month":return e.formatByString(e.startOfYear(o),r).length>1;case"day":return e.formatByString(e.startOfMonth(o),r).length>1;case"weekDay":return e.formatByString(e.startOfWeek(o),r).length>1;case"hours":return e.formatByString(e.setHours(o,1),r).length>1;case"minutes":return e.formatByString(e.setMinutes(o,1),r).length>1;case"seconds":return e.formatByString(e.setSeconds(o,1),r).length>1;default:throw new Error("Invalid section type")}};const nb=(e,t)=>{0},rb={year:1,month:2,day:3,weekDay:4,hours:5,minutes:6,seconds:7,meridiem:8,empty:9},ob=(e,t,n,r,o)=>[...n].sort(((e,t)=>rb[e.type]-rb[t.type])).reduce(((n,r)=>!o||r.modified?((e,t,n,r)=>{switch(t.type){case"year":return e.setYear(r,e.getYear(n));case"month":return e.setMonth(r,e.getMonth(n));case"weekDay":{const r=Vv(e,t.format),o=e.formatByString(n,t.format),a=r.indexOf(o),i=r.indexOf(t.value)-a;return e.addDays(n,i)}case"day":return e.setDate(r,e.getDate(n));case"meridiem":{const t=e.getHours(n)<12,o=e.getHours(r);return t&&o>=12?e.addHours(r,-12):!t&&o<12?e.addHours(r,12):r}case"hours":return e.setHours(r,e.getHours(n));case"minutes":return e.setMinutes(r,e.getMinutes(n));case"seconds":return e.setSeconds(r,e.getSeconds(n));default:return r}})(e,r,t,n):n),r),ab=(e,t)=>{if(null==e)return null;if("all"===e)return"all";if("string"===typeof e){const n=t.findIndex((t=>t.type===e));return-1===n?null:n}return e},ib=(e,t)=>{if(e.value)switch(e.type){case"month":{if("digit"===e.contentType)return t.format(t.setMonth(t.date(),Number(e.value)-1),"month");const n=t.parse(e.value,e.format);return n?t.format(n,"month"):void 0}case"day":return"digit"===e.contentType?t.format(t.setDate(t.startOfYear(t.date()),Number(e.value)),"dayOfMonthFull"):e.value;default:return}},sb=(e,t)=>{if(e.value)switch(e.type){case"weekDay":if("letter"===e.contentType)return;return Number(e.value);case"meridiem":{const n=t.parse(`01:00 ${e.value}`,`${t.formats.hours12h}:${t.formats.minutes} ${e.format}`);return n?t.getHours(n)>=12?1:0:void 0}case"day":return"digit-with-letter"===e.contentType?parseInt(e.value,10):Number(e.value);case"month":{if("digit"===e.contentType)return Number(e.value);const n=t.parse(e.value,e.format);return n?t.getMonth(n)+1:void 0}default:return"letter"!==e.contentType?Number(e.value):void 0}},lb=["value","referenceDate"],ub={emptyValue:null,getTodayValue:Iv,getInitialReferenceValue:e=>{let{value:t,referenceDate:n}=e,r=(0,Xt.A)(e,lb);return null!=t&&r.utils.isValid(t)?t:null!=n?n:(e=>{let{props:t,utils:n,granularity:r,timezone:o,getTodayDate:a}=e,i=a?a():Bv(n,r,Iv(n,o));null!=t.minDate&&n.isAfterDay(t.minDate,i)&&(i=Bv(n,r,t.minDate)),null!=t.maxDate&&n.isBeforeDay(t.maxDate,i)&&(i=Bv(n,r,t.maxDate));const s=Fv(t.disableIgnoringDatePartForTimeValidation??!1,n);return null!=t.minTime&&s(t.minTime,i)&&(i=Bv(n,r,t.disableIgnoringDatePartForTimeValidation?t.minTime:Sv(n,i,t.minTime))),null!=t.maxTime&&s(i,t.maxTime)&&(i=Bv(n,r,t.disableIgnoringDatePartForTimeValidation?t.maxTime:Sv(n,i,t.maxTime))),i})(r)},cleanValue:(e,t)=>null!=t&&e.isValid(t)?t:null,areValuesEqual:(e,t,n)=>!e.isValid(t)&&null!=t&&!e.isValid(n)&&null!=n||e.isEqual(t,n),isSameError:(e,t)=>e===t,hasError:e=>null!=e,defaultErrorState:null,getTimezone:(e,t)=>null!=t&&e.isValid(t)?e.getTimezone(t):null,setTimezone:(e,t,n)=>null==n?null:e.setTimezone(n,t)},cb={updateReferenceValue:(e,t,n)=>null!=t&&e.isValid(t)?t:n,getSectionsFromValue:(e,t,n,r)=>!e.isValid(t)&&!!n?n:r(t),getV7HiddenInputValueFromSections:e=>e.map((e=>`${e.startSeparator}${e.value||e.placeholder}${e.endSeparator}`)).join(""),getV6InputValueFromSections:(e,t,n)=>{const r=e.map((e=>{const r=Zv(e,n?"input-rtl":"input-ltr",t);return`${e.startSeparator}${r}${e.endSeparator}`})).join("");return n?`\u2066${r}\u2069`:r},getActiveDateManager:(e,t)=>({date:t.value,referenceDate:t.referenceValue,getSections:e=>e,getNewValuesFromNewActiveDate:n=>({value:n,referenceValue:null!=n&&e.isValid(n)?n:t.referenceValue})}),parseValueStr:(e,t,n)=>n(e.trim(),t)},db=["localeText"],pb=W.createContext(null);const hb=function(e){const{localeText:t}=e,n=(0,Xt.A)(e,db),{utils:r,localeText:o}=W.useContext(pb)??{utils:void 0,localeText:void 0},a=yv({props:n,name:"MuiLocalizationProvider"}),{children:i,dateAdapter:s,dateFormats:l,dateLibInstance:u,adapterLocale:c,localeText:d}=a,p=W.useMemo((()=>(0,Yt.A)({},d,o,t)),[d,o,t]),h=W.useMemo((()=>{if(!s)return r||null;const e=new s({locale:c,formats:l,instance:u});if(!e.isMUIAdapter)throw new Error(["MUI X: The date adapter should be imported from `@mui/x-date-pickers` or `@mui/x-date-pickers-pro`, not from `@date-io`","For example, `import { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs'` instead of `import AdapterDayjs from '@date-io/dayjs'`","More information on the installation documentation: https://mui.com/x/react-date-pickers/getting-started/#installation"].join("\n"));return e}),[s,c,l,u,r]),f=W.useMemo((()=>h?{minDate:h.date("1900-01-01T00:00:00.000"),maxDate:h.date("2099-12-31T00:00:00.000")}:null),[h]),m=W.useMemo((()=>({utils:h,defaultDates:f,localeText:p})),[f,h,p]);return(0,sn.jsx)(pb.Provider,{value:m,children:i})},fb=e=>{const{utils:t,formatKey:n,contextTranslation:r,propsTranslation:o}=e;return e=>{const a=null!==e&&t.isValid(e)?t.format(e,n):null;return(o??r)(e,t,a)}},mb={previousMonth:"Previous month",nextMonth:"Next month",openPreviousView:"Open previous view",openNextView:"Open next view",calendarViewSwitchingButtonAriaLabel:e=>"year"===e?"year view is open, switch to calendar view":"calendar view is open, switch to year view",start:"Start",end:"End",startDate:"Start date",startTime:"Start time",endDate:"End date",endTime:"End time",cancelButtonLabel:"Cancel",clearButtonLabel:"Clear",okButtonLabel:"OK",todayButtonLabel:"Today",datePickerToolbarTitle:"Select date",dateTimePickerToolbarTitle:"Select date & time",timePickerToolbarTitle:"Select time",dateRangePickerToolbarTitle:"Select date range",clockLabelText:(e,t,n,r)=>`Select ${e}. ${r||null!==t&&n.isValid(t)?`Selected time is ${r??n.format(t,"fullTime")}`:"No time selected"}`,hoursClockNumberText:e=>`${e} hours`,minutesClockNumberText:e=>`${e} minutes`,secondsClockNumberText:e=>`${e} seconds`,selectViewText:e=>`Select ${e}`,calendarWeekNumberHeaderLabel:"Week number",calendarWeekNumberHeaderText:"#",calendarWeekNumberAriaLabelText:e=>`Week ${e}`,calendarWeekNumberText:e=>`${e}`,openDatePickerDialogue:(e,t,n)=>n||null!==e&&t.isValid(e)?`Choose date, selected date is ${n??t.format(e,"fullDate")}`:"Choose date",openTimePickerDialogue:(e,t,n)=>n||null!==e&&t.isValid(e)?`Choose time, selected time is ${n??t.format(e,"fullTime")}`:"Choose time",fieldClearLabel:"Clear",timeTableLabel:"pick time",dateTableLabel:"pick date",fieldYearPlaceholder:e=>"Y".repeat(e.digitAmount),fieldMonthPlaceholder:e=>"letter"===e.contentType?"MMMM":"MM",fieldDayPlaceholder:()=>"DD",fieldWeekDayPlaceholder:e=>"letter"===e.contentType?"EEEE":"EE",fieldHoursPlaceholder:()=>"hh",fieldMinutesPlaceholder:()=>"mm",fieldSecondsPlaceholder:()=>"ss",fieldMeridiemPlaceholder:()=>"aa",year:"Year",month:"Month",day:"Day",weekDay:"Week day",hours:"Hours",minutes:"Minutes",seconds:"Seconds",meridiem:"Meridiem",empty:"Empty"},gb=mb;yb=mb,(0,Yt.A)({},yb);var yb;const vb=()=>{const e=W.useContext(pb);if(null===e)throw new Error(["MUI X: Can not find the date and time pickers localization context.","It looks like you forgot to wrap your component in LocalizationProvider.","This can also happen if you are bundling multiple versions of the `@mui/x-date-pickers` package"].join("\n"));if(null===e.utils)throw new Error(["MUI X: Can not find the date and time pickers adapter from its localization context.","It looks like you forgot to pass a `dateAdapter` to your LocalizationProvider."].join("\n"));const t=W.useMemo((()=>(0,Yt.A)({},gb,e.localeText)),[e.localeText]);return W.useMemo((()=>(0,Yt.A)({},e,{localeText:t})),[e,t])},bb=()=>vb().utils,xb=()=>vb().defaultDates,wb=e=>{const t=bb(),n=W.useRef(void 0);return void 0===n.current&&(n.current=t.date(void 0,e)),n.current};function kb(e){return(0,on.Ay)("MuiPickersToolbar",e)}const Sb=(0,rn.A)("MuiPickersToolbar",["root","content"]),Ab=["children","className","toolbarTitle","hidden","titleId","isLandscape","classes","landscapeDirection"],Cb=(0,en.Ay)("div",{name:"MuiPickersToolbar",slot:"Root",overridesResolver:(e,t)=>t.root})((e=>{let{theme:t}=e;return{display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between",padding:t.spacing(2,3),variants:[{props:{isLandscape:!0},style:{height:"auto",maxWidth:160,padding:16,justifyContent:"flex-start",flexWrap:"wrap"}}]}})),Tb=(0,en.Ay)("div",{name:"MuiPickersToolbar",slot:"Content",overridesResolver:(e,t)=>t.content})({display:"flex",flexWrap:"wrap",width:"100%",flex:1,justifyContent:"space-between",alignItems:"center",flexDirection:"row",variants:[{props:{isLandscape:!0},style:{justifyContent:"flex-start",alignItems:"flex-start",flexDirection:"column"}},{props:{isLandscape:!0,landscapeDirection:"row"},style:{flexDirection:"row"}}]}),Ib=W.forwardRef((function(e,t){const n=yv({props:e,name:"MuiPickersToolbar"}),{children:r,className:o,toolbarTitle:a,hidden:i,titleId:s}=n,l=(0,Xt.A)(n,Ab),u=n,c=(e=>{const{classes:t}=e;return(0,Zt.A)({root:["root"],content:["content"]},kb,t)})(u);return i?null:(0,sn.jsxs)(Cb,(0,Yt.A)({ref:t,className:(0,Qt.A)(c.root,o),ownerState:u},l,{children:[(0,sn.jsx)(vs,{color:"text.secondary",variant:"overline",id:s,children:a}),(0,sn.jsx)(Tb,{className:c.content,ownerState:u,children:r})]}))})),Eb=()=>vb().localeText;function Nb(e){return(0,on.Ay)("MuiDatePickerToolbar",e)}(0,rn.A)("MuiDatePickerToolbar",["root","title"]);const Ob=["value","isLandscape","onChange","toolbarFormat","toolbarPlaceholder","views","className","onViewChange","view"],Mb=(0,en.Ay)(Ib,{name:"MuiDatePickerToolbar",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Db=(0,en.Ay)(vs,{name:"MuiDatePickerToolbar",slot:"Title",overridesResolver:(e,t)=>t.title})({variants:[{props:{isLandscape:!0},style:{margin:"auto 16px auto auto"}}]}),Rb=W.forwardRef((function(e,t){const n=yv({props:e,name:"MuiDatePickerToolbar"}),{value:r,isLandscape:o,toolbarFormat:a,toolbarPlaceholder:i="\u2013\u2013",views:s,className:l}=n,u=(0,Xt.A)(n,Ob),c=bb(),d=Eb(),p=(e=>{const{classes:t}=e;return(0,Zt.A)({root:["root"],title:["title"]},Nb,t)})(n),h=W.useMemo((()=>{if(!r)return i;const e=Mv(c,{format:a,views:s},!0);return c.formatByString(r,e)}),[r,a,i,c,s]),f=n;return(0,sn.jsx)(Mb,(0,Yt.A)({ref:t,toolbarTitle:d.datePickerToolbarTitle,isLandscape:o,className:(0,Qt.A)(p.root,l)},u,{children:(0,sn.jsx)(Db,{variant:"h4",align:o?"left":"center",ownerState:f,className:p.title,children:h})}))}));function Pb(e,t){const n=bb(),r=xb(),o=yv({props:e,name:t}),a=W.useMemo((()=>null==o.localeText?.toolbarTitle?o.localeText:(0,Yt.A)({},o.localeText,{datePickerToolbarTitle:o.localeText.toolbarTitle})),[o.localeText]);return(0,Yt.A)({},o,{localeText:a},kv({views:o.views,openTo:o.openTo,defaultViews:["year","day"],defaultOpenTo:"day"}),{disableFuture:o.disableFuture??!1,disablePast:o.disablePast??!1,minDate:Cv(n,o.minDate,r.minDate),maxDate:Cv(n,o.maxDate,r.maxDate),slots:(0,Yt.A)({toolbar:Rb},o.slots)})}const $b=["disablePast","disableFuture","minDate","maxDate","shouldDisableDate","shouldDisableMonth","shouldDisableYear"],jb=["disablePast","disableFuture","minTime","maxTime","shouldDisableTime","minutesStep","ampm","disableIgnoringDatePartForTimeValidation"],_b=["minDateTime","maxDateTime"],Fb=[...$b,...jb,..._b],Lb=e=>Fb.reduce(((t,n)=>(e.hasOwnProperty(n)&&(t[n]=e[n]),t)),{}),zb=e=>{let{props:t,value:n,timezone:r,adapter:o}=e;if(null===n)return null;const{shouldDisableDate:a,shouldDisableMonth:i,shouldDisableYear:s,disablePast:l,disableFuture:u}=t,c=o.utils.date(void 0,r),d=Cv(o.utils,t.minDate,o.defaultDates.minDate),p=Cv(o.utils,t.maxDate,o.defaultDates.maxDate);switch(!0){case!o.utils.isValid(n):return"invalidDate";case Boolean(a&&a(n)):return"shouldDisableDate";case Boolean(i&&i(n)):return"shouldDisableMonth";case Boolean(s&&s(n)):return"shouldDisableYear";case Boolean(u&&o.utils.isAfterDay(n,c)):return"disableFuture";case Boolean(l&&o.utils.isBeforeDay(n,c)):return"disablePast";case Boolean(d&&o.utils.isBeforeDay(n,d)):return"minDate";case Boolean(p&&o.utils.isAfterDay(n,p)):return"maxDate";default:return null}};function Bb(e){return(0,on.Ay)("MuiInputAdornment",e)}zb.valueManager=ub;const Wb=(0,rn.A)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var Vb;const Ub=["children","className","component","disablePointerEvents","disableTypography","position","variant"],Hb=(0,en.Ay)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`position${(0,qn.A)(n.position)}`],!0===n.disablePointerEvents&&t.disablePointerEvents,t[n.variant]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,Yt.A)({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(t.vars||t).palette.action.active},"filled"===n.variant&&{[`&.${Wb.positionStart}&:not(.${Wb.hiddenLabel})`]:{marginTop:16}},"start"===n.position&&{marginRight:8},"end"===n.position&&{marginLeft:8},!0===n.disablePointerEvents&&{pointerEvents:"none"})})),Gb=W.forwardRef((function(e,t){const n=(0,nn.b)({props:e,name:"MuiInputAdornment"}),{children:r,className:o,component:a="div",disablePointerEvents:i=!1,disableTypography:s=!1,position:l,variant:u}=n,c=(0,Xt.A)(n,Ub),d=xr()||{};let p=u;u&&d.variant,d&&!p&&(p=d.variant);const h=(0,Yt.A)({},n,{hiddenLabel:d.hiddenLabel,size:d.size,disablePointerEvents:i,position:l,variant:p}),f=(e=>{const{classes:t,disablePointerEvents:n,hiddenLabel:r,position:o,size:a,variant:i}=e,s={root:["root",n&&"disablePointerEvents",o&&`position${(0,qn.A)(o)}`,i,r&&"hiddenLabel",a&&`size${(0,qn.A)(a)}`]};return(0,Zt.A)(s,Bb,t)})(h);return(0,sn.jsx)(br.Provider,{value:null,children:(0,sn.jsx)(Hb,(0,Yt.A)({as:a,ownerState:h,className:(0,Qt.A)(f.root,o),ref:t},c,{children:"string"!==typeof r||s?(0,sn.jsxs)(W.Fragment,{children:["start"===l?Vb||(Vb=(0,sn.jsx)("span",{className:"notranslate",children:"\u200b"})):null,r]}):(0,sn.jsx)(vs,{color:"text.secondary",children:r})}))})}));function qb(e){return(0,on.Ay)("MuiPickersPopper",e)}(0,rn.A)("MuiPickersPopper",["root","paper"]);function Kb(e,t){return Array.isArray(t)?t.every((t=>-1!==e.indexOf(t))):-1!==e.indexOf(t)}const Xb=function(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:document).activeElement;return e?e.shadowRoot?Xb(e.shadowRoot):e:null},Yb=e=>Array.from(e.children).indexOf(Xb(document)),Qb="@media (pointer: fine)",Zb="undefined"!==typeof navigator&&navigator.userAgent.match(/android\s(\d+)|OS\s(\d+)/i),Jb=Zb&&Zb[1]?parseInt(Zb[1],10):null,ex=Zb&&Zb[2]?parseInt(Zb[2],10):null,tx=Jb&&Jb<10||ex&&ex<13||!1,nx=()=>mv("@media (prefers-reduced-motion: reduce)",{defaultMatches:!1})||tx,rx=["PaperComponent","popperPlacement","ownerState","children","paperSlotProps","paperClasses","onPaperClick","onPaperTouchStart"],ox=(0,en.Ay)(Af,{name:"MuiPickersPopper",slot:"Root",overridesResolver:(e,t)=>t.root})((e=>{let{theme:t}=e;return{zIndex:t.zIndex.modal}})),ax=(0,en.Ay)(cn,{name:"MuiPickersPopper",slot:"Paper",overridesResolver:(e,t)=>t.paper})({outline:0,transformOrigin:"top center",variants:[{props:e=>{let{placement:t}=e;return["top","top-start","top-end"].includes(t)},style:{transformOrigin:"bottom center"}}]});const ix=W.forwardRef(((e,t)=>{const{PaperComponent:n,popperPlacement:r,ownerState:o,children:a,paperSlotProps:i,paperClasses:s,onPaperClick:l,onPaperTouchStart:u}=e,c=(0,Xt.A)(e,rx),d=(0,Yt.A)({},o,{placement:r}),p=qo({elementType:n,externalSlotProps:i,additionalProps:{tabIndex:-1,elevation:8,ref:t},className:s,ownerState:d});return(0,sn.jsx)(n,(0,Yt.A)({},c,p,{onClick:e=>{l(e),p.onClick?.(e)},onTouchStart:e=>{u(e),p.onTouchStart?.(e)},ownerState:d,children:a}))}));function sx(e){const t=yv({props:e,name:"MuiPickersPopper"}),{anchorEl:n,children:r,containerRef:o=null,shouldRestoreFocus:a,onBlur:i,onDismiss:s,open:l,role:u,placement:c,slots:d,slotProps:p,reduceAnimations:h}=t;W.useEffect((()=>{function e(e){l&&"Escape"===e.key&&s()}return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}}),[s,l]);const f=W.useRef(null);W.useEffect((()=>{"tooltip"===u||a&&!a()||(l?f.current=Xb(document):f.current&&f.current instanceof HTMLElement&&setTimeout((()=>{f.current instanceof HTMLElement&&f.current.focus()})))}),[l,u,a]);const[m,g,y]=function(e,t){const n=W.useRef(!1),r=W.useRef(!1),o=W.useRef(null),a=W.useRef(!1);W.useEffect((()=>{if(e)return document.addEventListener("mousedown",t,!0),document.addEventListener("touchstart",t,!0),()=>{document.removeEventListener("mousedown",t,!0),document.removeEventListener("touchstart",t,!0),a.current=!1};function t(){a.current=!0}}),[e]);const i=(0,cr.A)((e=>{if(!a.current)return;const i=r.current;r.current=!1;const s=(0,Na.A)(o.current);if(!o.current||"clientX"in e&&function(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}(e,s))return;if(n.current)return void(n.current=!1);let l;l=e.composedPath?e.composedPath().indexOf(o.current)>-1:!s.documentElement.contains(e.target)||o.current.contains(e.target),l||i||t(e)})),s=()=>{r.current=!0};return W.useEffect((()=>{if(e){const e=(0,Na.A)(o.current),t=()=>{n.current=!0};return e.addEventListener("touchstart",i),e.addEventListener("touchmove",t),()=>{e.removeEventListener("touchstart",i),e.removeEventListener("touchmove",t)}}}),[e,i]),W.useEffect((()=>{if(e){const e=(0,Na.A)(o.current);return e.addEventListener("click",i),()=>{e.removeEventListener("click",i),r.current=!1}}}),[e,i]),[o,s,s]}(l,i??s),v=W.useRef(null),b=(0,lr.A)(v,o),x=(0,lr.A)(b,m),w=t,k=(e=>{const{classes:t}=e;return(0,Zt.A)({root:["root"],paper:["paper"]},qb,t)})(w),S=nx(),A=h??S,C=d?.desktopTransition??A?Fa:Ea,T=d?.desktopTrapFocus??Ra,I=d?.desktopPaper??ax,E=d?.popper??ox,N=qo({elementType:E,externalSlotProps:p?.popper,additionalProps:{transition:!0,role:u,open:l,anchorEl:n,placement:c,onKeyDown:e=>{"Escape"===e.key&&(e.stopPropagation(),s())}},className:k.root,ownerState:t});return(0,sn.jsx)(E,(0,Yt.A)({},N,{children:e=>{let{TransitionProps:t,placement:n}=e;return(0,sn.jsx)(T,(0,Yt.A)({open:l,disableAutoFocus:!0,disableRestoreFocus:!0,disableEnforceFocus:"tooltip"===u,isEnabled:()=>!0},p?.desktopTrapFocus,{children:(0,sn.jsx)(C,(0,Yt.A)({},t,p?.desktopTransition,{children:(0,sn.jsx)(ix,{PaperComponent:I,ownerState:w,popperPlacement:n,ref:x,onPaperClick:g,onPaperTouchStart:y,paperClasses:k.paper,paperSlotProps:p?.desktopPaper,children:r})}))}))}}))}function lx(e){const{props:t,validator:n,value:r,timezone:o,onError:a}=e,i=vb(),s=W.useRef(n.valueManager.defaultErrorState),l=n({adapter:i,value:r,timezone:o,props:t}),u=n.valueManager.hasError(l);W.useEffect((()=>{a&&!n.valueManager.isSameError(l,s.current)&&a(l,r),s.current=l}),[n,a,l,r]);const c=(0,cr.A)((e=>n({adapter:i,value:e,timezone:o,props:t})));return{validationError:l,hasValidationError:u,getValidationErrorForNewValue:c}}const ux=e=>{let{timezone:t,value:n,defaultValue:r,referenceDate:o,onChange:a,valueManager:i}=e;const s=bb(),l=W.useRef(r),u=n??l.current??i.emptyValue,c=W.useMemo((()=>i.getTimezone(s,u)),[s,i,u]),d=(0,cr.A)((e=>null==c?e:i.setTimezone(s,c,e)));let p;p=t||(c||(o?s.getTimezone(o):"default"));return{value:W.useMemo((()=>i.setTimezone(s,p,u)),[i,s,p,u]),handleValueChange:(0,cr.A)((function(e){const t=d(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];a?.(t,...r)})),timezone:p}},cx=e=>{let{name:t,timezone:n,value:r,defaultValue:o,referenceDate:a,onChange:i,valueManager:s}=e;const[l,u]=(0,Kp.A)({name:t,state:"value",controlled:r,default:o??s.emptyValue}),c=(0,cr.A)((function(e){u(e);for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];i?.(e,...n)}));return ux({timezone:n,value:l,defaultValue:void 0,referenceDate:a,onChange:c,valueManager:s})},dx=e=>{let{props:t,valueManager:n,valueType:r,wrapperVariant:o,validator:a}=e;const{onAccept:i,onChange:s,value:l,defaultValue:u,closeOnSelect:c="desktop"===o,timezone:d,referenceDate:p}=t,{current:h}=W.useRef(u),{current:f}=W.useRef(void 0!==l),[m,g]=W.useState(d);const y=bb(),v=vb(),{isOpen:b,setIsOpen:x}=(e=>{let{open:t,onOpen:n,onClose:r}=e;const o=W.useRef("boolean"===typeof t).current,[a,i]=W.useState(!1);return W.useEffect((()=>{if(o){if("boolean"!==typeof t)throw new Error("You must not mix controlling and uncontrolled mode for `open` prop");i(t)}}),[o,t]),{isOpen:a,setIsOpen:W.useCallback((e=>{o||i(e),e&&n&&n(),!e&&r&&r()}),[o,n,r])}})(t),{timezone:w,value:k,handleValueChange:S}=ux({timezone:d,value:l,defaultValue:h,referenceDate:p,onChange:s,valueManager:n}),[A,C]=W.useState((()=>{let e;return e=void 0!==k?k:void 0!==h?h:n.emptyValue,{draft:e,lastPublishedValue:e,lastCommittedValue:e,lastControlledValue:l,hasBeenModifiedSinceMount:!1}})),T=n.getTimezone(y,A.draft);m!==d&&(g(d),d&&T&&d!==T&&C((e=>(0,Yt.A)({},e,{draft:n.setTimezone(y,d,e.draft)}))));const{getValidationErrorForNewValue:I}=lx({props:t,validator:a,timezone:w,value:A.draft,onError:t.onError}),E=(0,cr.A)((e=>{const t={action:e,dateState:A,hasChanged:t=>!n.areValuesEqual(y,e.value,t),isControlled:f,closeOnSelect:c},r=(e=>{const{action:t,hasChanged:n,dateState:r,isControlled:o}=e,a=!o&&!r.hasBeenModifiedSinceMount;return"setValueFromField"===t.name||("setValueFromAction"===t.name?!(!a||!["accept","today","clear"].includes(t.pickerAction))||n(r.lastPublishedValue):("setValueFromView"===t.name&&"shallow"!==t.selectionState||"setValueFromShortcut"===t.name)&&(!!a||n(r.lastPublishedValue)))})(t),o=(e=>{const{action:t,hasChanged:n,dateState:r,isControlled:o,closeOnSelect:a}=e,i=!o&&!r.hasBeenModifiedSinceMount;return"setValueFromAction"===t.name?!(!i||!["accept","today","clear"].includes(t.pickerAction))||n(r.lastCommittedValue):"setValueFromView"===t.name&&"finish"===t.selectionState&&a?!!i||n(r.lastCommittedValue):"setValueFromShortcut"===t.name&&"accept"===t.changeImportance&&n(r.lastCommittedValue)})(t),a=(e=>{const{action:t,closeOnSelect:n}=e;return"setValueFromAction"===t.name||("setValueFromView"===t.name?"finish"===t.selectionState&&n:"setValueFromShortcut"===t.name&&"accept"===t.changeImportance)})(t);C((t=>(0,Yt.A)({},t,{draft:e.value,lastPublishedValue:r?e.value:t.lastPublishedValue,lastCommittedValue:o?e.value:t.lastCommittedValue,hasBeenModifiedSinceMount:!0})));let s=null;const l=()=>{if(!s){const t="setValueFromField"===e.name?e.context.validationError:I(e.value);s={validationError:t},"setValueFromShortcut"===e.name&&(s.shortcut=e.shortcut)}return s};r&&S(e.value,l()),o&&i&&i(e.value,l()),a&&x(!1)}));if(A.lastControlledValue!==l){const e=n.areValuesEqual(y,A.draft,k);C((t=>(0,Yt.A)({},t,{lastControlledValue:l},e?{}:{lastCommittedValue:k,lastPublishedValue:k,draft:k,hasBeenModifiedSinceMount:!0})))}const N=(0,cr.A)((()=>{E({value:n.emptyValue,name:"setValueFromAction",pickerAction:"clear"})})),O=(0,cr.A)((()=>{E({value:A.lastPublishedValue,name:"setValueFromAction",pickerAction:"accept"})})),M=(0,cr.A)((()=>{E({value:A.lastPublishedValue,name:"setValueFromAction",pickerAction:"dismiss"})})),D=(0,cr.A)((()=>{E({value:A.lastCommittedValue,name:"setValueFromAction",pickerAction:"cancel"})})),R=(0,cr.A)((()=>{E({value:n.getTodayValue(y,w,r),name:"setValueFromAction",pickerAction:"today"})})),P=(0,cr.A)((e=>{e.preventDefault(),x(!0)})),$=(0,cr.A)((e=>{e?.preventDefault(),x(!1)})),j=(0,cr.A)((function(e){return E({name:"setValueFromView",value:e,selectionState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"partial"})})),_=(0,cr.A)(((e,t,n)=>E({name:"setValueFromShortcut",value:e,changeImportance:t,shortcut:n}))),F=(0,cr.A)(((e,t)=>E({name:"setValueFromField",value:e,context:t}))),L={onClear:N,onAccept:O,onDismiss:M,onCancel:D,onSetToday:R,onOpen:P,onClose:$},z={value:A.draft,onChange:F},B=W.useMemo((()=>n.cleanValue(y,A.draft)),[y,n,A.draft]),V={value:B,onChange:j,onClose:$,open:b},U=(0,Yt.A)({},L,{value:B,onChange:j,onSelectShortcut:_,isValid:e=>{const r=a({adapter:v,value:e,timezone:w,props:t});return!n.hasError(r)}}),H=W.useMemo((()=>({onOpen:P,onClose:$,open:b})),[b,$,P]);return{open:b,fieldProps:z,viewProps:V,layoutProps:U,actions:L,contextValue:H}};function px(e){let{onChange:t,onViewChange:n,openTo:r,view:o,views:a,autoFocus:i,focusedView:s,onFocusedViewChange:l}=e;const u=W.useRef(r),c=W.useRef(a),d=W.useRef(a.includes(r)?r:a[0]),[p,h]=(0,Kp.A)({name:"useViews",state:"view",controlled:o,default:d.current}),f=W.useRef(i?p:null),[m,g]=(0,Kp.A)({name:"useViews",state:"focusedView",controlled:s,default:f.current});W.useEffect((()=>{(u.current&&u.current!==r||c.current&&c.current.some((e=>!a.includes(e))))&&(h(a.includes(r)?r:a[0]),c.current=a,u.current=r)}),[r,h,p,a]);const y=a.indexOf(p),v=a[y-1]??null,b=a[y+1]??null,x=(0,cr.A)(((e,t)=>{g(t?e:t=>e===t?null:t),l?.(e,t)})),w=(0,cr.A)((e=>{x(e,!0),e!==p&&(h(e),n&&n(e))})),k=(0,cr.A)((()=>{b&&w(b)})),S=(0,cr.A)(((e,n,r)=>{const o="finish"===n,i=r?a.indexOf(r)<a.length-1:Boolean(b);if(t(e,o&&i?"partial":n,r),r&&r!==p){const e=a[a.indexOf(r)+1];e&&w(e)}else o&&k()}));return{view:p,setView:w,focusedView:m,setFocusedView:x,nextView:b,previousView:v,defaultView:a.includes(r)?r:a[0],goToNextView:k,setValueAndGoToNextView:S}}const hx=["className","sx"];function fx(){return"undefined"===typeof window?"portrait":window.screen&&window.screen.orientation&&window.screen.orientation.angle?90===Math.abs(window.screen.orientation.angle)?"landscape":"portrait":window.orientation&&90===Math.abs(Number(window.orientation))?"landscape":"portrait"}const mx=e=>{let{props:t,propsFromPickerValue:n,propsFromPickerViews:r,wrapperVariant:o}=e;const{orientation:a}=t,i=((e,t)=>{const[n,r]=W.useState(fx);return(0,dr.A)((()=>{const e=()=>{r(fx())};return window.addEventListener("orientationchange",e),()=>{window.removeEventListener("orientationchange",e)}}),[]),!Kb(e,["hours","minutes","seconds"])&&"landscape"===(t||n)})(r.views,a),s=zo();return{layoutProps:(0,Yt.A)({},r,n,{isLandscape:i,isRtl:s,wrapperVariant:o,disabled:t.disabled,readOnly:t.readOnly})}};const gx=e=>{let{props:t,valueManager:n,valueType:r,wrapperVariant:o,additionalViewProps:a,validator:i,autoFocusView:s,rendererInterceptor:l,fieldRef:u}=e;const c=dx({props:t,valueManager:n,valueType:r,wrapperVariant:o,validator:i}),d=(e=>{let{props:t,propsFromPickerValue:n,additionalViewProps:r,autoFocusView:o,rendererInterceptor:a,fieldRef:i}=e;const{onChange:s,open:l,onClose:u}=n,{view:c,views:d,openTo:p,onViewChange:h,viewRenderers:f,timezone:m}=t,g=(0,Xt.A)(t,hx),{view:y,setView:v,defaultView:b,focusedView:x,setFocusedView:w,setValueAndGoToNextView:k}=px({view:c,views:d,openTo:p,onChange:s,onViewChange:h,autoFocus:o}),{hasUIView:S,viewModeLookup:A}=W.useMemo((()=>d.reduce(((e,t)=>{let n;return n=null!=f[t]?"UI":"field",e.viewModeLookup[t]=n,"UI"===n&&(e.hasUIView=!0),e}),{hasUIView:!1,viewModeLookup:{}})),[f,d]),C=W.useMemo((()=>d.reduce(((e,t)=>null!=f[t]&&Pv(t)?e+1:e),0)),[f,d]),T=A[y],I=(0,cr.A)((()=>"UI"===T)),[E,N]=W.useState("UI"===T?y:null);return E!==y&&"UI"===A[y]&&N(y),(0,dr.A)((()=>{"field"===T&&l&&(u(),setTimeout((()=>{i?.current?.setSelectedSections(y),i?.current?.focusField(y)})))}),[y]),(0,dr.A)((()=>{if(!l)return;let e=y;"field"===T&&null!=E&&(e=E),e!==b&&"UI"===A[e]&&"UI"===A[b]&&(e=b),e!==y&&v(e),w(e,!0)}),[l]),{hasUIView:S,shouldRestoreFocus:I,layoutProps:{views:d,view:E,onViewChange:v},renderCurrentView:()=>{if(null==E)return null;const e=f[E];if(null==e)return null;const t=(0,Yt.A)({},g,r,n,{views:d,timezone:m,onChange:k,view:E,onViewChange:v,focusedView:x,onFocusedViewChange:w,showViewSwitcher:C>1,timeViewsCount:C});return a?a(f,E,t):e(t)}}})({props:t,additionalViewProps:a,autoFocusView:s,fieldRef:u,propsFromPickerValue:c.viewProps,rendererInterceptor:l}),p=mx({props:t,wrapperVariant:o,propsFromPickerValue:c.layoutProps,propsFromPickerViews:d.layoutProps}),h=function(e){const{props:t,pickerValueResponse:n}=e;return W.useMemo((()=>({value:n.viewProps.value,open:n.open,disabled:t.disabled??!1,readOnly:t.readOnly??!1})),[n.viewProps.value,n.open,t.disabled,t.readOnly])}({props:t,pickerValueResponse:c});return{open:c.open,actions:c.actions,fieldProps:c.fieldProps,renderCurrentView:d.renderCurrentView,hasUIView:d.hasUIView,shouldRestoreFocus:d.shouldRestoreFocus,layoutProps:p.layoutProps,contextValue:c.contextValue,ownerState:h}};function yx(e){return(0,on.Ay)("MuiPickersLayout",e)}const vx=(0,rn.A)("MuiPickersLayout",["root","landscape","contentWrapper","toolbar","actionBar","tabs","shortcuts"]),bx=["onAccept","onClear","onCancel","onSetToday","actions"];function xx(e){const{onAccept:t,onClear:n,onCancel:r,onSetToday:o,actions:a}=e,i=(0,Xt.A)(e,bx),s=Eb();if(null==a||0===a.length)return null;const l=a?.map((e=>{switch(e){case"clear":return(0,sn.jsx)(rr,{onClick:n,children:s.clearButtonLabel},e);case"cancel":return(0,sn.jsx)(rr,{onClick:r,children:s.cancelButtonLabel},e);case"accept":return(0,sn.jsx)(rr,{onClick:t,children:s.okButtonLabel},e);case"today":return(0,sn.jsx)(rr,{onClick:o,children:s.todayButtonLabel},e);default:return null}}));return(0,sn.jsx)(Rm,(0,Yt.A)({},i,{children:l}))}function wx(e){return(0,on.Ay)("MuiListItem",e)}const kx=(0,rn.A)("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]);const Sx=(0,rn.A)("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function Ax(e){return(0,on.Ay)("MuiListItemSecondaryAction",e)}(0,rn.A)("MuiListItemSecondaryAction",["root","disableGutters"]);const Cx=["className"],Tx=(0,en.Ay)("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.disableGutters&&t.disableGutters]}})((e=>{let{ownerState:t}=e;return(0,Yt.A)({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},t.disableGutters&&{right:0})})),Ix=W.forwardRef((function(e,t){const n=(0,nn.b)({props:e,name:"MuiListItemSecondaryAction"}),{className:r}=n,o=(0,Xt.A)(n,Cx),a=W.useContext(Ko),i=(0,Yt.A)({},n,{disableGutters:a.disableGutters}),s=(e=>{const{disableGutters:t,classes:n}=e,r={root:["root",t&&"disableGutters"]};return(0,Zt.A)(r,Ax,n)})(i);return(0,sn.jsx)(Tx,(0,Yt.A)({className:(0,Qt.A)(s.root,r),ownerState:i,ref:t},o))}));Ix.muiName="ListItemSecondaryAction";const Ex=Ix,Nx=["className"],Ox=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],Mx=(0,en.Ay)("div",{name:"MuiListItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,"flex-start"===n.alignItems&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters,!n.disablePadding&&t.padding,n.button&&t.button,n.hasSecondaryAction&&t.secondaryAction]}})((e=>{let{theme:t,ownerState:n}=e;return(0,Yt.A)({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!n.disablePadding&&(0,Yt.A)({paddingTop:8,paddingBottom:8},n.dense&&{paddingTop:4,paddingBottom:4},!n.disableGutters&&{paddingLeft:16,paddingRight:16},!!n.secondaryAction&&{paddingRight:48}),!!n.secondaryAction&&{[`& > .${Sx.root}`]:{paddingRight:48}},{[`&.${kx.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${kx.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:(0,Jt.X4)(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${kx.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:(0,Jt.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${kx.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}},"flex-start"===n.alignItems&&{alignItems:"flex-start"},n.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},n.button&&{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${kx.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:(0,Jt.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:(0,Jt.X4)(t.palette.primary.main,t.palette.action.selectedOpacity)}}},n.hasSecondaryAction&&{paddingRight:48})})),Dx=(0,en.Ay)("li",{name:"MuiListItem",slot:"Container",overridesResolver:(e,t)=>t.container})({position:"relative"}),Rx=W.forwardRef((function(e,t){const n=(0,nn.b)({props:e,name:"MuiListItem"}),{alignItems:r="center",autoFocus:o=!1,button:a=!1,children:i,className:s,component:l,components:u={},componentsProps:c={},ContainerComponent:d="li",ContainerProps:{className:p}={},dense:h=!1,disabled:f=!1,disableGutters:m=!1,disablePadding:g=!1,divider:y=!1,focusVisibleClassName:v,secondaryAction:b,selected:x=!1,slotProps:w={},slots:k={}}=n,S=(0,Xt.A)(n.ContainerProps,Nx),A=(0,Xt.A)(n,Ox),C=W.useContext(Ko),T=W.useMemo((()=>({dense:h||C.dense||!1,alignItems:r,disableGutters:m})),[r,C.dense,h,m]),I=W.useRef(null);(0,wr.A)((()=>{o&&I.current&&I.current.focus()}),[o]);const E=W.Children.toArray(i),N=E.length&&(0,To.A)(E[E.length-1],["ListItemSecondaryAction"]),O=(0,Yt.A)({},n,{alignItems:r,autoFocus:o,button:a,dense:T.dense,disabled:f,disableGutters:m,disablePadding:g,divider:y,hasSecondaryAction:N,selected:x}),M=(e=>{const{alignItems:t,button:n,classes:r,dense:o,disabled:a,disableGutters:i,disablePadding:s,divider:l,hasSecondaryAction:u,selected:c}=e,d={root:["root",o&&"dense",!i&&"gutters",!s&&"padding",l&&"divider",a&&"disabled",n&&"button","flex-start"===t&&"alignItemsFlexStart",u&&"secondaryAction",c&&"selected"],container:["container"]};return(0,Zt.A)(d,wx,r)})(O),D=(0,hn.A)(I,t),R=k.root||u.Root||Mx,P=w.root||c.root||{},$=(0,Yt.A)({className:(0,Qt.A)(M.root,P.className,s),disabled:f},A);let j=l||"li";return a&&($.component=l||"div",$.focusVisibleClassName=(0,Qt.A)(kx.focusVisible,v),j=Gn),N?(j=$.component||l?j:"div","li"===d&&("li"===j?j="div":"li"===$.component&&($.component="div")),(0,sn.jsx)(Ko.Provider,{value:T,children:(0,sn.jsxs)(Dx,(0,Yt.A)({as:d,className:(0,Qt.A)(M.container,p),ref:D,ownerState:O},S,{children:[(0,sn.jsx)(R,(0,Yt.A)({},P,!sr(R)&&{as:j,ownerState:(0,Yt.A)({},O,P.ownerState)},$,{children:E})),E.pop()]}))})):(0,sn.jsx)(Ko.Provider,{value:T,children:(0,sn.jsxs)(R,(0,Yt.A)({},P,{as:j,ref:D},!sr(R)&&{ownerState:(0,Yt.A)({},O,P.ownerState)},$,{children:[E,b&&(0,sn.jsx)(Ex,{children:b})]}))})})),Px=320,$x=336,jx=["items","changeImportance","isLandscape","onChange","isValid"],_x=["getValue"];function Fx(e){const{items:t,changeImportance:n="accept",onChange:r,isValid:o}=e,a=(0,Xt.A)(e,jx);if(null==t||0===t.length)return null;const i=t.map((e=>{let{getValue:t}=e,a=(0,Xt.A)(e,_x);const i=t({isValid:o});return(0,Yt.A)({},a,{label:a.label,onClick:()=>{r(i,n,a)},disabled:!o(i)})}));return(0,sn.jsx)(Zo,(0,Yt.A)({dense:!0,sx:[{maxHeight:$x,maxWidth:200,overflow:"auto"},...Array.isArray(a.sx)?a.sx:[a.sx]]},a,{children:i.map((e=>(0,sn.jsx)(Rx,{children:(0,sn.jsx)(Sp,(0,Yt.A)({},e))},e.id??e.label)))}))}const Lx=e=>{const{wrapperVariant:t,onAccept:n,onClear:r,onCancel:o,onSetToday:a,view:i,views:s,onViewChange:l,value:u,onChange:c,onSelectShortcut:d,isValid:p,isLandscape:h,disabled:f,readOnly:m,children:g,slots:y,slotProps:v}=e,b=(e=>{const{classes:t,isLandscape:n}=e,r={root:["root",n&&"landscape"],contentWrapper:["contentWrapper"],toolbar:["toolbar"],actionBar:["actionBar"],tabs:["tabs"],landscape:["landscape"],shortcuts:["shortcuts"]};return(0,Zt.A)(r,yx,t)})(e),x=y?.actionBar??xx,w=qo({elementType:x,externalSlotProps:v?.actionBar,additionalProps:{onAccept:n,onClear:r,onCancel:o,onSetToday:a,actions:"desktop"===t?[]:["cancel","accept"]},className:b.actionBar,ownerState:(0,Yt.A)({},e,{wrapperVariant:t})}),k=(0,sn.jsx)(x,(0,Yt.A)({},w)),S=y?.toolbar,A=qo({elementType:S,externalSlotProps:v?.toolbar,additionalProps:{isLandscape:h,onChange:c,value:u,view:i,onViewChange:l,views:s,disabled:f,readOnly:m},className:b.toolbar,ownerState:(0,Yt.A)({},e,{wrapperVariant:t})}),C=function(e){return null!==e.view}(A)&&S?(0,sn.jsx)(S,(0,Yt.A)({},A)):null,T=g,I=y?.tabs,E=i&&I?(0,sn.jsx)(I,(0,Yt.A)({view:i,onViewChange:l,className:b.tabs},v?.tabs)):null,N=y?.shortcuts??Fx,O=qo({elementType:N,externalSlotProps:v?.shortcuts,additionalProps:{isValid:p,isLandscape:h,onChange:d},className:b.shortcuts,ownerState:{isValid:p,isLandscape:h,onChange:d,wrapperVariant:t}});return{toolbar:C,content:T,tabs:E,actionBar:k,shortcuts:i&&N?(0,sn.jsx)(N,(0,Yt.A)({},O)):null}},zx=(0,en.Ay)("div",{name:"MuiPickersLayout",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"grid",gridAutoColumns:"max-content auto max-content",gridAutoRows:"max-content auto max-content",[`& .${vx.actionBar}`]:{gridColumn:"1 / 4",gridRow:3},variants:[{props:{isLandscape:!0},style:{[`& .${vx.toolbar}`]:{gridColumn:1,gridRow:"2 / 3"},[`.${vx.shortcuts}`]:{gridColumn:"2 / 4",gridRow:1}}},{props:{isLandscape:!0,isRtl:!0},style:{[`& .${vx.toolbar}`]:{gridColumn:3}}},{props:{isLandscape:!1},style:{[`& .${vx.toolbar}`]:{gridColumn:"2 / 4",gridRow:1},[`& .${vx.shortcuts}`]:{gridColumn:1,gridRow:"2 / 3"}}},{props:{isLandscape:!1,isRtl:!0},style:{[`& .${vx.shortcuts}`]:{gridColumn:3}}}]}),Bx=(0,en.Ay)("div",{name:"MuiPickersLayout",slot:"ContentWrapper",overridesResolver:(e,t)=>t.contentWrapper})({gridColumn:2,gridRow:2,display:"flex",flexDirection:"column"}),Wx=W.forwardRef((function(e,t){const n=yv({props:e,name:"MuiPickersLayout"}),{toolbar:r,content:o,tabs:a,actionBar:i,shortcuts:s}=Lx(n),{sx:l,className:u,isLandscape:c,wrapperVariant:d}=n,p=(e=>{const{isLandscape:t,classes:n}=e,r={root:["root",t&&"landscape"],contentWrapper:["contentWrapper"]};return(0,Zt.A)(r,yx,n)})(n);return(0,sn.jsxs)(zx,{ref:t,sx:l,className:(0,Qt.A)(p.root,u),ownerState:n,children:[c?s:r,c?r:s,(0,sn.jsx)(Bx,{className:p.contentWrapper,children:"desktop"===d?(0,sn.jsxs)(W.Fragment,{children:[o,a]}):(0,sn.jsxs)(W.Fragment,{children:[a,o]})}),i]})})),Vx=W.createContext(null);function Ux(e){const{contextValue:t,localeText:n,children:r}=e;return(0,sn.jsx)(Vx.Provider,{value:t,children:(0,sn.jsx)(hb,{localeText:n,children:r})})}const Hx=["props","getOpenDialogAriaText"],Gx=["ownerState"],qx=["ownerState"],Kx=e=>{let{props:t,getOpenDialogAriaText:n}=e,r=(0,Xt.A)(e,Hx);const{slots:o,slotProps:a,className:i,sx:s,format:l,formatDensity:u,enableAccessibleFieldDOMStructure:c,selectedSections:d,onSelectedSectionsChange:p,timezone:h,name:f,label:m,inputRef:g,readOnly:y,disabled:v,autoFocus:b,localeText:x,reduceAnimations:w}=t,k=W.useRef(null),S=W.useRef(null),A=(0,or.A)(),C=a?.toolbar?.hidden??!1,{open:T,actions:I,hasUIView:E,layoutProps:N,renderCurrentView:O,shouldRestoreFocus:M,fieldProps:D,contextValue:R,ownerState:P}=gx((0,Yt.A)({},r,{props:t,fieldRef:S,autoFocusView:!0,additionalViewProps:{},wrapperVariant:"desktop"})),$=o.inputAdornment??Gb,j=qo({elementType:$,externalSlotProps:a?.inputAdornment,additionalProps:{position:"end"},ownerState:t}),_=(0,Xt.A)(j,Gx),F=o.openPickerButton??Ns,L=qo({elementType:F,externalSlotProps:a?.openPickerButton,additionalProps:{disabled:v||y,onClick:T?I.onClose:I.onOpen,"aria-label":n(D.value),edge:_.position},ownerState:t}),z=(0,Xt.A)(L,qx),B=o.openPickerIcon,V=qo({elementType:B,externalSlotProps:a?.openPickerIcon,ownerState:P}),U=o.field,H=qo({elementType:U,externalSlotProps:a?.field,additionalProps:(0,Yt.A)({},D,C&&{id:A},{readOnly:y,disabled:v,className:i,sx:s,format:l,formatDensity:u,enableAccessibleFieldDOMStructure:c,selectedSections:d,onSelectedSectionsChange:p,timezone:h,label:m,name:f,autoFocus:b&&!t.open,focused:!!T||void 0},g?{inputRef:g}:{}),ownerState:t});E&&(H.InputProps=(0,Yt.A)({},H.InputProps,{ref:k},!t.disableOpenPicker&&{[`${_.position}Adornment`]:(0,sn.jsx)($,(0,Yt.A)({},_,{children:(0,sn.jsx)(F,(0,Yt.A)({},z,{children:(0,sn.jsx)(B,(0,Yt.A)({},V))}))}))}));const G=(0,Yt.A)({textField:o.textField,clearIcon:o.clearIcon,clearButton:o.clearButton},H.slots),q=o.layout??Wx;let K=A;C&&(K=m?`${A}-label`:void 0);const X=(0,Yt.A)({},a,{toolbar:(0,Yt.A)({},a?.toolbar,{titleId:A}),popper:(0,Yt.A)({"aria-labelledby":K},a?.popper)}),Y=(0,lr.A)(S,H.unstableFieldRef);return{renderPicker:()=>(0,sn.jsxs)(Ux,{contextValue:R,localeText:x,children:[(0,sn.jsx)(U,(0,Yt.A)({},H,{slots:G,slotProps:X,unstableFieldRef:Y})),(0,sn.jsx)(sx,(0,Yt.A)({role:"dialog",placement:"bottom-start",anchorEl:k.current},I,{open:T,slots:o,slotProps:X,shouldRestoreFocus:M,reduceAnimations:w,children:(0,sn.jsx)(q,(0,Yt.A)({},N,X?.layout,{slots:o,slotProps:X,children:O()}))}))]})}},Xx=(0,Vi.A)((0,sn.jsx)("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),Yx=(0,Vi.A)((0,sn.jsx)("path",{d:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"}),"ArrowLeft"),Qx=(0,Vi.A)((0,sn.jsx)("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"ArrowRight"),Zx=(0,Vi.A)((0,sn.jsx)("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"}),"Calendar"),Jx=(0,Vi.A)((0,sn.jsxs)(W.Fragment,{children:[(0,sn.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),(0,sn.jsx)("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Clock"),ew=(0,Vi.A)((0,sn.jsx)("path",{d:"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"}),"DateRange"),tw=(0,Vi.A)((0,sn.jsxs)(W.Fragment,{children:[(0,sn.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),(0,sn.jsx)("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Time"),nw=(0,Vi.A)((0,sn.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear"),rw=(e,t,n,r)=>{switch(n.type){case"year":return t.fieldYearPlaceholder({digitAmount:e.formatByString(e.date(void 0,"default"),r).length,format:r});case"month":return t.fieldMonthPlaceholder({contentType:n.contentType,format:r});case"day":return t.fieldDayPlaceholder({format:r});case"weekDay":return t.fieldWeekDayPlaceholder({contentType:n.contentType,format:r});case"hours":return t.fieldHoursPlaceholder({format:r});case"minutes":return t.fieldMinutesPlaceholder({format:r});case"seconds":return t.fieldSecondsPlaceholder({format:r});case"meridiem":return t.fieldMeridiemPlaceholder({format:r});default:return r}},ow=e=>{let{utils:t,date:n,shouldRespectLeadingZeros:r,localeText:o,localizedDigits:a,now:i,token:s,startSeparator:l}=e;if(""===s)throw new Error("MUI X: Should not call `commitToken` with an empty token");const u=Wv(t,s),c=tb(t,u.contentType,u.type,s),d=r?c:"digit"===u.contentType,p=null!=n&&t.isValid(n);let h=p?t.formatByString(n,s):"",f=null;if(d)if(c)f=""===h?t.formatByString(i,s).length:h.length;else{if(null==u.maxLength)throw new Error(`MUI X: The token ${s} should have a 'maxDigitNumber' property on it's adapter`);f=u.maxLength,p&&(h=qv(Xv(Gv(h,a),f),a))}return(0,Yt.A)({},u,{format:s,maxLength:f,value:h,placeholder:rw(t,o,u,s),hasLeadingZerosInFormat:c,hasLeadingZerosInInput:d,startSeparator:l,endSeparator:"",modified:!1})},aw=e=>{let t=(e=>{let{utils:t,format:n}=e,r=10,o=n,a=t.expandFormat(n);for(;a!==o;)if(o=a,a=t.expandFormat(o),r-=1,r<0)throw new Error("MUI X: The format expansion seems to be in an infinite loop. Please open an issue with the format passed to the picker component.");return a})(e);e.isRtl&&e.enableAccessibleFieldDOMStructure&&(t=t.split(" ").reverse().join(" "));const n=(e=>{let{utils:t,expandedFormat:n}=e;const r=[],{start:o,end:a}=t.escapedCharacters,i=new RegExp(`(\\${o}[^\\${a}]*\\${a})+`,"g");let s=null;for(;s=i.exec(n);)r.push({start:s.index,end:i.lastIndex-1});return r})((0,Yt.A)({},e,{expandedFormat:t})),r=(e=>{const{utils:t,expandedFormat:n,escapedParts:r}=e,o=t.date(void 0),a=[];let i="";const s=Object.keys(t.formatTokenMap).sort(((e,t)=>t.length-e.length)),l=/^([a-zA-Z]+)/,u=new RegExp(`^(${s.join("|")})*$`),c=new RegExp(`^(${s.join("|")})`),d=e=>r.find((t=>t.start<=e&&t.end>=e));let p=0;for(;p<n.length;){const t=d(p),r=null!=t,s=l.exec(n.slice(p))?.[1];if(!r&&null!=s&&u.test(s)){let t=s;for(;t.length>0;){const n=c.exec(t)[1];t=t.slice(n.length),a.push(ow((0,Yt.A)({},e,{now:o,token:n,startSeparator:i}))),i=""}p+=s.length}else{const e=n[p];r&&t?.start===p||t?.end===p||(0===a.length?i+=e:a[a.length-1].endSeparator+=e),p+=1}}return 0===a.length&&i.length>0&&a.push({type:"empty",contentType:"letter",maxLength:null,format:"",value:"",placeholder:"",hasLeadingZerosInFormat:!1,hasLeadingZerosInInput:!1,startSeparator:i,endSeparator:"",modified:!1}),a})((0,Yt.A)({},e,{expandedFormat:t,escapedParts:n}));return(e=>{let{isRtl:t,formatDensity:n,sections:r}=e;return r.map((e=>{const r=e=>{let r=e;return t&&null!==r&&r.includes(" ")&&(r=`\u2069${r}\u2066`),"spacious"===n&&["/",".","-"].includes(r)&&(r=` ${r} `),r};return e.startSeparator=r(e.startSeparator),e.endSeparator=r(e.endSeparator),e}))})((0,Yt.A)({},e,{sections:r}))},iw=e=>{const t=bb(),n=Eb(),r=vb(),o=zo(),{valueManager:a,fieldValueManager:i,valueType:s,validator:l,internalProps:u,internalProps:{value:c,defaultValue:d,referenceDate:p,onChange:h,format:f,formatDensity:m="dense",selectedSections:g,onSelectedSectionsChange:y,shouldRespectLeadingZeros:v=!1,timezone:b,enableAccessibleFieldDOMStructure:x=!1}}=e,{timezone:w,value:k,handleValueChange:S}=ux({timezone:b,value:c,defaultValue:d,referenceDate:p,onChange:h,valueManager:a}),A=W.useMemo((()=>(e=>{const t=e.date(void 0);return"0"===e.formatByString(e.setSeconds(t,0),"s")?Hv:Array.from({length:10}).map(((n,r)=>e.formatByString(e.setSeconds(t,r),"s")))})(t)),[t]),C=W.useMemo((()=>((e,t,n)=>{const r=e.date(void 0,n),o=e.endOfYear(r),a=e.endOfDay(r),{maxDaysInMonth:i,longestMonth:s}=Tv(e,r).reduce(((t,n)=>{const r=e.getDaysInMonth(n);return r>t.maxDaysInMonth?{maxDaysInMonth:r,longestMonth:n}:t}),{maxDaysInMonth:0,longestMonth:null});return{year:t=>{let{format:n}=t;return{minimum:0,maximum:eb(e,n)?9999:99}},month:()=>({minimum:1,maximum:e.getMonth(o)+1}),day:t=>{let{currentDate:n}=t;return{minimum:1,maximum:null!=n&&e.isValid(n)?e.getDaysInMonth(n):i,longestMonth:s}},weekDay:t=>{let{format:n,contentType:r}=t;if("digit"===r){const t=Vv(e,n).map(Number);return{minimum:Math.min(...t),maximum:Math.max(...t)}}return{minimum:1,maximum:7}},hours:n=>{let{format:o}=n;const i=e.getHours(a);return Gv(e.formatByString(e.endOfDay(r),o),t)!==i.toString()?{minimum:1,maximum:Number(Gv(e.formatByString(e.startOfDay(r),o),t))}:{minimum:0,maximum:i}},minutes:()=>({minimum:0,maximum:e.getMinutes(a)}),seconds:()=>({minimum:0,maximum:e.getSeconds(a)}),meridiem:()=>({minimum:0,maximum:1}),empty:()=>({minimum:0,maximum:0})}})(t,A,w)),[t,A,w]),T=W.useCallback((function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return i.getSectionsFromValue(t,e,r,(e=>aw({utils:t,localeText:n,localizedDigits:A,format:f,date:e,formatDensity:m,shouldRespectLeadingZeros:v,enableAccessibleFieldDOMStructure:x,isRtl:o})))}),[i,f,n,A,o,v,t,m,x]),[I,E]=W.useState((()=>{const e=T(k);nb();const n={sections:e,value:k,referenceValue:a.emptyValue,tempValueStrAndroid:null},r=(e=>Math.max(...e.map((e=>zv[e.type]??1))))(e),o=a.getInitialReferenceValue({referenceDate:p,value:k,utils:t,props:u,granularity:r,timezone:w});return(0,Yt.A)({},n,{referenceValue:o})})),[N,O]=(0,Kp.A)({controlled:g,default:null,name:"useField",state:"selectedSections"}),M=e=>{O(e),y?.(e)},D=W.useMemo((()=>ab(N,I.sections)),[N,I.sections]),R="all"===D?0:D,P=e=>{let{value:n,referenceValue:o,sections:i}=e;if(E((e=>(0,Yt.A)({},e,{sections:i,value:n,referenceValue:o,tempValueStrAndroid:null}))),a.areValuesEqual(t,I.value,n))return;const s={validationError:l({adapter:r,value:n,timezone:w,props:u})};S(n,s)},$=(e,t)=>{const n=[...I.sections];return n[e]=(0,Yt.A)({},n[e],{value:t,modified:!0}),n};return W.useEffect((()=>{const e=T(I.value);nb(),E((t=>(0,Yt.A)({},t,{sections:e})))}),[f,t.locale,o]),W.useEffect((()=>{let e;e=!a.areValuesEqual(t,I.value,k)||a.getTimezone(t,I.value)!==a.getTimezone(t,k),e&&E((e=>(0,Yt.A)({},e,{value:k,referenceValue:i.updateReferenceValue(t,k,e.referenceValue),sections:T(k)})))}),[k]),{state:I,activeSectionIndex:R,parsedSelectedSections:D,setSelectedSections:M,clearValue:()=>{P({value:a.emptyValue,referenceValue:I.referenceValue,sections:T(a.emptyValue)})},clearActiveSection:()=>{if(null==R)return;const e=I.sections[R],n=i.getActiveDateManager(t,I,e),r=n.getSections(I.sections).filter((e=>""!==e.value)).length===(""===e.value?0:1),o=$(R,""),a=r?null:t.getInvalidDate(),s=n.getNewValuesFromNewActiveDate(a);P((0,Yt.A)({},s,{sections:o}))},updateSectionValue:e=>{let{activeSection:n,newSectionValue:r,shouldGoToNextSection:o}=e;o&&R<I.sections.length-1&&M(R+1);const a=i.getActiveDateManager(t,I,n),s=$(R,r),l=a.getSections(s),u=((e,t,n)=>{const r=t.some((e=>"day"===e.type)),o=[],a=[];for(let l=0;l<t.length;l+=1){const e=t[l];r&&"weekDay"===e.type||(o.push(e.format),a.push(Zv(e,"non-input",n)))}const i=o.join(" "),s=a.join(" ");return e.parse(s,i)})(t,l,A);let c,d;if(null!=u&&t.isValid(u)){const e=ob(t,u,l,a.referenceDate,!0);c=a.getNewValuesFromNewActiveDate(e),d=!0}else c=a.getNewValuesFromNewActiveDate(u),d=(null!=u&&!t.isValid(u))!==(null!=a.date&&!t.isValid(a.date));return d?P((0,Yt.A)({},c,{sections:s})):E((e=>(0,Yt.A)({},e,c,{sections:s,tempValueStrAndroid:null})))},updateValueFromValueStr:e=>{const r=i.parseValueStr(e,I.referenceValue,((e,r)=>{const a=t.parse(e,f);if(null==a||!t.isValid(a))return null;const i=aw({utils:t,localeText:n,localizedDigits:A,format:f,date:a,formatDensity:m,shouldRespectLeadingZeros:v,enableAccessibleFieldDOMStructure:x,isRtl:o});return ob(t,a,i,r,!1)})),a=i.updateReferenceValue(t,r,I.referenceValue);P({value:r,referenceValue:a,sections:T(r,I.sections)})},setTempAndroidValueStr:e=>E((t=>(0,Yt.A)({},t,{tempValueStrAndroid:e}))),getSectionsFromValue:T,sectionsValueBoundaries:C,localizedDigits:A,timezone:w}},sw=e=>null!=e.saveQuery,lw=e=>{let{sections:t,updateSectionValue:n,sectionsValueBoundaries:r,localizedDigits:o,setTempAndroidValueStr:a,timezone:i}=e;const s=bb(),[l,u]=W.useState(null),c=(0,cr.A)((()=>u(null)));W.useEffect((()=>{null!=l&&t[l.sectionIndex]?.type!==l.sectionType&&c()}),[t,l,c]),W.useEffect((()=>{if(null!=l){const e=setTimeout((()=>c()),5e3);return()=>{clearTimeout(e)}}return()=>{}}),[l,c]);const d=(e,n,r)=>{let{keyPressed:o,sectionIndex:a}=e;const i=o.toLowerCase(),s=t[a];if(null!=l&&(!r||r(l.value))&&l.sectionIndex===a){const e=`${l.value}${i}`,t=n(e,s);if(!sw(t))return u({sectionIndex:a,value:e,sectionType:s.type}),t}const d=n(i,s);return sw(d)&&!d.saveQuery?(c(),null):(u({sectionIndex:a,value:i,sectionType:s.type}),sw(d)?null:d)};return{applyCharacterEditing:(0,cr.A)((e=>{const l=t[e.sectionIndex],u=Kv(e.keyPressed,o)?(e=>{const t=(e,t)=>{const n=Gv(e,o),a=Number(n),i=r[t.type]({currentDate:null,format:t.format,contentType:t.contentType});if(a>i.maximum)return{saveQuery:!1};if(a<i.minimum)return{saveQuery:!0};const l=10*a>i.maximum||n.length===i.maximum.toString().length;return{sectionValue:Yv(s,a,i,o,t),shouldGoToNextSection:l}};return d(e,((e,n)=>{if("digit"===n.contentType||"digit-with-letter"===n.contentType)return t(e,n);if("month"===n.type){const r=tb(s,"digit","month","MM"),o=t(e,{type:n.type,format:"MM",hasLeadingZerosInFormat:r,hasLeadingZerosInInput:!0,contentType:"digit",maxLength:2});if(sw(o))return o;const a=Jv(s,o.sectionValue,"MM",n.format);return(0,Yt.A)({},o,{sectionValue:a})}if("weekDay"===n.type){const r=t(e,n);if(sw(r))return r;const o=Vv(s,n.format)[Number(r.sectionValue)-1];return(0,Yt.A)({},r,{sectionValue:o})}return{saveQuery:!1}}),(e=>Kv(e,o)))})((0,Yt.A)({},e,{keyPressed:qv(e.keyPressed,o)})):(e=>{const t=(e,t,n)=>{const r=t.filter((e=>e.toLowerCase().startsWith(n)));return 0===r.length?{saveQuery:!1}:{sectionValue:r[0],shouldGoToNextSection:1===r.length}},n=(e,n,r,o)=>{const a=e=>Uv(s,i,n.type,e);if("letter"===n.contentType)return t(n.format,a(n.format),e);if(r&&null!=o&&"letter"===Wv(s,r).contentType){const n=a(r),i=t(0,n,e);return sw(i)?{saveQuery:!1}:(0,Yt.A)({},i,{sectionValue:o(i.sectionValue,n)})}return{saveQuery:!1}};return d(e,((e,t)=>{switch(t.type){case"month":{const r=e=>Jv(s,e,s.formats.month,t.format);return n(e,t,s.formats.month,r)}case"weekDay":{const r=(e,t)=>t.indexOf(e).toString();return n(e,t,s.formats.weekday,r)}case"meridiem":return n(e,t);default:return{saveQuery:!1}}}))})(e);null!=u?n({activeSection:l,newSectionValue:u.sectionValue,shouldGoToNextSection:u.shouldGoToNextSection}):a(null)})),resetCharacterQuery:c}},uw=e=>{const{internalProps:{disabled:t,readOnly:n=!1},forwardedProps:{sectionListRef:r,onBlur:o,onClick:a,onFocus:i,onInput:s,onPaste:l,focused:u,autoFocus:c=!1},fieldValueManager:d,applyCharacterEditing:p,resetCharacterQuery:h,setSelectedSections:f,parsedSelectedSections:m,state:g,clearActiveSection:y,clearValue:v,updateSectionValue:b,updateValueFromValueStr:x,sectionOrder:w,areAllSectionsEmpty:k,sectionsValueBoundaries:S}=e,A=W.useRef(null),C=(0,lr.A)(r,A),T=Eb(),I=bb(),E=(0,or.A)(),[N,O]=W.useState(!1),M=W.useMemo((()=>({syncSelectionToDOM:()=>{if(!A.current)return;const e=document.getSelection();if(!e)return;if(null==m)return e.rangeCount>0&&A.current.getRoot().contains(e.getRangeAt(0).startContainer)&&e.removeAllRanges(),void(N&&A.current.getRoot().blur());if(!A.current.getRoot().contains(Xb(document)))return;const t=new window.Range;let n;if("all"===m)n=A.current.getRoot();else{n="empty"===g.sections[m].type?A.current.getSectionContainer(m):A.current.getSectionContent(m)}t.selectNodeContents(n),n.focus(),e.removeAllRanges(),e.addRange(t)},getActiveSectionIndexFromDOM:()=>{const e=Xb(document);return e&&A.current&&A.current.getRoot().contains(e)?A.current.getSectionIndexFromDOMElement(e):null},focusField:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!A.current||null!=M.getActiveSectionIndexFromDOM())return;const t=ab(e,g.sections);O(!0),A.current.getSectionContent(t).focus()},setSelectedSections:e=>{if(!A.current)return;const t=ab(e,g.sections);O(null!==("all"===t?0:t)),f(e)},isFieldFocused:()=>{const e=Xb(document);return!!A.current&&A.current.getRoot().contains(e)}})),[m,f,g.sections,N]),D=(0,cr.A)((e=>{if(!A.current)return;const t=g.sections[e];A.current.getSectionContent(e).innerHTML=t.value||t.placeholder,M.syncSelectionToDOM()})),R=(0,cr.A)((function(e){if(!e.isDefaultPrevented()&&A.current){O(!0);for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(a?.(e,...n),"all"===m)setTimeout((()=>{const e=document.getSelection().getRangeAt(0).startOffset;if(0===e)return void f(w.startIndex);let t=0,n=0;for(;n<e&&t<g.sections.length;){const e=g.sections[t];t+=1,n+=`${e.startSeparator}${e.value||e.placeholder}${e.endSeparator}`.length}f(t-1)}));else if(N){A.current.getRoot().contains(e.target)||f(w.startIndex)}else O(!0),f(w.startIndex)}})),P=(0,cr.A)((e=>{if(s?.(e),!A.current||"all"!==m)return;const t=e.target.textContent??"";A.current.getRoot().innerHTML=g.sections.map((e=>`${e.startSeparator}${e.value||e.placeholder}${e.endSeparator}`)).join(""),M.syncSelectionToDOM(),0===t.length||10===t.charCodeAt(0)?(h(),v(),f("all")):t.length>1?x(t):("all"===m&&f(0),p({keyPressed:t,sectionIndex:0}))})),$=(0,cr.A)((e=>{if(l?.(e),n||"all"!==m)return void e.preventDefault();const t=e.clipboardData.getData("text");e.preventDefault(),h(),x(t)})),j=(0,cr.A)((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(i?.(...t),N||!A.current)return;O(!0);null!=A.current.getSectionIndexFromDOMElement(Xb(document))||f(w.startIndex)})),_=(0,cr.A)((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];o?.(...t),setTimeout((()=>{if(!A.current)return;const e=Xb(document);!A.current.getRoot().contains(e)&&(O(!1),f(null))}))})),F=(0,cr.A)((e=>t=>{t.isDefaultPrevented()||f(e)})),L=(0,cr.A)((e=>{e.preventDefault()})),z=(0,cr.A)((e=>()=>{f(e)})),B=(0,cr.A)((e=>{if(e.preventDefault(),n||t||"number"!==typeof m)return;const r=g.sections[m],o=e.clipboardData.getData("text"),a=/^[a-zA-Z]+$/.test(o),i=/^[0-9]+$/.test(o),s=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(o);"letter"===r.contentType&&a||"digit"===r.contentType&&i||"digit-with-letter"===r.contentType&&s?(h(),b({activeSection:r,newSectionValue:o,shouldGoToNextSection:!0})):a||i||(h(),x(o))})),V=(0,cr.A)((e=>{e.preventDefault(),e.dataTransfer.dropEffect="none"})),U=(0,cr.A)((e=>{if(!A.current)return;const t=e.target,r=t.textContent??"",o=A.current.getSectionIndexFromDOMElement(t),a=g.sections[o];if(!n&&A.current){if(0===r.length){if(""===a.value)return void D(o);const t=e.nativeEvent.inputType;return"insertParagraph"===t||"insertLineBreak"===t?void D(o):(h(),void y())}p({keyPressed:r,sectionIndex:o}),D(o)}else D(o)}));(0,dr.A)((()=>{if(N&&A.current)if("all"===m)A.current.getRoot().focus();else if("number"===typeof m){const e=A.current.getSectionContent(m);e&&e.focus()}}),[m,N]);const H=W.useMemo((()=>g.sections.reduce(((e,t)=>(e[t.type]=S[t.type]({currentDate:null,contentType:t.contentType,format:t.format}),e)),{})),[S,g.sections]),G="all"===m,q=W.useMemo((()=>g.sections.map(((e,r)=>{const o=!G&&!t&&!n;return{container:{"data-sectionindex":r,onClick:F(r)},content:{tabIndex:G||r>0?-1:0,contentEditable:!G&&!t&&!n,role:"spinbutton",id:`${E}-${e.type}`,"aria-labelledby":`${E}-${e.type}`,"aria-readonly":n,"aria-valuenow":sb(e,I),"aria-valuemin":H[e.type].minimum,"aria-valuemax":H[e.type].maximum,"aria-valuetext":e.value?ib(e,I):T.empty,"aria-label":T[e.type],"aria-disabled":t,spellCheck:!o&&void 0,autoCapitalize:o?"off":void 0,autoCorrect:o?"off":void 0,[parseInt(W.version,10)>=17?"enterKeyHint":"enterkeyhint"]:o?"next":void 0,children:e.value||e.placeholder,onInput:U,onPaste:B,onFocus:z(r),onDragOver:V,onMouseUp:L,inputMode:"letter"===e.contentType?"text":"numeric"},before:{children:e.startSeparator},after:{children:e.endSeparator}}}))),[g.sections,z,B,V,U,F,L,t,n,G,T,I,H,E]),K=(0,cr.A)((e=>{x(e.target.value)})),X=W.useMemo((()=>k?"":d.getV7HiddenInputValueFromSections(g.sections)),[k,g.sections,d]);return W.useEffect((()=>{if(null==A.current)throw new Error(["MUI X: The `sectionListRef` prop has not been initialized by `PickersSectionList`","You probably tried to pass a component to the `textField` slot that contains an `<input />` element instead of a `PickersSectionList`.","","If you want to keep using an `<input />` HTML element for the editing, please remove the `enableAccessibleFieldDOMStructure` prop from your picker or field component:","","<DatePicker slots={{ textField: MyCustomTextField }} />","","Learn more about the field accessible DOM structure on the MUI documentation: https://mui.com/x/react-date-pickers/fields/#fields-to-edit-a-single-element"].join("\n"));c&&A.current&&A.current.getSectionContent(w.startIndex).focus()}),[]),{interactions:M,returnedValue:{autoFocus:c,readOnly:n,focused:u??N,sectionListRef:C,onBlur:_,onClick:R,onFocus:j,onInput:P,onPaste:$,enableAccessibleFieldDOMStructure:!0,elements:q,tabIndex:0===m?-1:0,contentEditable:G,value:X,onChange:K,areAllSectionsEmpty:k}}},cw=e=>e.replace(/[\u2066\u2067\u2068\u2069]/g,""),dw=e=>{const t=zo(),n=W.useRef(void 0),r=W.useRef(void 0),{forwardedProps:{onFocus:o,onClick:a,onPaste:i,onBlur:s,inputRef:l,placeholder:u},internalProps:{readOnly:c=!1,disabled:d=!1},parsedSelectedSections:p,activeSectionIndex:h,state:f,fieldValueManager:m,valueManager:g,applyCharacterEditing:y,resetCharacterQuery:v,updateSectionValue:b,updateValueFromValueStr:x,clearActiveSection:w,clearValue:k,setTempAndroidValueStr:S,setSelectedSections:A,getSectionsFromValue:C,areAllSectionsEmpty:T,localizedDigits:I}=e,E=W.useRef(null),N=(0,lr.A)(l,E),O=W.useMemo((()=>((e,t,n)=>{let r=0,o=n?1:0;const a=[];for(let i=0;i<e.length;i+=1){const s=e[i],l=Zv(s,n?"input-rtl":"input-ltr",t),u=`${s.startSeparator}${l}${s.endSeparator}`,c=cw(u).length,d=u.length,p=cw(l),h=o+(""===p?0:l.indexOf(p[0]))+s.startSeparator.length,f=h+p.length;a.push((0,Yt.A)({},s,{start:r,end:r+c,startInInput:h,endInInput:f})),r+=c,o+=d}return a})(f.sections,I,t)),[f.sections,I,t]),M=W.useMemo((()=>({syncSelectionToDOM:()=>{if(!E.current)return;if(null==p)return void(E.current.scrollLeft&&(E.current.scrollLeft=0));if(E.current!==Xb(document))return;const e=E.current.scrollTop;if("all"===p)E.current.select();else{const e=O[p],t="empty"===e.type?e.startInInput-e.startSeparator.length:e.startInInput,n="empty"===e.type?e.endInInput+e.endSeparator.length:e.endInInput;t===E.current.selectionStart&&n===E.current.selectionEnd||E.current===Xb(document)&&E.current.setSelectionRange(t,n),clearTimeout(r.current),r.current=setTimeout((()=>{!E.current||E.current!==Xb(document)||E.current.selectionStart!==E.current.selectionEnd||E.current.selectionStart===t&&E.current.selectionEnd===n||M.syncSelectionToDOM()}))}E.current.scrollTop=e},getActiveSectionIndexFromDOM:()=>{const e=E.current.selectionStart??0,t=E.current.selectionEnd??0;if(0===e&&0===t)return null;const n=e<=O[0].startInInput?1:O.findIndex((t=>t.startInInput-t.startSeparator.length>e));return-1===n?O.length-1:n-1},focusField:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;Xb(document)!==E.current&&(E.current?.focus(),A(e))},setSelectedSections:e=>A(e),isFieldFocused:()=>E.current===Xb(document)})),[E,p,O,A]),D=()=>{const e=E.current.selectionStart??0;let t;t=e<=O[0].startInInput||e>=O[O.length-1].endInInput?1:O.findIndex((t=>t.startInInput-t.startSeparator.length>e));const n=-1===t?O.length-1:t-1;A(n)},R=(0,cr.A)((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];o?.(...t);const a=E.current;clearTimeout(n.current),n.current=setTimeout((()=>{a&&a===E.current&&null==h&&(a.value.length&&Number(a.selectionEnd)-Number(a.selectionStart)===a.value.length?A("all"):D())}))})),P=(0,cr.A)((function(e){if(!e.isDefaultPrevented()){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];a?.(e,...n),D()}})),$=(0,cr.A)((e=>{if(i?.(e),e.preventDefault(),c||d)return;const t=e.clipboardData.getData("text");if("number"===typeof p){const e=f.sections[p],n=/^[a-zA-Z]+$/.test(t),r=/^[0-9]+$/.test(t),o=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(t);if("letter"===e.contentType&&n||"digit"===e.contentType&&r||"digit-with-letter"===e.contentType&&o)return v(),void b({activeSection:e,newSectionValue:t,shouldGoToNextSection:!0});if(n||r)return}v(),x(t)})),j=(0,cr.A)((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];s?.(...t),A(null)})),_=(0,cr.A)((e=>{if(c)return;const n=e.target.value;if(""===n)return v(),void k();const r=e.nativeEvent.data,o=r&&r.length>1,a=o?r:n,i=cw(a);if("all"===p&&A(h),null==h||o)return void x(o?r:i);let s;if("all"===p&&1===i.length)s=i;else{const e=cw(m.getV6InputValueFromSections(O,I,t));let n=-1,r=-1;for(let t=0;t<e.length;t+=1)-1===n&&e[t]!==i[t]&&(n=t),-1===r&&e[e.length-t-1]!==i[i.length-t-1]&&(r=t);const o=O[h];if(n<o.start||e.length-r-1>o.end)return;const a=i.length-e.length+o.end-cw(o.endSeparator||"").length;s=i.slice(o.start+cw(o.startSeparator||"").length,a)}if(0===s.length)return navigator.userAgent.toLowerCase().includes("android")&&S(a),v(),void w();y({keyPressed:s,sectionIndex:h})})),F=W.useMemo((()=>void 0!==u?u:m.getV6InputValueFromSections(C(g.emptyValue),I,t)),[u,m,C,g.emptyValue,I,t]),L=W.useMemo((()=>f.tempValueStrAndroid??m.getV6InputValueFromSections(f.sections,I,t)),[f.sections,m,f.tempValueStrAndroid,I,t]);W.useEffect((()=>(E.current&&E.current===Xb(document)&&A("all"),()=>{clearTimeout(n.current),clearTimeout(r.current)})),[]);const z=W.useMemo((()=>null==h||"letter"===f.sections[h].contentType?"text":"numeric"),[h,f.sections]),B=E.current&&E.current===Xb(document);return{interactions:M,returnedValue:{readOnly:c,onBlur:j,onClick:P,onFocus:R,onPaste:$,inputRef:N,enableAccessibleFieldDOMStructure:!1,placeholder:F,inputMode:z,autoComplete:"off",value:!B&&T?"":L,onChange:_}}},pw=e=>{const t=bb(),{internalProps:n,internalProps:{unstableFieldRef:r,minutesStep:o,enableAccessibleFieldDOMStructure:a=!1,disabled:i=!1,readOnly:s=!1},forwardedProps:{onKeyDown:l,error:u,clearable:c,onClear:d},fieldValueManager:p,valueManager:h,validator:f}=e,m=zo(),g=iw(e),{state:y,activeSectionIndex:v,parsedSelectedSections:b,setSelectedSections:x,clearValue:w,clearActiveSection:k,updateSectionValue:S,setTempAndroidValueStr:A,sectionsValueBoundaries:C,localizedDigits:T,timezone:I}=g,E=lw({sections:y.sections,updateSectionValue:S,sectionsValueBoundaries:C,localizedDigits:T,setTempAndroidValueStr:A,timezone:I}),{resetCharacterQuery:N}=E,O=h.areValuesEqual(t,y.value,h.emptyValue),M=a?uw:dw,D=W.useMemo((()=>((e,t)=>{const n={};if(!t)return e.forEach(((t,r)=>{const o=0===r?null:r-1,a=r===e.length-1?null:r+1;n[r]={leftIndex:o,rightIndex:a}})),{neighbors:n,startIndex:0,endIndex:e.length-1};const r={},o={};let a=0,i=0,s=e.length-1;for(;s>=0;){i=e.findIndex(((e,t)=>t>=a&&e.endSeparator?.includes(" ")&&" / "!==e.endSeparator)),-1===i&&(i=e.length-1);for(let e=i;e>=a;e-=1)o[e]=s,r[s]=e,s-=1;a=i+1}return e.forEach(((t,a)=>{const i=o[a],s=0===i?null:r[i-1],l=i===e.length-1?null:r[i+1];n[a]={leftIndex:s,rightIndex:l}})),{neighbors:n,startIndex:r[0],endIndex:r[e.length-1]}})(y.sections,m&&!a)),[y.sections,m,a]),{returnedValue:R,interactions:P}=M((0,Yt.A)({},e,g,E,{areAllSectionsEmpty:O,sectionOrder:D})),$=(0,cr.A)((e=>{if(l?.(e),!i)switch(!0){case(e.ctrlKey||e.metaKey)&&"A"===String.fromCharCode(e.keyCode)&&!e.shiftKey&&!e.altKey:e.preventDefault(),x("all");break;case"ArrowRight"===e.key:if(e.preventDefault(),null==b)x(D.startIndex);else if("all"===b)x(D.endIndex);else{const e=D.neighbors[b].rightIndex;null!==e&&x(e)}break;case"ArrowLeft"===e.key:if(e.preventDefault(),null==b)x(D.endIndex);else if("all"===b)x(D.startIndex);else{const e=D.neighbors[b].leftIndex;null!==e&&x(e)}break;case"Delete"===e.key:if(e.preventDefault(),s)break;null==b||"all"===b?w():k(),N();break;case["ArrowUp","ArrowDown","Home","End","PageUp","PageDown"].includes(e.key):{if(e.preventDefault(),s||null==v)break;"all"===b&&x(v);const n=y.sections[v],r=p.getActiveDateManager(t,y,n),a=Qv(t,I,n,e.key,C,T,r.date,{minutesStep:o});S({activeSection:n,newSectionValue:a,shouldGoToNextSection:!1});break}}}));(0,dr.A)((()=>{P.syncSelectionToDOM()}));const{hasValidationError:j}=lx({props:n,validator:f,timezone:I,value:y.value,onError:n.onError}),_=W.useMemo((()=>void 0!==u?u:j),[j,u]);W.useEffect((()=>{_||null!=v||N()}),[y.referenceValue,v,_]),W.useEffect((()=>{null!=y.tempValueStrAndroid&&null!=v&&(N(),k())}),[y.sections]),W.useImperativeHandle(r,(()=>({getSections:()=>y.sections,getActiveSectionIndex:P.getActiveSectionIndexFromDOM,setSelectedSections:P.setSelectedSections,focusField:P.focusField,isFieldFocused:P.isFieldFocused})));const F={onKeyDown:$,onClear:(0,cr.A)((function(e){e.preventDefault();for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];d?.(e,...n),w(),P.isFieldFocused()?x(D.startIndex):P.focusField(0)})),error:_,clearable:Boolean(c&&!O&&!s&&!i)},L={disabled:i,readOnly:s};return(0,Yt.A)({},e.forwardedProps,F,L,R)},hw=["value","defaultValue","referenceDate","format","formatDensity","onChange","timezone","onError","shouldRespectLeadingZeros","selectedSections","onSelectedSectionsChange","unstableFieldRef","enableAccessibleFieldDOMStructure","disabled","readOnly","dateSeparator"],fw=(e,t)=>W.useMemo((()=>{const n=(0,Yt.A)({},e),r={},o=e=>{n.hasOwnProperty(e)&&(r[e]=n[e],delete n[e])};return hw.forEach(o),"date"===t?$b.forEach(o):"time"===t?jb.forEach(o):"date-time"===t&&($b.forEach(o),jb.forEach(o),_b.forEach(o)),{forwardedProps:n,internalProps:r}}),[e,t]),mw=e=>{const t=(e=>{const t=bb(),n=xb();return(0,Yt.A)({},e,{disablePast:e.disablePast??!1,disableFuture:e.disableFuture??!1,format:e.format??t.formats.keyboardDate,minDate:Cv(t,e.minDate,n.minDate),maxDate:Cv(t,e.maxDate,n.maxDate)})})(e),{forwardedProps:n,internalProps:r}=fw(t,"date");return pw({forwardedProps:n,internalProps:r,valueManager:ub,fieldValueManager:cb,validator:zb,valueType:"date"})},gw=["clearable","onClear","InputProps","sx","slots","slotProps"],yw=["ownerState"],vw=e=>{const t=Eb(),{clearable:n,onClear:r,InputProps:o,sx:a,slots:i,slotProps:s}=e,l=(0,Xt.A)(e,gw),u=i?.clearButton??Ns,c=qo({elementType:u,externalSlotProps:s?.clearButton,ownerState:{},className:"clearButton",additionalProps:{title:t.fieldClearLabel}}),d=(0,Xt.A)(c,yw),p=i?.clearIcon??nw,h=qo({elementType:p,externalSlotProps:s?.clearIcon,ownerState:{}});return(0,Yt.A)({},l,{InputProps:(0,Yt.A)({},o,{endAdornment:(0,sn.jsxs)(W.Fragment,{children:[n&&(0,sn.jsx)(Gb,{position:"end",sx:{marginRight:o?.endAdornment?-1:-1.5},children:(0,sn.jsx)(u,(0,Yt.A)({},d,{onClick:r,children:(0,sn.jsx)(p,(0,Yt.A)({fontSize:"small"},h))}))}),o?.endAdornment]})}),sx:[{"& .clearButton":{opacity:1},"@media (pointer: fine)":{"& .clearButton":{opacity:0},"&:hover, &:focus-within":{".clearButton":{opacity:1}}}},...Array.isArray(a)?a:[a]]})};function bw(e){return(0,on.Ay)("MuiPickersTextField",e)}(0,rn.A)("MuiPickersTextField",["root","focused","disabled","error","required"]);function xw(e){return(0,on.Ay)("MuiPickersInputBase",e)}const ww=(0,rn.A)("MuiPickersInputBase",["root","focused","disabled","error","notchedOutline","sectionContent","sectionBefore","sectionAfter","adornedStart","adornedEnd","input"]);function kw(e){return(0,on.Ay)("MuiPickersOutlinedInput",e)}const Sw=(0,Yt.A)({},ww,(0,rn.A)("MuiPickersOutlinedInput",["root","notchedOutline","input"])),Aw=["children","className","label","notched","shrink"],Cw=(0,en.Ay)("fieldset",{name:"MuiPickersOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})((e=>{let{theme:t}=e;const n="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%",borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:n}})),Tw=(0,en.Ay)("span")((e=>{let{theme:t}=e;return{fontFamily:t.typography.fontFamily,fontSize:"inherit"}})),Iw=(0,en.Ay)("legend")((e=>{let{theme:t}=e;return{float:"unset",width:"auto",overflow:"hidden",variants:[{props:{withLabel:!1},style:{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})}},{props:{withLabel:!0},style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:{withLabel:!0,notched:!0},style:{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})}}]}}));function Ew(e){const{className:t,label:n}=e,r=(0,Xt.A)(e,Aw),o=null!=n&&""!==n,a=(0,Yt.A)({},e,{withLabel:o});return(0,sn.jsx)(Cw,(0,Yt.A)({"aria-hidden":!0,className:t},r,{ownerState:a,children:(0,sn.jsx)(Iw,{ownerState:a,children:o?(0,sn.jsx)(Tw,{children:n}):(0,sn.jsx)(Tw,{className:"notranslate",children:"\u200b"})})}))}var Nw=n(7598);const Ow={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function Mw(e){return(0,on.Ay)("MuiPickersSectionList",e)}const Dw=(0,rn.A)("MuiPickersSectionList",["root","section","sectionContent"]),Rw=["slots","slotProps","elements","sectionListRef"],Pw=(0,en.Ay)("div",{name:"MuiPickersSectionList",slot:"Root",overridesResolver:(e,t)=>t.root})({direction:"ltr /*! @noflip */",outline:"none"}),$w=(0,en.Ay)("span",{name:"MuiPickersSectionList",slot:"Section",overridesResolver:(e,t)=>t.section})({}),jw=(0,en.Ay)("span",{name:"MuiPickersSectionList",slot:"SectionSeparator",overridesResolver:(e,t)=>t.sectionSeparator})({whiteSpace:"pre"}),_w=(0,en.Ay)("span",{name:"MuiPickersSectionList",slot:"SectionContent",overridesResolver:(e,t)=>t.sectionContent})({outline:"none"});function Fw(e){const{slots:t,slotProps:n,element:r,classes:o}=e,a=t?.section??$w,i=qo({elementType:a,externalSlotProps:n?.section,externalForwardedProps:r.container,className:o.section,ownerState:{}}),s=t?.sectionContent??_w,l=qo({elementType:s,externalSlotProps:n?.sectionContent,externalForwardedProps:r.content,additionalProps:{suppressContentEditableWarning:!0},className:o.sectionContent,ownerState:{}}),u=t?.sectionSeparator??jw,c=qo({elementType:u,externalSlotProps:n?.sectionSeparator,externalForwardedProps:r.before,ownerState:{position:"before"}}),d=qo({elementType:u,externalSlotProps:n?.sectionSeparator,externalForwardedProps:r.after,ownerState:{position:"after"}});return(0,sn.jsxs)(a,(0,Yt.A)({},i,{children:[(0,sn.jsx)(u,(0,Yt.A)({},c)),(0,sn.jsx)(s,(0,Yt.A)({},l)),(0,sn.jsx)(u,(0,Yt.A)({},d))]}))}const Lw=W.forwardRef((function(e,t){const n=yv({props:e,name:"MuiPickersSectionList"}),{slots:r,slotProps:o,elements:a,sectionListRef:i}=n,s=(0,Xt.A)(n,Rw),l=(e=>{const{classes:t}=e;return(0,Zt.A)({root:["root"],section:["section"],sectionContent:["sectionContent"]},Mw,t)})(n),u=W.useRef(null),c=(0,lr.A)(t,u),d=e=>{if(!u.current)throw new Error(`MUI X: Cannot call sectionListRef.${e} before the mount of the component.`);return u.current};W.useImperativeHandle(i,(()=>({getRoot:()=>d("getRoot"),getSectionContainer:e=>d("getSectionContainer").querySelector(`.${Dw.section}[data-sectionindex="${e}"]`),getSectionContent:e=>d("getSectionContent").querySelector(`.${Dw.section}[data-sectionindex="${e}"] .${Dw.sectionContent}`),getSectionIndexFromDOMElement(e){const t=d("getSectionIndexFromDOMElement");if(null==e||!t.contains(e))return null;let n=null;return e.classList.contains(Dw.section)?n=e:e.classList.contains(Dw.sectionContent)&&(n=e.parentElement),null==n?null:Number(n.dataset.sectionindex)}})));const p=r?.root??Pw,h=qo({elementType:p,externalSlotProps:o?.root,externalForwardedProps:s,additionalProps:{ref:c,suppressContentEditableWarning:!0},className:l.root,ownerState:{}});return(0,sn.jsx)(p,(0,Yt.A)({},h,{children:h.contentEditable?a.map((e=>{let{content:t,before:n,after:r}=e;return`${n.children}${t.children}${r.children}`})).join(""):(0,sn.jsx)(W.Fragment,{children:a.map(((e,t)=>(0,sn.jsx)(Fw,{slots:r,slotProps:o,element:e,classes:l},t)))})}))})),zw=["elements","areAllSectionsEmpty","defaultValue","label","value","onChange","id","autoFocus","endAdornment","startAdornment","renderSuffix","slots","slotProps","contentEditable","tabIndex","onInput","onPaste","onKeyDown","fullWidth","name","readOnly","inputProps","inputRef","sectionListRef"],Bw=(0,en.Ay)("div",{name:"MuiPickersInputBase",slot:"Root",overridesResolver:(e,t)=>t.root})((e=>{let{theme:t}=e;return(0,Yt.A)({},t.typography.body1,{color:(t.vars||t).palette.text.primary,cursor:"text",padding:0,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",boxSizing:"border-box",letterSpacing:(n=.15/16,Math.round(1e5*n)/1e5)+"em",variants:[{props:{fullWidth:!0},style:{width:"100%"}}]});var n})),Ww=(0,en.Ay)(Pw,{name:"MuiPickersInputBase",slot:"SectionsContainer",overridesResolver:(e,t)=>t.sectionsContainer})((e=>{let{theme:t}=e;return{padding:"4px 0 5px",fontFamily:t.typography.fontFamily,fontSize:"inherit",lineHeight:"1.4375em",flexGrow:1,outline:"none",display:"flex",flexWrap:"nowrap",overflow:"hidden",letterSpacing:"inherit",width:"182px",variants:[{props:{isRtl:!0},style:{textAlign:"right /*! @noflip */"}},{props:{size:"small"},style:{paddingTop:1}},{props:{adornedStart:!1,focused:!1,filled:!1},style:{color:"currentColor",opacity:0}},{props:e=>{let{adornedStart:t,focused:n,filled:r,label:o}=e;return!t&&!n&&!r&&null==o},style:t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:"light"===t.palette.mode?.42:.5}}]}})),Vw=(0,en.Ay)($w,{name:"MuiPickersInputBase",slot:"Section",overridesResolver:(e,t)=>t.section})((e=>{let{theme:t}=e;return{fontFamily:t.typography.fontFamily,fontSize:"inherit",letterSpacing:"inherit",lineHeight:"1.4375em",display:"inline-block",whiteSpace:"nowrap"}})),Uw=(0,en.Ay)(_w,{name:"MuiPickersInputBase",slot:"SectionContent",overridesResolver:(e,t)=>t.content})((e=>{let{theme:t}=e;return{fontFamily:t.typography.fontFamily,lineHeight:"1.4375em",letterSpacing:"inherit",width:"fit-content",outline:"none"}})),Hw=(0,en.Ay)(jw,{name:"MuiPickersInputBase",slot:"Separator",overridesResolver:(e,t)=>t.separator})((()=>({whiteSpace:"pre",letterSpacing:"inherit"}))),Gw=(0,en.Ay)("input",{name:"MuiPickersInputBase",slot:"Input",overridesResolver:(e,t)=>t.hiddenInput})((0,Yt.A)({},Ow)),qw=W.forwardRef((function(e,t){const n=yv({props:e,name:"MuiPickersInputBase"}),{elements:r,areAllSectionsEmpty:o,value:a,onChange:i,id:s,endAdornment:l,startAdornment:u,renderSuffix:c,slots:d,slotProps:p,contentEditable:h,tabIndex:f,onInput:m,onPaste:g,onKeyDown:y,name:v,readOnly:b,inputProps:x,inputRef:w,sectionListRef:k}=n,S=(0,Xt.A)(n,zw),A=W.useRef(null),C=(0,lr.A)(t,A),T=(0,lr.A)(x?.ref,w),I=zo(),E=xr();if(!E)throw new Error("MUI X: PickersInputBase should always be used inside a PickersTextField component");W.useEffect((()=>{E&&E.setAdornedStart(Boolean(u))}),[E,u]),W.useEffect((()=>{E&&(o?E.onEmpty():E.onFilled())}),[E,o]);const N=(0,Yt.A)({},n,E,{isRtl:I}),O=(e=>{const{focused:t,disabled:n,error:r,classes:o,fullWidth:a,readOnly:i,color:s,size:l,endAdornment:u,startAdornment:c}=e,d={root:["root",t&&!n&&"focused",n&&"disabled",i&&"readOnly",r&&"error",a&&"fullWidth",`color${(0,Nw.A)(s)}`,"small"===l&&"inputSizeSmall",Boolean(c)&&"adornedStart",Boolean(u)&&"adornedEnd"],notchedOutline:["notchedOutline"],input:["input"],sectionsContainer:["sectionsContainer"],sectionContent:["sectionContent"],sectionBefore:["sectionBefore"],sectionAfter:["sectionAfter"]};return(0,Zt.A)(d,xw,o)})(N),M=d?.root||Bw,D=qo({elementType:M,externalSlotProps:p?.root,externalForwardedProps:S,additionalProps:{"aria-invalid":E.error,ref:C},className:O.root,ownerState:N}),R=d?.input||Ww;return(0,sn.jsxs)(M,(0,Yt.A)({},D,{children:[u,(0,sn.jsx)(Lw,{sectionListRef:k,elements:r,contentEditable:h,tabIndex:f,className:O.sectionsContainer,onFocus:e=>{E.disabled?e.stopPropagation():E.onFocus?.(e)},onBlur:E.onBlur,onInput:m,onPaste:g,onKeyDown:y,slots:{root:R,section:Vw,sectionContent:Uw,sectionSeparator:Hw},slotProps:{root:{ownerState:N},sectionContent:{className:ww.sectionContent},sectionSeparator:e=>{let{position:t}=e;return{className:"before"===t?ww.sectionBefore:ww.sectionAfter}}}}),l,c?c((0,Yt.A)({},E)):null,(0,sn.jsx)(Gw,(0,Yt.A)({name:v,className:O.input,value:a,onChange:i,id:s,"aria-hidden":"true",tabIndex:-1,readOnly:b,required:E.required,disabled:E.disabled},x,{ref:T}))]}))})),Kw=["label","autoFocus","ownerState","notched"],Xw=(0,en.Ay)(Bw,{name:"MuiPickersOutlinedInput",slot:"Root",overridesResolver:(e,t)=>t.root})((e=>{let{theme:t}=e;const n="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{padding:"0 14px",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${Sw.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${Sw.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${Sw.focused} .${Sw.notchedOutline}`]:{borderStyle:"solid",borderWidth:2},[`&.${Sw.disabled}`]:{[`& .${Sw.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled},"*":{color:(t.vars||t).palette.action.disabled}},[`&.${Sw.error} .${Sw.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},variants:Object.keys((t.vars??t).palette).filter((e=>(t.vars??t).palette[e]?.main??!1)).map((e=>({props:{color:e},style:{[`&.${Sw.focused}:not(.${Sw.error}) .${Sw.notchedOutline}`]:{borderColor:(t.vars||t).palette[e].main}}})))}})),Yw=(0,en.Ay)(Ww,{name:"MuiPickersOutlinedInput",slot:"SectionsContainer",overridesResolver:(e,t)=>t.sectionsContainer})({padding:"16.5px 0",variants:[{props:{size:"small"},style:{padding:"8.5px 0"}}]}),Qw=W.forwardRef((function(e,t){const n=yv({props:e,name:"MuiPickersOutlinedInput"}),{label:r,ownerState:o,notched:a}=n,i=(0,Xt.A)(n,Kw),s=xr(),l=(0,Yt.A)({},n,o,s,{color:s?.color||"primary"}),u=(e=>{const{classes:t}=e,n=(0,Zt.A)({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},kw,t);return(0,Yt.A)({},t,n)})(l);return(0,sn.jsx)(qw,(0,Yt.A)({slots:{root:Xw,input:Yw},renderSuffix:e=>(0,sn.jsx)(Ew,{shrink:Boolean(a||e.adornedStart||e.focused||e.filled),notched:Boolean(a||e.adornedStart||e.focused||e.filled),className:u.notchedOutline,label:null!=r&&""!==r&&s?.required?(0,sn.jsxs)(W.Fragment,{children:[r,"\u2009","*"]}):r,ownerState:l})},i,{label:r,classes:u,ref:t}))}));Qw.muiName="Input";const Zw=["ownerState"],Jw=["variants"],ek=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function tk(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}const nk=(0,Sr.A)(),rk=e=>e?e.charAt(0).toLowerCase()+e.slice(1):e;function ok(e){let{defaultTheme:t,theme:n,themeId:r}=e;return o=n,0===Object.keys(o).length?t:n[r]||n;var o}function ak(e){return e?(t,n)=>n[e]:null}function ik(e,t){let{ownerState:n}=t,r=(0,Xt.A)(t,Zw);const o="function"===typeof e?e((0,Yt.A)({ownerState:n},r)):e;if(Array.isArray(o))return o.flatMap((e=>ik(e,(0,Yt.A)({ownerState:n},r))));if(o&&"object"===typeof o&&Array.isArray(o.variants)){const{variants:e=[]}=o;let t=(0,Xt.A)(o,Jw);return e.forEach((e=>{let o=!0;"function"===typeof e.props?o=e.props((0,Yt.A)({ownerState:n},r,n)):Object.keys(e.props).forEach((t=>{(null==n?void 0:n[t])!==e.props[t]&&r[t]!==e.props[t]&&(o=!1)})),o&&(Array.isArray(t)||(t=[t]),t.push("function"===typeof e.style?e.style((0,Yt.A)({ownerState:n},r,n)):e.style))})),t}return o}function sk(e){return(0,on.Ay)("MuiPickersFilledInput",e)}const lk=(0,Yt.A)({},ww,(0,rn.A)("MuiPickersFilledInput",["root","underline","input"])),uk=["label","autoFocus","disableUnderline","ownerState"],ck=(0,en.Ay)(Bw,{name:"MuiPickersFilledInput",slot:"Root",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>tk(e)&&"disableUnderline"!==e})((e=>{let{theme:t}=e;const n="light"===t.palette.mode,r=n?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",o=n?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",a=n?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",i=n?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:o,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:a,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:o}},[`&.${lk.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:o},[`&.${lk.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:i},variants:[...Object.keys((t.vars??t).palette).filter((e=>(t.vars??t).palette[e].main)).map((e=>({props:{color:e,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[e]?.main}`}}}))),{props:{disableUnderline:!1},style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${lk.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${lk.error}`]:{"&:before, &:after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${lk.disabled}, .${lk.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${lk.disabled}:before`]:{borderBottomStyle:"dotted"}}},{props:e=>{let{startAdornment:t}=e;return!!t},style:{paddingLeft:12}},{props:e=>{let{endAdornment:t}=e;return!!t},style:{paddingRight:12}}]}})),dk=(0,en.Ay)(Ww,{name:"MuiPickersFilledInput",slot:"sectionsContainer",overridesResolver:(e,t)=>t.sectionsContainer})({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:e=>{let{startAdornment:t}=e;return!!t},style:{paddingLeft:0}},{props:e=>{let{endAdornment:t}=e;return!!t},style:{paddingRight:0}},{props:{hiddenLabel:!0},style:{paddingTop:16,paddingBottom:17}},{props:{hiddenLabel:!0,size:"small"},style:{paddingTop:8,paddingBottom:9}}]}),pk=W.forwardRef((function(e,t){const n=yv({props:e,name:"MuiPickersFilledInput"}),{label:r,disableUnderline:o=!1,ownerState:a}=n,i=(0,Xt.A)(n,uk),s=xr(),l=(e=>{const{classes:t,disableUnderline:n}=e,r={root:["root",!n&&"underline"],input:["input"]},o=(0,Zt.A)(r,sk,t);return(0,Yt.A)({},t,o)})((0,Yt.A)({},n,a,s,{color:s?.color||"primary"}));return(0,sn.jsx)(qw,(0,Yt.A)({slots:{root:ck,input:dk},slotProps:{root:{disableUnderline:o}}},i,{label:r,classes:l,ref:t}))}));function hk(e){return(0,on.Ay)("MuiPickersFilledInput",e)}pk.muiName="Input";const fk=(0,Yt.A)({},ww,(0,rn.A)("MuiPickersInput",["root","input"])),mk=["label","autoFocus","disableUnderline","ownerState"],gk=(0,en.Ay)(Bw,{name:"MuiPickersInput",slot:"Root",overridesResolver:(e,t)=>t.root})((e=>{let{theme:t}=e;let n="light"===t.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(n=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),{"label + &":{marginTop:16},variants:[...Object.keys((t.vars??t).palette).filter((e=>(t.vars??t).palette[e].main)).map((e=>({props:{color:e},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[e].main}`}}}))),{props:{disableUnderline:!1},style:{"&::after":{background:"red",left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${fk.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${fk.error}`]:{"&:before, &:after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${fk.disabled}, .${fk.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${fk.disabled}:before`]:{borderBottomStyle:"dotted"}}}]}})),yk=W.forwardRef((function(e,t){const n=yv({props:e,name:"MuiPickersInput"}),{label:r,disableUnderline:o=!1,ownerState:a}=n,i=(0,Xt.A)(n,mk),s=xr(),l=(e=>{const{classes:t,disableUnderline:n}=e,r={root:["root",!n&&"underline"],input:["input"]},o=(0,Zt.A)(r,hk,t);return(0,Yt.A)({},t,o)})((0,Yt.A)({},n,a,s,{disableUnderline:o,color:s?.color||"primary"}));return(0,sn.jsx)(qw,(0,Yt.A)({slots:{root:gk}},i,{label:r,classes:l,ref:t}))}));yk.muiName="Input";const vk=["onFocus","onBlur","className","color","disabled","error","variant","required","InputProps","inputProps","inputRef","sectionListRef","elements","areAllSectionsEmpty","onClick","onKeyDown","onKeyUp","onPaste","onInput","endAdornment","startAdornment","tabIndex","contentEditable","focused","value","onChange","fullWidth","id","name","helperText","FormHelperTextProps","label","InputLabelProps"],bk={standard:yk,filled:pk,outlined:Qw},xk=(0,en.Ay)(Oo,{name:"MuiPickersTextField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),wk=W.forwardRef((function(e,t){const n=yv({props:e,name:"MuiPickersTextField"}),{onFocus:r,onBlur:o,className:a,color:i="primary",disabled:s=!1,error:l=!1,variant:u="outlined",required:c=!1,InputProps:d,inputProps:p,inputRef:h,sectionListRef:f,elements:m,areAllSectionsEmpty:g,onClick:y,onKeyDown:v,onKeyUp:b,onPaste:x,onInput:w,endAdornment:k,startAdornment:S,tabIndex:A,contentEditable:C,focused:T,value:I,onChange:E,fullWidth:N,id:O,name:M,helperText:D,FormHelperTextProps:R,label:P,InputLabelProps:$}=n,j=(0,Xt.A)(n,vk),_=W.useRef(null),F=(0,lr.A)(t,_),L=(0,or.A)(O),z=D&&L?`${L}-helper-text`:void 0,B=P&&L?`${L}-label`:void 0,V=(0,Yt.A)({},n,{color:i,disabled:s,error:l,focused:T,required:c,variant:u}),U=(e=>{const{focused:t,disabled:n,classes:r,required:o}=e,a={root:["root",t&&!n&&"focused",n&&"disabled",o&&"required"]};return(0,Zt.A)(a,bw,r)})(V),H=bk[u];return(0,sn.jsxs)(xk,(0,Yt.A)({className:(0,Qt.A)(U.root,a),ref:F,focused:T,onFocus:r,onBlur:o,disabled:s,variant:u,error:l,color:i,fullWidth:N,required:c,ownerState:V},j,{children:[(0,sn.jsx)(Co,(0,Yt.A)({htmlFor:L,id:B},$,{children:P})),(0,sn.jsx)(H,(0,Yt.A)({elements:m,areAllSectionsEmpty:g,onClick:y,onKeyDown:v,onKeyUp:b,onInput:w,onPaste:x,endAdornment:k,startAdornment:S,tabIndex:A,contentEditable:C,value:I,onChange:E,id:L,fullWidth:N,inputProps:p,inputRef:h,sectionListRef:f,label:P,name:M,role:"group","aria-labelledby":B,"aria-describedby":z,"aria-live":z?"polite":void 0},d)),D&&(0,sn.jsx)(jo,(0,Yt.A)({id:z},R,{children:D}))]}))})),kk=["enableAccessibleFieldDOMStructure"],Sk=["InputProps","readOnly"],Ak=["onPaste","onKeyDown","inputMode","readOnly","InputProps","inputProps","inputRef"],Ck=e=>{let{enableAccessibleFieldDOMStructure:t}=e,n=(0,Xt.A)(e,kk);if(t){const{InputProps:e,readOnly:t}=n,r=(0,Xt.A)(n,Sk);return(0,Yt.A)({},r,{InputProps:(0,Yt.A)({},e??{},{readOnly:t})})}const{onPaste:r,onKeyDown:o,inputMode:a,readOnly:i,InputProps:s,inputProps:l,inputRef:u}=n,c=(0,Xt.A)(n,Ak);return(0,Yt.A)({},c,{InputProps:(0,Yt.A)({},s??{},{readOnly:i}),inputProps:(0,Yt.A)({},l??{},{inputMode:a,onPaste:r,onKeyDown:o,ref:u})})},Tk=["slots","slotProps","InputProps","inputProps"],Ik=W.forwardRef((function(e,t){const n=yv({props:e,name:"MuiDateField"}),{slots:r,slotProps:o,InputProps:a,inputProps:i}=n,s=(0,Xt.A)(n,Tk),l=n,u=r?.textField??(e.enableAccessibleFieldDOMStructure?wk:rs),c=qo({elementType:u,externalSlotProps:o?.textField,externalForwardedProps:s,additionalProps:{ref:t},ownerState:l});c.inputProps=(0,Yt.A)({},i,c.inputProps),c.InputProps=(0,Yt.A)({},a,c.InputProps);const d=mw(c),p=Ck(d),h=vw((0,Yt.A)({},p,{slots:r,slotProps:o}));return(0,sn.jsx)(u,(0,Yt.A)({},h))})),Ek=e=>{let{shouldDisableDate:t,shouldDisableMonth:n,shouldDisableYear:r,minDate:o,maxDate:a,disableFuture:i,disablePast:s,timezone:l}=e;const u=vb();return W.useCallback((e=>null!==zb({adapter:u,value:e,timezone:l,props:{shouldDisableDate:t,shouldDisableMonth:n,shouldDisableYear:r,minDate:o,maxDate:a,disableFuture:i,disablePast:s}})),[u,t,n,r,o,a,i,s,l])},Nk=e=>{const{value:t,referenceDate:n,disableFuture:r,disablePast:o,disableSwitchToMonthOnDayFocus:a=!1,maxDate:i,minDate:s,onMonthChange:l,reduceAnimations:u,shouldDisableDate:c,timezone:d}=e,p=bb(),h=W.useRef(((e,t,n)=>(r,o)=>{switch(o.type){case"changeMonth":return(0,Yt.A)({},r,{slideDirection:o.direction,currentMonth:o.newMonth,isMonthSwitchingAnimating:!e});case"changeMonthTimezone":{const e=o.newTimezone;if(n.getTimezone(r.currentMonth)===e)return r;let t=n.setTimezone(r.currentMonth,e);return n.getMonth(t)!==n.getMonth(r.currentMonth)&&(t=n.setMonth(t,n.getMonth(r.currentMonth))),(0,Yt.A)({},r,{currentMonth:t})}case"finishMonthSwitchingAnimation":return(0,Yt.A)({},r,{isMonthSwitchingAnimating:!1});case"changeFocusedDay":{if(null!=r.focusedDay&&null!=o.focusedDay&&n.isSameDay(o.focusedDay,r.focusedDay))return r;const a=null!=o.focusedDay&&!t&&!n.isSameMonth(r.currentMonth,o.focusedDay);return(0,Yt.A)({},r,{focusedDay:o.focusedDay,isMonthSwitchingAnimating:a&&!e&&!o.withoutMonthSwitchingAnimation,currentMonth:a?n.startOfMonth(o.focusedDay):r.currentMonth,slideDirection:null!=o.focusedDay&&n.isAfterDay(o.focusedDay,r.currentMonth)?"left":"right"})}default:throw new Error("missing support")}})(Boolean(u),a,p)).current,f=W.useMemo((()=>ub.getInitialReferenceValue({value:t,utils:p,timezone:d,props:e,referenceDate:n,granularity:zv.day})),[n,d]),[m,g]=W.useReducer(h,{isMonthSwitchingAnimating:!1,focusedDay:f,currentMonth:p.startOfMonth(f),slideDirection:"left"});W.useEffect((()=>{g({type:"changeMonthTimezone",newTimezone:p.getTimezone(f)})}),[f,p]);const y=W.useCallback((e=>{g((0,Yt.A)({type:"changeMonth"},e)),l&&l(e.newMonth)}),[l]),v=W.useCallback((e=>{const t=e;p.isSameMonth(t,m.currentMonth)||y({newMonth:p.startOfMonth(t),direction:p.isAfterDay(t,m.currentMonth)?"left":"right"})}),[m.currentMonth,y,p]),b=Ek({shouldDisableDate:c,minDate:s,maxDate:i,disableFuture:r,disablePast:o,timezone:d}),x=W.useCallback((()=>{g({type:"finishMonthSwitchingAnimation"})}),[]),w=(0,cr.A)(((e,t)=>{b(e)||g({type:"changeFocusedDay",focusedDay:e,withoutMonthSwitchingAnimation:t})}));return{referenceDate:f,calendarState:m,changeMonth:v,changeFocusedDay:w,isDateDisabled:b,onMonthSwitchingAnimationEnd:x,handleChangeMonth:y}},Ok=e=>(0,on.Ay)("MuiPickersFadeTransitionGroup",e),Mk=((0,rn.A)("MuiPickersFadeTransitionGroup",["root"]),(0,en.Ay)(Cn,{name:"MuiPickersFadeTransitionGroup",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"block",position:"relative"}));function Dk(e){const t=yv({props:e,name:"MuiPickersFadeTransitionGroup"}),{children:n,className:r,reduceAnimations:o,transKey:a}=t,i=(e=>{const{classes:t}=e;return(0,Zt.A)({root:["root"]},Ok,t)})(t),s=xa();return o?n:(0,sn.jsx)(Mk,{className:(0,Qt.A)(i.root,r),children:(0,sn.jsx)(Fa,{appear:!1,mountOnEnter:!0,unmountOnExit:!0,timeout:{appear:s.transitions.duration.enteringScreen,enter:s.transitions.duration.enteringScreen,exit:0},children:n},a)})}var Rk=n(1188);function Pk(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return(0,Rk.A)(e,t,n)}function $k(e){if(e.type)return e;if("#"===e.charAt(0))return $k(function(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&1===n[0].length&&(n=n.map((e=>e+e))),n?`rgb${4===n.length?"a":""}(${n.map(((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3)).join(", ")})`:""}(e));const t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error((0,ir.A)(9,e));let r,o=e.substring(t+1,e.length-1);if("color"===n){if(o=o.split(" "),r=o.shift(),4===o.length&&"/"===o[3].charAt(0)&&(o[3]=o[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error((0,ir.A)(10,r))}else o=o.split(",");return o=o.map((e=>parseFloat(e))),{type:n,values:o,colorSpace:r}}function jk(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return-1!==t.indexOf("rgb")?r=r.map(((e,t)=>t<3?parseInt(e,10):e)):-1!==t.indexOf("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),r=-1!==t.indexOf("color")?`${n} ${r.join(" ")}`:`${r.join(", ")}`,`${t}(${r})`}function _k(e,t){return e=$k(e),t=Pk(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]=`/${t}`:e.values[3]=t,jk(e)}function Fk(e){return(0,on.Ay)("MuiPickersDay",e)}const Lk=(0,rn.A)("MuiPickersDay",["root","dayWithMargin","dayOutsideMonth","hiddenDaySpacingFiller","today","selected","disabled"]),zk=["autoFocus","className","day","disabled","disableHighlightToday","disableMargin","hidden","isAnimating","onClick","onDaySelect","onFocus","onBlur","onKeyDown","onMouseDown","onMouseEnter","outsideCurrentMonth","selected","showDaysOutsideCurrentMonth","children","today","isFirstVisibleCell","isLastVisibleCell"],Bk=e=>{let{theme:t}=e;return(0,Yt.A)({},t.typography.caption,{width:36,height:36,borderRadius:"50%",padding:0,backgroundColor:"transparent",transition:t.transitions.create("background-color",{duration:t.transitions.duration.short}),color:(t.vars||t).palette.text.primary,"@media (pointer: fine)":{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:_k(t.palette.primary.main,t.palette.action.hoverOpacity)}},"&:focus":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.focusOpacity})`:_k(t.palette.primary.main,t.palette.action.focusOpacity),[`&.${Lk.selected}`]:{willChange:"background-color",backgroundColor:(t.vars||t).palette.primary.dark}},[`&.${Lk.selected}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.main,fontWeight:t.typography.fontWeightMedium,"&:hover":{willChange:"background-color",backgroundColor:(t.vars||t).palette.primary.dark}},[`&.${Lk.disabled}:not(.${Lk.selected})`]:{color:(t.vars||t).palette.text.disabled},[`&.${Lk.disabled}&.${Lk.selected}`]:{opacity:.6},variants:[{props:{disableMargin:!1},style:{margin:"0 2px"}},{props:{outsideCurrentMonth:!0,showDaysOutsideCurrentMonth:!0},style:{color:(t.vars||t).palette.text.secondary}},{props:{disableHighlightToday:!1,today:!0},style:{[`&:not(.${Lk.selected})`]:{border:`1px solid ${(t.vars||t).palette.text.secondary}`}}}]})},Wk=(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableMargin&&t.dayWithMargin,!n.disableHighlightToday&&n.today&&t.today,!n.outsideCurrentMonth&&n.showDaysOutsideCurrentMonth&&t.dayOutsideMonth,n.outsideCurrentMonth&&!n.showDaysOutsideCurrentMonth&&t.hiddenDaySpacingFiller]},Vk=(0,en.Ay)(Gn,{name:"MuiPickersDay",slot:"Root",overridesResolver:Wk})(Bk),Uk=(0,en.Ay)("div",{name:"MuiPickersDay",slot:"Root",overridesResolver:Wk})((e=>{let{theme:t}=e;return(0,Yt.A)({},Bk({theme:t}),{opacity:0,pointerEvents:"none"})})),Hk=()=>{},Gk=W.forwardRef((function(e,t){const n=yv({props:e,name:"MuiPickersDay"}),{autoFocus:r=!1,className:o,day:a,disabled:i=!1,disableHighlightToday:s=!1,disableMargin:l=!1,isAnimating:u,onClick:c,onDaySelect:d,onFocus:p=Hk,onBlur:h=Hk,onKeyDown:f=Hk,onMouseDown:m=Hk,onMouseEnter:g=Hk,outsideCurrentMonth:y,selected:v=!1,showDaysOutsideCurrentMonth:b=!1,children:x,today:w=!1}=n,k=(0,Xt.A)(n,zk),S=(0,Yt.A)({},n,{autoFocus:r,disabled:i,disableHighlightToday:s,disableMargin:l,selected:v,showDaysOutsideCurrentMonth:b,today:w}),A=(e=>{const{selected:t,disableMargin:n,disableHighlightToday:r,today:o,disabled:a,outsideCurrentMonth:i,showDaysOutsideCurrentMonth:s,classes:l}=e,u=i&&!s,c={root:["root",t&&!u&&"selected",a&&"disabled",!n&&"dayWithMargin",!r&&o&&"today",i&&s&&"dayOutsideMonth",u&&"hiddenDaySpacingFiller"],hiddenDaySpacingFiller:["hiddenDaySpacingFiller"]};return(0,Zt.A)(c,Fk,l)})(S),C=bb(),T=W.useRef(null),I=(0,lr.A)(T,t);(0,dr.A)((()=>{!r||i||u||y||T.current.focus()}),[r,i,u,y]);return y&&!b?(0,sn.jsx)(Uk,{className:(0,Qt.A)(A.root,A.hiddenDaySpacingFiller,o),ownerState:S,role:k.role}):(0,sn.jsx)(Vk,(0,Yt.A)({className:(0,Qt.A)(A.root,o),ref:I,centerRipple:!0,disabled:i,tabIndex:v?0:-1,onKeyDown:e=>f(e,a),onFocus:e=>p(e,a),onBlur:e=>h(e,a),onMouseEnter:e=>g(e,a),onClick:e=>{i||d(a),y&&e.currentTarget.focus(),c&&c(e)},onMouseDown:e=>{m(e),y&&e.preventDefault()}},k,{ownerState:S,children:x||C.format(a,"dayOfMonth")}))})),qk=W.memo(Gk);function Kk(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var Xk=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.remove(r):"string"===typeof n.className?n.className=Kk(n.className,r):n.setAttribute("class",Kk(n.className&&n.className.baseVal||"",r)));var n,r}))},Yk=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var r=t.resolveArguments(e,n),o=r[0],a=r[1];t.removeClasses(o,"exit"),t.addClass(o,a?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.resolveArguments(e,n),o=r[0],a=r[1]?"appear":"enter";t.addClass(o,a,"active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.resolveArguments(e,n),o=r[0],a=r[1]?"appear":"enter";t.removeClasses(o,a),t.addClass(o,a,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,r="string"===typeof n,o=r?""+(r&&n?n+"-":"")+e:n[e];return{baseClassName:o,activeClassName:r?o+"-active":n[e+"Active"],doneClassName:r?o+"-done":n[e+"Done"]}},t}vn(t,e);var n=t.prototype;return n.addClass=function(e,t,n){var r=this.getClassNames(t)[n+"ClassName"],o=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&o&&(r+=" "+o),"active"===n&&e&&da(e),r&&(this.appliedClasses[t][n]=r,function(e,t){e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.add(r):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,r)||("string"===typeof n.className?n.className=n.className+" "+r:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+r)));var n,r}))}(e,r))},n.removeClasses=function(e,t){var n=this.appliedClasses[t],r=n.base,o=n.active,a=n.done;this.appliedClasses[t]={},r&&Xk(e,r),o&&Xk(e,o),a&&Xk(e,a)},n.render=function(){var e=this.props,t=(e.classNames,(0,Xt.A)(e,["classNames"]));return W.createElement(ba,(0,Yt.A)({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(W.Component);Yk.defaultProps={classNames:""},Yk.propTypes={};const Qk=Yk,Zk=e=>(0,on.Ay)("MuiPickersSlideTransition",e),Jk=(0,rn.A)("MuiPickersSlideTransition",["root","slideEnter-left","slideEnter-right","slideEnterActive","slideExit","slideExitActiveLeft-left","slideExitActiveLeft-right"]),eS=["children","className","reduceAnimations","slideDirection","transKey","classes"],tS=(0,en.Ay)(Cn,{name:"MuiPickersSlideTransition",slot:"Root",overridesResolver:(e,t)=>[t.root,{[`.${Jk["slideEnter-left"]}`]:t["slideEnter-left"]},{[`.${Jk["slideEnter-right"]}`]:t["slideEnter-right"]},{[`.${Jk.slideEnterActive}`]:t.slideEnterActive},{[`.${Jk.slideExit}`]:t.slideExit},{[`.${Jk["slideExitActiveLeft-left"]}`]:t["slideExitActiveLeft-left"]},{[`.${Jk["slideExitActiveLeft-right"]}`]:t["slideExitActiveLeft-right"]}]})((e=>{let{theme:t}=e;const n=t.transitions.create("transform",{duration:t.transitions.duration.complex,easing:"cubic-bezier(0.35, 0.8, 0.4, 1)"});return{display:"block",position:"relative",overflowX:"hidden","& > *":{position:"absolute",top:0,right:0,left:0},[`& .${Jk["slideEnter-left"]}`]:{willChange:"transform",transform:"translate(100%)",zIndex:1},[`& .${Jk["slideEnter-right"]}`]:{willChange:"transform",transform:"translate(-100%)",zIndex:1},[`& .${Jk.slideEnterActive}`]:{transform:"translate(0%)",transition:n},[`& .${Jk.slideExit}`]:{transform:"translate(0%)"},[`& .${Jk["slideExitActiveLeft-left"]}`]:{willChange:"transform",transform:"translate(-100%)",transition:n,zIndex:0},[`& .${Jk["slideExitActiveLeft-right"]}`]:{willChange:"transform",transform:"translate(100%)",transition:n,zIndex:0}}}));const nS=e=>(0,on.Ay)("MuiDayCalendar",e),rS=((0,rn.A)("MuiDayCalendar",["root","header","weekDayLabel","loadingContainer","slideTransition","monthContainer","weekContainer","weekNumberLabel","weekNumber"]),["parentProps","day","focusableDay","selectedDays","isDateDisabled","currentMonthNumber","isViewFocused"]),oS=["ownerState"],aS=(0,en.Ay)("div",{name:"MuiDayCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({}),iS=(0,en.Ay)("div",{name:"MuiDayCalendar",slot:"Header",overridesResolver:(e,t)=>t.header})({display:"flex",justifyContent:"center",alignItems:"center"}),sS=(0,en.Ay)(vs,{name:"MuiDayCalendar",slot:"WeekDayLabel",overridesResolver:(e,t)=>t.weekDayLabel})((e=>{let{theme:t}=e;return{width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(t.vars||t).palette.text.secondary}})),lS=(0,en.Ay)(vs,{name:"MuiDayCalendar",slot:"WeekNumberLabel",overridesResolver:(e,t)=>t.weekNumberLabel})((e=>{let{theme:t}=e;return{width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:t.palette.text.disabled}})),uS=(0,en.Ay)(vs,{name:"MuiDayCalendar",slot:"WeekNumber",overridesResolver:(e,t)=>t.weekNumber})((e=>{let{theme:t}=e;return(0,Yt.A)({},t.typography.caption,{width:36,height:36,padding:0,margin:"0 2px",color:t.palette.text.disabled,fontSize:"0.75rem",alignItems:"center",justifyContent:"center",display:"inline-flex"})})),cS=(0,en.Ay)("div",{name:"MuiDayCalendar",slot:"LoadingContainer",overridesResolver:(e,t)=>t.loadingContainer})({display:"flex",justifyContent:"center",alignItems:"center",minHeight:240}),dS=(0,en.Ay)((function(e){const t=yv({props:e,name:"MuiPickersSlideTransition"}),{children:n,className:r,reduceAnimations:o,transKey:a}=t,i=(0,Xt.A)(t,eS),s=(e=>{const{classes:t,slideDirection:n}=e,r={root:["root"],exit:["slideExit"],enterActive:["slideEnterActive"],enter:[`slideEnter-${n}`],exitActive:[`slideExitActiveLeft-${n}`]};return(0,Zt.A)(r,Zk,t)})(t),l=xa();if(o)return(0,sn.jsx)("div",{className:(0,Qt.A)(s.root,r),children:n});const u={exit:s.exit,enterActive:s.enterActive,enter:s.enter,exitActive:s.exitActive};return(0,sn.jsx)(tS,{className:(0,Qt.A)(s.root,r),childFactory:e=>W.cloneElement(e,{classNames:u}),role:"presentation",children:(0,sn.jsx)(Qk,(0,Yt.A)({mountOnEnter:!0,unmountOnExit:!0,timeout:l.transitions.duration.complex,classNames:u},i,{children:n}),a)})}),{name:"MuiDayCalendar",slot:"SlideTransition",overridesResolver:(e,t)=>t.slideTransition})({minHeight:240}),pS=(0,en.Ay)("div",{name:"MuiDayCalendar",slot:"MonthContainer",overridesResolver:(e,t)=>t.monthContainer})({overflow:"hidden"}),hS=(0,en.Ay)("div",{name:"MuiDayCalendar",slot:"WeekContainer",overridesResolver:(e,t)=>t.weekContainer})({margin:"2px 0",display:"flex",justifyContent:"center"});function fS(e){let{parentProps:t,day:n,focusableDay:r,selectedDays:o,isDateDisabled:a,currentMonthNumber:i,isViewFocused:s}=e,l=(0,Xt.A)(e,rS);const{disabled:u,disableHighlightToday:c,isMonthSwitchingAnimating:d,showDaysOutsideCurrentMonth:p,slots:h,slotProps:f,timezone:m}=t,g=bb(),y=wb(m),v=null!==r&&g.isSameDay(n,r),b=o.some((e=>g.isSameDay(e,n))),x=g.isSameDay(n,y),w=h?.day??qk,k=qo({elementType:w,externalSlotProps:f?.day,additionalProps:(0,Yt.A)({disableHighlightToday:c,showDaysOutsideCurrentMonth:p,role:"gridcell",isAnimating:d,"data-timestamp":g.toJsDate(n).valueOf()},l),ownerState:(0,Yt.A)({},t,{day:n,selected:b})}),S=(0,Xt.A)(k,oS),A=W.useMemo((()=>u||a(n)),[u,a,n]),C=W.useMemo((()=>g.getMonth(n)!==i),[g,n,i]),T=W.useMemo((()=>{const e=g.startOfMonth(g.setMonth(n,i));return p?g.isSameDay(n,g.startOfWeek(e)):g.isSameDay(n,e)}),[i,n,p,g]),I=W.useMemo((()=>{const e=g.endOfMonth(g.setMonth(n,i));return p?g.isSameDay(n,g.endOfWeek(e)):g.isSameDay(n,e)}),[i,n,p,g]);return(0,sn.jsx)(w,(0,Yt.A)({},S,{day:n,disabled:A,autoFocus:s&&v,today:x,outsideCurrentMonth:C,isFirstVisibleCell:T,isLastVisibleCell:I,selected:b,tabIndex:v?0:-1,"aria-selected":b,"aria-current":x?"date":void 0}))}function mS(e){const t=yv({props:e,name:"MuiDayCalendar"}),n=bb(),{onFocusedDayChange:r,className:o,currentMonth:a,selectedDays:i,focusedDay:s,loading:l,onSelectedDaysChange:u,onMonthSwitchingAnimationEnd:c,readOnly:d,reduceAnimations:p,renderLoading:h=()=>(0,sn.jsx)("span",{children:"..."}),slideDirection:f,TransitionProps:m,disablePast:g,disableFuture:y,minDate:v,maxDate:b,shouldDisableDate:x,shouldDisableMonth:w,shouldDisableYear:k,dayOfWeekFormatter:S=e=>n.format(e,"weekdayShort").charAt(0).toUpperCase(),hasFocus:A,onFocusedViewChange:C,gridLabelId:T,displayWeekNumber:I,fixedWeekNumber:E,autoFocus:N,timezone:O}=t,M=wb(O),D=(e=>{const{classes:t}=e;return(0,Zt.A)({root:["root"],header:["header"],weekDayLabel:["weekDayLabel"],loadingContainer:["loadingContainer"],slideTransition:["slideTransition"],monthContainer:["monthContainer"],weekContainer:["weekContainer"],weekNumberLabel:["weekNumberLabel"],weekNumber:["weekNumber"]},nS,t)})(t),R=zo(),P=Ek({shouldDisableDate:x,shouldDisableMonth:w,shouldDisableYear:k,minDate:v,maxDate:b,disablePast:g,disableFuture:y,timezone:O}),$=Eb(),[j,_]=(0,Kp.A)({name:"DayCalendar",state:"hasFocus",controlled:A,default:N??!1}),[F,L]=W.useState((()=>s||M)),z=(0,cr.A)((e=>{d||u(e)})),B=e=>{P(e)||(r(e),L(e),C?.(!0),_(!0))},V=(0,cr.A)(((e,t)=>{switch(e.key){case"ArrowUp":B(n.addDays(t,-7)),e.preventDefault();break;case"ArrowDown":B(n.addDays(t,7)),e.preventDefault();break;case"ArrowLeft":{const r=n.addDays(t,R?1:-1),o=n.addMonths(t,R?1:-1),a=Av({utils:n,date:r,minDate:R?r:n.startOfMonth(o),maxDate:R?n.endOfMonth(o):r,isDateDisabled:P,timezone:O});B(a||r),e.preventDefault();break}case"ArrowRight":{const r=n.addDays(t,R?-1:1),o=n.addMonths(t,R?-1:1),a=Av({utils:n,date:r,minDate:R?n.startOfMonth(o):r,maxDate:R?r:n.endOfMonth(o),isDateDisabled:P,timezone:O});B(a||r),e.preventDefault();break}case"Home":B(n.startOfWeek(t)),e.preventDefault();break;case"End":B(n.endOfWeek(t)),e.preventDefault();break;case"PageUp":B(n.addMonths(t,1)),e.preventDefault();break;case"PageDown":B(n.addMonths(t,-1)),e.preventDefault()}})),U=(0,cr.A)(((e,t)=>B(t))),H=(0,cr.A)(((e,t)=>{j&&n.isSameDay(F,t)&&C?.(!1)})),G=n.getMonth(a),q=n.getYear(a),K=W.useMemo((()=>i.filter((e=>!!e)).map((e=>n.startOfDay(e)))),[n,i]),X=`${q}-${G}`,Y=W.useMemo((()=>W.createRef()),[X]),Q=W.useMemo((()=>{const e=n.startOfMonth(a),t=n.endOfMonth(a);return P(F)||n.isAfterDay(F,t)||n.isBeforeDay(F,e)?Av({utils:n,date:F,minDate:e,maxDate:t,disablePast:g,disableFuture:y,isDateDisabled:P,timezone:O}):F}),[a,y,g,F,P,n,O]),Z=W.useMemo((()=>{const e=n.getWeekArray(a);let t=n.addMonths(a,1);for(;E&&e.length<E;){const r=n.getWeekArray(t),o=n.isSameDay(e[e.length-1][0],r[0][0]);r.slice(o?1:0).forEach((t=>{e.length<E&&e.push(t)})),t=n.addMonths(t,1)}return e}),[a,E,n]);return(0,sn.jsxs)(aS,{role:"grid","aria-labelledby":T,className:D.root,children:[(0,sn.jsxs)(iS,{role:"row",className:D.header,children:[I&&(0,sn.jsx)(lS,{variant:"caption",role:"columnheader","aria-label":$.calendarWeekNumberHeaderLabel,className:D.weekNumberLabel,children:$.calendarWeekNumberHeaderText}),Dv(n,M).map(((e,t)=>(0,sn.jsx)(sS,{variant:"caption",role:"columnheader","aria-label":n.format(e,"weekday"),className:D.weekDayLabel,children:S(e)},t.toString())))]}),l?(0,sn.jsx)(cS,{className:D.loadingContainer,children:h()}):(0,sn.jsx)(dS,(0,Yt.A)({transKey:X,onExited:c,reduceAnimations:p,slideDirection:f,className:(0,Qt.A)(o,D.slideTransition)},m,{nodeRef:Y,children:(0,sn.jsx)(pS,{ref:Y,role:"rowgroup",className:D.monthContainer,children:Z.map(((e,r)=>(0,sn.jsxs)(hS,{role:"row",className:D.weekContainer,"aria-rowindex":r+1,children:[I&&(0,sn.jsx)(uS,{className:D.weekNumber,role:"rowheader","aria-label":$.calendarWeekNumberAriaLabelText(n.getWeekNumber(e[0])),children:$.calendarWeekNumberText(n.getWeekNumber(e[0]))}),e.map(((e,n)=>(0,sn.jsx)(fS,{parentProps:t,day:e,selectedDays:K,focusableDay:Q,onKeyDown:V,onFocus:U,onBlur:H,onDaySelect:z,isDateDisabled:P,currentMonthNumber:G,isViewFocused:j,"aria-colindex":n+1},e.toString())))]},`week-${e[0]}`)))})}))]})}function gS(e){return(0,on.Ay)("MuiPickersMonth",e)}const yS=(0,rn.A)("MuiPickersMonth",["root","monthButton","disabled","selected"]),vS=["autoFocus","className","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","aria-label","monthsPerRow","slots","slotProps"],bS=(0,en.Ay)("div",{name:"MuiPickersMonth",slot:"Root",overridesResolver:(e,t)=>[t.root]})({display:"flex",alignItems:"center",justifyContent:"center",flexBasis:"33.3%",variants:[{props:{monthsPerRow:4},style:{flexBasis:"25%"}}]}),xS=(0,en.Ay)("button",{name:"MuiPickersMonth",slot:"MonthButton",overridesResolver:(e,t)=>[t.monthButton,{[`&.${yS.disabled}`]:t.disabled},{[`&.${yS.selected}`]:t.selected}]})((e=>{let{theme:t}=e;return(0,Yt.A)({color:"unset",backgroundColor:"transparent",border:0,outline:0},t.typography.subtitle1,{margin:"8px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:_k(t.palette.action.active,t.palette.action.hoverOpacity)},"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:_k(t.palette.action.active,t.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${yS.disabled}`]:{color:(t.vars||t).palette.text.secondary},[`&.${yS.selected}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.main,"&:focus, &:hover":{backgroundColor:(t.vars||t).palette.primary.dark}}})})),wS=W.memo((function(e){const t=yv({props:e,name:"MuiPickersMonth"}),{autoFocus:n,className:r,children:o,disabled:a,selected:i,value:s,tabIndex:l,onClick:u,onKeyDown:c,onFocus:d,onBlur:p,"aria-current":h,"aria-label":f,slots:m,slotProps:g}=t,y=(0,Xt.A)(t,vS),v=W.useRef(null),b=(e=>{const{disabled:t,selected:n,classes:r}=e,o={root:["root"],monthButton:["monthButton",t&&"disabled",n&&"selected"]};return(0,Zt.A)(o,gS,r)})(t);(0,dr.A)((()=>{n&&v.current?.focus()}),[n]);const x=m?.monthButton??xS,w=qo({elementType:x,externalSlotProps:g?.monthButton,additionalProps:{children:o,disabled:a,tabIndex:l,ref:v,type:"button",role:"radio","aria-current":h,"aria-checked":i,"aria-label":f,onClick:e=>u(e,s),onKeyDown:e=>c(e,s),onFocus:e=>d(e,s),onBlur:e=>p(e,s)},ownerState:t,className:b.monthButton});return(0,sn.jsx)(bS,(0,Yt.A)({className:(0,Qt.A)(b.root,r),ownerState:t},y,{children:(0,sn.jsx)(x,(0,Yt.A)({},w))}))}));function kS(e){return(0,on.Ay)("MuiMonthCalendar",e)}(0,rn.A)("MuiMonthCalendar",["root"]);const SS=["className","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","shouldDisableMonth","readOnly","disableHighlightToday","autoFocus","onMonthFocus","hasFocus","onFocusedViewChange","monthsPerRow","timezone","gridLabelId","slots","slotProps"];const AS=(0,en.Ay)("div",{name:"MuiMonthCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",flexWrap:"wrap",alignContent:"stretch",padding:"0 4px",width:Px,boxSizing:"border-box"}),CS=W.forwardRef((function(e,t){const n=function(e,t){const n=bb(),r=xb(),o=yv({props:e,name:t});return(0,Yt.A)({disableFuture:!1,disablePast:!1},o,{minDate:Cv(n,o.minDate,r.minDate),maxDate:Cv(n,o.maxDate,r.maxDate)})}(e,"MuiMonthCalendar"),{className:r,value:o,defaultValue:a,referenceDate:i,disabled:s,disableFuture:l,disablePast:u,maxDate:c,minDate:d,onChange:p,shouldDisableMonth:h,readOnly:f,autoFocus:m=!1,onMonthFocus:g,hasFocus:y,onFocusedViewChange:v,monthsPerRow:b=3,timezone:x,gridLabelId:w,slots:k,slotProps:S}=n,A=(0,Xt.A)(n,SS),{value:C,handleValueChange:T,timezone:I}=cx({name:"MonthCalendar",timezone:x,value:o,defaultValue:a,referenceDate:i,onChange:p,valueManager:ub}),E=wb(I),N=zo(),O=bb(),M=W.useMemo((()=>ub.getInitialReferenceValue({value:C,utils:O,props:n,timezone:I,referenceDate:i,granularity:zv.month})),[]),D=n,R=(e=>{const{classes:t}=e;return(0,Zt.A)({root:["root"]},kS,t)})(D),P=W.useMemo((()=>O.getMonth(E)),[O,E]),$=W.useMemo((()=>null!=C?O.getMonth(C):null),[C,O]),[j,_]=W.useState((()=>$||O.getMonth(M))),[F,L]=(0,Kp.A)({name:"MonthCalendar",state:"hasFocus",controlled:y,default:m??!1}),z=(0,cr.A)((e=>{L(e),v&&v(e)})),B=W.useCallback((e=>{const t=O.startOfMonth(u&&O.isAfter(E,d)?E:d),n=O.startOfMonth(l&&O.isBefore(E,c)?E:c),r=O.startOfMonth(e);return!!O.isBefore(r,t)||(!!O.isAfter(r,n)||!!h&&h(r))}),[l,u,c,d,E,h,O]),V=(0,cr.A)(((e,t)=>{if(f)return;const n=O.setMonth(C??M,t);T(n)})),U=(0,cr.A)((e=>{B(O.setMonth(C??M,e))||(_(e),z(!0),g&&g(e))}));W.useEffect((()=>{_((e=>null!==$&&e!==$?$:e))}),[$]);const H=(0,cr.A)(((e,t)=>{const n=12;switch(e.key){case"ArrowUp":U((n+t-3)%n),e.preventDefault();break;case"ArrowDown":U((n+t+3)%n),e.preventDefault();break;case"ArrowLeft":U((n+t+(N?1:-1))%n),e.preventDefault();break;case"ArrowRight":U((n+t+(N?-1:1))%n),e.preventDefault()}})),G=(0,cr.A)(((e,t)=>{U(t)})),q=(0,cr.A)(((e,t)=>{j===t&&z(!1)}));return(0,sn.jsx)(AS,(0,Yt.A)({ref:t,className:(0,Qt.A)(R.root,r),ownerState:D,role:"radiogroup","aria-labelledby":w},A,{children:Tv(O,C??M).map((e=>{const t=O.getMonth(e),n=O.format(e,"monthShort"),r=O.format(e,"month"),o=t===$,a=s||B(e);return(0,sn.jsx)(wS,{selected:o,value:t,onClick:V,onKeyDown:H,autoFocus:F&&t===j,disabled:a,tabIndex:t!==j||a?-1:0,onFocus:G,onBlur:q,"aria-current":P===t?"date":void 0,"aria-label":r,monthsPerRow:b,slots:k,slotProps:S,children:n},n)}))}))}));function TS(e){return(0,on.Ay)("MuiPickersYear",e)}const IS=(0,rn.A)("MuiPickersYear",["root","yearButton","selected","disabled"]),ES=["autoFocus","className","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","yearsPerRow","slots","slotProps"],NS=(0,en.Ay)("div",{name:"MuiPickersYear",slot:"Root",overridesResolver:(e,t)=>[t.root]})({display:"flex",alignItems:"center",justifyContent:"center",flexBasis:"33.3%",variants:[{props:{yearsPerRow:4},style:{flexBasis:"25%"}}]}),OS=(0,en.Ay)("button",{name:"MuiPickersYear",slot:"YearButton",overridesResolver:(e,t)=>[t.yearButton,{[`&.${IS.disabled}`]:t.disabled},{[`&.${IS.selected}`]:t.selected}]})((e=>{let{theme:t}=e;return(0,Yt.A)({color:"unset",backgroundColor:"transparent",border:0,outline:0},t.typography.subtitle1,{margin:"6px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.focusOpacity})`:_k(t.palette.action.active,t.palette.action.focusOpacity)},"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:_k(t.palette.action.active,t.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${IS.disabled}`]:{color:(t.vars||t).palette.text.secondary},[`&.${IS.selected}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.main,"&:focus, &:hover":{backgroundColor:(t.vars||t).palette.primary.dark}}})})),MS=W.memo((function(e){const t=yv({props:e,name:"MuiPickersYear"}),{autoFocus:n,className:r,children:o,disabled:a,selected:i,value:s,tabIndex:l,onClick:u,onKeyDown:c,onFocus:d,onBlur:p,"aria-current":h,slots:f,slotProps:m}=t,g=(0,Xt.A)(t,ES),y=W.useRef(null),v=(e=>{const{disabled:t,selected:n,classes:r}=e,o={root:["root"],yearButton:["yearButton",t&&"disabled",n&&"selected"]};return(0,Zt.A)(o,TS,r)})(t);(0,dr.A)((()=>{n&&y.current?.focus()}),[n]);const b=f?.yearButton??OS,x=qo({elementType:b,externalSlotProps:m?.yearButton,additionalProps:{children:o,disabled:a,tabIndex:l,ref:y,type:"button",role:"radio","aria-current":h,"aria-checked":i,onClick:e=>u(e,s),onKeyDown:e=>c(e,s),onFocus:e=>d(e,s),onBlur:e=>p(e,s)},ownerState:t,className:v.yearButton});return(0,sn.jsx)(NS,(0,Yt.A)({className:(0,Qt.A)(v.root,r),ownerState:t},g,{children:(0,sn.jsx)(b,(0,Yt.A)({},x))}))}));function DS(e){return(0,on.Ay)("MuiYearCalendar",e)}(0,rn.A)("MuiYearCalendar",["root"]);const RS=["autoFocus","className","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","readOnly","shouldDisableYear","disableHighlightToday","onYearFocus","hasFocus","onFocusedViewChange","yearsOrder","yearsPerRow","timezone","gridLabelId","slots","slotProps"];const PS=(0,en.Ay)("div",{name:"MuiYearCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",flexDirection:"row",flexWrap:"wrap",overflowY:"auto",height:"100%",padding:"0 4px",width:Px,maxHeight:280,boxSizing:"border-box",position:"relative"}),$S=W.forwardRef((function(e,t){const n=function(e,t){const n=bb(),r=xb(),o=yv({props:e,name:t});return(0,Yt.A)({disablePast:!1,disableFuture:!1},o,{yearsPerRow:o.yearsPerRow??3,minDate:Cv(n,o.minDate,r.minDate),maxDate:Cv(n,o.maxDate,r.maxDate)})}(e,"MuiYearCalendar"),{autoFocus:r,className:o,value:a,defaultValue:i,referenceDate:s,disabled:l,disableFuture:u,disablePast:c,maxDate:d,minDate:p,onChange:h,readOnly:f,shouldDisableYear:m,onYearFocus:g,hasFocus:y,onFocusedViewChange:v,yearsOrder:b="asc",yearsPerRow:x,timezone:w,gridLabelId:k,slots:S,slotProps:A}=n,C=(0,Xt.A)(n,RS),{value:T,handleValueChange:I,timezone:E}=cx({name:"YearCalendar",timezone:w,value:a,defaultValue:i,referenceDate:s,onChange:h,valueManager:ub}),N=wb(E),O=zo(),M=bb(),D=W.useMemo((()=>ub.getInitialReferenceValue({value:T,utils:M,props:n,timezone:E,referenceDate:s,granularity:zv.year})),[]),R=n,P=(e=>{const{classes:t}=e;return(0,Zt.A)({root:["root"]},DS,t)})(R),$=W.useMemo((()=>M.getYear(N)),[M,N]),j=W.useMemo((()=>null!=T?M.getYear(T):null),[T,M]),[_,F]=W.useState((()=>j||M.getYear(D))),[L,z]=(0,Kp.A)({name:"YearCalendar",state:"hasFocus",controlled:y,default:r??!1}),B=(0,cr.A)((e=>{z(e),v&&v(e)})),V=W.useCallback((e=>{if(c&&M.isBeforeYear(e,N))return!0;if(u&&M.isAfterYear(e,N))return!0;if(p&&M.isBeforeYear(e,p))return!0;if(d&&M.isAfterYear(e,d))return!0;if(!m)return!1;const t=M.startOfYear(e);return m(t)}),[u,c,d,p,N,m,M]),U=(0,cr.A)(((e,t)=>{if(f)return;const n=M.setYear(T??D,t);I(n)})),H=(0,cr.A)((e=>{V(M.setYear(T??D,e))||(F(e),B(!0),g?.(e))}));W.useEffect((()=>{F((e=>null!==j&&e!==j?j:e))}),[j]);const G="desc"!==b?1*x:-1*x,q=O&&"asc"===b||!O&&"desc"===b?-1:1,K=(0,cr.A)(((e,t)=>{switch(e.key){case"ArrowUp":H(t-G),e.preventDefault();break;case"ArrowDown":H(t+G),e.preventDefault();break;case"ArrowLeft":H(t-q),e.preventDefault();break;case"ArrowRight":H(t+q),e.preventDefault()}})),X=(0,cr.A)(((e,t)=>{H(t)})),Y=(0,cr.A)(((e,t)=>{_===t&&B(!1)})),Q=W.useRef(null),Z=(0,lr.A)(t,Q);W.useEffect((()=>{if(r||null===Q.current)return;const e=Q.current.querySelector('[tabindex="0"]');if(!e)return;const t=e.offsetHeight,n=e.offsetTop,o=Q.current.clientHeight,a=Q.current.scrollTop,i=n+t;t>o||n<a||(Q.current.scrollTop=i-o/2-t/2)}),[r]);const J=M.getYearRange([p,d]);return"desc"===b&&J.reverse(),(0,sn.jsx)(PS,(0,Yt.A)({ref:Z,className:(0,Qt.A)(P.root,o),ownerState:R,role:"radiogroup","aria-labelledby":k},C,{children:J.map((e=>{const t=M.getYear(e),n=t===j,r=l||V(e);return(0,sn.jsx)(MS,{selected:n,value:t,onClick:U,onKeyDown:K,autoFocus:L&&t===_,disabled:r,tabIndex:t!==_||r?-1:0,onFocus:X,onBlur:Y,"aria-current":$===t?"date":void 0,yearsPerRow:x,slots:S,slotProps:A,children:M.format(e,"year")},M.format(e,"year"))}))}))}));function jS(e){return(0,on.Ay)("MuiPickersArrowSwitcher",e)}(0,rn.A)("MuiPickersArrowSwitcher",["root","spacer","button","previousIconButton","nextIconButton","leftArrowIcon","rightArrowIcon"]);const _S=["children","className","slots","slotProps","isNextDisabled","isNextHidden","onGoToNext","nextLabel","isPreviousDisabled","isPreviousHidden","onGoToPrevious","previousLabel","labelId"],FS=["ownerState"],LS=["ownerState"],zS=(0,en.Ay)("div",{name:"MuiPickersArrowSwitcher",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex"}),BS=(0,en.Ay)("div",{name:"MuiPickersArrowSwitcher",slot:"Spacer",overridesResolver:(e,t)=>t.spacer})((e=>{let{theme:t}=e;return{width:t.spacing(3)}})),WS=(0,en.Ay)(Ns,{name:"MuiPickersArrowSwitcher",slot:"Button",overridesResolver:(e,t)=>t.button})({variants:[{props:{hidden:!0},style:{visibility:"hidden"}}]}),VS=W.forwardRef((function(e,t){const n=zo(),r=yv({props:e,name:"MuiPickersArrowSwitcher"}),{children:o,className:a,slots:i,slotProps:s,isNextDisabled:l,isNextHidden:u,onGoToNext:c,nextLabel:d,isPreviousDisabled:p,isPreviousHidden:h,onGoToPrevious:f,previousLabel:m,labelId:g}=r,y=(0,Xt.A)(r,_S),v=r,b=(e=>{const{classes:t}=e;return(0,Zt.A)({root:["root"],spacer:["spacer"],button:["button"],previousIconButton:["previousIconButton"],nextIconButton:["nextIconButton"],leftArrowIcon:["leftArrowIcon"],rightArrowIcon:["rightArrowIcon"]},jS,t)})(v),x={isDisabled:l,isHidden:u,goTo:c,label:d},w={isDisabled:p,isHidden:h,goTo:f,label:m},k=i?.previousIconButton??WS,S=qo({elementType:k,externalSlotProps:s?.previousIconButton,additionalProps:{size:"medium",title:w.label,"aria-label":w.label,disabled:w.isDisabled,edge:"end",onClick:w.goTo},ownerState:(0,Yt.A)({},v,{hidden:w.isHidden}),className:(0,Qt.A)(b.button,b.previousIconButton)}),A=i?.nextIconButton??WS,C=qo({elementType:A,externalSlotProps:s?.nextIconButton,additionalProps:{size:"medium",title:x.label,"aria-label":x.label,disabled:x.isDisabled,edge:"start",onClick:x.goTo},ownerState:(0,Yt.A)({},v,{hidden:x.isHidden}),className:(0,Qt.A)(b.button,b.nextIconButton)}),T=i?.leftArrowIcon??Yx,I=qo({elementType:T,externalSlotProps:s?.leftArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:v,className:b.leftArrowIcon}),E=(0,Xt.A)(I,FS),N=i?.rightArrowIcon??Qx,O=qo({elementType:N,externalSlotProps:s?.rightArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:v,className:b.rightArrowIcon}),M=(0,Xt.A)(O,LS);return(0,sn.jsxs)(zS,(0,Yt.A)({ref:t,className:(0,Qt.A)(b.root,a),ownerState:v},y,{children:[(0,sn.jsx)(k,(0,Yt.A)({},S,{children:n?(0,sn.jsx)(N,(0,Yt.A)({},M)):(0,sn.jsx)(T,(0,Yt.A)({},E))})),o?(0,sn.jsx)(vs,{variant:"subtitle1",component:"span",id:g,children:o}):(0,sn.jsx)(BS,{className:b.spacer,ownerState:v}),(0,sn.jsx)(A,(0,Yt.A)({},C,{children:n?(0,sn.jsx)(T,(0,Yt.A)({},E)):(0,sn.jsx)(N,(0,Yt.A)({},M))}))]}))}));function US(e,t,n,r){const o=bb(),a=((e,t)=>e?t.getHours(e)>=12?"pm":"am":null)(e,o),i=W.useCallback((a=>{const i=null==e?null:((e,t,n,r)=>{const o=jv(r.getHours(e),t,n);return r.setHours(e,o)})(e,a,Boolean(t),o);n(i,r??"partial")}),[t,e,n,r,o]);return{meridiemMode:a,handleMeridiemChange:i}}const HS=e=>(0,on.Ay)("MuiPickersCalendarHeader",e),GS=(0,rn.A)("MuiPickersCalendarHeader",["root","labelContainer","label","switchViewButton","switchViewIcon"]),qS=["slots","slotProps","currentMonth","disabled","disableFuture","disablePast","maxDate","minDate","onMonthChange","onViewChange","view","reduceAnimations","views","labelId","className","timezone","format"],KS=["ownerState"],XS=(0,en.Ay)("div",{name:"MuiPickersCalendarHeader",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",alignItems:"center",marginTop:12,marginBottom:4,paddingLeft:24,paddingRight:12,maxHeight:40,minHeight:40}),YS=(0,en.Ay)("div",{name:"MuiPickersCalendarHeader",slot:"LabelContainer",overridesResolver:(e,t)=>t.labelContainer})((e=>{let{theme:t}=e;return(0,Yt.A)({display:"flex",overflow:"hidden",alignItems:"center",cursor:"pointer",marginRight:"auto"},t.typography.body1,{fontWeight:t.typography.fontWeightMedium})})),QS=(0,en.Ay)("div",{name:"MuiPickersCalendarHeader",slot:"Label",overridesResolver:(e,t)=>t.label})({marginRight:6}),ZS=(0,en.Ay)(Ns,{name:"MuiPickersCalendarHeader",slot:"SwitchViewButton",overridesResolver:(e,t)=>t.switchViewButton})({marginRight:"auto",variants:[{props:{view:"year"},style:{[`.${GS.switchViewIcon}`]:{transform:"rotate(180deg)"}}}]}),JS=(0,en.Ay)(Xx,{name:"MuiPickersCalendarHeader",slot:"SwitchViewIcon",overridesResolver:(e,t)=>t.switchViewIcon})((e=>{let{theme:t}=e;return{willChange:"transform",transition:t.transitions.create("transform"),transform:"rotate(0deg)"}})),eA=W.forwardRef((function(e,t){const n=Eb(),r=bb(),o=yv({props:e,name:"MuiPickersCalendarHeader"}),{slots:a,slotProps:i,currentMonth:s,disabled:l,disableFuture:u,disablePast:c,maxDate:d,minDate:p,onMonthChange:h,onViewChange:f,view:m,reduceAnimations:g,views:y,labelId:v,className:b,timezone:x,format:w=`${r.formats.month} ${r.formats.year}`}=o,k=(0,Xt.A)(o,qS),S=o,A=(e=>{const{classes:t}=e;return(0,Zt.A)({root:["root"],labelContainer:["labelContainer"],label:["label"],switchViewButton:["switchViewButton"],switchViewIcon:["switchViewIcon"]},HS,t)})(o),C=a?.switchViewButton??ZS,T=qo({elementType:C,externalSlotProps:i?.switchViewButton,additionalProps:{size:"small","aria-label":n.calendarViewSwitchingButtonAriaLabel(m)},ownerState:S,className:A.switchViewButton}),I=a?.switchViewIcon??JS,E=qo({elementType:I,externalSlotProps:i?.switchViewIcon,ownerState:S,className:A.switchViewIcon}),N=(0,Xt.A)(E,KS),O=function(e,t){let{disableFuture:n,maxDate:r,timezone:o}=t;const a=bb();return W.useMemo((()=>{const t=a.date(void 0,o),i=a.startOfMonth(n&&a.isBefore(t,r)?t:r);return!a.isAfter(i,e)}),[n,r,e,a,o])}(s,{disableFuture:u,maxDate:d,timezone:x}),M=function(e,t){let{disablePast:n,minDate:r,timezone:o}=t;const a=bb();return W.useMemo((()=>{const t=a.date(void 0,o),i=a.startOfMonth(n&&a.isAfter(t,r)?t:r);return!a.isBefore(i,e)}),[n,r,e,a,o])}(s,{disablePast:c,minDate:p,timezone:x});if(1===y.length&&"year"===y[0])return null;const D=r.formatByString(s,w);return(0,sn.jsxs)(XS,(0,Yt.A)({},k,{ownerState:S,className:(0,Qt.A)(A.root,b),ref:t,children:[(0,sn.jsxs)(YS,{role:"presentation",onClick:()=>{if(1!==y.length&&f&&!l)if(2===y.length)f(y.find((e=>e!==m))||y[0]);else{const e=0!==y.indexOf(m)?0:1;f(y[e])}},ownerState:S,"aria-live":"polite",className:A.labelContainer,children:[(0,sn.jsx)(Dk,{reduceAnimations:g,transKey:D,children:(0,sn.jsx)(QS,{id:v,ownerState:S,className:A.label,children:D})}),y.length>1&&!l&&(0,sn.jsx)(C,(0,Yt.A)({},T,{children:(0,sn.jsx)(I,(0,Yt.A)({},N))}))]}),(0,sn.jsx)(Fa,{in:"day"===m,appear:!g,enter:!g,children:(0,sn.jsx)(VS,{slots:a,slotProps:i,onGoToPrevious:()=>h(r.addMonths(s,-1),"right"),isPreviousDisabled:M,previousLabel:n.previousMonth,onGoToNext:()=>h(r.addMonths(s,1),"left"),isNextDisabled:O,nextLabel:n.nextMonth})})]}))})),tA=(0,en.Ay)("div")({overflow:"hidden",width:Px,maxHeight:$x,display:"flex",flexDirection:"column",margin:"0 auto"}),nA=e=>(0,on.Ay)("MuiDateCalendar",e),rA=((0,rn.A)("MuiDateCalendar",["root","viewTransitionContainer"]),["autoFocus","onViewChange","value","defaultValue","referenceDate","disableFuture","disablePast","onChange","onYearChange","onMonthChange","reduceAnimations","shouldDisableDate","shouldDisableMonth","shouldDisableYear","view","views","openTo","className","disabled","readOnly","minDate","maxDate","disableHighlightToday","focusedView","onFocusedViewChange","showDaysOutsideCurrentMonth","fixedWeekNumber","dayOfWeekFormatter","slots","slotProps","loading","renderLoading","displayWeekNumber","yearsOrder","yearsPerRow","monthsPerRow","timezone"]);const oA=(0,en.Ay)(tA,{name:"MuiDateCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",flexDirection:"column",height:$x}),aA=(0,en.Ay)(Dk,{name:"MuiDateCalendar",slot:"ViewTransitionContainer",overridesResolver:(e,t)=>t.viewTransitionContainer})({}),iA=W.forwardRef((function(e,t){const n=bb(),r=(0,or.A)(),o=function(e,t){const n=bb(),r=xb(),o=nx(),a=yv({props:e,name:t});return(0,Yt.A)({},a,{loading:a.loading??!1,disablePast:a.disablePast??!1,disableFuture:a.disableFuture??!1,openTo:a.openTo??"day",views:a.views??["year","day"],reduceAnimations:a.reduceAnimations??o,renderLoading:a.renderLoading??(()=>(0,sn.jsx)("span",{children:"..."})),minDate:Cv(n,a.minDate,r.minDate),maxDate:Cv(n,a.maxDate,r.maxDate)})}(e,"MuiDateCalendar"),{autoFocus:a,onViewChange:i,value:s,defaultValue:l,referenceDate:u,disableFuture:c,disablePast:d,onChange:p,onYearChange:h,onMonthChange:f,reduceAnimations:m,shouldDisableDate:g,shouldDisableMonth:y,shouldDisableYear:v,view:b,views:x,openTo:w,className:k,disabled:S,readOnly:A,minDate:C,maxDate:T,disableHighlightToday:I,focusedView:E,onFocusedViewChange:N,showDaysOutsideCurrentMonth:O,fixedWeekNumber:M,dayOfWeekFormatter:D,slots:R,slotProps:P,loading:$,renderLoading:j,displayWeekNumber:_,yearsOrder:F,yearsPerRow:L,monthsPerRow:z,timezone:B}=o,V=(0,Xt.A)(o,rA),{value:U,handleValueChange:H,timezone:G}=cx({name:"DateCalendar",timezone:B,value:s,defaultValue:l,referenceDate:u,onChange:p,valueManager:ub}),{view:q,setView:K,focusedView:X,setFocusedView:Y,goToNextView:Q,setValueAndGoToNextView:Z}=px({view:b,views:x,openTo:w,onChange:H,onViewChange:i,autoFocus:a,focusedView:E,onFocusedViewChange:N}),{referenceDate:J,calendarState:ee,changeFocusedDay:te,changeMonth:ne,handleChangeMonth:re,isDateDisabled:oe,onMonthSwitchingAnimationEnd:ae}=Nk({value:U,referenceDate:u,reduceAnimations:m,onMonthChange:f,minDate:C,maxDate:T,shouldDisableDate:g,disablePast:d,disableFuture:c,timezone:G}),ie=S&&U||C,se=S&&U||T,le=`${r}-grid-label`,ue=null!==X,ce=R?.calendarHeader??eA,de=qo({elementType:ce,externalSlotProps:P?.calendarHeader,additionalProps:{views:x,view:q,currentMonth:ee.currentMonth,onViewChange:K,onMonthChange:(e,t)=>re({newMonth:e,direction:t}),minDate:ie,maxDate:se,disabled:S,disablePast:d,disableFuture:c,reduceAnimations:m,timezone:G,labelId:le},ownerState:o}),pe=(0,cr.A)((e=>{const t=n.startOfMonth(e),r=n.endOfMonth(e),o=oe(e)?Av({utils:n,date:e,minDate:n.isBefore(C,t)?t:C,maxDate:n.isAfter(T,r)?r:T,disablePast:d,disableFuture:c,isDateDisabled:oe,timezone:G}):e;o?(Z(o,"finish"),f?.(t)):(Q(),ne(t)),te(o,!0)})),he=(0,cr.A)((e=>{const t=n.startOfYear(e),r=n.endOfYear(e),o=oe(e)?Av({utils:n,date:e,minDate:n.isBefore(C,t)?t:C,maxDate:n.isAfter(T,r)?r:T,disablePast:d,disableFuture:c,isDateDisabled:oe,timezone:G}):e;o?(Z(o,"finish"),h?.(o)):(Q(),ne(t)),te(o,!0)})),fe=(0,cr.A)((e=>H(e?Sv(n,e,U??J):e,"finish",q)));W.useEffect((()=>{null!=U&&n.isValid(U)&&ne(U)}),[U]);const me=o,ge=(e=>{const{classes:t}=e;return(0,Zt.A)({root:["root"],viewTransitionContainer:["viewTransitionContainer"]},nA,t)})(me),ye={disablePast:d,disableFuture:c,maxDate:T,minDate:C},ve={disableHighlightToday:I,readOnly:A,disabled:S,timezone:G,gridLabelId:le,slots:R,slotProps:P},be=W.useRef(q);W.useEffect((()=>{be.current!==q&&(X===be.current&&Y(q,!0),be.current=q)}),[X,Y,q]);const xe=W.useMemo((()=>[U]),[U]);return(0,sn.jsxs)(oA,(0,Yt.A)({ref:t,className:(0,Qt.A)(ge.root,k),ownerState:me},V,{children:[(0,sn.jsx)(ce,(0,Yt.A)({},de,{slots:R,slotProps:P})),(0,sn.jsx)(aA,{reduceAnimations:m,className:ge.viewTransitionContainer,transKey:q,ownerState:me,children:(0,sn.jsxs)("div",{children:["year"===q&&(0,sn.jsx)($S,(0,Yt.A)({},ye,ve,{value:U,onChange:he,shouldDisableYear:v,hasFocus:ue,onFocusedViewChange:e=>Y("year",e),yearsOrder:F,yearsPerRow:L,referenceDate:J})),"month"===q&&(0,sn.jsx)(CS,(0,Yt.A)({},ye,ve,{hasFocus:ue,className:k,value:U,onChange:pe,shouldDisableMonth:y,onFocusedViewChange:e=>Y("month",e),monthsPerRow:z,referenceDate:J})),"day"===q&&(0,sn.jsx)(mS,(0,Yt.A)({},ee,ye,ve,{onMonthSwitchingAnimationEnd:ae,onFocusedDayChange:te,reduceAnimations:m,selectedDays:xe,onSelectedDaysChange:fe,shouldDisableDate:g,shouldDisableMonth:y,shouldDisableYear:v,hasFocus:ue,onFocusedViewChange:e=>Y("day",e),showDaysOutsideCurrentMonth:O,fixedWeekNumber:M,dayOfWeekFormatter:D,displayWeekNumber:_,loading:$,renderLoading:j}))]})})]}))})),sA=e=>{let{view:t,onViewChange:n,views:r,focusedView:o,onFocusedViewChange:a,value:i,defaultValue:s,referenceDate:l,onChange:u,className:c,classes:d,disableFuture:p,disablePast:h,minDate:f,maxDate:m,shouldDisableDate:g,shouldDisableMonth:y,shouldDisableYear:v,reduceAnimations:b,onMonthChange:x,monthsPerRow:w,onYearChange:k,yearsOrder:S,yearsPerRow:A,slots:C,slotProps:T,loading:I,renderLoading:E,disableHighlightToday:N,readOnly:O,disabled:M,showDaysOutsideCurrentMonth:D,dayOfWeekFormatter:R,sx:P,autoFocus:$,fixedWeekNumber:j,displayWeekNumber:_,timezone:F}=e;return(0,sn.jsx)(iA,{view:t,onViewChange:n,views:r.filter(Ov),focusedView:o&&Ov(o)?o:null,onFocusedViewChange:a,value:i,defaultValue:s,referenceDate:l,onChange:u,className:c,classes:d,disableFuture:p,disablePast:h,minDate:f,maxDate:m,shouldDisableDate:g,shouldDisableMonth:y,shouldDisableYear:v,reduceAnimations:b,onMonthChange:x,monthsPerRow:w,onYearChange:k,yearsOrder:S,yearsPerRow:A,slots:C,slotProps:T,loading:I,renderLoading:E,disableHighlightToday:N,readOnly:O,disabled:M,showDaysOutsideCurrentMonth:D,dayOfWeekFormatter:R,sx:P,autoFocus:$,fixedWeekNumber:j,displayWeekNumber:_,timezone:F})},lA=W.forwardRef((function(e,t){const n=Eb(),r=bb(),o=Pb(e,"MuiDesktopDatePicker"),a=(0,Yt.A)({day:sA,month:sA,year:sA},o.viewRenderers),i=(0,Yt.A)({},o,{viewRenderers:a,format:Mv(r,o,!1),yearsPerRow:o.yearsPerRow??4,slots:(0,Yt.A)({openPickerIcon:Zx,field:Ik},o.slots),slotProps:(0,Yt.A)({},o.slotProps,{field:e=>(0,Yt.A)({},Ho(o.slotProps?.field,e),Lb(o),{ref:t}),toolbar:(0,Yt.A)({hidden:!0},o.slotProps?.toolbar)})}),{renderPicker:s}=Kx({props:i,valueManager:ub,valueType:"date",getOpenDialogAriaText:fb({utils:r,formatKey:"fullDate",contextTranslation:n.openDatePickerDialogue,propsTranslation:i.localeText?.openDatePickerDialogue}),validator:zb});return s()}));lA.propTypes={autoFocus:bv().bool,className:bv().string,closeOnSelect:bv().bool,dayOfWeekFormatter:bv().func,defaultValue:bv().object,disabled:bv().bool,disableFuture:bv().bool,disableHighlightToday:bv().bool,disableOpenPicker:bv().bool,disablePast:bv().bool,displayWeekNumber:bv().bool,enableAccessibleFieldDOMStructure:bv().any,fixedWeekNumber:bv().number,format:bv().string,formatDensity:bv().oneOf(["dense","spacious"]),inputRef:xv,label:bv().node,loading:bv().bool,localeText:bv().object,maxDate:bv().object,minDate:bv().object,monthsPerRow:bv().oneOf([3,4]),name:bv().string,onAccept:bv().func,onChange:bv().func,onClose:bv().func,onError:bv().func,onMonthChange:bv().func,onOpen:bv().func,onSelectedSectionsChange:bv().func,onViewChange:bv().func,onYearChange:bv().func,open:bv().bool,openTo:bv().oneOf(["day","month","year"]),orientation:bv().oneOf(["landscape","portrait"]),readOnly:bv().bool,reduceAnimations:bv().bool,referenceDate:bv().object,renderLoading:bv().func,selectedSections:bv().oneOfType([bv().oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),bv().number]),shouldDisableDate:bv().func,shouldDisableMonth:bv().func,shouldDisableYear:bv().func,showDaysOutsideCurrentMonth:bv().bool,slotProps:bv().object,slots:bv().object,sx:bv().oneOfType([bv().arrayOf(bv().oneOfType([bv().func,bv().object,bv().bool])),bv().func,bv().object]),timezone:bv().string,value:bv().object,view:bv().oneOf(["day","month","year"]),viewRenderers:bv().shape({day:bv().func,month:bv().func,year:bv().func}),views:bv().arrayOf(bv().oneOf(["day","month","year"]).isRequired),yearsOrder:bv().oneOf(["asc","desc"]),yearsPerRow:bv().oneOf([3,4])};const uA=(0,en.Ay)(xm)({[`& .${hm.container}`]:{outline:0},[`& .${hm.paper}`]:{outline:0,minWidth:Px}}),cA=(0,en.Ay)(Nm)({"&:first-of-type":{padding:0}});function dA(e){const{children:t,onDismiss:n,open:r,slots:o,slotProps:a}=e,i=o?.dialog??uA,s=o?.mobileTransition??Fa;return(0,sn.jsx)(i,(0,Yt.A)({open:r,onClose:n},a?.dialog,{TransitionComponent:s,TransitionProps:a?.mobileTransition,PaperComponent:o?.mobilePaper,PaperProps:a?.mobilePaper,children:(0,sn.jsx)(cA,{children:t})}))}const pA=["props","getOpenDialogAriaText"],hA=e=>{let{props:t,getOpenDialogAriaText:n}=e,r=(0,Xt.A)(e,pA);const{slots:o,slotProps:a,className:i,sx:s,format:l,formatDensity:u,enableAccessibleFieldDOMStructure:c,selectedSections:d,onSelectedSectionsChange:p,timezone:h,name:f,label:m,inputRef:g,readOnly:y,disabled:v,localeText:b}=t,x=W.useRef(null),w=(0,or.A)(),k=a?.toolbar?.hidden??!1,{open:S,actions:A,layoutProps:C,renderCurrentView:T,fieldProps:I,contextValue:E}=gx((0,Yt.A)({},r,{props:t,fieldRef:x,autoFocusView:!0,additionalViewProps:{},wrapperVariant:"mobile"})),N=o.field,O=qo({elementType:N,externalSlotProps:a?.field,additionalProps:(0,Yt.A)({},I,k&&{id:w},!(v||y)&&{onClick:A.onOpen,onKeyDown:(M=A.onOpen,e=>{"Enter"!==e.key&&" "!==e.key||(M(e),e.preventDefault(),e.stopPropagation()),D&&D(e)})},{readOnly:y??!0,disabled:v,className:i,sx:s,format:l,formatDensity:u,enableAccessibleFieldDOMStructure:c,selectedSections:d,onSelectedSectionsChange:p,timezone:h,label:m,name:f},g?{inputRef:g}:{}),ownerState:t});var M,D;O.inputProps=(0,Yt.A)({},O.inputProps,{"aria-label":n(I.value)});const R=(0,Yt.A)({textField:o.textField},O.slots),P=o.layout??Wx;let $=w;k&&($=m?`${w}-label`:void 0);const j=(0,Yt.A)({},a,{toolbar:(0,Yt.A)({},a?.toolbar,{titleId:w}),mobilePaper:(0,Yt.A)({"aria-labelledby":$},a?.mobilePaper)}),_=(0,lr.A)(x,O.unstableFieldRef);return{renderPicker:()=>(0,sn.jsxs)(Ux,{contextValue:E,localeText:b,children:[(0,sn.jsx)(N,(0,Yt.A)({},O,{slots:R,slotProps:j,unstableFieldRef:_})),(0,sn.jsx)(dA,(0,Yt.A)({},A,{open:S,slots:o,slotProps:j,children:(0,sn.jsx)(P,(0,Yt.A)({},C,j?.layout,{slots:o,slotProps:j,children:T()}))}))]})}},fA=W.forwardRef((function(e,t){const n=Eb(),r=bb(),o=Pb(e,"MuiMobileDatePicker"),a=(0,Yt.A)({day:sA,month:sA,year:sA},o.viewRenderers),i=(0,Yt.A)({},o,{viewRenderers:a,format:Mv(r,o,!1),slots:(0,Yt.A)({field:Ik},o.slots),slotProps:(0,Yt.A)({},o.slotProps,{field:e=>(0,Yt.A)({},Ho(o.slotProps?.field,e),Lb(o),{ref:t}),toolbar:(0,Yt.A)({hidden:!1},o.slotProps?.toolbar)})}),{renderPicker:s}=hA({props:i,valueManager:ub,valueType:"date",getOpenDialogAriaText:fb({utils:r,formatKey:"fullDate",contextTranslation:n.openDatePickerDialogue,propsTranslation:i.localeText?.openDatePickerDialogue}),validator:zb});return s()}));fA.propTypes={autoFocus:bv().bool,className:bv().string,closeOnSelect:bv().bool,dayOfWeekFormatter:bv().func,defaultValue:bv().object,disabled:bv().bool,disableFuture:bv().bool,disableHighlightToday:bv().bool,disableOpenPicker:bv().bool,disablePast:bv().bool,displayWeekNumber:bv().bool,enableAccessibleFieldDOMStructure:bv().any,fixedWeekNumber:bv().number,format:bv().string,formatDensity:bv().oneOf(["dense","spacious"]),inputRef:xv,label:bv().node,loading:bv().bool,localeText:bv().object,maxDate:bv().object,minDate:bv().object,monthsPerRow:bv().oneOf([3,4]),name:bv().string,onAccept:bv().func,onChange:bv().func,onClose:bv().func,onError:bv().func,onMonthChange:bv().func,onOpen:bv().func,onSelectedSectionsChange:bv().func,onViewChange:bv().func,onYearChange:bv().func,open:bv().bool,openTo:bv().oneOf(["day","month","year"]),orientation:bv().oneOf(["landscape","portrait"]),readOnly:bv().bool,reduceAnimations:bv().bool,referenceDate:bv().object,renderLoading:bv().func,selectedSections:bv().oneOfType([bv().oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),bv().number]),shouldDisableDate:bv().func,shouldDisableMonth:bv().func,shouldDisableYear:bv().func,showDaysOutsideCurrentMonth:bv().bool,slotProps:bv().object,slots:bv().object,sx:bv().oneOfType([bv().arrayOf(bv().oneOfType([bv().func,bv().object,bv().bool])),bv().func,bv().object]),timezone:bv().string,value:bv().object,view:bv().oneOf(["day","month","year"]),viewRenderers:bv().shape({day:bv().func,month:bv().func,year:bv().func}),views:bv().arrayOf(bv().oneOf(["day","month","year"]).isRequired),yearsOrder:bv().oneOf(["asc","desc"]),yearsPerRow:bv().oneOf([3,4])};const mA=["desktopModeMediaQuery"],gA=W.forwardRef((function(e,t){const n=yv({props:e,name:"MuiDatePicker"}),{desktopModeMediaQuery:r=Qb}=n,o=(0,Xt.A)(n,mA);return mv(r,{defaultMatches:!0})?(0,sn.jsx)(lA,(0,Yt.A)({ref:t},o)):(0,sn.jsx)(fA,(0,Yt.A)({ref:t},o))}));function yA(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function vA(e){return vA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vA(e)}function bA(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function xA(e){bA(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===vA(e)&&"[object Date]"===t?new Date(e.getTime()):"number"===typeof e||"[object Number]"===t?new Date(e):("string"!==typeof e&&"[object String]"!==t||"undefined"===typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function wA(e,t){bA(2,arguments);var n=xA(e),r=yA(t);return isNaN(r)?new Date(NaN):r?(n.setDate(n.getDate()+r),n):n}function kA(e,t){bA(2,arguments);var n=xA(e).getTime(),r=yA(t);return new Date(n+r)}function SA(e,t){bA(2,arguments);var n=xA(e),r=yA(t);if(isNaN(r))return new Date(NaN);if(!r)return n;var o=n.getDate(),a=new Date(n.getTime());return a.setMonth(n.getMonth()+r+1,0),o>=a.getDate()?a:(n.setFullYear(a.getFullYear(),a.getMonth(),o),n)}function AA(e){bA(1,arguments);var t=xA(e);return t.setHours(23,59,59,999),t}var CA={};function TA(){return CA}function IA(e){bA(1,arguments);var t=xA(e),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(23,59,59,999),t}function EA(e){if(bA(1,arguments),!function(e){return bA(1,arguments),e instanceof Date||"object"===vA(e)&&"[object Date]"===Object.prototype.toString.call(e)}(e)&&"number"!==typeof e)return!1;var t=xA(e);return!isNaN(Number(t))}function NA(e,t){return bA(2,arguments),kA(e,-yA(t))}function OA(e){bA(1,arguments);var t=xA(e),n=t.getUTCDay(),r=(n<1?7:0)+n-1;return t.setUTCDate(t.getUTCDate()-r),t.setUTCHours(0,0,0,0),t}function MA(e){bA(1,arguments);var t=xA(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var o=OA(r),a=new Date(0);a.setUTCFullYear(n,0,4),a.setUTCHours(0,0,0,0);var i=OA(a);return t.getTime()>=o.getTime()?n+1:t.getTime()>=i.getTime()?n:n-1}function DA(e){bA(1,arguments);var t=xA(e),n=OA(t).getTime()-function(e){bA(1,arguments);var t=MA(e),n=new Date(0);return n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0),OA(n)}(t).getTime();return Math.round(n/6048e5)+1}function RA(e,t){var n,r,o,a,i,s,l,u;bA(1,arguments);var c=TA(),d=yA(null!==(n=null!==(r=null!==(o=null!==(a=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==a?a:null===t||void 0===t||null===(i=t.locale)||void 0===i||null===(s=i.options)||void 0===s?void 0:s.weekStartsOn)&&void 0!==o?o:c.weekStartsOn)&&void 0!==r?r:null===(l=c.locale)||void 0===l||null===(u=l.options)||void 0===u?void 0:u.weekStartsOn)&&void 0!==n?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=xA(e),h=p.getUTCDay(),f=(h<d?7:0)+h-d;return p.setUTCDate(p.getUTCDate()-f),p.setUTCHours(0,0,0,0),p}function PA(e,t){var n,r,o,a,i,s,l,u;bA(1,arguments);var c=xA(e),d=c.getUTCFullYear(),p=TA(),h=yA(null!==(n=null!==(r=null!==(o=null!==(a=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==a?a:null===t||void 0===t||null===(i=t.locale)||void 0===i||null===(s=i.options)||void 0===s?void 0:s.firstWeekContainsDate)&&void 0!==o?o:p.firstWeekContainsDate)&&void 0!==r?r:null===(l=p.locale)||void 0===l||null===(u=l.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==n?n:1);if(!(h>=1&&h<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var f=new Date(0);f.setUTCFullYear(d+1,0,h),f.setUTCHours(0,0,0,0);var m=RA(f,t),g=new Date(0);g.setUTCFullYear(d,0,h),g.setUTCHours(0,0,0,0);var y=RA(g,t);return c.getTime()>=m.getTime()?d+1:c.getTime()>=y.getTime()?d:d-1}function $A(e,t){bA(1,arguments);var n=xA(e),r=RA(n,t).getTime()-function(e,t){var n,r,o,a,i,s,l,u;bA(1,arguments);var c=TA(),d=yA(null!==(n=null!==(r=null!==(o=null!==(a=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==a?a:null===t||void 0===t||null===(i=t.locale)||void 0===i||null===(s=i.options)||void 0===s?void 0:s.firstWeekContainsDate)&&void 0!==o?o:c.firstWeekContainsDate)&&void 0!==r?r:null===(l=c.locale)||void 0===l||null===(u=l.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==n?n:1),p=PA(e,t),h=new Date(0);return h.setUTCFullYear(p,0,d),h.setUTCHours(0,0,0,0),RA(h,t)}(n,t).getTime();return Math.round(r/6048e5)+1}function jA(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}const _A={y:function(e,t){var n=e.getUTCFullYear(),r=n>0?n:1-n;return jA("yy"===t?r%100:r,t.length)},M:function(e,t){var n=e.getUTCMonth();return"M"===t?String(n+1):jA(n+1,2)},d:function(e,t){return jA(e.getUTCDate(),t.length)},a:function(e,t){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:function(e,t){return jA(e.getUTCHours()%12||12,t.length)},H:function(e,t){return jA(e.getUTCHours(),t.length)},m:function(e,t){return jA(e.getUTCMinutes(),t.length)},s:function(e,t){return jA(e.getUTCSeconds(),t.length)},S:function(e,t){var n=t.length,r=e.getUTCMilliseconds();return jA(Math.floor(r*Math.pow(10,n-3)),t.length)}};var FA="midnight",LA="noon",zA="morning",BA="afternoon",WA="evening",VA="night";function UA(e,t){var n=e>0?"-":"+",r=Math.abs(e),o=Math.floor(r/60),a=r%60;if(0===a)return n+String(o);var i=t||"";return n+String(o)+i+jA(a,2)}function HA(e,t){return e%60===0?(e>0?"-":"+")+jA(Math.abs(e)/60,2):GA(e,t)}function GA(e,t){var n=t||"",r=e>0?"-":"+",o=Math.abs(e);return r+jA(Math.floor(o/60),2)+n+jA(o%60,2)}const qA={G:function(e,t,n){var r=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){var r=e.getUTCFullYear(),o=r>0?r:1-r;return n.ordinalNumber(o,{unit:"year"})}return _A.y(e,t)},Y:function(e,t,n,r){var o=PA(e,r),a=o>0?o:1-o;return"YY"===t?jA(a%100,2):"Yo"===t?n.ordinalNumber(a,{unit:"year"}):jA(a,t.length)},R:function(e,t){return jA(MA(e),t.length)},u:function(e,t){return jA(e.getUTCFullYear(),t.length)},Q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return jA(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return jA(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){var r=e.getUTCMonth();switch(t){case"M":case"MM":return _A.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){var r=e.getUTCMonth();switch(t){case"L":return String(r+1);case"LL":return jA(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){var o=$A(e,r);return"wo"===t?n.ordinalNumber(o,{unit:"week"}):jA(o,t.length)},I:function(e,t,n){var r=DA(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):jA(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):_A.d(e,t)},D:function(e,t,n){var r=function(e){bA(1,arguments);var t=xA(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=n-t.getTime();return Math.floor(r/864e5)+1}(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):jA(r,t.length)},E:function(e,t,n){var r=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){var o=e.getUTCDay(),a=(o-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return jA(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){var o=e.getUTCDay(),a=(o-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return jA(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(e,t,n){var r=e.getUTCDay(),o=0===r?7:r;switch(t){case"i":return String(o);case"ii":return jA(o,t.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){var r,o=e.getUTCHours();switch(r=12===o?LA:0===o?FA:o/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){var r,o=e.getUTCHours();switch(r=o>=17?WA:o>=12?BA:o>=4?zA:VA,t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){var r=e.getUTCHours()%12;return 0===r&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return _A.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):_A.H(e,t)},K:function(e,t,n){var r=e.getUTCHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):jA(r,t.length)},k:function(e,t,n){var r=e.getUTCHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):jA(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):_A.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):_A.s(e,t)},S:function(e,t){return _A.S(e,t)},X:function(e,t,n,r){var o=(r._originalDate||e).getTimezoneOffset();if(0===o)return"Z";switch(t){case"X":return HA(o);case"XXXX":case"XX":return GA(o);default:return GA(o,":")}},x:function(e,t,n,r){var o=(r._originalDate||e).getTimezoneOffset();switch(t){case"x":return HA(o);case"xxxx":case"xx":return GA(o);default:return GA(o,":")}},O:function(e,t,n,r){var o=(r._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+UA(o,":");default:return"GMT"+GA(o,":")}},z:function(e,t,n,r){var o=(r._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+UA(o,":");default:return"GMT"+GA(o,":")}},t:function(e,t,n,r){var o=r._originalDate||e;return jA(Math.floor(o.getTime()/1e3),t.length)},T:function(e,t,n,r){return jA((r._originalDate||e).getTime(),t.length)}};var KA=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},XA=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}};const YA={p:XA,P:function(e,t){var n,r=e.match(/(P+)(p+)?/)||[],o=r[1],a=r[2];if(!a)return KA(e,t);switch(o){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",KA(o,t)).replace("{{time}}",XA(a,t))}};function QA(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}var ZA=["D","DD"],JA=["YY","YYYY"];function eC(e){return-1!==ZA.indexOf(e)}function tC(e){return-1!==JA.indexOf(e)}function nC(e,t,n){if("YYYY"===e)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===e)throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===e)throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===e)throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var rC={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};const oC=function(e,t,n){var r,o=rC[e];return r="string"===typeof o?o:1===t?o.one:o.other.replace("{{count}}",t.toString()),null!==n&&void 0!==n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function aC(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}var iC={date:aC({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:aC({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:aC({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})};var sC={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function lC(e){return function(t,n){var r;if("formatting"===(null!==n&&void 0!==n&&n.context?String(n.context):"standalone")&&e.formattingValues){var o=e.defaultFormattingWidth||e.defaultWidth,a=null!==n&&void 0!==n&&n.width?String(n.width):o;r=e.formattingValues[a]||e.formattingValues[o]}else{var i=e.defaultWidth,s=null!==n&&void 0!==n&&n.width?String(n.width):e.defaultWidth;r=e.values[s]||e.values[i]}return r[e.argumentCallback?e.argumentCallback(t):t]}}function uC(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.width,o=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(o);if(!a)return null;var i,s=a[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(l)?function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n;return}(l,(function(e){return e.test(s)})):function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n;return}(l,(function(e){return e.test(s)}));return i=e.valueCallback?e.valueCallback(u):u,{value:i=n.valueCallback?n.valueCallback(i):i,rest:t.slice(s.length)}}}function cC(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var o=r[0],a=t.match(e.parsePattern);if(!a)return null;var i=e.valueCallback?e.valueCallback(a[0]):a[0];return{value:i=n.valueCallback?n.valueCallback(i):i,rest:t.slice(o.length)}}}const dC={code:"en-US",formatDistance:oC,formatLong:iC,formatRelative:function(e,t,n,r){return sC[e]},localize:{ordinalNumber:function(e,t){var n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:lC({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:lC({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:lC({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:lC({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:lC({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:cC({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}}),era:uC({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:uC({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:uC({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:uC({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:uC({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}},pC=dC;var hC=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,fC=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,mC=/^'([^]*?)'?$/,gC=/''/g,yC=/[a-zA-Z]/;function vC(e,t,n){var r,o,a,i,s,l,u,c,d,p,h,f,m,g,y,v,b,x;bA(2,arguments);var w=String(t),k=TA(),S=null!==(r=null!==(o=null===n||void 0===n?void 0:n.locale)&&void 0!==o?o:k.locale)&&void 0!==r?r:pC,A=yA(null!==(a=null!==(i=null!==(s=null!==(l=null===n||void 0===n?void 0:n.firstWeekContainsDate)&&void 0!==l?l:null===n||void 0===n||null===(u=n.locale)||void 0===u||null===(c=u.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==s?s:k.firstWeekContainsDate)&&void 0!==i?i:null===(d=k.locale)||void 0===d||null===(p=d.options)||void 0===p?void 0:p.firstWeekContainsDate)&&void 0!==a?a:1);if(!(A>=1&&A<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var C=yA(null!==(h=null!==(f=null!==(m=null!==(g=null===n||void 0===n?void 0:n.weekStartsOn)&&void 0!==g?g:null===n||void 0===n||null===(y=n.locale)||void 0===y||null===(v=y.options)||void 0===v?void 0:v.weekStartsOn)&&void 0!==m?m:k.weekStartsOn)&&void 0!==f?f:null===(b=k.locale)||void 0===b||null===(x=b.options)||void 0===x?void 0:x.weekStartsOn)&&void 0!==h?h:0);if(!(C>=0&&C<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!S.localize)throw new RangeError("locale must contain localize property");if(!S.formatLong)throw new RangeError("locale must contain formatLong property");var T=xA(e);if(!EA(T))throw new RangeError("Invalid time value");var I=NA(T,QA(T)),E={firstWeekContainsDate:A,weekStartsOn:C,locale:S,_originalDate:T};return w.match(fC).map((function(e){var t=e[0];return"p"===t||"P"===t?(0,YA[t])(e,S.formatLong):e})).join("").match(hC).map((function(r){if("''"===r)return"'";var o=r[0];if("'"===o)return function(e){var t=e.match(mC);if(!t)return e;return t[1].replace(gC,"'")}(r);var a=qA[o];if(a)return null!==n&&void 0!==n&&n.useAdditionalWeekYearTokens||!tC(r)||nC(r,t,String(e)),null!==n&&void 0!==n&&n.useAdditionalDayOfYearTokens||!eC(r)||nC(r,t,String(e)),a(I,r,S.localize,E);if(o.match(yC))throw new RangeError("Format string contains an unescaped latin alphabet character `"+o+"`");return r})).join("")}function bC(e){bA(1,arguments);var t=xA(e),n=t.getFullYear(),r=t.getMonth(),o=new Date(0);return o.setFullYear(n,r+1,0),o.setHours(0,0,0,0),o.getDate()}function xC(e,t){var n,r,o,a,i,s,l,u;bA(1,arguments);var c=TA(),d=yA(null!==(n=null!==(r=null!==(o=null!==(a=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==a?a:null===t||void 0===t||null===(i=t.locale)||void 0===i||null===(s=i.options)||void 0===s?void 0:s.weekStartsOn)&&void 0!==o?o:c.weekStartsOn)&&void 0!==r?r:null===(l=c.locale)||void 0===l||null===(u=l.options)||void 0===u?void 0:u.weekStartsOn)&&void 0!==n?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=xA(e),h=p.getDay(),f=(h<d?7:0)+h-d;return p.setDate(p.getDate()-f),p.setHours(0,0,0,0),p}function wC(e,t){var n,r,o,a,i,s,l,u;bA(1,arguments);var c=TA(),d=yA(null!==(n=null!==(r=null!==(o=null!==(a=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==a?a:null===t||void 0===t||null===(i=t.locale)||void 0===i||null===(s=i.options)||void 0===s?void 0:s.firstWeekContainsDate)&&void 0!==o?o:c.firstWeekContainsDate)&&void 0!==r?r:null===(l=c.locale)||void 0===l||null===(u=l.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==n?n:1),p=function(e,t){var n,r,o,a,i,s,l,u;bA(1,arguments);var c=xA(e),d=c.getFullYear(),p=TA(),h=yA(null!==(n=null!==(r=null!==(o=null!==(a=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==a?a:null===t||void 0===t||null===(i=t.locale)||void 0===i||null===(s=i.options)||void 0===s?void 0:s.firstWeekContainsDate)&&void 0!==o?o:p.firstWeekContainsDate)&&void 0!==r?r:null===(l=p.locale)||void 0===l||null===(u=l.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==n?n:1);if(!(h>=1&&h<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var f=new Date(0);f.setFullYear(d+1,0,h),f.setHours(0,0,0,0);var m=xC(f,t),g=new Date(0);g.setFullYear(d,0,h),g.setHours(0,0,0,0);var y=xC(g,t);return c.getTime()>=m.getTime()?d+1:c.getTime()>=y.getTime()?d:d-1}(e,t),h=new Date(0);return h.setFullYear(p,0,d),h.setHours(0,0,0,0),xC(h,t)}function kC(e,t){bA(2,arguments);var n=xA(e),r=xA(t);return n.getTime()>r.getTime()}function SC(e,t){bA(2,arguments);var n=xA(e),r=xA(t);return n.getTime()<r.getTime()}function AC(e){bA(1,arguments);var t=xA(e);return t.setHours(0,0,0,0),t}function CC(e){bA(1,arguments);var t=xA(e);return t.setMinutes(0,0,0),t}function TC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function IC(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return TC(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?TC(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw a}}}}function EC(e,t){if(null==e)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function NC(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yn(e,t)}function OC(e){return OC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},OC(e)}function MC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(MC=function(){return!!e})()}function DC(e){var t=MC();return function(){var n,r=OC(e);if(t){var o=OC(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"==vA(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return gn(e)}(this,n)}}function RC(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PC(e){var t=function(e,t){if("object"!=vA(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=vA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==vA(t)?t:t+""}function $C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,PC(r.key),r)}}function jC(e,t,n){return t&&$C(e.prototype,t),n&&$C(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _C(e,t,n){return(t=PC(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var FC=function(){function e(){RC(this,e),_C(this,"priority",void 0),_C(this,"subPriority",0)}return jC(e,[{key:"validate",value:function(e,t){return!0}}]),e}(),LC=function(e){NC(n,e);var t=DC(n);function n(e,r,o,a,i){var s;return RC(this,n),(s=t.call(this)).value=e,s.validateValue=r,s.setValue=o,s.priority=a,i&&(s.subPriority=i),s}return jC(n,[{key:"validate",value:function(e,t){return this.validateValue(e,this.value,t)}},{key:"set",value:function(e,t,n){return this.setValue(e,t,this.value,n)}}]),n}(FC),zC=function(e){NC(n,e);var t=DC(n);function n(){var e;RC(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return _C(gn(e=t.call.apply(t,[this].concat(o))),"priority",10),_C(gn(e),"subPriority",-1),e}return jC(n,[{key:"set",value:function(e,t){if(t.timestampIsSet)return e;var n=new Date(0);return n.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),n.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),n}}]),n}(FC),BC=function(){function e(){RC(this,e),_C(this,"incompatibleTokens",void 0),_C(this,"priority",void 0),_C(this,"subPriority",void 0)}return jC(e,[{key:"run",value:function(e,t,n,r){var o=this.parse(e,t,n,r);return o?{setter:new LC(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}},{key:"validate",value:function(e,t,n){return!0}}]),e}(),WC=function(e){NC(n,e);var t=DC(n);function n(){var e;RC(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return _C(gn(e=t.call.apply(t,[this].concat(o))),"priority",140),_C(gn(e),"incompatibleTokens",["R","u","t","T"]),e}return jC(n,[{key:"parse",value:function(e,t,n){switch(t){case"G":case"GG":case"GGG":return n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"});case"GGGGG":return n.era(e,{width:"narrow"});default:return n.era(e,{width:"wide"})||n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"})}}},{key:"set",value:function(e,t,n){return t.era=n,e.setUTCFullYear(n,0,1),e.setUTCHours(0,0,0,0),e}}]),n}(BC),VC=(Math.pow(10,8),/^(1[0-2]|0?\d)/),UC=/^(3[0-1]|[0-2]?\d)/,HC=/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,GC=/^(5[0-3]|[0-4]?\d)/,qC=/^(2[0-3]|[0-1]?\d)/,KC=/^(2[0-4]|[0-1]?\d)/,XC=/^(1[0-1]|0?\d)/,YC=/^(1[0-2]|0?\d)/,QC=/^[0-5]?\d/,ZC=/^[0-5]?\d/,JC=/^\d/,eT=/^\d{1,2}/,tT=/^\d{1,3}/,nT=/^\d{1,4}/,rT=/^-?\d+/,oT=/^-?\d/,aT=/^-?\d{1,2}/,iT=/^-?\d{1,3}/,sT=/^-?\d{1,4}/,lT=/^([+-])(\d{2})(\d{2})?|Z/,uT=/^([+-])(\d{2})(\d{2})|Z/,cT=/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,dT=/^([+-])(\d{2}):(\d{2})|Z/,pT=/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/;function hT(e,t){return e?{value:t(e.value),rest:e.rest}:e}function fT(e,t){var n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function mT(e,t){var n=t.match(e);return n?"Z"===n[0]?{value:0,rest:t.slice(1)}:{value:("+"===n[1]?1:-1)*(36e5*(n[2]?parseInt(n[2],10):0)+6e4*(n[3]?parseInt(n[3],10):0)+1e3*(n[5]?parseInt(n[5],10):0)),rest:t.slice(n[0].length)}:null}function gT(e){return fT(rT,e)}function yT(e,t){switch(e){case 1:return fT(JC,t);case 2:return fT(eT,t);case 3:return fT(tT,t);case 4:return fT(nT,t);default:return fT(new RegExp("^\\d{1,"+e+"}"),t)}}function vT(e,t){switch(e){case 1:return fT(oT,t);case 2:return fT(aT,t);case 3:return fT(iT,t);case 4:return fT(sT,t);default:return fT(new RegExp("^-?\\d{1,"+e+"}"),t)}}function bT(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function xT(e,t){var n,r=t>0,o=r?t:1-t;if(o<=50)n=e||100;else{var a=o+50;n=e+100*Math.floor(a/100)-(e>=a%100?100:0)}return r?n:1-n}function wT(e){return e%400===0||e%4===0&&e%100!==0}var kT=function(e){NC(n,e);var t=DC(n);function n(){var e;RC(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return _C(gn(e=t.call.apply(t,[this].concat(o))),"priority",130),_C(gn(e),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),e}return jC(n,[{key:"parse",value:function(e,t,n){var r=function(e){return{year:e,isTwoDigitYear:"yy"===t}};switch(t){case"y":return hT(yT(4,e),r);case"yo":return hT(n.ordinalNumber(e,{unit:"year"}),r);default:return hT(yT(t.length,e),r)}}},{key:"validate",value:function(e,t){return t.isTwoDigitYear||t.year>0}},{key:"set",value:function(e,t,n){var r=e.getUTCFullYear();if(n.isTwoDigitYear){var o=xT(n.year,r);return e.setUTCFullYear(o,0,1),e.setUTCHours(0,0,0,0),e}var a="era"in t&&1!==t.era?1-n.year:n.year;return e.setUTCFullYear(a,0,1),e.setUTCHours(0,0,0,0),e}}]),n}(BC),ST=function(e){NC(n,e);var t=DC(n);function n(){var e;RC(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return _C(gn(e=t.call.apply(t,[this].concat(o))),"priority",130),_C(gn(e),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),e}return jC(n,[{key:"parse",value:function(e,t,n){var r=function(e){return{year:e,isTwoDigitYear:"YY"===t}};switch(t){case"Y":return hT(yT(4,e),r);case"Yo":return hT(n.ordinalNumber(e,{unit:"year"}),r);default:return hT(yT(t.length,e),r)}}},{key:"validate",value:function(e,t){return t.isTwoDigitYear||t.year>0}},{key:"set",value:function(e,t,n,r){var o=PA(e,r);if(n.isTwoDigitYear){var a=xT(n.year,o);return e.setUTCFullYear(a,0,r.firstWeekContainsDate),e.setUTCHours(0,0,0,0),RA(e,r)}var i="era"in t&&1!==t.era?1-n.year:n.year;return e.setUTCFullYear(i,0,r.firstWeekContainsDate),e.setUTCHours(0,0,0,0),RA(e,r)}}]),n}(BC),AT=function(e){NC(n,e);var t=DC(n);function n(){var e;RC(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return _C(gn(e=t.call.apply(t,[this].concat(o))),"priority",130),_C(gn(e),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),e}return jC(n,[{key:"parse",value:function(e,t){return vT("R"===t?4:t.length,e)}},{key:"set",value:function(e,t,n){var r=new Date(0);return r.setUTCFullYear(n,0,4),r.setUTCHours(0,0,0,0),OA(r)}}]),n}(BC),CT=function(e){NC(n,e);var t=DC(n);function n(){var e;RC(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return _C(gn(e=t.call.apply(t,[this].concat(o))),"priority",130),_C(gn(e),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),e}return jC(n,[{key:"parse",value:function(e,t){return vT("u"===t?4:t.length,e)}},{key:"set",value:function(e,t,n){return e.setUTCFullYear(n,0,1),e.setUTCHours(0,0,0,0),e}}]),n}(BC),TT=function(e){NC(n,e);var t=DC(n);function n(){var e;RC(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return _C(gn(e=t.call.apply(t,[this].concat(o))),"priority",120),_C(gn(e),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),e}return jC(n,[{key:"parse",value:function(e,t,n){switch(t){case"Q":case"QQ":return yT(t.length,e);case"Qo":return n.ordinalNumber(e,{unit:"quarter"});case"QQQ":return n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(e,{width:"narrow",context:"formatting"});default:return n.quarter(e,{width:"wide",context:"formatting"})||n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=1&&t<=4}},{key:"set",value:function(e,t,n){return e.setUTCMonth(3*(n-1),1),e.setUTCHours(0,0,0,0),e}}]),n}(BC),IT=function(e){NC(n,e);var t=DC(n);function n(){var e;RC(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return _C(gn(e=t.call.apply(t,[this].concat(o))),"priority",120),_C(gn(e),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),e}return jC(n,[{key:"parse",value:function(e,t,n){switch(t){case"q":case"qq":return yT(t.length,e);case"qo":return n.ordinalNumber(e,{unit:"quarter"});case"qqq":return n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(e,{width:"narrow",context:"standalone"});default:return n.quarter(e,{width:"wide",context:"standalone"})||n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(e,t){return t>=1&&t<=4}},{key:"set",value:function(e,t,n){return e.setUTCMonth(3*(n-1),1),e.setUTCHours(0,0,0,0),e}}]),n}(BC),ET=function(e){NC(n,e);var t=DC(n);function n(){var e;RC(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return _C(gn(e=t.call.apply(t,[this].concat(o))),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),_C(gn(e),"priority",110),e}return jC(n,[{key:"parse",value:function(e,t,n){var r=function(e){return e-1};switch(t){case"M":return hT(fT(VC,e),r);case"MM":return hT(yT(2,e),r);case"Mo":return hT(n.ordinalNumber(e,{unit:"month"}),r);case"MMM":return n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(e,{width:"narrow",context:"formatting"});default:return n.month(e,{width:"wide",context:"formatting"})||n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=11}},{key:"set",value:function(e,t,n){return e.setUTCMonth(n,1),e.setUTCHours(0,0,0,0),e}}]),n}(BC),NT=function(e){NC(n,e);var t=DC(n);function n(){var e;RC(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return _C(gn(e=t.call.apply(t,[this].concat(o))),"priority",110),_C(gn(e),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),e}return jC(n,[{key:"parse",value:function(e,t,n){var r=function(e){return e-1};switch(t){case"L":return hT(fT(VC,e),r);case"LL":return hT(yT(2,e),r);case"Lo":return hT(n.ordinalNumber(e,{unit:"month"}),r);case"LLL":return n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(e,{width:"narrow",context:"standalone"});default:return n.month(e,{width:"wide",context:"standalone"})||n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=11}},{key:"set",value:function(e,t,n){return e.setUTCMonth(n,1),e.setUTCHours(0,0,0,0),e}}]),n}(BC);var OT=function(e){NC(n,e);var t=DC(n);function n(){var e;RC(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return _C(gn(e=t.call.apply(t,[this].concat(o))),"priority",100),_C(gn(e),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),e}return jC(n,[{key:"parse",value:function(e,t,n){switch(t){case"w":return fT(GC,e);case"wo":return n.ordinalNumber(e,{unit:"week"});default:return yT(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=53}},{key:"set",value:function(e,t,n,r){return RA(function(e,t,n){bA(2,arguments);var r=xA(e),o=yA(t),a=$A(r,n)-o;return r.setUTCDate(r.getUTCDate()-7*a),r}(e,n,r),r)}}]),n}(BC);var MT=function(e){NC(n,e);var t=DC(n);function n(){var e;RC(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return _C(gn(e=t.call.apply(t,[this].concat(o))),"priority",100),_C(gn(e),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),e}return jC(n,[{key:"parse",value:function(e,t,n){switch(t){case"I":return fT(GC,e);case"Io":return n.ordinalNumber(e,{unit:"week"});default:return yT(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=53}},{key:"set",value:function(e,t,n){return OA(function(e,t){bA(2,arguments);var n=xA(e),r=yA(t),o=DA(n)-r;return n.setUTCDate(n.getUTCDate()-7*o),n}(e,n))}}]),n}(BC),DT=[31,28,31,30,31,30,31,31,30,31,30,31],RT=[31,29,31,30,31,30,31,31,30,31,30,31],PT=function(e){NC(n,e);var t=DC(n);function n(){var e;RC(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return _C(gn(e=t.call.apply(t,[this].concat(o))),"priority",90),_C(gn(e),"subPriority",1),_C(gn(e),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),e}return jC(n,[{key:"parse",value:function(e,t,n){switch(t){case"d":return fT(UC,e);case"do":return n.ordinalNumber(e,{unit:"date"});default:return yT(t.length,e)}}},{key:"validate",value:function(e,t){var n=wT(e.getUTCFullYear()),r=e.getUTCMonth();return n?t>=1&&t<=RT[r]:t>=1&&t<=DT[r]}},{key:"set",value:function(e,t,n){return e.setUTCDate(n),e.setUTCHours(0,0,0,0),e}}]),n}(BC),$T=function(e){NC(n,e);var t=DC(n);function n(){var e;RC(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return _C(gn(e=t.call.apply(t,[this].concat(o))),"priority",90),_C(gn(e),"subpriority",1),_C(gn(e),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),e}return jC(n,[{key:"parse",value:function(e,t,n){switch(t){case"D":case"DD":return fT(HC,e);case"Do":return n.ordinalNumber(e,{unit:"date"});default:return yT(t.length,e)}}},{key:"validate",value:function(e,t){return wT(e.getUTCFullYear())?t>=1&&t<=366:t>=1&&t<=365}},{key:"set",value:function(e,t,n){return e.setUTCMonth(0,n),e.setUTCHours(0,0,0,0),e}}]),n}(BC);function jT(e,t,n){var r,o,a,i,s,l,u,c;bA(2,arguments);var d=TA(),p=yA(null!==(r=null!==(o=null!==(a=null!==(i=null===n||void 0===n?void 0:n.weekStartsOn)&&void 0!==i?i:null===n||void 0===n||null===(s=n.locale)||void 0===s||null===(l=s.options)||void 0===l?void 0:l.weekStartsOn)&&void 0!==a?a:d.weekStartsOn)&&void 0!==o?o:null===(u=d.locale)||void 0===u||null===(c=u.options)||void 0===c?void 0:c.weekStartsOn)&&void 0!==r?r:0);if(!(p>=0&&p<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=xA(e),f=yA(t),m=((f%7+7)%7<p?7:0)+f-h.getUTCDay();return h.setUTCDate(h.getUTCDate()+m),h}var _T=function(e){NC(n,e);var t=DC(n);function n(){var e;RC(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return _C(gn(e=t.call.apply(t,[this].concat(o))),"priority",90),_C(gn(e),"incompatibleTokens",["D","i","e","c","t","T"]),e}return jC(n,[{key:"parse",value:function(e,t,n){switch(t){case"E":case"EE":case"EEE":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=6}},{key:"set",value:function(e,t,n,r){return(e=jT(e,n,r)).setUTCHours(0,0,0,0),e}}]),n}(BC),FT=function(e){NC(n,e);var t=DC(n);function n(){var e;RC(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return _C(gn(e=t.call.apply(t,[this].concat(o))),"priority",90),_C(gn(e),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),e}return jC(n,[{key:"parse",value:function(e,t,n,r){var o=function(e){var t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"e":case"ee":return hT(yT(t.length,e),o);case"eo":return hT(n.ordinalNumber(e,{unit:"day"}),o);case"eee":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeeee":return n.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=6}},{key:"set",value:function(e,t,n,r){return(e=jT(e,n,r)).setUTCHours(0,0,0,0),e}}]),n}(BC),LT=function(e){NC(n,e);var t=DC(n);function n(){var e;RC(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return _C(gn(e=t.call.apply(t,[this].concat(o))),"priority",90),_C(gn(e),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),e}return jC(n,[{key:"parse",value:function(e,t,n,r){var o=function(e){var t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"c":case"cc":return hT(yT(t.length,e),o);case"co":return hT(n.ordinalNumber(e,{unit:"day"}),o);case"ccc":return n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"ccccc":return n.day(e,{width:"narrow",context:"standalone"});case"cccccc":return n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});default:return n.day(e,{width:"wide",context:"standalone"})||n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=6}},{key:"set",value:function(e,t,n,r){return(e=jT(e,n,r)).setUTCHours(0,0,0,0),e}}]),n}(BC);var zT=function(e){NC(n,e);var t=DC(n);function n(){var e;RC(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return _C(gn(e=t.call.apply(t,[this].concat(o))),"priority",90),_C(gn(e),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),e}return jC(n,[{key:"parse",value:function(e,t,n){var r=function(e){return 0===e?7:e};switch(t){case"i":case"ii":return yT(t.length,e);case"io":return n.ordinalNumber(e,{unit:"day"});case"iii":return hT(n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r);case"iiiii":return hT(n.day(e,{width:"narrow",context:"formatting"}),r);case"iiiiii":return hT(n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r);default:return hT(n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r)}}},{key:"validate",value:function(e,t){return t>=1&&t<=7}},{key:"set",value:function(e,t,n){return e=function(e,t){bA(2,arguments);var n=yA(t);n%7===0&&(n-=7);var r=xA(e),o=((n%7+7)%7<1?7:0)+n-r.getUTCDay();return r.setUTCDate(r.getUTCDate()+o),r}(e,n),e.setUTCHours(0,0,0,0),e}}]),n}(BC),BT=function(e){NC(n,e);var t=DC(n);function n(){var e;RC(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return _C(gn(e=t.call.apply(t,[this].concat(o))),"priority",80),_C(gn(e),"incompatibleTokens",["b","B","H","k","t","T"]),e}return jC(n,[{key:"parse",value:function(e,t,n){switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(e,t,n){return e.setUTCHours(bT(n),0,0,0),e}}]),n}(BC),WT=function(e){NC(n,e);var t=DC(n);function n(){var e;RC(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return _C(gn(e=t.call.apply(t,[this].concat(o))),"priority",80),_C(gn(e),"incompatibleTokens",["a","B","H","k","t","T"]),e}return jC(n,[{key:"parse",value:function(e,t,n){switch(t){case"b":case"bb":case"bbb":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(e,t,n){return e.setUTCHours(bT(n),0,0,0),e}}]),n}(BC),VT=function(e){NC(n,e);var t=DC(n);function n(){var e;RC(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return _C(gn(e=t.call.apply(t,[this].concat(o))),"priority",80),_C(gn(e),"incompatibleTokens",["a","b","t","T"]),e}return jC(n,[{key:"parse",value:function(e,t,n){switch(t){case"B":case"BB":case"BBB":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(e,t,n){return e.setUTCHours(bT(n),0,0,0),e}}]),n}(BC),UT=function(e){NC(n,e);var t=DC(n);function n(){var e;RC(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return _C(gn(e=t.call.apply(t,[this].concat(o))),"priority",70),_C(gn(e),"incompatibleTokens",["H","K","k","t","T"]),e}return jC(n,[{key:"parse",value:function(e,t,n){switch(t){case"h":return fT(YC,e);case"ho":return n.ordinalNumber(e,{unit:"hour"});default:return yT(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=12}},{key:"set",value:function(e,t,n){var r=e.getUTCHours()>=12;return r&&n<12?e.setUTCHours(n+12,0,0,0):r||12!==n?e.setUTCHours(n,0,0,0):e.setUTCHours(0,0,0,0),e}}]),n}(BC),HT=function(e){NC(n,e);var t=DC(n);function n(){var e;RC(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return _C(gn(e=t.call.apply(t,[this].concat(o))),"priority",70),_C(gn(e),"incompatibleTokens",["a","b","h","K","k","t","T"]),e}return jC(n,[{key:"parse",value:function(e,t,n){switch(t){case"H":return fT(qC,e);case"Ho":return n.ordinalNumber(e,{unit:"hour"});default:return yT(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=23}},{key:"set",value:function(e,t,n){return e.setUTCHours(n,0,0,0),e}}]),n}(BC),GT=function(e){NC(n,e);var t=DC(n);function n(){var e;RC(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return _C(gn(e=t.call.apply(t,[this].concat(o))),"priority",70),_C(gn(e),"incompatibleTokens",["h","H","k","t","T"]),e}return jC(n,[{key:"parse",value:function(e,t,n){switch(t){case"K":return fT(XC,e);case"Ko":return n.ordinalNumber(e,{unit:"hour"});default:return yT(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=11}},{key:"set",value:function(e,t,n){return e.getUTCHours()>=12&&n<12?e.setUTCHours(n+12,0,0,0):e.setUTCHours(n,0,0,0),e}}]),n}(BC),qT=function(e){NC(n,e);var t=DC(n);function n(){var e;RC(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return _C(gn(e=t.call.apply(t,[this].concat(o))),"priority",70),_C(gn(e),"incompatibleTokens",["a","b","h","H","K","t","T"]),e}return jC(n,[{key:"parse",value:function(e,t,n){switch(t){case"k":return fT(KC,e);case"ko":return n.ordinalNumber(e,{unit:"hour"});default:return yT(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=24}},{key:"set",value:function(e,t,n){var r=n<=24?n%24:n;return e.setUTCHours(r,0,0,0),e}}]),n}(BC),KT=function(e){NC(n,e);var t=DC(n);function n(){var e;RC(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return _C(gn(e=t.call.apply(t,[this].concat(o))),"priority",60),_C(gn(e),"incompatibleTokens",["t","T"]),e}return jC(n,[{key:"parse",value:function(e,t,n){switch(t){case"m":return fT(QC,e);case"mo":return n.ordinalNumber(e,{unit:"minute"});default:return yT(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=59}},{key:"set",value:function(e,t,n){return e.setUTCMinutes(n,0,0),e}}]),n}(BC),XT=function(e){NC(n,e);var t=DC(n);function n(){var e;RC(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return _C(gn(e=t.call.apply(t,[this].concat(o))),"priority",50),_C(gn(e),"incompatibleTokens",["t","T"]),e}return jC(n,[{key:"parse",value:function(e,t,n){switch(t){case"s":return fT(ZC,e);case"so":return n.ordinalNumber(e,{unit:"second"});default:return yT(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=59}},{key:"set",value:function(e,t,n){return e.setUTCSeconds(n,0),e}}]),n}(BC),YT=function(e){NC(n,e);var t=DC(n);function n(){var e;RC(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return _C(gn(e=t.call.apply(t,[this].concat(o))),"priority",30),_C(gn(e),"incompatibleTokens",["t","T"]),e}return jC(n,[{key:"parse",value:function(e,t){return hT(yT(t.length,e),(function(e){return Math.floor(e*Math.pow(10,3-t.length))}))}},{key:"set",value:function(e,t,n){return e.setUTCMilliseconds(n),e}}]),n}(BC),QT=function(e){NC(n,e);var t=DC(n);function n(){var e;RC(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return _C(gn(e=t.call.apply(t,[this].concat(o))),"priority",10),_C(gn(e),"incompatibleTokens",["t","T","x"]),e}return jC(n,[{key:"parse",value:function(e,t){switch(t){case"X":return mT(lT,e);case"XX":return mT(uT,e);case"XXXX":return mT(cT,e);case"XXXXX":return mT(pT,e);default:return mT(dT,e)}}},{key:"set",value:function(e,t,n){return t.timestampIsSet?e:new Date(e.getTime()-n)}}]),n}(BC),ZT=function(e){NC(n,e);var t=DC(n);function n(){var e;RC(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return _C(gn(e=t.call.apply(t,[this].concat(o))),"priority",10),_C(gn(e),"incompatibleTokens",["t","T","X"]),e}return jC(n,[{key:"parse",value:function(e,t){switch(t){case"x":return mT(lT,e);case"xx":return mT(uT,e);case"xxxx":return mT(cT,e);case"xxxxx":return mT(pT,e);default:return mT(dT,e)}}},{key:"set",value:function(e,t,n){return t.timestampIsSet?e:new Date(e.getTime()-n)}}]),n}(BC),JT=function(e){NC(n,e);var t=DC(n);function n(){var e;RC(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return _C(gn(e=t.call.apply(t,[this].concat(o))),"priority",40),_C(gn(e),"incompatibleTokens","*"),e}return jC(n,[{key:"parse",value:function(e){return gT(e)}},{key:"set",value:function(e,t,n){return[new Date(1e3*n),{timestampIsSet:!0}]}}]),n}(BC),eI=function(e){NC(n,e);var t=DC(n);function n(){var e;RC(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return _C(gn(e=t.call.apply(t,[this].concat(o))),"priority",20),_C(gn(e),"incompatibleTokens","*"),e}return jC(n,[{key:"parse",value:function(e){return gT(e)}},{key:"set",value:function(e,t,n){return[new Date(n),{timestampIsSet:!0}]}}]),n}(BC),tI={G:new WC,y:new kT,Y:new ST,R:new AT,u:new CT,Q:new TT,q:new IT,M:new ET,L:new NT,w:new OT,I:new MT,d:new PT,D:new $T,E:new _T,e:new FT,c:new LT,i:new zT,a:new BT,b:new WT,B:new VT,h:new UT,H:new HT,K:new GT,k:new qT,m:new KT,s:new XT,S:new YT,X:new QT,x:new ZT,t:new JT,T:new eI},nI=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,rI=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,oI=/^'([^]*?)'?$/,aI=/''/g,iI=/\S/,sI=/[a-zA-Z]/;function lI(e,t,n,r){var o,a,i,s,l,u,c,d,p,h,f,m,g,y,v,b,x,w;bA(3,arguments);var k=String(e),S=String(t),A=TA(),C=null!==(o=null!==(a=null===r||void 0===r?void 0:r.locale)&&void 0!==a?a:A.locale)&&void 0!==o?o:pC;if(!C.match)throw new RangeError("locale must contain match property");var T=yA(null!==(i=null!==(s=null!==(l=null!==(u=null===r||void 0===r?void 0:r.firstWeekContainsDate)&&void 0!==u?u:null===r||void 0===r||null===(c=r.locale)||void 0===c||null===(d=c.options)||void 0===d?void 0:d.firstWeekContainsDate)&&void 0!==l?l:A.firstWeekContainsDate)&&void 0!==s?s:null===(p=A.locale)||void 0===p||null===(h=p.options)||void 0===h?void 0:h.firstWeekContainsDate)&&void 0!==i?i:1);if(!(T>=1&&T<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var I=yA(null!==(f=null!==(m=null!==(g=null!==(y=null===r||void 0===r?void 0:r.weekStartsOn)&&void 0!==y?y:null===r||void 0===r||null===(v=r.locale)||void 0===v||null===(b=v.options)||void 0===b?void 0:b.weekStartsOn)&&void 0!==g?g:A.weekStartsOn)&&void 0!==m?m:null===(x=A.locale)||void 0===x||null===(w=x.options)||void 0===w?void 0:w.weekStartsOn)&&void 0!==f?f:0);if(!(I>=0&&I<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(""===S)return""===k?xA(n):new Date(NaN);var E,N={firstWeekContainsDate:T,weekStartsOn:I,locale:C},O=[new zC],M=S.match(rI).map((function(e){var t=e[0];return t in YA?(0,YA[t])(e,C.formatLong):e})).join("").match(nI),D=[],R=IC(M);try{var P=function(){var t=E.value;null!==r&&void 0!==r&&r.useAdditionalWeekYearTokens||!tC(t)||nC(t,S,e),null!==r&&void 0!==r&&r.useAdditionalDayOfYearTokens||!eC(t)||nC(t,S,e);var n=t[0],o=tI[n];if(o){var a=o.incompatibleTokens;if(Array.isArray(a)){var i=D.find((function(e){return a.includes(e.token)||e.token===n}));if(i)throw new RangeError("The format string mustn't contain `".concat(i.fullToken,"` and `").concat(t,"` at the same time"))}else if("*"===o.incompatibleTokens&&D.length>0)throw new RangeError("The format string mustn't contain `".concat(t,"` and any other token at the same time"));D.push({token:n,fullToken:t});var s=o.run(k,t,C.match,N);if(!s)return{v:new Date(NaN)};O.push(s.setter),k=s.rest}else{if(n.match(sI))throw new RangeError("Format string contains an unescaped latin alphabet character `"+n+"`");if("''"===t?t="'":"'"===n&&(t=t.match(oI)[1].replace(aI,"'")),0!==k.indexOf(t))return{v:new Date(NaN)};k=k.slice(t.length)}};for(R.s();!(E=R.n()).done;){var $=P();if("object"===vA($))return $.v}}catch(U){R.e(U)}finally{R.f()}if(k.length>0&&iI.test(k))return new Date(NaN);var j=O.map((function(e){return e.priority})).sort((function(e,t){return t-e})).filter((function(e,t,n){return n.indexOf(e)===t})).map((function(e){return O.filter((function(t){return t.priority===e})).sort((function(e,t){return t.subPriority-e.subPriority}))})).map((function(e){return e[0]})),_=xA(n);if(isNaN(_.getTime()))return new Date(NaN);var F,L=NA(_,QA(_)),z={},B=IC(j);try{for(B.s();!(F=B.n()).done;){var W=F.value;if(!W.validate(L,N))return new Date(NaN);var V=W.set(L,z,N);Array.isArray(V)?(L=V[0],EC(z,V[1])):L=V}}catch(U){B.e(U)}finally{B.f()}return L}var uI=n(6723),cI=n.n(uI);const dI={y:{sectionType:"year",contentType:"digit",maxLength:4},yy:"year",yyy:{sectionType:"year",contentType:"digit",maxLength:4},yyyy:"year",M:{sectionType:"month",contentType:"digit",maxLength:2},MM:"month",MMMM:{sectionType:"month",contentType:"letter"},MMM:{sectionType:"month",contentType:"letter"},L:{sectionType:"month",contentType:"digit",maxLength:2},LL:"month",LLL:{sectionType:"month",contentType:"letter"},LLLL:{sectionType:"month",contentType:"letter"},d:{sectionType:"day",contentType:"digit",maxLength:2},dd:"day",do:{sectionType:"day",contentType:"digit-with-letter"},E:{sectionType:"weekDay",contentType:"letter"},EE:{sectionType:"weekDay",contentType:"letter"},EEE:{sectionType:"weekDay",contentType:"letter"},EEEE:{sectionType:"weekDay",contentType:"letter"},EEEEE:{sectionType:"weekDay",contentType:"letter"},i:{sectionType:"weekDay",contentType:"digit",maxLength:1},ii:"weekDay",iii:{sectionType:"weekDay",contentType:"letter"},iiii:{sectionType:"weekDay",contentType:"letter"},e:{sectionType:"weekDay",contentType:"digit",maxLength:1},ee:"weekDay",eee:{sectionType:"weekDay",contentType:"letter"},eeee:{sectionType:"weekDay",contentType:"letter"},eeeee:{sectionType:"weekDay",contentType:"letter"},eeeeee:{sectionType:"weekDay",contentType:"letter"},c:{sectionType:"weekDay",contentType:"digit",maxLength:1},cc:"weekDay",ccc:{sectionType:"weekDay",contentType:"letter"},cccc:{sectionType:"weekDay",contentType:"letter"},ccccc:{sectionType:"weekDay",contentType:"letter"},cccccc:{sectionType:"weekDay",contentType:"letter"},a:"meridiem",aa:"meridiem",aaa:"meridiem",H:{sectionType:"hours",contentType:"digit",maxLength:2},HH:"hours",h:{sectionType:"hours",contentType:"digit",maxLength:2},hh:"hours",m:{sectionType:"minutes",contentType:"digit",maxLength:2},mm:"minutes",s:{sectionType:"seconds",contentType:"digit",maxLength:2},ss:"seconds"},pI={year:"yyyy",month:"LLLL",monthShort:"MMM",dayOfMonth:"d",dayOfMonthFull:"do",weekday:"EEEE",weekdayShort:"EEEEEE",hours24h:"HH",hours12h:"hh",meridiem:"aa",minutes:"mm",seconds:"ss",fullDate:"PP",keyboardDate:"P",shortDate:"MMM d",normalDate:"d MMMM",normalDateWithWeekday:"EEE, MMM d",fullTime:"p",fullTime12h:"hh:mm aa",fullTime24h:"HH:mm",keyboardDateTime:"P p",keyboardDateTime12h:"P hh:mm aa",keyboardDateTime24h:"P HH:mm"};class hI{constructor(e){this.isMUIAdapter=!0,this.isTimezoneCompatible=!1,this.lib=void 0,this.locale=void 0,this.formats=void 0,this.formatTokenMap=dI,this.escapedCharacters={start:"'",end:"'"},this.longFormatters=void 0,this.date=e=>"undefined"===typeof e?new Date:null===e?null:new Date(e),this.getInvalidDate=()=>new Date("Invalid Date"),this.getTimezone=()=>"default",this.setTimezone=e=>e,this.toJsDate=e=>e,this.getCurrentLocaleCode=()=>this.locale.code,this.is12HourCycleInCurrentLocale=()=>/a/.test(this.locale.formatLong.time({width:"short"})),this.expandFormat=e=>e.match(/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g).map((e=>{const t=e[0];if("p"===t||"P"===t){return(0,this.longFormatters[t])(e,this.locale.formatLong)}return e})).join(""),this.formatNumber=e=>e,this.getDayOfWeek=e=>e.getDay()+1;const{locale:t,formats:n,longFormatters:r,lib:o}=e;this.locale=t,this.formats=(0,Yt.A)({},pI,n),this.longFormatters=r,this.lib=o||"date-fns"}}class fI extends hI{constructor(){let{locale:e,formats:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super({locale:e??dC,formats:t,longFormatters:cI()}),this.parse=(e,t)=>""===e?null:lI(e,t,new Date,{locale:this.locale}),this.isValid=e=>null!=e&&EA(e),this.format=(e,t)=>this.formatByString(e,this.formats[t]),this.formatByString=(e,t)=>vC(e,t,{locale:this.locale}),this.isEqual=(e,t)=>null===e&&null===t||null!==e&&null!==t&&function(e,t){bA(2,arguments);var n=xA(e),r=xA(t);return n.getTime()===r.getTime()}(e,t),this.isSameYear=(e,t)=>function(e,t){bA(2,arguments);var n=xA(e),r=xA(t);return n.getFullYear()===r.getFullYear()}(e,t),this.isSameMonth=(e,t)=>function(e,t){bA(2,arguments);var n=xA(e),r=xA(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}(e,t),this.isSameDay=(e,t)=>function(e,t){bA(2,arguments);var n=AC(e),r=AC(t);return n.getTime()===r.getTime()}(e,t),this.isSameHour=(e,t)=>function(e,t){bA(2,arguments);var n=CC(e),r=CC(t);return n.getTime()===r.getTime()}(e,t),this.isAfter=(e,t)=>kC(e,t),this.isAfterYear=(e,t)=>kC(e,IA(t)),this.isAfterDay=(e,t)=>kC(e,AA(t)),this.isBefore=(e,t)=>SC(e,t),this.isBeforeYear=(e,t)=>SC(e,this.startOfYear(t)),this.isBeforeDay=(e,t)=>SC(e,this.startOfDay(t)),this.isWithinRange=(e,t)=>{let[n,r]=t;return function(e,t){bA(2,arguments);var n=xA(e).getTime(),r=xA(t.start).getTime(),o=xA(t.end).getTime();if(!(r<=o))throw new RangeError("Invalid interval");return n>=r&&n<=o}(e,{start:n,end:r})},this.startOfYear=e=>function(e){bA(1,arguments);var t=xA(e),n=new Date(0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}(e),this.startOfMonth=e=>function(e){bA(1,arguments);var t=xA(e);return t.setDate(1),t.setHours(0,0,0,0),t}(e),this.startOfWeek=e=>xC(e,{locale:this.locale}),this.startOfDay=e=>AC(e),this.endOfYear=e=>IA(e),this.endOfMonth=e=>function(e){bA(1,arguments);var t=xA(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}(e),this.endOfWeek=e=>function(e,t){var n,r,o,a,i,s,l,u;bA(1,arguments);var c=TA(),d=yA(null!==(n=null!==(r=null!==(o=null!==(a=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==a?a:null===t||void 0===t||null===(i=t.locale)||void 0===i||null===(s=i.options)||void 0===s?void 0:s.weekStartsOn)&&void 0!==o?o:c.weekStartsOn)&&void 0!==r?r:null===(l=c.locale)||void 0===l||null===(u=l.options)||void 0===u?void 0:u.weekStartsOn)&&void 0!==n?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=xA(e),h=p.getDay(),f=6+(h<d?-7:0)-(h-d);return p.setDate(p.getDate()+f),p.setHours(23,59,59,999),p}(e,{locale:this.locale}),this.endOfDay=e=>AA(e),this.addYears=(e,t)=>function(e,t){return bA(2,arguments),SA(e,12*yA(t))}(e,t),this.addMonths=(e,t)=>SA(e,t),this.addWeeks=(e,t)=>function(e,t){return bA(2,arguments),wA(e,7*yA(t))}(e,t),this.addDays=(e,t)=>wA(e,t),this.addHours=(e,t)=>function(e,t){return bA(2,arguments),kA(e,36e5*yA(t))}(e,t),this.addMinutes=(e,t)=>function(e,t){return bA(2,arguments),kA(e,6e4*yA(t))}(e,t),this.addSeconds=(e,t)=>function(e,t){return bA(2,arguments),kA(e,1e3*yA(t))}(e,t),this.getYear=e=>function(e){return bA(1,arguments),xA(e).getFullYear()}(e),this.getMonth=e=>function(e){return bA(1,arguments),xA(e).getMonth()}(e),this.getDate=e=>function(e){return bA(1,arguments),xA(e).getDate()}(e),this.getHours=e=>function(e){return bA(1,arguments),xA(e).getHours()}(e),this.getMinutes=e=>function(e){return bA(1,arguments),xA(e).getMinutes()}(e),this.getSeconds=e=>function(e){return bA(1,arguments),xA(e).getSeconds()}(e),this.getMilliseconds=e=>function(e){return bA(1,arguments),xA(e).getMilliseconds()}(e),this.setYear=(e,t)=>function(e,t){bA(2,arguments);var n=xA(e),r=yA(t);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(r),n)}(e,t),this.setMonth=(e,t)=>function(e,t){bA(2,arguments);var n=xA(e),r=yA(t),o=n.getFullYear(),a=n.getDate(),i=new Date(0);i.setFullYear(o,r,15),i.setHours(0,0,0,0);var s=bC(i);return n.setMonth(r,Math.min(a,s)),n}(e,t),this.setDate=(e,t)=>function(e,t){bA(2,arguments);var n=xA(e),r=yA(t);return n.setDate(r),n}(e,t),this.setHours=(e,t)=>function(e,t){bA(2,arguments);var n=xA(e),r=yA(t);return n.setHours(r),n}(e,t),this.setMinutes=(e,t)=>function(e,t){bA(2,arguments);var n=xA(e),r=yA(t);return n.setMinutes(r),n}(e,t),this.setSeconds=(e,t)=>function(e,t){bA(2,arguments);var n=xA(e),r=yA(t);return n.setSeconds(r),n}(e,t),this.setMilliseconds=(e,t)=>function(e,t){bA(2,arguments);var n=xA(e),r=yA(t);return n.setMilliseconds(r),n}(e,t),this.getDaysInMonth=e=>bC(e),this.getWeekArray=e=>{const t=this.startOfWeek(this.startOfMonth(e)),n=this.endOfWeek(this.endOfMonth(e));let r=0,o=t;const a=[];for(;this.isBefore(o,n);){const e=Math.floor(r/7);a[e]=a[e]||[],a[e].push(o),o=this.addDays(o,1),r+=1}return a},this.getWeekNumber=e=>function(e,t){bA(1,arguments);var n=xA(e),r=xC(n,t).getTime()-wC(n,t).getTime();return Math.round(r/6048e5)+1}(e,{locale:this.locale}),this.getYearRange=e=>{let[t,n]=e;const r=this.startOfYear(t),o=this.endOfYear(n),a=[];let i=r;for(;this.isBefore(i,o);)a.push(i),i=this.addYears(i,1);return a}}}function mI(e,t){if(void 0!==e.one&&1===t)return e.one;var n=t%10,r=t%100;return 1===n&&11!==r?e.singularNominative.replace("{{count}}",String(t)):n>=2&&n<=4&&(r<10||r>20)?e.singularGenitive.replace("{{count}}",String(t)):e.pluralGenitive.replace("{{count}}",String(t))}function gI(e){return function(t,n){return null!==n&&void 0!==n&&n.addSuffix?n.comparison&&n.comparison>0?e.future?mI(e.future,t):"\u0447\u0435\u0440\u0435\u0437 "+mI(e.regular,t):e.past?mI(e.past,t):mI(e.regular,t)+" \u043d\u0430\u0437\u0430\u0434":mI(e.regular,t)}}var yI={lessThanXSeconds:gI({regular:{one:"\u043c\u0435\u043d\u044c\u0448\u0435 \u0441\u0435\u043a\u0443\u043d\u0434\u044b",singularNominative:"\u043c\u0435\u043d\u044c\u0448\u0435 {{count}} \u0441\u0435\u043a\u0443\u043d\u0434\u044b",singularGenitive:"\u043c\u0435\u043d\u044c\u0448\u0435 {{count}} \u0441\u0435\u043a\u0443\u043d\u0434",pluralGenitive:"\u043c\u0435\u043d\u044c\u0448\u0435 {{count}} \u0441\u0435\u043a\u0443\u043d\u0434"},future:{one:"\u043c\u0435\u043d\u044c\u0448\u0435, \u0447\u0435\u043c \u0447\u0435\u0440\u0435\u0437 \u0441\u0435\u043a\u0443\u043d\u0434\u0443",singularNominative:"\u043c\u0435\u043d\u044c\u0448\u0435, \u0447\u0435\u043c \u0447\u0435\u0440\u0435\u0437 {{count}} \u0441\u0435\u043a\u0443\u043d\u0434\u0443",singularGenitive:"\u043c\u0435\u043d\u044c\u0448\u0435, \u0447\u0435\u043c \u0447\u0435\u0440\u0435\u0437 {{count}} \u0441\u0435\u043a\u0443\u043d\u0434\u044b",pluralGenitive:"\u043c\u0435\u043d\u044c\u0448\u0435, \u0447\u0435\u043c \u0447\u0435\u0440\u0435\u0437 {{count}} \u0441\u0435\u043a\u0443\u043d\u0434"}}),xSeconds:gI({regular:{singularNominative:"{{count}} \u0441\u0435\u043a\u0443\u043d\u0434\u0430",singularGenitive:"{{count}} \u0441\u0435\u043a\u0443\u043d\u0434\u044b",pluralGenitive:"{{count}} \u0441\u0435\u043a\u0443\u043d\u0434"},past:{singularNominative:"{{count}} \u0441\u0435\u043a\u0443\u043d\u0434\u0443 \u043d\u0430\u0437\u0430\u0434",singularGenitive:"{{count}} \u0441\u0435\u043a\u0443\u043d\u0434\u044b \u043d\u0430\u0437\u0430\u0434",pluralGenitive:"{{count}} \u0441\u0435\u043a\u0443\u043d\u0434 \u043d\u0430\u0437\u0430\u0434"},future:{singularNominative:"\u0447\u0435\u0440\u0435\u0437 {{count}} \u0441\u0435\u043a\u0443\u043d\u0434\u0443",singularGenitive:"\u0447\u0435\u0440\u0435\u0437 {{count}} \u0441\u0435\u043a\u0443\u043d\u0434\u044b",pluralGenitive:"\u0447\u0435\u0440\u0435\u0437 {{count}} \u0441\u0435\u043a\u0443\u043d\u0434"}}),halfAMinute:function(e,t){return null!==t&&void 0!==t&&t.addSuffix?t.comparison&&t.comparison>0?"\u0447\u0435\u0440\u0435\u0437 \u043f\u043e\u043b\u043c\u0438\u043d\u0443\u0442\u044b":"\u043f\u043e\u043b\u043c\u0438\u043d\u0443\u0442\u044b \u043d\u0430\u0437\u0430\u0434":"\u043f\u043e\u043b\u043c\u0438\u043d\u0443\u0442\u044b"},lessThanXMinutes:gI({regular:{one:"\u043c\u0435\u043d\u044c\u0448\u0435 \u043c\u0438\u043d\u0443\u0442\u044b",singularNominative:"\u043c\u0435\u043d\u044c\u0448\u0435 {{count}} \u043c\u0438\u043d\u0443\u0442\u044b",singularGenitive:"\u043c\u0435\u043d\u044c\u0448\u0435 {{count}} \u043c\u0438\u043d\u0443\u0442",pluralGenitive:"\u043c\u0435\u043d\u044c\u0448\u0435 {{count}} \u043c\u0438\u043d\u0443\u0442"},future:{one:"\u043c\u0435\u043d\u044c\u0448\u0435, \u0447\u0435\u043c \u0447\u0435\u0440\u0435\u0437 \u043c\u0438\u043d\u0443\u0442\u0443",singularNominative:"\u043c\u0435\u043d\u044c\u0448\u0435, \u0447\u0435\u043c \u0447\u0435\u0440\u0435\u0437 {{count}} \u043c\u0438\u043d\u0443\u0442\u0443",singularGenitive:"\u043c\u0435\u043d\u044c\u0448\u0435, \u0447\u0435\u043c \u0447\u0435\u0440\u0435\u0437 {{count}} \u043c\u0438\u043d\u0443\u0442\u044b",pluralGenitive:"\u043c\u0435\u043d\u044c\u0448\u0435, \u0447\u0435\u043c \u0447\u0435\u0440\u0435\u0437 {{count}} \u043c\u0438\u043d\u0443\u0442"}}),xMinutes:gI({regular:{singularNominative:"{{count}} \u043c\u0438\u043d\u0443\u0442\u0430",singularGenitive:"{{count}} \u043c\u0438\u043d\u0443\u0442\u044b",pluralGenitive:"{{count}} \u043c\u0438\u043d\u0443\u0442"},past:{singularNominative:"{{count}} \u043c\u0438\u043d\u0443\u0442\u0443 \u043d\u0430\u0437\u0430\u0434",singularGenitive:"{{count}} \u043c\u0438\u043d\u0443\u0442\u044b \u043d\u0430\u0437\u0430\u0434",pluralGenitive:"{{count}} \u043c\u0438\u043d\u0443\u0442 \u043d\u0430\u0437\u0430\u0434"},future:{singularNominative:"\u0447\u0435\u0440\u0435\u0437 {{count}} \u043c\u0438\u043d\u0443\u0442\u0443",singularGenitive:"\u0447\u0435\u0440\u0435\u0437 {{count}} \u043c\u0438\u043d\u0443\u0442\u044b",pluralGenitive:"\u0447\u0435\u0440\u0435\u0437 {{count}} \u043c\u0438\u043d\u0443\u0442"}}),aboutXHours:gI({regular:{singularNominative:"\u043e\u043a\u043e\u043b\u043e {{count}} \u0447\u0430\u0441\u0430",singularGenitive:"\u043e\u043a\u043e\u043b\u043e {{count}} \u0447\u0430\u0441\u043e\u0432",pluralGenitive:"\u043e\u043a\u043e\u043b\u043e {{count}} \u0447\u0430\u0441\u043e\u0432"},future:{singularNominative:"\u043f\u0440\u0438\u0431\u043b\u0438\u0437\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0447\u0435\u0440\u0435\u0437 {{count}} \u0447\u0430\u0441",singularGenitive:"\u043f\u0440\u0438\u0431\u043b\u0438\u0437\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0447\u0435\u0440\u0435\u0437 {{count}} \u0447\u0430\u0441\u0430",pluralGenitive:"\u043f\u0440\u0438\u0431\u043b\u0438\u0437\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0447\u0435\u0440\u0435\u0437 {{count}} \u0447\u0430\u0441\u043e\u0432"}}),xHours:gI({regular:{singularNominative:"{{count}} \u0447\u0430\u0441",singularGenitive:"{{count}} \u0447\u0430\u0441\u0430",pluralGenitive:"{{count}} \u0447\u0430\u0441\u043e\u0432"}}),xDays:gI({regular:{singularNominative:"{{count}} \u0434\u0435\u043d\u044c",singularGenitive:"{{count}} \u0434\u043d\u044f",pluralGenitive:"{{count}} \u0434\u043d\u0435\u0439"}}),aboutXWeeks:gI({regular:{singularNominative:"\u043e\u043a\u043e\u043b\u043e {{count}} \u043d\u0435\u0434\u0435\u043b\u0438",singularGenitive:"\u043e\u043a\u043e\u043b\u043e {{count}} \u043d\u0435\u0434\u0435\u043b\u044c",pluralGenitive:"\u043e\u043a\u043e\u043b\u043e {{count}} \u043d\u0435\u0434\u0435\u043b\u044c"},future:{singularNominative:"\u043f\u0440\u0438\u0431\u043b\u0438\u0437\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0447\u0435\u0440\u0435\u0437 {{count}} \u043d\u0435\u0434\u0435\u043b\u044e",singularGenitive:"\u043f\u0440\u0438\u0431\u043b\u0438\u0437\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0447\u0435\u0440\u0435\u0437 {{count}} \u043d\u0435\u0434\u0435\u043b\u0438",pluralGenitive:"\u043f\u0440\u0438\u0431\u043b\u0438\u0437\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0447\u0435\u0440\u0435\u0437 {{count}} \u043d\u0435\u0434\u0435\u043b\u044c"}}),xWeeks:gI({regular:{singularNominative:"{{count}} \u043d\u0435\u0434\u0435\u043b\u044f",singularGenitive:"{{count}} \u043d\u0435\u0434\u0435\u043b\u0438",pluralGenitive:"{{count}} \u043d\u0435\u0434\u0435\u043b\u044c"}}),aboutXMonths:gI({regular:{singularNominative:"\u043e\u043a\u043e\u043b\u043e {{count}} \u043c\u0435\u0441\u044f\u0446\u0430",singularGenitive:"\u043e\u043a\u043e\u043b\u043e {{count}} \u043c\u0435\u0441\u044f\u0446\u0435\u0432",pluralGenitive:"\u043e\u043a\u043e\u043b\u043e {{count}} \u043c\u0435\u0441\u044f\u0446\u0435\u0432"},future:{singularNominative:"\u043f\u0440\u0438\u0431\u043b\u0438\u0437\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0447\u0435\u0440\u0435\u0437 {{count}} \u043c\u0435\u0441\u044f\u0446",singularGenitive:"\u043f\u0440\u0438\u0431\u043b\u0438\u0437\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0447\u0435\u0440\u0435\u0437 {{count}} \u043c\u0435\u0441\u044f\u0446\u0430",pluralGenitive:"\u043f\u0440\u0438\u0431\u043b\u0438\u0437\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0447\u0435\u0440\u0435\u0437 {{count}} \u043c\u0435\u0441\u044f\u0446\u0435\u0432"}}),xMonths:gI({regular:{singularNominative:"{{count}} \u043c\u0435\u0441\u044f\u0446",singularGenitive:"{{count}} \u043c\u0435\u0441\u044f\u0446\u0430",pluralGenitive:"{{count}} \u043c\u0435\u0441\u044f\u0446\u0435\u0432"}}),aboutXYears:gI({regular:{singularNominative:"\u043e\u043a\u043e\u043b\u043e {{count}} \u0433\u043e\u0434\u0430",singularGenitive:"\u043e\u043a\u043e\u043b\u043e {{count}} \u043b\u0435\u0442",pluralGenitive:"\u043e\u043a\u043e\u043b\u043e {{count}} \u043b\u0435\u0442"},future:{singularNominative:"\u043f\u0440\u0438\u0431\u043b\u0438\u0437\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0447\u0435\u0440\u0435\u0437 {{count}} \u0433\u043e\u0434",singularGenitive:"\u043f\u0440\u0438\u0431\u043b\u0438\u0437\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0447\u0435\u0440\u0435\u0437 {{count}} \u0433\u043e\u0434\u0430",pluralGenitive:"\u043f\u0440\u0438\u0431\u043b\u0438\u0437\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0447\u0435\u0440\u0435\u0437 {{count}} \u043b\u0435\u0442"}}),xYears:gI({regular:{singularNominative:"{{count}} \u0433\u043e\u0434",singularGenitive:"{{count}} \u0433\u043e\u0434\u0430",pluralGenitive:"{{count}} \u043b\u0435\u0442"}}),overXYears:gI({regular:{singularNominative:"\u0431\u043e\u043b\u044c\u0448\u0435 {{count}} \u0433\u043e\u0434\u0430",singularGenitive:"\u0431\u043e\u043b\u044c\u0448\u0435 {{count}} \u043b\u0435\u0442",pluralGenitive:"\u0431\u043e\u043b\u044c\u0448\u0435 {{count}} \u043b\u0435\u0442"},future:{singularNominative:"\u0431\u043e\u043b\u044c\u0448\u0435, \u0447\u0435\u043c \u0447\u0435\u0440\u0435\u0437 {{count}} \u0433\u043e\u0434",singularGenitive:"\u0431\u043e\u043b\u044c\u0448\u0435, \u0447\u0435\u043c \u0447\u0435\u0440\u0435\u0437 {{count}} \u0433\u043e\u0434\u0430",pluralGenitive:"\u0431\u043e\u043b\u044c\u0448\u0435, \u0447\u0435\u043c \u0447\u0435\u0440\u0435\u0437 {{count}} \u043b\u0435\u0442"}}),almostXYears:gI({regular:{singularNominative:"\u043f\u043e\u0447\u0442\u0438 {{count}} \u0433\u043e\u0434",singularGenitive:"\u043f\u043e\u0447\u0442\u0438 {{count}} \u0433\u043e\u0434\u0430",pluralGenitive:"\u043f\u043e\u0447\u0442\u0438 {{count}} \u043b\u0435\u0442"},future:{singularNominative:"\u043f\u043e\u0447\u0442\u0438 \u0447\u0435\u0440\u0435\u0437 {{count}} \u0433\u043e\u0434",singularGenitive:"\u043f\u043e\u0447\u0442\u0438 \u0447\u0435\u0440\u0435\u0437 {{count}} \u0433\u043e\u0434\u0430",pluralGenitive:"\u043f\u043e\u0447\u0442\u0438 \u0447\u0435\u0440\u0435\u0437 {{count}} \u043b\u0435\u0442"}})};const vI=function(e,t,n){return yI[e](t,n)};var bI={date:aC({formats:{full:"EEEE, d MMMM y '\u0433.'",long:"d MMMM y '\u0433.'",medium:"d MMM y '\u0433.'",short:"dd.MM.y"},defaultWidth:"full"}),time:aC({formats:{full:"H:mm:ss zzzz",long:"H:mm:ss z",medium:"H:mm:ss",short:"H:mm"},defaultWidth:"full"}),dateTime:aC({formats:{any:"{{date}}, {{time}}"},defaultWidth:"any"})};function xI(e,t,n){bA(2,arguments);var r=RA(e,n),o=RA(t,n);return r.getTime()===o.getTime()}var wI=["\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435","\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a","\u0432\u0442\u043e\u0440\u043d\u0438\u043a","\u0441\u0440\u0435\u0434\u0443","\u0447\u0435\u0442\u0432\u0435\u0440\u0433","\u043f\u044f\u0442\u043d\u0438\u0446\u0443","\u0441\u0443\u0431\u0431\u043e\u0442\u0443"];function kI(e){var t=wI[e];return 2===e?"'\u0432\u043e "+t+" \u0432' p":"'\u0432 "+t+" \u0432' p"}var SI={lastWeek:function(e,t,n){var r=e.getUTCDay();return xI(e,t,n)?kI(r):function(e){var t=wI[e];switch(e){case 0:return"'\u0432 \u043f\u0440\u043e\u0448\u043b\u043e\u0435 "+t+" \u0432' p";case 1:case 2:case 4:return"'\u0432 \u043f\u0440\u043e\u0448\u043b\u044b\u0439 "+t+" \u0432' p";case 3:case 5:case 6:return"'\u0432 \u043f\u0440\u043e\u0448\u043b\u0443\u044e "+t+" \u0432' p"}}(r)},yesterday:"'\u0432\u0447\u0435\u0440\u0430 \u0432' p",today:"'\u0441\u0435\u0433\u043e\u0434\u043d\u044f \u0432' p",tomorrow:"'\u0437\u0430\u0432\u0442\u0440\u0430 \u0432' p",nextWeek:function(e,t,n){var r=e.getUTCDay();return xI(e,t,n)?kI(r):function(e){var t=wI[e];switch(e){case 0:return"'\u0432 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0435 "+t+" \u0432' p";case 1:case 2:case 4:return"'\u0432 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 "+t+" \u0432' p";case 3:case 5:case 6:return"'\u0432 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0443\u044e "+t+" \u0432' p"}}(r)},other:"P"};const AI={code:"ru",formatDistance:vI,formatLong:bI,formatRelative:function(e,t,n,r){var o=SI[e];return"function"===typeof o?o(t,n,r):o},localize:{ordinalNumber:function(e,t){var n=Number(e),r=null===t||void 0===t?void 0:t.unit;return n+("date"===r?"-\u0435":"week"===r||"minute"===r||"second"===r?"-\u044f":"-\u0439")},era:lC({values:{narrow:["\u0434\u043e \u043d.\u044d.","\u043d.\u044d."],abbreviated:["\u0434\u043e \u043d. \u044d.","\u043d. \u044d."],wide:["\u0434\u043e \u043d\u0430\u0448\u0435\u0439 \u044d\u0440\u044b","\u043d\u0430\u0448\u0435\u0439 \u044d\u0440\u044b"]},defaultWidth:"wide"}),quarter:lC({values:{narrow:["1","2","3","4"],abbreviated:["1-\u0439 \u043a\u0432.","2-\u0439 \u043a\u0432.","3-\u0439 \u043a\u0432.","4-\u0439 \u043a\u0432."],wide:["1-\u0439 \u043a\u0432\u0430\u0440\u0442\u0430\u043b","2-\u0439 \u043a\u0432\u0430\u0440\u0442\u0430\u043b","3-\u0439 \u043a\u0432\u0430\u0440\u0442\u0430\u043b","4-\u0439 \u043a\u0432\u0430\u0440\u0442\u0430\u043b"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:lC({values:{narrow:["\u042f","\u0424","\u041c","\u0410","\u041c","\u0418","\u0418","\u0410","\u0421","\u041e","\u041d","\u0414"],abbreviated:["\u044f\u043d\u0432.","\u0444\u0435\u0432.","\u043c\u0430\u0440\u0442","\u0430\u043f\u0440.","\u043c\u0430\u0439","\u0438\u044e\u043d\u044c","\u0438\u044e\u043b\u044c","\u0430\u0432\u0433.","\u0441\u0435\u043d\u0442.","\u043e\u043a\u0442.","\u043d\u043e\u044f\u0431.","\u0434\u0435\u043a."],wide:["\u044f\u043d\u0432\u0430\u0440\u044c","\u0444\u0435\u0432\u0440\u0430\u043b\u044c","\u043c\u0430\u0440\u0442","\u0430\u043f\u0440\u0435\u043b\u044c","\u043c\u0430\u0439","\u0438\u044e\u043d\u044c","\u0438\u044e\u043b\u044c","\u0430\u0432\u0433\u0443\u0441\u0442","\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c","\u043e\u043a\u0442\u044f\u0431\u0440\u044c","\u043d\u043e\u044f\u0431\u0440\u044c","\u0434\u0435\u043a\u0430\u0431\u0440\u044c"]},defaultWidth:"wide",formattingValues:{narrow:["\u042f","\u0424","\u041c","\u0410","\u041c","\u0418","\u0418","\u0410","\u0421","\u041e","\u041d","\u0414"],abbreviated:["\u044f\u043d\u0432.","\u0444\u0435\u0432.","\u043c\u0430\u0440.","\u0430\u043f\u0440.","\u043c\u0430\u044f","\u0438\u044e\u043d.","\u0438\u044e\u043b.","\u0430\u0432\u0433.","\u0441\u0435\u043d\u0442.","\u043e\u043a\u0442.","\u043d\u043e\u044f\u0431.","\u0434\u0435\u043a."],wide:["\u044f\u043d\u0432\u0430\u0440\u044f","\u0444\u0435\u0432\u0440\u0430\u043b\u044f","\u043c\u0430\u0440\u0442\u0430","\u0430\u043f\u0440\u0435\u043b\u044f","\u043c\u0430\u044f","\u0438\u044e\u043d\u044f","\u0438\u044e\u043b\u044f","\u0430\u0432\u0433\u0443\u0441\u0442\u0430","\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f","\u043e\u043a\u0442\u044f\u0431\u0440\u044f","\u043d\u043e\u044f\u0431\u0440\u044f","\u0434\u0435\u043a\u0430\u0431\u0440\u044f"]},defaultFormattingWidth:"wide"}),day:lC({values:{narrow:["\u0412","\u041f","\u0412","\u0421","\u0427","\u041f","\u0421"],short:["\u0432\u0441","\u043f\u043d","\u0432\u0442","\u0441\u0440","\u0447\u0442","\u043f\u0442","\u0441\u0431"],abbreviated:["\u0432\u0441\u043a","\u043f\u043d\u0434","\u0432\u0442\u0440","\u0441\u0440\u0434","\u0447\u0442\u0432","\u043f\u0442\u043d","\u0441\u0443\u0431"],wide:["\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435","\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a","\u0432\u0442\u043e\u0440\u043d\u0438\u043a","\u0441\u0440\u0435\u0434\u0430","\u0447\u0435\u0442\u0432\u0435\u0440\u0433","\u043f\u044f\u0442\u043d\u0438\u0446\u0430","\u0441\u0443\u0431\u0431\u043e\u0442\u0430"]},defaultWidth:"wide"}),dayPeriod:lC({values:{narrow:{am:"\u0414\u041f",pm:"\u041f\u041f",midnight:"\u043f\u043e\u043b\u043d.",noon:"\u043f\u043e\u043b\u0434.",morning:"\u0443\u0442\u0440\u043e",afternoon:"\u0434\u0435\u043d\u044c",evening:"\u0432\u0435\u0447.",night:"\u043d\u043e\u0447\u044c"},abbreviated:{am:"\u0414\u041f",pm:"\u041f\u041f",midnight:"\u043f\u043e\u043b\u043d.",noon:"\u043f\u043e\u043b\u0434.",morning:"\u0443\u0442\u0440\u043e",afternoon:"\u0434\u0435\u043d\u044c",evening:"\u0432\u0435\u0447.",night:"\u043d\u043e\u0447\u044c"},wide:{am:"\u0414\u041f",pm:"\u041f\u041f",midnight:"\u043f\u043e\u043b\u043d\u043e\u0447\u044c",noon:"\u043f\u043e\u043b\u0434\u0435\u043d\u044c",morning:"\u0443\u0442\u0440\u043e",afternoon:"\u0434\u0435\u043d\u044c",evening:"\u0432\u0435\u0447\u0435\u0440",night:"\u043d\u043e\u0447\u044c"}},defaultWidth:"any",formattingValues:{narrow:{am:"\u0414\u041f",pm:"\u041f\u041f",midnight:"\u043f\u043e\u043b\u043d.",noon:"\u043f\u043e\u043b\u0434.",morning:"\u0443\u0442\u0440\u0430",afternoon:"\u0434\u043d\u044f",evening:"\u0432\u0435\u0447.",night:"\u043d\u043e\u0447\u0438"},abbreviated:{am:"\u0414\u041f",pm:"\u041f\u041f",midnight:"\u043f\u043e\u043b\u043d.",noon:"\u043f\u043e\u043b\u0434.",morning:"\u0443\u0442\u0440\u0430",afternoon:"\u0434\u043d\u044f",evening:"\u0432\u0435\u0447.",night:"\u043d\u043e\u0447\u0438"},wide:{am:"\u0414\u041f",pm:"\u041f\u041f",midnight:"\u043f\u043e\u043b\u043d\u043e\u0447\u044c",noon:"\u043f\u043e\u043b\u0434\u0435\u043d\u044c",morning:"\u0443\u0442\u0440\u0430",afternoon:"\u0434\u043d\u044f",evening:"\u0432\u0435\u0447\u0435\u0440\u0430",night:"\u043d\u043e\u0447\u0438"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:cC({matchPattern:/^(\d+)(-?(\u0435|\u044f|\u0439|\u043e\u0435|\u044c\u0435|\u0430\u044f|\u044c\u044f|\u044b\u0439|\u043e\u0439|\u0438\u0439|\u044b\u0439))?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}}),era:uC({matchPatterns:{narrow:/^((\u0434\u043e )?\u043d\.?\s?\u044d\.?)/i,abbreviated:/^((\u0434\u043e )?\u043d\.?\s?\u044d\.?)/i,wide:/^(\u0434\u043e \u043d\u0430\u0448\u0435\u0439 \u044d\u0440\u044b|\u043d\u0430\u0448\u0435\u0439 \u044d\u0440\u044b|\u043d\u0430\u0448\u0430 \u044d\u0440\u0430)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^\u0434/i,/^\u043d/i]},defaultParseWidth:"any"}),quarter:uC({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^[1234](-?[\u044b\u043e\u0438]?\u0439?)? \u043a\u0432.?/i,wide:/^[1234](-?[\u044b\u043e\u0438]?\u0439?)? \u043a\u0432\u0430\u0440\u0442\u0430\u043b/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:uC({matchPatterns:{narrow:/^[\u044f\u0444\u043c\u0430\u0438\u0441\u043e\u043d\u0434]/i,abbreviated:/^(\u044f\u043d\u0432|\u0444\u0435\u0432|\u043c\u0430\u0440\u0442?|\u0430\u043f\u0440|\u043c\u0430[\u0439\u044f]|\u0438\u044e\u043d[\u044c\u044f]?|\u0438\u044e\u043b[\u044c\u044f]?|\u0430\u0432\u0433|\u0441\u0435\u043d\u0442?|\u043e\u043a\u0442|\u043d\u043e\u044f\u0431?|\u0434\u0435\u043a)\.?/i,wide:/^(\u044f\u043d\u0432\u0430\u0440[\u044c\u044f]|\u0444\u0435\u0432\u0440\u0430\u043b[\u044c\u044f]|\u043c\u0430\u0440\u0442\u0430?|\u0430\u043f\u0440\u0435\u043b[\u044c\u044f]|\u043c\u0430[\u0439\u044f]|\u0438\u044e\u043d[\u044c\u044f]|\u0438\u044e\u043b[\u044c\u044f]|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044c\u044f]|\u043e\u043a\u0442\u044f\u0431\u0440[\u044c\u044f]|\u043e\u043a\u0442\u044f\u0431\u0440[\u044c\u044f]|\u043d\u043e\u044f\u0431\u0440[\u044c\u044f]|\u0434\u0435\u043a\u0430\u0431\u0440[\u044c\u044f])/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^\u044f/i,/^\u0444/i,/^\u043c/i,/^\u0430/i,/^\u043c/i,/^\u0438/i,/^\u0438/i,/^\u0430/i,/^\u0441/i,/^\u043e/i,/^\u043d/i,/^\u044f/i],any:[/^\u044f/i,/^\u0444/i,/^\u043c\u0430\u0440/i,/^\u0430\u043f/i,/^\u043c\u0430[\u0439\u044f]/i,/^\u0438\u044e\u043d/i,/^\u0438\u044e\u043b/i,/^\u0430\u0432/i,/^\u0441/i,/^\u043e/i,/^\u043d/i,/^\u0434/i]},defaultParseWidth:"any"}),day:uC({matchPatterns:{narrow:/^[\u0432\u043f\u0441\u0447]/i,short:/^(\u0432\u0441|\u0432\u043e|\u043f\u043d|\u043f\u043e|\u0432\u0442|\u0441\u0440|\u0447\u0442|\u0447\u0435|\u043f\u0442|\u043f\u044f|\u0441\u0431|\u0441\u0443)\.?/i,abbreviated:/^(\u0432\u0441\u043a|\u0432\u043e\u0441|\u043f\u043d\u0434|\u043f\u043e\u043d|\u0432\u0442\u0440|\u0432\u0442\u043e|\u0441\u0440\u0434|\u0441\u0440\u0435|\u0447\u0442\u0432|\u0447\u0435\u0442|\u043f\u0442\u043d|\u043f\u044f\u0442|\u0441\u0443\u0431).?/i,wide:/^(\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c[\u0435\u044f]|\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a\u0430?|\u0432\u0442\u043e\u0440\u043d\u0438\u043a\u0430?|\u0441\u0440\u0435\u0434[\u0430\u044b]|\u0447\u0435\u0442\u0432\u0435\u0440\u0433\u0430?|\u043f\u044f\u0442\u043d\u0438\u0446[\u0430\u044b]|\u0441\u0443\u0431\u0431\u043e\u0442[\u0430\u044b])/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^\u0432/i,/^\u043f/i,/^\u0432/i,/^\u0441/i,/^\u0447/i,/^\u043f/i,/^\u0441/i],any:[/^\u0432[\u043e\u0441]/i,/^\u043f[\u043e\u043d]/i,/^\u0432/i,/^\u0441\u0440/i,/^\u0447/i,/^\u043f[\u044f\u0442]/i,/^\u0441[\u0443\u0431]/i]},defaultParseWidth:"any"}),dayPeriod:uC({matchPatterns:{narrow:/^([\u0434\u043f]\u043f|\u043f\u043e\u043b\u043d\.?|\u043f\u043e\u043b\u0434\.?|\u0443\u0442\u0440[\u043e\u0430]|\u0434\u0435\u043d\u044c|\u0434\u043d\u044f|\u0432\u0435\u0447\.?|\u043d\u043e\u0447[\u044c\u0438])/i,abbreviated:/^([\u0434\u043f]\u043f|\u043f\u043e\u043b\u043d\.?|\u043f\u043e\u043b\u0434\.?|\u0443\u0442\u0440[\u043e\u0430]|\u0434\u0435\u043d\u044c|\u0434\u043d\u044f|\u0432\u0435\u0447\.?|\u043d\u043e\u0447[\u044c\u0438])/i,wide:/^([\u0434\u043f]\u043f|\u043f\u043e\u043b\u043d\u043e\u0447\u044c|\u043f\u043e\u043b\u0434\u0435\u043d\u044c|\u0443\u0442\u0440[\u043e\u0430]|\u0434\u0435\u043d\u044c|\u0434\u043d\u044f|\u0432\u0435\u0447\u0435\u0440\u0430?|\u043d\u043e\u0447[\u044c\u0438])/i},defaultMatchWidth:"wide",parsePatterns:{any:{am:/^\u0434\u043f/i,pm:/^\u043f\u043f/i,midnight:/^\u043f\u043e\u043b\u043d/i,noon:/^\u043f\u043e\u043b\u0434/i,morning:/^\u0443/i,afternoon:/^\u0434[\u0435\u043d]/i,evening:/^\u0432/i,night:/^\u043d/i}},defaultParseWidth:"any"})},options:{weekStartsOn:1,firstWeekContainsDate:1}};function CI(e){let{reloadClients:t,open:n,onClose:r,clients:o,setClient:a,client:i,presetAmounts:s=[2400,22e3,4e4],fetchDataPayList:l}=e;const[u,c]=(0,W.useState)(""),[d,p]=(0,W.useState)("\u0420\u0430\u0437\u043e\u0432\u0430\u044f"),[h,f]=(0,W.useState)(""),[m,g]=(0,W.useState)((()=>{const e=new Date;return e.setMonth(e.getMonth()+6),e})),[y,v]=(0,W.useState)(!1),[b,x]=(0,W.useState)(""),[w,k]=(0,W.useState)(new Date),[S,A]=(0,W.useState)([]),[C,T]=(0,W.useState)(1),I=JSON.parse(localStorage.getItem("user")),E=null===I||void 0===I?void 0:I.id,N=()=>{r(!1),a(null),c(""),p("\u0420\u0430\u0437\u043e\u0432\u0430\u044f"),f(""),x(""),v(!1),k(new Date);const e=new Date;e.setMonth(e.getMonth()+6),g(e)},O=()=>`pay_${(new Date).toISOString().split("T")[0].replace(/-/g,"")}_${Math.random().toString(36).substring(2,10)}`;return(0,sn.jsxs)(xm,{open:n,onClose:r,maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{borderRadius:3,p:2}},children:[(0,sn.jsxs)(Cm,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",pb:1},children:[(0,sn.jsx)(vs,{variant:"h6",sx:{fontWeight:700},children:"\u041d\u043e\u0432\u0430\u044f \u043e\u043f\u043b\u0430\u0442\u0430"}),(0,sn.jsx)(Ns,{onClick:N,children:(0,sn.jsx)(ny,{})})]}),(0,sn.jsxs)(Nm,{dividers:!0,children:[(0,sn.jsxs)(ps,{sx:{mb:3},children:[(0,sn.jsx)(vs,{variant:"subtitle2",sx:{mb:1,fontWeight:600},children:"\u041a\u043b\u0438\u0435\u043d\u0442 *"}),(0,sn.jsx)(Xf,{options:Array.isArray(o)?o:[],getOptionLabel:e=>(null===e||void 0===e?void 0:e.name)||"",renderInput:e=>(0,sn.jsx)(rs,{...e,placeholder:"\u041d\u0430\u0447\u043d\u0438\u0442\u0435 \u0432\u0432\u043e\u0434\u0438\u0442\u044c \u0438\u043c\u044f",InputProps:{...e.InputProps,startAdornment:(0,sn.jsx)(cm,{sx:{mr:1,color:"action.active"}})}}),value:i,onChange:(e,t)=>{((null===o||void 0===o?void 0:o.length)||0)>1&&a(t)},openOnFocus:((null===o||void 0===o?void 0:o.length)||0)>1,disableClearable:!0,fullWidth:!0,disabled:0===((null===o||void 0===o?void 0:o.length)||0)})]}),(0,sn.jsxs)(ps,{sx:{mb:3},children:[(0,sn.jsx)(vs,{variant:"subtitle2",sx:{mb:1,fontWeight:600},children:"\u0421\u0443\u043c\u043c\u0430 \u043e\u043f\u043b\u0430\u0442\u044b *"}),(0,sn.jsx)(ps,{sx:{display:"flex",gap:2,mb:2},children:s.map((e=>(0,sn.jsxs)(rr,{variant:u===e.toString()?"contained":"outlined",onClick:()=>c(e.toString()),startIcon:(0,sn.jsx)(Yf,{}),sx:{borderRadius:2,textTransform:"none",minWidth:100},children:[e.toLocaleString("ru-RU")," \u20bd"]},e)))}),(0,sn.jsx)(rs,{label:"\u0418\u043b\u0438 \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0432\u043e\u044e \u0441\u0443\u043c\u043c\u0443",type:"number",fullWidth:!0,value:u,onChange:e=>c(e.target.value),InputProps:{startAdornment:(0,sn.jsx)(Yf,{sx:{mr:1,color:"action.active"}}),endAdornment:"\u20bd"}})]}),(0,sn.jsxs)(ps,{sx:{mb:3},children:[(0,sn.jsx)(vs,{variant:"subtitle2",sx:{mb:1,fontWeight:600},children:"\u0422\u0438\u043f \u043e\u043f\u043b\u0430\u0442\u044b *"}),(0,sn.jsxs)(rs,{select:!0,fullWidth:!0,value:d,onChange:e=>p(e.target.value),children:[(0,sn.jsx)(ul,{value:"\u0420\u0430\u0437\u043e\u0432\u0430\u044f",children:"\u0420\u0430\u0437\u043e\u0432\u0430\u044f \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0430"}),(0,sn.jsx)(ul,{value:"10 \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043e\u043a",children:"\u041f\u0430\u043a\u0435\u0442 10 \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043e\u043a"}),(0,sn.jsx)(ul,{value:"20 \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043e\u043a",children:"\u041f\u0430\u043a\u0435\u0442 20 \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043e\u043a"}),(0,sn.jsx)(ul,{value:"\u0414\u0440\u0443\u0433\u043e\u0435",children:"\u0414\u0440\u0443\u0433\u043e\u0435"})]}),"\u0414\u0440\u0443\u0433\u043e\u0435"===d&&(0,sn.jsxs)(ps,{sx:{mt:2,display:"flex",gap:"2px"},children:[(0,sn.jsx)(rs,{label:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043f\u0440\u0438\u0447\u0438\u043d\u0443",fullWidth:!0,value:b,onChange:e=>x(e.target.value),placeholder:"\u041a\u043e\u0440\u043f\u043e\u0440\u0430\u0442\u0438\u0432\u043d\u044b\u0439 \u043f\u0430\u043a\u0435\u0442 \u0438 \u0442.\u0434."}),(0,sn.jsx)(rs,{label:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043e\u043a",type:"number",fullWidth:!0,value:C,onChange:e=>{const t=Number(e.target.value);T(t>=1?t:1)},inputProps:{min:0},placeholder:"\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440: 8, 12, 20"})]})]}),(0,sn.jsxs)(ps,{sx:{mb:3},children:[(0,sn.jsx)(vs,{variant:"subtitle2",sx:{mb:1,fontWeight:600},children:"\u0414\u0430\u0442\u0430 \u043e\u043f\u043b\u0430\u0442\u044b *"}),(0,sn.jsx)(hb,{dateAdapter:fI,locale:AI,children:(0,sn.jsx)(gA,{value:w,onChange:e=>{if(k(e),!y&&e){const t=new Date(e);t.setMonth(t.getMonth()+6),g(t)}},renderInput:e=>(0,sn.jsx)(rs,{...e,fullWidth:!0}),inputFormat:"dd.MM.yyyy",components:{OpenPickerIcon:cv}})})]}),(d.includes("\u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043e\u043a")||"\u0414\u0440\u0443\u0433\u043e\u0435"===d)&&(0,sn.jsxs)(ps,{sx:{mb:3},children:[(0,sn.jsx)(vs,{variant:"subtitle2",sx:{mb:1,fontWeight:600},children:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u0435\u043d \u0434\u043e"}),(0,sn.jsx)(hb,{dateAdapter:fI,locale:AI,children:(0,sn.jsx)(gA,{value:m,onChange:e=>{g(e),v(!0)},renderInput:e=>(0,sn.jsx)(rs,{...e,fullWidth:!0,helperText:y?"":"\u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e: 6 \u043c\u0435\u0441\u044f\u0446\u0435\u0432 \u0441 \u0434\u0430\u0442\u044b \u043e\u043f\u043b\u0430\u0442\u044b"}),inputFormat:"dd.MM.yyyy",minDate:w})})]}),(0,sn.jsxs)(ps,{children:[(0,sn.jsx)(vs,{variant:"subtitle2",sx:{mb:1,fontWeight:600},children:"\u041f\u0440\u0438\u043c\u0435\u0447\u0430\u043d\u0438\u0435"}),(0,sn.jsx)(rs,{multiline:!0,rows:3,fullWidth:!0,placeholder:"\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440: \u043e\u043f\u043b\u0430\u0442\u0430 \u0437\u0430 \u0438\u044e\u043d\u044c, \u0441\u043a\u0438\u0434\u043a\u0430 10% \u0438 \u0442.\u0434.",value:h,onChange:e=>f(e.target.value)})]})]}),(0,sn.jsxs)(Rm,{sx:{p:2},children:[(0,sn.jsx)(rr,{onClick:N,sx:{color:"text.secondary",mr:2},children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),(0,sn.jsx)(rr,{onClick:async()=>{if(i&&u&&w){if(/\d/.test(b))return void Ud("errorNumber","error","\u0423\u0434\u0430\u043b\u0438\u0442\u0435 \u0446\u0438\u0444\u0440\u044b \u0438\u0437 \u043f\u0440\u0438\u0447\u0438\u043d\u044b!",1500);const n={id:O(),date:w.toISOString().split("T")[0],client:i.name,amount:parseInt(u),type:d,status:"\u0410\u043a\u0442\u0438\u0432\u0435\u043d",dateTo:m.toISOString().split("T")[0],customPaymentType:""!==b?C+" "+b:b,isExpiryDateManuallySet:y,notes:h,phone:i.phone,method:"card"};try{if(!(await qd("/payment_history","POST",{fromData:n,userId:E})).data.success)return void Ud("error","error","\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438\u043d\u044f\u0442\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445 \u0441 \u0441\u0435\u0440\u0432\u0435\u0440!",1e3);t&&t(),T(1),l()}catch(e){Ud("error","error","\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438\u043d\u044f\u0442\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445 \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440!",1e3)}A([n,...S]),N()}},variant:"contained",disabled:!i||!u,sx:{background:"linear-gradient(135deg, #6a11cb 0%, #2575fc 100%)",borderRadius:2,px:4,py:1},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u043e\u043f\u043b\u0430\u0442\u0443"})]})]})}const TI=(0,Vi.A)((0,sn.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack"),II=e=>{let{label:t,name:n,value:r,editing:o,onChange:a,icon:i,suffix:s,customDisplay:l,...u}=e;return(0,sn.jsxs)(ps,{sx:{background:"white",borderRadius:"8px",p:2,boxShadow:"0 2px 8px rgba(0,0,0,0.05)"},children:[(0,sn.jsxs)(ps,{display:"flex",alignItems:"center",mb:1,children:[i&&(0,sn.jsx)(mp,{sx:{width:24,height:24,mr:1,bgcolor:"primary.main",color:"primary.contrastText"},children:i}),(0,sn.jsx)(vs,{variant:"subtitle2",color:"textSecondary",children:t})]}),o?(0,sn.jsx)(rs,{name:n,value:r||"",onChange:a,fullWidth:!0,variant:"outlined",size:"small",InputProps:{endAdornment:s&&(0,sn.jsx)(vs,{variant:"body2",color:"textSecondary",sx:{ml:1},children:s})},...u}):l||(0,sn.jsxs)(vs,{variant:"body1",sx:{fontWeight:500,color:r?"text.primary":"text.disabled"},children:[r||"\u2014"," ",s]})]})},EI=e=>{let{open:t,onClose:n,payment:r,isEditing:o,setIsEditing:a,handleChange:i,handleSave:s,getFieldIcon:l,renderStatusChip:u}=e;const c=xa(),d=mv(c.breakpoints.down("sm"));return(0,sn.jsxs)(xm,{open:t,fullWidth:!0,maxWidth:"md",onClose:n,fullScreen:d,PaperProps:{sx:{borderRadius:d?0:"12px",background:c.palette.background.paper,boxShadow:c.shadows[10]}},children:[(0,sn.jsxs)(Cm,{sx:{background:c.palette.primary.main,color:c.palette.primary.contrastText,py:2,position:"relative"},children:[(0,sn.jsxs)(ps,{display:"flex",alignItems:"center",children:[d&&(0,sn.jsx)(Ns,{edge:"start",color:"inherit",onClick:n,sx:{mr:1},children:(0,sn.jsx)(TI,{})}),(0,sn.jsx)(vs,{variant:"h6",sx:{fontWeight:600},children:"\u0414\u0435\u0442\u0430\u043b\u0438 \u043f\u043b\u0430\u0442\u0435\u0436\u0430"})]}),!d&&(0,sn.jsx)(Ns,{onClick:n,sx:{position:"absolute",right:16,top:12,color:c.palette.primary.contrastText},children:(0,sn.jsx)(ny,{})})]}),(0,sn.jsx)(Nm,{dividers:!0,sx:{background:c.palette.grey[50]},children:(0,sn.jsxs)(cn,{elevation:0,sx:{p:3,borderRadius:2,background:"transparent"},children:[(0,sn.jsx)(ps,{display:"flex",justifyContent:"flex-end",mb:3,children:o?(0,sn.jsx)(rr,{variant:"contained",color:"primary",startIcon:(0,sn.jsx)(Il,{}),onClick:s,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f"}):(0,sn.jsx)(rr,{variant:"outlined",color:"primary",startIcon:(0,sn.jsx)(oy,{}),onClick:()=>a(!0),children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})}),(0,sn.jsxs)(ps,{display:"grid",gridTemplateColumns:d?"1fr":"repeat(2, 1fr)",gap:3,children:[(0,sn.jsx)(II,{label:"\u0421\u0443\u043c\u043c\u0430",name:"amount",value:null===r||void 0===r?void 0:r.amount,editing:o,onChange:i,icon:l("amount"),suffix:"\u20bd"}),(0,sn.jsx)(II,{label:"\u041a\u043b\u0438\u0435\u043d\u0442",name:"client",value:null===r||void 0===r?void 0:r.client,editing:o,onChange:i,icon:l("client")}),(0,sn.jsx)(II,{label:"\u0422\u0438\u043f \u043f\u043b\u0430\u0442\u0435\u0436\u0430",name:"customPaymentType",value:null===r||void 0===r?void 0:r.customPaymentType,editing:o,onChange:i,icon:l("customPaymentType")}),(0,sn.jsx)(II,{label:"\u0414\u0430\u0442\u0430",name:"date",value:null===r||void 0===r?void 0:r.date,editing:o,onChange:i,icon:l("date"),type:o?"date":"text"}),(0,sn.jsx)(II,{label:"\u0414\u0430\u0442\u0430 \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f",name:"dateTo",value:null===r||void 0===r?void 0:r.dateTo,editing:o,onChange:i,icon:l("dateTo"),type:o?"date":"text"}),(0,sn.jsx)(II,{label:"\u041c\u0435\u0442\u043e\u0434 \u043e\u043f\u043b\u0430\u0442\u044b",name:"method",value:null===r||void 0===r?void 0:r.method,editing:o,onChange:i,icon:l("method")}),(0,sn.jsx)(II,{label:"\u041f\u0440\u0438\u043c\u0435\u0447\u0430\u043d\u0438\u044f",name:"notes",value:null===r||void 0===r?void 0:r.notes,editing:o,onChange:i,icon:l("notes"),multiline:!0,rows:3}),(0,sn.jsx)(II,{label:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d",name:"phone",value:null===r||void 0===r?void 0:r.phone,editing:o,onChange:i,icon:l("phone")}),(0,sn.jsx)(II,{label:"\u0421\u0442\u0430\u0442\u0443\u0441",name:"status",value:null===r||void 0===r?void 0:r.status,editing:o,onChange:i,icon:l("status"),customDisplay:!o&&u(null===r||void 0===r?void 0:r.status)}),(0,sn.jsx)(II,{label:"\u0422\u0438\u043f",name:"type",value:null===r||void 0===r?void 0:r.type,editing:o,onChange:i,icon:l("type")})]})]})}),(0,sn.jsx)(Rm,{sx:{background:c.palette.grey[100],px:3,py:2},children:(0,sn.jsx)(rr,{onClick:n,children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"})})]})},NI=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n=nk,rootShouldForwardProp:r=tk,slotShouldForwardProp:o=tk}=e,a=e=>(0,as.A)((0,Yt.A)({},e,{theme:ok((0,Yt.A)({},e,{defaultTheme:n,themeId:t}))}));return a.__mui_systemSx=!0,function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,os.internal_processStyles)(e,(e=>e.filter((e=>!(null!=e&&e.__mui_systemSx)))));const{name:s,slot:l,skipVariantsResolver:u,skipSx:c,overridesResolver:d=ak(rk(l))}=i,p=(0,Xt.A)(i,ek),h=void 0!==u?u:l&&"Root"!==l&&"root"!==l||!1,f=c||!1;let m=tk;"Root"===l||"root"===l?m=r:l?m=o:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(m=void 0);const g=(0,os.default)(e,(0,Yt.A)({shouldForwardProp:m,label:undefined},p)),y=e=>"function"===typeof e&&e.__emotion_real!==e||(0,ar.Q)(e)?r=>ik(e,(0,Yt.A)({},r,{theme:ok({theme:r.theme,defaultTheme:n,themeId:t})})):e,v=function(r){let o=y(r);for(var i=arguments.length,l=new Array(i>1?i-1:0),u=1;u<i;u++)l[u-1]=arguments[u];const c=l?l.map(y):[];s&&d&&c.push((e=>{const r=ok((0,Yt.A)({},e,{defaultTheme:n,themeId:t}));if(!r.components||!r.components[s]||!r.components[s].styleOverrides)return null;const o=r.components[s].styleOverrides,a={};return Object.entries(o).forEach((t=>{let[n,o]=t;a[n]=ik(o,(0,Yt.A)({},e,{theme:r}))})),d(e,a)})),s&&!h&&c.push((e=>{var r;const o=ok((0,Yt.A)({},e,{defaultTheme:n,themeId:t}));return ik({variants:null==o||null==(r=o.components)||null==(r=r[s])?void 0:r.variants},(0,Yt.A)({},e,{theme:o}))})),f||c.push(a);const p=c.length-l.length;if(Array.isArray(r)&&p>0){const e=new Array(p).fill("");o=[...r,...e],o.raw=[...r.raw,...e]}const m=g(o,...c);return e.muiName&&(m.muiName=e.muiName),m};return g.withConfig&&(v.withConfig=g.withConfig),v}}();var OI=n(8604);const MI=["component","direction","spacing","divider","children","className","useFlexGap"],DI=(0,Sr.A)(),RI=NI("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root});function PI(e){return gv({props:e,name:"MuiStack",defaultTheme:DI})}function $I(e,t){const n=W.Children.toArray(e).filter(Boolean);return n.reduce(((e,r,o)=>(e.push(r),o<n.length-1&&e.push(W.cloneElement(t,{key:`separator-${o}`})),e)),[])}const jI=e=>{let{ownerState:t,theme:n}=e,r=(0,Yt.A)({display:"flex",flexDirection:"column"},(0,Ws.NI)({theme:n},(0,Ws.kW)({values:t.direction,breakpoints:n.breakpoints.values}),(e=>({flexDirection:e}))));if(t.spacing){const e=(0,OI.LX)(n),o=Object.keys(n.breakpoints.values).reduce(((e,n)=>(("object"===typeof t.spacing&&null!=t.spacing[n]||"object"===typeof t.direction&&null!=t.direction[n])&&(e[n]=!0),e)),{}),a=(0,Ws.kW)({values:t.direction,base:o}),i=(0,Ws.kW)({values:t.spacing,base:o});"object"===typeof a&&Object.keys(a).forEach(((e,t,n)=>{if(!a[e]){const r=t>0?a[n[t-1]]:"column";a[e]=r}}));const s=(n,r)=>{return t.useFlexGap?{gap:(0,OI._W)(e,n)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${o=r?a[r]:t.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[o]}`]:(0,OI._W)(e,n)}};var o};r=(0,ar.A)(r,(0,Ws.NI)({theme:n},i,s))}return r=(0,Ws.iZ)(n.breakpoints,r),r};const _I=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{createStyledComponent:t=RI,useThemeProps:n=PI,componentName:r="MuiStack"}=e,o=t(jI);return W.forwardRef((function(e,t){const a=n(e),i=(0,is.A)(a),{component:s="div",direction:l="column",spacing:u=0,divider:c,children:d,className:p,useFlexGap:h=!1}=i,f=(0,Xt.A)(i,MI),m={direction:l,spacing:u,useFlexGap:h},g=(0,Zt.A)({root:["root"]},(e=>(0,on.Ay)(r,e)),{});return(0,sn.jsx)(o,(0,Yt.A)({as:s,ownerState:m,ref:t,className:(0,Qt.A)(g.root,p)},f,{children:c?$I(d,c):d}))}))}({createStyledComponent:(0,en.Ay)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root}),useThemeProps:e=>(0,nn.b)({props:e,name:"MuiStack"})});function FI(e){return(0,on.Ay)("MuiFormGroup",e)}(0,rn.A)("MuiFormGroup",["root","row","error"]);const LI=["className","row"],zI=(0,en.Ay)("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.row&&t.row]}})((e=>{let{ownerState:t}=e;return(0,Yt.A)({display:"flex",flexDirection:"column",flexWrap:"wrap"},t.row&&{flexDirection:"row"})})),BI=W.forwardRef((function(e,t){const n=(0,nn.b)({props:e,name:"MuiFormGroup"}),{className:r,row:o=!1}=n,a=(0,Xt.A)(n,LI),i=vr({props:n,muiFormControl:xr(),states:["error"]}),s=(0,Yt.A)({},n,{row:o,error:i.error}),l=(e=>{const{classes:t,row:n,error:r}=e,o={root:["root",n&&"row",r&&"error"]};return(0,Zt.A)(o,FI,t)})(s);return(0,sn.jsx)(zI,(0,Yt.A)({className:(0,Qt.A)(l.root,r),ownerState:s,ref:t},a))}));function WI(e){return(0,on.Ay)("MuiRadioGroup",e)}(0,rn.A)("MuiRadioGroup",["root","row","error"]);const VI=W.createContext(void 0),UI=["actions","children","className","defaultValue","name","onChange","value"],HI=W.forwardRef((function(e,t){const{actions:n,children:r,className:o,defaultValue:a,name:i,onChange:s,value:l}=e,u=(0,Xt.A)(e,UI),c=W.useRef(null),d=(e=>{const{classes:t,row:n,error:r}=e,o={root:["root",n&&"row",r&&"error"]};return(0,Zt.A)(o,WI,t)})(e),[p,h]=(0,Mi.A)({controlled:l,default:a,name:"RadioGroup"});W.useImperativeHandle(n,(()=>({focus:()=>{let e=c.current.querySelector("input:not(:disabled):checked");e||(e=c.current.querySelector("input:not(:disabled)")),e&&e.focus()}})),[]);const f=(0,hn.A)(t,c),m=(0,Um.A)(i),g=W.useMemo((()=>({name:m,onChange(e){h(e.target.value),s&&s(e,e.target.value)},value:p})),[m,s,h,p]);return(0,sn.jsx)(VI.Provider,{value:g,children:(0,sn.jsx)(BI,(0,Yt.A)({role:"radiogroup",ref:f,className:(0,Qt.A)(d.root,o)},u,{children:r}))})}));function GI(e){return(0,on.Ay)("MuiFormControlLabel",e)}const qI=(0,rn.A)("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),KI=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],XI=(0,en.Ay)("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${qI.label}`]:t.label},t.root,t[`labelPlacement${(0,qn.A)(n.labelPlacement)}`]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,Yt.A)({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${qI.disabled}`]:{cursor:"default"}},"start"===n.labelPlacement&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},"top"===n.labelPlacement&&{flexDirection:"column-reverse",marginLeft:16},"bottom"===n.labelPlacement&&{flexDirection:"column",marginLeft:16},{[`& .${qI.label}`]:{[`&.${qI.disabled}`]:{color:(t.vars||t).palette.text.disabled}}})})),YI=(0,en.Ay)("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})((e=>{let{theme:t}=e;return{[`&.${qI.error}`]:{color:(t.vars||t).palette.error.main}}})),QI=W.forwardRef((function(e,t){var n,r;const o=(0,nn.b)({props:e,name:"MuiFormControlLabel"}),{className:a,componentsProps:i={},control:s,disabled:l,disableTypography:u,label:c,labelPlacement:d="end",required:p,slotProps:h={}}=o,f=(0,Xt.A)(o,KI),m=xr(),g=null!=(n=null!=l?l:s.props.disabled)?n:null==m?void 0:m.disabled,y=null!=p?p:s.props.required,v={disabled:g,required:y};["checked","name","onChange","value","inputRef"].forEach((e=>{"undefined"===typeof s.props[e]&&"undefined"!==typeof o[e]&&(v[e]=o[e])}));const b=vr({props:o,muiFormControl:m,states:["error"]}),x=(0,Yt.A)({},o,{disabled:g,labelPlacement:d,required:y,error:b.error}),w=(e=>{const{classes:t,disabled:n,labelPlacement:r,error:o,required:a}=e,i={root:["root",n&&"disabled",`labelPlacement${(0,qn.A)(r)}`,o&&"error",a&&"required"],label:["label",n&&"disabled"],asterisk:["asterisk",o&&"error"]};return(0,Zt.A)(i,GI,t)})(x),k=null!=(r=h.typography)?r:i.typography;let S=c;return null==S||S.type===vs||u||(S=(0,sn.jsx)(vs,(0,Yt.A)({component:"span"},k,{className:(0,Qt.A)(w.label,null==k?void 0:k.className),children:S}))),(0,sn.jsxs)(XI,(0,Yt.A)({className:(0,Qt.A)(w.root,a),ownerState:x,ref:t},f,{children:[W.cloneElement(s,v),y?(0,sn.jsxs)(_I,{display:"block",children:[S,(0,sn.jsxs)(YI,{ownerState:x,"aria-hidden":!0,className:w.asterisk,children:["\u2009","*"]})]}):S]}))}));function ZI(e){return(0,on.Ay)("PrivateSwitchBase",e)}(0,rn.A)("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const JI=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],eE=(0,en.Ay)(Gn)((e=>{let{ownerState:t}=e;return(0,Yt.A)({padding:9,borderRadius:"50%"},"start"===t.edge&&{marginLeft:"small"===t.size?-3:-12},"end"===t.edge&&{marginRight:"small"===t.size?-3:-12})})),tE=(0,en.Ay)("input",{shouldForwardProp:pn.A})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),nE=W.forwardRef((function(e,t){const{autoFocus:n,checked:r,checkedIcon:o,className:a,defaultChecked:i,disabled:s,disableFocusRipple:l=!1,edge:u=!1,icon:c,id:d,inputProps:p,inputRef:h,name:f,onBlur:m,onChange:g,onFocus:y,readOnly:v,required:b=!1,tabIndex:x,type:w,value:k}=e,S=(0,Xt.A)(e,JI),[A,C]=(0,Mi.A)({controlled:r,default:Boolean(i),name:"SwitchBase",state:"checked"}),T=xr();let I=s;T&&"undefined"===typeof I&&(I=T.disabled);const E="checkbox"===w||"radio"===w,N=(0,Yt.A)({},e,{checked:A,disabled:I,disableFocusRipple:l,edge:u}),O=(e=>{const{classes:t,checked:n,disabled:r,edge:o}=e,a={root:["root",n&&"checked",r&&"disabled",o&&`edge${(0,qn.A)(o)}`],input:["input"]};return(0,Zt.A)(a,ZI,t)})(N);return(0,sn.jsxs)(eE,(0,Yt.A)({component:"span",className:(0,Qt.A)(O.root,a),centerRipple:!0,focusRipple:!l,disabled:I,tabIndex:null,role:void 0,onFocus:e=>{y&&y(e),T&&T.onFocus&&T.onFocus(e)},onBlur:e=>{m&&m(e),T&&T.onBlur&&T.onBlur(e)},ownerState:N,ref:t},S,{children:[(0,sn.jsx)(tE,(0,Yt.A)({autoFocus:n,checked:r,defaultChecked:i,className:O.input,disabled:I,id:E?d:void 0,name:f,onChange:e=>{if(e.nativeEvent.defaultPrevented)return;const t=e.target.checked;C(t),g&&g(e,t)},readOnly:v,ref:h,required:b,ownerState:N,tabIndex:x,type:w},"checkbox"===w&&void 0===k?{}:{value:k},p)),A?o:c]}))})),rE=(0,Vi.A)((0,sn.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),oE=(0,Vi.A)((0,sn.jsx)("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked"),aE=(0,en.Ay)("span",{shouldForwardProp:pn.A})({position:"relative",display:"flex"}),iE=(0,en.Ay)(rE)({transform:"scale(1)"}),sE=(0,en.Ay)(oE)((e=>{let{theme:t,ownerState:n}=e;return(0,Yt.A)({left:0,position:"absolute",transform:"scale(0)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeIn,duration:t.transitions.duration.shortest})},n.checked&&{transform:"scale(1)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.shortest})})}));const lE=function(e){const{checked:t=!1,classes:n={},fontSize:r}=e,o=(0,Yt.A)({},e,{checked:t});return(0,sn.jsxs)(aE,{className:n.root,ownerState:o,children:[(0,sn.jsx)(iE,{fontSize:r,className:n.background,ownerState:o}),(0,sn.jsx)(sE,{fontSize:r,className:n.dot,ownerState:o})]})};var uE=n(6593);function cE(e){return(0,on.Ay)("MuiRadio",e)}const dE=(0,rn.A)("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary","sizeSmall"]),pE=["checked","checkedIcon","color","icon","name","onChange","size","className"],hE=(0,en.Ay)(nE,{shouldForwardProp:e=>(0,pn.A)(e)||"classes"===e,name:"MuiRadio",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"medium"!==n.size&&t[`size${(0,qn.A)(n.size)}`],t[`color${(0,qn.A)(n.color)}`]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,Yt.A)({color:(t.vars||t).palette.text.secondary},!n.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${"default"===n.color?t.vars.palette.action.activeChannel:t.vars.palette[n.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,Jt.X4)("default"===n.color?t.palette.action.active:t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==n.color&&{[`&.${dE.checked}`]:{color:(t.vars||t).palette[n.color].main}},{[`&.${dE.disabled}`]:{color:(t.vars||t).palette.action.disabled}})}));const fE=(0,sn.jsx)(lE,{checked:!0}),mE=(0,sn.jsx)(lE,{}),gE=W.forwardRef((function(e,t){var n,r;const o=(0,nn.b)({props:e,name:"MuiRadio"}),{checked:a,checkedIcon:i=fE,color:s="primary",icon:l=mE,name:u,onChange:c,size:d="medium",className:p}=o,h=(0,Xt.A)(o,pE),f=(0,Yt.A)({},o,{color:s,size:d}),m=(e=>{const{classes:t,color:n,size:r}=e,o={root:["root",`color${(0,qn.A)(n)}`,"medium"!==r&&`size${(0,qn.A)(r)}`]};return(0,Yt.A)({},t,(0,Zt.A)(o,cE,t))})(f),g=W.useContext(VI);let y=a;const v=(0,uE.A)(c,g&&g.onChange);let b=u;var x,w;return g&&("undefined"===typeof y&&(x=g.value,y="object"===typeof(w=o.value)&&null!==w?x===w:String(x)===String(w)),"undefined"===typeof b&&(b=g.name)),(0,sn.jsx)(hE,(0,Yt.A)({type:"radio",icon:W.cloneElement(l,{fontSize:null!=(n=mE.props.fontSize)?n:d}),checkedIcon:W.cloneElement(i,{fontSize:null!=(r=fE.props.fontSize)?r:d}),ownerState:f,classes:m,name:b,checked:y,onChange:v,ref:t,className:(0,Qt.A)(m.root,p)},h))}));function yE(e){return(0,on.Ay)("MuiToggleButtonGroup",e)}const vE=(0,rn.A)("MuiToggleButtonGroup",["root","selected","horizontal","vertical","disabled","grouped","groupedHorizontal","groupedVertical","fullWidth","firstButton","lastButton","middleButton"]);const bE=W.createContext({});const xE=W.createContext(void 0);function wE(e){return(0,on.Ay)("MuiToggleButton",e)}const kE=(0,rn.A)("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge","fullWidth"]),SE=["children","className","color","disabled","exclusive","fullWidth","onChange","orientation","size","value"],AE=(0,en.Ay)("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${vE.grouped}`]:t.grouped},{[`& .${vE.grouped}`]:t[`grouped${(0,qn.A)(n.orientation)}`]},{[`& .${vE.firstButton}`]:t.firstButton},{[`& .${vE.lastButton}`]:t.lastButton},{[`& .${vE.middleButton}`]:t.middleButton},t.root,"vertical"===n.orientation&&t.vertical,n.fullWidth&&t.fullWidth]}})((e=>{let{ownerState:t,theme:n}=e;return(0,Yt.A)({display:"inline-flex",borderRadius:(n.vars||n).shape.borderRadius},"vertical"===t.orientation&&{flexDirection:"column"},t.fullWidth&&{width:"100%"},{[`& .${vE.grouped}`]:(0,Yt.A)({},"horizontal"===t.orientation?{[`&.${vE.selected} + .${vE.grouped}.${vE.selected}`]:{borderLeft:0,marginLeft:0}}:{[`&.${vE.selected} + .${vE.grouped}.${vE.selected}`]:{borderTop:0,marginTop:0}})},"horizontal"===t.orientation?{[`& .${vE.firstButton},& .${vE.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${vE.lastButton},& .${vE.middleButton}`]:{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0}}:{[`& .${vE.firstButton},& .${vE.middleButton}`]:{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`& .${vE.lastButton},& .${vE.middleButton}`]:{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0}},"horizontal"===t.orientation?{[`& .${vE.lastButton}.${kE.disabled},& .${vE.middleButton}.${kE.disabled}`]:{borderLeft:"1px solid transparent"}}:{[`& .${vE.lastButton}.${kE.disabled},& .${vE.middleButton}.${kE.disabled}`]:{borderTop:"1px solid transparent"}})})),CE=W.forwardRef((function(e,t){const n=(0,nn.b)({props:e,name:"MuiToggleButtonGroup"}),{children:r,className:o,color:a="standard",disabled:i=!1,exclusive:s=!1,fullWidth:l=!1,onChange:u,orientation:c="horizontal",size:d="medium",value:p}=n,h=(0,Xt.A)(n,SE),f=(0,Yt.A)({},n,{disabled:i,fullWidth:l,orientation:c,size:d}),m=(e=>{const{classes:t,orientation:n,fullWidth:r,disabled:o}=e,a={root:["root","vertical"===n&&"vertical",r&&"fullWidth"],grouped:["grouped",`grouped${(0,qn.A)(n)}`,o&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return(0,Zt.A)(a,yE,t)})(f),g=W.useCallback(((e,t)=>{if(!u)return;const n=p&&p.indexOf(t);let r;p&&n>=0?(r=p.slice(),r.splice(n,1)):r=p?p.concat(t):[t],u(e,r)}),[u,p]),y=W.useCallback(((e,t)=>{u&&u(e,p===t?null:t)}),[u,p]),v=W.useMemo((()=>({className:m.grouped,onChange:s?y:g,value:p,size:d,fullWidth:l,color:a,disabled:i})),[m.grouped,s,y,g,p,d,l,a,i]),b=function(e){return W.Children.toArray(e).filter((e=>W.isValidElement(e)))}(r),x=b.length,w=e=>{const t=0===e,n=e===x-1;return t&&n?"":t?m.firstButton:n?m.lastButton:m.middleButton};return(0,sn.jsx)(AE,(0,Yt.A)({role:"group",className:(0,Qt.A)(m.root,o),ref:t,ownerState:f},h,{children:(0,sn.jsx)(bE.Provider,{value:v,children:b.map(((e,t)=>(0,sn.jsx)(xE.Provider,{value:w(t),children:e},t)))})}))}));function TE(e,t){return void 0!==t&&void 0!==e&&(Array.isArray(t)?t.indexOf(e)>=0:e===t)}const IE=["value"],EE=["children","className","color","disabled","disableFocusRipple","fullWidth","onChange","onClick","selected","size","value"],NE=(0,en.Ay)(Gn,{name:"MuiToggleButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`size${(0,qn.A)(n.size)}`]]}})((e=>{let t,{theme:n,ownerState:r}=e,o="standard"===r.color?n.palette.text.primary:n.palette[r.color].main;return n.vars&&(o="standard"===r.color?n.vars.palette.text.primary:n.vars.palette[r.color].main,t="standard"===r.color?n.vars.palette.text.primaryChannel:n.vars.palette[r.color].mainChannel),(0,Yt.A)({},n.typography.button,{borderRadius:(n.vars||n).shape.borderRadius,padding:11,border:`1px solid ${(n.vars||n).palette.divider}`,color:(n.vars||n).palette.action.active},r.fullWidth&&{width:"100%"},{[`&.${kE.disabled}`]:{color:(n.vars||n).palette.action.disabled,border:`1px solid ${(n.vars||n).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:n.vars?`rgba(${n.vars.palette.text.primaryChannel} / ${n.vars.palette.action.hoverOpacity})`:_k(n.palette.text.primary,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${kE.selected}`]:{color:o,backgroundColor:n.vars?`rgba(${t} / ${n.vars.palette.action.selectedOpacity})`:_k(o,n.palette.action.selectedOpacity),"&:hover":{backgroundColor:n.vars?`rgba(${t} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.hoverOpacity}))`:_k(o,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:n.vars?`rgba(${t} / ${n.vars.palette.action.selectedOpacity})`:_k(o,n.palette.action.selectedOpacity)}}}},"small"===r.size&&{padding:7,fontSize:n.typography.pxToRem(13)},"large"===r.size&&{padding:15,fontSize:n.typography.pxToRem(15)})})),OE=W.forwardRef((function(e,t){const n=W.useContext(bE),{value:r}=n,o=(0,Xt.A)(n,IE),a=W.useContext(xE),i=(0,dn.A)((0,Yt.A)({},o,{selected:TE(e.value,r)}),e),s=(0,nn.b)({props:i,name:"MuiToggleButton"}),{children:l,className:u,color:c="standard",disabled:d=!1,disableFocusRipple:p=!1,fullWidth:h=!1,onChange:f,onClick:m,selected:g,size:y="medium",value:v}=s,b=(0,Xt.A)(s,EE),x=(0,Yt.A)({},s,{color:c,disabled:d,disableFocusRipple:p,fullWidth:h,size:y}),w=(e=>{const{classes:t,fullWidth:n,selected:r,disabled:o,size:a,color:i}=e,s={root:["root",r&&"selected",o&&"disabled",n&&"fullWidth",`size${(0,qn.A)(a)}`,i]};return(0,Zt.A)(s,wE,t)})(x),k=a||"";return(0,sn.jsx)(NE,(0,Yt.A)({className:(0,Qt.A)(o.className,w.root,u,k),disabled:d,focusRipple:!p,ref:t,onClick:e=>{m&&(m(e,v),e.defaultPrevented)||f&&f(e,v)},onChange:f,value:v,ownerState:x,"aria-pressed":g},b,{children:l}))})),ME=(0,Vi.A)((0,sn.jsx)("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star"),DE=(0,Vi.A)((0,sn.jsx)("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}),"StarBorder");function RE(e){return(0,on.Ay)("MuiRating",e)}const PE=(0,rn.A)("MuiRating",["root","sizeSmall","sizeMedium","sizeLarge","readOnly","disabled","focusVisible","visuallyHidden","pristine","label","labelEmptyValueActive","icon","iconEmpty","iconFilled","iconHover","iconFocus","iconActive","decimal"]),$E=["value"],jE=["className","defaultValue","disabled","emptyIcon","emptyLabelText","getLabelText","highlightSelectedOnly","icon","IconContainerComponent","max","name","onChange","onChangeActive","onMouseLeave","onMouseMove","precision","readOnly","size","value"];function _E(e,t){if(null==e)return e;const n=Math.round(e/t)*t;return Number(n.toFixed(function(e){const t=e.toString().split(".")[1];return t?t.length:0}(t)))}const FE=(0,en.Ay)("span",{name:"MuiRating",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${PE.visuallyHidden}`]:t.visuallyHidden},t.root,t[`size${(0,qn.A)(n.size)}`],n.readOnly&&t.readOnly]}})((e=>{let{theme:t,ownerState:n}=e;return(0,Yt.A)({display:"inline-flex",position:"relative",fontSize:t.typography.pxToRem(24),color:"#faaf00",cursor:"pointer",textAlign:"left",width:"min-content",WebkitTapHighlightColor:"transparent",[`&.${PE.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${PE.focusVisible} .${PE.iconActive}`]:{outline:"1px solid #999"},[`& .${PE.visuallyHidden}`]:Ow},"small"===n.size&&{fontSize:t.typography.pxToRem(18)},"large"===n.size&&{fontSize:t.typography.pxToRem(30)},n.readOnly&&{pointerEvents:"none"})})),LE=(0,en.Ay)("label",{name:"MuiRating",slot:"Label",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.label,n.emptyValueFocused&&t.labelEmptyValueActive]}})((e=>{let{ownerState:t}=e;return(0,Yt.A)({cursor:"inherit"},t.emptyValueFocused&&{top:0,bottom:0,position:"absolute",outline:"1px solid #999",width:"100%"})})),zE=(0,en.Ay)("span",{name:"MuiRating",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.iconEmpty&&t.iconEmpty,n.iconFilled&&t.iconFilled,n.iconHover&&t.iconHover,n.iconFocus&&t.iconFocus,n.iconActive&&t.iconActive]}})((e=>{let{theme:t,ownerState:n}=e;return(0,Yt.A)({display:"flex",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest}),pointerEvents:"none"},n.iconActive&&{transform:"scale(1.2)"},n.iconEmpty&&{color:(t.vars||t).palette.action.disabled})})),BE=(0,en.Ay)("span",{name:"MuiRating",slot:"Decimal",shouldForwardProp:e=>(0,Oi.A)(e)&&"iconActive"!==e,overridesResolver:(e,t)=>{const{iconActive:n}=e;return[t.decimal,n&&t.iconActive]}})((e=>{let{iconActive:t}=e;return(0,Yt.A)({position:"relative"},t&&{transform:"scale(1.2)"})}));function WE(e){const t=(0,Xt.A)(e,$E);return(0,sn.jsx)("span",(0,Yt.A)({},t))}function VE(e){const{classes:t,disabled:n,emptyIcon:r,focus:o,getLabelText:a,highlightSelectedOnly:i,hover:s,icon:l,IconContainerComponent:u,isActive:c,itemValue:d,labelProps:p,name:h,onBlur:f,onChange:m,onClick:g,onFocus:y,readOnly:v,ownerState:b,ratingValue:x,ratingValueRounded:w}=e,k=i?d===x:d<=x,S=d<=s,A=d<=o,C=d===w,T=(0,Um.A)(),I=(0,sn.jsx)(zE,{as:u,value:d,className:(0,Qt.A)(t.icon,k?t.iconFilled:t.iconEmpty,S&&t.iconHover,A&&t.iconFocus,c&&t.iconActive),ownerState:(0,Yt.A)({},b,{iconEmpty:!k,iconFilled:k,iconHover:S,iconFocus:A,iconActive:c}),children:r&&!k?r:l});return v?(0,sn.jsx)("span",(0,Yt.A)({},p,{children:I})):(0,sn.jsxs)(W.Fragment,{children:[(0,sn.jsxs)(LE,(0,Yt.A)({ownerState:(0,Yt.A)({},b,{emptyValueFocused:void 0}),htmlFor:T},p,{children:[I,(0,sn.jsx)("span",{className:t.visuallyHidden,children:a(d)})]})),(0,sn.jsx)("input",{className:t.visuallyHidden,onFocus:y,onBlur:f,onChange:m,onClick:g,disabled:n,value:d,id:T,type:"radio",name:h,checked:C})]})}const UE=(0,sn.jsx)(ME,{fontSize:"inherit"}),HE=(0,sn.jsx)(DE,{fontSize:"inherit"});function GE(e){return`${e} Star${1!==e?"s":""}`}const qE=W.forwardRef((function(e,t){const n=(0,nn.b)({name:"MuiRating",props:e}),{className:r,defaultValue:o=null,disabled:a=!1,emptyIcon:i=HE,emptyLabelText:s="Empty",getLabelText:l=GE,highlightSelectedOnly:u=!1,icon:c=UE,IconContainerComponent:d=WE,max:p=5,name:h,onChange:f,onChangeActive:m,onMouseLeave:g,onMouseMove:y,precision:v=1,readOnly:b=!1,size:x="medium",value:w}=n,k=(0,Xt.A)(n,jE),S=(0,Um.A)(h),[A,C]=(0,Mi.A)({controlled:w,default:o,name:"Rating"}),T=_E(A,v),I=zo(),[{hover:E,focus:N},O]=W.useState({hover:-1,focus:-1});let M=T;-1!==E&&(M=E),-1!==N&&(M=N);const{isFocusVisibleRef:D,onBlur:R,onFocus:P,ref:$}=(0,mn.A)(),[j,_]=W.useState(!1),F=W.useRef(),L=(0,hn.A)($,F,t),z=e=>{let t=""===e.target.value?null:parseFloat(e.target.value);-1!==E&&(t=E),C(t),f&&f(e,t)},B=e=>{0===e.clientX&&0===e.clientY||(O({hover:-1,focus:-1}),C(null),f&&parseFloat(e.target.value)===T&&f(e,null))},V=e=>{P(e),!0===D.current&&_(!0);const t=parseFloat(e.target.value);O((e=>({hover:e.hover,focus:t})))},U=e=>{if(-1!==E)return;R(e),!1===D.current&&_(!1);O((e=>({hover:e.hover,focus:-1})))},[H,G]=W.useState(!1),q=(0,Yt.A)({},n,{defaultValue:o,disabled:a,emptyIcon:i,emptyLabelText:s,emptyValueFocused:H,focusVisible:j,getLabelText:l,icon:c,IconContainerComponent:d,max:p,precision:v,readOnly:b,size:x}),K=(e=>{const{classes:t,size:n,readOnly:r,disabled:o,emptyValueFocused:a,focusVisible:i}=e,s={root:["root",`size${(0,qn.A)(n)}`,o&&"disabled",i&&"focusVisible",r&&"readOnly"],label:["label","pristine"],labelEmptyValue:[a&&"labelEmptyValueActive"],icon:["icon"],iconEmpty:["iconEmpty"],iconFilled:["iconFilled"],iconHover:["iconHover"],iconFocus:["iconFocus"],iconActive:["iconActive"],decimal:["decimal"],visuallyHidden:["visuallyHidden"]};return(0,Zt.A)(s,RE,t)})(q);return(0,sn.jsxs)(FE,(0,Yt.A)({ref:L,onMouseMove:e=>{y&&y(e);const t=F.current,{right:n,left:r,width:o}=t.getBoundingClientRect();let a;a=I?(n-e.clientX)/o:(e.clientX-r)/o;let i=_E(p*a+v/2,v);i=(0,Rk.A)(i,v,p),O((e=>e.hover===i&&e.focus===i?e:{hover:i,focus:i})),_(!1),m&&E!==i&&m(e,i)},onMouseLeave:e=>{g&&g(e);O({hover:-1,focus:-1}),m&&-1!==E&&m(e,-1)},className:(0,Qt.A)(K.root,r,b&&"MuiRating-readOnly"),ownerState:q,role:b?"img":null,"aria-label":b?l(M):null},k,{children:[Array.from(new Array(p)).map(((e,t)=>{const n=t+1,r={classes:K,disabled:a,emptyIcon:i,focus:N,getLabelText:l,highlightSelectedOnly:u,hover:E,icon:c,IconContainerComponent:d,name:S,onBlur:U,onChange:z,onClick:B,onFocus:V,ratingValue:M,ratingValueRounded:T,readOnly:b,ownerState:q},o=n===Math.ceil(M)&&(-1!==E||-1!==N);if(v<1){const e=Array.from(new Array(1/v));return(0,sn.jsx)(BE,{className:(0,Qt.A)(K.decimal,o&&K.iconActive),ownerState:q,iconActive:o,children:e.map(((t,o)=>{const a=_E(n-1+(o+1)*v,v);return(0,sn.jsx)(VE,(0,Yt.A)({},r,{isActive:!1,itemValue:a,labelProps:{style:e.length-1===o?{}:{width:a===M?(o+1)*v*100+"%":"0%",overflow:"hidden",position:"absolute"}}}),a)}))},n)}return(0,sn.jsx)(VE,(0,Yt.A)({},r,{isActive:o,itemValue:n}),n)})),!b&&!a&&(0,sn.jsxs)(LE,{className:(0,Qt.A)(K.label,K.labelEmptyValue),ownerState:q,children:[(0,sn.jsx)("input",{className:K.visuallyHidden,value:"",id:`${S}-empty`,type:"radio",name:S,checked:null==T,onFocus:()=>G(!0),onBlur:()=>G(!1),onChange:z}),(0,sn.jsx)("span",{className:K.visuallyHidden,children:s})]})]}))})),KE=(0,Vi.A)([(0,sn.jsx)("circle",{cx:"15.5",cy:"9.5",r:"1.5"},"0"),(0,sn.jsx)("circle",{cx:"8.5",cy:"9.5",r:"1.5"},"1"),(0,sn.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8m-5-6c.78 2.34 2.72 4 5 4s4.22-1.66 5-4z"},"2")],"SentimentVerySatisfied"),XE=(0,Vi.A)([(0,sn.jsx)("circle",{cx:"15.5",cy:"9.5",r:"1.5"},"0"),(0,sn.jsx)("circle",{cx:"8.5",cy:"9.5",r:"1.5"},"1"),(0,sn.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8m0-4c-.73 0-1.38-.18-1.96-.52-.12.14-.86.98-1.01 1.15.86.55 1.87.87 2.97.87 1.11 0 2.12-.33 2.98-.88-.97-1.09-.01-.02-1.01-1.15-.59.35-1.24.53-1.97.53"},"2")],"SentimentSatisfied"),YE=(0,Vi.A)([(0,sn.jsx)("circle",{cx:"15.5",cy:"9.5",r:"1.5"},"0"),(0,sn.jsx)("circle",{cx:"8.5",cy:"9.5",r:"1.5"},"1"),(0,sn.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8m0-3.5c.73 0 1.39.19 1.97.53.12-.14.86-.98 1.01-1.14-.85-.56-1.87-.89-2.98-.89-1.11 0-2.13.33-2.99.88.97 1.09.01.02 1.01 1.14.59-.33 1.25-.52 1.98-.52"},"2")],"SentimentDissatisfied"),QE=(0,Vi.A)([(0,sn.jsx)("circle",{cx:"15.5",cy:"9.5",r:"1.5"},"0"),(0,sn.jsx)("circle",{cx:"8.5",cy:"9.5",r:"1.5"},"1"),(0,sn.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8m0-6c-2.33 0-4.32 1.45-5.12 3.5h1.67c.69-1.19 1.97-2 3.45-2s2.75.81 3.45 2h1.67c-.8-2.05-2.79-3.5-5.12-3.5"},"2")],"SentimentVeryDissatisfied"),ZE=(0,Vi.A)((0,sn.jsx)("path",{d:"M16.59 7.58 10 14.17l-3.59-3.58L5 12l5 5 8-8zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"CheckCircleOutline"),JE=(0,Vi.A)((0,sn.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m3.59-13L12 10.59 8.41 7 7 8.41 10.59 12 7 15.59 8.41 17 12 13.41 15.59 17 17 15.59 13.41 12 17 8.41z"}),"CancelOutlined"),eN=(0,Vi.A)((0,sn.jsx)("path",{d:"M9 16.2 4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4z"}),"Done");var tN=n(446),nN=n.n(tN);const rN=["\u0417\u0430\u0431\u043e\u043b\u0435\u043b","\u0417\u0430\u0431\u044b\u043b","\u041b\u0438\u0447\u043d\u044b\u0435 \u0434\u0435\u043b\u0430","\u041e\u0442\u043f\u0443\u0441\u043a","\u041f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0434\u0438\u043b \u0437\u0430\u0440\u0430\u043d\u0435\u0435","\u041d\u0435 \u043f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0434\u0438\u043b \u0437\u0430\u0440\u0430\u043d\u0435\u0435","\u0417\u0430\u0431\u043e\u043b\u0435\u043b \u0440\u0435\u0431\u0435\u043d\u043e\u043a","\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e"],oN=[{value:"\u041e\u0442\u043b\u0438\u0447\u043d\u043e",icon:(0,sn.jsx)(KE,{color:"success"})},{value:"\u0425\u043e\u0440\u043e\u0448\u043e",icon:(0,sn.jsx)(XE,{color:"success"})},{value:"\u0423\u0441\u0442\u0430\u043b",icon:(0,sn.jsx)(YE,{color:"warning"})},{value:"\u041e\u0447\u0435\u043d\u044c \u0443\u0441\u0442\u0430\u043b",icon:(0,sn.jsx)(QE,{color:"error"})},{value:"\u041f\u043b\u043e\u0445\u043e",icon:(0,sn.jsx)(QE,{color:"error"})}],aN=["\u041b\u0451\u0433\u043a\u0430\u044f","\u0421\u0440\u0435\u0434\u043d\u044f\u044f","\u0422\u044f\u0436\u0451\u043b\u0430\u044f","\u0414\u043e \u043e\u0442\u043a\u0430\u0437\u0430","\u0418\u043d\u0442\u0435\u0440\u0432\u0430\u043b\u044c\u043d\u0430\u044f"],iN=e=>{let{reloadClients:t,onSuccess:n,open:r,onClose:o,client:a,fetchDataQuantity:i}=e;const[s,l]=(0,W.useState)("completed"),[u,c]=(0,W.useState)({conditionAfter:"",conditionBefore:"",intensity:"",rating:0,comment:"",reason:"",reschedule:"",writeoffComment:"",sessionDate:nN()().format("YYYY-MM-DDTHH:mm")}),[d,p]=(0,W.useState)(!1),[h,f]=(0,W.useState)({}),[m,g]=(0,W.useState)("writeoff"),y=JSON.parse(localStorage.getItem("user")),v=null===y||void 0===y?void 0:y.id,[b,x]=(0,W.useState)(!1);(0,W.useEffect)((()=>{r&&(S(),l("completed"))}),[r]),(0,W.useEffect)((()=>{if(r){const e=a.date?nN()(a.date).format("YYYY-MM-DD"):nN()().format("YYYY-MM-DD"),t=a.time?a.time:nN()().format("HH:mm");c({conditionAfter:"",conditionBefore:"",intensity:"",rating:0,comment:"",reason:"",reschedule:"",writeoffComment:"",sessionDate:`${e}T${t}`}),g("writeoff"),f({}),l("completed")}}),[r,a]);const w=(e,t)=>{c((n=>({...n,[e]:t}))),h[e]&&f((t=>({...t,[e]:""})))},k=async()=>{if("simple"===s||"missed"===s||(()=>{const e={};return"completed"===s?(u.conditionAfter||(e.conditionAfter="\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),u.conditionBefore||(e.conditionBefore="\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),u.intensity||(e.intensity="\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),0===u.rating&&(e.rating="\u041f\u043e\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u043e\u0446\u0435\u043d\u043a\u0443")):"missed"===s&&(u.reason||(e.reason="\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043f\u0440\u0438\u0447\u0438\u043d\u0443"),u.reschedule||(e.reschedule="\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0441\u0442\u0430\u0442\u0443\u0441 \u043f\u0435\u0440\u0435\u043d\u043e\u0441\u0430")),f(e),0===Object.keys(e).length})()){p(!0);try{var e,r;const l={clientId:a.id,clientName:a.name,type:s,...u};"simple"!==s&&"missed"!==s||(l.action=m);const c=await qd("/payment_history","PATCH",{client:a,payload:l,userId:v});if(!c.status)return void Ud("errorWriteOffSession","error","\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043f\u0438\u0441\u0430\u043d\u0438\u044f \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043e\u043a\u0438",1e3);i(),n&&n(),t&&t(),Ud("successWriteOffSession","success",`\u0422\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0438 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043f\u0438\u0441\u0430\u043d\u0430 \u0443 ${a.name}, \u041e\u0441\u0442\u0430\u043b\u043e\u0441\u044c: ${null===(e=c.data[0])||void 0===e?void 0:e.quantityLeft} / ${null===(r=c.data[0])||void 0===r?void 0:r.quantity}`,1e3),o()}catch(l){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u043e\u0442\u0447\u0435\u0442\u0430:",l)}finally{p(!1)}}},S=()=>{c({conditionAfter:"",conditionBefore:"",intensity:"",rating:0,comment:"",reason:"",reschedule:"",writeoffComment:"",sessionDate:nN()().format("YYYY-MM-DDTHH:mm")}),g("writeoff"),f({})},A=e=>{l(e),S()},C=W.useMemo((()=>{try{return JSON.parse(a.sessionQueue)}catch{return[]}}),[a.sessionQueue]);return(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)(xm,{open:r,onClose:()=>o(),maxWidth:"sm",fullWidth:!0,children:Array.isArray(C)&&C.length>0?(0,sn.jsxs)(ps,{sx:{p:3},children:[(0,sn.jsxs)(ps,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[(0,sn.jsx)(vs,{variant:"h5",fontWeight:"bold",children:a.name}),(0,sn.jsxs)(ps,{sx:{display:"flex",gap:1},children:[(0,sn.jsx)(Sp,{label:"\u041f\u0440\u043e\u0432\u0435\u0434\u0435\u043d\u0430",onClick:()=>A("completed"),color:"completed"===s?"primary":"default",variant:"completed"===s?"filled":"outlined",icon:(0,sn.jsx)(ZE,{})}),(0,sn.jsx)(Sp,{label:"\u041f\u0440\u043e\u043f\u0443\u0449\u0435\u043d\u0430",onClick:()=>A("missed"),color:"missed"===s?"primary":"default",variant:"missed"===s?"filled":"outlined",icon:(0,sn.jsx)(JE,{})}),(0,sn.jsx)(Sp,{label:"\u0421\u043f\u0438\u0441\u0430\u0442\u044c",onClick:()=>A("simple"),color:"simple"===s?"primary":"default",variant:"simple"===s?"filled":"outlined",icon:(0,sn.jsx)(em,{})})]})]}),(0,sn.jsx)(qp,{sx:{mb:3}}),(0,sn.jsx)(rs,{label:"\u0414\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043c\u044f \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0438",type:"datetime-local",fullWidth:!0,InputLabelProps:{shrink:!0},value:u.sessionDate,onChange:e=>w("sessionDate",e.target.value),sx:{mt:3,mb:2}}),"simple"===s?(0,sn.jsx)(Fp,{variant:"outlined",sx:{mb:3},children:(0,sn.jsx)(Wp,{children:(0,sn.jsx)(_I,{spacing:3,children:(0,sn.jsx)(rs,{label:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 (\u043d\u0435\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e)",multiline:!0,rows:3,fullWidth:!0,value:u.writeoffComment,onChange:e=>w("writeoffComment",e.target.value),variant:"outlined"})})})}):"missed"===s?(0,sn.jsx)(Fp,{variant:"outlined",sx:{mb:3},children:(0,sn.jsx)(Wp,{children:(0,sn.jsxs)(_I,{spacing:3,children:[(0,sn.jsxs)(Oo,{fullWidth:!0,error:!!h.reason,children:[(0,sn.jsx)(wo,{children:"\u041f\u0440\u0438\u0447\u0438\u043d\u0430 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0438\u044f"}),(0,sn.jsx)(HI,{value:u.reason,onChange:e=>w("reason",e.target.value),children:rN.map((e=>(0,sn.jsx)(QI,{value:e,control:(0,sn.jsx)(gE,{}),label:e},e)))}),h.reason&&(0,sn.jsx)(vs,{color:"error",variant:"caption",children:h.reason})]}),(0,sn.jsxs)(CE,{fullWidth:!0,exclusive:!0,value:m,onChange:(e,t)=>g(t),children:[(0,sn.jsxs)(OE,{value:"writeoff",color:"success",sx:{"&.Mui-selected":{backgroundColor:"success.main",color:"white","&:hover":{backgroundColor:"success.dark"}}},children:[(0,sn.jsx)(eN,{sx:{mr:1}}),"\u0421\u043f\u0438\u0441\u0430\u0442\u044c"]}),(0,sn.jsxs)(OE,{value:"no_writeoff",color:"error",sx:{"&.Mui-selected":{backgroundColor:"error.main",color:"white","&:hover":{backgroundColor:"error.dark"}}},children:[(0,sn.jsx)(ny,{sx:{mr:1}}),"\u041d\u0435 \u0441\u043f\u0438\u0441\u044b\u0432\u0430\u0442\u044c"]})]}),(0,sn.jsx)(rs,{label:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",multiline:!0,rows:3,fullWidth:!0,value:u.comment,onChange:e=>w("comment",e.target.value),variant:"outlined"})]})})}):(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)(Fp,{variant:"outlined",sx:{mb:3},children:(0,sn.jsx)(Wp,{children:(0,sn.jsxs)(_I,{spacing:3,children:[(0,sn.jsxs)(Oo,{fullWidth:!0,error:!!h.conditionBefore,children:[(0,sn.jsx)(wo,{children:"\u0421\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u0434\u043e \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0438"}),(0,sn.jsx)(HI,{row:!0,value:u.conditionBefore,onChange:e=>w("conditionBefore",e.target.value),children:oN.map(((e,t)=>(0,sn.jsx)(QI,{value:e.value,control:(0,sn.jsx)(gE,{}),label:(0,sn.jsxs)(ps,{sx:{display:"flex",alignItems:"center"},children:[e.icon,(0,sn.jsx)(ps,{sx:{ml:1},children:e.value})]})},t)))}),h.conditionBefore&&(0,sn.jsx)(vs,{color:"error",variant:"caption",children:h.conditionBefore})]}),(0,sn.jsxs)(Oo,{fullWidth:!0,error:!!h.intensity,children:[(0,sn.jsx)(wo,{children:"\u0418\u043d\u0442\u0435\u043d\u0441\u0438\u0432\u043d\u043e\u0441\u0442\u044c"}),(0,sn.jsx)(HI,{row:!0,value:u.intensity,onChange:e=>w("intensity",e.target.value),children:aN.map((e=>(0,sn.jsx)(QI,{value:e,control:(0,sn.jsx)(gE,{}),label:e},e)))}),h.intensity&&(0,sn.jsx)(vs,{color:"error",variant:"caption",children:h.intensity})]}),(0,sn.jsxs)(Oo,{fullWidth:!0,error:!!h.conditionAfter,children:[(0,sn.jsx)(wo,{children:"\u0421\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u043f\u043e\u0441\u043b\u0435 \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0438"}),(0,sn.jsx)(HI,{row:!0,value:u.conditionAfter,onChange:e=>w("conditionAfter",e.target.value),children:oN.map(((e,t)=>(0,sn.jsx)(QI,{value:e.value,control:(0,sn.jsx)(gE,{}),label:(0,sn.jsxs)(ps,{sx:{display:"flex",alignItems:"center"},children:[e.icon,(0,sn.jsx)(ps,{sx:{ml:1},children:e.value})]})},t)))}),h.conditionAfter&&(0,sn.jsx)(vs,{color:"error",variant:"caption",children:h.conditionAfter})]}),(0,sn.jsxs)(Oo,{fullWidth:!0,error:!!h.rating,children:[(0,sn.jsx)(wo,{children:"\u041e\u0446\u0435\u043d\u043a\u0430 \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0438"}),(0,sn.jsx)(qE,{value:u.rating,onChange:(e,t)=>w("rating",t),size:"large",sx:{mt:1}}),h.rating&&(0,sn.jsx)(vs,{color:"error",variant:"caption",children:h.rating})]})]})})}),(0,sn.jsx)(rs,{label:"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438",multiline:!0,rows:3,fullWidth:!0,value:u.comment,onChange:e=>w("comment",e.target.value),variant:"outlined"})]}),(0,sn.jsxs)(ps,{sx:{display:"flex",justifyContent:"flex-end",mt:3,gap:2},children:[(0,sn.jsx)(rr,{onClick:()=>o(),variant:"outlined",disabled:d,children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),(0,sn.jsx)(rr,{variant:"contained",onClick:k,disabled:d,startIcon:d?(0,sn.jsx)(Sl,{size:20}):null,children:"\u0421\u043f\u0438\u0441\u0430\u0442\u044c"})]})]}):(0,sn.jsxs)(ps,{sx:{p:3,textAlign:"center"},children:[(0,sn.jsx)(vs,{variant:"h6",fontWeight:"bold",color:"error",mb:2,children:"\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435! \u0423 \u044d\u0442\u043e\u0433\u043e \u043a\u043b\u0438\u0435\u043d\u0442\u0430 \u043d\u0435\u0442 \u043a\u0443\u043f\u043b\u0435\u043d\u043d\u043e\u0433\u043e \u043f\u0430\u043a\u0435\u0442\u0430."}),(0,sn.jsxs)(ps,{sx:{display:"flex",justifyContent:"center",gap:2},children:[(0,sn.jsx)(rr,{variant:"contained",color:"primary",onClick:()=>{a.id,Ud("errorToastBack","error","\u042d\u0442\u043e\u0442 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b \u043f\u043e\u043a\u0430 \u0447\u0442\u043e \u043d\u0435 \u0440\u0430\u0431\u043e\u0430\u0442\u0435\u0442. \u041d\u0443\u0436\u0435\u043d? \u041f\u043e\u0446\u0435\u043b\u0443\u0439\u0442\u0435 \u0414\u0438\u043c\u0443 3 \u0440\u0430\u0437\u0430!",2e3)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"}),(0,sn.jsx)(rr,{variant:"contained",color:"primary",onClick:()=>{A("missed"),x(!0)},children:"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c"}),(0,sn.jsx)(rr,{variant:"outlined",onClick:()=>o(),children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"})]})]})}),b&&(0,sn.jsx)(xm,{open:b,onClose:()=>x(!1),maxWidth:"sm",fullWidth:!0,children:(0,sn.jsxs)(ps,{sx:{p:3},children:[(0,sn.jsxs)(ps,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[(0,sn.jsx)(vs,{variant:"h5",fontWeight:"bold",children:a.name}),(0,sn.jsx)(ps,{sx:{display:"flex",gap:1},children:(0,sn.jsx)(Sp,{label:"\u041f\u0440\u043e\u043f\u0443\u0449\u0435\u043d\u0430",onClick:()=>A("missed"),color:"missed"===s?"primary":"default",variant:"missed"===s?"filled":"outlined",icon:(0,sn.jsx)(JE,{})})})]}),(0,sn.jsx)(rs,{label:"\u0414\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043c\u044f \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0438",type:"datetime-local",fullWidth:!0,InputLabelProps:{shrink:!0},value:u.sessionDate,onChange:e=>w("sessionDate",e.target.value),sx:{mt:3,mb:2}}),(0,sn.jsx)(qp,{sx:{mb:3}}),(0,sn.jsx)(Fp,{variant:"outlined",sx:{mb:3},children:(0,sn.jsx)(Wp,{children:(0,sn.jsxs)(_I,{spacing:3,children:[(0,sn.jsxs)(Oo,{fullWidth:!0,error:!!h.reason,children:[(0,sn.jsx)(wo,{children:"\u041f\u0440\u0438\u0447\u0438\u043d\u0430 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0438\u044f"}),(0,sn.jsx)(HI,{value:u.reason,onChange:e=>w("reason",e.target.value),children:rN.map((e=>(0,sn.jsx)(QI,{value:e,control:(0,sn.jsx)(gE,{}),label:e},e)))}),h.reason&&(0,sn.jsx)(vs,{color:"error",variant:"caption",children:h.reason})]}),(0,sn.jsxs)(CE,{fullWidth:!0,exclusive:!0,value:m,onChange:(e,t)=>g(t),children:[(0,sn.jsxs)(OE,{value:"writeoff",color:"success",disabled:!0,sx:{"&.Mui-disabled":{opacity:.5,backgroundColor:"#e0e0e0",color:"#888"}},children:[(0,sn.jsx)(eN,{sx:{mr:1}}),"\u0421\u043f\u0438\u0441\u0430\u0442\u044c"]}),(0,sn.jsxs)(OE,{value:"no_writeoff",color:"error",sx:{"&.Mui-selected":{backgroundColor:"error.main",color:"white","&:hover":{backgroundColor:"error.dark"}}},children:[(0,sn.jsx)(ny,{sx:{mr:1}}),"\u041d\u0435 \u0441\u043f\u0438\u0441\u044b\u0432\u0430\u0442\u044c"]})]}),(0,sn.jsx)(rs,{label:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",multiline:!0,rows:3,fullWidth:!0,value:u.comment,onChange:e=>w("comment",e.target.value),variant:"outlined"})]})})}),(0,sn.jsxs)(ps,{sx:{display:"flex",justifyContent:"flex-end",mt:3,gap:2},children:[(0,sn.jsx)(rr,{onClick:()=>x(!1),variant:"outlined",disabled:d,children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),(0,sn.jsx)(rr,{variant:"contained",onClick:()=>{x(!1),k()},disabled:d,startIcon:d?(0,sn.jsx)(Sl,{size:20}):null,children:"\u0421\u043f\u0438\u0441\u0430\u0442\u044c"})]})]})})]})};var sN=n(5134),lN=n(2177),uN=n(2090),cN=n(9466),dN=n(8663),pN=n(5311),hN=n(9778);function fN(e){return(0,on.Ay)("MuiSwitch",e)}const mN=(0,rn.A)("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),gN=["className","color","edge","size","sx"],yN=(0,en.Ay)("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.edge&&t[`edge${(0,qn.A)(n.edge)}`],t[`size${(0,qn.A)(n.size)}`]]}})({display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${mN.thumb}`]:{width:16,height:16},[`& .${mN.switchBase}`]:{padding:4,[`&.${mN.checked}`]:{transform:"translateX(16px)"}}}}]}),vN=(0,en.Ay)(nE,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.switchBase,{[`& .${mN.input}`]:t.input},"default"!==n.color&&t[`color${(0,qn.A)(n.color)}`]]}})((e=>{let{theme:t}=e;return{position:"absolute",top:0,left:0,zIndex:1,color:t.vars?t.vars.palette.Switch.defaultColor:`${"light"===t.palette.mode?t.palette.common.white:t.palette.grey[300]}`,transition:t.transitions.create(["left","transform"],{duration:t.transitions.duration.shortest}),[`&.${mN.checked}`]:{transform:"translateX(20px)"},[`&.${mN.disabled}`]:{color:t.vars?t.vars.palette.Switch.defaultDisabledColor:`${"light"===t.palette.mode?t.palette.grey[100]:t.palette.grey[600]}`},[`&.${mN.checked} + .${mN.track}`]:{opacity:.5},[`&.${mN.disabled} + .${mN.track}`]:{opacity:t.vars?t.vars.opacity.switchTrackDisabled:""+("light"===t.palette.mode?.12:.2)},[`& .${mN.input}`]:{left:"-100%",width:"300%"}}}),(e=>{let{theme:t}=e;return{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,Jt.X4)(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(t.palette).filter((e=>{let[,t]=e;return t.main&&t.light})).map((e=>{let[n]=e;return{props:{color:n},style:{[`&.${mN.checked}`]:{color:(t.vars||t).palette[n].main,"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette[n].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,Jt.X4)(t.palette[n].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${mN.disabled}`]:{color:t.vars?t.vars.palette.Switch[`${n}DisabledColor`]:`${"light"===t.palette.mode?(0,Jt.a)(t.palette[n].main,.62):(0,Jt.e$)(t.palette[n].main,.55)}`}},[`&.${mN.checked} + .${mN.track}`]:{backgroundColor:(t.vars||t).palette[n].main}}}}))]}})),bN=(0,en.Ay)("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(e,t)=>t.track})((e=>{let{theme:t}=e;return{height:"100%",width:"100%",borderRadius:7,zIndex:-1,transition:t.transitions.create(["opacity","background-color"],{duration:t.transitions.duration.shortest}),backgroundColor:t.vars?t.vars.palette.common.onBackground:`${"light"===t.palette.mode?t.palette.common.black:t.palette.common.white}`,opacity:t.vars?t.vars.opacity.switchTrack:""+("light"===t.palette.mode?.38:.3)}})),xN=(0,en.Ay)("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(e,t)=>t.thumb})((e=>{let{theme:t}=e;return{boxShadow:(t.vars||t).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}})),wN=W.forwardRef((function(e,t){const n=(0,nn.b)({props:e,name:"MuiSwitch"}),{className:r,color:o="primary",edge:a=!1,size:i="medium",sx:s}=n,l=(0,Xt.A)(n,gN),u=(0,Yt.A)({},n,{color:o,edge:a,size:i}),c=(e=>{const{classes:t,edge:n,size:r,color:o,checked:a,disabled:i}=e,s={root:["root",n&&`edge${(0,qn.A)(n)}`,`size${(0,qn.A)(r)}`],switchBase:["switchBase",`color${(0,qn.A)(o)}`,a&&"checked",i&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},l=(0,Zt.A)(s,fN,t);return(0,Yt.A)({},t,l)})(u),d=(0,sn.jsx)(xN,{className:c.thumb,ownerState:u});return(0,sn.jsxs)(yN,{className:(0,Qt.A)(c.root,r),sx:s,ownerState:u,children:[(0,sn.jsx)(vN,(0,Yt.A)({type:"checkbox",icon:d,checkedIcon:d,ref:t,ownerState:u},l,{classes:(0,Yt.A)({},c,{root:c.switchBase})})),(0,sn.jsx)(bN,{className:c.track,ownerState:u})]})})),kN=(0,Vi.A)((0,sn.jsx)("path",{d:"M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 18H4V8h16z"}),"CalendarToday"),SN=(0,Vi.A)((0,sn.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8m3.5-9c.83 0 1.5-.67 1.5-1.5S16.33 8 15.5 8 14 8.67 14 9.5s.67 1.5 1.5 1.5m-7 0c.83 0 1.5-.67 1.5-1.5S9.33 8 8.5 8 7 8.67 7 9.5 7.67 11 8.5 11m3.5 6.5c2.33 0 4.31-1.46 5.11-3.5H6.89c.8 2.04 2.78 3.5 5.11 3.5"}),"Mood"),AN=(0,Vi.A)((0,sn.jsx)("path",{d:"M14.4 6 14 4H5v17h2v-7h5.6l.4 2h7V6z"}),"Flag"),CN=(0,Vi.A)((0,sn.jsx)("path",{d:"M21.99 4c0-1.1-.89-2-1.99-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4zM18 14H6v-2h12zm0-3H6V9h12zm0-3H6V6h12z"}),"Comment"),TN=(0,Vi.A)((0,sn.jsx)("path",{d:"M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8"}),"Undo"),IN=(0,Vi.A)((0,sn.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"}),"Cancel"),EN=e=>{let{adapter:t,value:n,timezone:r,props:o}=e;if(null===n)return null;const{minTime:a,maxTime:i,minutesStep:s,shouldDisableTime:l,disableIgnoringDatePartForTimeValidation:u=!1,disablePast:c,disableFuture:d}=o,p=t.utils.date(void 0,r),h=Fv(u,t.utils);switch(!0){case!t.utils.isValid(n):return"invalidDate";case Boolean(a&&h(a,n)):return"minTime";case Boolean(i&&h(n,i)):return"maxTime";case Boolean(d&&t.utils.isAfter(n,p)):return"disableFuture";case Boolean(c&&t.utils.isBefore(n,p)):return"disablePast";case Boolean(l&&l(n,"hours")):return"shouldDisableTime-hours";case Boolean(l&&l(n,"minutes")):return"shouldDisableTime-minutes";case Boolean(l&&l(n,"seconds")):return"shouldDisableTime-seconds";case Boolean(s&&t.utils.getMinutes(n)%s!==0):return"minutesStep";default:return null}};EN.valueManager=ub;const NN=e=>{let{adapter:t,value:n,timezone:r,props:o}=e;const a=zb({adapter:t,value:n,timezone:r,props:o});return null!==a?a:EN({adapter:t,value:n,timezone:r,props:o})};NN.valueManager=ub;const ON=e=>{const t=(e=>{const t=bb(),n=xb(),r=e.ampm??t.is12HourCycleInCurrentLocale()?t.formats.keyboardDateTime12h:t.formats.keyboardDateTime24h;return(0,Yt.A)({},e,{disablePast:e.disablePast??!1,disableFuture:e.disableFuture??!1,format:e.format??r,disableIgnoringDatePartForTimeValidation:Boolean(e.minDateTime||e.maxDateTime),minDate:Cv(t,e.minDateTime??e.minDate,n.minDate),maxDate:Cv(t,e.maxDateTime??e.maxDate,n.maxDate),minTime:e.minDateTime??e.minTime,maxTime:e.maxDateTime??e.maxTime})})(e),{forwardedProps:n,internalProps:r}=fw(t,"date-time");return pw({forwardedProps:n,internalProps:r,valueManager:ub,fieldValueManager:cb,validator:NN,valueType:"date-time"})},MN=["slots","slotProps","InputProps","inputProps"],DN=W.forwardRef((function(e,t){const n=yv({props:e,name:"MuiDateTimeField"}),{slots:r,slotProps:o,InputProps:a,inputProps:i}=n,s=(0,Xt.A)(n,MN),l=n,u=r?.textField??(e.enableAccessibleFieldDOMStructure?wk:rs),c=qo({elementType:u,externalSlotProps:o?.textField,externalForwardedProps:s,ownerState:l,additionalProps:{ref:t}});c.inputProps=(0,Yt.A)({},i,c.inputProps),c.InputProps=(0,Yt.A)({},a,c.InputProps);const d=ON(c),p=Ck(d),h=vw((0,Yt.A)({},p,{slots:r,slotProps:o}));return(0,sn.jsx)(u,(0,Yt.A)({},h))}));function RN(e){return(0,on.Ay)("MuiDateTimePickerTabs",e)}(0,rn.A)("MuiDateTimePickerTabs",["root"]);const PN=e=>Ov(e)?"date":"time",$N=(0,en.Ay)(Hg,{name:"MuiDateTimePickerTabs",slot:"Root",overridesResolver:(e,t)=>t.root})((e=>{let{theme:t}=e;return{boxShadow:`0 -1px 0 0 inset ${(t.vars||t).palette.divider}`,"&:last-child":{boxShadow:`0 1px 0 0 inset ${(t.vars||t).palette.divider}`,[`& .${Pg.indicator}`]:{bottom:"auto",top:0}}}})),jN=function(e){const t=yv({props:e,name:"MuiDateTimePickerTabs"}),{dateIcon:n=(0,sn.jsx)(ew,{}),onViewChange:r,timeIcon:o=(0,sn.jsx)(tw,{}),view:a,hidden:i="undefined"===typeof window||window.innerHeight<667,className:s,sx:l}=t,u=Eb(),c=(e=>{const{classes:t}=e;return(0,Zt.A)({root:["root"]},RN,t)})(t);return i?null:(0,sn.jsxs)($N,{ownerState:t,variant:"fullWidth",value:PN(a),onChange:(e,t)=>{r("date"===t?"day":"hours")},className:(0,Qt.A)(s,c.root),sx:l,children:[(0,sn.jsx)(Yg,{value:"date","aria-label":u.dateTableLabel,icon:(0,sn.jsx)(W.Fragment,{children:n})}),(0,sn.jsx)(Yg,{value:"time","aria-label":u.timeTableLabel,icon:(0,sn.jsx)(W.Fragment,{children:o})})]})};function _N(e){return(0,on.Ay)("MuiPickersToolbarText",e)}const FN=(0,rn.A)("MuiPickersToolbarText",["root","selected"]),LN=["className","selected","value"],zN=(0,en.Ay)(vs,{name:"MuiPickersToolbarText",slot:"Root",overridesResolver:(e,t)=>[t.root,{[`&.${FN.selected}`]:t.selected}]})((e=>{let{theme:t}=e;return{transition:t.transitions.create("color"),color:(t.vars||t).palette.text.secondary,[`&.${FN.selected}`]:{color:(t.vars||t).palette.text.primary}}})),BN=W.forwardRef((function(e,t){const n=yv({props:e,name:"MuiPickersToolbarText"}),{className:r,value:o}=n,a=(0,Xt.A)(n,LN),i=(e=>{const{classes:t,selected:n}=e,r={root:["root",n&&"selected"]};return(0,Zt.A)(r,_N,t)})(n);return(0,sn.jsx)(zN,(0,Yt.A)({ref:t,className:(0,Qt.A)(i.root,r),component:"span"},a,{children:o}))})),WN=["align","className","selected","typographyClassName","value","variant","width"],VN=(0,en.Ay)(rr,{name:"MuiPickersToolbarButton",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:0,minWidth:16,textTransform:"none"}),UN=W.forwardRef((function(e,t){const n=yv({props:e,name:"MuiPickersToolbarButton"}),{align:r,className:o,selected:a,typographyClassName:i,value:s,variant:l,width:u}=n,c=(0,Xt.A)(n,WN),d=(e=>{const{classes:t}=e;return(0,Zt.A)({root:["root"]},kb,t)})(n);return(0,sn.jsx)(VN,(0,Yt.A)({variant:"text",ref:t,className:(0,Qt.A)(d.root,o)},u?{sx:{width:u}}:{},c,{children:(0,sn.jsx)(BN,{align:r,className:i,variant:l,value:s,selected:a})}))}));function HN(e){return(0,on.Ay)("MuiDateTimePickerToolbar",e)}const GN=(0,rn.A)("MuiDateTimePickerToolbar",["root","dateContainer","timeContainer","timeDigitsContainer","separator","timeLabelReverse","ampmSelection","ampmLandscape","ampmLabel"]),qN=["ampm","ampmInClock","value","onChange","view","isLandscape","onViewChange","toolbarFormat","toolbarPlaceholder","views","disabled","readOnly","toolbarVariant","toolbarTitle","className"],KN=(0,en.Ay)(Ib,{name:"MuiDateTimePickerToolbar",slot:"Root",overridesResolver:(e,t)=>t.root})((e=>{let{theme:t}=e;return{paddingLeft:16,paddingRight:16,justifyContent:"space-around",position:"relative",variants:[{props:{toolbarVariant:"desktop"},style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,[`& .${Sb.content} .${FN.selected}`]:{color:(t.vars||t).palette.primary.main,fontWeight:t.typography.fontWeightBold}}},{props:{toolbarVariant:"desktop",isLandscape:!0},style:{borderRight:`1px solid ${(t.vars||t).palette.divider}`}},{props:{toolbarVariant:"desktop",isLandscape:!1},style:{paddingLeft:24,paddingRight:0}}]}})),XN=(0,en.Ay)("div",{name:"MuiDateTimePickerToolbar",slot:"DateContainer",overridesResolver:(e,t)=>t.dateContainer})({display:"flex",flexDirection:"column",alignItems:"flex-start"}),YN=(0,en.Ay)("div",{name:"MuiDateTimePickerToolbar",slot:"TimeContainer",overridesResolver:(e,t)=>t.timeContainer})({display:"flex",flexDirection:"row",variants:[{props:{isRtl:!0},style:{flexDirection:"row-reverse"}},{props:{toolbarVariant:"desktop",isLandscape:!1},style:{gap:9,marginRight:4,alignSelf:"flex-end"}},{props:e=>{let{isLandscape:t,toolbarVariant:n}=e;return t&&"desktop"!==n},style:{flexDirection:"column"}},{props:e=>{let{isLandscape:t,toolbarVariant:n,isRtl:r}=e;return t&&"desktop"!==n&&r},style:{flexDirection:"column-reverse"}}]}),QN=(0,en.Ay)("div",{name:"MuiDateTimePickerToolbar",slot:"TimeDigitsContainer",overridesResolver:(e,t)=>t.timeDigitsContainer})({display:"flex",variants:[{props:{isRtl:!0},style:{flexDirection:"row-reverse"}},{props:{toolbarVariant:"desktop"},style:{gap:1.5}}]}),ZN=(0,en.Ay)(BN,{name:"MuiDateTimePickerToolbar",slot:"Separator",overridesResolver:(e,t)=>t.separator})({margin:"0 4px 0 2px",cursor:"default",variants:[{props:{toolbarVariant:"desktop"},style:{margin:0}}]}),JN=(0,en.Ay)("div",{name:"MuiDateTimePickerToolbar",slot:"AmPmSelection",overridesResolver:(e,t)=>[{[`.${GN.ampmLabel}`]:t.ampmLabel},{[`&.${GN.ampmLandscape}`]:t.ampmLandscape},t.ampmSelection]})({display:"flex",flexDirection:"column",marginRight:"auto",marginLeft:12,[`& .${GN.ampmLabel}`]:{fontSize:17},variants:[{props:{isLandscape:!0},style:{margin:"4px 0 auto",flexDirection:"row",justifyContent:"space-around",width:"100%"}}]});function eO(e){const t=yv({props:e,name:"MuiDateTimePickerToolbar"}),{ampm:n,ampmInClock:r,value:o,onChange:a,view:i,isLandscape:s,onViewChange:l,toolbarFormat:u,toolbarPlaceholder:c="\u2013\u2013",views:d,disabled:p,readOnly:h,toolbarVariant:f="mobile",toolbarTitle:m,className:g}=t,y=(0,Xt.A)(t,qN),v=zo(),b=(0,Yt.A)({},t,{isRtl:v}),x=bb(),{meridiemMode:w,handleMeridiemChange:k}=US(o,n,a),S=Boolean(n&&!r),A="desktop"===f,C=Eb(),T=(e=>{const{classes:t,isLandscape:n,isRtl:r}=e,o={root:["root"],dateContainer:["dateContainer"],timeContainer:["timeContainer",r&&"timeLabelReverse"],timeDigitsContainer:["timeDigitsContainer",r&&"timeLabelReverse"],separator:["separator"],ampmSelection:["ampmSelection",n&&"ampmLandscape"],ampmLabel:["ampmLabel"]};return(0,Zt.A)(o,HN,t)})(b),I=m??C.dateTimePickerToolbarTitle,E=W.useMemo((()=>o?u?x.formatByString(o,u):x.format(o,"shortDate"):c),[o,u,c,x]);return(0,sn.jsxs)(KN,(0,Yt.A)({isLandscape:s,className:(0,Qt.A)(T.root,g),toolbarTitle:I},y,{ownerState:b,children:[(0,sn.jsxs)(XN,{className:T.dateContainer,ownerState:b,children:[d.includes("year")&&(0,sn.jsx)(UN,{tabIndex:-1,variant:"subtitle1",onClick:()=>l("year"),selected:"year"===i,value:o?x.format(o,"year"):"\u2013"}),d.includes("day")&&(0,sn.jsx)(UN,{tabIndex:-1,variant:A?"h5":"h4",onClick:()=>l("day"),selected:"day"===i,value:E})]}),(0,sn.jsxs)(YN,{className:T.timeContainer,ownerState:b,children:[(0,sn.jsxs)(QN,{className:T.timeDigitsContainer,ownerState:b,children:[d.includes("hours")&&(0,sn.jsxs)(W.Fragment,{children:[(0,sn.jsx)(UN,{variant:A?"h5":"h3",width:A&&!s?48:void 0,onClick:()=>l("hours"),selected:"hours"===i,value:o?(N=o,n?x.format(N,"hours12h"):x.format(N,"hours24h")):"--"}),(0,sn.jsx)(ZN,{variant:A?"h5":"h3",value:":",className:T.separator,ownerState:b}),(0,sn.jsx)(UN,{variant:A?"h5":"h3",width:A&&!s?48:void 0,onClick:()=>l("minutes"),selected:"minutes"===i||!d.includes("minutes")&&"hours"===i,value:o?x.format(o,"minutes"):"--",disabled:!d.includes("minutes")})]}),d.includes("seconds")&&(0,sn.jsxs)(W.Fragment,{children:[(0,sn.jsx)(ZN,{variant:A?"h5":"h3",value:":",className:T.separator,ownerState:b}),(0,sn.jsx)(UN,{variant:A?"h5":"h3",width:A&&!s?48:void 0,onClick:()=>l("seconds"),selected:"seconds"===i,value:o?x.format(o,"seconds"):"--"})]})]}),S&&!A&&(0,sn.jsxs)(JN,{className:T.ampmSelection,ownerState:b,children:[(0,sn.jsx)(UN,{variant:"subtitle2",selected:"am"===w,typographyClassName:T.ampmLabel,value:Ev(x,"am"),onClick:h?void 0:()=>k("am"),disabled:p}),(0,sn.jsx)(UN,{variant:"subtitle2",selected:"pm"===w,typographyClassName:T.ampmLabel,value:Ev(x,"pm"),onClick:h?void 0:()=>k("pm"),disabled:p})]}),n&&A&&(0,sn.jsx)(UN,{variant:"h5",onClick:()=>l("meridiem"),selected:"meridiem"===i,value:o&&w?Ev(x,w):"--",width:48})]})]}));var N}function tO(e,t){const n=bb(),r=xb(),o=yv({props:e,name:t}),a=o.ampm??n.is12HourCycleInCurrentLocale(),i=W.useMemo((()=>null==o.localeText?.toolbarTitle?o.localeText:(0,Yt.A)({},o.localeText,{dateTimePickerToolbarTitle:o.localeText.toolbarTitle})),[o.localeText]);return(0,Yt.A)({},o,kv({views:o.views,openTo:o.openTo,defaultViews:["year","day","hours","minutes"],defaultOpenTo:"day"}),{ampm:a,localeText:i,orientation:o.orientation??"portrait",disableIgnoringDatePartForTimeValidation:o.disableIgnoringDatePartForTimeValidation??Boolean(o.minDateTime||o.maxDateTime||o.disablePast||o.disableFuture),disableFuture:o.disableFuture??!1,disablePast:o.disablePast??!1,minDate:Cv(n,o.minDateTime??o.minDate,r.minDate),maxDate:Cv(n,o.maxDateTime??o.maxDate,r.maxDate),minTime:o.minDateTime??o.minTime,maxTime:o.maxDateTime??o.maxTime,slots:(0,Yt.A)({toolbar:eO,tabs:jN},o.slots),slotProps:(0,Yt.A)({},o.slotProps,{toolbar:(0,Yt.A)({ampm:a},o.slotProps?.toolbar)})})}const nO=["views","format"],rO=(e,t,n)=>{let{views:r,format:o}=t,a=(0,Xt.A)(t,nO);if(o)return o;const i=[],s=[];if(r.forEach((e=>{Pv(e)?s.push(e):Ov(e)&&i.push(e)})),0===s.length)return Mv(e,(0,Yt.A)({views:i},a),!1);if(0===i.length)return Lv(e,(0,Yt.A)({views:s},a));const l=Lv(e,(0,Yt.A)({views:s},a));return`${n?e.formats.keyboardDate:Mv(e,(0,Yt.A)({views:i},a),!1)} ${l}`},oO=(e,t,n)=>n?t.filter((e=>!$v(e)||"hours"===e)):e?[...t,"meridiem"]:t;function aO(e){let{thresholdToRenderTimeInASingleColumn:t,ampm:n,timeSteps:r,views:o}=e;const a=t??24,i=(0,Yt.A)({hours:1,minutes:5,seconds:5},r),s=((e,t)=>1440/((e.hours??1)*(e.minutes??5))<=t)(i,a);return{thresholdToRenderTimeInASingleColumn:a,timeSteps:i,shouldRenderTimeInASingleColumn:s,views:oO(n,o,s)}}function iO(e){return(0,on.Ay)("MuiTimeClock",e)}(0,rn.A)("MuiTimeClock",["root","arrowSwitcher"]);const sO=220,lO=36,uO={x:110,y:110},cO=uO.x-uO.x,dO=0-uO.y,pO=(e,t,n)=>{const r=t-uO.x,o=n-uO.y,a=Math.atan2(cO,dO)-Math.atan2(r,o);let i=a*(180/Math.PI);i=Math.round(i/e)*e,i%=360;const s=r**2+o**2;return{value:Math.floor(i/e)||0,distance:Math.sqrt(s)}};function hO(e){return(0,on.Ay)("MuiClockPointer",e)}(0,rn.A)("MuiClockPointer",["root","thumb"]);const fO=["className","hasSelected","isInner","type","viewValue"],mO=(0,en.Ay)("div",{name:"MuiClockPointer",slot:"Root",overridesResolver:(e,t)=>t.root})((e=>{let{theme:t}=e;return{width:2,backgroundColor:(t.vars||t).palette.primary.main,position:"absolute",left:"calc(50% - 1px)",bottom:"50%",transformOrigin:"center bottom 0px",variants:[{props:{shouldAnimate:!0},style:{transition:t.transitions.create(["transform","height"])}}]}})),gO=(0,en.Ay)("div",{name:"MuiClockPointer",slot:"Thumb",overridesResolver:(e,t)=>t.thumb})((e=>{let{theme:t}=e;return{width:4,height:4,backgroundColor:(t.vars||t).palette.primary.contrastText,borderRadius:"50%",position:"absolute",top:-21,left:"calc(50% - 18px)",border:`16px solid ${(t.vars||t).palette.primary.main}`,boxSizing:"content-box",variants:[{props:{hasSelected:!0},style:{backgroundColor:(t.vars||t).palette.primary.main}}]}}));function yO(e){const t=yv({props:e,name:"MuiClockPointer"}),{className:n,isInner:r,type:o,viewValue:a}=t,i=(0,Xt.A)(t,fO),s=W.useRef(o);W.useEffect((()=>{s.current=o}),[o]);const l=(0,Yt.A)({},t,{shouldAnimate:s.current!==o}),u=(e=>{const{classes:t}=e;return(0,Zt.A)({root:["root"],thumb:["thumb"]},hO,t)})(l);return(0,sn.jsx)(mO,(0,Yt.A)({style:(()=>{let e=360/("hours"===o?12:60)*a;return"hours"===o&&a>12&&(e-=360),{height:Math.round((r?.26:.4)*sO),transform:`rotateZ(${e}deg)`}})(),className:(0,Qt.A)(u.root,n),ownerState:l},i,{children:(0,sn.jsx)(gO,{ownerState:l,className:u.thumb})}))}function vO(e){return(0,on.Ay)("MuiClock",e)}(0,rn.A)("MuiClock",["root","clock","wrapper","squareMask","pin","amButton","pmButton","meridiemText","selected"]);const bO=(0,en.Ay)("div",{name:"MuiClock",slot:"Root",overridesResolver:(e,t)=>t.root})((e=>{let{theme:t}=e;return{display:"flex",justifyContent:"center",alignItems:"center",margin:t.spacing(2)}})),xO=(0,en.Ay)("div",{name:"MuiClock",slot:"Clock",overridesResolver:(e,t)=>t.clock})({backgroundColor:"rgba(0,0,0,.07)",borderRadius:"50%",height:220,width:220,flexShrink:0,position:"relative",pointerEvents:"none"}),wO=(0,en.Ay)("div",{name:"MuiClock",slot:"Wrapper",overridesResolver:(e,t)=>t.wrapper})({"&:focus":{outline:"none"}}),kO=(0,en.Ay)("div",{name:"MuiClock",slot:"SquareMask",overridesResolver:(e,t)=>t.squareMask})({width:"100%",height:"100%",position:"absolute",pointerEvents:"auto",outline:0,touchAction:"none",userSelect:"none",variants:[{props:{disabled:!1},style:{"@media (pointer: fine)":{cursor:"pointer",borderRadius:"50%"},"&:active":{cursor:"move"}}}]}),SO=(0,en.Ay)("div",{name:"MuiClock",slot:"Pin",overridesResolver:(e,t)=>t.pin})((e=>{let{theme:t}=e;return{width:6,height:6,borderRadius:"50%",backgroundColor:(t.vars||t).palette.primary.main,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}})),AO=(e,t)=>({zIndex:1,bottom:8,paddingLeft:4,paddingRight:4,width:lO,variants:[{props:{meridiemMode:t},style:{backgroundColor:(e.vars||e).palette.primary.main,color:(e.vars||e).palette.primary.contrastText,"&:hover":{backgroundColor:(e.vars||e).palette.primary.light}}}]}),CO=(0,en.Ay)(Ns,{name:"MuiClock",slot:"AmButton",overridesResolver:(e,t)=>t.amButton})((e=>{let{theme:t}=e;return(0,Yt.A)({},AO(t,"am"),{position:"absolute",left:8})})),TO=(0,en.Ay)(Ns,{name:"MuiClock",slot:"PmButton",overridesResolver:(e,t)=>t.pmButton})((e=>{let{theme:t}=e;return(0,Yt.A)({},AO(t,"pm"),{position:"absolute",right:8})})),IO=(0,en.Ay)(vs,{name:"MuiClock",slot:"meridiemText",overridesResolver:(e,t)=>t.meridiemText})({overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"});function EO(e){const t=yv({props:e,name:"MuiClock"}),{ampm:n,ampmInClock:r,autoFocus:o,children:a,value:i,handleMeridiemChange:s,isTimeDisabled:l,meridiemMode:u,minutesStep:c=1,onChange:d,selectedId:p,type:h,viewValue:f,viewRange:[m,g],disabled:y=!1,readOnly:v,className:b}=t,x=t,w=bb(),k=Eb(),S=W.useRef(!1),A=(e=>{const{classes:t,meridiemMode:n}=e,r={root:["root"],clock:["clock"],wrapper:["wrapper"],squareMask:["squareMask"],pin:["pin"],amButton:["amButton","am"===n&&"selected"],pmButton:["pmButton","pm"===n&&"selected"],meridiemText:["meridiemText"]};return(0,Zt.A)(r,vO,t)})(x),C=l(f,h),T=!n&&"hours"===h&&(f<1||f>12),I=(e,t)=>{y||v||l(e,h)||d(e,t)},E=(e,t)=>{let{offsetX:r,offsetY:o}=e;if(void 0===r){const t=e.target.getBoundingClientRect();r=e.changedTouches[0].clientX-t.left,o=e.changedTouches[0].clientY-t.top}const a="seconds"===h||"minutes"===h?function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const r=6*n;let{value:o}=pO(r,e,t);return o=o*n%60,o}(r,o,c):((e,t,n)=>{const{value:r,distance:o}=pO(30,e,t);let a=r||12;return n?a%=12:o<74&&(a+=12,a%=24),a})(r,o,Boolean(n));I(a,t)},N=e=>{S.current=!0,E(e,"shallow")},O=W.useMemo((()=>"hours"===h||f%5===0),[h,f]),M="minutes"===h?c:1,D=W.useRef(null);(0,dr.A)((()=>{o&&D.current.focus()}),[o]);const R=e=>Math.max(m,Math.min(g,e)),P=e=>(e+(g+1))%(g+1);return(0,sn.jsxs)(bO,{className:(0,Qt.A)(A.root,b),children:[(0,sn.jsxs)(xO,{className:A.clock,children:[(0,sn.jsx)(kO,{onTouchMove:N,onTouchStart:N,onTouchEnd:e=>{S.current&&(E(e,"finish"),S.current=!1),e.preventDefault()},onMouseUp:e=>{S.current&&(S.current=!1),E(e.nativeEvent,"finish")},onMouseMove:e=>{e.buttons>0&&E(e.nativeEvent,"shallow")},ownerState:{disabled:y},className:A.squareMask}),!C&&(0,sn.jsxs)(W.Fragment,{children:[(0,sn.jsx)(SO,{className:A.pin}),null!=i&&(0,sn.jsx)(yO,{type:h,viewValue:f,isInner:T,hasSelected:O})]}),(0,sn.jsx)(wO,{"aria-activedescendant":p,"aria-label":k.clockLabelText(h,i,w,null==i?null:w.format(i,"fullTime")),ref:D,role:"listbox",onKeyDown:e=>{if(!S.current)switch(e.key){case"Home":I(m,"partial"),e.preventDefault();break;case"End":I(g,"partial"),e.preventDefault();break;case"ArrowUp":I(P(f+M),"partial"),e.preventDefault();break;case"ArrowDown":I(P(f-M),"partial"),e.preventDefault();break;case"PageUp":I(R(f+5),"partial"),e.preventDefault();break;case"PageDown":I(R(f-5),"partial"),e.preventDefault();break;case"Enter":case" ":I(f,"finish"),e.preventDefault()}},tabIndex:0,className:A.wrapper,children:a})]}),n&&r&&(0,sn.jsxs)(W.Fragment,{children:[(0,sn.jsx)(CO,{onClick:v?void 0:()=>s("am"),disabled:y||null===u,ownerState:x,className:A.amButton,title:Ev(w,"am"),children:(0,sn.jsx)(IO,{variant:"caption",className:A.meridiemText,children:Ev(w,"am")})}),(0,sn.jsx)(TO,{disabled:y||null===u,onClick:v?void 0:()=>s("pm"),ownerState:x,className:A.pmButton,title:Ev(w,"pm"),children:(0,sn.jsx)(IO,{variant:"caption",className:A.meridiemText,children:Ev(w,"pm")})})]})]})}function NO(e){return(0,on.Ay)("MuiClockNumber",e)}const OO=(0,rn.A)("MuiClockNumber",["root","selected","disabled"]),MO=["className","disabled","index","inner","label","selected"],DO=(0,en.Ay)("span",{name:"MuiClockNumber",slot:"Root",overridesResolver:(e,t)=>[t.root,{[`&.${OO.disabled}`]:t.disabled},{[`&.${OO.selected}`]:t.selected}]})((e=>{let{theme:t}=e;return{height:lO,width:lO,position:"absolute",left:"calc((100% - 36px) / 2)",display:"inline-flex",justifyContent:"center",alignItems:"center",borderRadius:"50%",color:(t.vars||t).palette.text.primary,fontFamily:t.typography.fontFamily,"&:focused":{backgroundColor:(t.vars||t).palette.background.paper},[`&.${OO.selected}`]:{color:(t.vars||t).palette.primary.contrastText},[`&.${OO.disabled}`]:{pointerEvents:"none",color:(t.vars||t).palette.text.disabled},variants:[{props:{inner:!0},style:(0,Yt.A)({},t.typography.body2,{color:(t.vars||t).palette.text.secondary})}]}}));function RO(e){const t=yv({props:e,name:"MuiClockNumber"}),{className:n,disabled:r,index:o,inner:a,label:i,selected:s}=t,l=(0,Xt.A)(t,MO),u=t,c=(e=>{const{classes:t,selected:n,disabled:r}=e,o={root:["root",n&&"selected",r&&"disabled"]};return(0,Zt.A)(o,NO,t)})(u),d=o%12/12*Math.PI*2-Math.PI/2,p=91*(a?.65:1),h=Math.round(Math.cos(d)*p),f=Math.round(Math.sin(d)*p);return(0,sn.jsx)(DO,(0,Yt.A)({className:(0,Qt.A)(c.root,n),"aria-disabled":!!r||void 0,"aria-selected":!!s||void 0,role:"option",style:{transform:`translate(${h}px, ${f+92}px`},ownerState:u},l,{children:i}))}const PO=e=>{let{ampm:t,value:n,getClockNumberText:r,isDisabled:o,selectedId:a,utils:i}=e;const s=n?i.getHours(n):null,l=[],u=t?12:23,c=e=>null!==s&&(t?12===e?12===s||0===s:s===e||s-12===e:s===e);for(let d=t?1:0;d<=u;d+=1){let e=d.toString();0===d&&(e="00");const n=!t&&(0===d||d>12);e=i.formatNumber(e);const s=c(d);l.push((0,sn.jsx)(RO,{id:s?a:void 0,index:d,inner:n,selected:s,disabled:o(d),label:e,"aria-label":r(e)},d))}return l},$O=e=>{let{utils:t,value:n,isDisabled:r,getClockNumberText:o,selectedId:a}=e;const i=t.formatNumber;return[[5,i("05")],[10,i("10")],[15,i("15")],[20,i("20")],[25,i("25")],[30,i("30")],[35,i("35")],[40,i("40")],[45,i("45")],[50,i("50")],[55,i("55")],[0,i("00")]].map(((e,t)=>{let[i,s]=e;const l=i===n;return(0,sn.jsx)(RO,{label:s,id:l?a:void 0,index:t+1,inner:!1,disabled:r(i),selected:l,"aria-label":o(s)},i)}))},jO=e=>{let{value:t,referenceDate:n,utils:r,props:o,timezone:a}=e;const i=W.useMemo((()=>ub.getInitialReferenceValue({value:t,utils:r,props:o,referenceDate:n,granularity:zv.day,timezone:a,getTodayDate:()=>Iv(r,a,"date")})),[]);return t??i},_O=["ampm","ampmInClock","autoFocus","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableTime","showViewSwitcher","onChange","view","views","openTo","onViewChange","focusedView","onFocusedViewChange","className","disabled","readOnly","timezone"],FO=(0,en.Ay)(tA,{name:"MuiTimeClock",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",flexDirection:"column",position:"relative"}),LO=(0,en.Ay)(VS,{name:"MuiTimeClock",slot:"ArrowSwitcher",overridesResolver:(e,t)=>t.arrowSwitcher})({position:"absolute",right:12,top:15}),zO=["hours","minutes"],BO=W.forwardRef((function(e,t){const n=bb(),r=yv({props:e,name:"MuiTimeClock"}),{ampm:o=n.is12HourCycleInCurrentLocale(),ampmInClock:a=!1,autoFocus:i,slots:s,slotProps:l,value:u,defaultValue:c,referenceDate:d,disableIgnoringDatePartForTimeValidation:p=!1,maxTime:h,minTime:f,disableFuture:m,disablePast:g,minutesStep:y=1,shouldDisableTime:v,showViewSwitcher:b,onChange:x,view:w,views:k=zO,openTo:S,onViewChange:A,focusedView:C,onFocusedViewChange:T,className:I,disabled:E,readOnly:N,timezone:O}=r,M=(0,Xt.A)(r,_O),{value:D,handleValueChange:R,timezone:P}=cx({name:"TimeClock",timezone:O,value:u,defaultValue:c,referenceDate:d,onChange:x,valueManager:ub}),$=jO({value:D,referenceDate:d,utils:n,props:r,timezone:P}),j=Eb(),_=wb(P),{view:F,setView:L,previousView:z,nextView:B,setValueAndGoToNextView:V}=px({view:w,views:k,openTo:S,onViewChange:A,onChange:R,focusedView:C,onFocusedViewChange:T}),{meridiemMode:U,handleMeridiemChange:H}=US($,o,V),G=W.useCallback(((e,t)=>{const r=Fv(p,n),a="hours"===t||"minutes"===t&&k.includes("seconds"),i=e=>{let{start:t,end:n}=e;return(!f||!r(f,n))&&((!h||!r(t,h))&&((!m||!r(t,_))&&(!g||!r(_,a?n:t))))},s=function(e){if(e%(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1)!==0)return!1;if(v)switch(t){case"hours":return!v(n.setHours($,e),"hours");case"minutes":return!v(n.setMinutes($,e),"minutes");case"seconds":return!v(n.setSeconds($,e),"seconds");default:return!1}return!0};switch(t){case"hours":{const t=jv(e,U,o),r=n.setHours($,t);if(n.getHours(r)!==t)return!0;return!i({start:n.setSeconds(n.setMinutes(r,0),0),end:n.setSeconds(n.setMinutes(r,59),59)})||!s(t)}case"minutes":{const t=n.setMinutes($,e);return!i({start:n.setSeconds(t,0),end:n.setSeconds(t,59)})||!s(e,y)}case"seconds":{const t=n.setSeconds($,e);return!i({start:t,end:t})||!s(e)}default:throw new Error("not supported")}}),[o,$,p,h,U,f,y,v,n,m,g,_,k]),q=(0,or.A)(),K=W.useMemo((()=>{switch(F){case"hours":{const e=(e,t)=>{const r=jv(e,U,o);V(n.setHours($,r),t,"hours")},t=n.getHours($);let r;return r=o?t>12?[12,23]:[0,11]:[0,23],{onChange:e,viewValue:t,children:PO({value:D,utils:n,ampm:o,onChange:e,getClockNumberText:j.hoursClockNumberText,isDisabled:e=>E||G(e,"hours"),selectedId:q}),viewRange:r}}case"minutes":{const e=n.getMinutes($),t=(e,t)=>{V(n.setMinutes($,e),t,"minutes")};return{viewValue:e,onChange:t,children:$O({utils:n,value:e,onChange:t,getClockNumberText:j.minutesClockNumberText,isDisabled:e=>E||G(e,"minutes"),selectedId:q}),viewRange:[0,59]}}case"seconds":{const e=n.getSeconds($),t=(e,t)=>{V(n.setSeconds($,e),t,"seconds")};return{viewValue:e,onChange:t,children:$O({utils:n,value:e,onChange:t,getClockNumberText:j.secondsClockNumberText,isDisabled:e=>E||G(e,"seconds"),selectedId:q}),viewRange:[0,59]}}default:throw new Error("You must provide the type for ClockView")}}),[F,n,D,o,j.hoursClockNumberText,j.minutesClockNumberText,j.secondsClockNumberText,U,V,$,G,q,E]),X=r,Y=(e=>{const{classes:t}=e;return(0,Zt.A)({root:["root"],arrowSwitcher:["arrowSwitcher"]},iO,t)})(X);return(0,sn.jsxs)(FO,(0,Yt.A)({ref:t,className:(0,Qt.A)(Y.root,I),ownerState:X},M,{children:[(0,sn.jsx)(EO,(0,Yt.A)({autoFocus:i??!!C,ampmInClock:a&&k.includes("hours"),value:D,type:F,ampm:o,minutesStep:y,isTimeDisabled:G,meridiemMode:U,handleMeridiemChange:H,selectedId:q,disabled:E,readOnly:N},K)),b&&(0,sn.jsx)(LO,{className:Y.arrowSwitcher,slots:s,slotProps:l,onGoToPrevious:()=>L(z),isPreviousDisabled:!z,previousLabel:j.openPreviousView,onGoToNext:()=>L(B),isNextDisabled:!B,nextLabel:j.openNextView,ownerState:X})]}))}));function WO(e){return(0,on.Ay)("MuiDigitalClock",e)}const VO=(0,rn.A)("MuiDigitalClock",["root","list","item"]),UO=["ampm","timeStep","autoFocus","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableTime","onChange","view","openTo","onViewChange","focusedView","onFocusedViewChange","className","disabled","readOnly","views","skipDisabled","timezone"],HO=(0,en.Ay)(tA,{name:"MuiDigitalClock",slot:"Root",overridesResolver:(e,t)=>t.root})({overflowY:"auto",width:"100%","@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"auto"},maxHeight:232,variants:[{props:{alreadyRendered:!0},style:{"@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"smooth"}}}]}),GO=(0,en.Ay)(ia,{name:"MuiDigitalClock",slot:"List",overridesResolver:(e,t)=>t.list})({padding:0}),qO=(0,en.Ay)(ul,{name:"MuiDigitalClock",slot:"Item",overridesResolver:(e,t)=>t.item})((e=>{let{theme:t}=e;return{padding:"8px 16px",margin:"2px 4px","&:first-of-type":{marginTop:4},"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:_k(t.palette.primary.main,t.palette.action.hoverOpacity)},"&.Mui-selected":{backgroundColor:(t.vars||t).palette.primary.main,color:(t.vars||t).palette.primary.contrastText,"&:focus-visible, &:hover":{backgroundColor:(t.vars||t).palette.primary.dark}},"&.Mui-focusVisible":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.focusOpacity})`:_k(t.palette.primary.main,t.palette.action.focusOpacity)}}})),KO=W.forwardRef((function(e,t){const n=bb(),r=W.useRef(null),o=(0,lr.A)(t,r),a=W.useRef(null),i=yv({props:e,name:"MuiDigitalClock"}),{ampm:s=n.is12HourCycleInCurrentLocale(),timeStep:l=30,autoFocus:u,slots:c,slotProps:d,value:p,defaultValue:h,referenceDate:f,disableIgnoringDatePartForTimeValidation:m=!1,maxTime:g,minTime:y,disableFuture:v,disablePast:b,minutesStep:x=1,shouldDisableTime:w,onChange:k,view:S,openTo:A,onViewChange:C,focusedView:T,onFocusedViewChange:I,className:E,disabled:N,readOnly:O,views:M=["hours"],skipDisabled:D=!1,timezone:R}=i,P=(0,Xt.A)(i,UO),{value:$,handleValueChange:j,timezone:_}=cx({name:"DigitalClock",timezone:R,value:p,defaultValue:h,referenceDate:f,onChange:k,valueManager:ub}),F=Eb(),L=wb(_),z=W.useMemo((()=>(0,Yt.A)({},i,{alreadyRendered:!!r.current})),[i]),B=(e=>{const{classes:t}=e;return(0,Zt.A)({root:["root"],list:["list"],item:["item"]},WO,t)})(z),V=c?.digitalClockItem??qO,U=qo({elementType:V,externalSlotProps:d?.digitalClockItem,ownerState:{},className:B.item}),H=jO({value:$,referenceDate:f,utils:n,props:i,timezone:_}),G=(0,cr.A)((e=>j(e,"finish","hours"))),{setValueAndGoToNextView:q}=px({view:S,views:M,openTo:A,onViewChange:C,onChange:G,focusedView:T,onFocusedViewChange:I}),K=(0,cr.A)((e=>{q(e,"finish")}));W.useEffect((()=>{if(null===r.current)return;const e=r.current.querySelector('[role="listbox"] [role="option"][tabindex="0"], [role="listbox"] [role="option"][aria-selected="true"]');if(!e)return;const t=e.offsetTop;(u||T)&&e.focus(),r.current.scrollTop=t-4}));const X=W.useCallback((e=>{const t=Fv(m,n);return!((!y||!t(y,e))&&(!g||!t(e,g))&&(!v||!t(e,L))&&(!b||!t(L,e)))||!(n.getMinutes(e)%x===0&&(!w||!w(e,"hours")))}),[m,n,y,g,v,L,b,x,w]),Y=W.useMemo((()=>{const e=[];let t=n.startOfDay(H);for(;n.isSameDay(H,t);)e.push(t),t=n.addMinutes(t,l);return e}),[H,l,n]),Q=Y.findIndex((e=>n.isEqual(e,H)));return(0,sn.jsx)(HO,(0,Yt.A)({ref:o,className:(0,Qt.A)(B.root,E),ownerState:z},P,{children:(0,sn.jsx)(GO,{ref:a,role:"listbox","aria-label":F.timePickerToolbarTitle,className:B.list,onKeyDown:e=>{switch(e.key){case"PageUp":{const t=Yb(a.current)-5,n=a.current.children[Math.max(0,t)];n&&n.focus(),e.preventDefault();break}case"PageDown":{const t=Yb(a.current)+5,n=a.current.children,r=n[Math.min(n.length-1,t)];r&&r.focus(),e.preventDefault();break}}},children:Y.map(((e,t)=>{if(D&&X(e))return null;const r=n.isEqual(e,$),o=n.format(e,s?"fullTime12h":"fullTime24h"),a=Q===t||-1===Q&&0===t?0:-1;return(0,sn.jsx)(V,(0,Yt.A)({onClick:()=>!O&&K(e),selected:r,disabled:N||X(e),disableRipple:O,role:"option","aria-disabled":O,"aria-selected":r,tabIndex:a},U,{children:o}),`${e.valueOf()}-${o}`)}))})}))}));function XO(e){return(0,on.Ay)("MuiMultiSectionDigitalClock",e)}const YO=(0,rn.A)("MuiMultiSectionDigitalClock",["root"]);function QO(e){return(0,on.Ay)("MuiMultiSectionDigitalClockSection",e)}const ZO=(0,rn.A)("MuiMultiSectionDigitalClockSection",["root","item"]),JO=["autoFocus","onChange","className","disabled","readOnly","items","active","slots","slotProps","skipDisabled"],eM=(0,en.Ay)(ia,{name:"MuiMultiSectionDigitalClockSection",slot:"Root",overridesResolver:(e,t)=>t.root})((e=>{let{theme:t}=e;return{maxHeight:232,width:56,padding:0,overflow:"hidden","@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"auto"},"@media (pointer: fine)":{"&:hover":{overflowY:"auto"}},"@media (pointer: none), (pointer: coarse)":{overflowY:"auto"},"&:not(:first-of-type)":{borderLeft:`1px solid ${(t.vars||t).palette.divider}`},"&::after":{display:"block",content:'""',height:"calc(100% - 40px - 6px)"},variants:[{props:{alreadyRendered:!0},style:{"@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"smooth"}}}]}})),tM=(0,en.Ay)(ul,{name:"MuiMultiSectionDigitalClockSection",slot:"Item",overridesResolver:(e,t)=>t.item})((e=>{let{theme:t}=e;return{padding:8,margin:"2px 4px",width:48,justifyContent:"center","&:first-of-type":{marginTop:4},"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:_k(t.palette.primary.main,t.palette.action.hoverOpacity)},"&.Mui-selected":{backgroundColor:(t.vars||t).palette.primary.main,color:(t.vars||t).palette.primary.contrastText,"&:focus-visible, &:hover":{backgroundColor:(t.vars||t).palette.primary.dark}},"&.Mui-focusVisible":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.focusOpacity})`:_k(t.palette.primary.main,t.palette.action.focusOpacity)}}})),nM=W.forwardRef((function(e,t){const n=W.useRef(null),r=(0,lr.A)(t,n),o=W.useRef(null),a=yv({props:e,name:"MuiMultiSectionDigitalClockSection"}),{autoFocus:i,onChange:s,className:l,disabled:u,readOnly:c,items:d,active:p,slots:h,slotProps:f,skipDisabled:m}=a,g=(0,Xt.A)(a,JO),y=W.useMemo((()=>(0,Yt.A)({},a,{alreadyRendered:!!n.current})),[a]),v=(e=>{const{classes:t}=e;return(0,Zt.A)({root:["root"],item:["item"]},QO,t)})(y),b=h?.digitalClockSectionItem??tM;W.useEffect((()=>{if(null===n.current)return;const e=n.current.querySelector('[role="option"][tabindex="0"], [role="option"][aria-selected="true"]');if(p&&i&&e&&e.focus(),!e||o.current===e)return;o.current=e;const t=e.offsetTop;n.current.scrollTop=t-4}));const x=d.findIndex((e=>e.isFocused(e.value)));return(0,sn.jsx)(eM,(0,Yt.A)({ref:r,className:(0,Qt.A)(v.root,l),ownerState:y,autoFocusItem:i&&p,role:"listbox",onKeyDown:e=>{switch(e.key){case"PageUp":{const t=Yb(n.current)-5,r=n.current.children[Math.max(0,t)];r&&r.focus(),e.preventDefault();break}case"PageDown":{const t=Yb(n.current)+5,r=n.current.children,o=r[Math.min(r.length-1,t)];o&&o.focus(),e.preventDefault();break}}}},g,{children:d.map(((e,t)=>{const n=e.isDisabled?.(e.value),r=u||n;if(m&&r)return null;const o=e.isSelected(e.value),a=x===t||-1===x&&0===t?0:-1;return(0,sn.jsx)(b,(0,Yt.A)({onClick:()=>!c&&s(e.value),selected:o,disabled:r,disableRipple:c,role:"option","aria-disabled":c||r||void 0,"aria-label":e.ariaLabel,"aria-selected":o,tabIndex:a,className:v.item},f?.digitalClockSectionItem,{children:e.label}),e.label)}))}))})),rM=e=>{let{now:t,value:n,utils:r,ampm:o,isDisabled:a,resolveAriaLabel:i,timeStep:s,valueOrReferenceDate:l}=e;const u=n?r.getHours(n):null,c=[],d=(e,t)=>{const n=t??u;return null!==n&&(o?12===e?12===n||0===n:n===e||n-12===e:n===e)},p=e=>d(e,r.getHours(l)),h=o?11:23;for(let f=0;f<=h;f+=s){let e=r.format(r.setHours(t,f),o?"hours12h":"hours24h");const n=i(parseInt(e,10).toString());e=r.formatNumber(e),c.push({value:f,label:e,isSelected:d,isDisabled:a,isFocused:p,ariaLabel:n})}return c},oM=e=>{let{value:t,utils:n,isDisabled:r,timeStep:o,resolveLabel:a,resolveAriaLabel:i,hasValue:s=!0}=e;const l=e=>null!==t&&(s&&t===e),u=e=>t===e;return[...Array.from({length:Math.ceil(60/o)},((e,t)=>{const s=o*t;return{value:s,label:n.formatNumber(a(s)),isDisabled:r,isSelected:l,isFocused:u,ariaLabel:i(s.toString())}}))]},aM=["ampm","timeSteps","autoFocus","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableTime","onChange","view","views","openTo","onViewChange","focusedView","onFocusedViewChange","className","disabled","readOnly","skipDisabled","timezone"],iM=(0,en.Ay)(tA,{name:"MuiMultiSectionDigitalClock",slot:"Root",overridesResolver:(e,t)=>t.root})((e=>{let{theme:t}=e;return{display:"flex",flexDirection:"row",width:"100%",borderBottom:`1px solid ${(t.vars||t).palette.divider}`}})),sM=W.forwardRef((function(e,t){const n=bb(),r=zo(),o=yv({props:e,name:"MuiMultiSectionDigitalClock"}),{ampm:a=n.is12HourCycleInCurrentLocale(),timeSteps:i,autoFocus:s,slots:l,slotProps:u,value:c,defaultValue:d,referenceDate:p,disableIgnoringDatePartForTimeValidation:h=!1,maxTime:f,minTime:m,disableFuture:g,disablePast:y,minutesStep:v=1,shouldDisableTime:b,onChange:x,view:w,views:k=["hours","minutes"],openTo:S,onViewChange:A,focusedView:C,onFocusedViewChange:T,className:I,disabled:E,readOnly:N,skipDisabled:O=!1,timezone:M}=o,D=(0,Xt.A)(o,aM),{value:R,handleValueChange:P,timezone:$}=cx({name:"MultiSectionDigitalClock",timezone:M,value:c,defaultValue:d,referenceDate:p,onChange:x,valueManager:ub}),j=Eb(),_=wb($),F=W.useMemo((()=>(0,Yt.A)({hours:1,minutes:5,seconds:5},i)),[i]),L=jO({value:R,referenceDate:p,utils:n,props:o,timezone:$}),z=(0,cr.A)(((e,t,n)=>P(e,t,n))),B=W.useMemo((()=>a&&k.includes("hours")?k.includes("meridiem")?k:[...k,"meridiem"]:k),[a,k]),{view:V,setValueAndGoToNextView:U,focusedView:H}=px({view:w,views:B,openTo:S,onViewChange:A,onChange:z,focusedView:C,onFocusedViewChange:T}),G=(0,cr.A)((e=>{U(e,"finish","meridiem")})),{meridiemMode:q,handleMeridiemChange:K}=US(L,a,G,"finish"),X=W.useCallback(((e,t)=>{const r=Fv(h,n),o="hours"===t||"minutes"===t&&B.includes("seconds"),i=e=>{let{start:t,end:n}=e;return(!m||!r(m,n))&&((!f||!r(t,f))&&((!g||!r(t,_))&&(!y||!r(_,o?n:t))))},s=function(e){if(e%(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1)!==0)return!1;if(b)switch(t){case"hours":return!b(n.setHours(L,e),"hours");case"minutes":return!b(n.setMinutes(L,e),"minutes");case"seconds":return!b(n.setSeconds(L,e),"seconds");default:return!1}return!0};switch(t){case"hours":{const t=jv(e,q,a),r=n.setHours(L,t);if(n.getHours(r)!==t)return!0;return!i({start:n.setSeconds(n.setMinutes(r,0),0),end:n.setSeconds(n.setMinutes(r,59),59)})||!s(t)}case"minutes":{const t=n.setMinutes(L,e);return!i({start:n.setSeconds(t,0),end:n.setSeconds(t,59)})||!s(e,v)}case"seconds":{const t=n.setSeconds(L,e);return!i({start:t,end:t})||!s(e)}default:throw new Error("not supported")}}),[a,L,h,f,q,m,v,b,n,g,y,_,B]),Y=W.useCallback((e=>{switch(e){case"hours":return{onChange:e=>{const t=jv(e,q,a);U(n.setHours(L,t),"finish","hours")},items:rM({now:_,value:R,ampm:a,utils:n,isDisabled:e=>X(e,"hours"),timeStep:F.hours,resolveAriaLabel:j.hoursClockNumberText,valueOrReferenceDate:L})};case"minutes":return{onChange:e=>{U(n.setMinutes(L,e),"finish","minutes")},items:oM({value:n.getMinutes(L),utils:n,isDisabled:e=>X(e,"minutes"),resolveLabel:e=>n.format(n.setMinutes(_,e),"minutes"),timeStep:F.minutes,hasValue:!!R,resolveAriaLabel:j.minutesClockNumberText})};case"seconds":return{onChange:e=>{U(n.setSeconds(L,e),"finish","seconds")},items:oM({value:n.getSeconds(L),utils:n,isDisabled:e=>X(e,"seconds"),resolveLabel:e=>n.format(n.setSeconds(_,e),"seconds"),timeStep:F.seconds,hasValue:!!R,resolveAriaLabel:j.secondsClockNumberText})};case"meridiem":{const e=Ev(n,"am"),t=Ev(n,"pm");return{onChange:K,items:[{value:"am",label:e,isSelected:()=>!!R&&"am"===q,isFocused:()=>!!L&&"am"===q,ariaLabel:e},{value:"pm",label:t,isSelected:()=>!!R&&"pm"===q,isFocused:()=>!!L&&"pm"===q,ariaLabel:t}]}}default:throw new Error(`Unknown view: ${e} found.`)}}),[_,R,a,n,F.hours,F.minutes,F.seconds,j.hoursClockNumberText,j.minutesClockNumberText,j.secondsClockNumberText,q,U,L,X,K]),Q=W.useMemo((()=>{if(!r)return B;const e=B.filter((e=>"meridiem"!==e));return e.reverse(),B.includes("meridiem")&&e.push("meridiem"),e}),[r,B]),Z=W.useMemo((()=>B.reduce(((e,t)=>(0,Yt.A)({},e,{[t]:Y(t)})),{})),[B,Y]),J=o,ee=(e=>{const{classes:t}=e;return(0,Zt.A)({root:["root"]},XO,t)})(J);return(0,sn.jsx)(iM,(0,Yt.A)({ref:t,className:(0,Qt.A)(ee.root,I),ownerState:J,role:"group"},D,{children:Q.map((e=>(0,sn.jsx)(nM,{items:Z[e].items,onChange:Z[e].onChange,active:V===e,autoFocus:s??H===e,disabled:E,readOnly:N,slots:l,slotProps:u,skipDisabled:O,"aria-label":j.selectViewText(e)},e)))}))})),lM=e=>{let{view:t,onViewChange:n,focusedView:r,onFocusedViewChange:o,views:a,value:i,defaultValue:s,referenceDate:l,onChange:u,className:c,classes:d,disableFuture:p,disablePast:h,minTime:f,maxTime:m,shouldDisableTime:g,minutesStep:y,ampm:v,ampmInClock:b,slots:x,slotProps:w,readOnly:k,disabled:S,sx:A,autoFocus:C,showViewSwitcher:T,disableIgnoringDatePartForTimeValidation:I,timezone:E}=e;return(0,sn.jsx)(BO,{view:t,onViewChange:n,focusedView:r&&Pv(r)?r:null,onFocusedViewChange:o,views:a.filter(Pv),value:i,defaultValue:s,referenceDate:l,onChange:u,className:c,classes:d,disableFuture:p,disablePast:h,minTime:f,maxTime:m,shouldDisableTime:g,minutesStep:y,ampm:v,ampmInClock:b,slots:x,slotProps:w,readOnly:k,disabled:S,sx:A,autoFocus:C,showViewSwitcher:T,disableIgnoringDatePartForTimeValidation:I,timezone:E})},uM=e=>{let{view:t,onViewChange:n,focusedView:r,onFocusedViewChange:o,views:a,value:i,defaultValue:s,referenceDate:l,onChange:u,className:c,classes:d,disableFuture:p,disablePast:h,minTime:f,maxTime:m,shouldDisableTime:g,minutesStep:y,ampm:v,slots:b,slotProps:x,readOnly:w,disabled:k,sx:S,autoFocus:A,disableIgnoringDatePartForTimeValidation:C,timeSteps:T,skipDisabled:I,timezone:E}=e;return(0,sn.jsx)(KO,{view:t,onViewChange:n,focusedView:r,onFocusedViewChange:o,views:a.filter(Pv),value:i,defaultValue:s,referenceDate:l,onChange:u,className:c,classes:d,disableFuture:p,disablePast:h,minTime:f,maxTime:m,shouldDisableTime:g,minutesStep:y,ampm:v,slots:b,slotProps:x,readOnly:w,disabled:k,sx:S,autoFocus:A,disableIgnoringDatePartForTimeValidation:C,timeStep:T?.minutes,skipDisabled:I,timezone:E})},cM=e=>{let{view:t,onViewChange:n,focusedView:r,onFocusedViewChange:o,views:a,value:i,defaultValue:s,referenceDate:l,onChange:u,className:c,classes:d,disableFuture:p,disablePast:h,minTime:f,maxTime:m,shouldDisableTime:g,minutesStep:y,ampm:v,slots:b,slotProps:x,readOnly:w,disabled:k,sx:S,autoFocus:A,disableIgnoringDatePartForTimeValidation:C,timeSteps:T,skipDisabled:I,timezone:E}=e;return(0,sn.jsx)(sM,{view:t,onViewChange:n,focusedView:r,onFocusedViewChange:o,views:a.filter(Pv),value:i,defaultValue:s,referenceDate:l,onChange:u,className:c,classes:d,disableFuture:p,disablePast:h,minTime:f,maxTime:m,shouldDisableTime:g,minutesStep:y,ampm:v,slots:b,slotProps:x,readOnly:w,disabled:k,sx:S,autoFocus:A,disableIgnoringDatePartForTimeValidation:C,timeSteps:T,skipDisabled:I,timezone:E})},dM=W.forwardRef((function(e,t){const n=zo(),{toolbar:r,tabs:o,content:a,actionBar:i,shortcuts:s}=Lx(e),{sx:l,className:u,isLandscape:c,classes:d}=e,p=i&&(i.props.actions?.length??0)>0,h=(0,Yt.A)({},e,{isRtl:n});return(0,sn.jsxs)(zx,{ref:t,className:(0,Qt.A)(vx.root,d?.root,u),sx:[{[`& .${vx.tabs}`]:{gridRow:4,gridColumn:"1 / 4"},[`& .${vx.actionBar}`]:{gridRow:5}},...Array.isArray(l)?l:[l]],ownerState:h,children:[c?s:r,c?r:s,(0,sn.jsxs)(Bx,{className:(0,Qt.A)(vx.contentWrapper,d?.contentWrapper),sx:{display:"grid"},children:[a,o,p&&(0,sn.jsx)(qp,{sx:{gridRow:3,gridColumn:"1 / 4"}})]}),i]})})),pM=["openTo","focusedView","timeViewsCount"],hM=function(e,t,n){const{openTo:r,focusedView:o,timeViewsCount:a}=n,i=(0,Xt.A)(n,pM),s=(0,Yt.A)({},i,{focusedView:null,sx:[{[`&.${YO.root}`]:{borderBottom:0},[`&.${YO.root}, .${ZO.root}, &.${VO.root}`]:{maxHeight:$x}}]}),l=$v(t);return(0,sn.jsxs)(W.Fragment,{children:[e[l?"day":t]?.((0,Yt.A)({},n,{view:l?"day":t,focusedView:o&&Ov(o)?o:null,views:n.views.filter(Ov),sx:[{gridColumn:1},...s.sx]})),a>0&&(0,sn.jsxs)(W.Fragment,{children:[(0,sn.jsx)(qp,{orientation:"vertical",sx:{gridColumn:2}}),e[l?t:"hours"]?.((0,Yt.A)({},s,{view:l?t:"hours",focusedView:o&&$v(o)?o:null,openTo:$v(r)?r:"hours",views:n.views.filter($v),sx:[{gridColumn:3},...s.sx]}))]})]})},fM=W.forwardRef((function(e,t){const n=Eb(),r=bb(),o=tO(e,"MuiDesktopDateTimePicker"),{shouldRenderTimeInASingleColumn:a,thresholdToRenderTimeInASingleColumn:i,views:s,timeSteps:l}=aO(o),u=a?uM:cM,c=(0,Yt.A)({day:sA,month:sA,year:sA,hours:u,minutes:u,seconds:u,meridiem:u},o.viewRenderers),d=o.ampmInClock??!0,p=c.hours?.name===cM.name?s:s.filter((e=>"meridiem"!==e)),h=a?[]:["accept"],f=(0,Yt.A)({},o,{viewRenderers:c,format:rO(r,o),views:p,yearsPerRow:o.yearsPerRow??4,ampmInClock:d,timeSteps:l,thresholdToRenderTimeInASingleColumn:i,shouldRenderTimeInASingleColumn:a,slots:(0,Yt.A)({field:DN,layout:dM,openPickerIcon:Zx},o.slots),slotProps:(0,Yt.A)({},o.slotProps,{field:e=>(0,Yt.A)({},Ho(o.slotProps?.field,e),Lb(o),{ref:t}),toolbar:(0,Yt.A)({hidden:!0,ampmInClock:d,toolbarVariant:"desktop"},o.slotProps?.toolbar),tabs:(0,Yt.A)({hidden:!0},o.slotProps?.tabs),actionBar:e=>(0,Yt.A)({actions:h},Ho(o.slotProps?.actionBar,e))})}),{renderPicker:m}=Kx({props:f,valueManager:ub,valueType:"date-time",getOpenDialogAriaText:fb({utils:r,formatKey:"fullDate",contextTranslation:n.openDatePickerDialogue,propsTranslation:f.localeText?.openDatePickerDialogue}),validator:NN,rendererInterceptor:hM});return m()}));fM.propTypes={ampm:bv().bool,ampmInClock:bv().bool,autoFocus:bv().bool,className:bv().string,closeOnSelect:bv().bool,dayOfWeekFormatter:bv().func,defaultValue:bv().object,disabled:bv().bool,disableFuture:bv().bool,disableHighlightToday:bv().bool,disableIgnoringDatePartForTimeValidation:bv().bool,disableOpenPicker:bv().bool,disablePast:bv().bool,displayWeekNumber:bv().bool,enableAccessibleFieldDOMStructure:bv().any,fixedWeekNumber:bv().number,format:bv().string,formatDensity:bv().oneOf(["dense","spacious"]),inputRef:xv,label:bv().node,loading:bv().bool,localeText:bv().object,maxDate:bv().object,maxDateTime:bv().object,maxTime:bv().object,minDate:bv().object,minDateTime:bv().object,minTime:bv().object,minutesStep:bv().number,monthsPerRow:bv().oneOf([3,4]),name:bv().string,onAccept:bv().func,onChange:bv().func,onClose:bv().func,onError:bv().func,onMonthChange:bv().func,onOpen:bv().func,onSelectedSectionsChange:bv().func,onViewChange:bv().func,onYearChange:bv().func,open:bv().bool,openTo:bv().oneOf(["day","hours","meridiem","minutes","month","seconds","year"]),orientation:bv().oneOf(["landscape","portrait"]),readOnly:bv().bool,reduceAnimations:bv().bool,referenceDate:bv().object,renderLoading:bv().func,selectedSections:bv().oneOfType([bv().oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),bv().number]),shouldDisableDate:bv().func,shouldDisableMonth:bv().func,shouldDisableTime:bv().func,shouldDisableYear:bv().func,showDaysOutsideCurrentMonth:bv().bool,skipDisabled:bv().bool,slotProps:bv().object,slots:bv().object,sx:bv().oneOfType([bv().arrayOf(bv().oneOfType([bv().func,bv().object,bv().bool])),bv().func,bv().object]),thresholdToRenderTimeInASingleColumn:bv().number,timeSteps:bv().shape({hours:bv().number,minutes:bv().number,seconds:bv().number}),timezone:bv().string,value:bv().object,view:bv().oneOf(["day","hours","meridiem","minutes","month","seconds","year"]),viewRenderers:bv().shape({day:bv().func,hours:bv().func,meridiem:bv().func,minutes:bv().func,month:bv().func,seconds:bv().func,year:bv().func}),views:bv().arrayOf(bv().oneOf(["day","hours","minutes","month","seconds","year"]).isRequired),yearsOrder:bv().oneOf(["asc","desc"]),yearsPerRow:bv().oneOf([3,4])};const mM=W.forwardRef((function(e,t){const n=Eb(),r=bb(),o=tO(e,"MuiMobileDateTimePicker"),a=(0,Yt.A)({day:sA,month:sA,year:sA,hours:lM,minutes:lM,seconds:lM},o.viewRenderers),i=o.ampmInClock??!1,s=(0,Yt.A)({},o,{viewRenderers:a,format:rO(r,o),ampmInClock:i,slots:(0,Yt.A)({field:DN},o.slots),slotProps:(0,Yt.A)({},o.slotProps,{field:e=>(0,Yt.A)({},Ho(o.slotProps?.field,e),Lb(o),{ref:t}),toolbar:(0,Yt.A)({hidden:!1,ampmInClock:i},o.slotProps?.toolbar),tabs:(0,Yt.A)({hidden:!1},o.slotProps?.tabs)})}),{renderPicker:l}=hA({props:s,valueManager:ub,valueType:"date-time",getOpenDialogAriaText:fb({utils:r,formatKey:"fullDate",contextTranslation:n.openDatePickerDialogue,propsTranslation:s.localeText?.openDatePickerDialogue}),validator:NN});return l()}));mM.propTypes={ampm:bv().bool,ampmInClock:bv().bool,autoFocus:bv().bool,className:bv().string,closeOnSelect:bv().bool,dayOfWeekFormatter:bv().func,defaultValue:bv().object,disabled:bv().bool,disableFuture:bv().bool,disableHighlightToday:bv().bool,disableIgnoringDatePartForTimeValidation:bv().bool,disableOpenPicker:bv().bool,disablePast:bv().bool,displayWeekNumber:bv().bool,enableAccessibleFieldDOMStructure:bv().any,fixedWeekNumber:bv().number,format:bv().string,formatDensity:bv().oneOf(["dense","spacious"]),inputRef:xv,label:bv().node,loading:bv().bool,localeText:bv().object,maxDate:bv().object,maxDateTime:bv().object,maxTime:bv().object,minDate:bv().object,minDateTime:bv().object,minTime:bv().object,minutesStep:bv().number,monthsPerRow:bv().oneOf([3,4]),name:bv().string,onAccept:bv().func,onChange:bv().func,onClose:bv().func,onError:bv().func,onMonthChange:bv().func,onOpen:bv().func,onSelectedSectionsChange:bv().func,onViewChange:bv().func,onYearChange:bv().func,open:bv().bool,openTo:bv().oneOf(["day","hours","minutes","month","seconds","year"]),orientation:bv().oneOf(["landscape","portrait"]),readOnly:bv().bool,reduceAnimations:bv().bool,referenceDate:bv().object,renderLoading:bv().func,selectedSections:bv().oneOfType([bv().oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),bv().number]),shouldDisableDate:bv().func,shouldDisableMonth:bv().func,shouldDisableTime:bv().func,shouldDisableYear:bv().func,showDaysOutsideCurrentMonth:bv().bool,slotProps:bv().object,slots:bv().object,sx:bv().oneOfType([bv().arrayOf(bv().oneOfType([bv().func,bv().object,bv().bool])),bv().func,bv().object]),timezone:bv().string,value:bv().object,view:bv().oneOf(["day","hours","minutes","month","seconds","year"]),viewRenderers:bv().shape({day:bv().func,hours:bv().func,minutes:bv().func,month:bv().func,seconds:bv().func,year:bv().func}),views:bv().arrayOf(bv().oneOf(["day","hours","minutes","month","seconds","year"]).isRequired),yearsOrder:bv().oneOf(["asc","desc"]),yearsPerRow:bv().oneOf([3,4])};const gM=["desktopModeMediaQuery"],yM=W.forwardRef((function(e,t){const n=yv({props:e,name:"MuiDateTimePicker"}),{desktopModeMediaQuery:r=Qb}=n,o=(0,Xt.A)(n,gM);return mv(r,{defaultMatches:!0})?(0,sn.jsx)(fM,(0,Yt.A)({ref:t},o)):(0,sn.jsx)(mM,(0,Yt.A)({ref:t},o))})),vM=e=>{let{label:t,value:n,editing:r=!1,multiline:o=!1,rows:a=1,onChange:i,color:s,icon:l}=e;return r&&o?(0,sn.jsxs)(ps,{sx:{width:"100%"},children:[(0,sn.jsxs)(vs,{variant:"body2",color:"text.secondary",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[l,t]}),(0,sn.jsx)(rs,{value:n,onChange:e=>i(e.target.value),fullWidth:!0,multiline:o,rows:a,variant:"outlined",size:"small",sx:{"& .MuiOutlinedInput-root":{borderRadius:1}}})]}):(0,sn.jsxs)(ps,{sx:{width:"100%"},children:[(0,sn.jsxs)(vs,{variant:"body2",color:"text.secondary",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[l,t]}),(0,sn.jsx)(vs,{variant:"body1",sx:{fontWeight:500,color:s||"text.primary",whiteSpace:o?"pre-wrap":"nowrap",overflow:o?"visible":"hidden",textOverflow:o?"unset":"ellipsis",minHeight:o?"auto":"24px",display:"flex",alignItems:"center"},children:n})]})};function bM(e){if(!e)return"\u2014";const t=new Date(e),n=e=>e.toString().padStart(2,"0");return`${n(t.getDate())}.${n(t.getMonth()+1)}.${t.getFullYear()} ${n(t.getHours())}:${n(t.getMinutes())}`}function xM(e){return{low:"\ud83d\udfe2 \u041d\u0438\u0437\u043a\u0430\u044f",medium:"\ud83d\udfe1 \u0421\u0440\u0435\u0434\u043d\u044f\u044f",high:"\ud83d\udd34 \u0412\u044b\u0441\u043e\u043a\u0430\u044f"}[e]||e}const wM=e=>{let{open:t,onClose:n,selectedReport:r,onSave:o,onCancelWriteOff:a}=e;const[i,s]=(0,W.useState)(!1),[l,u]=(0,W.useState)(null),[c,d]=(0,W.useState)(!1),[p,h]=(0,W.useState)(!1),f=[{value:"1",label:"\u041f\u043b\u043e\u0445\u043e"},{value:"2",label:"\u0423\u0441\u0442\u0430\u043b"},{value:"3",label:"\u041d\u043e\u0440\u043c\u0430\u043b\u044c\u043d\u043e\u0435"},{value:"4",label:"\u0425\u043e\u0440\u043e\u0448\u043e"},{value:"5",label:"\u041e\u0442\u043b\u0438\u0447\u043d\u043e"}];(0,W.useEffect)((()=>{r&&(u({...r,sessionDate:r.sessionDate?new Date(r.sessionDate):new Date}),d("simple"!==r.type))}),[r]);const m=(e,t)=>{u((n=>({...n,[e]:t})))},g=e=>{const t=f.find((t=>t.value===e));return t?`${t.emoji} ${t.label}`:"\u2014"};if(!r)return null;const y=(e=>{const t={simple:{label:"\u041f\u0440\u043e\u0441\u0442\u043e\u0435 \u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435",color:"default"},completed:{label:"\u0422\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0430 \u043f\u0440\u043e\u0432\u0435\u0434\u0435\u043d\u0430",color:"success"},missed:{label:"\u041f\u0440\u043e\u043f\u0443\u0441\u043a \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0438",color:"error"}};return t[e]||t.simple})((null===l||void 0===l?void 0:l.type)||r.type);return(0,sn.jsx)(hb,{dateAdapter:fI,adapterLocale:AI,children:(0,sn.jsxs)(xm,{open:t,onClose:n,maxWidth:"md",fullWidth:!0,PaperProps:{sx:{borderRadius:3,boxShadow:"0 20px 60px rgba(0,0,0,0.15)"}},children:[(0,sn.jsx)(Cm,{sx:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",py:2,position:"relative"},children:(0,sn.jsxs)(ps,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,sn.jsxs)(ps,{sx:{display:"flex",alignItems:"center",gap:2},children:[(0,sn.jsx)(em,{}),(0,sn.jsxs)(ps,{children:[(0,sn.jsx)(vs,{variant:"h6",sx:{fontWeight:600},children:"\u041e\u0442\u0447\u0435\u0442 \u043e \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0435"}),(0,sn.jsx)(Sp,{label:y.label,size:"small",color:y.color,sx:{color:"white",backgroundColor:"rgba(255,255,255,0.2)",mt:.5}})]})]}),!i&&(0,sn.jsx)(ps,{sx:{display:"flex",gap:1},children:(0,sn.jsx)(Ns,{onClick:()=>{s(!0)},sx:{color:"white"},children:(0,sn.jsx)(oy,{})})})]})}),(0,sn.jsxs)(Nm,{dividers:!0,sx:{py:3,bgcolor:"#fafafa"},children:[p?(0,sn.jsx)(Bs,{severity:"warning",sx:{mb:2},action:(0,sn.jsxs)(ps,{sx:{display:"flex",gap:1},children:[(0,sn.jsx)(rr,{color:"inherit",size:"small",onClick:()=>h(!1),children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),(0,sn.jsx)(rr,{color:"inherit",size:"small",variant:"outlined",onClick:()=>{a&&(a(r),h(!1),n())},children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c"})]}),children:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435? \u042d\u0442\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u043d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c."}):null,(0,sn.jsxs)(Zs,{container:!0,spacing:3,children:[(0,sn.jsx)(Zs,{item:!0,xs:12,children:(0,sn.jsx)(Fp,{sx:{bgcolor:"white",borderRadius:2,boxShadow:"0 4px 12px rgba(0,0,0,0.05)"},children:(0,sn.jsxs)(Wp,{children:[(0,sn.jsxs)(vs,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1,color:"#333",mb:3},children:[(0,sn.jsx)(Al,{}),"\u041e\u0441\u043d\u043e\u0432\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"]}),(0,sn.jsxs)(Zs,{container:!0,spacing:3,children:[(0,sn.jsx)(Zs,{item:!0,xs:12,sm:6,children:(0,sn.jsx)(vM,{label:"\u041a\u043b\u0438\u0435\u043d\u0442",value:(null===l||void 0===l?void 0:l.clientName)||r.clientName,editing:!1,icon:(0,sn.jsx)(Al,{})})}),(0,sn.jsx)(Zs,{item:!0,xs:12,sm:6,children:i?(0,sn.jsxs)(ps,{children:[(0,sn.jsxs)(vs,{variant:"body2",color:"text.secondary",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[(0,sn.jsx)(dm,{}),"\u0414\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043c\u044f \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0438"]}),(0,sn.jsx)(yM,{value:(null===l||void 0===l?void 0:l.sessionDate)||new Date,onChange:e=>m("sessionDate",e),slotProps:{textField:{fullWidth:!0,size:"small"}}})]}):(0,sn.jsx)(vM,{label:"\u0414\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043c\u044f \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0438",value:bM((null===l||void 0===l?void 0:l.sessionDate)||r.sessionDate),editing:!1,icon:(0,sn.jsx)(kN,{})})})]})]})})}),"completed"===(null===l||void 0===l?void 0:l.type)&&(0,sn.jsx)(Zs,{item:!0,xs:12,children:(0,sn.jsx)(Fp,{sx:{bgcolor:"white",borderRadius:2,boxShadow:"0 4px 12px rgba(0,0,0,0.05)"},children:(0,sn.jsxs)(Wp,{children:[(0,sn.jsxs)(vs,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1,color:"#333",mb:3},children:[(0,sn.jsx)(SN,{}),"\u0414\u0435\u0442\u0430\u043b\u0438 \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0438"]}),(0,sn.jsxs)(Zs,{container:!0,spacing:3,children:[(0,sn.jsx)(Zs,{item:!0,xs:12,sm:6,children:i?(0,sn.jsxs)(Oo,{fullWidth:!0,children:[(0,sn.jsx)(Co,{children:"\u0421\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u0434\u043e \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0438"}),(0,sn.jsxs)(Zi,{value:(null===l||void 0===l?void 0:l.conditionBefore)||"",onChange:e=>m("conditionBefore",e.target.value),label:"\u0421\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u0434\u043e \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0438",children:[(0,sn.jsx)(ul,{value:"",children:(0,sn.jsx)("em",{children:"\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e"})}),f.map((e=>(0,sn.jsxs)(ul,{value:e.value,children:[e.emoji," ",e.label]},e.value)))]})]}):(0,sn.jsx)(vM,{label:"\u0421\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u0434\u043e \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0438",value:g(null===l||void 0===l?void 0:l.conditionBefore)})}),(0,sn.jsx)(Zs,{item:!0,xs:12,sm:6,children:i?(0,sn.jsxs)(Oo,{fullWidth:!0,children:[(0,sn.jsx)(Co,{children:"\u0421\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u043f\u043e\u0441\u043b\u0435 \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0438"}),(0,sn.jsxs)(Zi,{value:(null===l||void 0===l?void 0:l.conditionAfter)||"",onChange:e=>m("conditionAfter",e.target.value),label:"\u0421\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u043f\u043e\u0441\u043b\u0435 \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0438",children:[(0,sn.jsx)(ul,{value:"",children:(0,sn.jsx)("em",{children:"\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e"})}),f.map((e=>(0,sn.jsxs)(ul,{value:e.value,children:[e.emoji," ",e.label]},e.value)))]})]}):(0,sn.jsx)(vM,{label:"\u0421\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u043f\u043e\u0441\u043b\u0435 \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0438",value:g(null===l||void 0===l?void 0:l.conditionAfter)})}),(0,sn.jsx)(Zs,{item:!0,xs:12,sm:6,children:i?(0,sn.jsxs)(Oo,{fullWidth:!0,children:[(0,sn.jsx)(Co,{children:"\u0418\u043d\u0442\u0435\u043d\u0441\u0438\u0432\u043d\u043e\u0441\u0442\u044c \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0438"}),(0,sn.jsxs)(Zi,{value:(null===l||void 0===l?void 0:l.intensity)||"medium",onChange:e=>m("intensity",e.target.value),label:"\u0418\u043d\u0442\u0435\u043d\u0441\u0438\u0432\u043d\u043e\u0441\u0442\u044c \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0438",children:[(0,sn.jsx)(ul,{value:"low",children:"\ud83d\udfe2 \u041d\u0438\u0437\u043a\u0430\u044f"}),(0,sn.jsx)(ul,{value:"medium",children:"\ud83d\udfe1 \u0421\u0440\u0435\u0434\u043d\u044f\u044f"}),(0,sn.jsx)(ul,{value:"high",children:"\ud83d\udd34 \u0412\u044b\u0441\u043e\u043a\u0430\u044f"})]})]}):(0,sn.jsx)(vM,{label:"\u0418\u043d\u0442\u0435\u043d\u0441\u0438\u0432\u043d\u043e\u0441\u0442\u044c",value:xM(null===l||void 0===l?void 0:l.intensity)})}),(0,sn.jsx)(Zs,{item:!0,xs:12,sm:6,children:i?(0,sn.jsxs)(ps,{children:[(0,sn.jsx)(vs,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"\u041e\u0446\u0435\u043d\u043a\u0430 \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0438"}),(0,sn.jsx)(qE,{value:(null===l||void 0===l?void 0:l.rating)||0,onChange:(e,t)=>m("rating",t),size:"large"})]}):(0,sn.jsx)(vM,{label:"\u041e\u0446\u0435\u043d\u043a\u0430 \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0438",value:(0,sn.jsxs)(ps,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,sn.jsx)(qE,{value:(null===l||void 0===l?void 0:l.rating)||0,readOnly:!0,size:"small"}),(0,sn.jsxs)(vs,{variant:"body2",color:"text.secondary",children:["(",(null===l||void 0===l?void 0:l.rating)||0,"/5)"]})]})})}),(0,sn.jsx)(Zs,{item:!0,xs:12,children:(0,sn.jsx)(vM,{label:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u0442\u0440\u0435\u043d\u0435\u0440\u0430",value:(null===l||void 0===l?void 0:l.comment)||"\u2014",editing:i,multiline:!0,rows:3,onChange:e=>m("comment",e)})})]})]})})}),"missed"===(null===l||void 0===l?void 0:l.type)&&(0,sn.jsx)(Zs,{item:!0,xs:12,children:(0,sn.jsx)(Fp,{sx:{bgcolor:"white",borderRadius:2,boxShadow:"0 4px 12px rgba(0,0,0,0.05)"},children:(0,sn.jsxs)(Wp,{children:[(0,sn.jsxs)(vs,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1,color:"#333",mb:3},children:[(0,sn.jsx)(AN,{}),"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u043f\u0440\u043e\u043f\u0443\u0441\u043a\u0435"]}),(0,sn.jsxs)(Zs,{container:!0,spacing:3,children:[(0,sn.jsx)(Zs,{item:!0,xs:12,children:(0,sn.jsx)(vM,{label:"\u041f\u0440\u0438\u0447\u0438\u043d\u0430 \u043f\u0440\u043e\u043f\u0443\u0441\u043a\u0430",value:(null===l||void 0===l?void 0:l.reason)||"\u2014",editing:i,multiline:!0,rows:2,onChange:e=>m("reason",e)})}),(0,sn.jsx)(Zs,{item:!0,xs:12,children:i?(0,sn.jsx)(QI,{control:(0,sn.jsx)(wN,{checked:"writeoff"===(null===l||void 0===l?void 0:l.action),onChange:e=>m("action",e.target.checked?"writeoff":"keep"),color:"primary"}),label:"\u0421\u043f\u0438\u0441\u0430\u0442\u044c \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0443"}):(0,sn.jsx)(vM,{label:"\u0421\u0442\u0430\u0442\u0443\u0441 \u0441\u043f\u0438\u0441\u0430\u043d\u0438\u044f",value:"writeoff"===(null===l||void 0===l?void 0:l.action)?"\u0422\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0430 \u0441\u043f\u0438\u0441\u0430\u043d\u0430":"\u0422\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0430 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0430",color:"writeoff"===(null===l||void 0===l?void 0:l.action)?"green":"red"})})]})]})})}),"simple"===(null===l||void 0===l?void 0:l.type)&&(0,sn.jsx)(Zs,{item:!0,xs:12,children:(0,sn.jsx)(Fp,{sx:{bgcolor:"white",borderRadius:2,boxShadow:"0 4px 12px rgba(0,0,0,0.05)"},children:(0,sn.jsxs)(Wp,{children:[(0,sn.jsxs)(vs,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1,color:"#333",mb:3},children:[(0,sn.jsx)(CN,{}),"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"]}),(0,sn.jsx)(vM,{label:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u043a \u0441\u043f\u0438\u0441\u0430\u043d\u0438\u044e",value:(null===l||void 0===l?void 0:l.writeoffComment)||"\u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d",editing:i,multiline:!0,rows:3,onChange:e=>m("writeoffComment",e)})]})})}),!i&&(0,sn.jsx)(Zs,{item:!0,xs:12,children:(0,sn.jsx)(ps,{sx:{display:"flex",justifyContent:"center",mt:2},children:(0,sn.jsx)(rr,{variant:"outlined",startIcon:(0,sn.jsx)(TN,{}),color:"error",onClick:()=>h(!0),sx:{borderRadius:2,px:3},children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435"})})})]})]}),(0,sn.jsx)(Rm,{sx:{px:3,py:2,bgcolor:"#f5f5f5",borderTop:"1px solid #e0e0e0"},children:i?(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)(rr,{onClick:()=>{u({...r,sessionDate:r.sessionDate?new Date(r.sessionDate):new Date}),s(!1)},startIcon:(0,sn.jsx)(IN,{}),variant:"outlined",color:"inherit",sx:{borderRadius:2},children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),(0,sn.jsx)(rr,{onClick:async()=>{try{const e={...r,oldSessionDate:r.sessionDate,sessionDate:l.sessionDate.toISOString()};await qd("session_history/changeReportWriteOff","PATCH",e),o&&o(e),Ud("newReportError","success","\u0421\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u043e!",1e3),s(!1)}catch(e){Ud("newReportError","error","\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0438 \u0441\u043f\u0438\u0441\u0430\u043d\u0438\u044f!",1e3)}},startIcon:(0,sn.jsx)(Il,{}),variant:"contained",sx:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",borderRadius:2,px:3},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f"})]}):(0,sn.jsx)(rr,{onClick:n,variant:"outlined",sx:{borderRadius:2},children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"})})]})})},kM=e=>{let{filters:t,filtersClient:n,findSelectedClient:r,setOpenCardDialog:o}=e;const[a,i]=(0,W.useState)([]),[s,l]=(0,W.useState)(!1),[u,c]=(0,W.useState)(null),[d,p]=(0,W.useState)(null);(0,W.useEffect)((()=>{h()}),[]),(0,W.useEffect)((()=>{p(n?n.id:t?t.id:null)}),[n,t]);const h=async()=>{try{if(d){const e=await qd(`/session_history/customGet?clientId=${d}`,"GET");i(e.reverse())}else{const e=await qd("/session_history","GET");i(e.reverse())}}catch(e){console.error("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0439")}},f=(0,W.useCallback)((e=>{try{const t=JSON.parse(e.report);c(t),l(!0)}catch(t){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0430\u0440\u0441\u0438\u043d\u0433\u0430 \u043e\u0442\u0447\u0435\u0442\u0430:",t.message)}}),[]),m=(0,W.useCallback)((e=>{r(e),o(!0)}),[r,o]),g=(0,W.useMemo)((()=>[...a].filter((e=>!d||e.clientId===d))),[a,d]),y=(0,W.useRef)(null);return(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)(cn,{sx:{p:2,borderRadius:3,boxShadow:"0 8px 32px rgba(0, 0, 0, 0.05)"},children:(0,sn.jsx)(Ty,{sx:{maxHeight:440},children:(0,sn.jsxs)(My,{stickyHeader:!0,children:[(0,sn.jsx)(_y,{children:(0,sn.jsxs)(gy,{sx:{background:"linear-gradient(90deg, #f6f6f6 0%, #f9f9f9 100%)",display:"flex",width:"100%"},children:[(0,sn.jsx)(ky,{sx:{fontWeight:700,flex:1},children:"\u0414\u0430\u0442\u0430"}),(0,sn.jsx)(ky,{sx:{fontWeight:700,flex:1},children:"\u0418\u043c\u044f"}),(0,sn.jsx)(ky,{sx:{fontWeight:700,flex:1},children:"\u0421\u043e\u0431\u044b\u0442\u0438\u0435"}),(0,sn.jsx)(ky,{sx:{fontWeight:700,flex:1},children:"\u041e\u0442\u0447\u0435\u0442"})]})}),(0,sn.jsx)(Vy,{component:"div",sx:{display:"block",maxHeight:440,overflow:"auto"},children:(0,sn.jsx)(sv,{height:380,itemCount:g.length,itemSize:()=>53,width:"100%",ref:y,children:e=>{let{index:t,style:n}=e;const o=g[t];return(0,sn.jsxs)(gy,{hover:!0,style:{...n,display:"flex",width:"100%",boxSizing:"border-box"},children:[(0,sn.jsx)(ky,{component:"div",variant:"body",sx:{flex:1,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},children:(0,sn.jsx)(tg,{title:o.time,children:(0,sn.jsx)("span",{children:o.date})})}),(0,sn.jsx)(ky,{component:"div",variant:"body",sx:{flex:1,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},children:"function"===typeof r?(0,sn.jsx)(rr,{variant:"text",disableRipple:!0,disableElevation:!0,sx:{padding:0,minWidth:0,textTransform:"none",fontWeight:"normal",fontSize:"inherit",color:"inherit","&:hover":{backgroundColor:"transparent",textDecoration:"underline"}},onClick:()=>m(o.clientId),children:o.name}):o.name}),(0,sn.jsx)(ky,{component:"div",variant:"body",sx:{flex:1,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},children:o.action}),(0,sn.jsx)(ky,{component:"div",variant:"body",sx:{flex:1,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},children:(0,sn.jsx)(rr,{variant:"outlined",size:"small",color:"primary",onClick:()=>f(o),sx:{textTransform:"none",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)","&:hover":{backgroundColor:"#f0f7ff",boxShadow:"0 4px 8px rgba(0,0,0,0.15)"}},children:"\u041e\u0442\u0447\u0435\u0442"})})]},t)}})})]})})}),(0,sn.jsx)(wM,{open:s,onClose:()=>{l(!1),c(null)},selectedReport:u})]})},SM=W.memo(kM);var AM=n(5540),CM=n(5382),TM=n(3471),IM=n(2505),EM=n(8641),NM=n(2497);const OM=["\u0414\u0430\u0442\u0430","\u0412\u0435\u0441","\u041e\u0431\u044a\u0435\u043c \u0433\u0440\u0443\u0434\u0438","\u041e\u0431\u044a\u0435\u043c \u0442\u0430\u043b\u0438\u0438","\u041e\u0431\u044a\u0435\u043c \u044f\u0433\u043e\u0434\u0438\u0446","\u041e\u0431\u044a\u0435\u043c \u0431\u0435\u0434\u0440\u0430","\u041e\u0431\u044a\u0435\u043c \u0433\u043e\u043b\u0435\u043d\u0438","\u041e\u0431\u044a\u0435\u043c \u043f\u043b\u0435\u0447\u0430","\u041e\u0431\u044a\u0435\u043c \u043f\u043b\u0435\u0447\u0430 \u0432 \u043d\u0430\u043f\u0440\u044f\u0436\u0435\u043d\u043d\u043e\u043c \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0438"],MM={padding:"0px !important",paddingTop:"0px !important",paddingLeft:"0px !important",paddingBottom:"0px !important",fontSize:"13px","& .MuiInputBase-input":{textAlign:"center"}};function DM(e){return(0,sn.jsx)(Wr,{sx:MM,...e})}function RM(e){let{clientId:t}=e;const n=OM,[r,o]=(0,W.useState)(OM.map((()=>[""]))),[a,i]=(0,W.useState)(null),[s,l]=(0,W.useState)(!1),[u,c]=(0,W.useState)(0),d=JSON.parse(localStorage.getItem("user")),p=null===d||void 0===d?void 0:d.id;(0,W.useEffect)((()=>{f()}),[]);const h=async e=>{try{await qd("/clients/changeParametrs","PATCH",{data:e,clientId:t})||Ud("errorNewDataCorrect","error","\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0438 \u0434\u0430\u043d\u043d\u044b\u0445 \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435!",1500),Ud("GoodChange","success","\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u043f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u044b!",1500),f()}catch(n){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0434\u0430\u043d\u043d\u044b\u0445:",n)}},f=async()=>{try{const e=await qd(`/clients/customGet?clientId=${t}&nameColumn=parametrs&userId=${p}`),{primary:n,corrections:r}=e;if(!n||!r)return;const a=OM.map(((e,t)=>{var o,a;return[null!==(o=null===(a=n[t])||void 0===a?void 0:a.primary)&&void 0!==o?o:"",...r.map((e=>{var n,r;return null!==(n=null===(r=e[t])||void 0===r?void 0:r.corr)&&void 0!==n?n:""}))]}));o(a);const i=a[0].length-1,s=Math.max(0,i-5);c(s)}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0434\u0430\u043d\u043d\u044b\u0445:",e)}},m=(e,t,n)=>{const r=e.replace(",",".");o((e=>{if(e[t][n]===r)return e;const o=[...e.map((e=>[...e]))];return o[t][n]=r,o})),l(!0)},g=e=>{i(e),o((t=>{const r=[...t.map((e=>[...e]))],o=n.findIndex((e=>"\u0414\u0430\u0442\u0430"===e));return""===r[o][e]&&(r[o][e]=b()),r}))},y=()=>{i(null),s&&v()},v=()=>{const e={parameters:n,primary:r.map((e=>e[0])),corrections:r[0].length>1?Array.from({length:r[0].length-1},((e,t)=>r.map((e=>e[t+1])))):[]};l(!1),h(e)},b=()=>(new Date).toISOString().split("T")[0],x=e=>{let{value:t,onChange:n}=e;return(0,sn.jsx)(Wr,{type:"date",value:t||b(),onChange:e=>n(e.target.value),sx:{width:"100%","& .MuiInputBase-input":{textAlign:"center",py:"6px",px:"8px",border:"1px solid",borderColor:"primary.main",borderRadius:"4px",bgcolor:"background.paper",padding:"0px 0px 0px 0px !important",paddingTop:"0px !important",paddingLeft:"0px !important",paddingBottom:"0px !important",paddingTop:"0px !important",fontSize:"15px"}}})},w=e=>{if(!e)return"";const[t,n,r]=e.split("-");return`${r}.${n}.${t}`},k=r[0].length-1,S=Math.max(0,k-5),A=Math.min(u,S),C=Math.max(0,A),T=r[0].slice(1+C,1+C+5),I=W.memo((e=>{let{primaryValue:t,correctionValue:n,isEditing:r,onChange:o}=e;const a=e=>{const t=parseFloat(e);return isNaN(t)?null:t},i=a(t),s=a(n),l=null!==i&&null!==s?s-i:null,u=l>0?"red":l<0?"green":"inherit";return(0,sn.jsx)(ps,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:r?(0,sn.jsx)(DM,{value:n,onChange:e=>o(e.target.value),sx:{width:"100%"}}):(0,sn.jsxs)(ps,{children:[(0,sn.jsx)("span",{children:n}),null!==l&&0!==l&&(0,sn.jsxs)("span",{style:{color:u,marginLeft:4},children:["(",l>0?"+":"",l.toFixed(1),")"]})]})})}));return(0,sn.jsxs)(ps,{sx:{mt:0,p:0,borderRadius:2,bgcolor:"background.paper",boxShadow:1},children:[(0,sn.jsxs)(ps,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,sn.jsxs)(ps,{children:[(0,sn.jsx)(Ns,{onClick:()=>c((e=>Math.max(0,e-1))),disabled:0===u,sx:{color:0===u?"action.disabled":"primary.main",mr:1},children:(0,sn.jsx)(EM.A,{fontSize:"small"})}),(0,sn.jsx)(Ns,{onClick:()=>c((e=>Math.min(S,e+1))),disabled:u>=S,sx:{color:u>=S?"action.disabled":"primary.main"},children:(0,sn.jsx)(NM.A,{fontSize:"small"})})]}),(0,sn.jsx)(rr,{variant:"contained",onClick:()=>{o((e=>e.map((e=>[...e,""])))),l(!0)},startIcon:(0,sn.jsx)(IM.A,{}),sx:{bgcolor:"success.main","&:hover":{bgcolor:"success.dark"}},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u0438\u0440\u043e\u0432\u043a\u0443"})]}),(0,sn.jsx)(Ty,{component:cn,sx:{overflowX:"auto",border:"1px solid",borderColor:"divider",borderRadius:1,boxShadow:"none",width:"85vh"},children:(0,sn.jsxs)(My,{sx:{borderCollapse:"separate",borderSpacing:0,margin:0,padding:0,width:"auto",tableLayout:"fixed","& .MuiTableCell-root":{border:"1px solid #d0d7de",padding:"4px 0px",backgroundColor:"inherit",color:"#1c1c1e",fontSize:"0.85rem",boxSizing:"border-box",width:"12vh",minWidth:"12vh",maxWidth:"10vh",textAlign:"center",verticalAlign:"middle",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},"& .MuiTableHead-root .MuiTableCell-root":{fontWeight:600,position:"sticky",top:0,zIndex:1,backgroundColor:"#f4f6f8 !important",color:"#111827"},"& .MuiTableHead-root .MuiTableRow-root .MuiTableCell-root:first-of-type":{borderTopLeftRadius:"12px"},"& .MuiTableCell-root:first-of-type":{paddingLeft:"8px !important"},"& .MuiTableHead-root .MuiTableRow-root .MuiTableCell-root:last-of-type":{borderTopRightRadius:"12px"},"& .MuiTableBody-root .MuiTableRow-root:nth-of-type(odd) .MuiTableCell-root":{backgroundColor:"#ffffff"},"& .MuiTableBody-root .MuiTableRow-root:nth-of-type(even) .MuiTableCell-root":{backgroundColor:"rgba(232, 206, 241, 0.51)"},"& .MuiTableBody-root .MuiTableRow-root:hover .MuiTableCell-root":{backgroundColor:"#e0f2fe"},"& .MuiInputBase-input":{padding:"0px !important"}},children:[(0,sn.jsxs)(_y,{children:[(0,sn.jsxs)(gy,{children:[(0,sn.jsx)(ky,{sx:{width:"150px",borderTopLeftRadius:"8px"},rowSpan:2,children:"\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b"}),(0,sn.jsx)(ky,{sx:{width:"150px"},rowSpan:2,children:(0,sn.jsxs)(ps,{display:"flex",alignItems:"center",justifyContent:"space-between",children:["\u041f\u0435\u0440\u0432\u0438\u0447\u043d\u044b\u0435",0===a?(0,sn.jsx)(Ns,{size:"small",onClick:y,sx:{color:"primary.main","&:hover":{bgcolor:"primary.light"}},children:(0,sn.jsx)(CM.A,{fontSize:"small"})}):(0,sn.jsx)(Ns,{size:"small",onClick:()=>g(0),sx:{color:"primary.main","&:hover":{bgcolor:"primary.light"}},children:(0,sn.jsx)(AM.A,{fontSize:"small"})})]})}),(0,sn.jsx)(ky,{colSpan:T.length,sx:{borderTopRightRadius:"8px",width:"100% !important"},children:"\u041a\u043e\u0440\u0440\u0435\u043a\u0442\u0438\u0440\u043e\u0432\u043a\u0430"})]}),(0,sn.jsx)(gy,{children:T.map(((e,t)=>{const s=C+t+1;return(0,sn.jsx)(ky,{children:(0,sn.jsxs)(ps,{display:"flex",alignItems:"center",children:["\u2116",s,(0,sn.jsxs)(ps,{children:[a===s?(0,sn.jsx)(Ns,{size:"small",onClick:y,sx:{color:"primary.main","&:hover":{bgcolor:"primary.light"}},children:(0,sn.jsx)(CM.A,{fontSize:"small"})}):(0,sn.jsx)(Ns,{size:"small",onClick:()=>g(s),sx:{color:"primary.main","&:hover":{bgcolor:"primary.light"}},children:(0,sn.jsx)(AM.A,{fontSize:"small"})}),(0,sn.jsx)(Ns,{size:"small",onClick:()=>(e=>{const t=r.map((t=>{const n=[...t];return n.splice(e,1),n}));o(t),l(!1),i(null);const a={parameters:n,primary:t.map((e=>e[0])),corrections:t[0].length>1?Array.from({length:t[0].length-1},((e,n)=>t.map((e=>e[n+1])))):[]};h(a)})(s),sx:{color:"error.main","&:hover":{bgcolor:"error.light"}},children:(0,sn.jsx)(TM.A,{fontSize:"small"})})]})]})},s)}))})]}),(0,sn.jsx)(Vy,{children:n.map(((e,t)=>(0,sn.jsxs)(gy,{children:[(0,sn.jsx)(ky,{title:`${e}`,children:e},`label-${t}`),(0,sn.jsx)(ky,{children:0===a?0===t?(0,sn.jsx)(x,{value:r[t][0],onChange:e=>m(e,t,0)}):(0,sn.jsx)(Wr,{sx:{padding:"0px 0px 0px 0px !important",paddingTop:"0px !important",paddingLeft:"0px !important",paddingBottom:"0px !important",paddingTop:"0px !important",fontSize:"15px"},value:r[t][0],onChange:e=>m(e.target.value,t,0)}):0===t?w(r[t][0]):r[t][0]}),T.map(((e,n)=>{const o=C+n+1,i=r[t][0],s=r[t][o],l=a===o;return(0,sn.jsx)(ky,{children:0===t&&a===o?(0,sn.jsx)(x,{value:r[0][o],onChange:e=>m(e,0,o)}):a===o?(0,sn.jsx)(DM,{value:r[t][o]||"",onChange:e=>m(e.target.value,t,o)}):0===t?w(r[t][o]||""):(0,sn.jsx)(I,{primaryValue:i,correctionValue:s,isEditing:l,onChange:e=>m(e,t,o)})},o)}))]},`row-${t}`)))})]})})]})}const PM=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function $M(e,t,n){var r;const o=function(e,t,n){const r=t.getBoundingClientRect(),o=n&&n.getBoundingClientRect(),a=(0,la.A)(t);let i;if(t.fakeTransform)i=t.fakeTransform;else{const e=a.getComputedStyle(t);i=e.getPropertyValue("-webkit-transform")||e.getPropertyValue("transform")}let s=0,l=0;if(i&&"none"!==i&&"string"===typeof i){const e=i.split("(")[1].split(")")[0].split(",");s=parseInt(e[4],10),l=parseInt(e[5],10)}return"left"===e?o?`translateX(${o.right+s-r.left}px)`:`translateX(${a.innerWidth+s-r.left}px)`:"right"===e?o?`translateX(-${r.right-o.left-s}px)`:`translateX(-${r.left+r.width-s}px)`:"up"===e?o?`translateY(${o.bottom+l-r.top}px)`:`translateY(${a.innerHeight+l-r.top}px)`:o?`translateY(-${r.top-o.top+r.height-l}px)`:`translateY(-${r.top+r.height-l}px)`}(e,t,"function"===typeof(r=n)?r():r);o&&(t.style.webkitTransform=o,t.style.transform=o)}const jM=W.forwardRef((function(e,t){const n=xa(),r={enter:n.transitions.easing.easeOut,exit:n.transitions.easing.sharp},o={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:a,appear:i=!0,children:s,container:l,direction:u="down",easing:c=r,in:d,onEnter:p,onEntered:h,onEntering:f,onExit:m,onExited:g,onExiting:y,style:v,timeout:b=o,TransitionComponent:x=ba}=e,w=(0,Xt.A)(e,PM),k=W.useRef(null),S=(0,hn.A)(_o(s),k,t),A=e=>t=>{e&&(void 0===t?e(k.current):e(k.current,t))},C=A(((e,t)=>{$M(u,e,l),wa(e),p&&p(e,t)})),T=A(((e,t)=>{const r=ka({timeout:b,style:v,easing:c},{mode:"enter"});e.style.webkitTransition=n.transitions.create("-webkit-transform",(0,Yt.A)({},r)),e.style.transition=n.transitions.create("transform",(0,Yt.A)({},r)),e.style.webkitTransform="none",e.style.transform="none",f&&f(e,t)})),I=A(h),E=A(y),N=A((e=>{const t=ka({timeout:b,style:v,easing:c},{mode:"exit"});e.style.webkitTransition=n.transitions.create("-webkit-transform",t),e.style.transition=n.transitions.create("transform",t),$M(u,e,l),m&&m(e)})),O=A((e=>{e.style.webkitTransition="",e.style.transition="",g&&g(e)})),M=W.useCallback((()=>{k.current&&$M(u,k.current,l)}),[u,l]);return W.useEffect((()=>{if(d||"down"===u||"right"===u)return;const e=(0,sa.A)((()=>{k.current&&$M(u,k.current,l)})),t=(0,la.A)(k.current);return t.addEventListener("resize",e),()=>{e.clear(),t.removeEventListener("resize",e)}}),[u,d,l]),W.useEffect((()=>{d||M()}),[d,M]),(0,sn.jsx)(x,(0,Yt.A)({nodeRef:k,onEnter:C,onEntered:I,onEntering:T,onExit:N,onExited:O,onExiting:E,addEndListener:e=>{a&&a(k.current,e)},appear:i,in:d,timeout:b},w,{children:(e,t)=>W.cloneElement(s,(0,Yt.A)({ref:S,style:(0,Yt.A)({visibility:"exited"!==e||d?void 0:"hidden"},v,s.props.style)},t))}))}));var _M=n(4802),FM=n(6502);const LM={front:{label:"\u0421\u043f\u0435\u0440\u0435\u0434\u0438",icon:"\ud83d\udd3c"},side:{label:"\u0421\u0431\u043e\u043a\u0443",icon:"\u23f9\ufe0f"},back:{label:"\u0421\u0437\u0430\u0434\u0438",icon:"\ud83d\udd3d"}},zM=W.forwardRef((function(e,t){return(0,sn.jsx)(jM,{direction:"up",ref:t,...e})})),BM=e=>{let{clientId:t}=e;const[n,r]=(0,W.useState)({front:null,side:null,back:null}),[o,a]=(0,W.useState)([]),[i,s]=(0,W.useState)([]),[l,u]=(0,W.useState)(!1),[c,d]=(0,W.useState)(!1),[p,h]=(0,W.useState)(null),[f,m]=(0,W.useState)(""),[g,y]=(0,W.useState)(null),[v,b]=(0,W.useState)(null),[x,w]=(0,W.useState)(!0),[k,S]=(0,W.useState)([]),A=JSON.parse(localStorage.getItem("user")),C=null===A||void 0===A?void 0:A.id;(0,W.useEffect)((()=>{N()}),[t]);const T=async()=>{try{const e=(await qd(`/clients_foto/get-folders?clientId=${t}`)).map((e=>{const t=e.nameFolder.match(/^(.*?)\s(\d{2})\|(\d{2})\|(\d{4})\|\s(\d{2})\|(\d{2})\|(\d{2})$/);if(t){const n=t[1].trim(),r=t[2],o=t[3],a=t[4],i=t[5],s=t[6],l=t[7],u=`${r}.${o}.${a}, ${i}:${s}:${l}`,c=new Date(Number(a),Number(o)-1,Number(r),Number(i),Number(s),Number(l)).toISOString();return{id:e.id,customLabel:n,createdAt:c,createdAtFormatted:u,counterPhoto:e.counterPhoto,photos:{front:null,side:null,back:null}}}return{id:e.id,customLabel:e.nameFolder,createdAt:(new Date).toISOString(),createdAtFormatted:"",photos:{front:null,side:null,back:null}}}));a(e)}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u043f\u0430\u043f\u043e\u043a:",e)}finally{w(!1)}},I=async()=>{try{if(!p||!p.id)return;const e=await qd(`/clients_foto/get-photos?folderId=${p.id}`);S(e)}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0439:",e)}},E=async()=>{try{const e=await qd(`/clients_foto/get-primary-photos?isPrimary=1&clientId=${t}&userId=${C}`),n={front:null,side:null,back:null},o="https://lemon-birds-double.loca.lt";e.forEach((e=>{["front","side","back"].includes(e.type)&&(n[e.type]={url:o+e.url,date:e.uploaded_at,id:e.id,comment:e.comment})})),r(n)}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0439:",e)}},N=async()=>{w(!0),await Promise.all([T(),I(),E()]),w(!1)},O=async e=>{h(e),m(e.customLabel);try{const t=await qd(`/clients_foto/get-photos?folderId=${e.id}`),n={front:null,side:null,back:null},r="https://lemon-birds-double.loca.lt";t.forEach((e=>{const{type:t,url:o}=e;t in n&&(n[t]={url:r+o,date:e.uploaded_at,id:e.id})}));const o={...e,photos:n};h(o),a((t=>t.map((t=>t.id===e.id?o:t))))}catch(t){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0444\u043e\u0442\u043e \u0434\u043b\u044f \u043f\u0430\u043f\u043a\u0438:",t)}d(!0)},M=async(e,t)=>{if(p||t){try{const t=e.id;await qd("/clients_foto/delete-photos","DELETE",{id:t})}catch(n){console.error(n)}t?N():(a((t=>t.map((t=>t.id===p.id?{...t,photos:{...t.photos,[e.type]:null}}:t)))),h((t=>({...t,photos:{...t.photos,[e.type]:null}}))),O(p))}};return(0,sn.jsxs)("div",{className:"app",children:[(0,sn.jsxs)("div",{className:"main-view",children:[(0,sn.jsxs)("div",{className:"primary-section",children:[(0,sn.jsx)("h2",{className:"section-title",children:"\u041f\u0435\u0440\u0432\u0438\u0447\u043d\u044b\u0435 \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0438"}),(0,sn.jsx)("div",{className:"photo-types",children:Object.entries(LM).map((e=>{let[o,{label:a,icon:i}]=e;return(0,sn.jsxs)("div",{className:"photo-type",children:[(0,sn.jsxs)("h3",{children:[i," ",a]}),n[o]?(0,sn.jsxs)("div",{className:"photo-container",children:[(0,sn.jsx)("img",{src:`${n[o].url}`,alt:a,className:"photo-preview",onClick:()=>y(`${n[o].url}`),style:{cursor:"pointer"}}),(0,sn.jsx)(Ns,{size:"small",className:"delete-icon",onClick:()=>{M(n[o],"primary")},children:(0,sn.jsx)(_M.A,{fontSize:"small"})})]}):(0,sn.jsxs)("div",{className:"upload-area",children:[(0,sn.jsx)("input",{type:"file",accept:"image/*",id:`primary-${o}`,hidden:!0,onChange:e=>(async(e,n)=>{const o=n.target.files[0];if(!o)return;const a=new FileReader;a.onload=t=>{r((n=>({...n,[e]:{url:t.target.result,date:(new Date).toISOString()}})))},a.readAsDataURL(o);const i=new FormData;i.append("file",o),i.append("clientId",t),i.append("userId",C),i.append("type",e),i.append("isPrimary",1),i.append("comment",""),i.append("originalName","");try{await qd("/clients_foto/upload-primary-photo","POST",i)}catch(s){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0444\u043e\u0442\u043e:",s)}finally{N()}})(o,e)}),(0,sn.jsx)("label",{htmlFor:`primary-${o}`,className:"upload-btn",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c"})]})]},o)}))})]}),(0,sn.jsxs)("div",{className:"folders-section",children:[(0,sn.jsxs)("div",{className:"folders-header",children:[(0,sn.jsx)("h2",{className:"section-title",children:"\u041a\u043e\u0440\u0440\u0435\u043a\u0442\u0438\u0440\u043e\u0432\u043e\u0447\u043d\u044b\u0435 \u0444\u043e\u0442\u043e"}),i.length>0&&(0,sn.jsx)("div",{style:{},children:(0,sn.jsx)("button",{onClick:()=>u(!0),className:"action-btn primary",children:"\u0421\u0440\u0430\u0432\u043d\u0438\u0442\u044c \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0435"})}),(0,sn.jsx)("button",{onClick:async()=>{const e=new Date,n=e.toLocaleString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}),r=`\u0411\u0435\u0437 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044f ${n.replace(/[,:.]/g,"|")}`;try{const o=await qd("/clients_foto/create-folder","POST",{userId:C,clientId:t,folderName:r}),{id:i}=o,s={id:i,createdAt:e.toISOString(),createdAtFormatted:n,customLabel:"",photos:{front:null,side:null,back:null}};a((e=>[s,...e])),N()}catch(o){console.error("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u0430\u043f\u043a\u0443 \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0435",o)}},className:"action-btn primary",children:"+ \u041d\u043e\u0432\u0430\u044f \u043f\u0430\u043f\u043a\u0430"})]}),x?(0,sn.jsx)("p",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}):o.length>0?(0,sn.jsx)("div",{className:"folders-list",children:o.slice().reverse().map((e=>(0,sn.jsxs)("div",{className:"folder-item "+(i.includes(e.id)?"selected":""),onClick:()=>O(e),children:[(0,sn.jsxs)("div",{className:"folder-name",children:[" ",e.createdAtFormatted," \u2014"," ",e.customLabel||"\u0411\u0435\u0437 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044f"]}),(0,sn.jsxs)("div",{className:"folder-photos-count",children:[e.counterPhoto,"/3"]}),(0,sn.jsx)("input",{type:"checkbox",checked:i.includes(e.id),onChange:t=>{t.stopPropagation(),(async e=>{let t=[];if(i.includes(e))t=i.filter((t=>t!==e));else{t=[...i,e];const r=o.find((t=>t.id===e));if(r&&!r.photos.front&&!r.photos.side&&!r.photos.back)try{const e=await qd(`/clients_foto/get-photos?folderId=${r.id}`),t={front:null,side:null,back:null},n="https://lemon-birds-double.loca.lt";e.forEach((e=>{const{type:r,url:o}=e;r in t&&(t[r]={url:n+o,date:e.uploaded_at,id:e.id})}));const o={...r,photos:t};a((e=>e.map((e=>e.id===r.id?o:e))))}catch(n){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u0434\u0433\u0440\u0443\u0437\u043a\u0435 \u0444\u043e\u0442\u043e \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0439 \u043f\u0430\u043f\u043a\u0438:",n)}}s(t)})(e.id)},onClick:e=>e.stopPropagation()})]},e.id)))}):(0,sn.jsx)("p",{children:"\u041d\u0435\u0442 \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u044b\u0445 \u043f\u0430\u043f\u043e\u043a"})]})]}),(0,sn.jsxs)(xm,{open:c,onClose:()=>d(!1),maxWidth:"md",fullWidth:!0,children:[(0,sn.jsxs)(Cm,{children:["\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u0430\u043f\u043a\u0438",(0,sn.jsx)(Ns,{"aria-label":"close",onClick:()=>d(!1),sx:{position:"absolute",right:8,top:8},children:(0,sn.jsx)(_M.A,{})})]}),(0,sn.jsxs)(Nm,{dividers:!0,children:[(0,sn.jsx)(rs,{label:"\u0414\u0430\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f",fullWidth:!0,value:(null===p||void 0===p?void 0:p.createdAtFormatted)||"",margin:"normal",disabled:!0}),(0,sn.jsx)(rs,{label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u041d\u0435\u0434\u0435\u043b\u044f 1)",fullWidth:!0,value:f,onChange:e=>m(e.target.value),margin:"normal"}),(0,sn.jsx)("div",{className:"photo-types",children:Object.entries(LM).map((e=>{let[n,{label:r,icon:o}]=e;const i=null===p||void 0===p?void 0:p.photos[n];return(0,sn.jsxs)("div",{className:"photo-type",children:[(0,sn.jsxs)("h4",{children:[o," ",r]}),i?(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)("img",{src:i.url,alt:r,className:"photo-preview",onClick:()=>y(i.url),style:{cursor:"pointer"}}),(0,sn.jsx)(rr,{onClick:()=>M(i),children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]}):(0,sn.jsxs)("div",{className:"upload-area",children:[(0,sn.jsx)("input",{type:"file",accept:"image/*",id:`edit-folder-${n}`,hidden:!0,onChange:e=>(async(e,n)=>{const r=n.target.files[0];if(!r||!p)return;const o=new FormData;o.append("file",r),o.append("clientId",t),o.append("userId",C),o.append("folderId",p.id),o.append("type",e),o.append("isPrimary",0),o.append("comment",p.customLabel||""),o.append("createdAt",p.createdAt),o.append("createdAtFormatted",p.createdAtFormatted),o.append("folderName",p.customLabel||"\u0411\u0435\u0437 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044f");try{const t=await qd("/clients_foto/upload","POST",o);if(!t.success)throw new Error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438");const n={url:"https://lemon-birds-double.loca.lt"+t.url,date:(new Date).toISOString()};a((t=>t.map((t=>t.id===p.id?{...t,photos:{...t.photos,[e]:n}}:t)))),h((t=>({...t,photos:{...t.photos,[e]:n}})))}catch(i){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0438 \u0444\u043e\u0442\u043e:",i)}finally{N()}})(n,e)}),(0,sn.jsx)("label",{htmlFor:`edit-folder-${n}`,className:"upload-btn",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c"})]})]},n)}))})]}),(0,sn.jsxs)(Rm,{children:[(0,sn.jsx)(rr,{color:"error",onClick:async()=>{if(p)try{await qd("/clients_foto/delete-folder","DELETE",{userId:C,clientId:t,folderId:p.id}),a((e=>e.filter((e=>e.id!==p.id)))),d(!1)}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u043f\u0430\u043f\u043a\u0438:",e),alert("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u0430\u043f\u043a\u0443. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437.")}},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u0430\u043f\u043a\u0443"}),(0,sn.jsx)(rr,{onClick:()=>d(!1),children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),(0,sn.jsx)(rr,{onClick:async()=>{const e=f.trim();if(!e)return;const n=p.createdAtFormatted.replace(/\./g,"|").replace(",","|").replace(/:\s?/,"|").replace(/:/g,"|"),r=`${e} ${n}`;try{await qd("/clients_foto/update-folder-name","PUT",{userId:C,clientId:t,folderId:p.id,newName:r}),a((t=>t.map((t=>t.id===p.id?{...t,customLabel:e}:t)))),h((t=>({...t,customLabel:e}))),d(!1)}catch(o){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0438 \u0438\u043c\u0435\u043d\u0438 \u043f\u0430\u043f\u043a\u0438:",o)}},variant:"contained",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})]}),(0,sn.jsxs)(xm,{fullScreen:!0,open:l,onClose:()=>u(!1),TransitionComponent:zM,PaperProps:{style:{backgroundColor:"rgba(0, 0, 0, 0.9)",color:"#fff"}},children:[(0,sn.jsx)(op,{sx:{position:"relative",backgroundColor:"rgba(30, 30, 30, 0.8)"},children:(0,sn.jsxs)(lp,{children:[(0,sn.jsx)(Ns,{edge:"start",color:"inherit",onClick:()=>u(!1),"aria-label":"close",children:(0,sn.jsx)(_M.A,{})}),(0,sn.jsx)(vs,{sx:{ml:2,flex:1},variant:"h6",children:"\u0421\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u0435 \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0439"})]})}),(0,sn.jsx)(Nm,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"calc(100vh - 64px)",padding:0},children:(0,sn.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"40px",width:"100%",maxWidth:"1200px",padding:"20px"},children:(()=>{const e=[{type:"primary",photos:n,name:"\u041f\u0435\u0440\u0432\u0438\u0447\u043d\u044b\u0435 \u0444\u043e\u0442\u043e"}];return i.forEach((t=>{const n=o.find((e=>e.id===t));n&&e.push({type:"folder",photos:n.photos,name:n.name})})),e})().map(((e,t,n)=>(0,sn.jsxs)(W.Fragment,{children:[(0,sn.jsxs)("div",{style:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",gap:"5px"},children:[(0,sn.jsx)("div",{style:{textAlign:"center",padding:"10px 15px",backgroundColor:"rgba(255, 255, 255, 0.1)",borderRadius:"8px"}}),Object.entries(LM).map((r=>{var o,a;let[i,{label:s,icon:l}]=r;const u=e.photos[i],c=null===(o=n[t+1])||void 0===o?void 0:o.photos[i],d=null===(a=n[t+2])||void 0===a?void 0:a.photos[i],p=u&&c;return(0,sn.jsxs)("div",{style:{width:"100%",textAlign:"center",cursor:p?"pointer":"default"},onClick:()=>{p&&b({before:null===u||void 0===u?void 0:u.url,after1:null===c||void 0===c?void 0:c.url,after2:d?null===d||void 0===d?void 0:d.url:null})},children:[(0,sn.jsxs)(vs,{variant:"body2",sx:{mb:1},children:[l," ",s]}),u?(0,sn.jsx)("img",{src:u.url,alt:s,style:{maxWidth:"100%",maxHeight:"300px",objectFit:"contain",display:"block",margin:"0 auto"}}):(0,sn.jsx)("div",{style:{height:"200px",backgroundColor:"#222",color:"#888"},children:"\u041d\u0435\u0442 \u0444\u043e\u0442\u043e"})]},i)}))]}),t<n.length-1&&(0,sn.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",color:"rgba(255, 255, 255, 0.7)"},children:[(0,sn.jsx)(FM.A,{sx:{fontSize:40}}),(0,sn.jsx)(vs,{variant:"caption",children:0===t?"\u041f\u0435\u0440\u0432\u0438\u0447\u043d\u0430\u044f":"\u2192"})]})]},e.id||"primary")))})})]}),(0,sn.jsxs)(xm,{open:Boolean(g),onClose:()=>y(null),fullScreen:!0,PaperProps:{style:{backgroundColor:"rgba(0, 0, 0, 0.95)",display:"flex",justifyContent:"center",alignItems:"center"}},children:[(0,sn.jsx)(Ns,{onClick:()=>y(null),style:{position:"absolute",top:20,right:20,color:"#fff"},children:(0,sn.jsx)(_M.A,{})}),g&&(0,sn.jsx)("img",{src:g,alt:"fullscreen",style:{maxWidth:"90%",maxHeight:"90%",objectFit:"contain",borderRadius:"10px",boxShadow:"0 0 30px rgba(0,0,0,0.8)"}})]}),(0,sn.jsxs)(xm,{open:Boolean(v),onClose:()=>b(null),fullScreen:!0,PaperProps:{style:{backgroundColor:"rgba(0, 0, 0, 0.95)",display:"flex",flexDirection:"column"}},children:[(0,sn.jsx)(Ns,{onClick:()=>b(null),style:{position:"absolute",top:20,right:20,color:"#fff",zIndex:1e3},children:(0,sn.jsx)(_M.A,{})}),v&&(0,sn.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",gap:"10px",padding:"40px"},children:[(0,sn.jsx)("img",{src:v.before,alt:"Before",style:{maxWidth:"45%",maxHeight:"90%",objectFit:"contain",borderRadius:"10px",boxShadow:"0 0 20px rgba(0,0,0,0.7)"}}),(0,sn.jsx)("img",{src:v.after1,alt:"After",style:{maxWidth:"45%",maxHeight:"90%",objectFit:"contain",borderRadius:"10px",boxShadow:"0 0 20px rgba(0,0,0,0.7)"}}),v.after2&&(0,sn.jsx)("img",{src:v.after2,alt:"After",style:{maxWidth:"45%",maxHeight:"90%",objectFit:"contain",borderRadius:"10px",boxShadow:"0 0 20px rgba(0,0,0,0.7)"}})]})]})]})},WM=e=>`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`,VM=(e,t)=>new Date(e,t).toLocaleDateString("ru-RU",{month:"long",year:"numeric"});const UM=e=>{let{sessionsHistoryClient:t,client:n,addToast:r}=e;const o=new Date,[a,i]=(0,W.useState)(o.getFullYear()),[s,l]=(0,W.useState)(o.getMonth()),[u,c]=(0,W.useState)({}),[d,p]=(0,W.useState)(null),h=((e,t)=>{const n=new Date(e,t,1),r=new Date(e,t+1,0),o=[],a=(n.getDay()+6)%7;for(let i=0;i<a;i++)o.push(null);for(let i=1;i<=r.getDate();i++)o.push(new Date(e,t,i));return o})(a,s),f=(e,t)=>{if(!e)return null;const n=new Date(e);return t?n:(r=3,new Date(n.getTime()+60*r*60*1e3));var r},m=async()=>{try{const e={};t.forEach((t=>{const n=t.report?JSON.parse(t.report):{},r=!!t.trainingTime,o=r?t.trainingTime:t.date,a=f(o,r);if(!a)return;const i=WM(a),s="\u041f\u0435\u0440\u0435\u043d\u0435\u0441\u0435\u043d\u043d\u0430\u044f \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0430"===n.action||"\u041f\u0435\u0440\u0435\u043d\u0435\u0441\u0435\u043d\u043d\u0430\u044f \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0430"===t.action||"missed"===n.type?"missed":"completed",l=`\u0422\u0438\u043f: ${"missed"===s?"\u041f\u0435\u0440\u0435\u043d\u0435\u0441\u0435\u043d\u0430":"\u041f\u0440\u043e\u0432\u0435\u0434\u0435\u043d\u0430"}\n\u041e\u0446\u0435\u043d\u043a\u0430: ${n.rating||"-"}\n\u0418\u043d\u0442\u0435\u043d\u0441\u0438\u0432\u043d\u043e\u0441\u0442\u044c: ${n.intensity||"-"}\n\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439: ${n.writeoffComment||n.comment||"-"}\n\u041f\u0440\u0438\u0447\u0438\u043d\u0430: ${n.reason||"-"}`;e[i]||(e[i]=[]),e[i].push({status:s,info:l,report:n,action:t.action||n.action||""})})),c(e)}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u043f\u043e\u0441\u0435\u0449\u0435\u043d\u0438\u0439:",e),r("errorToast","\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u043f\u043e\u0441\u0435\u0449\u0435\u043d\u0438\u0439")}};(0,W.useEffect)((()=>{m()}),[]);return(0,sn.jsxs)(ps,{children:[(0,sn.jsxs)(ps,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[(0,sn.jsx)(Ns,{onClick:()=>{l((e=>0===e?(i((e=>e-1)),11):e-1))},children:(0,sn.jsx)(nm,{})}),(0,sn.jsx)(vs,{variant:"h5",children:VM(a,s)}),(0,sn.jsx)(Ns,{onClick:()=>{l((e=>11===e?(i((e=>e+1)),0):e+1))},children:(0,sn.jsx)(um,{})})]}),(0,sn.jsxs)(ps,{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:1,children:[["\u041f\u043d","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041f\u0442","\u0421\u0431","\u0412\u0441"].map((e=>(0,sn.jsx)(vs,{variant:"subtitle2",align:"center",children:e},e))),h.map(((e,t)=>{if(!e)return(0,sn.jsx)(ps,{},t);const n=WM(e),r=u[n]||[];let o="#f5f5f5";const a=r.map((e=>e.action));if(a.length>0){const e=a.every((e=>"\u0421\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0438"===e)),t=a.every((e=>"\u041f\u0435\u0440\u0435\u043d\u0435\u0441\u0435\u043d\u043d\u0430\u044f \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0430 \u0431\u0435\u0437 \u0441\u043f\u0438\u0441\u0430\u043d\u0438\u044f"===e||"\u041f\u0435\u0440\u0435\u043d\u0435\u0441\u0435\u043d\u043d\u0430\u044f \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0430 \u0441\u043e \u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435\u043c"===e));o=e?"lightgreen":t?"#ffb3b3":"yellow"}const i=r.map(((e,t)=>`#${t+1}\n${e.info}`)).join("\n\n");return(0,sn.jsx)(tg,{title:i,arrow:!0,disableInteractive:!0,children:(0,sn.jsxs)(ps,{sx:{cursor:r.length?"pointer":"default",textAlign:"center",p:1,borderRadius:2,bgcolor:o,border:"1px solid #ccc"},onClick:()=>r.length&&p(r[0].report),children:[(0,sn.jsx)(vs,{variant:"body2",children:e.getDate()}),r.length>1&&(0,sn.jsxs)(vs,{variant:"caption",color:"text.secondary",children:[r.length,"\xd7"]})]})},n)}))]}),d&&(0,sn.jsx)(wM,{open:!!d,selectedReport:d,onClose:()=>p(null),onSave:e=>{m(),p(null)},onCancelWriteOff:()=>p(null)})]})},HM=(0,Vi.A)((0,sn.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),GM=(0,Vi.A)((0,sn.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),qM=(0,Vi.A)((0,sn.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function KM(e){return(0,on.Ay)("MuiCheckbox",e)}const XM=(0,rn.A)("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),YM=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],QM=(0,en.Ay)(nE,{shouldForwardProp:e=>(0,pn.A)(e)||"classes"===e,name:"MuiCheckbox",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.indeterminate&&t.indeterminate,t[`size${(0,qn.A)(n.size)}`],"default"!==n.color&&t[`color${(0,qn.A)(n.color)}`]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,Yt.A)({color:(t.vars||t).palette.text.secondary},!n.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${"default"===n.color?t.vars.palette.action.activeChannel:t.vars.palette[n.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,Jt.X4)("default"===n.color?t.palette.action.active:t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==n.color&&{[`&.${XM.checked}, &.${XM.indeterminate}`]:{color:(t.vars||t).palette[n.color].main},[`&.${XM.disabled}`]:{color:(t.vars||t).palette.action.disabled}})})),ZM=(0,sn.jsx)(GM,{}),JM=(0,sn.jsx)(HM,{}),eD=(0,sn.jsx)(qM,{}),tD=W.forwardRef((function(e,t){var n,r;const o=(0,nn.b)({props:e,name:"MuiCheckbox"}),{checkedIcon:a=ZM,color:i="primary",icon:s=JM,indeterminate:l=!1,indeterminateIcon:u=eD,inputProps:c,size:d="medium",className:p}=o,h=(0,Xt.A)(o,YM),f=l?u:s,m=l?u:a,g=(0,Yt.A)({},o,{color:i,indeterminate:l,size:d}),y=(e=>{const{classes:t,indeterminate:n,color:r,size:o}=e,a={root:["root",n&&"indeterminate",`color${(0,qn.A)(r)}`,`size${(0,qn.A)(o)}`]},i=(0,Zt.A)(a,KM,t);return(0,Yt.A)({},t,i)})(g);return(0,sn.jsx)(QM,(0,Yt.A)({type:"checkbox",inputProps:(0,Yt.A)({"data-indeterminate":l},c),icon:W.cloneElement(f,{fontSize:null!=(n=f.props.fontSize)?n:d}),checkedIcon:W.cloneElement(m,{fontSize:null!=(r=m.props.fontSize)?r:d}),ownerState:g,ref:t,className:(0,Qt.A)(y.root,p)},h,{classes:y}))}));var nD=n(9686),rD=n.n(nD),oD=n(1629),aD=n.n(oD),iD=n(6604),sD=n.n(iD),lD=n(3097),uD=n.n(lD),cD=n(7424),dD=n.n(cD),pD=n(9889),hD=n.n(pD),fD="Invariant failed";function mD(e,t){if(!e)throw new Error(fD)}var gD=n(620),yD=n.n(gD),vD=n(6686),bD=n.n(vD),xD=n(9062),wD=n(5268),kD=n.n(wD),SD=n(9160),AD=n.n(SD),CD=function(e){return 0===e?0:e>0?1:-1},TD=function(e){return yD()(e)&&e.indexOf("%")===e.length-1},ID=function(e){return AD()(e)&&!kD()(e)},ED=function(e){return ID(e)||yD()(e)},ND=0,OD=function(e){var t=++ND;return"".concat(e||"").concat(t)},MD=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!ID(e)&&!yD()(e))return r;if(TD(e)){var a=e.indexOf("%");n=t*parseFloat(e.slice(0,a))/100}else n=+e;return kD()(n)&&(n=r),o&&n>t&&(n=t),n},DD=function(e){if(!e)return null;var t=Object.keys(e);return t&&t.length?e[t[0]]:null},RD=function(e,t){return ID(e)&&ID(t)?function(n){return e+n*(t-e)}:function(){return t}};function PD(e,t,n){return e&&e.length?e.find((function(e){return e&&("function"===typeof t?t(e):uD()(e,t))===n})):null}var $D=function(e,t){return ID(e)&&ID(t)?e-t:yD()(e)&&yD()(t)?e.localeCompare(t):e instanceof Date&&t instanceof Date?e.getTime()-t.getTime():String(e).localeCompare(String(t))};function jD(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function _D(e){return _D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_D(e)}var FD=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],LD=["points","pathLength"],zD={svg:["viewBox","children"],polygon:LD,polyline:LD},BD=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],WD=function(e,t){if(!e||"function"===typeof e||"boolean"===typeof e)return null;var n=e;if((0,W.isValidElement)(e)&&(n=e.props),!bD()(n))return null;var r={};return Object.keys(n).forEach((function(e){BD.includes(e)&&(r[e]=t||function(t){return n[e](n,t)})})),r},VD=function(e,t,n){if(!bD()(e)||"object"!==_D(e))return null;var r=null;return Object.keys(e).forEach((function(o){var a=e[o];BD.includes(o)&&"function"===typeof a&&(r||(r={}),r[o]=function(e,t,n){return function(r){return e(t,n,r),null}}(a,t,n))})),r},UD=["children"],HD=["children"];function GD(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function qD(e){return qD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qD(e)}var KD={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},XD=function(e){return"string"===typeof e?e:e?e.displayName||e.name||"Component":""},YD=null,QD=null,ZD=function e(t){if(t===YD&&Array.isArray(QD))return QD;var n=[];return W.Children.forEach(t,(function(t){rD()(t)||((0,xD.isFragment)(t)?n=n.concat(e(t.props.children)):n.push(t))})),QD=n,YD=t,n};function JD(e,t){var n=[],r=[];return r=Array.isArray(t)?t.map((function(e){return XD(e)})):[XD(t)],ZD(e).forEach((function(e){var t=uD()(e,"type.displayName")||uD()(e,"type.name");-1!==r.indexOf(t)&&n.push(e)})),n}function eR(e,t){var n=JD(e,t);return n&&n[0]}var tR=function(e){if(!e||!e.props)return!1;var t=e.props,n=t.width,r=t.height;return!(!ID(n)||n<=0||!ID(r)||r<=0)},nR=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],rR=function(e){return e&&e.type&&yD()(e.type)&&nR.indexOf(e.type)>=0},oR=function(e,t,n){if(!e||"function"===typeof e||"boolean"===typeof e)return null;var r=e;if((0,W.isValidElement)(e)&&(r=e.props),!bD()(r))return null;var o={};return Object.keys(r).forEach((function(e){var a;(function(e,t,n,r){var o,a=null!==(o=null===zD||void 0===zD?void 0:zD[r])&&void 0!==o?o:[];return t.startsWith("data-")||!aD()(e)&&(r&&a.includes(t)||FD.includes(t))||n&&BD.includes(t)})(null===(a=r)||void 0===a?void 0:a[e],e,t,n)&&(o[e]=r[e])})),o},aR=function e(t,n){if(t===n)return!0;var r=W.Children.count(t);if(r!==W.Children.count(n))return!1;if(0===r)return!0;if(1===r)return iR(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var o=0;o<r;o++){var a=t[o],i=n[o];if(Array.isArray(a)||Array.isArray(i)){if(!e(a,i))return!1}else if(!iR(a,i))return!1}return!0},iR=function(e,t){if(rD()(e)&&rD()(t))return!0;if(!rD()(e)&&!rD()(t)){var n=e.props||{},r=n.children,o=GD(n,UD),a=t.props||{},i=a.children,s=GD(a,HD);return r&&i?jD(o,s)&&aR(r,i):!r&&!i&&jD(o,s)}return!1},sR=function(e,t){var n=[],r={};return ZD(e).forEach((function(e,o){if(rR(e))n.push(e);else if(e){var a=XD(e.type),i=t[a]||{},s=i.handler,l=i.once;if(s&&(!l||!r[a])){var u=s(e,a,o);n.push(u),r[a]=!0}}})),n},lR=["children","width","height","viewBox","className","style","title","desc"];function uR(){return uR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uR.apply(this,arguments)}function cR(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function dR(e){var t=e.children,n=e.width,r=e.height,o=e.viewBox,a=e.className,i=e.style,s=e.title,l=e.desc,u=cR(e,lR),c=o||{width:n,height:r,x:0,y:0},d=(0,Qt.A)("recharts-surface",a);return W.createElement("svg",uR({},oR(u,!0,"svg"),{className:d,width:n,height:r,style:i,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),W.createElement("title",null,s),W.createElement("desc",null,l),t)}var pR=["children","className"];function hR(){return hR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hR.apply(this,arguments)}function fR(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var mR=W.forwardRef((function(e,t){var n=e.children,r=e.className,o=fR(e,pR),a=(0,Qt.A)("recharts-layer",r);return W.createElement("g",hR({className:a},oR(o,!0),{ref:t}),n)}));function gR(e){return gR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gR(e)}function yR(){return yR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yR.apply(this,arguments)}function vR(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return bR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bR(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bR(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xR(Object(n),!0).forEach((function(t){kR(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xR(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kR(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=gR(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=gR(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==gR(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SR(e){return Array.isArray(e)&&ED(e[0])&&ED(e[1])?e.join(" ~ "):e}var AR=function(e){var t=e.separator,n=void 0===t?" : ":t,r=e.contentStyle,o=void 0===r?{}:r,a=e.itemStyle,i=void 0===a?{}:a,s=e.labelStyle,l=void 0===s?{}:s,u=e.payload,c=e.formatter,d=e.itemSorter,p=e.wrapperClassName,h=e.labelClassName,f=e.label,m=e.labelFormatter,g=e.accessibilityLayer,y=void 0!==g&&g,v=wR({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),b=wR({margin:0},l),x=!rD()(f),w=x?f:"",k=(0,Qt.A)("recharts-default-tooltip",p),S=(0,Qt.A)("recharts-tooltip-label",h);x&&m&&void 0!==u&&null!==u&&(w=m(f,u));var A=y?{role:"status","aria-live":"assertive"}:{};return W.createElement("div",yR({className:k,style:v},A),W.createElement("p",{className:S,style:b},W.isValidElement(w)?w:"".concat(w)),function(){if(u&&u.length){var e=(d?dD()(u,d):u).map((function(e,t){if("none"===e.type)return null;var r=wR({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},i),o=e.formatter||c||SR,a=e.value,s=e.name,l=a,d=s;if(o&&null!=l&&null!=d){var p=o(a,s,e,t,u);if(Array.isArray(p)){var h=vR(p,2);l=h[0],d=h[1]}else l=p}return W.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(t),style:r},ED(d)?W.createElement("span",{className:"recharts-tooltip-item-name"},d):null,ED(d)?W.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,W.createElement("span",{className:"recharts-tooltip-item-value"},l),W.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))}));return W.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null}())};function CR(e){return CR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},CR(e)}function TR(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=CR(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=CR(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==CR(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var IR="recharts-tooltip-wrapper",ER={visibility:"hidden"};function NR(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return(0,Qt.A)(IR,TR(TR(TR(TR({},"".concat(IR,"-right"),ID(n)&&t&&ID(t.x)&&n>=t.x),"".concat(IR,"-left"),ID(n)&&t&&ID(t.x)&&n<t.x),"".concat(IR,"-bottom"),ID(r)&&t&&ID(t.y)&&r>=t.y),"".concat(IR,"-top"),ID(r)&&t&&ID(t.y)&&r<t.y))}function OR(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,o=e.offsetTopLeft,a=e.position,i=e.reverseDirection,s=e.tooltipDimension,l=e.viewBox,u=e.viewBoxDimension;if(a&&ID(a[r]))return a[r];var c=n[r]-s-o,d=n[r]+o;return t[r]?i[r]?c:d:i[r]?c<l[r]?Math.max(d,l[r]):Math.max(c,l[r]):d+s>l[r]+u?Math.max(c,l[r]):Math.max(d,l[r])}function MR(e){return MR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},MR(e)}function DR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function RR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?DR(Object(n),!0).forEach((function(t){LR(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DR(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function PR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,zR(r.key),r)}}function $R(e,t,n){return t=_R(t),function(e,t){if(t&&("object"===MR(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,jR()?Reflect.construct(t,n||[],_R(e).constructor):t.apply(e,n))}function jR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(jR=function(){return!!e})()}function _R(e){return _R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_R(e)}function FR(e,t){return FR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},FR(e,t)}function LR(e,t,n){return(t=zR(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zR(e){var t=function(e,t){if("object"!=MR(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=MR(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==MR(t)?t:t+""}var BR=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return LR(e=$R(this,t,[].concat(r)),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),LR(e,"handleKeyDown",(function(t){var n,r,o,a;"Escape"===t.key&&e.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(n=null===(r=e.props.coordinate)||void 0===r?void 0:r.x)&&void 0!==n?n:0,y:null!==(o=null===(a=e.props.coordinate)||void 0===a?void 0:a.y)&&void 0!==o?o:0}})})),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&FR(e,t)}(t,e),n=t,(r=[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();(Math.abs(e.width-this.state.lastBoundingBox.width)>1||Math.abs(e.height-this.state.lastBoundingBox.height)>1)&&this.setState({lastBoundingBox:{width:e.width,height:e.height}})}else-1===this.state.lastBoundingBox.width&&-1===this.state.lastBoundingBox.height||this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var e,t;this.props.active&&this.updateBBox(),this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}},{key:"render",value:function(){var e=this,t=this.props,n=t.active,r=t.allowEscapeViewBox,o=t.animationDuration,a=t.animationEasing,i=t.children,s=t.coordinate,l=t.hasPayload,u=t.isAnimationActive,c=t.offset,d=t.position,p=t.reverseDirection,h=t.useTranslate3d,f=t.viewBox,m=t.wrapperStyle,g=function(e){var t,n,r=e.allowEscapeViewBox,o=e.coordinate,a=e.offsetTopLeft,i=e.position,s=e.reverseDirection,l=e.tooltipBox,u=e.useTranslate3d,c=e.viewBox;return{cssProperties:l.height>0&&l.width>0&&o?function(e){var t=e.translateX,n=e.translateY;return{transform:e.useTranslate3d?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}({translateX:t=OR({allowEscapeViewBox:r,coordinate:o,key:"x",offsetTopLeft:a,position:i,reverseDirection:s,tooltipDimension:l.width,viewBox:c,viewBoxDimension:c.width}),translateY:n=OR({allowEscapeViewBox:r,coordinate:o,key:"y",offsetTopLeft:a,position:i,reverseDirection:s,tooltipDimension:l.height,viewBox:c,viewBoxDimension:c.height}),useTranslate3d:u}):ER,cssClasses:NR({translateX:t,translateY:n,coordinate:o})}}({allowEscapeViewBox:r,coordinate:s,offsetTopLeft:c,position:d,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:h,viewBox:f}),y=g.cssClasses,v=g.cssProperties,b=RR(RR({transition:u&&n?"transform ".concat(o,"ms ").concat(a):void 0},v),{},{pointerEvents:"none",visibility:!this.state.dismissed&&n&&l?"visible":"hidden",position:"absolute",top:0,left:0},m);return W.createElement("div",{tabIndex:-1,className:y,style:b,ref:function(t){e.wrapperNode=t}},i)}}])&&PR(n.prototype,r),o&&PR(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(W.PureComponent),WR={isSsr:!("undefined"!==typeof window&&window.document&&window.document.createElement&&window.setTimeout),get:function(e){return WR[e]},set:function(e,t){if("string"===typeof e)WR[e]=t;else{var n=Object.keys(e);n&&n.length&&n.forEach((function(t){WR[t]=e[t]}))}}},VR=n(977),UR=n.n(VR);function HR(e,t,n){return!0===t?UR()(e,n):aD()(t)?UR()(e,t):e}function GR(e){return GR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},GR(e)}function qR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function KR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qR(Object(n),!0).forEach((function(t){eP(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qR(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function XR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,tP(r.key),r)}}function YR(e,t,n){return t=ZR(t),function(e,t){if(t&&("object"===GR(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,QR()?Reflect.construct(t,n||[],ZR(e).constructor):t.apply(e,n))}function QR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(QR=function(){return!!e})()}function ZR(e){return ZR=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ZR(e)}function JR(e,t){return JR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},JR(e,t)}function eP(e,t,n){return(t=tP(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tP(e){var t=function(e,t){if("object"!=GR(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=GR(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==GR(t)?t:t+""}function nP(e){return e.dataKey}var rP=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),YR(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&JR(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this,t=this.props,n=t.active,r=t.allowEscapeViewBox,o=t.animationDuration,a=t.animationEasing,i=t.content,s=t.coordinate,l=t.filterNull,u=t.isAnimationActive,c=t.offset,d=t.payload,p=t.payloadUniqBy,h=t.position,f=t.reverseDirection,m=t.useTranslate3d,g=t.viewBox,y=t.wrapperStyle,v=null!==d&&void 0!==d?d:[];l&&v.length&&(v=HR(d.filter((function(t){return null!=t.value&&(!0!==t.hide||e.props.includeHidden)})),p,nP));var b=v.length>0;return W.createElement(BR,{allowEscapeViewBox:r,animationDuration:o,animationEasing:a,isAnimationActive:u,active:n,coordinate:s,hasPayload:b,offset:c,position:h,reverseDirection:f,useTranslate3d:m,viewBox:g,wrapperStyle:y},function(e,t){return W.isValidElement(e)?W.cloneElement(e,t):"function"===typeof e?W.createElement(e,t):W.createElement(AR,t)}(i,KR(KR({},this.props),{},{payload:v})))}}])&&XR(n.prototype,r),o&&XR(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(W.PureComponent);eP(rP,"displayName","Tooltip"),eP(rP,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!WR.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var oP=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o]},aP=n(643),iP=n.n(aP);Math.abs,Math.atan2;const sP=Math.cos,lP=(Math.max,Math.min,Math.sin),uP=Math.sqrt,cP=Math.PI,dP=2*cP;const pP={draw(e,t){const n=uP(t/cP);e.moveTo(n,0),e.arc(0,0,n,0,dP)}},hP={draw(e,t){const n=uP(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},fP=uP(1/3),mP=2*fP,gP={draw(e,t){const n=uP(t/mP),r=n*fP;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},yP={draw(e,t){const n=uP(t),r=-n/2;e.rect(r,r,n,n)}},vP=lP(cP/10)/lP(7*cP/10),bP=lP(dP/10)*vP,xP=-sP(dP/10)*vP,wP={draw(e,t){const n=uP(.8908130915292852*t),r=bP*n,o=xP*n;e.moveTo(0,-n),e.lineTo(r,o);for(let a=1;a<5;++a){const t=dP*a/5,i=sP(t),s=lP(t);e.lineTo(s*n,-i*n),e.lineTo(i*r-s*o,s*r+i*o)}e.closePath()}},kP=uP(3),SP={draw(e,t){const n=-uP(t/(3*kP));e.moveTo(0,2*n),e.lineTo(-kP*n,-n),e.lineTo(kP*n,-n),e.closePath()}},AP=-.5,CP=uP(3)/2,TP=1/uP(12),IP=3*(TP/2+1),EP={draw(e,t){const n=uP(t/IP),r=n/2,o=n*TP,a=r,i=n*TP+n,s=-a,l=i;e.moveTo(r,o),e.lineTo(a,i),e.lineTo(s,l),e.lineTo(AP*r-CP*o,CP*r+AP*o),e.lineTo(AP*a-CP*i,CP*a+AP*i),e.lineTo(AP*s-CP*l,CP*s+AP*l),e.lineTo(AP*r+CP*o,AP*o-CP*r),e.lineTo(AP*a+CP*i,AP*i-CP*a),e.lineTo(AP*s+CP*l,AP*l-CP*s),e.closePath()}};function NP(e){return function(){return e}}const OP=Math.PI,MP=2*OP,DP=1e-6,RP=MP-DP;function PP(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}class $P{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?PP:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return PP;const n=10**t;return function(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,n,r){this._append`Q${+e},${+t},${this._x1=+n},${this._y1=+r}`}bezierCurveTo(e,t,n,r,o,a){this._append`C${+e},${+t},${+n},${+r},${this._x1=+o},${this._y1=+a}`}arcTo(e,t,n,r,o){if(e=+e,t=+t,n=+n,r=+r,(o=+o)<0)throw new Error(`negative radius: ${o}`);let a=this._x1,i=this._y1,s=n-e,l=r-t,u=a-e,c=i-t,d=u*u+c*c;if(null===this._x1)this._append`M${this._x1=e},${this._y1=t}`;else if(d>DP)if(Math.abs(c*s-l*u)>DP&&o){let p=n-a,h=r-i,f=s*s+l*l,m=p*p+h*h,g=Math.sqrt(f),y=Math.sqrt(d),v=o*Math.tan((OP-Math.acos((f+d-m)/(2*g*y)))/2),b=v/y,x=v/g;Math.abs(b-1)>DP&&this._append`L${e+b*u},${t+b*c}`,this._append`A${o},${o},0,0,${+(c*p>u*h)},${this._x1=e+x*s},${this._y1=t+x*l}`}else this._append`L${this._x1=e},${this._y1=t}`;else;}arc(e,t,n,r,o,a){if(e=+e,t=+t,a=!!a,(n=+n)<0)throw new Error(`negative radius: ${n}`);let i=n*Math.cos(r),s=n*Math.sin(r),l=e+i,u=t+s,c=1^a,d=a?r-o:o-r;null===this._x1?this._append`M${l},${u}`:(Math.abs(this._x1-l)>DP||Math.abs(this._y1-u)>DP)&&this._append`L${l},${u}`,n&&(d<0&&(d=d%MP+MP),d>RP?this._append`A${n},${n},0,1,${c},${e-i},${t-s}A${n},${n},0,1,${c},${this._x1=l},${this._y1=u}`:d>DP&&this._append`A${n},${n},0,${+(d>=OP)},${c},${this._x1=e+n*Math.cos(o)},${this._y1=t+n*Math.sin(o)}`)}rect(e,t,n,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${n=+n}v${+r}h${-n}Z`}toString(){return this._}}function jP(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError(`invalid digits: ${n}`);t=e}return e},()=>new $P(t)}uP(3),uP(3);function _P(e){return _P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_P(e)}var FP=["type","size","sizeType"];function LP(){return LP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},LP.apply(this,arguments)}function zP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function BP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zP(Object(n),!0).forEach((function(t){WP(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function WP(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=_P(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=_P(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==_P(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VP(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var UP={symbolCircle:pP,symbolCross:hP,symbolDiamond:gP,symbolSquare:yP,symbolStar:wP,symbolTriangle:SP,symbolWye:EP},HP=Math.PI/180,GP=function(e){var t=e.type,n=void 0===t?"circle":t,r=e.size,o=void 0===r?64:r,a=e.sizeType,i=void 0===a?"area":a,s=BP(BP({},VP(e,FP)),{},{type:n,size:o,sizeType:i}),l=s.className,u=s.cx,c=s.cy,d=oR(s,!0);return u===+u&&c===+c&&o===+o?W.createElement("path",LP({},d,{className:(0,Qt.A)("recharts-symbols",l),transform:"translate(".concat(u,", ").concat(c,")"),d:function(){var e=function(e){var t="symbol".concat(iP()(e));return UP[t]||pP}(n),t=function(e,t){let n=null,r=jP(o);function o(){let o;if(n||(n=o=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),o)return n=null,o+""||null}return e="function"===typeof e?e:NP(e||pP),t="function"===typeof t?t:NP(void 0===t?64:+t),o.type=function(t){return arguments.length?(e="function"===typeof t?t:NP(t),o):e},o.size=function(e){return arguments.length?(t="function"===typeof e?e:NP(+e),o):t},o.context=function(e){return arguments.length?(n=null==e?null:e,o):n},o}().type(e).size(function(e,t,n){if("area"===t)return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var r=18*HP;return 1.25*e*e*(Math.tan(r)-Math.tan(2*r)*Math.pow(Math.tan(r),2));case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}}(o,i,n));return t()}()})):null};function qP(e){return qP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qP(e)}function KP(){return KP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},KP.apply(this,arguments)}function XP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function YP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,n$(r.key),r)}}function QP(e,t,n){return t=JP(t),function(e,t){if(t&&("object"===qP(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ZP()?Reflect.construct(t,n||[],JP(e).constructor):t.apply(e,n))}function ZP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ZP=function(){return!!e})()}function JP(e){return JP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},JP(e)}function e$(e,t){return e$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e$(e,t)}function t$(e,t,n){return(t=n$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n$(e){var t=function(e,t){if("object"!=qP(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=qP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==qP(t)?t:t+""}GP.registerSymbol=function(e,t){UP["symbol".concat(iP()(e))]=t};var r$=32,o$=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),QP(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&e$(e,t)}(t,e),n=t,r=[{key:"renderIcon",value:function(e){var t=this.props.inactiveColor,n=16,r=5.333333333333333,o=10.666666666666666,a=e.inactive?t:e.color;if("plainline"===e.type)return W.createElement("line",{strokeWidth:4,fill:"none",stroke:a,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:n,x2:r$,y2:n,className:"recharts-legend-icon"});if("line"===e.type)return W.createElement("path",{strokeWidth:4,fill:"none",stroke:a,d:"M0,".concat(n,"h").concat(o,"\n            A").concat(r,",").concat(r,",0,1,1,").concat(2*o,",").concat(n,"\n            H").concat(r$,"M").concat(2*o,",").concat(n,"\n            A").concat(r,",").concat(r,",0,1,1,").concat(o,",").concat(n),className:"recharts-legend-icon"});if("rect"===e.type)return W.createElement("path",{stroke:"none",fill:a,d:"M0,".concat(4,"h").concat(r$,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(W.isValidElement(e.legendIcon)){var i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?XP(Object(n),!0).forEach((function(t){t$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return delete i.legendIcon,W.cloneElement(e.legendIcon,i)}return W.createElement(GP,{fill:a,cx:n,cy:n,size:r$,sizeType:"diameter",type:e.type})}},{key:"renderItems",value:function(){var e=this,t=this.props,n=t.payload,r=t.iconSize,o=t.layout,a=t.formatter,i=t.inactiveColor,s={x:0,y:0,width:r$,height:r$},l={display:"horizontal"===o?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return n.map((function(t,n){var o=t.formatter||a,c=(0,Qt.A)(t$(t$({"recharts-legend-item":!0},"legend-item-".concat(n),!0),"inactive",t.inactive));if("none"===t.type)return null;var d=aD()(t.value)?null:t.value;oP(!aD()(t.value),'The name property is also required when using a function for the dataKey of a chart\'s cartesian components. Ex: <Bar name="Name of my Data"/>');var p=t.inactive?i:t.color;return W.createElement("li",KP({className:c,style:l,key:"legend-item-".concat(n)},VD(e.props,t,n)),W.createElement(dR,{width:r,height:r,viewBox:s,style:u},e.renderIcon(t)),W.createElement("span",{className:"recharts-legend-item-text",style:{color:p}},o?o(d,t,n):d))}))}},{key:"render",value:function(){var e=this.props,t=e.payload,n=e.layout,r=e.align;if(!t||!t.length)return null;var o={padding:0,margin:0,textAlign:"horizontal"===n?r:"left"};return W.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}],r&&YP(n.prototype,r),o&&YP(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(W.PureComponent);function a$(e){return a$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a$(e)}t$(o$,"displayName","Legend"),t$(o$,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var i$=["ref"];function s$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s$(Object(n),!0).forEach((function(t){f$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u$(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,m$(r.key),r)}}function c$(e,t,n){return t=p$(t),function(e,t){if(t&&("object"===a$(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,d$()?Reflect.construct(t,n||[],p$(e).constructor):t.apply(e,n))}function d$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(d$=function(){return!!e})()}function p$(e){return p$=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},p$(e)}function h$(e,t){return h$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h$(e,t)}function f$(e,t,n){return(t=m$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m$(e){var t=function(e,t){if("object"!=a$(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a$(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a$(t)?t:t+""}function g$(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function y$(e){return e.value}var v$=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return f$(e=c$(this,t,[].concat(r)),"lastBoundingBox",{width:-1,height:-1}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h$(e,t)}(t,e),n=t,o=[{key:"getWithHeight",value:function(e,t){var n=l$(l$({},this.defaultProps),e.props).layout;return"vertical"===n&&ID(e.props.height)?{height:e.props.height}:"horizontal"===n?{width:e.props.width||t}:null}}],(r=[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();return e.height=this.wrapperNode.offsetHeight,e.width=this.wrapperNode.offsetWidth,e}return null}},{key:"updateBBox",value:function(){var e=this.props.onBBoxUpdate,t=this.getBBox();t?(Math.abs(t.width-this.lastBoundingBox.width)>1||Math.abs(t.height-this.lastBoundingBox.height)>1)&&(this.lastBoundingBox.width=t.width,this.lastBoundingBox.height=t.height,e&&e(t)):-1===this.lastBoundingBox.width&&-1===this.lastBoundingBox.height||(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,e&&e(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?l$({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(e){var t,n,r=this.props,o=r.layout,a=r.align,i=r.verticalAlign,s=r.margin,l=r.chartWidth,u=r.chartHeight;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(t="center"===a&&"vertical"===o?{left:((l||0)-this.getBBoxSnapshot().width)/2}:"right"===a?{right:s&&s.right||0}:{left:s&&s.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(n="middle"===i?{top:((u||0)-this.getBBoxSnapshot().height)/2}:"bottom"===i?{bottom:s&&s.bottom||0}:{top:s&&s.top||0}),l$(l$({},t),n)}},{key:"render",value:function(){var e=this,t=this.props,n=t.content,r=t.width,o=t.height,a=t.wrapperStyle,i=t.payloadUniqBy,s=t.payload,l=l$(l$({position:"absolute",width:r||"auto",height:o||"auto"},this.getDefaultPosition(a)),a);return W.createElement("div",{className:"recharts-legend-wrapper",style:l,ref:function(t){e.wrapperNode=t}},function(e,t){if(W.isValidElement(e))return W.cloneElement(e,t);if("function"===typeof e)return W.createElement(e,t);t.ref;var n=g$(t,i$);return W.createElement(o$,n)}(n,l$(l$({},this.props),{},{payload:HR(s,i,y$)})))}}])&&u$(n.prototype,r),o&&u$(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(W.PureComponent);function b$(){return b$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},b$.apply(this,arguments)}f$(v$,"displayName","Legend"),f$(v$,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var x$=function(e){var t=e.cx,n=e.cy,r=e.r,o=e.className,a=(0,Qt.A)("recharts-dot",o);return t===+t&&n===+n&&r===+r?W.createElement("circle",b$({},oR(e,!1),WD(e),{className:a,cx:t,cy:n,r:r})):null},w$=Object.getOwnPropertyNames,k$=Object.getOwnPropertySymbols,S$=Object.prototype.hasOwnProperty;function A$(e,t){return function(n,r,o){return e(n,r,o)&&t(n,r,o)}}function C$(e){return function(t,n,r){if(!t||!n||"object"!==typeof t||"object"!==typeof n)return e(t,n,r);var o=r.cache,a=o.get(t),i=o.get(n);if(a&&i)return a===n&&i===t;o.set(t,n),o.set(n,t);var s=e(t,n,r);return o.delete(t),o.delete(n),s}}function T$(e){return w$(e).concat(k$(e))}var I$=Object.hasOwn||function(e,t){return S$.call(e,t)};function E$(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var N$=Object.getOwnPropertyDescriptor,O$=Object.keys;function M$(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function D$(e,t){return E$(e.getTime(),t.getTime())}function R$(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function P$(e,t){return e===t}function $$(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var o,a,i=new Array(r),s=e.entries(),l=0;(o=s.next())&&!o.done;){for(var u=t.entries(),c=!1,d=0;(a=u.next())&&!a.done;)if(i[d])d++;else{var p=o.value,h=a.value;if(n.equals(p[0],h[0],l,d,e,t,n)&&n.equals(p[1],h[1],p[0],h[0],e,t,n)){c=i[d]=!0;break}d++}if(!c)return!1;l++}return!0}var j$=E$;function _$(e,t,n){var r=O$(e),o=r.length;if(O$(t).length!==o)return!1;for(;o-- >0;)if(!U$(e,t,n,r[o]))return!1;return!0}function F$(e,t,n){var r,o,a,i=T$(e),s=i.length;if(T$(t).length!==s)return!1;for(;s-- >0;){if(!U$(e,t,n,r=i[s]))return!1;if(o=N$(e,r),a=N$(t,r),(o||a)&&(!o||!a||o.configurable!==a.configurable||o.enumerable!==a.enumerable||o.writable!==a.writable))return!1}return!0}function L$(e,t){return E$(e.valueOf(),t.valueOf())}function z$(e,t){return e.source===t.source&&e.flags===t.flags}function B$(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var o,a,i=new Array(r),s=e.values();(o=s.next())&&!o.done;){for(var l=t.values(),u=!1,c=0;(a=l.next())&&!a.done;){if(!i[c]&&n.equals(o.value,a.value,o.value,a.value,e,t,n)){u=i[c]=!0;break}c++}if(!u)return!1}return!0}function W$(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function V$(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function U$(e,t,n,r){return!("_owner"!==r&&"__o"!==r&&"__v"!==r||!e.$$typeof&&!t.$$typeof)||I$(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}var H$=Array.isArray,G$="function"===typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView:null,q$=Object.assign,K$=Object.prototype.toString.call.bind(Object.prototype.toString);var X$=Y$();Y$({strict:!0}),Y$({circular:!0}),Y$({circular:!0,strict:!0}),Y$({createInternalComparator:function(){return E$}}),Y$({strict:!0,createInternalComparator:function(){return E$}}),Y$({circular:!0,createInternalComparator:function(){return E$}}),Y$({circular:!0,createInternalComparator:function(){return E$},strict:!0});function Y$(e){void 0===e&&(e={});var t,n=e.circular,r=void 0!==n&&n,o=e.createInternalComparator,a=e.createState,i=e.strict,s=void 0!==i&&i,l=function(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,o={areArraysEqual:r?F$:M$,areDatesEqual:D$,areErrorsEqual:R$,areFunctionsEqual:P$,areMapsEqual:r?A$($$,F$):$$,areNumbersEqual:j$,areObjectsEqual:r?F$:_$,arePrimitiveWrappersEqual:L$,areRegExpsEqual:z$,areSetsEqual:r?A$(B$,F$):B$,areTypedArraysEqual:r?F$:W$,areUrlsEqual:V$};if(n&&(o=q$({},o,n(o))),t){var a=C$(o.areArraysEqual),i=C$(o.areMapsEqual),s=C$(o.areObjectsEqual),l=C$(o.areSetsEqual);o=q$({},o,{areArraysEqual:a,areMapsEqual:i,areObjectsEqual:s,areSetsEqual:l})}return o}(e),u=function(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areErrorsEqual,o=e.areFunctionsEqual,a=e.areMapsEqual,i=e.areNumbersEqual,s=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,c=e.areSetsEqual,d=e.areTypedArraysEqual,p=e.areUrlsEqual;return function(e,h,f){if(e===h)return!0;if(null==e||null==h)return!1;var m=typeof e;if(m!==typeof h)return!1;if("object"!==m)return"number"===m?i(e,h,f):"function"===m&&o(e,h,f);var g=e.constructor;if(g!==h.constructor)return!1;if(g===Object)return s(e,h,f);if(H$(e))return t(e,h,f);if(null!=G$&&G$(e))return d(e,h,f);if(g===Date)return n(e,h,f);if(g===RegExp)return u(e,h,f);if(g===Map)return a(e,h,f);if(g===Set)return c(e,h,f);var y=K$(e);return"[object Date]"===y?n(e,h,f):"[object RegExp]"===y?u(e,h,f):"[object Map]"===y?a(e,h,f):"[object Set]"===y?c(e,h,f):"[object Object]"===y?"function"!==typeof e.then&&"function"!==typeof h.then&&s(e,h,f):"[object URL]"===y?p(e,h,f):"[object Error]"===y?r(e,h,f):"[object Arguments]"===y?s(e,h,f):("[object Boolean]"===y||"[object Number]"===y||"[object String]"===y)&&l(e,h,f)}}(l);return function(e){var t=e.circular,n=e.comparator,r=e.createState,o=e.equals,a=e.strict;if(r)return function(e,i){var s=r(),l=s.cache,u=void 0===l?t?new WeakMap:void 0:l,c=s.meta;return n(e,i,{cache:u,equals:o,meta:c,strict:a})};if(t)return function(e,t){return n(e,t,{cache:new WeakMap,equals:o,meta:void 0,strict:a})};var i={cache:void 0,equals:o,meta:void 0,strict:a};return function(e,t){return n(e,t,i)}}({circular:r,comparator:u,createState:a,equals:o?o(u):(t=u,function(e,n,r,o,a,i,s){return t(e,n,s)}),strict:s})}function Q$(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=-1;requestAnimationFrame((function r(o){n<0&&(n=o),o-n>t?(e(o),n=-1):function(e){"undefined"!==typeof requestAnimationFrame&&requestAnimationFrame(e)}(r)}))}function Z$(e){return Z$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Z$(e)}function J$(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return ej(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ej(e,t)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ej(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function tj(){var e=function(){return null},t=!1,n=function n(r){if(!t){if(Array.isArray(r)){if(!r.length)return;var o=J$(r),a=o[0],i=o.slice(1);return"number"===typeof a?void Q$(n.bind(null,i),a):(n(a),void Q$(n.bind(null,i)))}"object"===Z$(r)&&e(r),"function"===typeof r&&r()}};return{stop:function(){t=!0},start:function(e){t=!1,n(e)},subscribe:function(t){return e=t,function(){e=function(){return null}}}}}function nj(e){return nj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nj(e)}function rj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rj(Object(n),!0).forEach((function(t){aj(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rj(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function aj(e,t,n){return t=function(e){var t=function(e,t){if("object"!==nj(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==nj(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===nj(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ij=function(e){return e},sj=function(e,t){return Object.keys(t).reduce((function(n,r){return oj(oj({},n),{},aj({},r,e(r,t[r])))}),{})},lj=function(e,t,n){return e.map((function(e){return"".concat((r=e,r.replace(/([A-Z])/g,(function(e){return"-".concat(e.toLowerCase())})))," ").concat(t,"ms ").concat(n);var r})).join(",")};function uj(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return s}}(e,t)||dj(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cj(e){return function(e){if(Array.isArray(e))return pj(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||dj(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dj(e,t){if(e){if("string"===typeof e)return pj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pj(e,t):void 0}}function pj(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var hj=1e-4,fj=function(e,t){return[0,3*e,3*t-6*e,3*e-3*t+1]},mj=function(e,t){return e.map((function(e,n){return e*Math.pow(t,n)})).reduce((function(e,t){return e+t}))},gj=function(e,t){return function(n){var r=fj(e,t);return mj(r,n)}},yj=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],o=t[1],a=t[2],i=t[3];if(1===t.length)switch(t[0]){case"linear":r=0,o=0,a=1,i=1;break;case"ease":r=.25,o=.1,a=.25,i=1;break;case"ease-in":r=.42,o=0,a=1,i=1;break;case"ease-out":r=.42,o=0,a=.58,i=1;break;case"ease-in-out":r=0,o=0,a=.58,i=1;break;default:var s=t[0].split("(");if("cubic-bezier"===s[0]&&4===s[1].split(")")[0].split(",").length){var l=uj(s[1].split(")")[0].split(",").map((function(e){return parseFloat(e)})),4);r=l[0],o=l[1],a=l[2],i=l[3]}}[r,a,o,i].every((function(e){return"number"===typeof e&&e>=0&&e<=1}));var u,c,d=gj(r,a),p=gj(o,i),h=(u=r,c=a,function(e){var t=fj(u,c),n=[].concat(cj(t.map((function(e,t){return e*t})).slice(1)),[0]);return mj(n,e)}),f=function(e){for(var t,n=e>1?1:e,r=n,o=0;o<8;++o){var a=d(r)-n,i=h(r);if(Math.abs(a-n)<hj||i<hj)return p(r);r=(t=r-a/i)>1?1:t<0?0:t}return p(r)};return f.isStepper=!1,f},vj=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0];if("string"===typeof r)switch(r){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return yj(r);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.stiff,n=void 0===t?100:t,r=e.damping,o=void 0===r?8:r,a=e.dt,i=void 0===a?17:a,s=function(e,t,r){var a=r+(-(e-t)*n-r*o)*i/1e3,s=r*i/1e3+e;return Math.abs(s-t)<hj&&Math.abs(a)<hj?[t,0]:[s,a]};return s.isStepper=!0,s.dt=i,s}();default:if("cubic-bezier"===r.split("(")[0])return yj(r)}return"function"===typeof r?r:null};function bj(e){return bj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bj(e)}function xj(e){return function(e){if(Array.isArray(e))return Tj(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Cj(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wj(Object(n),!0).forEach((function(t){Sj(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wj(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Sj(e,t,n){return t=function(e){var t=function(e,t){if("object"!==bj(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==bj(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===bj(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Aj(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return s}}(e,t)||Cj(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cj(e,t){if(e){if("string"===typeof e)return Tj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Tj(e,t):void 0}}function Tj(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ij=function(e,t,n){return e+(t-e)*n},Ej=function(e){return e.from!==e.to},Nj=function e(t,n,r){var o=sj((function(e,n){if(Ej(n)){var r=Aj(t(n.from,n.to,n.velocity),2),o=r[0],a=r[1];return kj(kj({},n),{},{from:o,velocity:a})}return n}),n);return r<1?sj((function(e,t){return Ej(t)?kj(kj({},t),{},{velocity:Ij(t.velocity,o[e].velocity,r),from:Ij(t.from,o[e].from,r)}):t}),n):e(t,o,r-1)};const Oj=function(e,t,n,r,o){var a,i,s,l,u=(a=e,i=t,[Object.keys(a),Object.keys(i)].reduce((function(e,t){return e.filter((function(e){return t.includes(e)}))}))),c=u.reduce((function(n,r){return kj(kj({},n),{},Sj({},r,[e[r],t[r]]))}),{}),d=u.reduce((function(n,r){return kj(kj({},n),{},Sj({},r,{from:e[r],velocity:0,to:t[r]}))}),{}),p=-1,h=function(){return null};return h=n.isStepper?function(r){s||(s=r);var a=(r-s)/n.dt;d=Nj(n,d,a),o(kj(kj(kj({},e),t),sj((function(e,t){return t.from}),d))),s=r,Object.values(d).filter(Ej).length&&(p=requestAnimationFrame(h))}:function(a){l||(l=a);var i=(a-l)/r,s=sj((function(e,t){return Ij.apply(void 0,xj(t).concat([n(i)]))}),c);if(o(kj(kj(kj({},e),t),s)),i<1)p=requestAnimationFrame(h);else{var u=sj((function(e,t){return Ij.apply(void 0,xj(t).concat([n(1)]))}),c);o(kj(kj(kj({},e),t),u))}},function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(p)}}};function Mj(e){return Mj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mj(e)}var Dj=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Rj(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Pj(e){return function(e){if(Array.isArray(e))return $j(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return $j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $j(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jj(Object(n),!0).forEach((function(t){Fj(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jj(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fj(e,t,n){return(t=zj(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,zj(r.key),r)}}function zj(e){var t=function(e,t){if("object"!==Mj(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Mj(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Mj(t)?t:String(t)}function Bj(e,t){return Bj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Bj(e,t)}function Wj(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ZBe){return!1}}();return function(){var n,r=Hj(e);if(t){var o=Hj(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Vj(this,n)}}function Vj(e,t){if(t&&("object"===Mj(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Uj(e)}function Uj(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hj(e){return Hj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Hj(e)}var Gj=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bj(e,t)}(a,e);var t,n,r,o=Wj(a);function a(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var r=(n=o.call(this,e,t)).props,i=r.isActive,s=r.attributeName,l=r.from,u=r.to,c=r.steps,d=r.children,p=r.duration;if(n.handleStyleChange=n.handleStyleChange.bind(Uj(n)),n.changeStyle=n.changeStyle.bind(Uj(n)),!i||p<=0)return n.state={style:{}},"function"===typeof d&&(n.state={style:u}),Vj(n);if(c&&c.length)n.state={style:c[0].style};else if(l){if("function"===typeof d)return n.state={style:l},Vj(n);n.state={style:s?Fj({},s,l):l}}else n.state={style:{}};return n}return t=a,(n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.isActive,n=e.canBegin;this.mounted=!0,t&&n&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isActive,r=t.canBegin,o=t.attributeName,a=t.shouldReAnimate,i=t.to,s=t.from,l=this.state.style;if(r)if(n){if(!(X$(e.to,i)&&e.canBegin&&e.isActive)){var u=!e.canBegin||!e.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var c=u||a?s:e.to;if(this.state&&l){var d={style:o?Fj({},o,c):c};(o&&l[o]!==c||!o&&l!==c)&&this.setState(d)}this.runAnimation(_j(_j({},this.props),{},{from:c,begin:0}))}}else{var p={style:o?Fj({},o,i):i};this.state&&l&&(o&&l[o]!==i||!o&&l!==i)&&this.setState(p)}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}},{key:"handleStyleChange",value:function(e){this.changeStyle(e)}},{key:"changeStyle",value:function(e){this.mounted&&this.setState({style:e})}},{key:"runJSAnimation",value:function(e){var t=this,n=e.from,r=e.to,o=e.duration,a=e.easing,i=e.begin,s=e.onAnimationEnd,l=e.onAnimationStart,u=Oj(n,r,vj(a),o,this.changeStyle);this.manager.start([l,i,function(){t.stopJSAnimation=u()},o,s])}},{key:"runStepAnimation",value:function(e){var t=this,n=e.steps,r=e.begin,o=e.onAnimationStart,a=n[0],i=a.style,s=a.duration,l=void 0===s?0:s;return this.manager.start([o].concat(Pj(n.reduce((function(e,r,o){if(0===o)return e;var a=r.duration,i=r.easing,s=void 0===i?"ease":i,l=r.style,u=r.properties,c=r.onAnimationEnd,d=o>0?n[o-1]:r,p=u||Object.keys(l);if("function"===typeof s||"spring"===s)return[].concat(Pj(e),[t.runJSAnimation.bind(t,{from:d.style,to:l,duration:a,easing:s}),a]);var h=lj(p,a,s),f=_j(_j(_j({},d.style),l),{},{transition:h});return[].concat(Pj(e),[f,a,c]).filter(ij)}),[i,Math.max(l,r)])),[e.onAnimationEnd]))}},{key:"runAnimation",value:function(e){this.manager||(this.manager=tj());var t=e.begin,n=e.duration,r=e.attributeName,o=e.to,a=e.easing,i=e.onAnimationStart,s=e.onAnimationEnd,l=e.steps,u=e.children,c=this.manager;if(this.unSubscribe=c.subscribe(this.handleStyleChange),"function"!==typeof a&&"function"!==typeof u&&"spring"!==a)if(l.length>1)this.runStepAnimation(e);else{var d=r?Fj({},r,o):o,p=lj(Object.keys(d),n,a);c.start([i,t,_j(_j({},d),{},{transition:p}),n,s])}else this.runJSAnimation(e)}},{key:"render",value:function(){var e=this.props,t=e.children,n=(e.begin,e.duration),r=(e.attributeName,e.easing,e.isActive),o=(e.steps,e.from,e.to,e.canBegin,e.onAnimationEnd,e.shouldReAnimate,e.onAnimationReStart,Rj(e,Dj)),a=W.Children.count(t),i=this.state.style;if("function"===typeof t)return t(i);if(!r||0===a||n<=0)return t;var s=function(e){var t=e.props,n=t.style,r=void 0===n?{}:n,a=t.className;return(0,W.cloneElement)(e,_j(_j({},o),{},{style:_j(_j({},r),i),className:a}))};return 1===a?s(W.Children.only(t)):W.createElement("div",null,W.Children.map(t,(function(e){return s(e)})))}}])&&Lj(t.prototype,n),r&&Lj(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(W.PureComponent);Gj.displayName="Animate",Gj.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}},Gj.propTypes={from:bv().oneOfType([bv().object,bv().string]),to:bv().oneOfType([bv().object,bv().string]),attributeName:bv().string,duration:bv().number,begin:bv().number,easing:bv().oneOfType([bv().string,bv().func]),steps:bv().arrayOf(bv().shape({duration:bv().number.isRequired,style:bv().object.isRequired,easing:bv().oneOfType([bv().oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),bv().func]),properties:bv().arrayOf("string"),onAnimationEnd:bv().func})),children:bv().oneOfType([bv().node,bv().func]),isActive:bv().bool,canBegin:bv().bool,onAnimationEnd:bv().func,shouldReAnimate:bv().bool,onAnimationStart:bv().func,onAnimationReStart:bv().func};const qj=Gj;function Kj(e){return Kj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kj(e)}function Xj(){return Xj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xj.apply(this,arguments)}function Yj(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Qj(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qj(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qj(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Zj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zj(Object(n),!0).forEach((function(t){e_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zj(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function e_(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Kj(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Kj(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Kj(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var t_=function(e,t,n,r,o){var a,i=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,l=n>=0?1:-1,u=r>=0&&n>=0||r<0&&n<0?1:0;if(i>0&&o instanceof Array){for(var c=[0,0,0,0],d=0;d<4;d++)c[d]=o[d]>i?i:o[d];a="M".concat(e,",").concat(t+s*c[0]),c[0]>0&&(a+="A ".concat(c[0],",").concat(c[0],",0,0,").concat(u,",").concat(e+l*c[0],",").concat(t)),a+="L ".concat(e+n-l*c[1],",").concat(t),c[1]>0&&(a+="A ".concat(c[1],",").concat(c[1],",0,0,").concat(u,",\n        ").concat(e+n,",").concat(t+s*c[1])),a+="L ".concat(e+n,",").concat(t+r-s*c[2]),c[2]>0&&(a+="A ".concat(c[2],",").concat(c[2],",0,0,").concat(u,",\n        ").concat(e+n-l*c[2],",").concat(t+r)),a+="L ".concat(e+l*c[3],",").concat(t+r),c[3]>0&&(a+="A ".concat(c[3],",").concat(c[3],",0,0,").concat(u,",\n        ").concat(e,",").concat(t+r-s*c[3])),a+="Z"}else if(i>0&&o===+o&&o>0){var p=Math.min(i,o);a="M ".concat(e,",").concat(t+s*p,"\n            A ").concat(p,",").concat(p,",0,0,").concat(u,",").concat(e+l*p,",").concat(t,"\n            L ").concat(e+n-l*p,",").concat(t,"\n            A ").concat(p,",").concat(p,",0,0,").concat(u,",").concat(e+n,",").concat(t+s*p,"\n            L ").concat(e+n,",").concat(t+r-s*p,"\n            A ").concat(p,",").concat(p,",0,0,").concat(u,",").concat(e+n-l*p,",").concat(t+r,"\n            L ").concat(e+l*p,",").concat(t+r,"\n            A ").concat(p,",").concat(p,",0,0,").concat(u,",").concat(e,",").concat(t+r-s*p," Z")}else a="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return a},n_=function(e,t){if(!e||!t)return!1;var n=e.x,r=e.y,o=t.x,a=t.y,i=t.width,s=t.height;if(Math.abs(i)>0&&Math.abs(s)>0){var l=Math.min(o,o+i),u=Math.max(o,o+i),c=Math.min(a,a+s),d=Math.max(a,a+s);return n>=l&&n<=u&&r>=c&&r<=d}return!1},r_={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},o_=function(e){var t=Jj(Jj({},r_),e),n=(0,W.useRef)(),r=Yj((0,W.useState)(-1),2),o=r[0],a=r[1];(0,W.useEffect)((function(){if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&a(e)}catch(t){}}),[]);var i=t.x,s=t.y,l=t.width,u=t.height,c=t.radius,d=t.className,p=t.animationEasing,h=t.animationDuration,f=t.animationBegin,m=t.isAnimationActive,g=t.isUpdateAnimationActive;if(i!==+i||s!==+s||l!==+l||u!==+u||0===l||0===u)return null;var y=(0,Qt.A)("recharts-rectangle",d);return g?W.createElement(qj,{canBegin:o>0,from:{width:l,height:u,x:i,y:s},to:{width:l,height:u,x:i,y:s},duration:h,animationEasing:p,isActive:g},(function(e){var r=e.width,a=e.height,i=e.x,s=e.y;return W.createElement(qj,{canBegin:o>0,from:"0px ".concat(-1===o?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:f,duration:h,isActive:m,easing:p},W.createElement("path",Xj({},oR(t,!0),{className:y,d:t_(i,s,r,a,c),ref:n})))})):W.createElement("path",Xj({},oR(t,!0),{className:y,d:t_(i,s,l,u,c)}))};function a_(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function i_(e,t){switch(arguments.length){case 0:break;case 1:"function"===typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"===typeof t?this.interpolator(t):this.range(t)}return this}class s_ extends Map{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d_;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[n,r]of e)this.set(n,r)}get(e){return super.get(l_(this,e))}has(e){return super.has(l_(this,e))}set(e,t){return super.set(u_(this,e),t)}delete(e){return super.delete(c_(this,e))}}Set;function l_(e,t){let{_intern:n,_key:r}=e;const o=r(t);return n.has(o)?n.get(o):t}function u_(e,t){let{_intern:n,_key:r}=e;const o=r(t);return n.has(o)?n.get(o):(n.set(o,t),t)}function c_(e,t){let{_intern:n,_key:r}=e;const o=r(t);return n.has(o)&&(t=n.get(o),n.delete(o)),t}function d_(e){return null!==e&&"object"===typeof e?e.valueOf():e}const p_=Symbol("implicit");function h_(){var e=new s_,t=[],n=[],r=p_;function o(o){let a=e.get(o);if(void 0===a){if(r!==p_)return r;e.set(o,a=t.push(o)-1)}return n[a%n.length]}return o.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new s_;for(const r of n)e.has(r)||e.set(r,t.push(r)-1);return o},o.range=function(e){return arguments.length?(n=Array.from(e),o):n.slice()},o.unknown=function(e){return arguments.length?(r=e,o):r},o.copy=function(){return h_(t,n).unknown(r)},a_.apply(o,arguments),o}function f_(){var e,t,n=h_().unknown(void 0),r=n.domain,o=n.range,a=0,i=1,s=!1,l=0,u=0,c=.5;function d(){var n=r().length,d=i<a,p=d?i:a,h=d?a:i;e=(h-p)/Math.max(1,n-l+2*u),s&&(e=Math.floor(e)),p+=(h-p-e*(n-l))*c,t=e*(1-l),s&&(p=Math.round(p),t=Math.round(t));var f=function(e,t,n){e=+e,t=+t,n=(o=arguments.length)<2?(t=e,e=0,1):o<3?1:+n;for(var r=-1,o=0|Math.max(0,Math.ceil((t-e)/n)),a=new Array(o);++r<o;)a[r]=e+r*n;return a}(n).map((function(t){return p+e*t}));return o(d?f.reverse():f)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),d()):r()},n.range=function(e){return arguments.length?([a,i]=e,a=+a,i=+i,d()):[a,i]},n.rangeRound=function(e){return[a,i]=e,a=+a,i=+i,s=!0,d()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(s=!!e,d()):s},n.padding=function(e){return arguments.length?(l=Math.min(1,u=+e),d()):l},n.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),d()):l},n.paddingOuter=function(e){return arguments.length?(u=+e,d()):u},n.align=function(e){return arguments.length?(c=Math.max(0,Math.min(1,e)),d()):c},n.copy=function(){return f_(r(),[a,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},a_.apply(d(),arguments)}function m_(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return m_(t())},e}function g_(){return m_(f_.apply(null,arguments).paddingInner(1))}function y_(e){return y_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y_(e)}function v_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v_(Object(n),!0).forEach((function(t){x_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x_(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=y_(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=y_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==y_(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w_={widthCache:{},cacheCount:0},k_={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},S_="recharts_measurement_span";var A_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0===e||null===e||WR.isSsr)return{width:0,height:0};var n=function(e){var t=b_({},e);return Object.keys(t).forEach((function(e){t[e]||delete t[e]})),t}(t),r=JSON.stringify({text:e,copyStyle:n});if(w_.widthCache[r])return w_.widthCache[r];try{var o=document.getElementById(S_);o||((o=document.createElement("span")).setAttribute("id",S_),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=b_(b_({},k_),n);Object.assign(o.style,a),o.textContent="".concat(e);var i=o.getBoundingClientRect(),s={width:i.width,height:i.height};return w_.widthCache[r]=s,++w_.cacheCount>2e3&&(w_.cacheCount=0,w_.widthCache={}),s}catch(ZBe){return{width:0,height:0}}};function C_(e){return C_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C_(e)}function T_(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return I_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I_(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,N_(r.key),r)}}function N_(e){var t=function(e,t){if("object"!=C_(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=C_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==C_(t)?t:t+""}var O_=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,M_=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,D_=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,R_=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,P_={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},$_=Object.keys(P_),j_="NaN";var __=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),""===n||D_.test(n)||(this.num=NaN,this.unit=""),$_.includes(n)&&(this.num=function(e,t){return e*P_[t]}(t,n),this.unit="px")}return t=e,r=[{key:"parse",value:function(t){var n,r=T_(null!==(n=R_.exec(t))&&void 0!==n?n:[],3),o=r[1],a=r[2];return new e(parseFloat(o),null!==a&&void 0!==a?a:"")}}],(n=[{key:"add",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num+t.num,this.unit)}},{key:"subtract",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num-t.num,this.unit)}},{key:"multiply",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num*t.num,this.unit||t.unit)}},{key:"divide",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num/t.num,this.unit||t.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}])&&E_(t.prototype,n),r&&E_(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function F_(e){if(e.includes(j_))return j_;for(var t=e;t.includes("*")||t.includes("/");){var n,r=T_(null!==(n=O_.exec(t))&&void 0!==n?n:[],4),o=r[1],a=r[2],i=r[3],s=__.parse(null!==o&&void 0!==o?o:""),l=__.parse(null!==i&&void 0!==i?i:""),u="*"===a?s.multiply(l):s.divide(l);if(u.isNaN())return j_;t=t.replace(O_,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,d=T_(null!==(c=M_.exec(t))&&void 0!==c?c:[],4),p=d[1],h=d[2],f=d[3],m=__.parse(null!==p&&void 0!==p?p:""),g=__.parse(null!==f&&void 0!==f?f:""),y="+"===h?m.add(g):m.subtract(g);if(y.isNaN())return j_;t=t.replace(M_,y.toString())}return t}var L_=/\(([^()]*)\)/;function z_(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t=e;t.includes("(");){var n=T_(L_.exec(t),2)[1];t=t.replace(L_,F_(n))}return t}(t),t=F_(t)}function B_(e){var t=function(e){try{return z_(e)}catch(ZBe){return j_}}(e.slice(5,-1));return t===j_?"":t}var W_=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],V_=["dx","dy","angle","className","breakAll"];function U_(){return U_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},U_.apply(this,arguments)}function H_(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function G_(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return q_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q_(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var K_=/[ \f\n\r\t\v\u2028\u2029]+/,X_=function(e){var t=e.children,n=e.breakAll,r=e.style;try{var o=[];return rD()(t)||(o=n?t.toString().split(""):t.toString().split(K_)),{wordsWithComputedWidth:o.map((function(e){return{word:e,width:A_(e,r).width}})),spaceWidth:n?0:A_("\xa0",r).width}}catch(ZBe){return null}},Y_=function(e){return[{words:rD()(e)?[]:e.toString().split(K_)}]},Q_=function(e){var t=e.width,n=e.scaleToFit,r=e.children,o=e.style,a=e.breakAll,i=e.maxLines;if((t||n)&&!WR.isSsr){var s=X_({breakAll:a,children:r,style:o});return s?function(e,t,n,r,o){var a=e.maxLines,i=e.children,s=e.style,l=e.breakAll,u=ID(a),c=i,d=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce((function(e,t){var a=t.word,i=t.width,s=e[e.length-1];if(s&&(null==r||o||s.width+i+n<Number(r)))s.words.push(a),s.width+=i+n;else{var l={words:[a],width:i};e.push(l)}return e}),[])},p=d(t);if(!u)return p;for(var h,f=function(e){var t=c.slice(0,e),n=X_({breakAll:l,style:s,children:t+"\u2026"}).wordsWithComputedWidth,o=d(n),i=o.length>a||function(e){return e.reduce((function(e,t){return e.width>t.width?e:t}))}(o).width>Number(r);return[i,o]},m=0,g=c.length-1,y=0;m<=g&&y<=c.length-1;){var v=Math.floor((m+g)/2),b=G_(f(v-1),2),x=b[0],w=b[1],k=G_(f(v),1)[0];if(x||k||(m=v+1),x&&k&&(g=v-1),!x&&k){h=w;break}y++}return h||p}({breakAll:a,children:r,maxLines:i,style:o},s.wordsWithComputedWidth,s.spaceWidth,t,n):Y_(r)}return Y_(r)},Z_="#808080",J_=function(e){var t=e.x,n=void 0===t?0:t,r=e.y,o=void 0===r?0:r,a=e.lineHeight,i=void 0===a?"1em":a,s=e.capHeight,l=void 0===s?"0.71em":s,u=e.scaleToFit,c=void 0!==u&&u,d=e.textAnchor,p=void 0===d?"start":d,h=e.verticalAnchor,f=void 0===h?"end":h,m=e.fill,g=void 0===m?Z_:m,y=H_(e,W_),v=(0,W.useMemo)((function(){return Q_({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:c,style:y.style,width:y.width})}),[y.breakAll,y.children,y.maxLines,c,y.style,y.width]),b=y.dx,x=y.dy,w=y.angle,k=y.className,S=y.breakAll,A=H_(y,V_);if(!ED(n)||!ED(o))return null;var C,T=n+(ID(b)?b:0),I=o+(ID(x)?x:0);switch(f){case"start":C=B_("calc(".concat(l,")"));break;case"middle":C=B_("calc(".concat((v.length-1)/2," * -").concat(i," + (").concat(l," / 2))"));break;default:C=B_("calc(".concat(v.length-1," * -").concat(i,")"))}var E=[];if(c){var N=v[0].width,O=y.width;E.push("scale(".concat((ID(O)?O/N:1)/N,")"))}return w&&E.push("rotate(".concat(w,", ").concat(T,", ").concat(I,")")),E.length&&(A.transform=E.join(" ")),W.createElement("text",U_({},oR(A,!0),{x:T,y:I,className:(0,Qt.A)("recharts-text",k),textAnchor:p,fill:g.includes("url")?Z_:g}),v.map((function(e,t){var n=e.words.join(S?"":" ");return W.createElement("tspan",{x:T,dy:0===t?C:i,key:"".concat(n,"-").concat(t)},n)})))};const eF=Math.sqrt(50),tF=Math.sqrt(10),nF=Math.sqrt(2);function rF(e,t,n){const r=(t-e)/Math.max(0,n),o=Math.floor(Math.log10(r)),a=r/Math.pow(10,o),i=a>=eF?10:a>=tF?5:a>=nF?2:1;let s,l,u;return o<0?(u=Math.pow(10,-o)/i,s=Math.round(e*u),l=Math.round(t*u),s/u<e&&++s,l/u>t&&--l,u=-u):(u=Math.pow(10,o)*i,s=Math.round(e/u),l=Math.round(t/u),s*u<e&&++s,l*u>t&&--l),l<s&&.5<=n&&n<2?rF(e,t,2*n):[s,l,u]}function oF(e,t,n){if(!((n=+n)>0))return[];if((e=+e)===(t=+t))return[e];const r=t<e,[o,a,i]=r?rF(t,e,n):rF(e,t,n);if(!(a>=o))return[];const s=a-o+1,l=new Array(s);if(r)if(i<0)for(let u=0;u<s;++u)l[u]=(a-u)/-i;else for(let u=0;u<s;++u)l[u]=(a-u)*i;else if(i<0)for(let u=0;u<s;++u)l[u]=(o+u)/-i;else for(let u=0;u<s;++u)l[u]=(o+u)*i;return l}function aF(e,t,n){return rF(e=+e,t=+t,n=+n)[2]}function iF(e,t,n){n=+n;const r=(t=+t)<(e=+e),o=r?aF(t,e,n):aF(e,t,n);return(r?-1:1)*(o<0?1/-o:o)}function sF(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function lF(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function uF(e){let t,n,r;function o(e,r){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(o<a){if(0!==t(r,r))return a;do{const t=o+a>>>1;n(e[t],r)<0?o=t+1:a=t}while(o<a)}return o}return 2!==e.length?(t=sF,n=(t,n)=>sF(e(t),n),r=(t,n)=>e(t)-n):(t=e===sF||e===lF?e:cF,n=e,r=e),{left:o,center:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const a=o(e,t,n,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length)-1);return a>n&&r(e[a-1],t)>-r(e[a],t)?a-1:a},right:function(e,r){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(o<a){if(0!==t(r,r))return a;do{const t=o+a>>>1;n(e[t],r)<=0?o=t+1:a=t}while(o<a)}return o}}}function cF(){return 0}function dF(e){return null===e?NaN:+e}const pF=uF(sF),hF=pF.right,fF=(pF.left,uF(dF).center,hF);function mF(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function gF(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function yF(){}var vF=.7,bF=1/vF,xF="\\s*([+-]?\\d+)\\s*",wF="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",kF="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",SF=/^#([0-9a-f]{3,8})$/,AF=new RegExp(`^rgb\\(${xF},${xF},${xF}\\)$`),CF=new RegExp(`^rgb\\(${kF},${kF},${kF}\\)$`),TF=new RegExp(`^rgba\\(${xF},${xF},${xF},${wF}\\)$`),IF=new RegExp(`^rgba\\(${kF},${kF},${kF},${wF}\\)$`),EF=new RegExp(`^hsl\\(${wF},${kF},${kF}\\)$`),NF=new RegExp(`^hsla\\(${wF},${kF},${kF},${wF}\\)$`),OF={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function MF(){return this.rgb().formatHex()}function DF(){return this.rgb().formatRgb()}function RF(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=SF.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?PF(t):3===n?new _F(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?$F(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?$F(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=AF.exec(e))?new _F(t[1],t[2],t[3],1):(t=CF.exec(e))?new _F(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=TF.exec(e))?$F(t[1],t[2],t[3],t[4]):(t=IF.exec(e))?$F(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=EF.exec(e))?VF(t[1],t[2]/100,t[3]/100,1):(t=NF.exec(e))?VF(t[1],t[2]/100,t[3]/100,t[4]):OF.hasOwnProperty(e)?PF(OF[e]):"transparent"===e?new _F(NaN,NaN,NaN,0):null}function PF(e){return new _F(e>>16&255,e>>8&255,255&e,1)}function $F(e,t,n,r){return r<=0&&(e=t=n=NaN),new _F(e,t,n,r)}function jF(e,t,n,r){return 1===arguments.length?((o=e)instanceof yF||(o=RF(o)),o?new _F((o=o.rgb()).r,o.g,o.b,o.opacity):new _F):new _F(e,t,n,null==r?1:r);var o}function _F(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function FF(){return`#${WF(this.r)}${WF(this.g)}${WF(this.b)}`}function LF(){const e=zF(this.opacity);return`${1===e?"rgb(":"rgba("}${BF(this.r)}, ${BF(this.g)}, ${BF(this.b)}${1===e?")":`, ${e})`}`}function zF(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function BF(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function WF(e){return((e=BF(e))<16?"0":"")+e.toString(16)}function VF(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new HF(e,t,n,r)}function UF(e){if(e instanceof HF)return new HF(e.h,e.s,e.l,e.opacity);if(e instanceof yF||(e=RF(e)),!e)return new HF;if(e instanceof HF)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),a=Math.max(t,n,r),i=NaN,s=a-o,l=(a+o)/2;return s?(i=t===a?(n-r)/s+6*(n<r):n===a?(r-t)/s+2:(t-n)/s+4,s/=l<.5?a+o:2-a-o,i*=60):s=l>0&&l<1?0:i,new HF(i,s,l,e.opacity)}function HF(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function GF(e){return(e=(e||0)%360)<0?e+360:e}function qF(e){return Math.max(0,Math.min(1,e||0))}function KF(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function XF(e,t,n,r,o){var a=e*e,i=a*e;return((1-3*e+3*a-i)*t+(4-6*a+3*i)*n+(1+3*e+3*a-3*i)*r+i*o)/6}mF(yF,RF,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:MF,formatHex:MF,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return UF(this).formatHsl()},formatRgb:DF,toString:DF}),mF(_F,jF,gF(yF,{brighter(e){return e=null==e?bF:Math.pow(bF,e),new _F(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?vF:Math.pow(vF,e),new _F(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new _F(BF(this.r),BF(this.g),BF(this.b),zF(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:FF,formatHex:FF,formatHex8:function(){return`#${WF(this.r)}${WF(this.g)}${WF(this.b)}${WF(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:LF,toString:LF})),mF(HF,(function(e,t,n,r){return 1===arguments.length?UF(e):new HF(e,t,n,null==r?1:r)}),gF(yF,{brighter(e){return e=null==e?bF:Math.pow(bF,e),new HF(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?vF:Math.pow(vF,e),new HF(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new _F(KF(e>=240?e-240:e+120,o,r),KF(e,o,r),KF(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new HF(GF(this.h),qF(this.s),qF(this.l),zF(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=zF(this.opacity);return`${1===e?"hsl(":"hsla("}${GF(this.h)}, ${100*qF(this.s)}%, ${100*qF(this.l)}%${1===e?")":`, ${e})`}`}}));const YF=e=>()=>e;function QF(e,t){return function(n){return e+n*t}}function ZF(e){return 1===(e=+e)?JF:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):YF(isNaN(t)?n:t)}}function JF(e,t){var n=t-e;return n?QF(e,n):YF(isNaN(e)?t:e)}const eL=function e(t){var n=ZF(t);function r(e,t){var r=n((e=jF(e)).r,(t=jF(t)).r),o=n(e.g,t.g),a=n(e.b,t.b),i=JF(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=o(t),e.b=a(t),e.opacity=i(t),e+""}}return r.gamma=e,r}(1);function tL(e){return function(t){var n,r,o=t.length,a=new Array(o),i=new Array(o),s=new Array(o);for(n=0;n<o;++n)r=jF(t[n]),a[n]=r.r||0,i[n]=r.g||0,s[n]=r.b||0;return a=e(a),i=e(i),s=e(s),r.opacity=1,function(e){return r.r=a(e),r.g=i(e),r.b=s(e),r+""}}}tL((function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),o=e[r],a=e[r+1],i=r>0?e[r-1]:2*o-a,s=r<t-1?e[r+2]:2*a-o;return XF((n-r/t)*t,i,o,a,s)}})),tL((function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),o=e[(r+t-1)%t],a=e[r%t],i=e[(r+1)%t],s=e[(r+2)%t];return XF((n-r/t)*t,o,a,i,s)}}));function nL(e,t){var n,r=t?t.length:0,o=e?Math.min(r,e.length):0,a=new Array(o),i=new Array(r);for(n=0;n<o;++n)a[n]=cL(e[n],t[n]);for(;n<r;++n)i[n]=t[n];return function(e){for(n=0;n<o;++n)i[n]=a[n](e);return i}}function rL(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function oL(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function aL(e,t){var n,r={},o={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?r[n]=cL(e[n],t[n]):o[n]=t[n];return function(e){for(n in r)o[n]=r[n](e);return o}}var iL=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,sL=new RegExp(iL.source,"g");function lL(e,t){var n,r,o,a=iL.lastIndex=sL.lastIndex=0,i=-1,s=[],l=[];for(e+="",t+="";(n=iL.exec(e))&&(r=sL.exec(t));)(o=r.index)>a&&(o=t.slice(a,o),s[i]?s[i]+=o:s[++i]=o),(n=n[0])===(r=r[0])?s[i]?s[i]+=r:s[++i]=r:(s[++i]=null,l.push({i:i,x:oL(n,r)})),a=sL.lastIndex;return a<t.length&&(o=t.slice(a),s[i]?s[i]+=o:s[++i]=o),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})}function uL(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,o=t.slice();return function(a){for(n=0;n<r;++n)o[n]=e[n]*(1-a)+t[n]*a;return o}}function cL(e,t){var n,r,o=typeof t;return null==t||"boolean"===o?YF(t):("number"===o?oL:"string"===o?(n=RF(t))?(t=n,eL):lL:t instanceof RF?eL:t instanceof Date?rL:(r=t,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(t)?nL:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?aL:oL:uL))(e,t)}function dL(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function pL(e){return+e}var hL=[0,1];function fL(e){return e}function mL(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n});var n}function gL(e,t,n){var r=e[0],o=e[1],a=t[0],i=t[1];return o<r?(r=mL(o,r),a=n(i,a)):(r=mL(r,o),a=n(a,i)),function(e){return a(r(e))}}function yL(e,t,n){var r=Math.min(e.length,t.length)-1,o=new Array(r),a=new Array(r),i=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<r;)o[i]=mL(e[i],e[i+1]),a[i]=n(t[i],t[i+1]);return function(t){var n=fF(e,t,1,r)-1;return a[n](o[n](t))}}function vL(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function bL(){var e,t,n,r,o,a,i=hL,s=hL,l=cL,u=fL;function c(){var e=Math.min(i.length,s.length);return u!==fL&&(u=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(i[0],i[e-1])),r=e>2?yL:gL,o=a=null,d}function d(t){return null==t||isNaN(t=+t)?n:(o||(o=r(i.map(e),s,l)))(e(u(t)))}return d.invert=function(n){return u(t((a||(a=r(s,i.map(e),oL)))(n)))},d.domain=function(e){return arguments.length?(i=Array.from(e,pL),c()):i.slice()},d.range=function(e){return arguments.length?(s=Array.from(e),c()):s.slice()},d.rangeRound=function(e){return s=Array.from(e),l=dL,c()},d.clamp=function(e){return arguments.length?(u=!!e||fL,c()):u!==fL},d.interpolate=function(e){return arguments.length?(l=e,c()):l},d.unknown=function(e){return arguments.length?(n=e,d):n},function(n,r){return e=n,t=r,c()}}function xL(){return bL()(fL,fL)}var wL,kL=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function SL(e){if(!(t=kL.exec(e)))throw new Error("invalid format: "+e);var t;return new AL({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function AL(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function CL(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function TL(e){return(e=CL(Math.abs(e)))?e[1]:NaN}function IL(e,t){var n=CL(e,t);if(!n)return e+"";var r=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+r:r.length>o+1?r.slice(0,o+1)+"."+r.slice(o+1):r+new Array(o-r.length+2).join("0")}SL.prototype=AL.prototype,AL.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const EL={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>IL(100*e,t),r:IL,s:function(e,t){var n=CL(e,t);if(!n)return e+"";var r=n[0],o=n[1],a=o-(wL=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,i=r.length;return a===i?r:a>i?r+new Array(a-i+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+CL(e,Math.max(0,t+a-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function NL(e){return e}var OL,ML,DL,RL=Array.prototype.map,PL=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function $L(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?NL:(t=RL.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var o=e.length,a=[],i=0,s=t[0],l=0;o>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(e.substring(o-=s,o+s)),!((l+=s+1)>r));)s=t[i=(i+1)%t.length];return a.reverse().join(n)}),o=void 0===e.currency?"":e.currency[0]+"",a=void 0===e.currency?"":e.currency[1]+"",i=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?NL:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(RL.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",u=void 0===e.minus?"\u2212":e.minus+"",c=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=SL(e)).fill,n=e.align,d=e.sign,p=e.symbol,h=e.zero,f=e.width,m=e.comma,g=e.precision,y=e.trim,v=e.type;"n"===v?(m=!0,v="g"):EL[v]||(void 0===g&&(g=12),y=!0,v="g"),(h||"0"===t&&"="===n)&&(h=!0,t="0",n="=");var b="$"===p?o:"#"===p&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",x="$"===p?a:/[%p]/.test(v)?l:"",w=EL[v],k=/[defgprs%]/.test(v);function S(e){var o,a,l,p=b,S=x;if("c"===v)S=w(e)+S,e="";else{var A=(e=+e)<0||1/e<0;if(e=isNaN(e)?c:w(Math.abs(e),g),y&&(e=function(e){e:for(var t,n=e.length,r=1,o=-1;r<n;++r)switch(e[r]){case".":o=t=r;break;case"0":0===o&&(o=r),t=r;break;default:if(!+e[r])break e;o>0&&(o=0)}return o>0?e.slice(0,o)+e.slice(t+1):e}(e)),A&&0===+e&&"+"!==d&&(A=!1),p=(A?"("===d?d:u:"-"===d||"("===d?"":d)+p,S=("s"===v?PL[8+wL/3]:"")+S+(A&&"("===d?")":""),k)for(o=-1,a=e.length;++o<a;)if(48>(l=e.charCodeAt(o))||l>57){S=(46===l?i+e.slice(o+1):e.slice(o))+S,e=e.slice(0,o);break}}m&&!h&&(e=r(e,1/0));var C=p.length+e.length+S.length,T=C<f?new Array(f-C+1).join(t):"";switch(m&&h&&(e=r(T+e,T.length?f-S.length:1/0),T=""),n){case"<":e=p+e+S+T;break;case"=":e=p+T+e+S;break;case"^":e=T.slice(0,C=T.length>>1)+p+e+S+T.slice(C);break;default:e=T+p+e+S}return s(e)}return g=void 0===g?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),S.toString=function(){return e+""},S}return{format:d,formatPrefix:function(e,t){var n=d(((e=SL(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(TL(t)/3))),o=Math.pow(10,-r),a=PL[8+r/3];return function(e){return n(o*e)+a}}}}function jL(e,t,n,r){var o,a=iF(e,t,n);switch((r=SL(null==r?",f":r)).type){case"s":var i=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(o=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(TL(t)/3)))-TL(Math.abs(e)))}(a,i))||(r.precision=o),DL(r,i);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(o=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,TL(t)-TL(e))+1}(a,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=o-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(o=function(e){return Math.max(0,-TL(Math.abs(e)))}(a))||(r.precision=o-2*("%"===r.type))}return ML(r)}function _L(e){var t=e.domain;return e.ticks=function(e){var n=t();return oF(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return jL(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,o,a=t(),i=0,s=a.length-1,l=a[i],u=a[s],c=10;for(u<l&&(o=l,l=u,u=o,o=i,i=s,s=o);c-- >0;){if((o=aF(l,u,n))===r)return a[i]=l,a[s]=u,t(a);if(o>0)l=Math.floor(l/o)*o,u=Math.ceil(u/o)*o;else{if(!(o<0))break;l=Math.ceil(l*o)/o,u=Math.floor(u*o)/o}r=o}return e},e}function FL(){var e=xL();return e.copy=function(){return vL(e,FL())},a_.apply(e,arguments),_L(e)}function LL(e){var t;function n(e){return null==e||isNaN(e=+e)?t:e}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=Array.from(t,pL),n):e.slice()},n.unknown=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return LL(e).unknown(t)},e=arguments.length?Array.from(e,pL):[0,1],_L(n)}function zL(e,t){var n,r=0,o=(e=e.slice()).length-1,a=e[r],i=e[o];return i<a&&(n=r,r=o,o=n,n=a,a=i,i=n),e[r]=t.floor(a),e[o]=t.ceil(i),e}function BL(e){return Math.log(e)}function WL(e){return Math.exp(e)}function VL(e){return-Math.log(-e)}function UL(e){return-Math.exp(-e)}function HL(e){return isFinite(e)?+("1e"+e):e<0?0:e}function GL(e){return(t,n)=>-e(-t,n)}function qL(e){const t=e(BL,WL),n=t.domain;let r,o,a=10;function i(){return r=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(a),o=function(e){return 10===e?HL:e===Math.E?Math.exp:t=>Math.pow(e,t)}(a),n()[0]<0?(r=GL(r),o=GL(o),e(VL,UL)):e(BL,WL),t}return t.base=function(e){return arguments.length?(a=+e,i()):a},t.domain=function(e){return arguments.length?(n(e),i()):n()},t.ticks=e=>{const t=n();let i=t[0],s=t[t.length-1];const l=s<i;l&&([i,s]=[s,i]);let u,c,d=r(i),p=r(s);const h=null==e?10:+e;let f=[];if(!(a%1)&&p-d<h){if(d=Math.floor(d),p=Math.ceil(p),i>0){for(;d<=p;++d)for(u=1;u<a;++u)if(c=d<0?u/o(-d):u*o(d),!(c<i)){if(c>s)break;f.push(c)}}else for(;d<=p;++d)for(u=a-1;u>=1;--u)if(c=d>0?u/o(-d):u*o(d),!(c<i)){if(c>s)break;f.push(c)}2*f.length<h&&(f=oF(i,s,h))}else f=oF(d,p,Math.min(p-d,h)).map(o);return l?f.reverse():f},t.tickFormat=(e,n)=>{if(null==e&&(e=10),null==n&&(n=10===a?"s":","),"function"!==typeof n&&(a%1||null!=(n=SL(n)).precision||(n.trim=!0),n=ML(n)),e===1/0)return n;const i=Math.max(1,a*e/t.ticks().length);return e=>{let t=e/o(Math.round(r(e)));return t*a<a-.5&&(t*=a),t<=i?n(e):""}},t.nice=()=>n(zL(n(),{floor:e=>o(Math.floor(r(e))),ceil:e=>o(Math.ceil(r(e)))})),t}function KL(){const e=qL(bL()).domain([1,10]);return e.copy=()=>vL(e,KL()).base(e.base()),a_.apply(e,arguments),e}function XL(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function YL(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function QL(e){var t=1,n=e(XL(t),YL(t));return n.constant=function(n){return arguments.length?e(XL(t=+n),YL(t)):t},_L(n)}function ZL(){var e=QL(bL());return e.copy=function(){return vL(e,ZL()).constant(e.constant())},a_.apply(e,arguments)}function JL(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function ez(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function tz(e){return e<0?-e*e:e*e}function nz(e){var t=e(fL,fL),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e(fL,fL):.5===n?e(ez,tz):e(JL(n),JL(1/n)):n},_L(t)}function rz(){var e=nz(bL());return e.copy=function(){return vL(e,rz()).exponent(e.exponent())},a_.apply(e,arguments),e}function oz(){return rz.apply(null,arguments).exponent(.5)}function az(e){return Math.sign(e)*e*e}function iz(){var e,t=xL(),n=[0,1],r=!1;function o(n){var o=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(t(n));return isNaN(o)?e:r?Math.round(o):o}return o.invert=function(e){return t.invert(az(e))},o.domain=function(e){return arguments.length?(t.domain(e),o):t.domain()},o.range=function(e){return arguments.length?(t.range((n=Array.from(e,pL)).map(az)),o):n.slice()},o.rangeRound=function(e){return o.range(e).round(!0)},o.round=function(e){return arguments.length?(r=!!e,o):r},o.clamp=function(e){return arguments.length?(t.clamp(e),o):t.clamp()},o.unknown=function(t){return arguments.length?(e=t,o):e},o.copy=function(){return iz(t.domain(),n).round(r).clamp(t.clamp()).unknown(e)},a_.apply(o,arguments),_L(o)}function sz(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let o of e)null!=(o=t(o,++r,e))&&(n<o||void 0===n&&o>=o)&&(n=o)}return n}function lz(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let o of e)null!=(o=t(o,++r,e))&&(n>o||void 0===n&&o>=o)&&(n=o)}return n}function uz(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sF;if(e===sF)return cz;if("function"!==typeof e)throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||0===r?r:(0===e(n,n))-(0===e(t,t))}}function cz(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}function dz(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,o=arguments.length>4?arguments[4]:void 0;if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(o=void 0===o?cz:uz(o);r>n;){if(r-n>600){const a=r-n+1,i=t-n+1,s=Math.log(a),l=.5*Math.exp(2*s/3),u=.5*Math.sqrt(s*l*(a-l)/a)*(i-a/2<0?-1:1);dz(e,t,Math.max(n,Math.floor(t-i*l/a+u)),Math.min(r,Math.floor(t+(a-i)*l/a+u)),o)}const a=e[t];let i=n,s=r;for(pz(e,n,t),o(e[r],a)>0&&pz(e,n,r);i<s;){for(pz(e,i,s),++i,--s;o(e[i],a)<0;)++i;for(;o(e[s],a)>0;)--s}0===o(e[n],a)?pz(e,n,s):(++s,pz(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function pz(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function hz(e,t,n){if(e=Float64Array.from(function*(e,t){if(void 0===t)for(let n of e)null!=n&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)null!=(r=t(r,++n,e))&&(r=+r)>=r&&(yield r)}}(e,n)),(r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return lz(e);if(t>=1)return sz(e);var r,o=(r-1)*t,a=Math.floor(o),i=sz(dz(e,a).subarray(0,a+1));return i+(lz(e.subarray(a+1))-i)*(o-a)}}function fz(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:dF;if((r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,o=(r-1)*t,a=Math.floor(o),i=+n(e[a],a,e);return i+(+n(e[a+1],a+1,e)-i)*(o-a)}}function mz(){var e,t=[],n=[],r=[];function o(){var e=0,o=Math.max(1,n.length);for(r=new Array(o-1);++e<o;)r[e-1]=fz(t,e/o);return a}function a(t){return null==t||isNaN(t=+t)?e:n[fF(r,t)]}return a.invertExtent=function(e){var o=n.indexOf(e);return o<0?[NaN,NaN]:[o>0?r[o-1]:t[0],o<r.length?r[o]:t[t.length-1]]},a.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(sF),o()},a.range=function(e){return arguments.length?(n=Array.from(e),o()):n.slice()},a.unknown=function(t){return arguments.length?(e=t,a):e},a.quantiles=function(){return r.slice()},a.copy=function(){return mz().domain(t).range(n).unknown(e)},a_.apply(a,arguments)}function gz(){var e,t=0,n=1,r=1,o=[.5],a=[0,1];function i(t){return null!=t&&t<=t?a[fF(o,t,0,r)]:e}function s(){var e=-1;for(o=new Array(r);++e<r;)o[e]=((e+1)*n-(e-r)*t)/(r+1);return i}return i.domain=function(e){return arguments.length?([t,n]=e,t=+t,n=+n,s()):[t,n]},i.range=function(e){return arguments.length?(r=(a=Array.from(e)).length-1,s()):a.slice()},i.invertExtent=function(e){var i=a.indexOf(e);return i<0?[NaN,NaN]:i<1?[t,o[0]]:i>=r?[o[r-1],n]:[o[i-1],o[i]]},i.unknown=function(t){return arguments.length?(e=t,i):i},i.thresholds=function(){return o.slice()},i.copy=function(){return gz().domain([t,n]).range(a).unknown(e)},a_.apply(_L(i),arguments)}function yz(){var e,t=[.5],n=[0,1],r=1;function o(o){return null!=o&&o<=o?n[fF(t,o,0,r)]:e}return o.domain=function(e){return arguments.length?(t=Array.from(e),r=Math.min(t.length,n.length-1),o):t.slice()},o.range=function(e){return arguments.length?(n=Array.from(e),r=Math.min(t.length,n.length-1),o):n.slice()},o.invertExtent=function(e){var r=n.indexOf(e);return[t[r-1],t[r]]},o.unknown=function(t){return arguments.length?(e=t,o):e},o.copy=function(){return yz().domain(t).range(n).unknown(e)},a_.apply(o,arguments)}OL=$L({thousands:",",grouping:[3],currency:["$",""]}),ML=OL.format,DL=OL.formatPrefix;const vz=1e3,bz=6e4,xz=36e5,wz=864e5,kz=6048e5,Sz=2592e6,Az=31536e6,Cz=new Date,Tz=new Date;function Iz(e,t,n,r){function o(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return o.floor=t=>(e(t=new Date(+t)),t),o.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),o.round=e=>{const t=o(e),n=o.ceil(e);return e-t<n-e?t:n},o.offset=(e,n)=>(t(e=new Date(+e),null==n?1:Math.floor(n)),e),o.range=(n,r,a)=>{const i=[];if(n=o.ceil(n),a=null==a?1:Math.floor(a),!(n<r)||!(a>0))return i;let s;do{i.push(s=new Date(+n)),t(n,a),e(n)}while(s<n&&n<r);return i},o.filter=n=>Iz((t=>{if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),((e,r)=>{if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););})),n&&(o.count=(t,r)=>(Cz.setTime(+t),Tz.setTime(+r),e(Cz),e(Tz),Math.floor(n(Cz,Tz))),o.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?o.filter(r?t=>r(t)%e===0:t=>o.count(0,t)%e===0):o:null)),o}const Ez=Iz((()=>{}),((e,t)=>{e.setTime(+e+t)}),((e,t)=>t-e));Ez.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?Iz((t=>{t.setTime(Math.floor(t/e)*e)}),((t,n)=>{t.setTime(+t+n*e)}),((t,n)=>(n-t)/e)):Ez:null);Ez.range;const Nz=Iz((e=>{e.setTime(e-e.getMilliseconds())}),((e,t)=>{e.setTime(+e+t*vz)}),((e,t)=>(t-e)/vz),(e=>e.getUTCSeconds())),Oz=(Nz.range,Iz((e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*vz)}),((e,t)=>{e.setTime(+e+t*bz)}),((e,t)=>(t-e)/bz),(e=>e.getMinutes()))),Mz=(Oz.range,Iz((e=>{e.setUTCSeconds(0,0)}),((e,t)=>{e.setTime(+e+t*bz)}),((e,t)=>(t-e)/bz),(e=>e.getUTCMinutes()))),Dz=(Mz.range,Iz((e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*vz-e.getMinutes()*bz)}),((e,t)=>{e.setTime(+e+t*xz)}),((e,t)=>(t-e)/xz),(e=>e.getHours()))),Rz=(Dz.range,Iz((e=>{e.setUTCMinutes(0,0,0)}),((e,t)=>{e.setTime(+e+t*xz)}),((e,t)=>(t-e)/xz),(e=>e.getUTCHours()))),Pz=(Rz.range,Iz((e=>e.setHours(0,0,0,0)),((e,t)=>e.setDate(e.getDate()+t)),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*bz)/wz),(e=>e.getDate()-1))),$z=(Pz.range,Iz((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/wz),(e=>e.getUTCDate()-1))),jz=($z.range,Iz((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/wz),(e=>Math.floor(e/wz))));jz.range;function _z(e){return Iz((t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),((e,t)=>{e.setDate(e.getDate()+7*t)}),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*bz)/kz))}const Fz=_z(0),Lz=_z(1),zz=_z(2),Bz=_z(3),Wz=_z(4),Vz=_z(5),Uz=_z(6);Fz.range,Lz.range,zz.range,Bz.range,Wz.range,Vz.range,Uz.range;function Hz(e){return Iz((t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)}),((e,t)=>(t-e)/kz))}const Gz=Hz(0),qz=Hz(1),Kz=Hz(2),Xz=Hz(3),Yz=Hz(4),Qz=Hz(5),Zz=Hz(6),Jz=(Gz.range,qz.range,Kz.range,Xz.range,Yz.range,Qz.range,Zz.range,Iz((e=>{e.setDate(1),e.setHours(0,0,0,0)}),((e,t)=>{e.setMonth(e.getMonth()+t)}),((e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())),(e=>e.getMonth()))),eB=(Jz.range,Iz((e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)}),((e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())),(e=>e.getUTCMonth()))),tB=(eB.range,Iz((e=>{e.setMonth(0,1),e.setHours(0,0,0,0)}),((e,t)=>{e.setFullYear(e.getFullYear()+t)}),((e,t)=>t.getFullYear()-e.getFullYear()),(e=>e.getFullYear())));tB.every=e=>isFinite(e=Math.floor(e))&&e>0?Iz((t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),((t,n)=>{t.setFullYear(t.getFullYear()+n*e)})):null;tB.range;const nB=Iz((e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)}),((e,t)=>t.getUTCFullYear()-e.getUTCFullYear()),(e=>e.getUTCFullYear()));nB.every=e=>isFinite(e=Math.floor(e))&&e>0?Iz((t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),((t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null;nB.range;function rB(e,t,n,r,o,a){const i=[[Nz,1,vz],[Nz,5,5e3],[Nz,15,15e3],[Nz,30,3e4],[a,1,bz],[a,5,3e5],[a,15,9e5],[a,30,18e5],[o,1,xz],[o,3,108e5],[o,6,216e5],[o,12,432e5],[r,1,wz],[r,2,1728e5],[n,1,kz],[t,1,Sz],[t,3,7776e6],[e,1,Az]];function s(t,n,r){const o=Math.abs(n-t)/r,a=uF((e=>{let[,,t]=e;return t})).right(i,o);if(a===i.length)return e.every(iF(t/Az,n/Az,r));if(0===a)return Ez.every(Math.max(iF(t,n,r),1));const[s,l]=i[o/i[a-1][2]<i[a][2]/o?a-1:a];return s.every(l)}return[function(e,t,n){const r=t<e;r&&([e,t]=[t,e]);const o=n&&"function"===typeof n.range?n:s(e,t,n),a=o?o.range(e,+t+1):[];return r?a.reverse():a},s]}const[oB,aB]=rB(nB,eB,Gz,jz,Rz,Mz),[iB,sB]=rB(tB,Jz,Fz,Pz,Dz,Oz);function lB(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function uB(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function cB(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var dB,pB,hB,fB={"-":"",_:" ",0:"0"},mB=/^\s*\d+/,gB=/^%/,yB=/[\\^$*+?|[\]().{}]/g;function vB(e,t,n){var r=e<0?"-":"",o=(r?-e:e)+"",a=o.length;return r+(a<n?new Array(n-a+1).join(t)+o:o)}function bB(e){return e.replace(yB,"\\$&")}function xB(e){return new RegExp("^(?:"+e.map(bB).join("|")+")","i")}function wB(e){return new Map(e.map(((e,t)=>[e.toLowerCase(),t])))}function kB(e,t,n){var r=mB.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function SB(e,t,n){var r=mB.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function AB(e,t,n){var r=mB.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function CB(e,t,n){var r=mB.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function TB(e,t,n){var r=mB.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function IB(e,t,n){var r=mB.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function EB(e,t,n){var r=mB.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function NB(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function OB(e,t,n){var r=mB.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function MB(e,t,n){var r=mB.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function DB(e,t,n){var r=mB.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function RB(e,t,n){var r=mB.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function PB(e,t,n){var r=mB.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function $B(e,t,n){var r=mB.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function jB(e,t,n){var r=mB.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function _B(e,t,n){var r=mB.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function FB(e,t,n){var r=mB.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function LB(e,t,n){var r=gB.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function zB(e,t,n){var r=mB.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function BB(e,t,n){var r=mB.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function WB(e,t){return vB(e.getDate(),t,2)}function VB(e,t){return vB(e.getHours(),t,2)}function UB(e,t){return vB(e.getHours()%12||12,t,2)}function HB(e,t){return vB(1+Pz.count(tB(e),e),t,3)}function GB(e,t){return vB(e.getMilliseconds(),t,3)}function qB(e,t){return GB(e,t)+"000"}function KB(e,t){return vB(e.getMonth()+1,t,2)}function XB(e,t){return vB(e.getMinutes(),t,2)}function YB(e,t){return vB(e.getSeconds(),t,2)}function QB(e){var t=e.getDay();return 0===t?7:t}function ZB(e,t){return vB(Fz.count(tB(e)-1,e),t,2)}function JB(e){var t=e.getDay();return t>=4||0===t?Wz(e):Wz.ceil(e)}function eW(e,t){return e=JB(e),vB(Wz.count(tB(e),e)+(4===tB(e).getDay()),t,2)}function tW(e){return e.getDay()}function nW(e,t){return vB(Lz.count(tB(e)-1,e),t,2)}function rW(e,t){return vB(e.getFullYear()%100,t,2)}function oW(e,t){return vB((e=JB(e)).getFullYear()%100,t,2)}function aW(e,t){return vB(e.getFullYear()%1e4,t,4)}function iW(e,t){var n=e.getDay();return vB((e=n>=4||0===n?Wz(e):Wz.ceil(e)).getFullYear()%1e4,t,4)}function sW(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+vB(t/60|0,"0",2)+vB(t%60,"0",2)}function lW(e,t){return vB(e.getUTCDate(),t,2)}function uW(e,t){return vB(e.getUTCHours(),t,2)}function cW(e,t){return vB(e.getUTCHours()%12||12,t,2)}function dW(e,t){return vB(1+$z.count(nB(e),e),t,3)}function pW(e,t){return vB(e.getUTCMilliseconds(),t,3)}function hW(e,t){return pW(e,t)+"000"}function fW(e,t){return vB(e.getUTCMonth()+1,t,2)}function mW(e,t){return vB(e.getUTCMinutes(),t,2)}function gW(e,t){return vB(e.getUTCSeconds(),t,2)}function yW(e){var t=e.getUTCDay();return 0===t?7:t}function vW(e,t){return vB(Gz.count(nB(e)-1,e),t,2)}function bW(e){var t=e.getUTCDay();return t>=4||0===t?Yz(e):Yz.ceil(e)}function xW(e,t){return e=bW(e),vB(Yz.count(nB(e),e)+(4===nB(e).getUTCDay()),t,2)}function wW(e){return e.getUTCDay()}function kW(e,t){return vB(qz.count(nB(e)-1,e),t,2)}function SW(e,t){return vB(e.getUTCFullYear()%100,t,2)}function AW(e,t){return vB((e=bW(e)).getUTCFullYear()%100,t,2)}function CW(e,t){return vB(e.getUTCFullYear()%1e4,t,4)}function TW(e,t){var n=e.getUTCDay();return vB((e=n>=4||0===n?Yz(e):Yz.ceil(e)).getUTCFullYear()%1e4,t,4)}function IW(){return"+0000"}function EW(){return"%"}function NW(e){return+e}function OW(e){return Math.floor(+e/1e3)}function MW(e){return new Date(e)}function DW(e){return e instanceof Date?+e:+new Date(+e)}function RW(e,t,n,r,o,a,i,s,l,u){var c=xL(),d=c.invert,p=c.domain,h=u(".%L"),f=u(":%S"),m=u("%I:%M"),g=u("%I %p"),y=u("%a %d"),v=u("%b %d"),b=u("%B"),x=u("%Y");function w(e){return(l(e)<e?h:s(e)<e?f:i(e)<e?m:a(e)<e?g:r(e)<e?o(e)<e?y:v:n(e)<e?b:x)(e)}return c.invert=function(e){return new Date(d(e))},c.domain=function(e){return arguments.length?p(Array.from(e,DW)):p().map(MW)},c.ticks=function(t){var n=p();return e(n[0],n[n.length-1],null==t?10:t)},c.tickFormat=function(e,t){return null==t?w:u(t)},c.nice=function(e){var n=p();return e&&"function"===typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?p(zL(n,e)):c},c.copy=function(){return vL(c,RW(e,t,n,r,o,a,i,s,l,u))},c}function PW(){return a_.apply(RW(iB,sB,tB,Jz,Fz,Pz,Dz,Oz,Nz,pB).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function $W(){return a_.apply(RW(oB,aB,nB,eB,Gz,$z,Rz,Mz,Nz,hB).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function jW(){var e,t,n,r,o,a=0,i=1,s=fL,l=!1;function u(t){return null==t||isNaN(t=+t)?o:s(0===n?.5:(t=(r(t)-e)*n,l?Math.max(0,Math.min(1,t)):t))}function c(e){return function(t){var n,r;return arguments.length?([n,r]=t,s=e(n,r),u):[s(0),s(1)]}}return u.domain=function(o){return arguments.length?([a,i]=o,e=r(a=+a),t=r(i=+i),n=e===t?0:1/(t-e),u):[a,i]},u.clamp=function(e){return arguments.length?(l=!!e,u):l},u.interpolator=function(e){return arguments.length?(s=e,u):s},u.range=c(cL),u.rangeRound=c(dL),u.unknown=function(e){return arguments.length?(o=e,u):o},function(o){return r=o,e=o(a),t=o(i),n=e===t?0:1/(t-e),u}}function _W(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function FW(){var e=_L(jW()(fL));return e.copy=function(){return _W(e,FW())},i_.apply(e,arguments)}function LW(){var e=qL(jW()).domain([1,10]);return e.copy=function(){return _W(e,LW()).base(e.base())},i_.apply(e,arguments)}function zW(){var e=QL(jW());return e.copy=function(){return _W(e,zW()).constant(e.constant())},i_.apply(e,arguments)}function BW(){var e=nz(jW());return e.copy=function(){return _W(e,BW()).exponent(e.exponent())},i_.apply(e,arguments)}function WW(){return BW.apply(null,arguments).exponent(.5)}function VW(){var e=[],t=fL;function n(n){if(null!=n&&!isNaN(n=+n))return t((fF(e,n,1)-1)/(e.length-1))}return n.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)null==n||isNaN(n=+n)||e.push(n);return e.sort(sF),n},n.interpolator=function(e){return arguments.length?(t=e,n):t},n.range=function(){return e.map(((n,r)=>t(r/(e.length-1))))},n.quantiles=function(t){return Array.from({length:t+1},((n,r)=>hz(e,r/t)))},n.copy=function(){return VW(t).domain(e)},i_.apply(n,arguments)}function UW(){var e,t,n,r,o,a,i,s=0,l=.5,u=1,c=1,d=fL,p=!1;function h(e){return isNaN(e=+e)?i:(e=.5+((e=+a(e))-t)*(c*e<c*t?r:o),d(p?Math.max(0,Math.min(1,e)):e))}function f(e){return function(t){var n,r,o;return arguments.length?([n,r,o]=t,d=function(e,t){void 0===t&&(t=e,e=cL);for(var n=0,r=t.length-1,o=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(o,o=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return a[t](e-t)}}(e,[n,r,o]),h):[d(0),d(.5),d(1)]}}return h.domain=function(i){return arguments.length?([s,l,u]=i,e=a(s=+s),t=a(l=+l),n=a(u=+u),r=e===t?0:.5/(t-e),o=t===n?0:.5/(n-t),c=t<e?-1:1,h):[s,l,u]},h.clamp=function(e){return arguments.length?(p=!!e,h):p},h.interpolator=function(e){return arguments.length?(d=e,h):d},h.range=f(cL),h.rangeRound=f(dL),h.unknown=function(e){return arguments.length?(i=e,h):i},function(i){return a=i,e=i(s),t=i(l),n=i(u),r=e===t?0:.5/(t-e),o=t===n?0:.5/(n-t),c=t<e?-1:1,h}}function HW(){var e=_L(UW()(fL));return e.copy=function(){return _W(e,HW())},i_.apply(e,arguments)}function GW(){var e=qL(UW()).domain([.1,1,10]);return e.copy=function(){return _W(e,GW()).base(e.base())},i_.apply(e,arguments)}function qW(){var e=QL(UW());return e.copy=function(){return _W(e,qW()).constant(e.constant())},i_.apply(e,arguments)}function KW(){var e=nz(UW());return e.copy=function(){return _W(e,KW()).exponent(e.exponent())},i_.apply(e,arguments)}function XW(){return KW.apply(null,arguments).exponent(.5)}function YW(e,t){if((o=e.length)>1)for(var n,r,o,a=1,i=e[t[0]],s=i.length;a<o;++a)for(r=i,i=e[t[a]],n=0;n<s;++n)i[n][1]+=i[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}!function(e){dB=function(e){var t=e.dateTime,n=e.date,r=e.time,o=e.periods,a=e.days,i=e.shortDays,s=e.months,l=e.shortMonths,u=xB(o),c=wB(o),d=xB(a),p=wB(a),h=xB(i),f=wB(i),m=xB(s),g=wB(s),y=xB(l),v=wB(l),b={a:function(e){return i[e.getDay()]},A:function(e){return a[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:WB,e:WB,f:qB,g:oW,G:iW,H:VB,I:UB,j:HB,L:GB,m:KB,M:XB,p:function(e){return o[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:NW,s:OW,S:YB,u:QB,U:ZB,V:eW,w:tW,W:nW,x:null,X:null,y:rW,Y:aW,Z:sW,"%":EW},x={a:function(e){return i[e.getUTCDay()]},A:function(e){return a[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:lW,e:lW,f:hW,g:AW,G:TW,H:uW,I:cW,j:dW,L:pW,m:fW,M:mW,p:function(e){return o[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:NW,s:OW,S:gW,u:yW,U:vW,V:xW,w:wW,W:kW,x:null,X:null,y:SW,Y:CW,Z:IW,"%":EW},w={a:function(e,t,n){var r=h.exec(t.slice(n));return r?(e.w=f.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=d.exec(t.slice(n));return r?(e.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=y.exec(t.slice(n));return r?(e.m=v.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=m.exec(t.slice(n));return r?(e.m=g.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return A(e,t,n,r)},d:DB,e:DB,f:FB,g:EB,G:IB,H:PB,I:PB,j:RB,L:_B,m:MB,M:$B,p:function(e,t,n){var r=u.exec(t.slice(n));return r?(e.p=c.get(r[0].toLowerCase()),n+r[0].length):-1},q:OB,Q:zB,s:BB,S:jB,u:SB,U:AB,V:CB,w:kB,W:TB,x:function(e,t,r){return A(e,n,t,r)},X:function(e,t,n){return A(e,r,t,n)},y:EB,Y:IB,Z:NB,"%":LB};function k(e,t){return function(n){var r,o,a,i=[],s=-1,l=0,u=e.length;for(n instanceof Date||(n=new Date(+n));++s<u;)37===e.charCodeAt(s)&&(i.push(e.slice(l,s)),null!=(o=fB[r=e.charAt(++s)])?r=e.charAt(++s):o="e"===r?" ":"0",(a=t[r])&&(r=a(n,o)),i.push(r),l=s+1);return i.push(e.slice(l,s)),i.join("")}}function S(e,t){return function(n){var r,o,a=cB(1900,void 0,1);if(A(a,e,n+="",0)!=n.length)return null;if("Q"in a)return new Date(a.Q);if("s"in a)return new Date(1e3*a.s+("L"in a?a.L:0));if(t&&!("Z"in a)&&(a.Z=0),"p"in a&&(a.H=a.H%12+12*a.p),void 0===a.m&&(a.m="q"in a?a.q:0),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(o=(r=uB(cB(a.y,0,1))).getUTCDay(),r=o>4||0===o?qz.ceil(r):qz(r),r=$z.offset(r,7*(a.V-1)),a.y=r.getUTCFullYear(),a.m=r.getUTCMonth(),a.d=r.getUTCDate()+(a.w+6)%7):(o=(r=lB(cB(a.y,0,1))).getDay(),r=o>4||0===o?Lz.ceil(r):Lz(r),r=Pz.offset(r,7*(a.V-1)),a.y=r.getFullYear(),a.m=r.getMonth(),a.d=r.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),o="Z"in a?uB(cB(a.y,0,1)).getUTCDay():lB(cB(a.y,0,1)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(o+5)%7:a.w+7*a.U-(o+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,uB(a)):lB(a)}}function A(e,t,n,r){for(var o,a,i=0,s=t.length,l=n.length;i<s;){if(r>=l)return-1;if(37===(o=t.charCodeAt(i++))){if(o=t.charAt(i++),!(a=w[o in fB?t.charAt(i++):o])||(r=a(e,n,r))<0)return-1}else if(o!=n.charCodeAt(r++))return-1}return r}return b.x=k(n,b),b.X=k(r,b),b.c=k(t,b),x.x=k(n,x),x.X=k(r,x),x.c=k(t,x),{format:function(e){var t=k(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=S(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=k(e+="",x);return t.toString=function(){return e},t},utcParse:function(e){var t=S(e+="",!0);return t.toString=function(){return e},t}}}(e),pB=dB.format,dB.parse,hB=dB.utcFormat,dB.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Array.prototype.slice;function QW(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function ZW(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function JW(e,t){return e[t]}function eV(e){const t=[];return t.key=e,t}var tV=n(539),nV=n.n(tV),rV=n(6745),oV=n.n(rV),aV=n(3538),iV=n.n(aV),sV=n(9853),lV=n.n(sV),uV=n(8210),cV=n.n(uV);function dV(e){return function(e){if(Array.isArray(e))return pV(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return pV(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pV(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pV(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var hV=function(e){return e},fV={"@@functional/placeholder":!0},mV=function(e){return e===fV},gV=function(e){return function t(){return 0===arguments.length||1===arguments.length&&mV(arguments.length<=0?void 0:arguments[0])?t:e.apply(void 0,arguments)}},yV=function e(t,n){return 1===t?n:gV((function(){for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];var i=o.filter((function(e){return e!==fV})).length;return i>=t?n.apply(void 0,o):e(t-i,gV((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var a=o.map((function(e){return mV(e)?t.shift():e}));return n.apply(void 0,dV(a).concat(t))})))}))},vV=function(e){return yV(e.length,e)},bV=function(e,t){for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},xV=vV((function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map((function(e){return t[e]})).map(e)})),wV=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return hV;var r=t.reverse(),o=r[0],a=r.slice(1);return function(){return a.reduce((function(e,t){return t(e)}),o.apply(void 0,arguments))}},kV=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},SV=function(e){var t=null,n=null;return function(){for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return t&&o.every((function(e,n){return e===t[n]}))?n:(t=o,n=e.apply(void 0,o))}};const AV={rangeStep:function(e,t,n){for(var r=new(cV())(e),o=0,a=[];r.lt(t)&&o<1e5;)a.push(r.toNumber()),r=r.add(n),o++;return a},getDigitCount:function(e){return 0===e?1:Math.floor(new(cV())(e).abs().log(10).toNumber())+1},interpolateNumber:vV((function(e,t,n){var r=+e;return r+n*(+t-r)})),uninterpolateNumber:vV((function(e,t,n){var r=t-+e;return(n-e)/(r=r||1/0)})),uninterpolateTruncation:vV((function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))}))};function CV(e){return function(e){if(Array.isArray(e))return EV(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||IV(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function TV(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(l){o=!0,a=l}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||IV(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function IV(e,t){if(e){if("string"===typeof e)return EV(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?EV(e,t):void 0}}function EV(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function NV(e){var t=TV(e,2),n=t[0],r=t[1],o=n,a=r;return n>r&&(o=r,a=n),[o,a]}function OV(e,t,n){if(e.lte(0))return new(cV())(0);var r=AV.getDigitCount(e.toNumber()),o=new(cV())(10).pow(r),a=e.div(o),i=1!==r?.05:.1,s=new(cV())(Math.ceil(a.div(i).toNumber())).add(n).mul(i).mul(o);return t?s:new(cV())(Math.ceil(s))}function MV(e,t,n){var r=1,o=new(cV())(e);if(!o.isint()&&n){var a=Math.abs(e);a<1?(r=new(cV())(10).pow(AV.getDigitCount(e)-1),o=new(cV())(Math.floor(o.div(r).toNumber())).mul(r)):a>1&&(o=new(cV())(Math.floor(e)))}else 0===e?o=new(cV())(Math.floor((t-1)/2)):n||(o=new(cV())(Math.floor(e)));var i=Math.floor((t-1)/2);return wV(xV((function(e){return o.add(new(cV())(e-i).mul(r)).toNumber()})),bV)(0,t)}function DV(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new(cV())(0),tickMin:new(cV())(0),tickMax:new(cV())(0)};var a,i=OV(new(cV())(t).sub(e).div(n-1),r,o);a=e<=0&&t>=0?new(cV())(0):(a=new(cV())(e).add(t).div(2)).sub(new(cV())(a).mod(i));var s=Math.ceil(a.sub(e).div(i).toNumber()),l=Math.ceil(new(cV())(t).sub(a).div(i).toNumber()),u=s+l+1;return u>n?DV(e,t,n,r,o+1):(u<n&&(l=t>0?l+(n-u):l,s=t>0?s:s+(n-u)),{step:i,tickMin:a.sub(new(cV())(s).mul(i)),tickMax:a.add(new(cV())(l).mul(i))})}var RV=SV((function(e){var t=TV(e,2),n=t[0],r=t[1],o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=Math.max(o,2),s=TV(NV([n,r]),2),l=s[0],u=s[1];if(l===-1/0||u===1/0){var c=u===1/0?[l].concat(CV(bV(0,o-1).map((function(){return 1/0})))):[].concat(CV(bV(0,o-1).map((function(){return-1/0}))),[u]);return n>r?kV(c):c}if(l===u)return MV(l,o,a);var d=DV(l,u,i,a),p=d.step,h=d.tickMin,f=d.tickMax,m=AV.rangeStep(h,f.add(new(cV())(.1).mul(p)),p);return n>r?kV(m):m})),PV=(SV((function(e){var t=TV(e,2),n=t[0],r=t[1],o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=Math.max(o,2),s=TV(NV([n,r]),2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[n,r];if(l===u)return MV(l,o,a);var c=OV(new(cV())(u).sub(l).div(i-1),a,0),d=wV(xV((function(e){return new(cV())(l).add(new(cV())(e).mul(c)).toNumber()})),bV)(0,i).filter((function(e){return e>=l&&e<=u}));return n>r?kV(d):d})),SV((function(e,t){var n=TV(e,2),r=n[0],o=n[1],a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=TV(NV([r,o]),2),s=i[0],l=i[1];if(s===-1/0||l===1/0)return[r,o];if(s===l)return[s];var u=Math.max(t,2),c=OV(new(cV())(l).sub(s).div(u-1),a,0),d=[].concat(CV(AV.rangeStep(new(cV())(s),new(cV())(l).sub(new(cV())(.99).mul(c)),c)),[l]);return r>o?kV(d):d}))),$V=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function jV(e){return jV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jV(e)}function _V(){return _V=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_V.apply(this,arguments)}function FV(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return LV(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LV(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function LV(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zV(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function BV(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,qV(r.key),r)}}function WV(e,t,n){return t=UV(t),function(e,t){if(t&&("object"===jV(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,VV()?Reflect.construct(t,n||[],UV(e).constructor):t.apply(e,n))}function VV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(VV=function(){return!!e})()}function UV(e){return UV=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},UV(e)}function HV(e,t){return HV=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},HV(e,t)}function GV(e,t,n){return(t=qV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qV(e){var t=function(e,t){if("object"!=jV(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=jV(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==jV(t)?t:t+""}var KV=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),WV(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&HV(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.offset,n=e.layout,r=e.width,o=e.dataKey,a=e.data,i=e.dataPointFormatter,s=e.xAxis,l=e.yAxis,u=zV(e,$V),c=oR(u,!1);"x"===this.props.direction&&"number"!==s.type&&mD(!1);var d=a.map((function(e){var a=i(e,o),u=a.x,d=a.y,p=a.value,h=a.errorVal;if(!h)return null;var f,m,g=[];if(Array.isArray(h)){var y=FV(h,2);f=y[0],m=y[1]}else f=m=h;if("vertical"===n){var v=s.scale,b=d+t,x=b+r,w=b-r,k=v(p-f),S=v(p+m);g.push({x1:S,y1:x,x2:S,y2:w}),g.push({x1:k,y1:b,x2:S,y2:b}),g.push({x1:k,y1:x,x2:k,y2:w})}else if("horizontal"===n){var A=l.scale,C=u+t,T=C-r,I=C+r,E=A(p-f),N=A(p+m);g.push({x1:T,y1:N,x2:I,y2:N}),g.push({x1:C,y1:E,x2:C,y2:N}),g.push({x1:T,y1:E,x2:I,y2:E})}return W.createElement(mR,_V({className:"recharts-errorBar",key:"bar-".concat(g.map((function(e){return"".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)})))},c),g.map((function(e){return W.createElement("line",_V({},e,{key:"line-".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))})))}));return W.createElement(mR,{className:"recharts-errorBars"},d)}}])&&BV(n.prototype,r),o&&BV(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(W.Component);function XV(e){return XV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},XV(e)}function YV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function QV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?YV(Object(n),!0).forEach((function(t){ZV(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YV(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ZV(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=XV(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=XV(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==XV(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}GV(KV,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"}),GV(KV,"displayName","ErrorBar");var JV=function(e){var t=e.children,n=e.formattedGraphicalItems,r=e.legendWidth,o=e.legendContent,a=eR(t,v$);if(!a)return null;var i,s=v$.defaultProps,l=void 0!==s?QV(QV({},s),a.props):{};return i=a.props&&a.props.payload?a.props&&a.props.payload:"children"===o?(n||[]).reduce((function(e,t){var n=t.item,r=t.props,o=r.sectors||r.data||[];return e.concat(o.map((function(e){return{type:a.props.iconType||n.props.legendType,value:e.name,color:e.fill,payload:e}})))}),[]):(n||[]).map((function(e){var t=e.item,n=t.type.defaultProps,r=void 0!==n?QV(QV({},n),t.props):{},o=r.dataKey,a=r.name,i=r.legendType;return{inactive:r.hide,dataKey:o,type:l.iconType||i||"square",color:lU(t),value:a||o,payload:r}})),QV(QV(QV({},l),v$.getWithHeight(a,r)),{},{payload:i,item:a})};function eU(e){return eU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eU(e)}function tU(e){return function(e){if(Array.isArray(e))return nU(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return nU(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nU(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nU(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function rU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rU(Object(n),!0).forEach((function(t){aU(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rU(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function aU(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=eU(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=eU(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==eU(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iU(e,t,n){return rD()(e)||rD()(t)?n:ED(t)?uD()(e,t,n):aD()(t)?t(e):n}function sU(e,t,n,r){var o=iV()(e,(function(e){return iU(e,t)}));if("number"===n){var a=o.filter((function(e){return ID(e)||parseFloat(e)}));return a.length?[oV()(a),nV()(a)]:[1/0,-1/0]}return(r?o.filter((function(e){return!rD()(e)})):o).map((function(e){return ED(e)||e instanceof Date?e:""}))}var lU=function(e){var t,n,r=e.type.displayName,o=null!==(t=e.type)&&void 0!==t&&t.defaultProps?oU(oU({},e.type.defaultProps),e.props):e.props,a=o.stroke,i=o.fill;switch(r){case"Line":n=a;break;case"Area":case"Radar":n=a&&"none"!==a?a:i;break;default:n=i}return n},uU=function(e,t,n,r,o){var a=JD(t.props.children,KV).filter((function(e){return function(e,t,n){return!!rD()(t)||("horizontal"===e?"yAxis"===t:"vertical"===e||"x"===n?"xAxis"===t:"y"!==n||"yAxis"===t)}(r,o,e.props.direction)}));if(a&&a.length){var i=a.map((function(e){return e.props.dataKey}));return e.reduce((function(e,t){var r=iU(t,n);if(rD()(r))return e;var o=Array.isArray(r)?[oV()(r),nV()(r)]:[r,r],a=i.reduce((function(e,n){var r=iU(t,n,0),a=o[0]-Math.abs(Array.isArray(r)?r[0]:r),i=o[1]+Math.abs(Array.isArray(r)?r[1]:r);return[Math.min(a,e[0]),Math.max(i,e[1])]}),[1/0,-1/0]);return[Math.min(a[0],e[0]),Math.max(a[1],e[1])]}),[1/0,-1/0])}return null},cU=function(e,t,n,r,o){var a=t.map((function(t){var a=t.props.dataKey;return"number"===n&&a&&uU(e,t,a,r)||sU(e,a,n,o)}));if("number"===n)return a.reduce((function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}),[1/0,-1/0]);var i={};return a.reduce((function(e,t){for(var n=0,r=t.length;n<r;n++)i[t[n]]||(i[t[n]]=!0,e.push(t[n]));return e}),[])},dU=function(e,t){return"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t},pU=function(e,t,n,r){if(r)return e.map((function(e){return e.coordinate}));var o,a,i=e.map((function(e){return e.coordinate===t&&(o=!0),e.coordinate===n&&(a=!0),e.coordinate}));return o||i.push(t),a||i.push(n),i},hU=function(e,t,n){if(!e)return null;var r=e.scale,o=e.duplicateDomain,a=e.type,i=e.range,s="scaleBand"===e.realScaleType?r.bandwidth()/2:2,l=(t||n)&&"category"===a&&r.bandwidth?r.bandwidth()/s:0;return l="angleAxis"===e.axisType&&(null===i||void 0===i?void 0:i.length)>=2?2*CD(i[0]-i[1])*l:l,t&&(e.ticks||e.niceTicks)?(e.ticks||e.niceTicks).map((function(e){var t=o?o.indexOf(e):e;return{coordinate:r(t)+l,value:e,offset:l}})).filter((function(e){return!kD()(e.coordinate)})):e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map((function(e,t){return{coordinate:r(e)+l,value:e,index:t,offset:l}})):r.ticks&&!n?r.ticks(e.tickCount).map((function(e){return{coordinate:r(e)+l,value:e,offset:l}})):r.domain().map((function(e,t){return{coordinate:r(e)+l,value:o?o[e]:e,index:t,offset:l}}))},fU=new WeakMap,mU=function(e,t){if("function"!==typeof t)return e;fU.has(e)||fU.set(e,new WeakMap);var n=fU.get(e);if(n.has(t))return n.get(t);var r=function(){e.apply(void 0,arguments),t.apply(void 0,arguments)};return n.set(t,r),r},gU=1e-4,yU={sign:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var o=0,a=0,i=0;i<t;++i){var s=kD()(e[i][n][1])?e[i][n][0]:e[i][n][1];s>=0?(e[i][n][0]=o,e[i][n][1]=o+s,o=e[i][n][1]):(e[i][n][0]=a,e[i][n][1]=a+s,a=e[i][n][1])}},expand:function(e,t){if((r=e.length)>0){for(var n,r,o,a=0,i=e[0].length;a<i;++a){for(o=n=0;n<r;++n)o+=e[n][a][1]||0;if(o)for(n=0;n<r;++n)e[n][a][1]/=o}YW(e,t)}},none:YW,silhouette:function(e,t){if((n=e.length)>0){for(var n,r=0,o=e[t[0]],a=o.length;r<a;++r){for(var i=0,s=0;i<n;++i)s+=e[i][r][1]||0;o[r][1]+=o[r][0]=-s/2}YW(e,t)}},wiggle:function(e,t){if((o=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,o,a=0,i=1;i<r;++i){for(var s=0,l=0,u=0;s<o;++s){for(var c=e[t[s]],d=c[i][1]||0,p=(d-(c[i-1][1]||0))/2,h=0;h<s;++h){var f=e[t[h]];p+=(f[i][1]||0)-(f[i-1][1]||0)}l+=d,u+=p*d}n[i-1][1]+=n[i-1][0]=a,l&&(a-=u/l)}n[i-1][1]+=n[i-1][0]=a,YW(e,t)}},positive:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var o=0,a=0;a<t;++a){var i=kD()(e[a][n][1])?e[a][n][0]:e[a][n][1];i>=0?(e[a][n][0]=o,e[a][n][1]=o+i,o=e[a][n][1]):(e[a][n][0]=0,e[a][n][1]=0)}}},vU=function(e,t,n){var r=t.map((function(e){return e.props.dataKey})),o=yU[n],a=function(){var e=NP([]),t=ZW,n=YW,r=JW;function o(o){var a,i,s=Array.from(e.apply(this,arguments),eV),l=s.length,u=-1;for(const e of o)for(a=0,++u;a<l;++a)(s[a][u]=[0,+r(e,s[a].key,u,o)]).data=e;for(a=0,i=QW(t(s));a<l;++a)s[i[a]].index=a;return n(s,i),s}return o.keys=function(t){return arguments.length?(e="function"===typeof t?t:NP(Array.from(t)),o):e},o.value=function(e){return arguments.length?(r="function"===typeof e?e:NP(+e),o):r},o.order=function(e){return arguments.length?(t=null==e?ZW:"function"===typeof e?e:NP(Array.from(e)),o):t},o.offset=function(e){return arguments.length?(n=null==e?YW:e,o):n},o}().keys(r).value((function(e,t){return+iU(e,t,0)})).order(ZW).offset(o);return a(e)};function bU(e){var t=e.axis,n=e.ticks,r=e.bandSize,o=e.entry,a=e.index,i=e.dataKey;if("category"===t.type){if(!t.allowDuplicatedCategory&&t.dataKey&&!rD()(o[t.dataKey])){var s=PD(n,"value",o[t.dataKey]);if(s)return s.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var l=iU(o,rD()(i)?t.dataKey:i);return rD()(l)?null:t.scale(l)}var xU=function(e){var t=e.axis,n=e.ticks,r=e.offset,o=e.bandSize,a=e.entry,i=e.index;if("category"===t.type)return n[i]?n[i].coordinate+r:null;var s=iU(a,t.dataKey,t.domain[i]);return rD()(s)?null:t.scale(s)-o/2+r},wU=function(e,t,n){return Object.keys(e).reduce((function(r,o){var a=e[o].stackedData.reduce((function(e,r){var o=r.slice(t,n+1).reduce((function(e,t){return[oV()(t.concat([e[0]]).filter(ID)),nV()(t.concat([e[1]]).filter(ID))]}),[1/0,-1/0]);return[Math.min(e[0],o[0]),Math.max(e[1],o[1])]}),[1/0,-1/0]);return[Math.min(a[0],r[0]),Math.max(a[1],r[1])]}),[1/0,-1/0]).map((function(e){return e===1/0||e===-1/0?0:e}))},kU=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,SU=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,AU=function(e,t,n){if(aD()(e))return e(t,n);if(!Array.isArray(e))return t;var r=[];if(ID(e[0]))r[0]=n?e[0]:Math.min(e[0],t[0]);else if(kU.test(e[0])){var o=+kU.exec(e[0])[1];r[0]=t[0]-o}else aD()(e[0])?r[0]=e[0](t[0]):r[0]=t[0];if(ID(e[1]))r[1]=n?e[1]:Math.max(e[1],t[1]);else if(SU.test(e[1])){var a=+SU.exec(e[1])[1];r[1]=t[1]+a}else aD()(e[1])?r[1]=e[1](t[1]):r[1]=t[1];return r},CU=function(e,t,n){if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var o=dD()(t,(function(e){return e.coordinate})),a=1/0,i=1,s=o.length;i<s;i++){var l=o[i],u=o[i-1];a=Math.min((l.coordinate||0)-(u.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0},TU=function(e,t,n){return e&&e.length?lV()(e,uD()(n,"type.defaultProps.domain"))?t:e:t},IU=function(e,t){var n=e.type.defaultProps?oU(oU({},e.type.defaultProps),e.props):e.props,r=n.dataKey,o=n.name,a=n.unit,i=n.formatter,s=n.tooltipType,l=n.chartType,u=n.hide;return oU(oU({},oR(e,!1)),{},{dataKey:r,unit:a,formatter:i,name:o||r,color:lU(e),value:iU(t,r),type:s,payload:t,chartType:l,hide:u})};function EU(e){return EU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},EU(e)}function NU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function OU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?NU(Object(n),!0).forEach((function(t){MU(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NU(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function MU(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=EU(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=EU(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==EU(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var DU=["Webkit","Moz","O","ms"];function RU(e){return RU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},RU(e)}function PU(){return PU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},PU.apply(this,arguments)}function $U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$U(Object(n),!0).forEach((function(t){WU(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _U(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,VU(r.key),r)}}function FU(e,t,n){return t=zU(t),function(e,t){if(t&&("object"===RU(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,LU()?Reflect.construct(t,n||[],zU(e).constructor):t.apply(e,n))}function LU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(LU=function(){return!!e})()}function zU(e){return zU=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},zU(e)}function BU(e,t){return BU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},BU(e,t)}function WU(e,t,n){return(t=VU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VU(e){var t=function(e,t){if("object"!=RU(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=RU(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==RU(t)?t:t+""}var UU=function(e){return e.changedTouches&&!!e.changedTouches.length},HU=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),WU(n=FU(this,t,[e]),"handleDrag",(function(e){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(e):n.state.isSlideMoving&&n.handleSlideDrag(e)})),WU(n,"handleTouchMove",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&n.handleDrag(e.changedTouches[0])})),WU(n,"handleDragEnd",(function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},(function(){var e=n.props,t=e.endIndex,r=e.onDragEnd,o=e.startIndex;null===r||void 0===r||r({endIndex:t,startIndex:o})})),n.detachDragEndListener()})),WU(n,"handleLeaveWrapper",(function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))})),WU(n,"handleEnterSlideOrTraveller",(function(){n.setState({isTextActive:!0})})),WU(n,"handleLeaveSlideOrTraveller",(function(){n.setState({isTextActive:!1})})),WU(n,"handleSlideDragStart",(function(e){var t=UU(e)?e.changedTouches[0]:e;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:t.pageX}),n.attachDragEndListener()})),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&BU(e,t)}(t,e),n=t,r=[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(e){var n=e.startX,r=e.endX,o=this.state.scaleValues,a=this.props,i=a.gap,s=a.data.length-1,l=Math.min(n,r),u=Math.max(n,r),c=t.getIndexInRange(o,l),d=t.getIndexInRange(o,u);return{startIndex:c-c%i,endIndex:d===s?s:d-d%i}}},{key:"getTextOfTick",value:function(e){var t=this.props,n=t.data,r=t.tickFormatter,o=t.dataKey,a=iU(n[e],o,e);return aD()(r)?r(a,e):a}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(e){var t=this.state,n=t.slideMoveStartX,r=t.startX,o=t.endX,a=this.props,i=a.x,s=a.width,l=a.travellerWidth,u=a.startIndex,c=a.endIndex,d=a.onChange,p=e.pageX-n;p>0?p=Math.min(p,i+s-l-o,i+s-l-r):p<0&&(p=Math.max(p,i-r,i-o));var h=this.getIndex({startX:r+p,endX:o+p});h.startIndex===u&&h.endIndex===c||!d||d(h),this.setState({startX:r+p,endX:o+p,slideMoveStartX:e.pageX})}},{key:"handleTravellerDragStart",value:function(e,t){var n=UU(t)?t.changedTouches[0]:t;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:e,brushMoveStartX:n.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(e){var t=this.state,n=t.brushMoveStartX,r=t.movingTravellerId,o=t.endX,a=t.startX,i=this.state[r],s=this.props,l=s.x,u=s.width,c=s.travellerWidth,d=s.onChange,p=s.gap,h=s.data,f={startX:this.state.startX,endX:this.state.endX},m=e.pageX-n;m>0?m=Math.min(m,l+u-c-i):m<0&&(m=Math.max(m,l-i)),f[r]=i+m;var g=this.getIndex(f),y=g.startIndex,v=g.endIndex;this.setState(WU(WU({},r,i+m),"brushMoveStartX",e.pageX),(function(){d&&function(){var e=h.length-1;return"startX"===r&&(o>a?y%p===0:v%p===0)||o<a&&v===e||"endX"===r&&(o>a?v%p===0:y%p===0)||o>a&&v===e}()&&d(g)}))}},{key:"handleTravellerMoveKeyboard",value:function(e,t){var n=this,r=this.state,o=r.scaleValues,a=r.startX,i=r.endX,s=this.state[t],l=o.indexOf(s);if(-1!==l){var u=l+e;if(!(-1===u||u>=o.length)){var c=o[u];"startX"===t&&c>=i||"endX"===t&&c<=a||this.setState(WU({},t,c),(function(){n.props.onChange(n.getIndex({startX:n.state.startX,endX:n.state.endX}))}))}}}},{key:"renderBackground",value:function(){var e=this.props,t=e.x,n=e.y,r=e.width,o=e.height,a=e.fill,i=e.stroke;return W.createElement("rect",{stroke:i,fill:a,x:t,y:n,width:r,height:o})}},{key:"renderPanorama",value:function(){var e=this.props,t=e.x,n=e.y,r=e.width,o=e.height,a=e.data,i=e.children,s=e.padding,l=W.Children.only(i);return l?W.cloneElement(l,{x:t,y:n,width:r,height:o,margin:s,compact:!0,data:a}):null}},{key:"renderTravellerLayer",value:function(e,n){var r,o,a=this,i=this.props,s=i.y,l=i.travellerWidth,u=i.height,c=i.traveller,d=i.ariaLabel,p=i.data,h=i.startIndex,f=i.endIndex,m=Math.max(e,this.props.x),g=jU(jU({},oR(this.props,!1)),{},{x:m,y:s,width:l,height:u}),y=d||"Min value: ".concat(null===(r=p[h])||void 0===r?void 0:r.name,", Max value: ").concat(null===(o=p[f])||void 0===o?void 0:o.name);return W.createElement(mR,{tabIndex:0,role:"slider","aria-label":y,"aria-valuenow":e,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[n],onTouchStart:this.travellerDragStartHandlers[n],onKeyDown:function(e){["ArrowLeft","ArrowRight"].includes(e.key)&&(e.preventDefault(),e.stopPropagation(),a.handleTravellerMoveKeyboard("ArrowRight"===e.key?1:-1,n))},onFocus:function(){a.setState({isTravellerFocused:!0})},onBlur:function(){a.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(c,g))}},{key:"renderSlide",value:function(e,t){var n=this.props,r=n.y,o=n.height,a=n.stroke,i=n.travellerWidth,s=Math.min(e,t)+i,l=Math.max(Math.abs(t-e)-i,0);return W.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:a,fillOpacity:.2,x:s,y:r,width:l,height:o})}},{key:"renderText",value:function(){var e=this.props,t=e.startIndex,n=e.endIndex,r=e.y,o=e.height,a=e.travellerWidth,i=e.stroke,s=this.state,l=s.startX,u=s.endX,c={pointerEvents:"none",fill:i};return W.createElement(mR,{className:"recharts-brush-texts"},W.createElement(J_,PU({textAnchor:"end",verticalAnchor:"middle",x:Math.min(l,u)-5,y:r+o/2},c),this.getTextOfTick(t)),W.createElement(J_,PU({textAnchor:"start",verticalAnchor:"middle",x:Math.max(l,u)+a+5,y:r+o/2},c),this.getTextOfTick(n)))}},{key:"render",value:function(){var e=this.props,t=e.data,n=e.className,r=e.children,o=e.x,a=e.y,i=e.width,s=e.height,l=e.alwaysShowText,u=this.state,c=u.startX,d=u.endX,p=u.isTextActive,h=u.isSlideMoving,f=u.isTravellerMoving,m=u.isTravellerFocused;if(!t||!t.length||!ID(o)||!ID(a)||!ID(i)||!ID(s)||i<=0||s<=0)return null;var g=(0,Qt.A)("recharts-brush",n),y=1===W.Children.count(r),v=function(e,t){if(!e)return null;var n=e.replace(/(\w)/,(function(e){return e.toUpperCase()})),r=DU.reduce((function(e,r){return OU(OU({},e),{},MU({},r+n,t))}),{});return r[e]=t,r}("userSelect","none");return W.createElement(mR,{className:g,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:v},this.renderBackground(),y&&this.renderPanorama(),this.renderSlide(c,d),this.renderTravellerLayer(c,"startX"),this.renderTravellerLayer(d,"endX"),(p||h||f||m||l)&&this.renderText())}}],o=[{key:"renderDefaultTraveller",value:function(e){var t=e.x,n=e.y,r=e.width,o=e.height,a=e.stroke,i=Math.floor(n+o/2)-1;return W.createElement(W.Fragment,null,W.createElement("rect",{x:t,y:n,width:r,height:o,fill:a,stroke:"none"}),W.createElement("line",{x1:t+1,y1:i,x2:t+r-1,y2:i,fill:"none",stroke:"#fff"}),W.createElement("line",{x1:t+1,y1:i+2,x2:t+r-1,y2:i+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(e,n){return W.isValidElement(e)?W.cloneElement(e,n):aD()(e)?e(n):t.renderDefaultTraveller(n)}},{key:"getDerivedStateFromProps",value:function(e,t){var n=e.data,r=e.width,o=e.x,a=e.travellerWidth,i=e.updateId,s=e.startIndex,l=e.endIndex;if(n!==t.prevData||i!==t.prevUpdateId)return jU({prevData:n,prevTravellerWidth:a,prevUpdateId:i,prevX:o,prevWidth:r},n&&n.length?function(e){var t=e.data,n=e.startIndex,r=e.endIndex,o=e.x,a=e.width,i=e.travellerWidth;if(!t||!t.length)return{};var s=t.length,l=g_().domain(sD()(0,s)).range([o,o+a-i]),u=l.domain().map((function(e){return l(e)}));return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:l(n),endX:l(r),scale:l,scaleValues:u}}({data:n,width:r,x:o,travellerWidth:a,startIndex:s,endIndex:l}):{scale:null,scaleValues:null});if(t.scale&&(r!==t.prevWidth||o!==t.prevX||a!==t.prevTravellerWidth)){t.scale.range([o,o+r-a]);var u=t.scale.domain().map((function(e){return t.scale(e)}));return{prevData:n,prevTravellerWidth:a,prevUpdateId:i,prevX:o,prevWidth:r,startX:t.scale(e.startIndex),endX:t.scale(e.endIndex),scaleValues:u}}return null}},{key:"getIndexInRange",value:function(e,t){for(var n=0,r=e.length-1;r-n>1;){var o=Math.floor((n+r)/2);e[o]>t?r=o:n=o}return t>=e[r]?r:n}}],r&&_U(n.prototype,r),o&&_U(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(W.PureComponent);function GU(e){return GU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},GU(e)}function qU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function KU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qU(Object(n),!0).forEach((function(t){XU(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qU(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function XU(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=GU(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=GU(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==GU(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}WU(HU,"displayName","Brush"),WU(HU,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var YU=Math.PI/180,QU=function(e){return 180*e/Math.PI},ZU=function(e,t,n,r){return{x:e+Math.cos(-YU*r)*n,y:t+Math.sin(-YU*r)*n}},JU=function(e,t){var n=e.x,r=e.y,o=t.cx,a=t.cy,i=function(e,t){var n=e.x,r=e.y,o=t.x,a=t.y;return Math.sqrt(Math.pow(n-o,2)+Math.pow(r-a,2))}({x:n,y:r},{x:o,y:a});if(i<=0)return{radius:i};var s=(n-o)/i,l=Math.acos(s);return r>a&&(l=2*Math.PI-l),{radius:i,angle:QU(l),angleInRadian:l}},eH=function(e,t){var n=t.startAngle,r=t.endAngle,o=Math.floor(n/360),a=Math.floor(r/360);return e+360*Math.min(o,a)},tH=function(e,t){var n=e.x,r=e.y,o=JU({x:n,y:r},t),a=o.radius,i=o.angle,s=t.innerRadius,l=t.outerRadius;if(a<s||a>l)return!1;if(0===a)return!0;var u,c=function(e){var t=e.startAngle,n=e.endAngle,r=Math.floor(t/360),o=Math.floor(n/360),a=Math.min(r,o);return{startAngle:t-360*a,endAngle:n-360*a}}(t),d=c.startAngle,p=c.endAngle,h=i;if(d<=p){for(;h>p;)h-=360;for(;h<d;)h+=360;u=h>=d&&h<=p}else{for(;h>d;)h-=360;for(;h<p;)h+=360;u=h>=p&&h<=d}return u?KU(KU({},t),{},{radius:a,angle:eH(h,t)}):null};function nH(e){return nH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nH(e)}var rH=["offset"];function oH(e){return function(e){if(Array.isArray(e))return aH(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return aH(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aH(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function aH(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function iH(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function sH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sH(Object(n),!0).forEach((function(t){uH(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sH(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function uH(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=nH(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=nH(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==nH(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cH(){return cH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cH.apply(this,arguments)}var dH=function(e,t,n){var r,o,a=e.position,i=e.viewBox,s=e.offset,l=e.className,u=i,c=u.cx,d=u.cy,p=u.innerRadius,h=u.outerRadius,f=u.startAngle,m=u.endAngle,g=u.clockWise,y=(p+h)/2,v=function(e,t){return CD(t-e)*Math.min(Math.abs(t-e),360)}(f,m),b=v>=0?1:-1;"insideStart"===a?(r=f+b*s,o=g):"insideEnd"===a?(r=m-b*s,o=!g):"end"===a&&(r=m+b*s,o=g),o=v<=0?o:!o;var x=ZU(c,d,y,r),w=ZU(c,d,y,r+359*(o?1:-1)),k="M".concat(x.x,",").concat(x.y,"\n    A").concat(y,",").concat(y,",0,1,").concat(o?0:1,",\n    ").concat(w.x,",").concat(w.y),S=rD()(e.id)?OD("recharts-radial-line-"):e.id;return W.createElement("text",cH({},n,{dominantBaseline:"central",className:(0,Qt.A)("recharts-radial-bar-label",l)}),W.createElement("defs",null,W.createElement("path",{id:S,d:k})),W.createElement("textPath",{xlinkHref:"#".concat(S)},t))};function pH(e){var t,n=e.offset,r=lH({offset:void 0===n?5:n},iH(e,rH)),o=r.viewBox,a=r.position,i=r.value,s=r.children,l=r.content,u=r.className,c=void 0===u?"":u,d=r.textBreakAll;if(!o||rD()(i)&&rD()(s)&&!(0,W.isValidElement)(l)&&!aD()(l))return null;if((0,W.isValidElement)(l))return(0,W.cloneElement)(l,r);if(aD()(l)){if(t=(0,W.createElement)(l,r),(0,W.isValidElement)(t))return t}else t=function(e){var t=e.value,n=e.formatter,r=rD()(e.children)?t:e.children;return aD()(n)?n(r):r}(r);var p=function(e){return"cx"in e&&ID(e.cx)}(o),h=oR(r,!0);if(p&&("insideStart"===a||"insideEnd"===a||"end"===a))return dH(r,t,h);var f=p?function(e){var t=e.viewBox,n=e.offset,r=e.position,o=t,a=o.cx,i=o.cy,s=o.innerRadius,l=o.outerRadius,u=(o.startAngle+o.endAngle)/2;if("outside"===r){var c=ZU(a,i,l+n,u),d=c.x;return{x:d,y:c.y,textAnchor:d>=a?"start":"end",verticalAnchor:"middle"}}if("center"===r)return{x:a,y:i,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===r)return{x:a,y:i,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===r)return{x:a,y:i,textAnchor:"middle",verticalAnchor:"end"};var p=ZU(a,i,(s+l)/2,u);return{x:p.x,y:p.y,textAnchor:"middle",verticalAnchor:"middle"}}(r):function(e){var t=e.viewBox,n=e.parentViewBox,r=e.offset,o=e.position,a=t,i=a.x,s=a.y,l=a.width,u=a.height,c=u>=0?1:-1,d=c*r,p=c>0?"end":"start",h=c>0?"start":"end",f=l>=0?1:-1,m=f*r,g=f>0?"end":"start",y=f>0?"start":"end";if("top"===o)return lH(lH({},{x:i+l/2,y:s-c*r,textAnchor:"middle",verticalAnchor:p}),n?{height:Math.max(s-n.y,0),width:l}:{});if("bottom"===o)return lH(lH({},{x:i+l/2,y:s+u+d,textAnchor:"middle",verticalAnchor:h}),n?{height:Math.max(n.y+n.height-(s+u),0),width:l}:{});if("left"===o){var v={x:i-m,y:s+u/2,textAnchor:g,verticalAnchor:"middle"};return lH(lH({},v),n?{width:Math.max(v.x-n.x,0),height:u}:{})}if("right"===o){var b={x:i+l+m,y:s+u/2,textAnchor:y,verticalAnchor:"middle"};return lH(lH({},b),n?{width:Math.max(n.x+n.width-b.x,0),height:u}:{})}var x=n?{width:l,height:u}:{};return"insideLeft"===o?lH({x:i+m,y:s+u/2,textAnchor:y,verticalAnchor:"middle"},x):"insideRight"===o?lH({x:i+l-m,y:s+u/2,textAnchor:g,verticalAnchor:"middle"},x):"insideTop"===o?lH({x:i+l/2,y:s+d,textAnchor:"middle",verticalAnchor:h},x):"insideBottom"===o?lH({x:i+l/2,y:s+u-d,textAnchor:"middle",verticalAnchor:p},x):"insideTopLeft"===o?lH({x:i+m,y:s+d,textAnchor:y,verticalAnchor:h},x):"insideTopRight"===o?lH({x:i+l-m,y:s+d,textAnchor:g,verticalAnchor:h},x):"insideBottomLeft"===o?lH({x:i+m,y:s+u-d,textAnchor:y,verticalAnchor:p},x):"insideBottomRight"===o?lH({x:i+l-m,y:s+u-d,textAnchor:g,verticalAnchor:p},x):bD()(o)&&(ID(o.x)||TD(o.x))&&(ID(o.y)||TD(o.y))?lH({x:i+MD(o.x,l),y:s+MD(o.y,u),textAnchor:"end",verticalAnchor:"end"},x):lH({x:i+l/2,y:s+u/2,textAnchor:"middle",verticalAnchor:"middle"},x)}(r);return W.createElement(J_,cH({className:(0,Qt.A)("recharts-label",c)},h,f,{breakAll:d}),t)}pH.displayName="Label";var hH=function(e){var t=e.cx,n=e.cy,r=e.angle,o=e.startAngle,a=e.endAngle,i=e.r,s=e.radius,l=e.innerRadius,u=e.outerRadius,c=e.x,d=e.y,p=e.top,h=e.left,f=e.width,m=e.height,g=e.clockWise,y=e.labelViewBox;if(y)return y;if(ID(f)&&ID(m)){if(ID(c)&&ID(d))return{x:c,y:d,width:f,height:m};if(ID(p)&&ID(h))return{x:p,y:h,width:f,height:m}}return ID(c)&&ID(d)?{x:c,y:d,width:0,height:0}:ID(t)&&ID(n)?{cx:t,cy:n,startAngle:o||r||0,endAngle:a||r||0,innerRadius:l||0,outerRadius:u||s||i||0,clockWise:g}:e.viewBox?e.viewBox:{}};pH.parseViewBox=hH,pH.renderCallByParent=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var r=e.children,o=hH(e),a=JD(r,pH).map((function(e,n){return(0,W.cloneElement)(e,{viewBox:t||o,key:"label-".concat(n)})}));if(!n)return a;var i=function(e,t){return e?!0===e?W.createElement(pH,{key:"label-implicit",viewBox:t}):ED(e)?W.createElement(pH,{key:"label-implicit",viewBox:t,value:e}):(0,W.isValidElement)(e)?e.type===pH?(0,W.cloneElement)(e,{key:"label-implicit",viewBox:t}):W.createElement(pH,{key:"label-implicit",content:e,viewBox:t}):aD()(e)?W.createElement(pH,{key:"label-implicit",content:e,viewBox:t}):bD()(e)?W.createElement(pH,cH({viewBox:t},e,{key:"label-implicit"})):null:null}(e.label,t||o);return[i].concat(oH(a))};var fH=function(e,t){var n=e.alwaysShow,r=e.ifOverflow;return n&&(r="extendDomain"),r===t},mH=n(1733),gH=n.n(mH),yH=n(7002),vH=n.n(yH),bH=function(e){return null};bH.displayName="Cell";var xH=n(4065),wH=n.n(xH);function kH(e){return kH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kH(e)}var SH=["valueAccessor"],AH=["data","dataKey","clockWise","id","textBreakAll"];function CH(e){return function(e){if(Array.isArray(e))return TH(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return TH(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TH(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function TH(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function IH(){return IH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},IH.apply(this,arguments)}function EH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function NH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?EH(Object(n),!0).forEach((function(t){OH(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EH(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function OH(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=kH(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=kH(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==kH(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MH(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var DH=function(e){return Array.isArray(e.value)?wH()(e.value):e.value};function RH(e){var t=e.valueAccessor,n=void 0===t?DH:t,r=MH(e,SH),o=r.data,a=r.dataKey,i=r.clockWise,s=r.id,l=r.textBreakAll,u=MH(r,AH);return o&&o.length?W.createElement(mR,{className:"recharts-label-list"},o.map((function(e,t){var r=rD()(a)?n(e,t):iU(e&&e.payload,a),o=rD()(s)?{}:{id:"".concat(s,"-").concat(t)};return W.createElement(pH,IH({},oR(e,!0),u,o,{parentViewBox:e.parentViewBox,value:r,textBreakAll:l,viewBox:pH.parseViewBox(rD()(i)?e:NH(NH({},e),{},{clockWise:i})),key:"label-".concat(t),index:t}))}))):null}RH.displayName="LabelList",RH.renderCallByParent=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var r=JD(e.children,RH).map((function(e,n){return(0,W.cloneElement)(e,{data:t,key:"labelList-".concat(n)})}));return n?[function(e,t){return e?!0===e?W.createElement(RH,{key:"labelList-implicit",data:t}):W.isValidElement(e)||aD()(e)?W.createElement(RH,{key:"labelList-implicit",data:t,content:e}):bD()(e)?W.createElement(RH,IH({data:t},e,{key:"labelList-implicit"})):null:null}(e.label,t)].concat(CH(r)):r};var PH=n(2322),$H=n.n(PH),jH=n(6361),_H=n.n(jH);function FH(e){return FH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},FH(e)}function LH(){return LH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},LH.apply(this,arguments)}function zH(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return BH(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BH(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function BH(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function WH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function VH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?WH(Object(n),!0).forEach((function(t){UH(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WH(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function UH(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=FH(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=FH(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==FH(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var HH=function(e,t,n,r,o){var a,i=n-r;return a="M ".concat(e,",").concat(t),a+="L ".concat(e+n,",").concat(t),a+="L ".concat(e+n-i/2,",").concat(t+o),a+="L ".concat(e+n-i/2-r,",").concat(t+o),a+="L ".concat(e,",").concat(t," Z")},GH={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},qH=function(e){var t=VH(VH({},GH),e),n=(0,W.useRef)(),r=zH((0,W.useState)(-1),2),o=r[0],a=r[1];(0,W.useEffect)((function(){if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&a(e)}catch(t){}}),[]);var i=t.x,s=t.y,l=t.upperWidth,u=t.lowerWidth,c=t.height,d=t.className,p=t.animationEasing,h=t.animationDuration,f=t.animationBegin,m=t.isUpdateAnimationActive;if(i!==+i||s!==+s||l!==+l||u!==+u||c!==+c||0===l&&0===u||0===c)return null;var g=(0,Qt.A)("recharts-trapezoid",d);return m?W.createElement(qj,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:c,x:i,y:s},to:{upperWidth:l,lowerWidth:u,height:c,x:i,y:s},duration:h,animationEasing:p,isActive:m},(function(e){var r=e.upperWidth,a=e.lowerWidth,i=e.height,s=e.x,l=e.y;return W.createElement(qj,{canBegin:o>0,from:"0px ".concat(-1===o?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:f,duration:h,easing:p},W.createElement("path",LH({},oR(t,!0),{className:g,d:HH(s,l,r,a,i),ref:n})))})):W.createElement("g",null,W.createElement("path",LH({},oR(t,!0),{className:g,d:HH(i,s,l,u,c)})))};function KH(e){return KH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},KH(e)}function XH(){return XH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},XH.apply(this,arguments)}function YH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function QH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?YH(Object(n),!0).forEach((function(t){ZH(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YH(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ZH(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=KH(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=KH(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==KH(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var JH=function(e){var t=e.cx,n=e.cy,r=e.radius,o=e.angle,a=e.sign,i=e.isExternal,s=e.cornerRadius,l=e.cornerIsExternal,u=s*(i?1:-1)+r,c=Math.asin(s/u)/YU,d=l?o:o+a*c,p=l?o-a*c:o;return{center:ZU(t,n,u,d),circleTangency:ZU(t,n,r,d),lineTangency:ZU(t,n,u*Math.cos(c*YU),p),theta:c}},eG=function(e){var t=e.cx,n=e.cy,r=e.innerRadius,o=e.outerRadius,a=e.startAngle,i=function(e,t){return CD(t-e)*Math.min(Math.abs(t-e),359.999)}(a,e.endAngle),s=a+i,l=ZU(t,n,o,a),u=ZU(t,n,o,s),c="M ".concat(l.x,",").concat(l.y,"\n    A ").concat(o,",").concat(o,",0,\n    ").concat(+(Math.abs(i)>180),",").concat(+(a>s),",\n    ").concat(u.x,",").concat(u.y,"\n  ");if(r>0){var d=ZU(t,n,r,a),p=ZU(t,n,r,s);c+="L ".concat(p.x,",").concat(p.y,"\n            A ").concat(r,",").concat(r,",0,\n            ").concat(+(Math.abs(i)>180),",").concat(+(a<=s),",\n            ").concat(d.x,",").concat(d.y," Z")}else c+="L ".concat(t,",").concat(n," Z");return c},tG={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},nG=function(e){var t=QH(QH({},tG),e),n=t.cx,r=t.cy,o=t.innerRadius,a=t.outerRadius,i=t.cornerRadius,s=t.forceCornerRadius,l=t.cornerIsExternal,u=t.startAngle,c=t.endAngle,d=t.className;if(a<o||u===c)return null;var p,h=(0,Qt.A)("recharts-sector",d),f=a-o,m=MD(i,f,0,!0);return p=m>0&&Math.abs(u-c)<360?function(e){var t=e.cx,n=e.cy,r=e.innerRadius,o=e.outerRadius,a=e.cornerRadius,i=e.forceCornerRadius,s=e.cornerIsExternal,l=e.startAngle,u=e.endAngle,c=CD(u-l),d=JH({cx:t,cy:n,radius:o,angle:l,sign:c,cornerRadius:a,cornerIsExternal:s}),p=d.circleTangency,h=d.lineTangency,f=d.theta,m=JH({cx:t,cy:n,radius:o,angle:u,sign:-c,cornerRadius:a,cornerIsExternal:s}),g=m.circleTangency,y=m.lineTangency,v=m.theta,b=s?Math.abs(l-u):Math.abs(l-u)-f-v;if(b<0)return i?"M ".concat(h.x,",").concat(h.y,"\n        a").concat(a,",").concat(a,",0,0,1,").concat(2*a,",0\n        a").concat(a,",").concat(a,",0,0,1,").concat(2*-a,",0\n      "):eG({cx:t,cy:n,innerRadius:r,outerRadius:o,startAngle:l,endAngle:u});var x="M ".concat(h.x,",").concat(h.y,"\n    A").concat(a,",").concat(a,",0,0,").concat(+(c<0),",").concat(p.x,",").concat(p.y,"\n    A").concat(o,",").concat(o,",0,").concat(+(b>180),",").concat(+(c<0),",").concat(g.x,",").concat(g.y,"\n    A").concat(a,",").concat(a,",0,0,").concat(+(c<0),",").concat(y.x,",").concat(y.y,"\n  ");if(r>0){var w=JH({cx:t,cy:n,radius:r,angle:l,sign:c,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),k=w.circleTangency,S=w.lineTangency,A=w.theta,C=JH({cx:t,cy:n,radius:r,angle:u,sign:-c,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),T=C.circleTangency,I=C.lineTangency,E=C.theta,N=s?Math.abs(l-u):Math.abs(l-u)-A-E;if(N<0&&0===a)return"".concat(x,"L").concat(t,",").concat(n,"Z");x+="L".concat(I.x,",").concat(I.y,"\n      A").concat(a,",").concat(a,",0,0,").concat(+(c<0),",").concat(T.x,",").concat(T.y,"\n      A").concat(r,",").concat(r,",0,").concat(+(N>180),",").concat(+(c>0),",").concat(k.x,",").concat(k.y,"\n      A").concat(a,",").concat(a,",0,0,").concat(+(c<0),",").concat(S.x,",").concat(S.y,"Z")}else x+="L".concat(t,",").concat(n,"Z");return x}({cx:n,cy:r,innerRadius:o,outerRadius:a,cornerRadius:Math.min(m,f/2),forceCornerRadius:s,cornerIsExternal:l,startAngle:u,endAngle:c}):eG({cx:n,cy:r,innerRadius:o,outerRadius:a,startAngle:u,endAngle:c}),W.createElement("path",XH({},oR(t,!0),{className:h,d:p,role:"img"}))},rG=["option","shapeType","propTransformer","activeClassName","isActive"];function oG(e){return oG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oG(e)}function aG(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function iG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sG(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iG(Object(n),!0).forEach((function(t){lG(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iG(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lG(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=oG(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=oG(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==oG(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uG(e,t){return sG(sG({},t),e)}function cG(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return W.createElement(o_,n);case"trapezoid":return W.createElement(qH,n);case"sector":return W.createElement(nG,n);case"symbols":if(function(e){return"symbols"===e}(t))return W.createElement(GP,n);break;default:return null}}function dG(e){var t,n=e.option,r=e.shapeType,o=e.propTransformer,a=void 0===o?uG:o,i=e.activeClassName,s=void 0===i?"recharts-active-shape":i,l=e.isActive,u=aG(e,rG);if((0,W.isValidElement)(n))t=(0,W.cloneElement)(n,sG(sG({},u),function(e){return(0,W.isValidElement)(e)?e.props:e}(n)));else if(aD()(n))t=n(u);else if($H()(n)&&!_H()(n)){var c=a(n,u);t=W.createElement(cG,{shapeType:r,elementProps:c})}else{var d=u;t=W.createElement(cG,{shapeType:r,elementProps:d})}return l?W.createElement(mR,{className:s},t):t}function pG(e,t){return null!=t&&"trapezoids"in e.props}function hG(e,t){return null!=t&&"sectors"in e.props}function fG(e,t){return null!=t&&"points"in e.props}function mG(e,t){var n,r,o=e.x===(null===t||void 0===t||null===(n=t.labelViewBox)||void 0===n?void 0:n.x)||e.x===t.x,a=e.y===(null===t||void 0===t||null===(r=t.labelViewBox)||void 0===r?void 0:r.y)||e.y===t.y;return o&&a}function gG(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function yG(e,t){var n=e.x===t.x,r=e.y===t.y,o=e.z===t.z;return n&&r&&o}function vG(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,o=function(e,t){var n;return pG(e,t)?n="trapezoids":hG(e,t)?n="sectors":fG(e,t)&&(n="points"),n}(n,t),a=function(e,t){var n,r;return pG(e,t)?null===(n=t.tooltipPayload)||void 0===n||null===(n=n[0])||void 0===n||null===(n=n.payload)||void 0===n?void 0:n.payload:hG(e,t)?null===(r=t.tooltipPayload)||void 0===r||null===(r=r[0])||void 0===r||null===(r=r.payload)||void 0===r?void 0:r.payload:fG(e,t)?t.payload:{}}(n,t),i=r.filter((function(e,r){var i=lV()(a,e),s=n.props[o].filter((function(e){var r=function(e,t){var n;return pG(e,t)?n=mG:hG(e,t)?n=gG:fG(e,t)&&(n=yG),n}(n,t);return r(e,t)})),l=n.props[o].indexOf(s[s.length-1]);return i&&r===l}));return r.indexOf(i[i.length-1])}var bG=["x","y"];function xG(e){return xG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xG(e)}function wG(){return wG=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wG.apply(this,arguments)}function kG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function SG(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kG(Object(n),!0).forEach((function(t){AG(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kG(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function AG(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=xG(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=xG(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==xG(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CG(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function TG(e,t){var n=e.x,r=e.y,o=CG(e,bG),a="".concat(n),i=parseInt(a,10),s="".concat(r),l=parseInt(s,10),u="".concat(t.height||o.height),c=parseInt(u,10),d="".concat(t.width||o.width),p=parseInt(d,10);return SG(SG(SG(SG(SG({},t),o),i?{x:i}:{}),l?{y:l}:{}),{},{height:c,width:p,name:t.name,radius:t.radius})}function IG(e){return W.createElement(dG,wG({shapeType:"rectangle",propTransformer:TG,activeClassName:"recharts-active-bar"},e))}var EG,NG=["value","background"];function OG(e){return OG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},OG(e)}function MG(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function DG(){return DG=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},DG.apply(this,arguments)}function RG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function PG(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?RG(Object(n),!0).forEach((function(t){zG(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RG(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $G(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,BG(r.key),r)}}function jG(e,t,n){return t=FG(t),function(e,t){if(t&&("object"===OG(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,_G()?Reflect.construct(t,n||[],FG(e).constructor):t.apply(e,n))}function _G(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(_G=function(){return!!e})()}function FG(e){return FG=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},FG(e)}function LG(e,t){return LG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},LG(e,t)}function zG(e,t,n){return(t=BG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BG(e){var t=function(e,t){if("object"!=OG(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=OG(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==OG(t)?t:t+""}var WG=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return zG(e=jG(this,t,[].concat(r)),"state",{isAnimationFinished:!1}),zG(e,"id",OD("recharts-bar-")),zG(e,"handleAnimationEnd",(function(){var t=e.props.onAnimationEnd;e.setState({isAnimationFinished:!0}),t&&t()})),zG(e,"handleAnimationStart",(function(){var t=e.props.onAnimationStart;e.setState({isAnimationFinished:!1}),t&&t()})),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&LG(e,t)}(t,e),n=t,o=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curData:e.data,prevData:t.curData}:e.data!==t.curData?{curData:e.data}:null}}],(r=[{key:"renderRectanglesStatically",value:function(e){var t=this,n=this.props,r=n.shape,o=n.dataKey,a=n.activeIndex,i=n.activeBar,s=oR(this.props,!1);return e&&e.map((function(e,n){var l=n===a,u=l?i:r,c=PG(PG(PG({},s),e),{},{isActive:l,option:u,index:n,dataKey:o,onAnimationStart:t.handleAnimationStart,onAnimationEnd:t.handleAnimationEnd});return W.createElement(mR,DG({className:"recharts-bar-rectangle"},VD(t.props,e,n),{key:"rectangle-".concat(null===e||void 0===e?void 0:e.x,"-").concat(null===e||void 0===e?void 0:e.y,"-").concat(null===e||void 0===e?void 0:e.value,"-").concat(n)}),W.createElement(IG,c))}))}},{key:"renderRectanglesWithAnimation",value:function(){var e=this,t=this.props,n=t.data,r=t.layout,o=t.isAnimationActive,a=t.animationBegin,i=t.animationDuration,s=t.animationEasing,l=t.animationId,u=this.state.prevData;return W.createElement(qj,{begin:a,duration:i,isActive:o,easing:s,from:{t:0},to:{t:1},key:"bar-".concat(l),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},(function(t){var o=t.t,a=n.map((function(e,t){var n=u&&u[t];if(n){var a=RD(n.x,e.x),i=RD(n.y,e.y),s=RD(n.width,e.width),l=RD(n.height,e.height);return PG(PG({},e),{},{x:a(o),y:i(o),width:s(o),height:l(o)})}if("horizontal"===r){var c=RD(0,e.height)(o);return PG(PG({},e),{},{y:e.y+e.height-c,height:c})}var d=RD(0,e.width)(o);return PG(PG({},e),{},{width:d})}));return W.createElement(mR,null,e.renderRectanglesStatically(a))}))}},{key:"renderRectangles",value:function(){var e=this.props,t=e.data,n=e.isAnimationActive,r=this.state.prevData;return!(n&&t&&t.length)||r&&lV()(r,t)?this.renderRectanglesStatically(t):this.renderRectanglesWithAnimation()}},{key:"renderBackground",value:function(){var e=this,t=this.props,n=t.data,r=t.dataKey,o=t.activeIndex,a=oR(this.props.background,!1);return n.map((function(t,n){t.value;var i=t.background,s=MG(t,NG);if(!i)return null;var l=PG(PG(PG(PG(PG({},s),{},{fill:"#eee"},i),a),VD(e.props,t,n)),{},{onAnimationStart:e.handleAnimationStart,onAnimationEnd:e.handleAnimationEnd,dataKey:r,index:n,className:"recharts-bar-background-rectangle"});return W.createElement(IG,DG({key:"background-bar-".concat(n),option:e.props.background,isActive:n===o},l))}))}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,r=n.data,o=n.xAxis,a=n.yAxis,i=n.layout,s=JD(n.children,KV);if(!s)return null;var l="vertical"===i?r[0].height/2:r[0].width/2,u=function(e,t){var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:iU(e,t)}},c={clipPath:e?"url(#clipPath-".concat(t,")"):null};return W.createElement(mR,c,s.map((function(e){return W.cloneElement(e,{key:"error-bar-".concat(t,"-").concat(e.props.dataKey),data:r,xAxis:o,yAxis:a,layout:i,offset:l,dataPointFormatter:u})})))}},{key:"render",value:function(){var e=this.props,t=e.hide,n=e.data,r=e.className,o=e.xAxis,a=e.yAxis,i=e.left,s=e.top,l=e.width,u=e.height,c=e.isAnimationActive,d=e.background,p=e.id;if(t||!n||!n.length)return null;var h=this.state.isAnimationFinished,f=(0,Qt.A)("recharts-bar",r),m=o&&o.allowDataOverflow,g=a&&a.allowDataOverflow,y=m||g,v=rD()(p)?this.id:p;return W.createElement(mR,{className:f},m||g?W.createElement("defs",null,W.createElement("clipPath",{id:"clipPath-".concat(v)},W.createElement("rect",{x:m?i:i-l/2,y:g?s:s-u/2,width:m?l:2*l,height:g?u:2*u}))):null,W.createElement(mR,{className:"recharts-bar-rectangles",clipPath:y?"url(#clipPath-".concat(v,")"):null},d?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(y,v),(!c||h)&&RH.renderCallByParent(this.props,n))}}])&&$G(n.prototype,r),o&&$G(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(W.PureComponent);function VG(e){return VG="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},VG(e)}function UG(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,KG(r.key),r)}}function HG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function GG(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?HG(Object(n),!0).forEach((function(t){qG(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HG(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qG(e,t,n){return(t=KG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KG(e){var t=function(e,t){if("object"!=VG(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=VG(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==VG(t)?t:t+""}EG=WG,zG(WG,"displayName","Bar"),zG(WG,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!WR.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"}),zG(WG,"getComposedData",(function(e){var t=e.props,n=e.item,r=e.barPosition,o=e.bandSize,a=e.xAxis,i=e.yAxis,s=e.xAxisTicks,l=e.yAxisTicks,u=e.stackedData,c=e.dataStartIndex,d=e.displayedData,p=e.offset,h=function(e,t){if(!e)return null;for(var n=0,r=e.length;n<r;n++)if(e[n].item===t)return e[n].position;return null}(r,n);if(!h)return null;var f=t.layout,m=n.type.defaultProps,g=void 0!==m?PG(PG({},m),n.props):n.props,y=g.dataKey,v=g.children,b=g.minPointSize,x="horizontal"===f?i:a,w=u?x.scale.domain():null,k=function(e){var t=e.numericAxis,n=t.scale.domain();if("number"===t.type){var r=Math.min(n[0],n[1]),o=Math.max(n[0],n[1]);return r<=0&&o>=0?0:o<0?o:r}return n[0]}({numericAxis:x}),S=JD(v,bH),A=d.map((function(e,t){var r,d,p,m,g,v;u?r=function(e,t){if(!t||2!==t.length||!ID(t[0])||!ID(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),o=[e[0],e[1]];return(!ID(e[0])||e[0]<n)&&(o[0]=n),(!ID(e[1])||e[1]>r)&&(o[1]=r),o[0]>r&&(o[0]=r),o[1]<n&&(o[1]=n),o}(u[c+t],w):(r=iU(e,y),Array.isArray(r)||(r=[k,r]));var x=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n,r){if("number"===typeof e)return e;var o="number"===typeof n;return o?e(n,r):(o||mD(!1),t)}}(b,EG.defaultProps.minPointSize)(r[1],t);if("horizontal"===f){var A,C=[i.scale(r[0]),i.scale(r[1])],T=C[0],I=C[1];d=xU({axis:a,ticks:s,bandSize:o,offset:h.offset,entry:e,index:t}),p=null!==(A=null!==I&&void 0!==I?I:T)&&void 0!==A?A:void 0,m=h.size;var E=T-I;if(g=Number.isNaN(E)?0:E,v={x:d,y:i.y,width:m,height:i.height},Math.abs(x)>0&&Math.abs(g)<Math.abs(x)){var N=CD(g||x)*(Math.abs(x)-Math.abs(g));p-=N,g+=N}}else{var O=[a.scale(r[0]),a.scale(r[1])],M=O[0],D=O[1];if(d=M,p=xU({axis:i,ticks:l,bandSize:o,offset:h.offset,entry:e,index:t}),m=D-M,g=h.size,v={x:a.x,y:p,width:a.width,height:g},Math.abs(x)>0&&Math.abs(m)<Math.abs(x))m+=CD(m||x)*(Math.abs(x)-Math.abs(m))}return PG(PG(PG({},e),{},{x:d,y:p,width:m,height:g,value:u?r:r[1],payload:e,background:v},S&&S[t]&&S[t].props),{},{tooltipPayload:[IU(n,e)],tooltipPosition:{x:d+m/2,y:p+g/2}})}));return PG({data:A,layout:f},p)}));var XG=function(e,n,r,o,a){var i=e.width,s=e.height,l=e.layout,u=e.children,c=Object.keys(n),d={left:r.left,leftMirror:r.left,right:i-r.right,rightMirror:i-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},p=!!eR(u,WG);return c.reduce((function(i,s){var u,c,h,f,m,g=n[s],y=g.orientation,v=g.domain,b=g.padding,x=void 0===b?{}:b,w=g.mirror,k=g.reversed,S="".concat(y).concat(w?"Mirror":"");if("number"===g.type&&("gap"===g.padding||"no-gap"===g.padding)){var A=v[1]-v[0],C=1/0,T=g.categoricalDomain.sort($D);if(T.forEach((function(e,t){t>0&&(C=Math.min((e||0)-(T[t-1]||0),C))})),Number.isFinite(C)){var I=C/A,E="vertical"===g.layout?r.height:r.width;if("gap"===g.padding&&(u=I*E/2),"no-gap"===g.padding){var N=MD(e.barCategoryGap,I*E),O=I*E/2;u=O-N-(O-N)/E*N}}}c="xAxis"===o?[r.left+(x.left||0)+(u||0),r.left+r.width-(x.right||0)-(u||0)]:"yAxis"===o?"horizontal"===l?[r.top+r.height-(x.bottom||0),r.top+(x.top||0)]:[r.top+(x.top||0)+(u||0),r.top+r.height-(x.bottom||0)-(u||0)]:g.range,k&&(c=[c[1],c[0]]);var M=function(e,n,r){var o=e.scale,a=e.type,i=e.layout,s=e.axisType;if("auto"===o)return"radial"===i&&"radiusAxis"===s?{scale:f_(),realScaleType:"band"}:"radial"===i&&"angleAxis"===s?{scale:FL(),realScaleType:"linear"}:"category"===a&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:g_(),realScaleType:"point"}:"category"===a?{scale:f_(),realScaleType:"band"}:{scale:FL(),realScaleType:"linear"};if(yD()(o)){var l="scale".concat(iP()(o));return{scale:(t[l]||g_)(),realScaleType:t[l]?l:"point"}}return aD()(o)?{scale:o}:{scale:g_(),realScaleType:"point"}}(g,a,p),D=M.scale,R=M.realScaleType;D.domain(v).range(c),function(e){var t=e.domain();if(t&&!(t.length<=2)){var n=t.length,r=e.range(),o=Math.min(r[0],r[1])-gU,a=Math.max(r[0],r[1])+gU,i=e(t[0]),s=e(t[n-1]);(i<o||i>a||s<o||s>a)&&e.domain([t[0],t[n-1]])}}(D);var P=function(e,t){var n=t.realScaleType,r=t.type,o=t.tickCount,a=t.originalDomain,i=t.allowDecimals,s=n||t.scale;if("auto"!==s&&"linear"!==s)return null;if(o&&"number"===r&&a&&("auto"===a[0]||"auto"===a[1])){var l=e.domain();if(!l.length)return null;var u=RV(l,o,i);return e.domain([oV()(u),nV()(u)]),{niceTicks:u}}if(o&&"number"===r){var c=e.domain();return{niceTicks:PV(c,o,i)}}return null}(D,GG(GG({},g),{},{realScaleType:R}));"xAxis"===o?(m="top"===y&&!w||"bottom"===y&&w,h=r.left,f=d[S]-m*g.height):"yAxis"===o&&(m="left"===y&&!w||"right"===y&&w,h=d[S]-m*g.width,f=r.top);var $=GG(GG(GG({},g),P),{},{realScaleType:R,x:h,y:f,scale:D,width:"xAxis"===o?r.width:g.width,height:"yAxis"===o?r.height:g.height});return $.bandSize=CU($,P),g.hide||"xAxis"!==o?g.hide||(d[S]+=(m?-1:1)*$.width):d[S]+=(m?-1:1)*$.height,GG(GG({},i),{},qG({},s,$))}),{})},YG=function(e,t){var n=e.x,r=e.y,o=t.x,a=t.y;return{x:Math.min(n,o),y:Math.min(r,a),width:Math.abs(o-n),height:Math.abs(a-r)}},QG=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scale=t}return t=e,n=[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.bandAware,r=t.position;if(void 0!==e){if(r)switch(r){case"start":default:return this.scale(e);case"middle":var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+o;case"end":var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}if(n){var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}return this.scale(e)}}},{key:"isInRange",value:function(e){var t=this.range(),n=t[0],r=t[t.length-1];return n<=r?e>=n&&e<=r:e>=r&&e<=n}}],r=[{key:"create",value:function(t){return new e(t)}}],n&&UG(t.prototype,n),r&&UG(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();qG(QG,"EPS",1e-4);var ZG=function(e){var t=Object.keys(e).reduce((function(t,n){return GG(GG({},t),{},qG({},n,QG.create(e[n])))}),{});return GG(GG({},t),{},{apply:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.bandAware,o=n.position;return gH()(e,(function(e,n){return t[n].apply(e,{bandAware:r,position:o})}))},isInRange:function(e){return vH()(e,(function(e,n){return t[n].isInRange(e)}))}})};function JG(){return JG=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},JG.apply(this,arguments)}function eq(e){return eq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eq(e)}function tq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tq(Object(n),!0).forEach((function(t){lq(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tq(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rq(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,uq(r.key),r)}}function oq(e,t,n){return t=iq(t),function(e,t){if(t&&("object"===eq(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,aq()?Reflect.construct(t,n||[],iq(e).constructor):t.apply(e,n))}function aq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(aq=function(){return!!e})()}function iq(e){return iq=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},iq(e)}function sq(e,t){return sq=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},sq(e,t)}function lq(e,t,n){return(t=uq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uq(e){var t=function(e,t){if("object"!=eq(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=eq(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==eq(t)?t:t+""}var cq=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),oq(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sq(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,n=e.x,r=e.y,o=e.r,a=e.alwaysShow,i=e.clipPathId,s=ED(n),l=ED(r);if(oP(void 0===a,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!s||!l)return null;var u=function(e){var t=e.x,n=e.y,r=e.xAxis,o=e.yAxis,a=ZG({x:r.scale,y:o.scale}),i=a.apply({x:t,y:n},{bandAware:!0});return fH(e,"discard")&&!a.isInRange(i)?null:i}(this.props);if(!u)return null;var c=u.x,d=u.y,p=this.props,h=p.shape,f=p.className,m=nq(nq({clipPath:fH(this.props,"hidden")?"url(#".concat(i,")"):void 0},oR(this.props,!0)),{},{cx:c,cy:d});return W.createElement(mR,{className:(0,Qt.A)("recharts-reference-dot",f)},t.renderDot(h,m),pH.renderCallByParent(this.props,{x:c-o,y:d-o,width:2*o,height:2*o}))}}])&&rq(n.prototype,r),o&&rq(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(W.Component);lq(cq,"displayName","ReferenceDot"),lq(cq,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1}),lq(cq,"renderDot",(function(e,t){return W.isValidElement(e)?W.cloneElement(e,t):aD()(e)?e(t):W.createElement(x$,JG({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"}))}));var dq=n(4597),pq=n.n(dq),hq=n(8990),fq=n.n(hq),mq=n(5797),gq=n.n(mq)()((function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}}),(function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}));var yq=(0,W.createContext)(void 0),vq=(0,W.createContext)(void 0),bq=(0,W.createContext)(void 0),xq=(0,W.createContext)({}),wq=(0,W.createContext)(void 0),kq=(0,W.createContext)(0),Sq=(0,W.createContext)(0),Aq=function(e){var t=e.state,n=t.xAxisMap,r=t.yAxisMap,o=t.offset,a=e.clipPathId,i=e.children,s=e.width,l=e.height,u=gq(o);return W.createElement(yq.Provider,{value:n},W.createElement(vq.Provider,{value:r},W.createElement(xq.Provider,{value:o},W.createElement(bq.Provider,{value:u},W.createElement(wq.Provider,{value:a},W.createElement(kq.Provider,{value:l},W.createElement(Sq.Provider,{value:s},i)))))))};var Cq=function(e){var t=(0,W.useContext)(yq);null==t&&mD(!1);var n=t[e];return null==n&&mD(!1),n},Tq=function(e){var t=(0,W.useContext)(vq);null==t&&mD(!1);var n=t[e];return null==n&&mD(!1),n},Iq=function(){return(0,W.useContext)(Sq)},Eq=function(){return(0,W.useContext)(kq)};function Nq(e){return Nq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nq(e)}function Oq(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Fq(r.key),r)}}function Mq(e,t,n){return t=Rq(t),function(e,t){if(t&&("object"===Nq(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Dq()?Reflect.construct(t,n||[],Rq(e).constructor):t.apply(e,n))}function Dq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Dq=function(){return!!e})()}function Rq(e){return Rq=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Rq(e)}function Pq(e,t){return Pq=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Pq(e,t)}function $q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$q(Object(n),!0).forEach((function(t){_q(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _q(e,t,n){return(t=Fq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fq(e){var t=function(e,t){if("object"!=Nq(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Nq(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Nq(t)?t:t+""}function Lq(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return zq(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zq(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zq(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Bq(){return Bq=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bq.apply(this,arguments)}function Wq(e){var t=e.x,n=e.y,r=e.segment,o=e.xAxisId,a=e.yAxisId,i=e.shape,s=e.className,l=e.alwaysShow,u=(0,W.useContext)(wq),c=Cq(o),d=Tq(a),p=(0,W.useContext)(bq);if(!u||!p)return null;oP(void 0===l,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=function(e,t,n,r,o,a,i,s,l){var u=o.x,c=o.y,d=o.width,p=o.height;if(n){var h=l.y,f=e.y.apply(h,{position:a});if(fH(l,"discard")&&!e.y.isInRange(f))return null;var m=[{x:u+d,y:f},{x:u,y:f}];return"left"===s?m.reverse():m}if(t){var g=l.x,y=e.x.apply(g,{position:a});if(fH(l,"discard")&&!e.x.isInRange(y))return null;var v=[{x:y,y:c+p},{x:y,y:c}];return"top"===i?v.reverse():v}if(r){var b=l.segment.map((function(t){return e.apply(t,{position:a})}));return fH(l,"discard")&&pq()(b,(function(t){return!e.isInRange(t)}))?null:b}return null}(ZG({x:c.scale,y:d.scale}),ED(t),ED(n),r&&2===r.length,p,e.position,c.orientation,d.orientation,e);if(!h)return null;var f=Lq(h,2),m=f[0],g=m.x,y=m.y,v=f[1],b=v.x,x=v.y,w=jq(jq({clipPath:fH(e,"hidden")?"url(#".concat(u,")"):void 0},oR(e,!0)),{},{x1:g,y1:y,x2:b,y2:x});return W.createElement(mR,{className:(0,Qt.A)("recharts-reference-line",s)},function(e,t){return W.isValidElement(e)?W.cloneElement(e,t):aD()(e)?e(t):W.createElement("line",Bq({},t,{className:"recharts-reference-line-line"}))}(i,w),pH.renderCallByParent(e,function(e){var t=e.x1,n=e.y1,r=e.x2,o=e.y2;return YG({x:t,y:n},{x:r,y:o})}({x1:g,y1:y,x2:b,y2:x})))}var Vq=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Mq(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pq(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return W.createElement(Wq,this.props)}}])&&Oq(n.prototype,r),o&&Oq(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(W.Component);function Uq(){return Uq=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Uq.apply(this,arguments)}function Hq(e){return Hq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hq(e)}function Gq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gq(Object(n),!0).forEach((function(t){Jq(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gq(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Kq(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,eK(r.key),r)}}function Xq(e,t,n){return t=Qq(t),function(e,t){if(t&&("object"===Hq(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Yq()?Reflect.construct(t,n||[],Qq(e).constructor):t.apply(e,n))}function Yq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Yq=function(){return!!e})()}function Qq(e){return Qq=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Qq(e)}function Zq(e,t){return Zq=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Zq(e,t)}function Jq(e,t,n){return(t=eK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eK(e){var t=function(e,t){if("object"!=Hq(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Hq(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Hq(t)?t:t+""}_q(Vq,"displayName","ReferenceLine"),_q(Vq,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});var tK=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Xq(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zq(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,n=e.x1,r=e.x2,o=e.y1,a=e.y2,i=e.className,s=e.alwaysShow,l=e.clipPathId;oP(void 0===s,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var u=ED(n),c=ED(r),d=ED(o),p=ED(a),h=this.props.shape;if(!u&&!c&&!d&&!p&&!h)return null;var f=function(e,t,n,r,o){var a=o.x1,i=o.x2,s=o.y1,l=o.y2,u=o.xAxis,c=o.yAxis;if(!u||!c)return null;var d=ZG({x:u.scale,y:c.scale}),p={x:e?d.x.apply(a,{position:"start"}):d.x.rangeMin,y:n?d.y.apply(s,{position:"start"}):d.y.rangeMin},h={x:t?d.x.apply(i,{position:"end"}):d.x.rangeMax,y:r?d.y.apply(l,{position:"end"}):d.y.rangeMax};return!fH(o,"discard")||d.isInRange(p)&&d.isInRange(h)?YG(p,h):null}(u,c,d,p,this.props);if(!f&&!h)return null;var m=fH(this.props,"hidden")?"url(#".concat(l,")"):void 0;return W.createElement(mR,{className:(0,Qt.A)("recharts-reference-area",i)},t.renderRect(h,qq(qq({clipPath:m},oR(this.props,!0)),f)),pH.renderCallByParent(this.props,f))}}])&&Kq(n.prototype,r),o&&Kq(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(W.Component);function nK(e){return function(e){if(Array.isArray(e))return rK(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return rK(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rK(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rK(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Jq(tK,"displayName","ReferenceArea"),Jq(tK,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1}),Jq(tK,"renderRect",(function(e,t){return W.isValidElement(e)?W.cloneElement(e,t):aD()(e)?e(t):W.createElement(o_,Uq({},t,{className:"recharts-reference-area-rect"}))}));var oK=function(e,t,n,r,o){var a=JD(e,Vq),i=JD(e,cq),s=[].concat(nK(a),nK(i)),l=JD(e,tK),u="".concat(r,"Id"),c=r[0],d=t;if(s.length&&(d=s.reduce((function(e,t){if(t.props[u]===n&&fH(t.props,"extendDomain")&&ID(t.props[c])){var r=t.props[c];return[Math.min(e[0],r),Math.max(e[1],r)]}return e}),d)),l.length){var p="".concat(c,"1"),h="".concat(c,"2");d=l.reduce((function(e,t){if(t.props[u]===n&&fH(t.props,"extendDomain")&&ID(t.props[p])&&ID(t.props[h])){var r=t.props[p],o=t.props[h];return[Math.min(e[0],r,o),Math.max(e[1],r,o)]}return e}),d)}return o&&o.length&&(d=o.reduce((function(e,t){return ID(t)?[Math.min(e[0],t),Math.max(e[1],t)]:e}),d)),d},aK=n(7283),iK=new(n.n(aK)()),sK="recharts.syncMouseEvents";function lK(e){return lK="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lK(e)}function uK(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,dK(r.key),r)}}function cK(e,t,n){return(t=dK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dK(e){var t=function(e,t){if("object"!=lK(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=lK(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==lK(t)?t:t+""}var pK=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),cK(this,"activeIndex",0),cK(this,"coordinateList",[]),cK(this,"layout","horizontal")},(t=[{key:"setDetails",value:function(e){var t,n=e.coordinateList,r=void 0===n?null:n,o=e.container,a=void 0===o?null:o,i=e.layout,s=void 0===i?null:i,l=e.offset,u=void 0===l?null:l,c=e.mouseHandlerCallback,d=void 0===c?null:c;this.coordinateList=null!==(t=null!==r&&void 0!==r?r:this.coordinateList)&&void 0!==t?t:[],this.container=null!==a&&void 0!==a?a:this.container,this.layout=null!==s&&void 0!==s?s:this.layout,this.offset=null!==u&&void 0!==u?u:this.offset,this.mouseHandlerCallback=null!==d&&void 0!==d?d:this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(e){if(0!==this.coordinateList.length)switch(e.key){case"ArrowRight":if("horizontal"!==this.layout)return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break;case"ArrowLeft":if("horizontal"!==this.layout)return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse()}}},{key:"setIndex",value:function(e){this.activeIndex=e}},{key:"spoofMouse",value:function(){var e,t;if("horizontal"===this.layout&&0!==this.coordinateList.length){var n=this.container.getBoundingClientRect(),r=n.x,o=n.y,a=n.height,i=this.coordinateList[this.activeIndex].coordinate,s=(null===(e=window)||void 0===e?void 0:e.scrollX)||0,l=(null===(t=window)||void 0===t?void 0:t.scrollY)||0,u=r+i+s,c=o+this.offset.top+a/2+l;this.mouseHandlerCallback({pageX:u,pageY:c})}}}])&&uK(e.prototype,t),n&&uK(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();function hK(){}function fK(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function mK(e){this._context=e}function gK(e){this._context=e}function yK(e){this._context=e}mK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:fK(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:fK(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},gK.prototype={areaStart:hK,areaEnd:hK,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:fK(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},yK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:fK(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};class vK{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}function bK(e){this._context=e}function xK(e){this._context=e}function wK(e){return new xK(e)}function kK(e){return e<0?-1:1}function SK(e,t,n){var r=e._x1-e._x0,o=t-e._x1,a=(e._y1-e._y0)/(r||o<0&&-0),i=(n-e._y1)/(o||r<0&&-0),s=(a*o+i*r)/(r+o);return(kK(a)+kK(i))*Math.min(Math.abs(a),Math.abs(i),.5*Math.abs(s))||0}function AK(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function CK(e,t,n){var r=e._x0,o=e._y0,a=e._x1,i=e._y1,s=(a-r)/3;e._context.bezierCurveTo(r+s,o+s*t,a-s,i-s*n,a,i)}function TK(e){this._context=e}function IK(e){this._context=new EK(e)}function EK(e){this._context=e}function NK(e){this._context=e}function OK(e){var t,n,r=e.length-1,o=new Array(r),a=new Array(r),i=new Array(r);for(o[0]=0,a[0]=2,i[0]=e[0]+2*e[1],t=1;t<r-1;++t)o[t]=1,a[t]=4,i[t]=4*e[t]+2*e[t+1];for(o[r-1]=2,a[r-1]=7,i[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=o[t]/a[t-1],a[t]-=n,i[t]-=n*i[t-1];for(o[r-1]=i[r-1]/a[r-1],t=r-2;t>=0;--t)o[t]=(i[t]-o[t+1])/a[t];for(a[r-1]=(e[r]+o[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-o[t+1];return[o,a]}function MK(e,t){this._context=e,this._t=t}function DK(e){return e[0]}function RK(e){return e[1]}function PK(e,t){var n=NP(!0),r=null,o=wK,a=null,i=jP(s);function s(s){var l,u,c,d=(s=QW(s)).length,p=!1;for(null==r&&(a=o(c=i())),l=0;l<=d;++l)!(l<d&&n(u=s[l],l,s))===p&&((p=!p)?a.lineStart():a.lineEnd()),p&&a.point(+e(u,l,s),+t(u,l,s));if(c)return a=null,c+""||null}return e="function"===typeof e?e:void 0===e?DK:NP(e),t="function"===typeof t?t:void 0===t?RK:NP(t),s.x=function(t){return arguments.length?(e="function"===typeof t?t:NP(+t),s):e},s.y=function(e){return arguments.length?(t="function"===typeof e?e:NP(+e),s):t},s.defined=function(e){return arguments.length?(n="function"===typeof e?e:NP(!!e),s):n},s.curve=function(e){return arguments.length?(o=e,null!=r&&(a=o(r)),s):o},s.context=function(e){return arguments.length?(null==e?r=a=null:a=o(r=e),s):r},s}function $K(e,t,n){var r=null,o=NP(!0),a=null,i=wK,s=null,l=jP(u);function u(u){var c,d,p,h,f,m=(u=QW(u)).length,g=!1,y=new Array(m),v=new Array(m);for(null==a&&(s=i(f=l())),c=0;c<=m;++c){if(!(c<m&&o(h=u[c],c,u))===g)if(g=!g)d=c,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),p=c-1;p>=d;--p)s.point(y[p],v[p]);s.lineEnd(),s.areaEnd()}g&&(y[c]=+e(h,c,u),v[c]=+t(h,c,u),s.point(r?+r(h,c,u):y[c],n?+n(h,c,u):v[c]))}if(f)return s=null,f+""||null}function c(){return PK().defined(o).curve(i).context(a)}return e="function"===typeof e?e:void 0===e?DK:NP(+e),t="function"===typeof t?t:NP(void 0===t?0:+t),n="function"===typeof n?n:void 0===n?RK:NP(+n),u.x=function(t){return arguments.length?(e="function"===typeof t?t:NP(+t),r=null,u):e},u.x0=function(t){return arguments.length?(e="function"===typeof t?t:NP(+t),u):e},u.x1=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:NP(+e),u):r},u.y=function(e){return arguments.length?(t="function"===typeof e?e:NP(+e),n=null,u):t},u.y0=function(e){return arguments.length?(t="function"===typeof e?e:NP(+e),u):t},u.y1=function(e){return arguments.length?(n=null==e?null:"function"===typeof e?e:NP(+e),u):n},u.lineX0=u.lineY0=function(){return c().x(e).y(t)},u.lineY1=function(){return c().x(e).y(n)},u.lineX1=function(){return c().x(r).y(t)},u.defined=function(e){return arguments.length?(o="function"===typeof e?e:NP(!!e),u):o},u.curve=function(e){return arguments.length?(i=e,null!=a&&(s=i(a)),u):i},u.context=function(e){return arguments.length?(null==e?a=s=null:s=i(a=e),u):a},u}function jK(e){return jK="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jK(e)}function _K(){return _K=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_K.apply(this,arguments)}function FK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function LK(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?FK(Object(n),!0).forEach((function(t){zK(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FK(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zK(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=jK(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=jK(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==jK(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}bK.prototype={areaStart:hK,areaEnd:hK,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},xK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},TK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:CK(this,this._t0,AK(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,CK(this,AK(this,n=SK(this,e,t)),n);break;default:CK(this,this._t0,n=SK(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(IK.prototype=Object.create(TK.prototype)).point=function(e,t){TK.prototype.point.call(this,t,e)},EK.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,o,a){this._context.bezierCurveTo(t,e,r,n,a,o)}},NK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=OK(e),o=OK(t),a=0,i=1;i<n;++a,++i)this._context.bezierCurveTo(r[0][a],o[0][a],r[1][a],o[1][a],e[i],t[i]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},MK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var BK={curveBasisClosed:function(e){return new gK(e)},curveBasisOpen:function(e){return new yK(e)},curveBasis:function(e){return new mK(e)},curveBumpX:function(e){return new vK(e,!0)},curveBumpY:function(e){return new vK(e,!1)},curveLinearClosed:function(e){return new bK(e)},curveLinear:wK,curveMonotoneX:function(e){return new TK(e)},curveMonotoneY:function(e){return new IK(e)},curveNatural:function(e){return new NK(e)},curveStep:function(e){return new MK(e,.5)},curveStepAfter:function(e){return new MK(e,1)},curveStepBefore:function(e){return new MK(e,0)}},WK=function(e){return e.x===+e.x&&e.y===+e.y},VK=function(e){return e.x},UK=function(e){return e.y},HK=function(e){var t,n=e.type,r=void 0===n?"linear":n,o=e.points,a=void 0===o?[]:o,i=e.baseLine,s=e.layout,l=e.connectNulls,u=void 0!==l&&l,c=function(e,t){if(aD()(e))return e;var n="curve".concat(iP()(e));return"curveMonotone"!==n&&"curveBump"!==n||!t?BK[n]||wK:BK["".concat(n).concat("vertical"===t?"Y":"X")]}(r,s),d=u?a.filter((function(e){return WK(e)})):a;if(Array.isArray(i)){var p=u?i.filter((function(e){return WK(e)})):i,h=d.map((function(e,t){return LK(LK({},e),{},{base:p[t]})}));return(t="vertical"===s?$K().y(UK).x1(VK).x0((function(e){return e.base.x})):$K().x(VK).y1(UK).y0((function(e){return e.base.y}))).defined(WK).curve(c),t(h)}return(t="vertical"===s&&ID(i)?$K().y(UK).x1(VK).x0(i):ID(i)?$K().x(VK).y1(UK).y0(i):PK().x(VK).y(UK)).defined(WK).curve(c),t(d)},GK=function(e){var t=e.className,n=e.points,r=e.path,o=e.pathRef;if((!n||!n.length)&&!r)return null;var a=n&&n.length?HK(e):r;return W.createElement("path",_K({},oR(e,!1),WD(e),{className:(0,Qt.A)("recharts-curve",t),d:a,ref:o}))};function qK(e){return qK="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qK(e)}var KK=["x","y","top","left","width","height","className"];function XK(){return XK=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},XK.apply(this,arguments)}function YK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function QK(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=qK(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=qK(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==qK(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZK(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var JK=function(e,t,n,r,o,a){return"M".concat(e,",").concat(o,"v").concat(r,"M").concat(a,",").concat(t,"h").concat(n)},eX=function(e){var t=e.x,n=void 0===t?0:t,r=e.y,o=void 0===r?0:r,a=e.top,i=void 0===a?0:a,s=e.left,l=void 0===s?0:s,u=e.width,c=void 0===u?0:u,d=e.height,p=void 0===d?0:d,h=e.className,f=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?YK(Object(n),!0).forEach((function(t){QK(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YK(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({x:n,y:o,top:i,left:l,width:c,height:p},ZK(e,KK));return ID(n)&&ID(o)&&ID(c)&&ID(p)&&ID(i)&&ID(l)?W.createElement("path",XK({},oR(f,!0),{className:(0,Qt.A)("recharts-cross",h),d:JK(n,o,c,p,i,l)})):null};function tX(e){var t=e.cx,n=e.cy,r=e.radius,o=e.startAngle,a=e.endAngle;return{points:[ZU(t,n,r,o),ZU(t,n,r,a)],cx:t,cy:n,radius:r,startAngle:o,endAngle:a}}function nX(e,t,n){var r,o,a,i;if("horizontal"===e)a=r=t.x,o=n.top,i=n.top+n.height;else if("vertical"===e)i=o=t.y,r=n.left,a=n.left+n.width;else if(null!=t.cx&&null!=t.cy){if("centric"!==e)return tX(t);var s=t.cx,l=t.cy,u=t.innerRadius,c=t.outerRadius,d=t.angle,p=ZU(s,l,u,d),h=ZU(s,l,c,d);r=p.x,o=p.y,a=h.x,i=h.y}return[{x:r,y:o},{x:a,y:i}]}function rX(e){return rX="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rX(e)}function oX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function aX(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oX(Object(n),!0).forEach((function(t){iX(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oX(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function iX(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=rX(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=rX(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==rX(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sX(e){var t,n,r,o=e.element,a=e.tooltipEventType,i=e.isActive,s=e.activeCoordinate,l=e.activePayload,u=e.offset,c=e.activeTooltipIndex,d=e.tooltipAxisBandSize,p=e.layout,h=e.chartName,f=null!==(t=o.props.cursor)&&void 0!==t?t:null===(n=o.type.defaultProps)||void 0===n?void 0:n.cursor;if(!o||!f||!i||!s||"ScatterChart"!==h&&"axis"!==a)return null;var m=GK;if("ScatterChart"===h)r=s,m=eX;else if("BarChart"===h)r=function(e,t,n,r){var o=r/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-o:n.left+.5,y:"horizontal"===e?n.top+.5:t.y-o,width:"horizontal"===e?r:n.width-1,height:"horizontal"===e?n.height-1:r}}(p,s,u,d),m=o_;else if("radial"===p){var g=tX(s),y=g.cx,v=g.cy,b=g.radius;r={cx:y,cy:v,startAngle:g.startAngle,endAngle:g.endAngle,innerRadius:b,outerRadius:b},m=nG}else r={points:nX(p,s,u)},m=GK;var x=aX(aX(aX(aX({stroke:"#ccc",pointerEvents:"none"},u),r),oR(f,!1)),{},{payload:l,payloadIndex:c,className:(0,Qt.A)("recharts-tooltip-cursor",f.className)});return(0,W.isValidElement)(f)?(0,W.cloneElement)(f,x):(0,W.createElement)(m,x)}var lX=["item"],uX=["children","className","width","height","style","compact","title","desc"];function cX(e){return cX="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cX(e)}function dX(){return dX=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dX.apply(this,arguments)}function pX(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return s}}(e,t)||xX(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hX(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function fX(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,CX(r.key),r)}}function mX(e,t,n){return t=yX(t),function(e,t){if(t&&("object"===cX(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,gX()?Reflect.construct(t,n||[],yX(e).constructor):t.apply(e,n))}function gX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(gX=function(){return!!e})()}function yX(e){return yX=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},yX(e)}function vX(e,t){return vX=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},vX(e,t)}function bX(e){return function(e){if(Array.isArray(e))return wX(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||xX(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xX(e,t){if(e){if("string"===typeof e)return wX(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wX(e,t):void 0}}function wX(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function kX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function SX(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kX(Object(n),!0).forEach((function(t){AX(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kX(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function AX(e,t,n){return(t=CX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CX(e){var t=function(e,t){if("object"!=cX(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=cX(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==cX(t)?t:t+""}var TX={xAxis:["bottom","top"],yAxis:["left","right"]},IX={width:"100%",height:"100%"},EX={x:0,y:0};function NX(e){return e}var OX=function(e,t){var n=t.graphicalItems,r=t.dataStartIndex,o=t.dataEndIndex,a=(null!==n&&void 0!==n?n:[]).reduce((function(e,t){var n=t.props.data;return n&&n.length?[].concat(bX(e),bX(n)):e}),[]);return a.length>0?a:e&&e.length&&ID(r)&&ID(o)?e.slice(r,o+1):[]};function MX(e){return"number"===e?[0,"auto"]:void 0}var DX=function(e,t,n,r){var o=e.graphicalItems,a=e.tooltipAxis,i=OX(t,e);return n<0||!o||!o.length||n>=i.length?null:o.reduce((function(o,s){var l,u,c=null!==(l=s.props.data)&&void 0!==l?l:t;(c&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(c=c.slice(e.dataStartIndex,e.dataEndIndex+1)),a.dataKey&&!a.allowDuplicatedCategory)?u=PD(void 0===c?i:c,a.dataKey,r):u=c&&c[n]||i[n];return u?[].concat(bX(o),[IU(s,u)]):o}),[])},RX=function(e,t,n,r){var o=r||{x:e.chartX,y:e.chartY},a=function(e,t){return"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius}(o,n),i=e.orderedTooltipTicks,s=e.tooltipAxis,l=e.tooltipTicks,u=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=-1,i=null!==(t=null===n||void 0===n?void 0:n.length)&&void 0!==t?t:0;if(i<=1)return 0;if(o&&"angleAxis"===o.axisType&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var s=o.range,l=0;l<i;l++){var u=l>0?r[l-1].coordinate:r[i-1].coordinate,c=r[l].coordinate,d=l>=i-1?r[0].coordinate:r[l+1].coordinate,p=void 0;if(CD(c-u)!==CD(d-c)){var h=[];if(CD(d-c)===CD(s[1]-s[0])){p=d;var f=c+s[1]-s[0];h[0]=Math.min(f,(f+u)/2),h[1]=Math.max(f,(f+u)/2)}else{p=u;var m=d+s[1]-s[0];h[0]=Math.min(c,(m+c)/2),h[1]=Math.max(c,(m+c)/2)}var g=[Math.min(c,(p+c)/2),Math.max(c,(p+c)/2)];if(e>g[0]&&e<=g[1]||e>=h[0]&&e<=h[1]){a=r[l].index;break}}else{var y=Math.min(u,d),v=Math.max(u,d);if(e>(y+c)/2&&e<=(v+c)/2){a=r[l].index;break}}}else for(var b=0;b<i;b++)if(0===b&&e<=(n[b].coordinate+n[b+1].coordinate)/2||b>0&&b<i-1&&e>(n[b].coordinate+n[b-1].coordinate)/2&&e<=(n[b].coordinate+n[b+1].coordinate)/2||b===i-1&&e>(n[b].coordinate+n[b-1].coordinate)/2){a=n[b].index;break}return a}(a,i,l,s);if(u>=0&&l){var c=l[u]&&l[u].value,d=DX(e,t,u,c),p=function(e,t,n,r){var o=t.find((function(e){return e&&e.index===n}));if(o){if("horizontal"===e)return{x:o.coordinate,y:r.y};if("vertical"===e)return{x:r.x,y:o.coordinate};if("centric"===e){var a=o.coordinate,i=r.radius;return SX(SX(SX({},r),ZU(r.cx,r.cy,i,a)),{},{angle:a,radius:i})}var s=o.coordinate,l=r.angle;return SX(SX(SX({},r),ZU(r.cx,r.cy,s,l)),{},{angle:l,radius:s})}return EX}(n,i,u,o);return{activeTooltipIndex:u,activeLabel:c,activePayload:d,activeCoordinate:p}}return null},PX=function(e,t){var n=t.axes,r=t.graphicalItems,o=t.axisType,a=t.axisIdKey,i=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,u=e.layout,c=e.children,d=e.stackOffset,p=dU(u,o);return n.reduce((function(t,n){var h,f=void 0!==n.type.defaultProps?SX(SX({},n.type.defaultProps),n.props):n.props,m=f.type,g=f.dataKey,y=f.allowDataOverflow,v=f.allowDuplicatedCategory,b=f.scale,x=f.ticks,w=f.includeHidden,k=f[a];if(t[k])return t;var S,A,C,T=OX(e.data,{graphicalItems:r.filter((function(e){var t;return(a in e.props?e.props[a]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[a])===k})),dataStartIndex:s,dataEndIndex:l}),I=T.length;(function(e,t,n){if("number"===n&&!0===t&&Array.isArray(e)){var r=null===e||void 0===e?void 0:e[0],o=null===e||void 0===e?void 0:e[1];if(r&&o&&ID(r)&&ID(o))return!0}return!1})(f.domain,y,m)&&(S=AU(f.domain,null,y),!p||"number"!==m&&"auto"===b||(C=sU(T,g,"category")));var E=MX(m);if(!S||0===S.length){var N,O=null!==(N=f.domain)&&void 0!==N?N:E;if(g){if(S=sU(T,g,m),"category"===m&&p){var M=function(e){if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++){if(n[e[r]])return!0;n[e[r]]=!0}return!1}(S);v&&M?(A=S,S=sD()(0,I)):v||(S=TU(O,S,n).reduce((function(e,t){return e.indexOf(t)>=0?e:[].concat(bX(e),[t])}),[]))}else if("category"===m)S=v?S.filter((function(e){return""!==e&&!rD()(e)})):TU(O,S,n).reduce((function(e,t){return e.indexOf(t)>=0||""===t||rD()(t)?e:[].concat(bX(e),[t])}),[]);else if("number"===m){var D=function(e,t,n,r,o){var a=t.map((function(t){return uU(e,t,n,o,r)})).filter((function(e){return!rD()(e)}));return a&&a.length?a.reduce((function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}),[1/0,-1/0]):null}(T,r.filter((function(e){var t,n,r=a in e.props?e.props[a]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[a],o="hide"in e.props?e.props.hide:null===(n=e.type.defaultProps)||void 0===n?void 0:n.hide;return r===k&&(w||!o)})),g,o,u);D&&(S=D)}!p||"number"!==m&&"auto"===b||(C=sU(T,g,"category"))}else S=p?sD()(0,I):i&&i[k]&&i[k].hasStack&&"number"===m?"expand"===d?[0,1]:wU(i[k].stackGroups,s,l):cU(T,r.filter((function(e){var t=a in e.props?e.props[a]:e.type.defaultProps[a],n="hide"in e.props?e.props.hide:e.type.defaultProps.hide;return t===k&&(w||!n)})),m,u,!0);if("number"===m)S=oK(c,S,k,o,x),O&&(S=AU(O,S,y));else if("category"===m&&O){var R=O;S.every((function(e){return R.indexOf(e)>=0}))&&(S=R)}}return SX(SX({},t),{},AX({},k,SX(SX({},f),{},{axisType:o,domain:S,categoricalDomain:C,duplicateDomain:A,originalDomain:null!==(h=f.domain)&&void 0!==h?h:E,isCategorical:p,layout:u})))}),{})},$X=function(e,t){var n=t.axisType,r=void 0===n?"xAxis":n,o=t.AxisComp,a=t.graphicalItems,i=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,u=e.children,c="".concat(r,"Id"),d=JD(u,o),p={};return d&&d.length?p=PX(e,{axes:d,graphicalItems:a,axisType:r,axisIdKey:c,stackGroups:i,dataStartIndex:s,dataEndIndex:l}):a&&a.length&&(p=function(e,t){var n=t.graphicalItems,r=t.Axis,o=t.axisType,a=t.axisIdKey,i=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,u=e.layout,c=e.children,d=OX(e.data,{graphicalItems:n,dataStartIndex:s,dataEndIndex:l}),p=d.length,h=dU(u,o),f=-1;return n.reduce((function(e,t){var m,g=(void 0!==t.type.defaultProps?SX(SX({},t.type.defaultProps),t.props):t.props)[a],y=MX("number");return e[g]?e:(f++,h?m=sD()(0,p):i&&i[g]&&i[g].hasStack?(m=wU(i[g].stackGroups,s,l),m=oK(c,m,g,o)):(m=AU(y,cU(d,n.filter((function(e){var t,n,r=a in e.props?e.props[a]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[a],o="hide"in e.props?e.props.hide:null===(n=e.type.defaultProps)||void 0===n?void 0:n.hide;return r===g&&!o})),"number",u),r.defaultProps.allowDataOverflow),m=oK(c,m,g,o)),SX(SX({},e),{},AX({},g,SX(SX({axisType:o},r.defaultProps),{},{hide:!0,orientation:uD()(TX,"".concat(o,".").concat(f%2),null),domain:m,originalDomain:y,isCategorical:h,layout:u}))))}),{})}(e,{Axis:o,graphicalItems:a,axisType:r,axisIdKey:c,stackGroups:i,dataStartIndex:s,dataEndIndex:l})),p},jX=function(e){var t=e.children,n=e.defaultShowTooltip,r=eR(t,HU),o=0,a=0;return e.data&&0!==e.data.length&&(a=e.data.length-1),r&&r.props&&(r.props.startIndex>=0&&(o=r.props.startIndex),r.props.endIndex>=0&&(a=r.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:Boolean(n)}},_X=function(e){return"horizontal"===e?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:"vertical"===e?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:"centric"===e?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},FX=function(e,t){var n=e.props,r=(e.graphicalItems,e.xAxisMap),o=void 0===r?{}:r,a=e.yAxisMap,i=void 0===a?{}:a,s=n.width,l=n.height,u=n.children,c=n.margin||{},d=eR(u,HU),p=eR(u,v$),h=Object.keys(i).reduce((function(e,t){var n=i[t],r=n.orientation;return n.mirror||n.hide?e:SX(SX({},e),{},AX({},r,e[r]+n.width))}),{left:c.left||0,right:c.right||0}),f=Object.keys(o).reduce((function(e,t){var n=o[t],r=n.orientation;return n.mirror||n.hide?e:SX(SX({},e),{},AX({},r,uD()(e,"".concat(r))+n.height))}),{top:c.top||0,bottom:c.bottom||0}),m=SX(SX({},f),h),g=m.bottom;d&&(m.bottom+=d.props.height||HU.defaultProps.height),p&&t&&(m=function(e,t,n,r){var o=n.children,a=n.width,i=n.margin,s=a-(i.left||0)-(i.right||0),l=JV({children:o,legendWidth:s});if(l){var u=r||{},c=u.width,d=u.height,p=l.align,h=l.verticalAlign,f=l.layout;if(("vertical"===f||"horizontal"===f&&"middle"===h)&&"center"!==p&&ID(e[p]))return oU(oU({},e),{},aU({},p,e[p]+(c||0)));if(("horizontal"===f||"vertical"===f&&"center"===p)&&"middle"!==h&&ID(e[h]))return oU(oU({},e),{},aU({},h,e[h]+(d||0)))}return e}(m,0,n,t));var y=s-m.left-m.right,v=l-m.top-m.bottom;return SX(SX({brushBottom:g},m),{},{width:Math.max(y,0),height:Math.max(v,0)})},LX=function(e,t){return"xAxis"===t?e[t].width:"yAxis"===t?e[t].height:void 0},zX=function(e){var t=e.chartName,n=e.GraphicalChild,r=e.defaultTooltipEventType,o=void 0===r?"axis":r,a=e.validateTooltipEventTypes,i=void 0===a?["axis"]:a,s=e.axisComponents,l=e.legendContent,u=e.formatAxisMap,c=e.defaultProps,d=function(e,t){var n=t.graphicalItems,r=t.stackGroups,o=t.offset,a=t.updateId,i=t.dataStartIndex,l=t.dataEndIndex,u=e.barSize,c=e.layout,d=e.barGap,p=e.barCategoryGap,h=e.maxBarSize,f=_X(c),m=f.numericAxisName,g=f.cateAxisName,y=function(e){return!(!e||!e.length)&&e.some((function(e){var t=XD(e&&e.type);return t&&t.indexOf("Bar")>=0}))}(n),v=[];return n.forEach((function(n,f){var b=OX(e.data,{graphicalItems:[n],dataStartIndex:i,dataEndIndex:l}),x=void 0!==n.type.defaultProps?SX(SX({},n.type.defaultProps),n.props):n.props,w=x.dataKey,k=x.maxBarSize,S=x["".concat(m,"Id")],A=x["".concat(g,"Id")],C=s.reduce((function(e,n){var r=t["".concat(n.axisType,"Map")],o=x["".concat(n.axisType,"Id")];r&&r[o]||"zAxis"===n.axisType||mD(!1);var a=r[o];return SX(SX({},e),{},AX(AX({},n.axisType,a),"".concat(n.axisType,"Ticks"),hU(a)))}),{}),T=C[g],I=C["".concat(g,"Ticks")],E=r&&r[S]&&r[S].hasStack&&function(e,t){var n,r=(null!==(n=e.type)&&void 0!==n&&n.defaultProps?oU(oU({},e.type.defaultProps),e.props):e.props).stackId;if(ED(r)){var o=t[r];if(o){var a=o.items.indexOf(e);return a>=0?o.stackedData[a]:null}}return null}(n,r[S].stackGroups),N=XD(n.type).indexOf("Bar")>=0,O=CU(T,I),M=[],D=y&&function(e){var t=e.barSize,n=e.totalSize,r=e.stackGroups,o=void 0===r?{}:r;if(!o)return{};for(var a={},i=Object.keys(o),s=0,l=i.length;s<l;s++)for(var u=o[i[s]].stackGroups,c=Object.keys(u),d=0,p=c.length;d<p;d++){var h=u[c[d]],f=h.items,m=h.cateAxisId,g=f.filter((function(e){return XD(e.type).indexOf("Bar")>=0}));if(g&&g.length){var y=g[0].type.defaultProps,v=void 0!==y?oU(oU({},y),g[0].props):g[0].props,b=v.barSize,x=v[m];a[x]||(a[x]=[]);var w=rD()(b)?t:b;a[x].push({item:g[0],stackList:g.slice(1),barSize:rD()(w)?void 0:MD(w,n,0)})}}return a}({barSize:u,stackGroups:r,totalSize:LX(C,g)});if(N){var R,P,$=rD()(k)?h:k,j=null!==(R=null!==(P=CU(T,I,!0))&&void 0!==P?P:$)&&void 0!==R?R:0;M=function(e){var t=e.barGap,n=e.barCategoryGap,r=e.bandSize,o=e.sizeList,a=void 0===o?[]:o,i=e.maxBarSize,s=a.length;if(s<1)return null;var l,u=MD(t,r,0,!0),c=[];if(a[0].barSize===+a[0].barSize){var d=!1,p=r/s,h=a.reduce((function(e,t){return e+t.barSize||0}),0);(h+=(s-1)*u)>=r&&(h-=(s-1)*u,u=0),h>=r&&p>0&&(d=!0,h=s*(p*=.9));var f={offset:((r-h)/2|0)-u,size:0};l=a.reduce((function(e,t){var n={item:t.item,position:{offset:f.offset+f.size+u,size:d?p:t.barSize}},r=[].concat(tU(e),[n]);return f=r[r.length-1].position,t.stackList&&t.stackList.length&&t.stackList.forEach((function(e){r.push({item:e,position:f})})),r}),c)}else{var m=MD(n,r,0,!0);r-2*m-(s-1)*u<=0&&(u=0);var g=(r-2*m-(s-1)*u)/s;g>1&&(g>>=0);var y=i===+i?Math.min(g,i):g;l=a.reduce((function(e,t,n){var r=[].concat(tU(e),[{item:t.item,position:{offset:m+(g+u)*n+(g-y)/2,size:y}}]);return t.stackList&&t.stackList.length&&t.stackList.forEach((function(e){r.push({item:e,position:r[r.length-1].position})})),r}),c)}return l}({barGap:d,barCategoryGap:p,bandSize:j!==O?j:O,sizeList:D[A],maxBarSize:$}),j!==O&&(M=M.map((function(e){return SX(SX({},e),{},{position:SX(SX({},e.position),{},{offset:e.position.offset-j/2})})})))}var _,F,L=n&&n.type&&n.type.getComposedData;L&&v.push({props:SX(SX({},L(SX(SX({},C),{},{displayedData:b,props:e,dataKey:w,item:n,bandSize:O,barPosition:M,offset:o,stackedData:E,layout:c,dataStartIndex:i,dataEndIndex:l}))),{},AX(AX(AX({key:n.key||"item-".concat(f)},m,C[m]),g,C[g]),"animationId",a)),childIndex:(_=n,F=e.children,ZD(F).indexOf(_)),item:n})})),v},p=function(e,r){var o=e.props,a=e.dataStartIndex,i=e.dataEndIndex,l=e.updateId;if(!tR({props:o}))return null;var c=o.children,p=o.layout,h=o.stackOffset,f=o.data,m=o.reverseStackOrder,g=_X(p),y=g.numericAxisName,v=g.cateAxisName,b=JD(c,n),x=function(e,t,n,r,o,a){if(!e)return null;var i=(a?t.reverse():t).reduce((function(e,t){var o,a=null!==(o=t.type)&&void 0!==o&&o.defaultProps?oU(oU({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(a.hide)return e;var s=a[n],l=e[s]||{hasStack:!1,stackGroups:{}};if(ED(i)){var u=l.stackGroups[i]||{numericAxisId:n,cateAxisId:r,items:[]};u.items.push(t),l.hasStack=!0,l.stackGroups[i]=u}else l.stackGroups[OD("_stackId_")]={numericAxisId:n,cateAxisId:r,items:[t]};return oU(oU({},e),{},aU({},s,l))}),{});return Object.keys(i).reduce((function(t,a){var s=i[a];return s.hasStack&&(s.stackGroups=Object.keys(s.stackGroups).reduce((function(t,a){var i=s.stackGroups[a];return oU(oU({},t),{},aU({},a,{numericAxisId:n,cateAxisId:r,items:i.items,stackedData:vU(e,i.items,o)}))}),{})),oU(oU({},t),{},aU({},a,s))}),{})}(f,b,"".concat(y,"Id"),"".concat(v,"Id"),h,m),w=s.reduce((function(e,t){var n="".concat(t.axisType,"Map");return SX(SX({},e),{},AX({},n,$X(o,SX(SX({},t),{},{graphicalItems:b,stackGroups:t.axisType===y&&x,dataStartIndex:a,dataEndIndex:i}))))}),{}),k=FX(SX(SX({},w),{},{props:o,graphicalItems:b}),null===r||void 0===r?void 0:r.legendBBox);Object.keys(w).forEach((function(e){w[e]=u(o,w[e],k,e.replace("Map",""),t)}));var S=function(e){var t=DD(e),n=hU(t,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:dD()(n,(function(e){return e.coordinate})),tooltipAxis:t,tooltipAxisBandSize:CU(t,n)}}(w["".concat(v,"Map")]),A=d(o,SX(SX({},w),{},{dataStartIndex:a,dataEndIndex:i,updateId:l,graphicalItems:b,stackGroups:x,offset:k}));return SX(SX({formattedGraphicalItems:A,graphicalItems:b,offset:k,stackGroups:x},S),w)},h=function(e){function n(e){var r,o,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),AX(a=mX(this,n,[e]),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),AX(a,"accessibilityManager",new pK),AX(a,"handleLegendBBoxUpdate",(function(e){if(e){var t=a.state,n=t.dataStartIndex,r=t.dataEndIndex,o=t.updateId;a.setState(SX({legendBBox:e},p({props:a.props,dataStartIndex:n,dataEndIndex:r,updateId:o},SX(SX({},a.state),{},{legendBBox:e}))))}})),AX(a,"handleReceiveSyncEvent",(function(e,t,n){if(a.props.syncId===e){if(n===a.eventEmitterSymbol&&"function"!==typeof a.props.syncMethod)return;a.applySyncEvent(t)}})),AX(a,"handleBrushChange",(function(e){var t=e.startIndex,n=e.endIndex;if(t!==a.state.dataStartIndex||n!==a.state.dataEndIndex){var r=a.state.updateId;a.setState((function(){return SX({dataStartIndex:t,dataEndIndex:n},p({props:a.props,dataStartIndex:t,dataEndIndex:n,updateId:r},a.state))})),a.triggerSyncEvent({dataStartIndex:t,dataEndIndex:n})}})),AX(a,"handleMouseEnter",(function(e){var t=a.getMouseInfo(e);if(t){var n=SX(SX({},t),{},{isTooltipActive:!0});a.setState(n),a.triggerSyncEvent(n);var r=a.props.onMouseEnter;aD()(r)&&r(n,e)}})),AX(a,"triggeredAfterMouseMove",(function(e){var t=a.getMouseInfo(e),n=t?SX(SX({},t),{},{isTooltipActive:!0}):{isTooltipActive:!1};a.setState(n),a.triggerSyncEvent(n);var r=a.props.onMouseMove;aD()(r)&&r(n,e)})),AX(a,"handleItemMouseEnter",(function(e){a.setState((function(){return{isTooltipActive:!0,activeItem:e,activePayload:e.tooltipPayload,activeCoordinate:e.tooltipPosition||{x:e.cx,y:e.cy}}}))})),AX(a,"handleItemMouseLeave",(function(){a.setState((function(){return{isTooltipActive:!1}}))})),AX(a,"handleMouseMove",(function(e){e.persist(),a.throttleTriggeredAfterMouseMove(e)})),AX(a,"handleMouseLeave",(function(e){a.throttleTriggeredAfterMouseMove.cancel();var t={isTooltipActive:!1};a.setState(t),a.triggerSyncEvent(t);var n=a.props.onMouseLeave;aD()(n)&&n(t,e)})),AX(a,"handleOuterEvent",(function(e){var t,n=function(e){var t=e&&e.type;return t&&KD[t]?KD[t]:null}(e),r=uD()(a.props,"".concat(n));n&&aD()(r)&&r(null!==(t=/.*touch.*/i.test(n)?a.getMouseInfo(e.changedTouches[0]):a.getMouseInfo(e))&&void 0!==t?t:{},e)})),AX(a,"handleClick",(function(e){var t=a.getMouseInfo(e);if(t){var n=SX(SX({},t),{},{isTooltipActive:!0});a.setState(n),a.triggerSyncEvent(n);var r=a.props.onClick;aD()(r)&&r(n,e)}})),AX(a,"handleMouseDown",(function(e){var t=a.props.onMouseDown;aD()(t)&&t(a.getMouseInfo(e),e)})),AX(a,"handleMouseUp",(function(e){var t=a.props.onMouseUp;aD()(t)&&t(a.getMouseInfo(e),e)})),AX(a,"handleTouchMove",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&a.throttleTriggeredAfterMouseMove(e.changedTouches[0])})),AX(a,"handleTouchStart",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&a.handleMouseDown(e.changedTouches[0])})),AX(a,"handleTouchEnd",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&a.handleMouseUp(e.changedTouches[0])})),AX(a,"handleDoubleClick",(function(e){var t=a.props.onDoubleClick;aD()(t)&&t(a.getMouseInfo(e),e)})),AX(a,"handleContextMenu",(function(e){var t=a.props.onContextMenu;aD()(t)&&t(a.getMouseInfo(e),e)})),AX(a,"triggerSyncEvent",(function(e){void 0!==a.props.syncId&&iK.emit(sK,a.props.syncId,e,a.eventEmitterSymbol)})),AX(a,"applySyncEvent",(function(e){var t=a.props,n=t.layout,r=t.syncMethod,o=a.state.updateId,i=e.dataStartIndex,s=e.dataEndIndex;if(void 0!==e.dataStartIndex||void 0!==e.dataEndIndex)a.setState(SX({dataStartIndex:i,dataEndIndex:s},p({props:a.props,dataStartIndex:i,dataEndIndex:s,updateId:o},a.state)));else if(void 0!==e.activeTooltipIndex){var l=e.chartX,u=e.chartY,c=e.activeTooltipIndex,d=a.state,h=d.offset,f=d.tooltipTicks;if(!h)return;if("function"===typeof r)c=r(f,e);else if("value"===r){c=-1;for(var m=0;m<f.length;m++)if(f[m].value===e.activeLabel){c=m;break}}var g=SX(SX({},h),{},{x:h.left,y:h.top}),y=Math.min(l,g.x+g.width),v=Math.min(u,g.y+g.height),b=f[c]&&f[c].value,x=DX(a.state,a.props.data,c),w=f[c]?{x:"horizontal"===n?f[c].coordinate:y,y:"horizontal"===n?v:f[c].coordinate}:EX;a.setState(SX(SX({},e),{},{activeLabel:b,activeCoordinate:w,activePayload:x,activeTooltipIndex:c}))}else a.setState(e)})),AX(a,"renderCursor",(function(e){var n,r=a.state,o=r.isTooltipActive,i=r.activeCoordinate,s=r.activePayload,l=r.offset,u=r.activeTooltipIndex,c=r.tooltipAxisBandSize,d=a.getTooltipEventType(),p=null!==(n=e.props.active)&&void 0!==n?n:o,h=a.props.layout,f=e.key||"_recharts-cursor";return W.createElement(sX,{key:f,activeCoordinate:i,activePayload:s,activeTooltipIndex:u,chartName:t,element:e,isActive:p,layout:h,offset:l,tooltipAxisBandSize:c,tooltipEventType:d})})),AX(a,"renderPolarAxis",(function(e,t,n){var r=uD()(e,"type.axisType"),o=uD()(a.state,"".concat(r,"Map")),i=e.type.defaultProps,s=void 0!==i?SX(SX({},i),e.props):e.props,l=o&&o[s["".concat(r,"Id")]];return(0,W.cloneElement)(e,SX(SX({},l),{},{className:(0,Qt.A)(r,l.className),key:e.key||"".concat(t,"-").concat(n),ticks:hU(l,!0)}))})),AX(a,"renderPolarGrid",(function(e){var t=e.props,n=t.radialLines,r=t.polarAngles,o=t.polarRadius,i=a.state,s=i.radiusAxisMap,l=i.angleAxisMap,u=DD(s),c=DD(l),d=c.cx,p=c.cy,h=c.innerRadius,f=c.outerRadius;return(0,W.cloneElement)(e,{polarAngles:Array.isArray(r)?r:hU(c,!0).map((function(e){return e.coordinate})),polarRadius:Array.isArray(o)?o:hU(u,!0).map((function(e){return e.coordinate})),cx:d,cy:p,innerRadius:h,outerRadius:f,key:e.key||"polar-grid",radialLines:n})})),AX(a,"renderLegend",(function(){var e=a.state.formattedGraphicalItems,t=a.props,n=t.children,r=t.width,o=t.height,i=a.props.margin||{},s=r-(i.left||0)-(i.right||0),u=JV({children:n,formattedGraphicalItems:e,legendWidth:s,legendContent:l});if(!u)return null;var c=u.item,d=hX(u,lX);return(0,W.cloneElement)(c,SX(SX({},d),{},{chartWidth:r,chartHeight:o,margin:i,onBBoxUpdate:a.handleLegendBBoxUpdate}))})),AX(a,"renderTooltip",(function(){var e,t=a.props,n=t.children,r=t.accessibilityLayer,o=eR(n,rP);if(!o)return null;var i=a.state,s=i.isTooltipActive,l=i.activeCoordinate,u=i.activePayload,c=i.activeLabel,d=i.offset,p=null!==(e=o.props.active)&&void 0!==e?e:s;return(0,W.cloneElement)(o,{viewBox:SX(SX({},d),{},{x:d.left,y:d.top}),active:p,label:c,payload:p?u:[],coordinate:l,accessibilityLayer:r})})),AX(a,"renderBrush",(function(e){var t=a.props,n=t.margin,r=t.data,o=a.state,i=o.offset,s=o.dataStartIndex,l=o.dataEndIndex,u=o.updateId;return(0,W.cloneElement)(e,{key:e.key||"_recharts-brush",onChange:mU(a.handleBrushChange,e.props.onChange),data:r,x:ID(e.props.x)?e.props.x:i.left,y:ID(e.props.y)?e.props.y:i.top+i.height+i.brushBottom-(n.bottom||0),width:ID(e.props.width)?e.props.width:i.width,startIndex:s,endIndex:l,updateId:"brush-".concat(u)})})),AX(a,"renderReferenceElement",(function(e,t,n){if(!e)return null;var r=a.clipPathId,o=a.state,i=o.xAxisMap,s=o.yAxisMap,l=o.offset,u=e.type.defaultProps||{},c=e.props,d=c.xAxisId,p=void 0===d?u.xAxisId:d,h=c.yAxisId,f=void 0===h?u.yAxisId:h;return(0,W.cloneElement)(e,{key:e.key||"".concat(t,"-").concat(n),xAxis:i[p],yAxis:s[f],viewBox:{x:l.left,y:l.top,width:l.width,height:l.height},clipPathId:r})})),AX(a,"renderActivePoints",(function(e){var t=e.item,r=e.activePoint,o=e.basePoint,a=e.childIndex,i=e.isRange,s=[],l=t.props.key,u=void 0!==t.item.type.defaultProps?SX(SX({},t.item.type.defaultProps),t.item.props):t.item.props,c=u.activeDot,d=SX(SX({index:a,dataKey:u.dataKey,cx:r.x,cy:r.y,r:4,fill:lU(t.item),strokeWidth:2,stroke:"#fff",payload:r.payload,value:r.value},oR(c,!1)),WD(c));return s.push(n.renderActiveDot(c,d,"".concat(l,"-activePoint-").concat(a))),o?s.push(n.renderActiveDot(c,SX(SX({},d),{},{cx:o.x,cy:o.y}),"".concat(l,"-basePoint-").concat(a))):i&&s.push(null),s})),AX(a,"renderGraphicChild",(function(e,t,n){var r=a.filterFormatItem(e,t,n);if(!r)return null;var o=a.getTooltipEventType(),i=a.state,s=i.isTooltipActive,l=i.tooltipAxis,u=i.activeTooltipIndex,c=i.activeLabel,d=eR(a.props.children,rP),p=r.props,h=p.points,f=p.isRange,m=p.baseLine,g=void 0!==r.item.type.defaultProps?SX(SX({},r.item.type.defaultProps),r.item.props):r.item.props,y=g.activeDot,v=g.hide,b=g.activeBar,x=g.activeShape,w=Boolean(!v&&s&&d&&(y||b||x)),k={};"axis"!==o&&d&&"click"===d.props.trigger?k={onClick:mU(a.handleItemMouseEnter,e.props.onClick)}:"axis"!==o&&(k={onMouseLeave:mU(a.handleItemMouseLeave,e.props.onMouseLeave),onMouseEnter:mU(a.handleItemMouseEnter,e.props.onMouseEnter)});var S=(0,W.cloneElement)(e,SX(SX({},r.props),k));if(w){if(!(u>=0)){var A,C=(null!==(A=a.getItemByXY(a.state.activeCoordinate))&&void 0!==A?A:{graphicalItem:S}).graphicalItem,T=C.item,I=void 0===T?e:T,E=C.childIndex,N=SX(SX(SX({},r.props),k),{},{activeIndex:E});return[(0,W.cloneElement)(I,N),null,null]}var O,M;if(l.dataKey&&!l.allowDuplicatedCategory){var D="function"===typeof l.dataKey?function(e){return"function"===typeof l.dataKey?l.dataKey(e.payload):null}:"payload.".concat(l.dataKey.toString());O=PD(h,D,c),M=f&&m&&PD(m,D,c)}else O=null===h||void 0===h?void 0:h[u],M=f&&m&&m[u];if(x||b){var R=void 0!==e.props.activeIndex?e.props.activeIndex:u;return[(0,W.cloneElement)(e,SX(SX(SX({},r.props),k),{},{activeIndex:R})),null,null]}if(!rD()(O))return[S].concat(bX(a.renderActivePoints({item:r,activePoint:O,basePoint:M,childIndex:u,isRange:f})))}return f?[S,null,null]:[S,null]})),AX(a,"renderCustomized",(function(e,t,n){return(0,W.cloneElement)(e,SX(SX({key:"recharts-customized-".concat(n)},a.props),a.state))})),AX(a,"renderMap",{CartesianGrid:{handler:NX,once:!0},ReferenceArea:{handler:a.renderReferenceElement},ReferenceLine:{handler:NX},ReferenceDot:{handler:a.renderReferenceElement},XAxis:{handler:NX},YAxis:{handler:NX},Brush:{handler:a.renderBrush,once:!0},Bar:{handler:a.renderGraphicChild},Line:{handler:a.renderGraphicChild},Area:{handler:a.renderGraphicChild},Radar:{handler:a.renderGraphicChild},RadialBar:{handler:a.renderGraphicChild},Scatter:{handler:a.renderGraphicChild},Pie:{handler:a.renderGraphicChild},Funnel:{handler:a.renderGraphicChild},Tooltip:{handler:a.renderCursor,once:!0},PolarGrid:{handler:a.renderPolarGrid,once:!0},PolarAngleAxis:{handler:a.renderPolarAxis},PolarRadiusAxis:{handler:a.renderPolarAxis},Customized:{handler:a.renderCustomized}}),a.clipPathId="".concat(null!==(r=e.id)&&void 0!==r?r:OD("recharts"),"-clip"),a.throttleTriggeredAfterMouseMove=hD()(a.triggeredAfterMouseMove,null!==(o=e.throttleDelay)&&void 0!==o?o:1e3/60),a.state={},a}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vX(e,t)}(n,e),r=n,a=[{key:"componentDidMount",value:function(){var e,t;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:null!==(e=this.props.margin.left)&&void 0!==e?e:0,top:null!==(t=this.props.margin.top)&&void 0!==t?t:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var e=this.props,t=e.children,n=e.data,r=e.height,o=e.layout,a=eR(t,rP);if(a){var i=a.props.defaultIndex;if(!("number"!==typeof i||i<0||i>this.state.tooltipTicks.length-1)){var s=this.state.tooltipTicks[i]&&this.state.tooltipTicks[i].value,l=DX(this.state,n,i,s),u=this.state.tooltipTicks[i].coordinate,c=(this.state.offset.top+r)/2,d="horizontal"===o?{x:u,y:c}:{y:u,x:c},p=this.state.formattedGraphicalItems.find((function(e){return"Scatter"===e.item.type.name}));p&&(d=SX(SX({},d),p.props.points[i].tooltipPosition),l=p.props.points[i].tooltipPayload);var h={activeTooltipIndex:i,isTooltipActive:!0,activeLabel:s,activePayload:l,activeCoordinate:d};this.setState(h),this.renderCursor(a),this.accessibilityManager.setIndex(i)}}}},{key:"getSnapshotBeforeUpdate",value:function(e,t){return this.props.accessibilityLayer?(this.state.tooltipTicks!==t.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==e.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==e.margin&&this.accessibilityManager.setDetails({offset:{left:null!==(n=this.props.margin.left)&&void 0!==n?n:0,top:null!==(r=this.props.margin.top)&&void 0!==r?r:0}}),null):null;var n,r}},{key:"componentDidUpdate",value:function(e){aR([eR(e.children,rP)],[eR(this.props.children,rP)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var e=eR(this.props.children,rP);if(e&&"boolean"===typeof e.props.shared){var t=e.props.shared?"axis":"item";return i.indexOf(t)>=0?t:o}return o}},{key:"getMouseInfo",value:function(e){if(!this.container)return null;var t,n=this.container,r=n.getBoundingClientRect(),o={top:(t=r).top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft},a={chartX:Math.round(e.pageX-o.left),chartY:Math.round(e.pageY-o.top)},i=r.width/n.offsetWidth||1,s=this.inRange(a.chartX,a.chartY,i);if(!s)return null;var l=this.state,u=l.xAxisMap,c=l.yAxisMap,d=this.getTooltipEventType(),p=RX(this.state,this.props.data,this.props.layout,s);if("axis"!==d&&u&&c){var h=DD(u).scale,f=DD(c).scale,m=h&&h.invert?h.invert(a.chartX):null,g=f&&f.invert?f.invert(a.chartY):null;return SX(SX({},a),{},{xValue:m,yValue:g},p)}return p?SX(SX({},a),p):null}},{key:"inRange",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=this.props.layout,o=e/n,a=t/n;if("horizontal"===r||"vertical"===r){var i=this.state.offset;return o>=i.left&&o<=i.left+i.width&&a>=i.top&&a<=i.top+i.height?{x:o,y:a}:null}var s=this.state,l=s.angleAxisMap,u=s.radiusAxisMap;if(l&&u){var c=DD(l);return tH({x:o,y:a},c)}return null}},{key:"parseEventsOfWrapper",value:function(){var e=this.props.children,t=this.getTooltipEventType(),n=eR(e,rP),r={};return n&&"axis"===t&&(r="click"===n.props.trigger?{onClick:this.handleClick}:{onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu}),SX(SX({},WD(this.props,this.handleOuterEvent)),r)}},{key:"addListener",value:function(){iK.on(sK,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){iK.removeListener(sK,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(e,t,n){for(var r=this.state.formattedGraphicalItems,o=0,a=r.length;o<a;o++){var i=r[o];if(i.item===e||i.props.key===e.key||t===XD(i.item.type)&&n===i.childIndex)return i}return null}},{key:"renderClipPath",value:function(){var e=this.clipPathId,t=this.state.offset,n=t.left,r=t.top,o=t.height,a=t.width;return W.createElement("defs",null,W.createElement("clipPath",{id:e},W.createElement("rect",{x:n,y:r,height:o,width:a})))}},{key:"getXScales",value:function(){var e=this.state.xAxisMap;return e?Object.entries(e).reduce((function(e,t){var n=pX(t,2),r=n[0],o=n[1];return SX(SX({},e),{},AX({},r,o.scale))}),{}):null}},{key:"getYScales",value:function(){var e=this.state.yAxisMap;return e?Object.entries(e).reduce((function(e,t){var n=pX(t,2),r=n[0],o=n[1];return SX(SX({},e),{},AX({},r,o.scale))}),{}):null}},{key:"getXScaleByAxisId",value:function(e){var t;return null===(t=this.state.xAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getYScaleByAxisId",value:function(e){var t;return null===(t=this.state.yAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getItemByXY",value:function(e){var t=this.state,n=t.formattedGraphicalItems,r=t.activeItem;if(n&&n.length)for(var o=0,a=n.length;o<a;o++){var i=n[o],s=i.props,l=i.item,u=void 0!==l.type.defaultProps?SX(SX({},l.type.defaultProps),l.props):l.props,c=XD(l.type);if("Bar"===c){var d=(s.data||[]).find((function(t){return n_(e,t)}));if(d)return{graphicalItem:i,payload:d}}else if("RadialBar"===c){var p=(s.data||[]).find((function(t){return tH(e,t)}));if(p)return{graphicalItem:i,payload:p}}else if(pG(i,r)||hG(i,r)||fG(i,r)){var h=vG({graphicalItem:i,activeTooltipItem:r,itemData:u.data}),f=void 0===u.activeIndex?h:u.activeIndex;return{graphicalItem:SX(SX({},i),{},{childIndex:f}),payload:fG(i,r)?u.data[h]:i.props.data[h]}}}return null}},{key:"render",value:function(){var e=this;if(!tR(this))return null;var t,n,r=this.props,o=r.children,a=r.className,i=r.width,s=r.height,l=r.style,u=r.compact,c=r.title,d=r.desc,p=hX(r,uX),h=oR(p,!1);if(u)return W.createElement(Aq,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},W.createElement(dR,dX({},h,{width:i,height:s,title:c,desc:d}),this.renderClipPath(),sR(o,this.renderMap)));this.props.accessibilityLayer&&(h.tabIndex=null!==(t=this.props.tabIndex)&&void 0!==t?t:0,h.role=null!==(n=this.props.role)&&void 0!==n?n:"application",h.onKeyDown=function(t){e.accessibilityManager.keyboardEvent(t)},h.onFocus=function(){e.accessibilityManager.focus()});var f=this.parseEventsOfWrapper();return W.createElement(Aq,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},W.createElement("div",dX({className:(0,Qt.A)("recharts-wrapper",a),style:SX({position:"relative",cursor:"default",width:i,height:s},l)},f,{ref:function(t){e.container=t}}),W.createElement(dR,dX({},h,{width:i,height:s,title:c,desc:d,style:IX}),this.renderClipPath(),sR(o,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}],a&&fX(r.prototype,a),s&&fX(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,s}(W.Component);AX(h,"displayName",t),AX(h,"defaultProps",SX({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},c)),AX(h,"getDerivedStateFromProps",(function(e,t){var n=e.dataKey,r=e.data,o=e.children,a=e.width,i=e.height,s=e.layout,l=e.stackOffset,u=e.margin,c=t.dataStartIndex,d=t.dataEndIndex;if(void 0===t.updateId){var h=jX(e);return SX(SX(SX({},h),{},{updateId:0},p(SX(SX({props:e},h),{},{updateId:0}),t)),{},{prevDataKey:n,prevData:r,prevWidth:a,prevHeight:i,prevLayout:s,prevStackOffset:l,prevMargin:u,prevChildren:o})}if(n!==t.prevDataKey||r!==t.prevData||a!==t.prevWidth||i!==t.prevHeight||s!==t.prevLayout||l!==t.prevStackOffset||!jD(u,t.prevMargin)){var f=jX(e),m={chartX:t.chartX,chartY:t.chartY,isTooltipActive:t.isTooltipActive},g=SX(SX({},RX(t,r,s)),{},{updateId:t.updateId+1}),y=SX(SX(SX({},f),m),g);return SX(SX(SX({},y),p(SX({props:e},y),t)),{},{prevDataKey:n,prevData:r,prevWidth:a,prevHeight:i,prevLayout:s,prevStackOffset:l,prevMargin:u,prevChildren:o})}if(!aR(o,t.prevChildren)){var v,b,x,w,k=eR(o,HU),S=k&&null!==(v=null===(b=k.props)||void 0===b?void 0:b.startIndex)&&void 0!==v?v:c,A=k&&null!==(x=null===(w=k.props)||void 0===w?void 0:w.endIndex)&&void 0!==x?x:d,C=S!==c||A!==d,T=!rD()(r)&&!C?t.updateId:t.updateId+1;return SX(SX({updateId:T},p(SX(SX({props:e},t),{},{updateId:T,dataStartIndex:S,dataEndIndex:A}),t)),{},{prevChildren:o,dataStartIndex:S,dataEndIndex:A})}return null})),AX(h,"renderActiveDot",(function(e,t,n){var r;return r=(0,W.isValidElement)(e)?(0,W.cloneElement)(e,t):aD()(e)?e(t):W.createElement(x$,t),W.createElement(mR,{className:"recharts-active-dot",key:n},r)}));var f=(0,W.forwardRef)((function(e,t){return W.createElement(h,dX({},e,{ref:t}))}));return f.displayName=h.displayName,f},BX=["type","layout","connectNulls","ref"],WX=["key"];function VX(e){return VX="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},VX(e)}function UX(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function HX(){return HX=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},HX.apply(this,arguments)}function GX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qX(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?GX(Object(n),!0).forEach((function(t){tY(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GX(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function KX(e){return function(e){if(Array.isArray(e))return XX(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return XX(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return XX(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function XX(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function YX(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,nY(r.key),r)}}function QX(e,t,n){return t=JX(t),function(e,t){if(t&&("object"===VX(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ZX()?Reflect.construct(t,n||[],JX(e).constructor):t.apply(e,n))}function ZX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ZX=function(){return!!e})()}function JX(e){return JX=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},JX(e)}function eY(e,t){return eY=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},eY(e,t)}function tY(e,t,n){return(t=nY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nY(e){var t=function(e,t){if("object"!=VX(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=VX(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==VX(t)?t:t+""}var rY=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return tY(e=QX(this,t,[].concat(r)),"state",{isAnimationFinished:!0,totalLength:0}),tY(e,"generateSimpleStrokeDasharray",(function(e,t){return"".concat(t,"px ").concat(e-t,"px")})),tY(e,"getStrokeDasharray",(function(n,r,o){var a=o.reduce((function(e,t){return e+t}));if(!a)return e.generateSimpleStrokeDasharray(r,n);for(var i=Math.floor(n/a),s=n%a,l=r-n,u=[],c=0,d=0;c<o.length;d+=o[c],++c)if(d+o[c]>s){u=[].concat(KX(o.slice(0,c)),[s-d]);break}var p=u.length%2===0?[0,l]:[l];return[].concat(KX(t.repeat(o,i)),KX(u),p).map((function(e){return"".concat(e,"px")})).join(", ")})),tY(e,"id",OD("recharts-line-")),tY(e,"pathRef",(function(t){e.mainCurve=t})),tY(e,"handleAnimationEnd",(function(){e.setState({isAnimationFinished:!0}),e.props.onAnimationEnd&&e.props.onAnimationEnd()})),tY(e,"handleAnimationStart",(function(){e.setState({isAnimationFinished:!1}),e.props.onAnimationStart&&e.props.onAnimationStart()})),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eY(e,t)}(t,e),n=t,o=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,prevPoints:t.curPoints}:e.points!==t.curPoints?{curPoints:e.points}:null}},{key:"repeat",value:function(e,t){for(var n=e.length%2!==0?[].concat(KX(e),[0]):e,r=[],o=0;o<t;++o)r=[].concat(KX(r),KX(n));return r}},{key:"renderDotItem",value:function(e,t){var n;if(W.isValidElement(e))n=W.cloneElement(e,t);else if(aD()(e))n=e(t);else{var r=t.key,o=UX(t,WX),a=(0,Qt.A)("recharts-line-dot","boolean"!==typeof e?e.className:"");n=W.createElement(x$,HX({key:r},o,{className:a}))}return n}}],(r=[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();this.setState({totalLength:e})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();e!==this.state.totalLength&&this.setState({totalLength:e})}}},{key:"getTotalLength",value:function(){var e=this.mainCurve;try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(t){return 0}}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,r=n.points,o=n.xAxis,a=n.yAxis,i=n.layout,s=JD(n.children,KV);if(!s)return null;var l=function(e,t){return{x:e.x,y:e.y,value:e.value,errorVal:iU(e.payload,t)}},u={clipPath:e?"url(#clipPath-".concat(t,")"):null};return W.createElement(mR,u,s.map((function(e){return W.cloneElement(e,{key:"bar-".concat(e.props.dataKey),data:r,xAxis:o,yAxis:a,layout:i,dataPointFormatter:l})})))}},{key:"renderDots",value:function(e,n,r){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.dot,i=o.points,s=o.dataKey,l=oR(this.props,!1),u=oR(a,!0),c=i.map((function(e,n){var r=qX(qX(qX({key:"dot-".concat(n),r:3},l),u),{},{index:n,cx:e.x,cy:e.y,value:e.value,dataKey:s,payload:e.payload,points:i});return t.renderDotItem(a,r)})),d={clipPath:e?"url(#clipPath-".concat(n?"":"dots-").concat(r,")"):null};return W.createElement(mR,HX({className:"recharts-line-dots",key:"dots"},d),c)}},{key:"renderCurveStatically",value:function(e,t,n,r){var o=this.props,a=o.type,i=o.layout,s=o.connectNulls,l=(o.ref,UX(o,BX)),u=qX(qX(qX({},oR(l,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:t?"url(#clipPath-".concat(n,")"):null,points:e},r),{},{type:a,layout:i,connectNulls:s});return W.createElement(GK,HX({},u,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(e,t){var n=this,r=this.props,o=r.points,a=r.strokeDasharray,i=r.isAnimationActive,s=r.animationBegin,l=r.animationDuration,u=r.animationEasing,c=r.animationId,d=r.animateNewValues,p=r.width,h=r.height,f=this.state,m=f.prevPoints,g=f.totalLength;return W.createElement(qj,{begin:s,duration:l,isActive:i,easing:u,from:{t:0},to:{t:1},key:"line-".concat(c),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},(function(r){var i=r.t;if(m){var s=m.length/o.length,l=o.map((function(e,t){var n=Math.floor(t*s);if(m[n]){var r=m[n],o=RD(r.x,e.x),a=RD(r.y,e.y);return qX(qX({},e),{},{x:o(i),y:a(i)})}if(d){var l=RD(2*p,e.x),u=RD(h/2,e.y);return qX(qX({},e),{},{x:l(i),y:u(i)})}return qX(qX({},e),{},{x:e.x,y:e.y})}));return n.renderCurveStatically(l,e,t)}var u,c=RD(0,g)(i);if(a){var f="".concat(a).split(/[,\s]+/gim).map((function(e){return parseFloat(e)}));u=n.getStrokeDasharray(c,g,f)}else u=n.generateSimpleStrokeDasharray(g,c);return n.renderCurveStatically(o,e,t,{strokeDasharray:u})}))}},{key:"renderCurve",value:function(e,t){var n=this.props,r=n.points,o=n.isAnimationActive,a=this.state,i=a.prevPoints,s=a.totalLength;return o&&r&&r.length&&(!i&&s>0||!lV()(i,r))?this.renderCurveWithAnimation(e,t):this.renderCurveStatically(r,e,t)}},{key:"render",value:function(){var e,t=this.props,n=t.hide,r=t.dot,o=t.points,a=t.className,i=t.xAxis,s=t.yAxis,l=t.top,u=t.left,c=t.width,d=t.height,p=t.isAnimationActive,h=t.id;if(n||!o||!o.length)return null;var f=this.state.isAnimationFinished,m=1===o.length,g=(0,Qt.A)("recharts-line",a),y=i&&i.allowDataOverflow,v=s&&s.allowDataOverflow,b=y||v,x=rD()(h)?this.id:h,w=null!==(e=oR(r,!1))&&void 0!==e?e:{r:3,strokeWidth:2},k=w.r,S=void 0===k?3:k,A=w.strokeWidth,C=void 0===A?2:A,T=(function(e){return e&&"object"===qD(e)&&"clipDot"in e}(r)?r:{}).clipDot,I=void 0===T||T,E=2*S+C;return W.createElement(mR,{className:g},y||v?W.createElement("defs",null,W.createElement("clipPath",{id:"clipPath-".concat(x)},W.createElement("rect",{x:y?u:u-c/2,y:v?l:l-d/2,width:y?c:2*c,height:v?d:2*d})),!I&&W.createElement("clipPath",{id:"clipPath-dots-".concat(x)},W.createElement("rect",{x:u-E/2,y:l-E/2,width:c+E,height:d+E}))):null,!m&&this.renderCurve(b,x),this.renderErrorBar(b,x),(m||r)&&this.renderDots(b,I,x),(!p||f)&&RH.renderCallByParent(this.props,o))}}])&&YX(n.prototype,r),o&&YX(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(W.PureComponent);function oY(e,t,n){if(t<1)return[];if(1===t&&void 0===n)return e;for(var r=[],o=0;o<e.length;o+=t){if(void 0!==n&&!0!==n(e[o]))return;r.push(e[o])}return r}function aY(e,t,n){return function(e){var t=e.width,n=e.height,r=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),o=r*Math.PI/180,a=Math.atan(n/t),i=o>a&&o<Math.PI-a?n/Math.sin(o):t/Math.cos(o);return Math.abs(i)}({width:e.width+t.width,height:e.height+t.height},n)}function iY(e,t,n,r,o){if(e*t<e*r||e*t>e*o)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-o)<=0}function sY(e){return sY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sY(e)}function lY(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function uY(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lY(Object(n),!0).forEach((function(t){cY(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lY(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function cY(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=sY(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=sY(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==sY(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dY(e,t,n){var r=e.tick,o=e.ticks,a=e.viewBox,i=e.minTickGap,s=e.orientation,l=e.interval,u=e.tickFormatter,c=e.unit,d=e.angle;if(!o||!o.length||!r)return[];if(ID(l)||WR.isSsr)return function(e,t){return oY(e,t+1)}(o,"number"===typeof l&&ID(l)?l:0);var p=[],h="top"===s||"bottom"===s?"width":"height",f=c&&"width"===h?A_(c,{fontSize:t,letterSpacing:n}):{width:0,height:0},m=function(e,r){var o=aD()(u)?u(e.value,r):e.value;return"width"===h?aY(A_(o,{fontSize:t,letterSpacing:n}),f,d):A_(o,{fontSize:t,letterSpacing:n})[h]},g=o.length>=2?CD(o[1].coordinate-o[0].coordinate):1,y=function(e,t,n){var r="width"===n,o=e.x,a=e.y,i=e.width,s=e.height;return 1===t?{start:r?o:a,end:r?o+i:a+s}:{start:r?o+i:a+s,end:r?o:a}}(a,g,h);return"equidistantPreserveStart"===l?function(e,t,n,r,o){for(var a,i=(r||[]).slice(),s=t.start,l=t.end,u=0,c=1,d=s,p=function(){var t=null===r||void 0===r?void 0:r[u];if(void 0===t)return{v:oY(r,c)};var a,i=u,p=function(){return void 0===a&&(a=n(t,i)),a},h=t.coordinate,f=0===u||iY(e,h,p,d,l);f||(u=0,d=s,c+=1),f&&(d=h+e*(p()/2+o),u+=c)};c<=i.length;)if(a=p())return a.v;return[]}(g,y,m,o,i):(p="preserveStart"===l||"preserveStartEnd"===l?function(e,t,n,r,o,a){var i=(r||[]).slice(),s=i.length,l=t.start,u=t.end;if(a){var c=r[s-1],d=n(c,s-1),p=e*(c.coordinate+e*d/2-u);i[s-1]=c=uY(uY({},c),{},{tickCoord:p>0?c.coordinate-p*e:c.coordinate}),iY(e,c.tickCoord,(function(){return d}),l,u)&&(u=c.tickCoord-e*(d/2+o),i[s-1]=uY(uY({},c),{},{isShow:!0}))}for(var h=a?s-1:s,f=function(t){var r,a=i[t],s=function(){return void 0===r&&(r=n(a,t)),r};if(0===t){var c=e*(a.coordinate-e*s()/2-l);i[t]=a=uY(uY({},a),{},{tickCoord:c<0?a.coordinate-c*e:a.coordinate})}else i[t]=a=uY(uY({},a),{},{tickCoord:a.coordinate});iY(e,a.tickCoord,s,l,u)&&(l=a.tickCoord+e*(s()/2+o),i[t]=uY(uY({},a),{},{isShow:!0}))},m=0;m<h;m++)f(m);return i}(g,y,m,o,i,"preserveStartEnd"===l):function(e,t,n,r,o){for(var a=(r||[]).slice(),i=a.length,s=t.start,l=t.end,u=function(t){var r,u=a[t],c=function(){return void 0===r&&(r=n(u,t)),r};if(t===i-1){var d=e*(u.coordinate+e*c()/2-l);a[t]=u=uY(uY({},u),{},{tickCoord:d>0?u.coordinate-d*e:u.coordinate})}else a[t]=u=uY(uY({},u),{},{tickCoord:u.coordinate});iY(e,u.tickCoord,c,s,l)&&(l=u.tickCoord-e*(c()/2+o),a[t]=uY(uY({},u),{},{isShow:!0}))},c=i-1;c>=0;c--)u(c);return a}(g,y,m,o,i),p.filter((function(e){return e.isShow})))}tY(rY,"displayName","Line"),tY(rY,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!WR.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1}),tY(rY,"getComposedData",(function(e){var t=e.props,n=e.xAxis,r=e.yAxis,o=e.xAxisTicks,a=e.yAxisTicks,i=e.dataKey,s=e.bandSize,l=e.displayedData,u=e.offset,c=t.layout;return qX({points:l.map((function(e,t){var l=iU(e,i);return"horizontal"===c?{x:bU({axis:n,ticks:o,bandSize:s,entry:e,index:t}),y:rD()(l)?null:r.scale(l),value:l,payload:e}:{x:rD()(l)?null:n.scale(l),y:bU({axis:r,ticks:a,bandSize:s,entry:e,index:t}),value:l,payload:e}})),layout:c},u)}));var pY=["viewBox"],hY=["viewBox"],fY=["ticks"];function mY(e){return mY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mY(e)}function gY(){return gY=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gY.apply(this,arguments)}function yY(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vY(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yY(Object(n),!0).forEach((function(t){CY(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yY(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bY(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function xY(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,TY(r.key),r)}}function wY(e,t,n){return t=SY(t),function(e,t){if(t&&("object"===mY(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,kY()?Reflect.construct(t,n||[],SY(e).constructor):t.apply(e,n))}function kY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(kY=function(){return!!e})()}function SY(e){return SY=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},SY(e)}function AY(e,t){return AY=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},AY(e,t)}function CY(e,t,n){return(t=TY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TY(e){var t=function(e,t){if("object"!=mY(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=mY(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==mY(t)?t:t+""}var IY=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=wY(this,t,[e])).state={fontSize:"",letterSpacing:""},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&AY(e,t)}(t,e),n=t,o=[{key:"renderTickItem",value:function(e,t,n){return W.isValidElement(e)?W.cloneElement(e,t):aD()(e)?e(t):W.createElement(J_,gY({},t,{className:"recharts-cartesian-axis-tick-value"}),n)}}],(r=[{key:"shouldComponentUpdate",value:function(e,t){var n=e.viewBox,r=bY(e,pY),o=this.props,a=o.viewBox,i=bY(o,hY);return!jD(n,a)||!jD(r,i)||!jD(t,this.state)}},{key:"componentDidMount",value:function(){var e=this.layerReference;if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];t&&this.setState({fontSize:window.getComputedStyle(t).fontSize,letterSpacing:window.getComputedStyle(t).letterSpacing})}}},{key:"getTickLineCoord",value:function(e){var t,n,r,o,a,i,s=this.props,l=s.x,u=s.y,c=s.width,d=s.height,p=s.orientation,h=s.tickSize,f=s.mirror,m=s.tickMargin,g=f?-1:1,y=e.tickSize||h,v=ID(e.tickCoord)?e.tickCoord:e.coordinate;switch(p){case"top":t=n=e.coordinate,i=(r=(o=u+ +!f*d)-g*y)-g*m,a=v;break;case"left":r=o=e.coordinate,a=(t=(n=l+ +!f*c)-g*y)-g*m,i=v;break;case"right":r=o=e.coordinate,a=(t=(n=l+ +f*c)+g*y)+g*m,i=v;break;default:t=n=e.coordinate,i=(r=(o=u+ +f*d)+g*y)+g*m,a=v}return{line:{x1:t,y1:r,x2:n,y2:o},tick:{x:a,y:i}}}},{key:"getTickTextAnchor",value:function(){var e,t=this.props,n=t.orientation,r=t.mirror;switch(n){case"left":e=r?"start":"end";break;case"right":e=r?"end":"start";break;default:e="middle"}return e}},{key:"getTickVerticalAnchor",value:function(){var e=this.props,t=e.orientation,n=e.mirror,r="end";switch(t){case"left":case"right":r="middle";break;case"top":r=n?"start":"end";break;default:r=n?"end":"start"}return r}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.x,n=e.y,r=e.width,o=e.height,a=e.orientation,i=e.mirror,s=e.axisLine,l=vY(vY(vY({},oR(this.props,!1)),oR(s,!1)),{},{fill:"none"});if("top"===a||"bottom"===a){var u=+("top"===a&&!i||"bottom"===a&&i);l=vY(vY({},l),{},{x1:t,y1:n+u*o,x2:t+r,y2:n+u*o})}else{var c=+("left"===a&&!i||"right"===a&&i);l=vY(vY({},l),{},{x1:t+c*r,y1:n,x2:t+c*r,y2:n+o})}return W.createElement("line",gY({},l,{className:(0,Qt.A)("recharts-cartesian-axis-line",uD()(s,"className"))}))}},{key:"renderTicks",value:function(e,n,r){var o=this,a=this.props,i=a.tickLine,s=a.stroke,l=a.tick,u=a.tickFormatter,c=a.unit,d=dY(vY(vY({},this.props),{},{ticks:e}),n,r),p=this.getTickTextAnchor(),h=this.getTickVerticalAnchor(),f=oR(this.props,!1),m=oR(l,!1),g=vY(vY({},f),{},{fill:"none"},oR(i,!1)),y=d.map((function(e,n){var r=o.getTickLineCoord(e),a=r.line,y=r.tick,v=vY(vY(vY(vY({textAnchor:p,verticalAnchor:h},f),{},{stroke:"none",fill:s},m),y),{},{index:n,payload:e,visibleTicksCount:d.length,tickFormatter:u});return W.createElement(mR,gY({className:"recharts-cartesian-axis-tick",key:"tick-".concat(e.value,"-").concat(e.coordinate,"-").concat(e.tickCoord)},VD(o.props,e,n)),i&&W.createElement("line",gY({},g,a,{className:(0,Qt.A)("recharts-cartesian-axis-tick-line",uD()(i,"className"))})),l&&t.renderTickItem(l,v,"".concat(aD()(u)?u(e.value,n):e.value).concat(c||"")))}));return W.createElement("g",{className:"recharts-cartesian-axis-ticks"},y)}},{key:"render",value:function(){var e=this,t=this.props,n=t.axisLine,r=t.width,o=t.height,a=t.ticksGenerator,i=t.className;if(t.hide)return null;var s=this.props,l=s.ticks,u=bY(s,fY),c=l;return aD()(a)&&(c=l&&l.length>0?a(this.props):a(u)),r<=0||o<=0||!c||!c.length?null:W.createElement(mR,{className:(0,Qt.A)("recharts-cartesian-axis",i),ref:function(t){e.layerReference=t}},n&&this.renderAxisLine(),this.renderTicks(c,this.state.fontSize,this.state.letterSpacing),pH.renderCallByParent(this.props))}}])&&xY(n.prototype,r),o&&xY(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(W.Component);function EY(e){return EY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},EY(e)}function NY(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$Y(r.key),r)}}function OY(e,t,n){return t=DY(t),function(e,t){if(t&&("object"===EY(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,MY()?Reflect.construct(t,n||[],DY(e).constructor):t.apply(e,n))}function MY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(MY=function(){return!!e})()}function DY(e){return DY=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},DY(e)}function RY(e,t){return RY=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},RY(e,t)}function PY(e,t,n){return(t=$Y(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $Y(e){var t=function(e,t){if("object"!=EY(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=EY(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==EY(t)?t:t+""}function jY(){return jY=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jY.apply(this,arguments)}function _Y(e){var t=e.xAxisId,n=Iq(),r=Eq(),o=Cq(t);return null==o?null:W.createElement(IY,jY({},o,{className:(0,Qt.A)("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(e){return hU(e,!0)}}))}CY(IY,"displayName","CartesianAxis"),CY(IY,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var FY=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),OY(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&RY(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return W.createElement(_Y,this.props)}}])&&NY(n.prototype,r),o&&NY(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(W.Component);function LY(e){return LY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},LY(e)}function zY(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,GY(r.key),r)}}function BY(e,t,n){return t=VY(t),function(e,t){if(t&&("object"===LY(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,WY()?Reflect.construct(t,n||[],VY(e).constructor):t.apply(e,n))}function WY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(WY=function(){return!!e})()}function VY(e){return VY=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},VY(e)}function UY(e,t){return UY=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},UY(e,t)}function HY(e,t,n){return(t=GY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GY(e){var t=function(e,t){if("object"!=LY(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=LY(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==LY(t)?t:t+""}function qY(){return qY=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qY.apply(this,arguments)}PY(FY,"displayName","XAxis"),PY(FY,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});var KY=function(e){var t=e.yAxisId,n=Iq(),r=Eq(),o=Tq(t);return null==o?null:W.createElement(IY,qY({},o,{className:(0,Qt.A)("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(e){return hU(e,!0)}}))},XY=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),BY(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&UY(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return W.createElement(KY,this.props)}}])&&zY(n.prototype,r),o&&zY(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(W.Component);HY(XY,"displayName","YAxis"),HY(XY,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});var YY=zX({chartName:"LineChart",GraphicalChild:rY,axisComponents:[{axisType:"xAxis",AxisComp:FY},{axisType:"yAxis",AxisComp:XY}],formatAxisMap:XG}),QY=["x1","y1","x2","y2","key"],ZY=["offset"];function JY(e){return JY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},JY(e)}function eQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tQ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eQ(Object(n),!0).forEach((function(t){nQ(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eQ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nQ(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=JY(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=JY(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==JY(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rQ(){return rQ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rQ.apply(this,arguments)}function oQ(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var aQ=function(e){var t=e.fill;if(!t||"none"===t)return null;var n=e.fillOpacity,r=e.x,o=e.y,a=e.width,i=e.height,s=e.ry;return W.createElement("rect",{x:r,y:o,ry:s,width:a,height:i,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function iQ(e,t){var n;if(W.isValidElement(e))n=W.cloneElement(e,t);else if(aD()(e))n=e(t);else{var r=t.x1,o=t.y1,a=t.x2,i=t.y2,s=t.key,l=oQ(t,QY),u=oR(l,!1),c=(u.offset,oQ(u,ZY));n=W.createElement("line",rQ({},c,{x1:r,y1:o,x2:a,y2:i,fill:"none",key:s}))}return n}function sQ(e){var t=e.x,n=e.width,r=e.horizontal,o=void 0===r||r,a=e.horizontalPoints;if(!o||!a||!a.length)return null;var i=a.map((function(r,a){var i=tQ(tQ({},e),{},{x1:t,y1:r,x2:t+n,y2:r,key:"line-".concat(a),index:a});return iQ(o,i)}));return W.createElement("g",{className:"recharts-cartesian-grid-horizontal"},i)}function lQ(e){var t=e.y,n=e.height,r=e.vertical,o=void 0===r||r,a=e.verticalPoints;if(!o||!a||!a.length)return null;var i=a.map((function(r,a){var i=tQ(tQ({},e),{},{x1:r,y1:t,x2:r,y2:t+n,key:"line-".concat(a),index:a});return iQ(o,i)}));return W.createElement("g",{className:"recharts-cartesian-grid-vertical"},i)}function uQ(e){var t=e.horizontalFill,n=e.fillOpacity,r=e.x,o=e.y,a=e.width,i=e.height,s=e.horizontalPoints,l=e.horizontal;if(!(void 0===l||l)||!t||!t.length)return null;var u=s.map((function(e){return Math.round(e+o-o)})).sort((function(e,t){return e-t}));o!==u[0]&&u.unshift(0);var c=u.map((function(e,s){var l=!u[s+1]?o+i-e:u[s+1]-e;if(l<=0)return null;var c=s%t.length;return W.createElement("rect",{key:"react-".concat(s),y:e,x:r,height:l,width:a,stroke:"none",fill:t[c],fillOpacity:n,className:"recharts-cartesian-grid-bg"})}));return W.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},c)}function cQ(e){var t=e.vertical,n=void 0===t||t,r=e.verticalFill,o=e.fillOpacity,a=e.x,i=e.y,s=e.width,l=e.height,u=e.verticalPoints;if(!n||!r||!r.length)return null;var c=u.map((function(e){return Math.round(e+a-a)})).sort((function(e,t){return e-t}));a!==c[0]&&c.unshift(0);var d=c.map((function(e,t){var n=!c[t+1]?a+s-e:c[t+1]-e;if(n<=0)return null;var u=t%r.length;return W.createElement("rect",{key:"react-".concat(t),x:e,y:i,width:n,height:l,stroke:"none",fill:r[u],fillOpacity:o,className:"recharts-cartesian-grid-bg"})}));return W.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var dQ=function(e,t){var n=e.xAxis,r=e.width,o=e.height,a=e.offset;return pU(dY(tQ(tQ(tQ({},IY.defaultProps),n),{},{ticks:hU(n,!0),viewBox:{x:0,y:0,width:r,height:o}})),a.left,a.left+a.width,t)},pQ=function(e,t){var n=e.yAxis,r=e.width,o=e.height,a=e.offset;return pU(dY(tQ(tQ(tQ({},IY.defaultProps),n),{},{ticks:hU(n,!0),viewBox:{x:0,y:0,width:r,height:o}})),a.top,a.top+a.height,t)},hQ={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function fQ(e){var t,n,r,o,a,i,s=Iq(),l=Eq(),u=(0,W.useContext)(xq),c=tQ(tQ({},e),{},{stroke:null!==(t=e.stroke)&&void 0!==t?t:hQ.stroke,fill:null!==(n=e.fill)&&void 0!==n?n:hQ.fill,horizontal:null!==(r=e.horizontal)&&void 0!==r?r:hQ.horizontal,horizontalFill:null!==(o=e.horizontalFill)&&void 0!==o?o:hQ.horizontalFill,vertical:null!==(a=e.vertical)&&void 0!==a?a:hQ.vertical,verticalFill:null!==(i=e.verticalFill)&&void 0!==i?i:hQ.verticalFill,x:ID(e.x)?e.x:u.left,y:ID(e.y)?e.y:u.top,width:ID(e.width)?e.width:u.width,height:ID(e.height)?e.height:u.height}),d=c.x,p=c.y,h=c.width,f=c.height,m=c.syncWithTicks,g=c.horizontalValues,y=c.verticalValues,v=function(){var e=(0,W.useContext)(yq);return DD(e)}(),b=function(){var e=(0,W.useContext)(vq);return fq()(e,(function(e){return vH()(e.domain,Number.isFinite)}))||DD(e)}();if(!ID(h)||h<=0||!ID(f)||f<=0||!ID(d)||d!==+d||!ID(p)||p!==+p)return null;var x=c.verticalCoordinatesGenerator||dQ,w=c.horizontalCoordinatesGenerator||pQ,k=c.horizontalPoints,S=c.verticalPoints;if((!k||!k.length)&&aD()(w)){var A=g&&g.length,C=w({yAxis:b?tQ(tQ({},b),{},{ticks:A?g:b.ticks}):void 0,width:s,height:l,offset:u},!!A||m);oP(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(JY(C),"]")),Array.isArray(C)&&(k=C)}if((!S||!S.length)&&aD()(x)){var T=y&&y.length,I=x({xAxis:v?tQ(tQ({},v),{},{ticks:T?y:v.ticks}):void 0,width:s,height:l,offset:u},!!T||m);oP(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(JY(I),"]")),Array.isArray(I)&&(S=I)}return W.createElement("g",{className:"recharts-cartesian-grid"},W.createElement(aQ,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height,ry:c.ry}),W.createElement(sQ,rQ({},c,{offset:u,horizontalPoints:k,xAxis:v,yAxis:b})),W.createElement(lQ,rQ({},c,{offset:u,verticalPoints:S,xAxis:v,yAxis:b})),W.createElement(uQ,rQ({},c,{horizontalPoints:k})),W.createElement(cQ,rQ({},c,{verticalPoints:S})))}function mQ(e){return mQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mQ(e)}function gQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yQ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gQ(Object(n),!0).forEach((function(t){vQ(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gQ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vQ(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=mQ(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=mQ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==mQ(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bQ(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return xQ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xQ(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xQ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}fQ.displayName="CartesianGrid";var wQ=(0,W.forwardRef)((function(e,t){var n=e.aspect,r=e.initialDimension,o=void 0===r?{width:-1,height:-1}:r,a=e.width,i=void 0===a?"100%":a,s=e.height,l=void 0===s?"100%":s,u=e.minWidth,c=void 0===u?0:u,d=e.minHeight,p=e.maxHeight,h=e.children,f=e.debounce,m=void 0===f?0:f,g=e.id,y=e.className,v=e.onResize,b=e.style,x=void 0===b?{}:b,w=(0,W.useRef)(null),k=(0,W.useRef)();k.current=v,(0,W.useImperativeHandle)(t,(function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})}));var S=bQ((0,W.useState)({containerWidth:o.width,containerHeight:o.height}),2),A=S[0],C=S[1],T=(0,W.useCallback)((function(e,t){C((function(n){var r=Math.round(e),o=Math.round(t);return n.containerWidth===r&&n.containerHeight===o?n:{containerWidth:r,containerHeight:o}}))}),[]);(0,W.useEffect)((function(){var e=function(e){var t,n=e[0].contentRect,r=n.width,o=n.height;T(r,o),null===(t=k.current)||void 0===t||t.call(k,r,o)};m>0&&(e=hD()(e,m,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),n=w.current.getBoundingClientRect(),r=n.width,o=n.height;return T(r,o),t.observe(w.current),function(){t.disconnect()}}),[T,m]);var I=(0,W.useMemo)((function(){var e=A.containerWidth,t=A.containerHeight;if(e<0||t<0)return null;oP(TD(i)||TD(l),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",i,l),oP(!n||n>0,"The aspect(%s) must be greater than zero.",n);var r=TD(i)?e:i,o=TD(l)?t:l;n&&n>0&&(r?o=r/n:o&&(r=o*n),p&&o>p&&(o=p)),oP(r>0||o>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",r,o,i,l,c,d,n);var a=!Array.isArray(h)&&XD(h.type).endsWith("Chart");return W.Children.map(h,(function(e){return W.isValidElement(e)?(0,W.cloneElement)(e,yQ({width:r,height:o},a?{style:yQ({height:"100%",width:"100%",maxHeight:o,maxWidth:r},e.props.style)}:{})):e}))}),[n,h,l,p,d,c,A,i]);return W.createElement("div",{id:g?"".concat(g):void 0,className:(0,Qt.A)("recharts-responsive-container",y),style:yQ(yQ({},x),{},{width:i,height:l,minWidth:c,minHeight:d,maxHeight:p}),ref:w},I)})),kQ=zX({chartName:"BarChart",GraphicalChild:WG,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:FY},{axisType:"yAxis",AxisComp:XY}],formatAxisMap:XG}),SQ=n(7227),AQ=n.n(SQ);nN().extend(AQ());const CQ=["#8884d8","#82ca9d","#ffc658","#ff7300"],TQ=e=>{const t=nN()(e);return t.isValid()?t:null},IQ=e=>{let{payments:t=[]}=e;const n=(0,W.useMemo)((()=>Array.from(new Set(t.map((e=>e.type))))),[t]),[r,o]=(0,W.useState)(n),[a,i]=(0,W.useState)(null),{data:s,yTicks:l,minDate:u,maxDate:c}=(0,W.useMemo)((()=>((e,t)=>{const n=Array.from(new Set(e.map((e=>e.type)))),r=e.filter((e=>t.includes(e.type))).map(((e,t)=>{const n=TQ(e.date),r=TQ(e.releaseDate);return{id:t,type:e.type,startDate:n,endDate:r}})).filter((e=>e.startDate));if(!r.length)return{data:[],yTicks:[],minDate:null,maxDate:null};const o=nN().min(r.map((e=>e.startDate))),a=r.some((e=>!e.endDate))?nN()():nN().max(r.map((e=>e.endDate)).filter(Boolean)),i={};n.forEach((e=>i[e]=[])),r.forEach((e=>i[e.type].push(e)));let s=0;const l=[],u=[];return n.forEach((e=>{if(!t.includes(e))return;const r=i[e];if(!r.length)return;const a=s+(r.length-1)/2;u.push({value:a,label:e}),r.forEach(((t,r)=>{var a;const i=null!==(a=t.endDate)&&void 0!==a?a:nN()(),u=i.diff(t.startDate,"day");l.push({id:t.id,type:t.type,start:t.startDate.diff(o,"day"),duration:u,startDate:t.startDate,endDate:i,color:CQ[n.indexOf(e)%CQ.length],y:s+r,label:`${e} (${t.startDate.format("DD.MM.YYYY")})`})})),s+=r.length+.5})),{data:l,yTicks:u,minDate:o,maxDate:a}})(t,r)),[t,r]);if(!s.length)return(0,sn.jsx)(ps,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:300},children:(0,sn.jsx)(vs,{children:"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445 \u0434\u043b\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f"})});const d=[];if(u&&c){let e=u.startOf("month");for(;e.isBefore(c);){const t=e.diff(u,"day");d.push((0,sn.jsx)(Vq,{x:t,stroke:"#ccc",strokeDasharray:"3 3",label:{position:"insideTop",value:e.format("MM.YYYY"),fill:"#999",fontSize:12}},e.format())),e=e.add(1,"month")}}return(0,sn.jsxs)(ps,{sx:{width:1e3,height:500,mx:"auto",mt:4,mb:4},children:[(0,sn.jsxs)(ps,{sx:{display:"flex",gap:2,mb:1,flexWrap:"wrap"},children:[n.map((e=>(0,sn.jsx)(QI,{control:(0,sn.jsx)(tD,{checked:r.includes(e),onChange:()=>(e=>{o((t=>t.includes(e)?t.filter((t=>t!==e)):[...t,e]))})(e),sx:{color:CQ[n.indexOf(e)%CQ.length]}}),label:e},e))),(0,sn.jsx)(rr,{variant:"outlined",size:"small",onClick:()=>o(n),children:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440"})]}),(0,sn.jsx)(wQ,{width:"100%",height:"100%",children:(0,sn.jsxs)(kQ,{layout:"vertical",data:s,margin:{top:40,bottom:40,left:140,right:20},onMouseLeave:()=>i(null),children:[(0,sn.jsx)(FY,{type:"number",domain:[0,c.diff(u,"day")],tickFormatter:e=>nN()(u).add(e,"day").format("DD.MM.YY")}),(0,sn.jsx)(XY,{type:"number",dataKey:"y",interval:0,width:140,ticks:l.map((e=>e.value)),tickFormatter:e=>{const t=l.find((t=>t.value===e));return t?t.label:""}}),(0,sn.jsx)(rP,{content:e=>{let{active:t,payload:n}=e;if(!t||!n||!n.length)return null;const r=n[0].payload;return(0,sn.jsxs)(ps,{sx:{backgroundColor:"#fff",p:1.5,border:"1px solid #ccc",borderRadius:1},children:[(0,sn.jsx)(vs,{variant:"body2",children:(0,sn.jsx)("strong",{children:r.type})}),(0,sn.jsxs)(vs,{variant:"body2",children:["\u041d\u0430\u0447\u0430\u043b\u043e: ",nN()(r.startDate).format("DD.MM.YYYY")]}),(0,sn.jsxs)(vs,{variant:"body2",children:["\u041a\u043e\u043d\u0435\u0446: ",nN()(r.endDate).format("DD.MM.YYYY")]}),(0,sn.jsxs)(vs,{variant:"body2",children:["\u0414\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c: ",r.duration," \u0434\u043d."]})]})}}),d,(0,sn.jsx)(WG,{dataKey:"start",stackId:"a",fill:"transparent"}),(0,sn.jsx)(WG,{dataKey:"duration",stackId:"a",barSize:12,onMouseEnter:(e,t)=>i(s[t].y),onMouseLeave:()=>i(null),children:s.map((e=>(0,sn.jsx)(bH,{fill:e.color,opacity:null===a||a===e.y?1:.3},e.id)))})]})})]})},EQ={bodyMeasurements:["\u0412\u0435\u0441","\u041e\u0431\u044a\u0435\u043c \u0433\u0440\u0443\u0434\u0438","\u041e\u0431\u044a\u0435\u043c \u0442\u0430\u043b\u0438\u0438","\u041e\u0431\u044a\u0435\u043c \u044f\u0433\u043e\u0434\u0438\u0446","\u041e\u0431\u044a\u0435\u043c \u0431\u0435\u0434\u0440\u0430","\u041e\u0431\u044a\u0435\u043c \u0433\u043e\u043b\u0435\u043d\u0438","\u041e\u0431\u044a\u0435\u043c \u043f\u043b\u0435\u0447\u0430","\u041e\u0431\u044a\u0435\u043c \u043f\u043b\u0435\u0447\u0430 \u0432 \u043d\u0430\u043f\u0440\u044f\u0436\u0435\u043d\u043d\u043e\u043c \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0438"],trainingStates:["\u041e\u0446\u0435\u043d\u043a\u0430 \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0438","\u0418\u043d\u0442\u0435\u043d\u0441\u0438\u0432\u043d\u043e\u0441\u0442\u044c \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0438","\u0421\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u0434\u043e \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0438","\u0421\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u043f\u043e\u0441\u043b\u0435 \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0438"],showGantt:["\u0420\u0430\u0437\u043e\u0432\u043e\u0435","\u041f\u0430\u043a\u0435\u0442 10","\u041f\u0430\u043a\u0435\u0442 20","\u0414\u0440\u0443\u0433\u043e\u0435"]},NQ={"\u041e\u0442\u043b\u0438\u0447\u043d\u043e":5,"\u0425\u043e\u0440\u043e\u0448\u043e":4,"\u0421\u0440\u0435\u0434\u043d\u0435":3,"\u041f\u043b\u043e\u0445\u043e":2,"\u0423\u0441\u0442\u0430\u043b":1,"":0},OQ={"\u0422\u044f\u0436\u0451\u043b\u0430\u044f":3,"\u0421\u0440\u0435\u0434\u043d\u044f\u044f":2,"\u041b\u0451\u0433\u043a\u0430\u044f":1,"":0},MQ=Object.fromEntries(Object.entries(NQ).map((e=>{let[t,n]=e;return[n,t]}))),DQ=Object.fromEntries(Object.entries(OQ).map((e=>{let[t,n]=e;return[n,t]}))),RQ=e=>{let{active:t,payload:n,label:r}=e;return t&&n&&n.length?(0,sn.jsxs)(ps,{sx:{backgroundColor:"white",padding:1,border:"1px solid #ccc"},children:[(0,sn.jsx)(vs,{variant:"subtitle2",sx:{mb:1},children:r}),n.map(((e,t)=>{let{name:r,value:o}=e,a=o;return"\u041e\u0446\u0435\u043d\u043a\u0430 \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0438"===r?a=o+" \u2b50\ufe0f":"\u0418\u043d\u0442\u0435\u043d\u0441\u0438\u0432\u043d\u043e\u0441\u0442\u044c \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0438"===r?a=DQ[o]||o:"\u0421\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u0434\u043e \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0438"!==r&&"\u0421\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u043f\u043e\u0441\u043b\u0435 \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0438"!==r||(a=MQ[o]||o),(0,sn.jsxs)(vs,{sx:{color:n[t].color},children:[r,": ",a]},t)}))]}):null},PQ=e=>{let{clientId:t}=e;const[n,r]=(0,W.useState)({}),[o,a]=(0,W.useState)([]),[i,s]=(0,W.useState)([]),[l,u]=(0,W.useState)("bodyMeasurements"),[c,d]=(0,W.useState)(!1),[p,h]=(0,W.useState)([]),[f,m]=(0,W.useState)({primary:!0,"10 \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043e\u043a":!0,"20 \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043e\u043a":!0,other:!0}),g=e=>{const t=o.includes(e)?o.filter((t=>t!==e)):[...o,e];a(t),s(((e,t)=>{const n={};t.forEach((t=>{(e[t]||[]).forEach((e=>{let{date:r,value:o,isPrimary:a}=e;n[r]||(n[r]={date:r,_raw:{}}),n[r]._raw[t]||(n[r]._raw[t]=[]),n[r]._raw[t].push({value:o,isPrimary:a})}))}));const r=[];return Object.values(n).forEach((e=>{const{date:t,_raw:n}=e,o={date:t};Object.entries(n).forEach((e=>{let[t,n]=e;const r=n.sort(((e,t)=>(t.isPrimary?1:0)-(e.isPrimary?1:0)));o[t]=r[0].value})),r.push(o)})),r.sort(((e,t)=>new Date(e.date)-new Date(t.date))).map((e=>({...e,date:nN()(e.date).format("DD.MM.YYYY")})))})(n,t))},y=EQ[l];return(0,sn.jsxs)(ps,{sx:{p:2},children:[(0,sn.jsx)(rr,{variant:"contained",onClick:async()=>{try{const e=await qd("clients/clientStatistic","PATCH",{clientId:t}),n=((e,t)=>{var n;const r={},o=null===(n=e.primary.find((e=>"\u0414\u0430\u0442\u0430"===e.param)))||void 0===n?void 0:n.primary;return e.primary.forEach((e=>{"\u0414\u0430\u0442\u0430"!==e.param&&e.primary&&(r[e.param]=[{date:o,value:parseFloat(e.primary),isPrimary:!0}])})),e.corrections.forEach((e=>{var t;const n=null===(t=e.find((e=>"\u0414\u0430\u0442\u0430"===e.param)))||void 0===t?void 0:t.corr;n&&e.forEach((e=>{"\u0414\u0430\u0442\u0430"!==e.param&&e.corr&&(r[e.param]||(r[e.param]=[]),r[e.param].push({date:n,value:parseFloat(e.corr),isPrimary:!1}))}))})),r["\u041e\u0446\u0435\u043d\u043a\u0430 \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0438"]=t.filter((e=>"completed"===e.type&&e.rating>0)).map((e=>({date:e.trainingTime,value:e.rating,isPrimary:!1}))),r["\u0418\u043d\u0442\u0435\u043d\u0441\u0438\u0432\u043d\u043e\u0441\u0442\u044c \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0438"]=t.filter((e=>"completed"===e.type)).map((e=>{var t;return{date:e.trainingTime,value:null!==(t=OQ[e.intensity])&&void 0!==t?t:0,isPrimary:!1}})),r["\u0421\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u0434\u043e \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0438"]=t.filter((e=>"completed"===e.type)).map((e=>{var t;return{date:e.trainingTime,value:null!==(t=NQ[e.conditionBefore])&&void 0!==t?t:0,isPrimary:!1}})),r["\u0421\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u043f\u043e\u0441\u043b\u0435 \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0438"]=t.filter((e=>"completed"===e.type)).map((e=>{var t;return{date:e.trainingTime,value:null!==(t=NQ[e.conditionAfter])&&void 0!==t?t:0,isPrimary:!1}})),r})(e.parameters,e.sessions);r(n),a([]),s([]),h(Array.isArray(e.payments)?e.payments:[])}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0435 \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0438",e)}},children:"\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0443"}),Object.keys(n).length>0&&(0,sn.jsxs)(ps,{sx:{mt:3},children:[(0,sn.jsxs)(ps,{sx:{mb:2},children:[(0,sn.jsx)(rr,{variant:"bodyMeasurements"===l?"contained":"outlined",onClick:()=>{u("bodyMeasurements"),a([]),s([]),d(!1)},sx:{mr:1},children:"\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0442\u0435\u043b\u0430"}),(0,sn.jsx)(rr,{variant:"trainingStates"===l?"contained":"outlined",onClick:()=>{u("trainingStates"),a([]),s([]),d(!1)},sx:{mr:1},children:"\u0422\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0438"}),(0,sn.jsx)(rr,{variant:"showGantt"===l?"contained":"outlined",onClick:()=>{u("showGantt"),a([]),s([]),d(!0)},sx:{mr:1},children:"\u0420\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 \u043f\u0430\u043a\u0435\u0442\u043e\u0432"})]}),(0,sn.jsxs)(ps,{sx:{display:"flex"},children:[(0,sn.jsxs)(ps,{sx:{minWidth:200,mr:4},children:[(0,sn.jsxs)(vs,{variant:"subtitle1",sx:{fontWeight:600,mb:1,fontSize:"0.95rem"},children:["\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b (","bodyMeasurements"===l?"\u043e\u0431\u0449\u0430\u044f \u0448\u043a\u0430\u043b\u0430":"\u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043e\u043a",")"]}),(0,sn.jsx)(ps,{sx:{display:"flex",flexDirection:"column",gap:.5},children:y.map((e=>(0,sn.jsx)(QI,{sx:{fontSize:"0.85rem",ml:0},control:(0,sn.jsx)(tD,{size:"small",checked:o.includes(e),onChange:()=>g(e)}),label:(0,sn.jsx)(vs,{sx:{fontSize:"0.85rem"},children:e})},e)))})]}),i.length>0&&(0,sn.jsx)(ps,{sx:{flexGrow:1,overflowX:"auto"},children:(0,sn.jsxs)(YY,{width:700,height:400,data:i,margin:{top:20,right:20,bottom:20,left:20},children:[(0,sn.jsx)(fQ,{strokeDasharray:"3 3"}),(0,sn.jsx)(FY,{dataKey:"date"}),(0,sn.jsx)(XY,{}),(0,sn.jsx)(rP,{content:(0,sn.jsx)(RQ,{})}),(0,sn.jsx)(v$,{}),o.map(((e,t)=>(0,sn.jsx)(rY,{type:"monotone",dataKey:e,stroke:["#8884d8","#82ca9d","#ffc658","#ff7300","#00c49f","#ff0000","#0088FE","#00C49F"][t%8],strokeWidth:2,dot:{r:3},activeDot:{r:5}},e)))]})})]})]}),c&&p.length>0&&(0,sn.jsx)(IQ,{payments:p,filters:f})]})},$Q={background:"#f1f3f4",border:"none",borderRadius:6,padding:"6px 12px",cursor:"pointer",color:"#333",fontWeight:500,fontSize:16},jQ={flex:1,padding:"2px 4px",border:"1px solid #dfe1e5",borderRadius:6,fontSize:15},_Q=e=>({position:"absolute",top:2,right:2,width:6,height:6,borderRadius:"50%",backgroundColor:e}),FQ=e=>{let{userId:t,clientId:n}=e;const[r,o]=(0,W.useState)([]),[a,i]=(0,W.useState)(""),[s,l]=(0,W.useState)(""),[u,c]=(0,W.useState)(null),[d,p]=(0,W.useState)(0),[h,f]=(0,W.useState)(!0),[m,g]=(0,W.useState)(!0);(0,W.useEffect)((()=>{y()}),[]);const y=async()=>{try{const e=await qd(`clients/stepsAndCalories?userId=${t}&clientId=${n}`,"GET");o(e||[])}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0434\u0430\u043d\u043d\u044b\u0445:",e)}},v=(0,W.useMemo)((()=>{const e=new Date;e.setDate(1),e.setMonth(e.getMonth()+d);const t=new Date(e);t.setMonth(t.getMonth()+1);const n=[];for(let r=new Date(e);r<t;r.setDate(r.getDate()+1))n.push(new Date(r).toLocaleDateString("ru-RU"));return n}),[d]),b=(0,W.useMemo)((()=>v.map((e=>{const t=r.find((t=>t.date===e));return{date:e.split(".")[0],steps:(null===t||void 0===t?void 0:t.steps)||0,calories:(null===t||void 0===t?void 0:t.calories)||0}}))),[v,r]),x=function(e,t){return`hsl(${arguments.length>2&&void 0!==arguments[2]?arguments[2]:120}, 80%, ${80-40*Math.min(1,e/t)}%)`};return(0,sn.jsx)("div",{style:{fontFamily:"'Segoe UI', sans-serif",maxWidth:900,margin:"0 auto",padding:8,background:"#fff",borderRadius:16,boxShadow:"0 4px 24px rgba(0, 0, 0, 0.12)"},children:(0,sn.jsxs)("div",{style:{display:"flex",gap:24},children:[(0,sn.jsxs)("div",{style:{flex:1},children:[(0,sn.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[(0,sn.jsx)("h3",{style:{margin:0,color:"#333"},children:new Date((new Date).setMonth((new Date).getMonth()+d)).toLocaleString("ru-RU",{month:"long",year:"numeric"})}),(0,sn.jsxs)("div",{style:{display:"flex",gap:8},children:[(0,sn.jsx)("button",{onClick:()=>p((e=>e-1)),style:$Q,children:"\u2190"}),(0,sn.jsx)("button",{onClick:()=>p((e=>e+1)),style:$Q,children:"\u2192"})]})]}),(0,sn.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:4,marginBottom:16},children:v.map((e=>{const t=r.find((t=>t.date===e)),n=new Date(e).getDay(),o=0===n||6===n,a=e===u;return(0,sn.jsx)("div",{onClick:()=>{c(e),i(void 0!==(null===t||void 0===t?void 0:t.steps)?t.steps.toString():""),l(void 0!==(null===t||void 0===t?void 0:t.calories)?t.calories.toString():"")},style:{position:"relative",height:24,background:t?`linear-gradient(135deg, \n                    ${x(t.steps,2e4,120)}, \n                    ${x(t.calories,3e3,0)})`:o?"#f0f0f0":"#fafafa",borderRadius:4,cursor:"pointer",border:a?"2px solid #2196f3":"1px solid #ddd",boxShadow:a?"0 0 4px rgba(33, 150, 243, 0.4)":"none",transition:"transform 0.15s",transform:a?"scale(1.1)":"none"},title:t?`${e}\n\u0428\u0430\u0433\u0438: ${t.steps}\n\u041a\u0430\u043b\u043e\u0440\u0438\u0438: ${t.calories}`:e,children:t&&(0,sn.jsxs)(sn.Fragment,{children:[void 0!==t.steps&&void 0===t.calories&&(0,sn.jsx)("div",{style:_Q("#4285f4")}),void 0!==t.calories&&void 0===t.steps&&(0,sn.jsx)("div",{style:_Q("#ea4335")})]})},e)}))}),u&&(0,sn.jsxs)("div",{style:{background:"#f8f9fa",padding:1,borderRadius:10,border:"1px solid #e0e0e0"},children:[(0,sn.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:4},children:[(0,sn.jsx)("span",{style:{fontWeight:500},children:u}),(0,sn.jsx)("button",{onClick:()=>c(null),style:{background:"none",border:"none",cursor:"pointer",fontSize:20,color:"#888"},children:"\xd7"})]}),(0,sn.jsxs)("div",{style:{display:"flex",gap:8,marginBottom:8},children:[(0,sn.jsx)("input",{type:"number",placeholder:"\u0428\u0430\u0433\u0438",value:a,onChange:e=>i(e.target.value),style:jQ}),(0,sn.jsx)("input",{type:"number",placeholder:"\u041a\u0430\u043b\u043e\u0440\u0438\u0438",value:s,onChange:e=>l(e.target.value),style:jQ})]}),(0,sn.jsx)("button",{onClick:()=>{if(!u)return;const e={date:u};""!==a&&(e.steps=+a),""!==s&&(e.calories=+s),(e.steps||e.calories)&&(e.userId=t,e.clientId=n,(async e=>{try{console.log("entryentryentryentryentry",e);const t=await qd("clients/stepsAndCalories","PATCH",e);console.log(t),y()}catch(t){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f:",t)}})(e),c(null),i(""),l(""))},style:{width:"100%",padding:"8px",background:"#4285f4",color:"white",border:"none",borderRadius:6,cursor:"pointer",fontWeight:500},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})]}),(0,sn.jsxs)("div",{style:{flex:1},children:[(0,sn.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",gap:12,marginBottom:6},children:[(0,sn.jsxs)("label",{children:[(0,sn.jsx)("input",{type:"checkbox",checked:h,onChange:e=>f(e.target.checked)})," \u0428\u0430\u0433\u0438"]}),(0,sn.jsxs)("label",{children:[(0,sn.jsx)("input",{type:"checkbox",checked:m,onChange:e=>g(e.target.checked)})," \u041a\u0430\u043b\u043e\u0440\u0438\u0438"]})]}),(0,sn.jsx)("div",{style:{height:260,background:"#f9fafb",borderRadius:10,padding:12,boxShadow:"inset 0 0 4px rgba(0,0,0,0.03)"},children:(0,sn.jsx)(wQ,{width:"100%",height:"100%",children:(0,sn.jsxs)(YY,{data:b,children:[(0,sn.jsx)(FY,{dataKey:"date",tick:{fontSize:10},interval:Math.floor(b.length/5)}),(0,sn.jsx)(XY,{yAxisId:"steps",orientation:"left",tick:{fontSize:10}}),(0,sn.jsx)(XY,{yAxisId:"calories",orientation:"right",tick:{fontSize:10}}),(0,sn.jsx)(rP,{contentStyle:{borderRadius:8,boxShadow:"0 2px 6px rgba(0,0,0,0.1)"}}),(0,sn.jsx)(v$,{}),h&&(0,sn.jsx)(rY,{yAxisId:"steps",dataKey:"steps",stroke:"#34a853",strokeWidth:2,dot:!1}),m&&(0,sn.jsx)(rY,{yAxisId:"calories",dataKey:"calories",stroke:"#ea4335",strokeWidth:2,dot:!1})]})})})]})]})})},LQ=(0,Vi.A)([(0,sn.jsx)("path",{d:"m12 12.9-2.13 2.09c-.56.56-.87 1.29-.87 2.07C9 18.68 10.35 20 12 20s3-1.32 3-2.94c0-.78-.31-1.52-.87-2.07z"},"0"),(0,sn.jsx)("path",{d:"m16 6-.44.55C14.38 8.02 12 7.19 12 5.3V2S4 6 4 13c0 2.92 1.56 5.47 3.89 6.86-.56-.79-.89-1.76-.89-2.8 0-1.32.52-2.56 1.47-3.5L12 10.1l3.53 3.47c.95.93 1.47 2.17 1.47 3.5 0 1.02-.31 1.96-.85 2.75 1.89-1.15 3.29-3.06 3.71-5.3.66-3.55-1.07-6.9-3.86-8.52"},"1")],"LocalFireDepartment"),zQ=(0,Vi.A)((0,sn.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8m3.5-9c.83 0 1.5-.67 1.5-1.5S16.33 8 15.5 8 14 8.67 14 9.5s.67 1.5 1.5 1.5m-7 0c.83 0 1.5-.67 1.5-1.5S9.33 8 8.5 8 7 8.67 7 9.5 7.67 11 8.5 11m3.5 3c-2.33 0-4.31 1.46-5.11 3.5h10.22c-.8-2.04-2.78-3.5-5.11-3.5"}),"MoodBad"),BQ=e=>{let{editedClient:t,client:n}=e;const r=xa(),[o,a]=(0,W.useState)(null),[i,s]=(0,W.useState)(null),[l,u]=(0,W.useState)(null),[c,d]=(0,W.useState)(null),[p,h]=(0,W.useState)(null),[f,m]=(0,W.useState)(!1),[g,y]=(0,W.useState)(!1),[v,b]=(0,W.useState)(!1),[x,w]=(0,W.useState)(!1),k=JSON.parse(localStorage.getItem("user")).id;if((0,W.useEffect)((()=>{!async function(){try{var e,n,r,o,i,l;const c=await qd(`/clients/customGet?clientId=${t.id}&nameColumn=clientInfo&userId=${k}`,"GET");if(!c)throw new Error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0434\u0430\u043d\u043d\u044b\u0445");const p=c,f=(null===(e=p.find((e=>"goals"===e.blockName)))||void 0===e?void 0:e.data)||{},m=(null===(n=p.find((e=>"problems"===e.blockName)))||void 0===n?void 0:n.data)||{},g=(null===(r=p.find((e=>"activity"===e.blockName)))||void 0===r?void 0:r.data)||{},y=(null===(o=p.find((e=>"limits"===e.blockName)))||void 0===o?void 0:o.data)||{};s({basicGoal:f.basicGoal||"",weightGoal:f.weightGoal||"",nonWeightGoal:f.nonWeightGoal||"",goalDate:f.goalDate||"",idealPicture:f.idealPicture||""}),u({currentDislikes:m.currentDislikes||"",topChallenges:m.topChallenges||"",pastAttempts:m.pastAttempts||""}),d({activityLevel:null!==(i=g.activityLevel)&&void 0!==i?i:3,stressLevel:null!==(l=g.stressLevel)&&void 0!==l?l:3,sleepHours:g.sleepHours||"",sleepQuality:g.sleepQuality||"",eatingHabits:g.eatingHabits||"",badHabits:g.badHabits||""}),h({injuries:y.injuries||"",trainingExperience:y.trainingExperience||"",potentialObstacles:y.potentialObstacles||""}),a(function(e){const t={};for(const n of e)null!==n&&void 0!==n&&n.blockName&&null!==n&&void 0!==n&&n.data&&"object"===typeof n.data&&Object.assign(t,n.data);return t}(p))}catch(c){console.error(c),a({}),s({}),u({}),d({}),h({})}}()}),[]),null===o)return(0,sn.jsx)(ps,{display:"flex",justifyContent:"center",mt:10,children:(0,sn.jsx)(Sl,{})});const S=function(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"text",i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;if(e)return i?(0,sn.jsx)(rs,{select:!0,variant:"standard",fullWidth:!0,value:n[t],onChange:e=>r((n=>({...n,[t]:i.find((t=>t.value===("number"===a?Number(e.target.value):e.target.value))).value}))),children:i.map((e=>{let{value:t,label:n}=e;return(0,sn.jsxs)(ul,{value:t,children:[t," - ",n]},t)}))}):(0,sn.jsx)(rs,{variant:"standard",fullWidth:!0,multiline:o,type:a,value:n[t],onChange:e=>r((n=>({...n,[t]:e.target.value})))});{const e=n[t];if("weightGoal"===t&&e)return(0,sn.jsx)(Sp,{label:`${e} \u043a\u0433`,size:"small",color:"primary",sx:{mt:.5}});if("goalDate"===t&&e){const t=Math.max(0,Math.ceil((new Date(e)-new Date)/864e5));return(0,sn.jsxs)(ps,{display:"flex",alignItems:"center",gap:1,children:[(0,sn.jsx)(vs,{variant:"body2",children:e}),(0,sn.jsx)(tg,{title:"\u041e\u0441\u0442\u0430\u043b\u043e\u0441\u044c \u0434\u043d\u0435\u0439 \u0434\u043e \u0446\u0435\u043b\u0438",children:(0,sn.jsx)(Sp,{label:`${t} \u0434\u043d.`,size:"small",color:"info"})})]})}return e?(0,sn.jsx)(vs,{variant:"body2",sx:{whiteSpace:o?"normal":"nowrap",mt:.5},children:e}):(0,sn.jsx)(vs,{variant:"body2",color:"text.disabled",sx:{whiteSpace:o?"normal":"nowrap",mt:.5},children:"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043e"})}},A=(e,t,n,o,a)=>{if(e)return(0,sn.jsx)(rs,{select:!0,variant:"standard",fullWidth:!0,value:t[o],onChange:e=>n((t=>({...t,[o]:Number(e.target.value)}))),children:[1,2,3,4,5].map((e=>(0,sn.jsx)(ul,{value:e,children:e},e)))});{var i;const e=null!==(i=t[o])&&void 0!==i?i:3;return(0,sn.jsx)(ps,{display:"flex",alignItems:"center",mt:.5,children:Array.from({length:5}).map(((t,n)=>(0,sn.jsx)(ps,{sx:{color:n<e?r.palette.warning.main:r.palette.action.disabled,mr:.5,display:"flex",alignItems:"center"},children:(0,sn.jsx)(a,{fontSize:"small"})},n)))})}},C=(e,t)=>{t(),e(!1)},T=()=>{s({basicGoal:o.basicGoal||"",weightGoal:o.weightGoal||"",nonWeightGoal:o.nonWeightGoal||"",goalDate:o.goalDate||"",idealPicture:o.idealPicture||""})},I=()=>{u({currentDislikes:o.currentDislikes||"",topChallenges:o.topChallenges||"",pastAttempts:o.pastAttempts||""})},E=()=>{var e,t;d({activityLevel:null!==(e=o.activityLevel)&&void 0!==e?e:3,stressLevel:null!==(t=o.stressLevel)&&void 0!==t?t:3,sleepHours:o.sleepHours||"",sleepQuality:o.sleepQuality||"",eatingHabits:o.eatingHabits||"",badHabits:o.badHabits||""})},N=()=>{h({injuries:o.injuries||"",trainingExperience:o.trainingExperience||"",potentialObstacles:o.potentialObstacles||""})},O=async(e,n,r)=>{try{const o={clientId:t.id,data:n,blockName:e};if(!(await qd("clients/saveClientBlock","PATCH",o)).success)throw new Error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f");a((e=>({...e,...n}))),r(!1),Ud("successsuccess","success",`\u0411\u043b\u043e\u043a "${e}" \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0451\u043d`,1500)}catch(o){Ud("errorerror","error",`\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0438: ${o.message}`,1500)}};return(0,sn.jsx)(ps,{sx:{p:0},children:(0,sn.jsxs)(Zs,{container:!0,spacing:1,children:[(0,sn.jsx)(Zs,{item:!0,xs:12,md:6,children:(0,sn.jsxs)(cn,{sx:{p:3,borderRadius:2,boxShadow:3,position:"relative"},children:[(0,sn.jsxs)(ps,{display:"flex",alignItems:"center",mb:2,children:[(0,sn.jsx)(em,{color:"primary",sx:{mr:1}}),(0,sn.jsx)(vs,{variant:"h6",fontWeight:700,sx:{flexGrow:1},children:"\u0426\u0435\u043b\u0438 \u043a\u043b\u0438\u0435\u043d\u0442\u0430"}),f?(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)(rr,{variant:"contained",size:"small",onClick:()=>O("goals",i,m),sx:{mr:1},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),(0,sn.jsx)(rr,{variant:"outlined",size:"small",color:"error",onClick:()=>C(m,T),children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]}):(0,sn.jsx)(Ns,{size:"small",onClick:()=>m(!0),children:(0,sn.jsx)(AM.A,{fontSize:"small"})})]}),(0,sn.jsx)(qp,{sx:{mb:3}}),(0,sn.jsxs)(ps,{sx:{display:"grid",gridTemplateColumns:"140px 1fr",rowGap:1,columnGap:2,alignItems:"start"},children:[(0,sn.jsx)(vs,{variant:"subtitle2",color:"text.secondary",children:"\u0426\u0435\u043b\u044c \u0431\u0430\u0437\u043e\u0432\u0430\u044f:"}),(0,sn.jsx)(sn.Fragment,{children:S(f,"basicGoal",i,s,!0)}),(0,sn.jsx)(vs,{variant:"subtitle2",color:"text.secondary",children:"\u0426\u0435\u043b\u044c \u0432 \u043a\u0433:"}),(0,sn.jsx)(ps,{display:"flex",alignItems:"center",flexWrap:"wrap",children:S(f,"weightGoal",i,s,!1,"number")}),(0,sn.jsx)(vs,{variant:"subtitle2",color:"text.secondary",children:"\u0426\u0435\u043b\u044c \u043d\u0435 \u0432 \u043a\u0433:"}),(0,sn.jsx)(sn.Fragment,{children:S(f,"nonWeightGoal",i,s)}),(0,sn.jsx)(vs,{variant:"subtitle2",color:"text.secondary",children:"\u0414\u0430\u0442\u0430 \u0446\u0435\u043b\u0438:"}),(0,sn.jsx)(ps,{display:"flex",alignItems:"center",flexWrap:"wrap",children:S(f,"goalDate",i,s,!1,"date")}),(0,sn.jsx)(vs,{variant:"subtitle2",color:"text.secondary",sx:{pt:1},children:"\u0418\u0434\u0435\u0430\u043b\u044c\u043d\u0430\u044f \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0430:"}),(0,sn.jsx)(sn.Fragment,{children:S(f,"idealPicture",i,s,!0)})]})]})}),(0,sn.jsx)(Zs,{item:!0,xs:12,md:6,children:(0,sn.jsxs)(cn,{sx:{p:3,borderRadius:2,boxShadow:3,position:"relative"},children:[(0,sn.jsxs)(ps,{display:"flex",alignItems:"center",mb:2,children:[(0,sn.jsx)(uy,{color:"warning",sx:{mr:1}}),(0,sn.jsx)(vs,{variant:"h6",fontWeight:700,sx:{flexGrow:1},children:"\u041f\u0440\u043e\u0431\u043b\u0435\u043c\u044b \u0438 \u0442\u0440\u0443\u0434\u043d\u043e\u0441\u0442\u0438"}),g?(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)(rr,{variant:"contained",size:"small",onClick:()=>O("problems",l,y),sx:{mr:1},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),(0,sn.jsx)(rr,{variant:"outlined",size:"small",color:"error",onClick:()=>C(y,I),children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]}):(0,sn.jsx)(Ns,{size:"small",onClick:()=>y(!0),children:(0,sn.jsx)(AM.A,{fontSize:"small"})})]}),(0,sn.jsx)(qp,{sx:{mb:2}}),(0,sn.jsxs)(ps,{sx:{display:"flex",flexDirection:"column",gap:2},children:[(0,sn.jsxs)(ps,{children:[(0,sn.jsx)(vs,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"\u0427\u0442\u043e \u043d\u0435 \u043d\u0440\u0430\u0432\u0438\u0442\u0441\u044f \u0441\u0435\u0439\u0447\u0430\u0441:"}),S(g,"currentDislikes",l,u,!0)]}),(0,sn.jsxs)(ps,{children:[(0,sn.jsx)(vs,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"\u0422\u043e\u043f-3 \u0442\u0440\u0443\u0434\u043d\u043e\u0441\u0442\u0438:"}),S(g,"topChallenges",l,u,!0)]}),(0,sn.jsxs)(ps,{children:[(0,sn.jsx)(vs,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"\u041f\u0440\u043e\u0448\u043b\u044b\u0435 \u043f\u043e\u043f\u044b\u0442\u043a\u0438:"}),S(g,"pastAttempts",l,u,!0)]})]})]})}),(0,sn.jsx)(Zs,{item:!0,xs:12,md:6,children:(0,sn.jsxs)(cn,{sx:{p:3,borderRadius:2,boxShadow:3,position:"relative"},children:[(0,sn.jsxs)(ps,{display:"flex",alignItems:"center",mb:2,children:[(0,sn.jsx)(LQ,{color:"error",sx:{mr:1}}),(0,sn.jsx)(vs,{variant:"h6",fontWeight:700,sx:{flexGrow:1},children:"\u0410\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c \u0438 \u043f\u0440\u0438\u0432\u044b\u0447\u043a\u0438"}),v?(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)(rr,{variant:"contained",size:"small",onClick:()=>O("activity",c,b),sx:{mr:1},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),(0,sn.jsx)(rr,{variant:"outlined",size:"small",color:"error",onClick:()=>C(b,E),children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]}):(0,sn.jsx)(Ns,{size:"small",onClick:()=>b(!0),children:(0,sn.jsx)(AM.A,{fontSize:"small"})})]}),(0,sn.jsx)(qp,{sx:{mb:1}}),(0,sn.jsxs)(Zs,{container:!0,spacing:2,children:[(0,sn.jsxs)(Zs,{item:!0,xs:12,sm:6,children:[(0,sn.jsx)(vs,{variant:"subtitle2",color:"text.secondary",children:"\u0423\u0440\u043e\u0432\u0435\u043d\u044c \u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u0438 (1-5):"}),A(v,c,d,"activityLevel",LQ)]}),(0,sn.jsxs)(Zs,{item:!0,xs:12,sm:6,children:[(0,sn.jsx)(vs,{variant:"subtitle2",color:"text.secondary",children:"\u0423\u0440\u043e\u0432\u0435\u043d\u044c \u0441\u0442\u0440\u0435\u0441\u0441\u0430 (1-5):"}),A(v,c,d,"stressLevel",zQ)]}),(0,sn.jsxs)(Zs,{item:!0,xs:12,sm:6,children:[(0,sn.jsx)(vs,{variant:"subtitle2",color:"text.secondary",children:"\u0421\u043e\u043d (\u0447\u0430\u0441\u043e\u0432 \u0432 \u0441\u0443\u0442\u043a\u0438):"}),S(v,"sleepHours",c,d,!1,"number")]}),(0,sn.jsxs)(Zs,{item:!0,xs:12,sm:6,children:[(0,sn.jsx)(vs,{variant:"subtitle2",color:"text.secondary",children:"\u041a\u0430\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u043d\u0430:"}),S(v,"sleepQuality",c,d)]}),(0,sn.jsxs)(Zs,{item:!0,xs:12,children:[(0,sn.jsx)(vs,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"\u041f\u0438\u0449\u0435\u0432\u044b\u0435 \u043f\u0440\u0438\u0432\u044b\u0447\u043a\u0438:"}),S(v,"eatingHabits",c,d,!0)]}),(0,sn.jsxs)(Zs,{item:!0,xs:12,children:[(0,sn.jsx)(vs,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"\u0412\u0440\u0435\u0434\u043d\u044b\u0435 \u043f\u0440\u0438\u0432\u044b\u0447\u043a\u0438:"}),S(v,"badHabits",c,d,!0)]})]})]})}),(0,sn.jsx)(Zs,{item:!0,xs:12,md:6,children:(0,sn.jsxs)(cn,{sx:{p:3,borderRadius:2,boxShadow:3,position:"relative"},children:[(0,sn.jsxs)(ps,{display:"flex",alignItems:"center",mb:2,children:[(0,sn.jsx)(ly,{color:"action",sx:{mr:1}}),(0,sn.jsx)(vs,{variant:"h6",fontWeight:700,sx:{flexGrow:1},children:"\u041e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u044f \u0438 \u043e\u043f\u044b\u0442"}),x?(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)(rr,{variant:"contained",size:"small",onClick:()=>O("limits",p,w),sx:{mr:1},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),(0,sn.jsx)(rr,{variant:"outlined",size:"small",color:"error",onClick:()=>C(w,N),children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]}):(0,sn.jsx)(Ns,{size:"small",onClick:()=>w(!0),children:(0,sn.jsx)(AM.A,{fontSize:"small"})})]}),(0,sn.jsx)(qp,{sx:{mb:2}}),(0,sn.jsxs)(Zs,{container:!0,spacing:2,children:[(0,sn.jsxs)(Zs,{item:!0,xs:12,md:6,children:[(0,sn.jsx)(vs,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"\u0422\u0440\u0430\u0432\u043c\u044b/\u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u044f:"}),S(x,"injuries",p,h,!0)]}),(0,sn.jsxs)(Zs,{item:!0,xs:12,md:6,children:[(0,sn.jsx)(vs,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"\u041e\u043f\u044b\u0442 \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043e\u043a:"}),S(x,"trainingExperience",p,h,!0)]}),(0,sn.jsxs)(Zs,{item:!0,xs:12,children:[(0,sn.jsx)(vs,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:"\u041f\u043e\u0442\u0435\u043d\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u0435 \u043f\u0440\u0435\u043f\u044f\u0442\u0441\u0442\u0432\u0438\u044f:"}),S(x,"potentialObstacles",p,h,!0)]})]})]})})]})})};var WQ=n(4318);function VQ(e){return(0,on.Ay)("MuiCollapse",e)}(0,rn.A)("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const UQ=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],HQ=(0,en.Ay)("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation],"entered"===n.state&&t.entered,"exited"===n.state&&!n.in&&"0px"===n.collapsedSize&&t.hidden]}})((e=>{let{theme:t,ownerState:n}=e;return(0,Yt.A)({height:0,overflow:"hidden",transition:t.transitions.create("height")},"horizontal"===n.orientation&&{height:"auto",width:0,transition:t.transitions.create("width")},"entered"===n.state&&(0,Yt.A)({height:"auto",overflow:"visible"},"horizontal"===n.orientation&&{width:"auto"}),"exited"===n.state&&!n.in&&"0px"===n.collapsedSize&&{visibility:"hidden"})})),GQ=(0,en.Ay)("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(e,t)=>t.wrapper})((e=>{let{ownerState:t}=e;return(0,Yt.A)({display:"flex",width:"100%"},"horizontal"===t.orientation&&{width:"auto",height:"100%"})})),qQ=(0,en.Ay)("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(e,t)=>t.wrapperInner})((e=>{let{ownerState:t}=e;return(0,Yt.A)({width:"100%"},"horizontal"===t.orientation&&{width:"auto",height:"100%"})})),KQ=W.forwardRef((function(e,t){const n=(0,nn.b)({props:e,name:"MuiCollapse"}),{addEndListener:r,children:o,className:a,collapsedSize:i="0px",component:s,easing:l,in:u,onEnter:c,onEntered:d,onEntering:p,onExit:h,onExited:f,onExiting:m,orientation:g="vertical",style:y,timeout:v=WQ.p0.standard,TransitionComponent:b=ba}=n,x=(0,Xt.A)(n,UQ),w=(0,Yt.A)({},n,{orientation:g,collapsedSize:i}),k=(e=>{const{orientation:t,classes:n}=e,r={root:["root",`${t}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${t}`],wrapperInner:["wrapperInner",`${t}`]};return(0,Zt.A)(r,VQ,n)})(w),S=xa(),A=(0,In.A)(),C=W.useRef(null),T=W.useRef(),I="number"===typeof i?`${i}px`:i,E="horizontal"===g,N=E?"width":"height",O=W.useRef(null),M=(0,hn.A)(t,O),D=e=>t=>{if(e){const n=O.current;void 0===t?e(n):e(n,t)}},R=()=>C.current?C.current[E?"clientWidth":"clientHeight"]:0,P=D(((e,t)=>{C.current&&E&&(C.current.style.position="absolute"),e.style[N]=I,c&&c(e,t)})),$=D(((e,t)=>{const n=R();C.current&&E&&(C.current.style.position="");const{duration:r,easing:o}=ka({style:y,timeout:v,easing:l},{mode:"enter"});if("auto"===v){const t=S.transitions.getAutoHeightDuration(n);e.style.transitionDuration=`${t}ms`,T.current=t}else e.style.transitionDuration="string"===typeof r?r:`${r}ms`;e.style[N]=`${n}px`,e.style.transitionTimingFunction=o,p&&p(e,t)})),j=D(((e,t)=>{e.style[N]="auto",d&&d(e,t)})),_=D((e=>{e.style[N]=`${R()}px`,h&&h(e)})),F=D(f),L=D((e=>{const t=R(),{duration:n,easing:r}=ka({style:y,timeout:v,easing:l},{mode:"exit"});if("auto"===v){const n=S.transitions.getAutoHeightDuration(t);e.style.transitionDuration=`${n}ms`,T.current=n}else e.style.transitionDuration="string"===typeof n?n:`${n}ms`;e.style[N]=I,e.style.transitionTimingFunction=r,m&&m(e)}));return(0,sn.jsx)(b,(0,Yt.A)({in:u,onEnter:P,onEntered:j,onEntering:$,onExit:_,onExited:F,onExiting:L,addEndListener:e=>{"auto"===v&&A.start(T.current||0,e),r&&r(O.current,e)},nodeRef:O,timeout:"auto"===v?null:v},x,{children:(e,t)=>(0,sn.jsx)(HQ,(0,Yt.A)({as:s,className:(0,Qt.A)(k.root,a,{entered:k.entered,exited:!u&&"0px"===I&&k.hidden}[e]),style:(0,Yt.A)({[E?"minWidth":"minHeight"]:I},y),ref:M},t,{ownerState:(0,Yt.A)({},w,{state:e}),children:(0,sn.jsx)(GQ,{ownerState:(0,Yt.A)({},w,{state:e}),className:k.wrapper,ref:C,children:(0,sn.jsx)(qQ,{ownerState:(0,Yt.A)({},w,{state:e}),className:k.wrapperInner,children:o})})}))}))}));KQ.muiSupportAuto=!0;const XQ=KQ,YQ=(0,Vi.A)((0,sn.jsx)("path",{d:"M13.49 5.48c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m-3.6 13.9 1-4.4 2.1 2v6h2v-7.5l-2.1-2 .6-3c1.3 1.5 3.3 2.5 5.5 2.5v-2c-1.9 0-3.5-1-4.3-2.4l-1-1.6c-.4-.6-1-1-1.7-1-.3 0-.5.1-.8.1l-5.2 2.2v4.7h2v-3.4l1.8-.7-1.6 8.1-4.9-1-.4 2z"}),"DirectionsRun"),QQ=(0,Vi.A)((0,sn.jsx)("path",{d:"M13.5.67s.74 2.65.74 4.8c0 2.06-1.35 3.73-3.41 3.73-2.07 0-3.63-1.67-3.63-3.73l.03-.36C5.21 7.51 4 10.62 4 14c0 4.42 3.58 8 8 8s8-3.58 8-8C20 8.61 17.41 3.8 13.5.67M11.71 19c-1.78 0-3.22-1.4-3.22-3.14 0-1.62 1.05-2.76 2.81-3.12 1.77-.36 3.6-1.21 4.62-2.58.39 1.29.59 2.65.59 4.04 0 2.65-2.15 4.8-4.8 4.8"}),"Whatshot"),ZQ=(0,Vi.A)((0,sn.jsx)("path",{d:"M13 7.83c.85-.3 1.53-.98 1.83-1.83H18l-3 7c0 1.66 1.57 3 3.5 3s3.5-1.34 3.5-3l-3-7h2V4h-6.17c-.41-1.17-1.52-2-2.83-2s-2.42.83-2.83 2H3v2h2l-3 7c0 1.66 1.57 3 3.5 3S9 14.66 9 13L6 6h3.17c.3.85.98 1.53 1.83 1.83V19H2v2h20v-2h-9zM20.37 13h-3.74l1.87-4.36zm-13 0H3.63L5.5 8.64zM12 6c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1"}),"Balance"),JQ=(0,Vi.A)((0,sn.jsx)("path",{d:"M12 2c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2m9 7h-6v13h-2v-6h-2v6H9V9H3V7h18z"}),"Accessibility"),eZ=(0,Vi.A)((0,sn.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),tZ=(0,Vi.A)((0,sn.jsx)("path",{d:"m12 8-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"}),"ExpandLess"),nZ=(0,Vi.A)((0,sn.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore"),rZ=[{value:"energetic",label:"\u0411\u043e\u0434\u0440\u043e"},{value:"tired",label:"\u041d\u0435\u043c\u043d\u043e\u0433\u043e \u0443\u0441\u0442\u0430\u043b"},{value:"failed",label:"\u041d\u0435 \u0441\u043c\u043e\u0433 \u0441\u0434\u0435\u043b\u0430\u0442\u044c"},{value:"pain",label:"\u0418\u0441\u043f\u044b\u0442\u044b\u0432\u0430\u0435\u0442 \u0431\u043e\u043b\u044c"}],oZ=e=>{switch(e){case"pain":return"#f44336";case"failed":return"#ff9800";case"tired":return"#ffb300";case"energetic":return"#4caf50";default:return"inherit"}},aZ=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return{endurance:`rgba(76,175,80,${t})`,strength:`rgba(244,67,54,${t})`,flexibility:`rgba(33,150,243,${t})`,balance:`rgba(255,152,0,${t})`,mobility:`rgba(156,39,176,${t})`}[e]||`rgba(0,0,0,${t})`},iZ=e=>{switch(e){case"endurance":return(0,sn.jsx)(YQ,{sx:{color:"#4caf50"}});case"strength":return(0,sn.jsx)(QQ,{sx:{color:"#f44336"}});case"flexibility":return(0,sn.jsx)(sy,{sx:{color:"#2196f3"}});case"balance":return(0,sn.jsx)(ZQ,{sx:{color:"#ff9800"}});case"mobility":return(0,sn.jsx)(JQ,{sx:{color:"#9c27b0"}});default:return(0,sn.jsx)(em,{})}},sZ=e=>({endurance:"\u0412\u044b\u043d\u043e\u0441\u043b\u0438\u0432\u043e\u0441\u0442\u044c",strength:"\u0421\u0438\u043b\u0430",flexibility:"\u0413\u0438\u0431\u043a\u043e\u0441\u0442\u044c",balance:"\u0411\u0430\u043b\u0430\u043d\u0441",mobility:"\u041f\u043e\u0434\u0432\u0438\u0436\u043d\u043e\u0441\u0442\u044c \u0438 \u043a\u043e\u043e\u0440\u0434\u0438\u043d\u0430\u0446\u0438\u044f"}[e]||e),lZ={exercise:"",expected:"",actual:"",feeling:"",notes:"",isDirty:!0,saveStatus:"idle"},uZ=(0,W.memo)((e=>{let{row:t,index:n,section:r,onFieldChange:o,onDelete:a,onSave:i}=e;const s=(e,t)=>o(r,n,e,t),l=t.isDirty?"rgba(255,244,229,0.7)":"inherit";return(0,sn.jsxs)(gy,{hover:!0,sx:{backgroundColor:l},children:[["exercise","expected","actual","notes"].map((e=>(0,sn.jsx)(ky,{children:(0,sn.jsx)(rs,{fullWidth:!0,variant:"standard",size:"small",value:t[e]||"",InputProps:{sx:{fontSize:11,py:.5}},onChange:t=>s(e,t.target.value)})},e))),(0,sn.jsx)(ky,{children:(0,sn.jsx)(rs,{select:!0,fullWidth:!0,variant:"standard",size:"small",value:t.feeling||"",InputProps:{sx:{fontSize:11,py:.5,color:oZ(t.feeling),fontWeight:600}},onChange:e=>s("feeling",e.target.value),children:rZ.map((e=>(0,sn.jsx)(ul,{value:e.value,sx:{color:oZ(e.value),fontWeight:500},children:e.label},e.value)))})}),(0,sn.jsxs)(ky,{align:"right",sx:{whiteSpace:"nowrap"},children:[(0,sn.jsx)(Ns,{size:"small",onClick:()=>a(r,n),color:"error",title:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",sx:{mr:.5},children:(0,sn.jsx)(Qg,{fontSize:"small"})}),t.isDirty?(0,sn.jsx)(Ns,{size:"small",color:"primary",onClick:()=>i(r,n),disabled:"saving"===t.saveStatus,title:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",children:(0,sn.jsx)(Il,{fontSize:"small"})}):"saved"===t.saveStatus?(0,sn.jsx)(eZ,{sx:{color:"green",fontSize:24,verticalAlign:"middle"},titleAccess:"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043e"}):null]})]})}));function cZ(e){let{editedClient:t}=e;const[n,r]=(0,W.useState)({endurance:!1,strength:!1,flexibility:!1,balance:!1,mobility:!1}),[o,a]=(0,W.useState)([]),[i,s]=(0,W.useState)([]),[l,u]=(0,W.useState)([]),[c,d]=(0,W.useState)([]),[p,h]=(0,W.useState)([]),[f,m]=(0,W.useState)([]),[g,y]=(0,W.useState)(null),[v,b]=(0,W.useState)(!1),[x,w]=(0,W.useState)(""),[k,S]=(0,W.useState)(!0),[A,C]=(0,W.useState)(!1),T=(0,W.useMemo)((()=>({endurance:[o,a],strength:[i,s],flexibility:[l,u],balance:[c,d],mobility:[p,h]})),[o,i,l,c,p]),I=(0,W.useCallback)((async()=>{try{const e=await qd(`/fitness_test/?clientId=${t}&table=fitness_tests`,"GET");Array.isArray(e.data)&&e.data.length>0?(m(e.data),y((t=>t&&e.data.some((e=>e.id===t))?t:e.data[e.data.length-1].id)),C(!1)):(m([]),y(null),C(!0))}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0441\u043f\u0438\u0441\u043a\u0430 \u0442\u0435\u0441\u0442\u043e\u0432:",e),C(!0)}finally{S(!1)}}),[t]),E=(0,W.useCallback)((async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g;if(e)try{const t=await qd(`/fitness_test/fitness_test_exercises?testId=${e}&table=fitness_test_exercises`,"GET");t&&Array.isArray(t.data)&&(a(t.data.filter((e=>"endurance"===e.section)).map((e=>({...e,isDirty:!1,saveStatus:"idle"})))),s(t.data.filter((e=>"strength"===e.section)).map((e=>({...e,isDirty:!1,saveStatus:"idle"})))),u(t.data.filter((e=>"flexibility"===e.section)).map((e=>({...e,isDirty:!1,saveStatus:"idle"})))),d(t.data.filter((e=>"balance"===e.section)).map((e=>({...e,isDirty:!1,saveStatus:"idle"})))),h(t.data.filter((e=>"mobility"===e.section)).map((e=>({...e,isDirty:!1,saveStatus:"idle"})))))}catch(t){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0434\u0430\u043d\u043d\u044b\u0445 \u0442\u0435\u0441\u0442\u0430:",t),a([]),s([]),u([]),d([]),h([])}}),[g]);(0,W.useEffect)((()=>{I()}),[I]),(0,W.useEffect)((()=>{E(g)}),[g,E]);const N=(0,W.useCallback)(((e,t,n,r)=>{const[o,a]=T[e];a((e=>{const o=[...e];return o[t]={...o[t],[n]:r,isDirty:!0,saveStatus:"idle"},o}))}),[T]),O=(0,W.useCallback)((async e=>{const[t,n]=T[e],r={...lZ};n((e=>[...e,r]));try{const t={testId:g,section:e,exercise:"",expected:"",actual:"",feeling:"",notes:""},n=await qd("/fitness_test/exercise","POST",t);n.success&&n.exercise?(Ud("success","success","\u0423\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u0435 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e",1500),await E()):(Ud("error","error","\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0438",1500),await E())}catch(o){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0438:",o),Ud("error","error","\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0438",1500),await E()}}),[T,g,E]),M=(0,W.useCallback)((async(e,t)=>{const[n,r]=T[e],o=n[t];if(r((e=>e.filter(((e,n)=>n!==t)))),null!==o&&void 0!==o&&o.id)try{(await qd(`/fitness_test/${o.id}`,"DELETE")).success?Ud("success","success","\u0423\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u0435 \u0443\u0434\u0430\u043b\u0435\u043d\u043e",1500):Ud("error","error","\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 (\u0441\u0435\u0440\u0432\u0435\u0440)",1500)}catch(a){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438:",a),Ud("error","error","\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438",1500)}finally{await E()}else Ud("success","success","\u0423\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u0435 \u0443\u0434\u0430\u043b\u0435\u043d\u043e",1500)}),[T,E]),D=async()=>{if(x.trim())try{const e={clientId:t,name:x.trim()},n=await qd("/fitness_test/newTest","POST",e);n.success&&n.newTest?(Ud("success","\u0423\u0441\u043f\u0435\u0445","\u0424\u0438\u0442\u043d\u0435\u0441-\u0442\u0435\u0441\u0442 \u0441\u043e\u0437\u0434\u0430\u043d",1500),b(!1),w(""),await I(),y(n.newTest.id)):Ud("error","\u041e\u0448\u0438\u0431\u043a\u0430","\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0442\u0435\u0441\u0442",1500)}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 \u0442\u0435\u0441\u0442\u0430:",e),Ud("error","\u041e\u0448\u0438\u0431\u043a\u0430","\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 \u0442\u0435\u0441\u0442\u0430",1500)}else Ud("warning","\u041f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u0435","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0442\u0435\u0441\u0442\u0430",2e3)},R=(0,W.useCallback)((async(e,t)=>{const[n,r]=T[e],o=n[t];if(o)if(o.id)try{const e={exercise:o.exercise,expected:o.expected,actual:o.actual,feeling:o.feeling,notes:o.notes};(await qd(`/fitness_test/exercise/${o.id}`,"PATCH",e)).success?Ud("success","success","\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u044b",1500):Ud("error","error","\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0438",1500)}catch(a){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0438 \u0441\u0442\u0440\u043e\u043a\u0438:",a),Ud("error","error","\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0438",1500)}finally{await E()}else try{const t={testId:g,section:e,exercise:o.exercise||"",expected:o.expected||"",actual:o.actual||"",feeling:o.feeling||"",notes:o.notes||""};(await qd("/fitness_test/exercise","POST",t)).success?Ud("success","success","\u0423\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043e",1500):Ud("error","error","\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0438",1500)}catch(a){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0438 \u0441\u0442\u0440\u043e\u043a\u0438:",a),Ud("error","error","\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0438",1500)}finally{await E()}}),[T,g,E]),P=(0,W.useCallback)((e=>{r((t=>({...t,[e]:!t[e]})))}),[]);return k?(0,sn.jsx)(vs,{sx:{mt:4,textAlign:"center"},children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}):A?(0,sn.jsxs)(ps,{sx:{textAlign:"center",mt:6},children:[(0,sn.jsx)(vs,{variant:"h6",gutterBottom:!0,children:"\u0424\u0438\u0442\u043d\u0435\u0441-\u0442\u0435\u0441\u0442\u044b \u0435\u0449\u0451 \u043d\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u044b"}),(0,sn.jsx)(rr,{variant:"contained",onClick:()=>b(!0),children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u0435\u0440\u0432\u044b\u0439 \u0442\u0435\u0441\u0442"}),v&&(0,sn.jsx)(dZ,{open:v,value:x,onChange:e=>w(e.target.value),onClose:()=>b(!1),onSubmit:()=>{D()}})]}):(0,sn.jsxs)("div",{style:{display:"flex",gap:24,maxWidth:1600,margin:"24px auto",padding:8},children:[(0,sn.jsxs)(cn,{elevation:4,sx:{p:3,minWidth:320,maxWidth:"45%",display:"flex",flexDirection:"column",gap:2},children:[(0,sn.jsx)(vs,{variant:"h6",fontWeight:700,color:"primary",children:"\u0424\u0438\u0442\u043d\u0435\u0441-\u0442\u0435\u0441\u0442\u044b"}),(0,sn.jsx)(rs,{select:!0,size:"medium",value:g||"",onChange:e=>y(e.target.value),fullWidth:!0,children:f.map((e=>(0,sn.jsx)(ul,{value:e.id,children:e.name||`\u0422\u0435\u0441\u0442 #${e.id}`},e.id)))}),(0,sn.jsx)(rr,{variant:"contained",startIcon:(0,sn.jsx)(lm,{}),onClick:()=>b(!0),children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0442\u0435\u0441\u0442"}),v&&(0,sn.jsx)(dZ,{open:v,value:x,onChange:e=>w(e.target.value),onClose:()=>b(!1),onSubmit:D})]}),(0,sn.jsx)(cn,{sx:{p:3,maxWidth:"50%",maxHeight:630,overflowY:"auto"},children:Object.entries(T).map((e=>{let[t,[r]]=e;return(0,sn.jsxs)(ps,{sx:{mb:2},children:[(0,sn.jsxs)(ps,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",backgroundColor:aZ(t,.1),p:1,borderRadius:1},children:[(0,sn.jsxs)(ps,{display:"flex",alignItems:"center",sx:{cursor:"pointer",flexGrow:1},onClick:()=>P(t),children:[iZ(t),(0,sn.jsx)(vs,{variant:"subtitle1",sx:{ml:1,fontWeight:600},children:sZ(t)}),n[t]?(0,sn.jsx)(tZ,{}):(0,sn.jsx)(nZ,{})]}),(0,sn.jsx)(Ns,{size:"small",onClick:e=>{e.stopPropagation(),O(t)},children:(0,sn.jsx)(lm,{fontSize:"small"})})]}),(0,sn.jsx)(XQ,{in:n[t],children:(0,sn.jsx)(Ty,{component:cn,variant:"outlined",sx:{mt:1},children:(0,sn.jsxs)(My,{size:"small",children:[(0,sn.jsx)(_y,{children:(0,sn.jsxs)(gy,{children:[(0,sn.jsx)(ky,{children:"\u0423\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u0435"}),(0,sn.jsx)(ky,{children:"\u041e\u0436\u0438\u0434\u0430\u0435\u043c\u044b\u0439 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442"}),(0,sn.jsx)(ky,{children:"\u0424\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442"}),(0,sn.jsx)(ky,{children:"\u0412\u044b\u0432\u043e\u0434\u044b"}),(0,sn.jsx)(ky,{children:"\u0427\u0443\u0432\u0441\u0442\u0432\u043e"}),(0,sn.jsx)(ky,{})]})}),(0,sn.jsx)(Vy,{children:r.map(((e,n)=>(0,sn.jsx)(uZ,{row:e,index:n,section:t,onFieldChange:N,onDelete:M,onSave:R},e.id||`row-${n}`)))})]})})})]},t)}))})]})}const dZ=(0,W.memo)((e=>{let{open:t,value:n,onChange:r,onClose:o,onSubmit:a}=e;return(0,sn.jsxs)(xm,{open:t,onClose:o,children:[(0,sn.jsx)(Cm,{children:"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0444\u0438\u0442\u043d\u0435\u0441-\u0442\u0435\u0441\u0442\u0430"}),(0,sn.jsx)(Nm,{children:(0,sn.jsx)(rs,{fullWidth:!0,value:n,onChange:r,label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0438\u043b\u0438 \u0434\u0430\u0442\u0443"})}),(0,sn.jsxs)(Rm,{children:[(0,sn.jsx)(rr,{onClick:o,children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"}),(0,sn.jsx)(rr,{onClick:a,children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"})]})]})})),pZ=W.memo((e=>{const{onSuccess:t,setAction:n,action:r,open:o,onClose:a,client:i,onPayment:s,fetchWithRetry:l,addSnackBar:u,fetchData:c,addToast:d,setSelectedClient:p}=e,h=xa(),[f,m]=(0,W.useState)(0),[g,y]=(0,W.useState)(!1),[v,b]=(0,W.useState)(i),[x,w]=(0,W.useState)(null),[k,S]=(0,W.useState)(!1),[A,C]=(0,W.useState)(!1),T=(0,W.useRef)(null),[I,E]=(0,W.useState)(!1),[N,O]=(0,W.useState)(),[M,D]=(0,W.useState)(!1),[R,P]=(0,W.useState)(null),[$,j]=(0,W.useState)({completed:0,remaining:0,total:0,lastPayment:0,progress:0}),[_,F]=(0,W.useState)([]),[L,z]=(0,W.useState)(!1),[B,V]=(0,W.useState)([]),[U,H]=(0,W.useState)(""),[G,q]=(0,W.useState)(""),[K,X]=(0,W.useState)(!1),Y=JSON.parse(localStorage.getItem("user")),Q=null===Y||void 0===Y?void 0:Y.id;(0,W.useEffect)((()=>{b(i),y(!1)}),[o]),(0,W.useEffect)((()=>{null!==v&&void 0!==v&&v.name&&(ae(),Z(),ie())}),[null===v||void 0===v?void 0:v.name,M,A]),(0,W.useEffect)((()=>{4===f&&ie(),!1===A&&ie()}),[A,f,M]),(0,W.useEffect)((()=>{m(0)}),[null===v||void 0===v?void 0:v.name]),(0,W.useEffect)((()=>{"delete"===r?(S(!0),n(""),ne()):"writeOff"===r?(C(!0),n(""),ne()):"payAdd"===r&&(D(!0),n(""),ne())}),[r]);const Z=async()=>{try{const e=await l("/payment_history/quantity","Patch",i);if(e){const t=e[0].quantity-e[0].quantityLeft||0,n=e[0].quantity||0,r=n,o=0===r?0:Math.round(t/r*100);j({completed:t,remaining:n,total:r,lastPayment:e[0].dateTo,progress:o})}}catch(e){const t=0;j({completed:0,remaining:t,total:t,progress:0})}},J={Male:{primary:h.palette.primary.main,dark:h.palette.primary.dark,light:h.palette.primary.light,gradient:`linear-gradient(135deg, ${h.palette.primary.dark} 0%, ${h.palette.primary.main} 100%)`},Female:{primary:h.palette.secondary.main,dark:h.palette.secondary.dark,light:h.palette.secondary.light,gradient:`linear-gradient(135deg, ${h.palette.secondary.dark} 0%, ${h.palette.secondary.main} 100%)`}},ee=W.useMemo((()=>J[i.gender]||J.Male),[i.gender]),te=W.useCallback((e=>{e.preventDefault(),w({mouseX:e.clientX,mouseY:e.clientY})}),[]),ne=()=>w(null),re=W.useCallback(((e,t)=>{b((n=>({...n,[e]:t})))}),[]),oe=W.useCallback((async()=>{try{const e=await l("/clients","PATCH",{phoneNumber:i.phone,form:v});console.log(e),"\u0414\u0430\u043d\u043d\u044b\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u044b!"===e.message?(c(),y(!1),p(e.data[0]),u("DeleteClient1","success","\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u044b\u0443 \u0441\u043f\u0435\u0448\u043d\u043e!")):u("DeleteClient55","error","\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430\u043f\u0440\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0438 \u043a\u043b\u0438\u0435\u043d\u0442\u0430")}catch(e){u("DeleteClient","error","\u041e\u0448\u0438\u0431\u043a\u0430 \u0432 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u0434\u0430\u043d\u043d\u044b\u0445 \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0432 \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u0430")}}),[i.phone,v,c,p,u]),ae=async()=>{try{const e=(await l("/payment_history","GET")).filter((e=>e.clientId&&v.id?e.clientId===v.id:e.client===v.name));F(e)}catch(e){d("error","error","\u041e\u0448\u0438\u0431\u043a\u0430 \u0434\u043e\u0431\u044b\u0447\u0438 \u0434\u0430\u043d\u043d\u044b\u0445 \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u0430!",1e3)}},ie=async()=>{try{const e=await l(`/session_history/customGet?clientId=${v.id}`,"GET");V(e)}catch(e){d("error","error","\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445 \u043e \u0438\u0441\u0442\u043e\u0440\u0438\u0438 \u043f\u043e\u0441\u0435\u0447\u0435\u043d\u0438\u0439 \u044d\u0442\u043e\u0433\u043e \u043a\u043b\u0438\u0435\u043d\u0442\u0430!",1e3)}},se=async()=>{try{const e={clientId:v.id,startDate:U||null,endDate:G||null};console.log("=> REPORT PAYLOAD",e);const t=await Hc.post("https://lemon-birds-double.loca.lt/report/monthly",e,{responseType:"blob",withCredentials:!0}),n=new Blob([t.data],{type:"application/pdf"}),r=URL.createObjectURL(n),o=document.createElement("a");o.href=r,o.download="monthly_report.pdf",document.body.appendChild(o),o.click(),o.remove(),URL.revokeObjectURL(r),H(""),q("")}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043a\u0430\u0447\u0438\u0432\u0430\u043d\u0438\u044f PDF:",e)}};return(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsxs)(xm,{open:o,onClose:a,fullScreen:!0,maxWidth:"xl",PaperProps:{sx:{background:h.palette.background.default,borderRadius:0,overflow:"hidden"},ref:T,onContextMenu:te},children:[(0,sn.jsxs)(wi,{open:null!==x,onClose:ne,anchorReference:"anchorPosition",anchorPosition:null!==x?{top:x.mouseY,left:x.mouseX}:void 0,children:[(0,sn.jsxs)(ul,{onClick:()=>{S(!0),ne()},children:[(0,sn.jsx)(jm,{children:(0,sn.jsx)(Qg,{color:"error",fontSize:"small"})}),(0,sn.jsx)(vs,{variant:"body2",children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043a\u043b\u0438\u0435\u043d\u0442\u0430"})]}),(0,sn.jsxs)(ul,{onClick:()=>{D(!0),ne()},children:[(0,sn.jsx)(jm,{children:(0,sn.jsx)(Yf,{color:"success",fontSize:"small"})}),(0,sn.jsx)(vs,{variant:"body2",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043e\u043f\u043b\u0430\u0442\u0443"})]}),(0,sn.jsx)(ul,{onClick:()=>{C(!0),ne()},children:(0,sn.jsx)(vs,{variant:"body2",children:"\u0421\u043f\u0438\u0441\u0430\u0442\u044c \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0443!"})})]}),(0,sn.jsxs)(ps,{sx:{background:ee.gradient,color:"white",p:1,position:"relative",overflow:"hidden","&::after":{content:'""',position:"absolute",bottom:-50,right:-50,width:200,height:200,background:"rgba(255,255,255,0.1)",borderRadius:"50%"}},children:[(0,sn.jsxs)(ps,{display:"flex",justifyContent:"space-between",alignItems:"flex-start",children:[(0,sn.jsxs)(ps,{display:"flex",alignItems:"center",gap:3,children:[(0,sn.jsx)(Vm,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},badgeContent:(0,sn.jsx)(ps,{sx:{bgcolor:"success.main",color:"white",borderRadius:"50%",p:.5,display:"flex"},children:(0,sn.jsx)(Zg,{fontSize:"small"})}),children:(0,sn.jsx)(mp,{sx:{width:80,height:80,bgcolor:"background.paper",color:ee.dark,fontSize:"2rem",border:"3px solid white"},children:i.name.charAt(0)})}),(0,sn.jsxs)(ps,{children:[(0,sn.jsx)(vs,{variant:"h4",fontWeight:700,sx:{mb:.5},children:g?(0,sn.jsx)(rs,{value:v.name,onChange:e=>re("name",e.target.value),variant:"standard",sx:{input:{color:"white",fontSize:"2rem",fontWeight:700}}}):i.name}),(0,sn.jsxs)(ps,{display:"flex",gap:1.5,flexWrap:"wrap",sx:{mt:1.5},children:[g?(0,sn.jsx)(sn.Fragment,{children:(0,sn.jsx)(rs,{label:"\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f",type:"date",value:v.dateOfBirth,onChange:e=>re("dateOfBirth",e.target.value),size:"small",InputLabelProps:{shrink:!0},sx:{"& .MuiInputBase-root":{bgcolor:"rgba(255, 255, 255, 0.2)",color:"white"},input:{color:"white"}}})}):(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)(Sp,{label:`${i.age} \u043b\u0435\u0442`,size:"small",icon:(0,sn.jsx)(Cl,{sx:{color:"inherit !important"}}),sx:{color:"white",bgcolor:"rgba(255,255,255,0.2)",height:32}}),(0,sn.jsx)(Sp,{label:"Male"===i.gender?"\u041c\u0443\u0436\u0441\u043a\u043e\u0439":"\u0416\u0435\u043d\u0441\u043a\u0438\u0439",size:"small",icon:"Male"===i.gender?(0,sn.jsx)(am,{sx:{color:"inherit !important"}}):(0,sn.jsx)(im,{sx:{color:"inherit !important"}}),sx:{color:"white",bgcolor:"rgba(255,255,255,0.2)",height:32}})]}),(0,sn.jsx)(Sp,{label:g?(0,sn.jsxs)(ps,{display:"flex",alignItems:"center",gap:1,children:[(0,sn.jsx)(ps,{fontSize:"0.9rem",children:"\u0420\u043e\u0441\u0442:"}),(0,sn.jsx)(rs,{value:v.height,onChange:e=>re("height",e.target.value),size:"small",type:"number",variant:"outlined",sx:{width:70,backgroundColor:"white",borderRadius:1},inputProps:{style:{padding:"4px 0px"}}}),(0,sn.jsx)(ps,{fontSize:"0.9rem",children:"\u0441\u043c"})]}):`\u0420\u043e\u0441\u0442: ${i.height} \u0441\u043c`,size:"small",icon:(0,sn.jsx)(Jg,{sx:{color:"inherit !important"}}),sx:{color:"white",bgcolor:"rgba(255,255,255,0.2)",height:32}}),(0,sn.jsx)(Sp,{label:g?(0,sn.jsxs)(ps,{display:"flex",alignItems:"center",gap:1,children:[(0,sn.jsx)(ps,{fontSize:"0.9rem",children:"\u0412\u0435\u0441:"}),(0,sn.jsx)(rs,{value:v.weight,onChange:e=>re("weight",e.target.value),size:"small",type:"number",variant:"outlined",sx:{width:70,backgroundColor:"white",borderRadius:1},inputProps:{style:{padding:"4px 8px"}}}),(0,sn.jsx)(ps,{fontSize:"0.9rem",children:"\u043a\u0433"})]}):`\u0412\u0435\u0441: ${i.weight} \u043a\u0433`,size:"small",icon:(0,sn.jsx)(ey,{sx:{color:"inherit !important"}}),sx:{color:"white",bgcolor:"rgba(255,255,255,0.2)",height:32}}),(0,sn.jsx)(Sp,{label:g?(0,sn.jsxs)(ps,{display:"flex",alignItems:"center",gap:1,children:[(0,sn.jsx)(rs,{value:v.phone,onChange:e=>re("phone",e.target.value),variant:"standard",fullWidth:!0,sx:{width:70,backgroundColor:"white",borderRadius:1},inputProps:{style:{padding:"4px 0px"}}}),(0,sn.jsx)(ps,{fontSize:"0.9rem",children:"\u0441\u043c"})]}):(0,sn.jsxs)("span",{children:["+7"," ",i.phone.replace(/(\d{1})(\d{3})(\d{3})(\d{4})/,"+$1 ($2) $3-$4")]}),size:"small",icon:(0,sn.jsx)(Tl,{sx:{color:"inherit !important"}}),sx:{color:"white",bgcolor:"rgba(255,255,255,0.2)",height:32}}),(0,sn.jsx)(tg,{title:"\u0414\u0430\u0442\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438:",children:(0,sn.jsx)(Sp,{label:(0,sn.jsx)("span",{children:new Date(i.createdAt).toLocaleDateString()}),size:"small",icon:(0,sn.jsx)(dm,{sx:{color:"inherit !important"}}),sx:{color:"white",bgcolor:"rgba(255,255,255,0.2)",height:32}})}),(0,sn.jsx)(Sp,{size:"small",onClick:()=>X(!0),icon:(0,sn.jsx)(ty,{sx:{color:"inherit!important"}}),label:(0,sn.jsx)("span",{children:"\u0421\u043a\u0430\u0447\u0430\u0442\u044c \u043e\u0442\u0447\u0435\u0442"}),sx:{color:"white",bgcolor:"rgba(255,255,255,0.2)",height:32}})]})]})]}),(0,sn.jsx)(ps,{display:"flex",gap:1,children:g?(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)(tg,{title:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",children:(0,sn.jsx)(Ns,{onClick:oe,color:"inherit",sx:{bgcolor:"rgba(255,255,255,0.2)","&:hover":{bgcolor:"rgba(255,255,255,0.3)"}},children:(0,sn.jsx)(Il,{})})}),(0,sn.jsx)(tg,{title:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c",children:(0,sn.jsx)(Ns,{onClick:()=>y(!1),color:"inherit",sx:{bgcolor:"rgba(255,255,255,0.2)","&:hover":{bgcolor:"rgba(255,255,255,0.3)"}},children:(0,sn.jsx)(ny,{})})})]}):(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)(tg,{title:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f",children:(0,sn.jsx)(Ns,{onClick:e=>{e.stopPropagation(),w({mouseX:e.clientX,mouseY:e.clientY})},color:"inherit",sx:{bgcolor:"rgba(255,255,255,0.2)","&:hover":{bgcolor:"rgba(255,255,255,0.3)"}},children:(0,sn.jsx)(ry,{})})}),(0,sn.jsx)(tg,{title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",children:(0,sn.jsx)(Ns,{onClick:()=>y(!0),color:"inherit",sx:{bgcolor:"rgba(255,255,255,0.2)","&:hover":{bgcolor:"rgba(255,255,255,0.3)"}},children:(0,sn.jsx)(oy,{})})}),(0,sn.jsx)(Ns,{onClick:a,color:"inherit",sx:{bgcolor:"rgba(255,255,255,0.2)","&:hover":{bgcolor:"rgba(255,255,255,0.3)"}},children:(0,sn.jsx)(ny,{})})]})})]}),0===$.completed&&0===$.total&&0===$.progress?(0,sn.jsx)(ps,{sx:{display:"flex",alignItems:"center",justifyContent:"center",mt:3,background:"rgba(0,0,0,0.2)",borderRadius:2,p:3,position:"relative",overflow:"hidden"},children:(0,sn.jsx)(vs,{variant:"body1",fontWeight:600,children:"\u041f\u0430\u043a\u0435\u0442 \u043d\u0435 \u043a\u0443\u043f\u043b\u0435\u043d! \u041a\u0443\u043f\u0438\u0442\u0435 \u043f\u0430\u043a\u0435\u0442 \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043e\u043a"})}):(0,sn.jsxs)(ps,{sx:{display:"flex",alignItems:"center",mt:3,background:"rgba(0,0,0,0.2)",borderRadius:2,p:1.5,position:"relative",overflow:"hidden"},children:[(0,sn.jsxs)(ps,{flexGrow:1,zIndex:1,children:[(0,sn.jsx)(vs,{variant:"body2",fontWeight:500,sx:{mb:1},children:"\u041f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0430 \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043e\u043a"}),(0,sn.jsxs)(ps,{display:"flex",alignItems:"center",gap:2,children:[(0,sn.jsx)(bg,{variant:"determinate",value:$.progress,sx:{height:8,flexGrow:1,borderRadius:4,bgcolor:"rgba(133, 74, 74, 0.3)","& .MuiLinearProgress-bar":{backgroundColor:"rgb(0, 255, 242)",borderRadius:4}}}),(0,sn.jsxs)(vs,{variant:"body2",fontWeight:600,children:[$.completed,"/",$.total," (",$.progress,"%)"]})]})]}),(0,sn.jsx)(ps,{zIndex:1,sx:{ml:2},children:(0,sn.jsx)(Sp,{label:`\u041e\u043f\u043b\u0430\u0442\u0430 \u0434\u043e ${new Date($.lastPayment).toLocaleDateString()}`,size:"small",icon:(0,sn.jsx)(Yf,{sx:{color:"inherit !important"}}),sx:{color:"white",bgcolor:"rgba(255,255,255,0.3)",fontWeight:500}})}),(0,sn.jsx)(ps,{sx:{position:"absolute",right:0,top:0,bottom:0,width:"40%",background:"linear-gradient(to right, transparent 0%, rgba(0,0,0,0.4) 100%)",zIndex:0}})]})]}),(0,sn.jsx)(Nm,{dividers:!0,sx:{p:0},children:(0,sn.jsxs)(ps,{sx:{padding:"0px 4px"},children:[(0,sn.jsxs)(Hg,{value:f,onChange:(e,t)=>m(t),variant:"scrollable",scrollButtons:"auto",sx:{mb:0,"& .MuiTabs-indicator":{height:5,borderRadius:3,backgroundColor:ee.primary}},children:[(0,sn.jsx)(Yg,{label:"\u041e\u0431\u0437\u043e\u0440",icon:(0,sn.jsx)(Al,{fontSize:"small"}),iconPosition:"start"}),(0,sn.jsx)(Yg,{label:"\u041f\u0440\u043e\u0433\u0440\u0435\u0441\u0441",icon:(0,sn.jsx)(ay,{fontSize:"small"}),iconPosition:"start"}),(0,sn.jsx)(Yg,{label:"\u0422\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0438",icon:(0,sn.jsx)(em,{fontSize:"small"}),iconPosition:"start"}),(0,sn.jsx)(Yg,{label:"\u041e\u043f\u043b\u0430\u0442\u044b",icon:(0,sn.jsx)(Zf,{fontSize:"small"}),iconPosition:"start"}),(0,sn.jsx)(Yg,{label:"\u0410\u043d\u0430\u043b\u0438\u0442\u0438\u043a\u0430",icon:(0,sn.jsx)(iy,{fontSize:"small"}),iconPosition:"start"}),(0,sn.jsx)(Yg,{label:"\u0424\u0438\u0442\u043d\u0435\u0441-\u0442\u0435\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435",icon:(0,sn.jsx)(sy,{fontSize:"small"}),iconPosition:"start"})]}),(0,sn.jsxs)(ps,{children:[0===f&&(0,sn.jsx)(BQ,{editedClient:v,client:i}),1===f&&(0,sn.jsxs)(ps,{sx:{display:"flex",alignItems:"flex-start",justifyContent:"space-between"},children:[(0,sn.jsxs)(ps,{sx:{mr:2,display:"flex",flexDirection:"column",gap:1},children:[(0,sn.jsx)(vs,{variant:"body2",color:"text.secondary",children:(0,sn.jsx)(BM,{clientId:i.id})}),(0,sn.jsx)(vs,{variant:"body2",color:"text.secondary",children:(0,sn.jsx)(FQ,{userId:Q,clientId:i.id})})]}),(0,sn.jsx)(ps,{children:(0,sn.jsx)(RM,{clientId:i.id})})]}),2===f&&(0,sn.jsxs)(ps,{children:[(0,sn.jsx)(vs,{variant:"h6",fontWeight:600,gutterBottom:!0,children:"\u041f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0430 \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043e\u043a"}),(0,sn.jsxs)(Zs,{container:!0,spacing:3,children:[(0,sn.jsx)(Zs,{item:!0,xs:12,md:8,children:(0,sn.jsxs)(cn,{elevation:0,sx:{p:3,borderRadius:3,background:h.palette.background.paper},children:[(0,sn.jsxs)(ps,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,children:[(0,sn.jsx)(vs,{variant:"subtitle1",color:"text.secondary",children:"\u0422\u0435\u043a\u0443\u0449\u0438\u0439 \u043f\u0440\u043e\u0433\u0440\u0435\u0441\u0441"}),(0,sn.jsx)(Sp,{label:`${$.completed}/${$.total} \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043e\u043a`,size:"small",color:"primary"})]}),(0,sn.jsx)(bg,{variant:"determinate",value:$.progress,sx:{height:10,mb:3,borderRadius:5,bgcolor:h.palette.action.selected,"& .MuiLinearProgress-bar":{borderRadius:5}}}),(0,sn.jsx)(Zs,{container:!0,spacing:2,children:[{value:$.completed,label:"\u041f\u0440\u043e\u0439\u0434\u0435\u043d\u043e",color:"primary"},{value:$.remaining,label:"\u041e\u0441\u0442\u0430\u043b\u043e\u0441\u044c",color:"secondary"},{value:`${$.progress}%`,label:"\u041f\u0440\u043e\u0433\u0440\u0435\u0441\u0441",color:"success"}].map(((e,t)=>(0,sn.jsx)(Zs,{item:!0,xs:4,children:(0,sn.jsxs)(cn,{sx:{p:2,textAlign:"center",background:h.palette.background.default},children:[(0,sn.jsx)(vs,{variant:"h4",color:`${e.color}.main`,fontWeight:600,children:e.value}),(0,sn.jsx)(vs,{variant:"body2",children:e.label})]})},t)))})]})}),(0,sn.jsx)(Zs,{item:!0,xs:12,md:4,children:(0,sn.jsxs)(cn,{elevation:0,sx:{p:3,borderRadius:3,background:h.palette.background.paper},children:[(0,sn.jsx)(vs,{variant:"subtitle1",color:"text.secondary",gutterBottom:!0,children:"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0435 \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0438"}),(0,sn.jsx)(ps,{sx:{"& > div":{mb:1.5}},children:[{date:"\u0421\u0435\u0433\u043e\u0434\u043d\u044f",type:"\u0421\u0438\u043b\u043e\u0432\u0430\u044f",duration:"60 \u043c\u0438\u043d"},{date:"\u0412\u0447\u0435\u0440\u0430",type:"\u041a\u0430\u0440\u0434\u0438\u043e",duration:"45 \u043c\u0438\u043d"},{date:"18.06.2023",type:"\u0424\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u0430\u044f",duration:"55 \u043c\u0438\u043d"}].map(((e,t)=>(0,sn.jsxs)(cn,{sx:{p:1.5,background:h.palette.background.default},children:[(0,sn.jsxs)(ps,{display:"flex",justifyContent:"space-between",children:[(0,sn.jsx)(vs,{variant:"body2",fontWeight:500,children:e.type}),(0,sn.jsx)(vs,{variant:"caption",color:"text.secondary",children:e.date})]}),(0,sn.jsxs)(vs,{variant:"body2",children:["\u0414\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c: ",e.duration]})]},t)))})]})})]})]}),3===f&&(0,sn.jsxs)(ps,{children:[(0,sn.jsxs)(ps,{display:"flex",alignItems:"center",justifyContent:"space-between",mb:3,children:[(0,sn.jsx)(ps,{flex:1,children:(0,sn.jsx)(vs,{variant:"h6",fontWeight:600,children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u043e\u043f\u043b\u0430\u0442"})}),(0,sn.jsx)(ps,{flex:1,display:"flex",justifyContent:"center",children:(0,sn.jsx)(rr,{variant:"outlined",onClick:()=>{z((e=>!e))},startIcon:(0,sn.jsx)(ly,{}),sx:{color:"#6a11cb",borderColor:"#6a11cb",borderRadius:3,px:4,py:1.2,fontWeight:600,textTransform:"none",transition:"all 0.3s ease","&:hover":{background:"linear-gradient(135deg, #6a11cb 0%, #2575fc 100%)",color:"#fff",borderColor:"transparent",boxShadow:"0 4px 15px rgba(106, 17, 203, 0.3)"}},children:L?"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0439":"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u043e\u043f\u043b\u0430\u0442"})}),(0,sn.jsx)(ps,{flex:1,display:"flex",justifyContent:"flex-end",children:(0,sn.jsx)(rr,{variant:"contained",startIcon:(0,sn.jsx)(lm,{}),onClick:()=>D(!0),sx:{background:"linear-gradient(135deg, #6a11cb 0%, #2575fc 100%)",borderRadius:3,px:4,py:1.5,boxShadow:"0 4px 15px rgba(106, 17, 203, 0.3)",textTransform:"none",fontWeight:600,"&:hover":{boxShadow:"0 6px 20px rgba(106, 17, 203, 0.4)",background:"linear-gradient(135deg, #5e0ec0 0%, #1e63e9 100%)"}},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043e\u043f\u043b\u0430\u0442\u0443"})})]}),L?(0,sn.jsx)(SM,{filters:v}):(0,sn.jsx)(uv,{payments:_,handleOpen:e=>{O(e),E(!0)}})]}),4===f&&(0,sn.jsx)(ps,{sx:{p:2,backgroundColor:h.palette.background.default},children:(0,sn.jsxs)(Zs,{container:!0,spacing:3,children:[(0,sn.jsxs)(Zs,{item:!0,xs:12,md:3,children:[(0,sn.jsxs)(cn,{elevation:1,sx:{p:1,borderRadius:2,background:h.palette.background.paper,boxShadow:"0 1px 5px rgba(0,0,0,0.1)",display:"flex",flexDirection:"column",justifyContent:"center",mb:2},children:[(0,sn.jsx)(vs,{variant:"subtitle2",color:h.palette.text.primary,fontWeight:600,sx:{userSelect:"none",mb:1},children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u043f\u043e\u0441\u0435\u0449\u0435\u043d\u0438\u0439"}),(0,sn.jsx)(ps,{sx:{flexGrow:1,overflowY:"auto",fontSize:12,maxHeight:600},children:(0,sn.jsx)(UM,{sessionsHistoryClient:B,client:i,addToast:d,setSelectedClient:p})})]}),(0,sn.jsxs)(cn,{elevation:1,sx:{p:1,borderRadius:2,mt:2,background:h.palette.background.paper,boxShadow:"0 1px 5px rgba(0,0,0,0.1)",display:"flex",flexDirection:"column",justifyContent:"flex-start"},children:[(0,sn.jsx)(vs,{variant:"subtitle2",color:h.palette.text.primary,fontWeight:300,gutterBottom:!0,sx:{userSelect:"none",mb:1},children:"\u042d\u0444\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043e\u043a"}),(0,sn.jsx)(ps,{sx:{flexGrow:0},children:[{label:"\u0421\u0440\u0435\u0434\u043d\u044f\u044f \u043f\u043e\u0441\u0435\u0449\u0430\u0435\u043c\u043e\u0441\u0442\u044c",value:"78%",progress:78},{label:"\u041f\u0440\u043e\u0433\u0440\u0435\u0441\u0441 \u0432\u0435\u0441\u0430",value:"-8 \u043a\u0433",progress:65}].map(((e,t)=>(0,sn.jsxs)(ps,{sx:{mb:2},children:[(0,sn.jsxs)(ps,{display:"flex",justifyContent:"space-between",mb:.5,children:[(0,sn.jsx)(vs,{variant:"caption",color:h.palette.text.secondary,children:e.label}),(0,sn.jsx)(vs,{variant:"caption",fontWeight:700,color:h.palette.text.primary,children:e.value})]}),(0,sn.jsx)(bg,{variant:"determinate",value:e.progress,sx:{height:6,borderRadius:3,bgcolor:h.palette.action.selected,"& .MuiLinearProgress-bar":{borderRadius:3,backgroundColor:h.palette.primary.main}}})]},t)))})]})]}),(0,sn.jsx)(Zs,{item:!0,xs:12,md:9,children:(0,sn.jsxs)(cn,{elevation:1,sx:{p:1,borderRadius:2,height:600,background:h.palette.background.paper,boxShadow:"0 1px 5px rgba(0,0,0,0.1)",display:"flex",flexDirection:"column",justifyContent:"center"},children:[(0,sn.jsx)(vs,{variant:"subtitle2",color:h.palette.text.primary,fontWeight:600,mb:1,sx:{userSelect:"none"},children:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043e\u043a"}),(0,sn.jsx)(ps,{sx:{flexGrow:1},children:(0,sn.jsx)(PQ,{clientId:v.id})})]})})]})}),5===f&&(0,sn.jsx)("div",{children:(0,sn.jsx)(cZ,{editedClient:v.id})})]})]})})]}),(0,sn.jsxs)(xm,{open:K,onClose:()=>X(!1),maxWidth:"xs",fullWidth:!0,children:[(0,sn.jsx)(Cm,{children:"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043e\u0442\u0447\u0451\u0442\u0430"}),(0,sn.jsxs)(Nm,{children:[(0,sn.jsx)(vs,{variant:"body2",sx:{mb:2},children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u0435\u0440\u0438\u043e\u0434 (\u043c\u043e\u0436\u043d\u043e \u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c)."}),(0,sn.jsx)(rs,{label:"\u041e\u0442",type:"date",value:U,onChange:e=>H(e.target.value),InputLabelProps:{shrink:!0},fullWidth:!0,sx:{mb:2}}),(0,sn.jsx)(rs,{label:"\u0414\u043e",type:"date",value:G,onChange:e=>q(e.target.value),InputLabelProps:{shrink:!0},fullWidth:!0})]}),(0,sn.jsxs)(Rm,{children:[(0,sn.jsx)(rr,{onClick:()=>X(!1),children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),(0,sn.jsx)(rr,{variant:"contained",onClick:()=>{se(),X(!1)},children:"\u0421\u043a\u0430\u0447\u0430\u0442\u044c"})]})]}),(0,sn.jsx)(CI,{open:M,onClose:()=>D(!1),fetchDataPayList:()=>ae(),client:i,clients:i,setClient:P,reloadClients:()=>c()}),(0,sn.jsx)(EI,{open:I,onClose:()=>E(!1),payment:N,isEditing:g,setIsEditing:y,handleChange:e=>{const{name:t,value:n}=e.target;O((e=>({...e,[t]:n})))},handleSave:oe,getFieldIcon:e=>{switch(e){case"amount":return(0,sn.jsx)(sN.A,{fontSize:"small"});case"client":return(0,sn.jsx)(lN.A,{fontSize:"small"});case"date":case"dateTo":return(0,sn.jsx)(uN.A,{fontSize:"small"});case"phone":return(0,sn.jsx)(cN.A,{fontSize:"small"});case"notes":return(0,sn.jsx)(dN.A,{fontSize:"small"});case"method":return(0,sn.jsx)(pN.A,{fontSize:"small"});case"type":return(0,sn.jsx)(Ap.A,{fontSize:"small"});case"status":return(0,sn.jsx)(hN.A,{fontSize:"small"});default:return null}},renderStatusChip:e=>{let t="default";return"\u0410\u043a\u0442\u0438\u0432\u0435\u043d"===e&&(t="success"),"\u041f\u0440\u043e\u0441\u0440\u043e\u0447\u0435\u043d"===e&&(t="error"),"\u041e\u0436\u0438\u0434\u0430\u0435\u0442"===e&&(t="warning"),(0,sn.jsx)(Sp,{label:e,color:t,size:"small",icon:(0,sn.jsx)(hN.A,{fontSize:"small"}),sx:{borderRadius:"6px",fontWeight:500}})}}),(0,sn.jsx)(iN,{open:A,onClose:()=>C(),client:i,fetchDataQuantity:Z,onSuccess:t,reloadClients:()=>c()}),(0,sn.jsxs)(xm,{open:k,onClose:()=>S(!1),maxWidth:"xs",fullWidth:!0,children:[(0,sn.jsx)(Cm,{children:(0,sn.jsxs)(ps,{display:"flex",alignItems:"center",gap:1,children:[(0,sn.jsx)(uy,{color:"error"}),"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435"]})}),(0,sn.jsx)(Nm,{children:(0,sn.jsxs)(vs,{children:["\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043a\u043b\u0438\u0435\u043d\u0442\u0430 ",i.name,"? \u042d\u0442\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u043d\u0435\u043b\u044c\u0437\u044f \u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c."]})}),(0,sn.jsxs)(Rm,{children:[(0,sn.jsx)(rr,{onClick:()=>S(!1),children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),(0,sn.jsx)(rr,{onClick:async()=>{try{"\u041a\u043b\u0438\u0435\u043d\u0442 \u0443\u0434\u0430\u043b\u0435\u043d!"===(await l("/clients","DELETE",{phoneNumber:i.phone})).message?(c(),S(!1),u("DeleteClient","success","\u041a\u043b\u0438\u0435\u043d\u0442 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d!"),a()):u("DeleteClient3","error","\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u043a\u043b\u0438\u0435\u043d\u0442\u0430")}catch(e){u("DeleteClient4","error","\u041e\u0448\u0438\u0431\u043a\u0430 \u0432 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u0434\u0430\u043d\u043d\u044b\u0445 \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0432 \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u0430")}},variant:"contained",color:"error",startIcon:(0,sn.jsx)(Qg,{}),children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})]})]})})),hZ=W.memo(pZ),fZ=e=>{const t=(e=>{const t=bb(),n=e.ampm??t.is12HourCycleInCurrentLocale()?t.formats.fullTime12h:t.formats.fullTime24h;return(0,Yt.A)({},e,{disablePast:e.disablePast??!1,disableFuture:e.disableFuture??!1,format:e.format??n})})(e),{forwardedProps:n,internalProps:r}=fw(t,"time");return pw({forwardedProps:n,internalProps:r,valueManager:ub,fieldValueManager:cb,validator:EN,valueType:"time"})},mZ=["slots","slotProps","InputProps","inputProps"],gZ=W.forwardRef((function(e,t){const n=yv({props:e,name:"MuiTimeField"}),{slots:r,slotProps:o,InputProps:a,inputProps:i}=n,s=(0,Xt.A)(n,mZ),l=n,u=r?.textField??(e.enableAccessibleFieldDOMStructure?wk:rs),c=qo({elementType:u,externalSlotProps:o?.textField,externalForwardedProps:s,ownerState:l,additionalProps:{ref:t}});c.inputProps=(0,Yt.A)({},i,c.inputProps),c.InputProps=(0,Yt.A)({},a,c.InputProps);const d=fZ(c),p=Ck(d),h=vw((0,Yt.A)({},p,{slots:r,slotProps:o}));return(0,sn.jsx)(u,(0,Yt.A)({},h))}));function yZ(e){return(0,on.Ay)("MuiTimePickerToolbar",e)}const vZ=(0,rn.A)("MuiTimePickerToolbar",["root","separator","hourMinuteLabel","hourMinuteLabelLandscape","hourMinuteLabelReverse","ampmSelection","ampmLandscape","ampmLabel"]),bZ=["ampm","ampmInClock","value","isLandscape","onChange","view","onViewChange","views","disabled","readOnly","className"],xZ=(0,en.Ay)(Ib,{name:"MuiTimePickerToolbar",slot:"Root",overridesResolver:(e,t)=>t.root})({}),wZ=(0,en.Ay)(BN,{name:"MuiTimePickerToolbar",slot:"Separator",overridesResolver:(e,t)=>t.separator})({outline:0,margin:"0 4px 0 2px",cursor:"default"}),kZ=(0,en.Ay)("div",{name:"MuiTimePickerToolbar",slot:"HourMinuteLabel",overridesResolver:(e,t)=>[{[`&.${vZ.hourMinuteLabelLandscape}`]:t.hourMinuteLabelLandscape,[`&.${vZ.hourMinuteLabelReverse}`]:t.hourMinuteLabelReverse},t.hourMinuteLabel]})({display:"flex",justifyContent:"flex-end",alignItems:"flex-end",variants:[{props:{isRtl:!0},style:{flexDirection:"row-reverse"}},{props:{isLandscape:!0},style:{marginTop:"auto"}}]}),SZ=(0,en.Ay)("div",{name:"MuiTimePickerToolbar",slot:"AmPmSelection",overridesResolver:(e,t)=>[{[`.${vZ.ampmLabel}`]:t.ampmLabel},{[`&.${vZ.ampmLandscape}`]:t.ampmLandscape},t.ampmSelection]})({display:"flex",flexDirection:"column",marginRight:"auto",marginLeft:12,[`& .${vZ.ampmLabel}`]:{fontSize:17},variants:[{props:{isLandscape:!0},style:{margin:"4px 0 auto",flexDirection:"row",justifyContent:"space-around",flexBasis:"100%"}}]});function AZ(e){const t=yv({props:e,name:"MuiTimePickerToolbar"}),{ampm:n,ampmInClock:r,value:o,isLandscape:a,onChange:i,view:s,onViewChange:l,views:u,disabled:c,readOnly:d,className:p}=t,h=(0,Xt.A)(t,bZ),f=bb(),m=Eb(),g=zo(),y=Boolean(n&&!r&&u.includes("hours")),{meridiemMode:v,handleMeridiemChange:b}=US(o,n,i),x=(0,Yt.A)({},t,{isRtl:g}),w=(e=>{const{isLandscape:t,classes:n,isRtl:r}=e,o={root:["root"],separator:["separator"],hourMinuteLabel:["hourMinuteLabel",t&&"hourMinuteLabelLandscape",r&&"hourMinuteLabelReverse"],ampmSelection:["ampmSelection",t&&"ampmLandscape"],ampmLabel:["ampmLabel"]};return(0,Zt.A)(o,yZ,n)})(x),k=(0,sn.jsx)(wZ,{tabIndex:-1,value:":",variant:"h3",selected:!1,className:w.separator});return(0,sn.jsxs)(xZ,(0,Yt.A)({landscapeDirection:"row",toolbarTitle:m.timePickerToolbarTitle,isLandscape:a,ownerState:x,className:(0,Qt.A)(w.root,p)},h,{children:[(0,sn.jsxs)(kZ,{className:w.hourMinuteLabel,ownerState:x,children:[Kb(u,"hours")&&(0,sn.jsx)(UN,{tabIndex:-1,variant:"h3",onClick:()=>l("hours"),selected:"hours"===s,value:o?(S=o,n?f.format(S,"hours12h"):f.format(S,"hours24h")):"--"}),Kb(u,["hours","minutes"])&&k,Kb(u,"minutes")&&(0,sn.jsx)(UN,{tabIndex:-1,variant:"h3",onClick:()=>l("minutes"),selected:"minutes"===s,value:o?f.format(o,"minutes"):"--"}),Kb(u,["minutes","seconds"])&&k,Kb(u,"seconds")&&(0,sn.jsx)(UN,{variant:"h3",onClick:()=>l("seconds"),selected:"seconds"===s,value:o?f.format(o,"seconds"):"--"})]}),y&&(0,sn.jsxs)(SZ,{className:w.ampmSelection,ownerState:x,children:[(0,sn.jsx)(UN,{disableRipple:!0,variant:"subtitle2",selected:"am"===v,typographyClassName:w.ampmLabel,value:Ev(f,"am"),onClick:d?void 0:()=>b("am"),disabled:c}),(0,sn.jsx)(UN,{disableRipple:!0,variant:"subtitle2",selected:"pm"===v,typographyClassName:w.ampmLabel,value:Ev(f,"pm"),onClick:d?void 0:()=>b("pm"),disabled:c})]})]}));var S}function CZ(e,t){const n=bb(),r=yv({props:e,name:t}),o=r.ampm??n.is12HourCycleInCurrentLocale(),a=W.useMemo((()=>null==r.localeText?.toolbarTitle?r.localeText:(0,Yt.A)({},r.localeText,{timePickerToolbarTitle:r.localeText.toolbarTitle})),[r.localeText]);return(0,Yt.A)({},r,{ampm:o,localeText:a},kv({views:r.views,openTo:r.openTo,defaultViews:["hours","minutes"],defaultOpenTo:"hours"}),{disableFuture:r.disableFuture??!1,disablePast:r.disablePast??!1,slots:(0,Yt.A)({toolbar:AZ},r.slots),slotProps:(0,Yt.A)({},r.slotProps,{toolbar:(0,Yt.A)({ampm:o,ampmInClock:r.ampmInClock},r.slotProps?.toolbar)})})}const TZ=W.forwardRef((function(e,t){const n=Eb(),r=bb(),o=CZ(e,"MuiDesktopTimePicker"),{shouldRenderTimeInASingleColumn:a,views:i,timeSteps:s}=aO(o),l=a?uM:cM,u=(0,Yt.A)({hours:l,minutes:l,seconds:l,meridiem:l},o.viewRenderers),c=o.ampmInClock??!0,d=a?[]:["accept"],p=u.hours?.name===cM.name?i:i.filter((e=>"meridiem"!==e)),h=(0,Yt.A)({},o,{ampmInClock:c,timeSteps:s,viewRenderers:u,format:Lv(r,o),views:a?["hours"]:p,slots:(0,Yt.A)({field:gZ,openPickerIcon:Jx},o.slots),slotProps:(0,Yt.A)({},o.slotProps,{field:e=>(0,Yt.A)({},Ho(o.slotProps?.field,e),Lb(o),{ref:t}),toolbar:(0,Yt.A)({hidden:!0,ampmInClock:c},o.slotProps?.toolbar),actionBar:(0,Yt.A)({actions:d},o.slotProps?.actionBar)})}),{renderPicker:f}=Kx({props:h,valueManager:ub,valueType:"time",getOpenDialogAriaText:fb({utils:r,formatKey:"fullTime",contextTranslation:n.openTimePickerDialogue,propsTranslation:h.localeText?.openTimePickerDialogue}),validator:EN});return f()}));TZ.propTypes={ampm:bv().bool,ampmInClock:bv().bool,autoFocus:bv().bool,className:bv().string,closeOnSelect:bv().bool,defaultValue:bv().object,disabled:bv().bool,disableFuture:bv().bool,disableIgnoringDatePartForTimeValidation:bv().bool,disableOpenPicker:bv().bool,disablePast:bv().bool,enableAccessibleFieldDOMStructure:bv().any,format:bv().string,formatDensity:bv().oneOf(["dense","spacious"]),inputRef:xv,label:bv().node,localeText:bv().object,maxTime:bv().object,minTime:bv().object,minutesStep:bv().number,name:bv().string,onAccept:bv().func,onChange:bv().func,onClose:bv().func,onError:bv().func,onOpen:bv().func,onSelectedSectionsChange:bv().func,onViewChange:bv().func,open:bv().bool,openTo:bv().oneOf(["hours","meridiem","minutes","seconds"]),orientation:bv().oneOf(["landscape","portrait"]),readOnly:bv().bool,reduceAnimations:bv().bool,referenceDate:bv().object,selectedSections:bv().oneOfType([bv().oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),bv().number]),shouldDisableTime:bv().func,skipDisabled:bv().bool,slotProps:bv().object,slots:bv().object,sx:bv().oneOfType([bv().arrayOf(bv().oneOfType([bv().func,bv().object,bv().bool])),bv().func,bv().object]),thresholdToRenderTimeInASingleColumn:bv().number,timeSteps:bv().shape({hours:bv().number,minutes:bv().number,seconds:bv().number}),timezone:bv().string,value:bv().object,view:bv().oneOf(["hours","meridiem","minutes","seconds"]),viewRenderers:bv().shape({hours:bv().func,meridiem:bv().func,minutes:bv().func,seconds:bv().func}),views:bv().arrayOf(bv().oneOf(["hours","minutes","seconds"]).isRequired)};const IZ=W.forwardRef((function(e,t){const n=Eb(),r=bb(),o=CZ(e,"MuiMobileTimePicker"),a=(0,Yt.A)({hours:lM,minutes:lM,seconds:lM},o.viewRenderers),i=o.ampmInClock??!1,s=(0,Yt.A)({},o,{ampmInClock:i,viewRenderers:a,format:Lv(r,o),slots:(0,Yt.A)({field:gZ},o.slots),slotProps:(0,Yt.A)({},o.slotProps,{field:e=>(0,Yt.A)({},Ho(o.slotProps?.field,e),Lb(o),{ref:t}),toolbar:(0,Yt.A)({hidden:!1,ampmInClock:i},o.slotProps?.toolbar)})}),{renderPicker:l}=hA({props:s,valueManager:ub,valueType:"time",getOpenDialogAriaText:fb({utils:r,formatKey:"fullTime",contextTranslation:n.openTimePickerDialogue,propsTranslation:s.localeText?.openTimePickerDialogue}),validator:EN});return l()}));IZ.propTypes={ampm:bv().bool,ampmInClock:bv().bool,autoFocus:bv().bool,className:bv().string,closeOnSelect:bv().bool,defaultValue:bv().object,disabled:bv().bool,disableFuture:bv().bool,disableIgnoringDatePartForTimeValidation:bv().bool,disableOpenPicker:bv().bool,disablePast:bv().bool,enableAccessibleFieldDOMStructure:bv().any,format:bv().string,formatDensity:bv().oneOf(["dense","spacious"]),inputRef:xv,label:bv().node,localeText:bv().object,maxTime:bv().object,minTime:bv().object,minutesStep:bv().number,name:bv().string,onAccept:bv().func,onChange:bv().func,onClose:bv().func,onError:bv().func,onOpen:bv().func,onSelectedSectionsChange:bv().func,onViewChange:bv().func,open:bv().bool,openTo:bv().oneOf(["hours","minutes","seconds"]),orientation:bv().oneOf(["landscape","portrait"]),readOnly:bv().bool,reduceAnimations:bv().bool,referenceDate:bv().object,selectedSections:bv().oneOfType([bv().oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),bv().number]),shouldDisableTime:bv().func,slotProps:bv().object,slots:bv().object,sx:bv().oneOfType([bv().arrayOf(bv().oneOfType([bv().func,bv().object,bv().bool])),bv().func,bv().object]),timezone:bv().string,value:bv().object,view:bv().oneOf(["hours","minutes","seconds"]),viewRenderers:bv().shape({hours:bv().func,minutes:bv().func,seconds:bv().func}),views:bv().arrayOf(bv().oneOf(["hours","minutes","seconds"]).isRequired)};const EZ=["desktopModeMediaQuery"],NZ=W.forwardRef((function(e,t){const n=yv({props:e,name:"MuiTimePicker"}),{desktopModeMediaQuery:r=Qb}=n,o=(0,Xt.A)(n,EZ);return mv(r,{defaultMatches:!0})?(0,sn.jsx)(TZ,(0,Yt.A)({ref:t},o)):(0,sn.jsx)(IZ,(0,Yt.A)({ref:t},o))})),OZ=e=>{let{user:t}=e;const[n,r]=(0,W.useState)([]),[o,a]=(0,W.useState)(null),[i,s]=(0,W.useState)(!1),[l,u]=(0,W.useState)(0),[c,d]=(0,W.useState)(0),[p,h]=(0,W.useState)([]),[f,m]=(0,W.useState)([]),[g,y]=(0,W.useState)(!1),[v,b]=(0,W.useState)({cashInMonth:0,sessionsInMonth:0,averageReceipt:0,totalClients:0,activeClients:0,newClients:0}),[x,w]=(0,W.useState)({completed:0,remaining:0,total:0,lastPayment:0,progress:0}),[k,S]=(0,W.useState)(),[A,C]=(0,W.useState)(),[T,I]=(0,W.useState)(new Date),[E,N]=(0,W.useState)(!1);(0,W.useEffect)((()=>{M(),O()}),[]),(0,W.useEffect)((()=>{E||M()}),[E]);const O=async()=>{const e=await qd(`/clients?userId=${t.id}`,"GET");S(e)},M=async()=>{try{var e;const t=await qd("/users/googleEvents","GET");if(!t.message)throw new Error("Failed to fetch events");h(t.events.todayClients),m(t.events.tomorrowClients);const n=null===(e=t.events.todayClients)||void 0===e?void 0:e.map((e=>({...e,clientId:e.id,date:D(e.start),workoutType:"\u0422\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0430",time:R(e.start),status:null})));r(n)}catch(t){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u0441\u043e\u0431\u044b\u0442\u0438\u0439:",t)}},D=e=>new Date(e).toISOString().split("T")[0],R=e=>new Date(e).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),P=()=>{y(!1)},$=(e,t)=>{const n=document.getElementById(`${t}-workouts-container`);if(n){const r=300;"left"===e?n.scrollLeft-=r:n.scrollLeft+=r,"completed"===t?u(n.scrollLeft):d(n.scrollLeft)}},j=null===f||void 0===f?void 0:f.map((e=>({clientId:e.id,date:D(e.start),workoutType:"\u0422\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0430",time:R(e.start)})));return(0,sn.jsxs)(ps,{sx:{padding:"24px",maxWidth:"1500px",margin:"0 auto"},children:[(0,sn.jsxs)(ps,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",sm:"1fr 1fr",md:"repeat(6, 1fr)"},gap:2,mb:4},children:[(0,sn.jsxs)(cn,{sx:{p:2,borderRadius:2,background:"linear-gradient(135deg, #6a11cb 0%, #2575fc 100%)",color:"white",display:"flex",alignItems:"center",gap:2},children:[(0,sn.jsx)(Yf,{fontSize:"medium"}),(0,sn.jsxs)(ps,{children:[(0,sn.jsx)(vs,{variant:"subtitle2",children:"\u0414\u043e\u0445\u043e\u0434"}),(0,sn.jsxs)(vs,{variant:"h6",sx:{fontWeight:700},children:[v.cashInMonth.toLocaleString(),"\u20bd"]}),(0,sn.jsx)(vs,{variant:"caption",sx:{opacity:.8},children:"\u0432 \u044d\u0442\u043e\u043c \u043c\u0435\u0441\u044f\u0446\u0435"})]})]}),(0,sn.jsxs)(cn,{sx:{p:2,borderRadius:2,background:"linear-gradient(135deg, #11998e 0%, #38ef7d 100%)",color:"white",display:"flex",alignItems:"center",gap:2},children:[(0,sn.jsx)(Qf,{fontSize:"medium"}),(0,sn.jsxs)(ps,{children:[(0,sn.jsx)(vs,{variant:"subtitle2",children:"\u0422\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0438"}),(0,sn.jsx)(vs,{variant:"h6",sx:{fontWeight:700},children:v.sessionsInMonth}),(0,sn.jsx)(vs,{variant:"caption",sx:{opacity:.8},children:"\u043f\u0440\u043e\u0432\u0435\u0434\u0435\u043d\u043e"})]})]}),(0,sn.jsxs)(cn,{sx:{p:2,borderRadius:2,background:"linear-gradient(135deg, #f46b45 0%, #eea849 100%)",color:"white",display:"flex",alignItems:"center",gap:2},children:[(0,sn.jsx)(Zf,{fontSize:"medium"}),(0,sn.jsxs)(ps,{children:[(0,sn.jsx)(vs,{variant:"subtitle2",children:"\u0421\u0440\u0435\u0434\u043d\u0438\u0439 \u0447\u0435\u043a"}),(0,sn.jsxs)(vs,{variant:"h6",sx:{fontWeight:700},children:[v.averageReceipt.toLocaleString(),"\u20bd"]}),(0,sn.jsx)(vs,{variant:"caption",sx:{opacity:.8},children:"\u0437\u0430 \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0443"})]})]}),(0,sn.jsxs)(cn,{sx:{p:2,borderRadius:2,background:"linear-gradient(135deg, #8E2DE2 0%, #4A00E0 100%)",color:"white",display:"flex",alignItems:"center",gap:2},children:[(0,sn.jsx)(Jf,{fontSize:"medium"}),(0,sn.jsxs)(ps,{children:[(0,sn.jsx)(vs,{variant:"subtitle2",children:"\u041a\u043b\u0438\u0435\u043d\u0442\u044b"}),(0,sn.jsx)(vs,{variant:"h6",sx:{fontWeight:700},children:v.totalClients}),(0,sn.jsx)(vs,{variant:"caption",sx:{opacity:.8},children:"\u0432 \u0431\u0430\u0437\u0435"})]})]}),(0,sn.jsxs)(cn,{sx:{p:2,borderRadius:2,background:"linear-gradient(135deg, #00b09b 0%, #96c93d 100%)",color:"white",display:"flex",alignItems:"center",gap:2},children:[(0,sn.jsx)(em,{fontSize:"medium"}),(0,sn.jsxs)(ps,{children:[(0,sn.jsx)(vs,{variant:"subtitle2",children:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435"}),(0,sn.jsx)(vs,{variant:"h6",sx:{fontWeight:700},children:v.activeClients}),(0,sn.jsx)(vs,{variant:"caption",sx:{opacity:.8},children:"\u0440\u0435\u0433\u0443\u043b\u044f\u0440\u043d\u044b\u0435"})]})]}),(0,sn.jsxs)(cn,{sx:{p:2,borderRadius:2,background:"linear-gradient(135deg, #f12711 0%, #f5af19 100%)",color:"white",display:"flex",alignItems:"center",gap:2},children:[(0,sn.jsx)(tm,{fontSize:"medium"}),(0,sn.jsxs)(ps,{children:[(0,sn.jsx)(vs,{variant:"subtitle2",children:"\u041d\u043e\u0432\u044b\u0435"}),(0,sn.jsx)(vs,{variant:"h6",sx:{fontWeight:700},children:v.newClients}),(0,sn.jsx)(vs,{variant:"caption",sx:{opacity:.8},children:"\u0432 \u044d\u0442\u043e\u043c \u043c\u0435\u0441\u044f\u0446\u0435"})]})]})]}),(0,sn.jsxs)(ps,{sx:{marginBottom:"40px"},children:[(0,sn.jsxs)(vs,{variant:"h5",component:"h2",sx:{fontWeight:"bold",marginBottom:"24px",display:"flex",alignItems:"center",gap:"12px"},children:[(0,sn.jsx)(em,{fontSize:"large"})," \u041f\u0440\u043e\u0432\u0435\u0434\u0435\u043d\u043d\u044b\u0435 \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0438"]}),(0,sn.jsxs)(ps,{sx:{position:"relative"},children:[l>0&&(0,sn.jsx)(Ns,{sx:{position:"absolute",left:-20,top:"50%",transform:"translateY(-50%)",zIndex:1,backgroundColor:"background.paper",boxShadow:2,"&:hover":{backgroundColor:"background.paper"}},onClick:()=>$("left","completed"),children:(0,sn.jsx)(nm,{})}),(0,sn.jsxs)(ps,{id:"completed-workouts-container",sx:{display:"flex",overflowX:"auto",gap:3,py:2,scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},children:[n.map((e=>{var t;const n=p.find((t=>t.id===e.clientId));return n?(0,sn.jsxs)(Fp,{sx:{minWidth:300,flexShrink:0,display:"flex",flexDirection:"column",borderRadius:3,boxShadow:3,transition:"all 0.3s ease","&:hover":{cursor:"pointer",transform:"translateY(-8px)",boxShadow:"0 10px 20px rgba(0,0,0,0.15)"}},onClick:()=>(e=>{a(e),s(!0)})(n),children:[(0,sn.jsxs)(ps,{sx:{p:2,display:"flex",alignItems:"center",borderTopLeftRadius:12,borderTopRightRadius:12,background:(n.gender,"linear-gradient(135deg, #6a1b9a 0%, #6a1b9a 100%)")},children:[(0,sn.jsx)(mp,{sx:{width:56,height:56,mr:2,bgcolor:"background.paper",color:"Male"===n.gender?"primary.dark":"secondary.dark",fontWeight:700,fontSize:"1.5rem"},children:null===n||void 0===n||null===(t=n.name)||void 0===t?void 0:t.charAt(0)}),(0,sn.jsxs)(ps,{children:[(0,sn.jsx)(vs,{variant:"h6",component:"div",sx:{fontWeight:"bold",color:"common.white"},children:n.name}),(0,sn.jsxs)(vs,{variant:"body2",sx:{color:"common.white",opacity:.9},children:[n.age," \u043b\u0435\u0442"]})]})]}),(0,sn.jsxs)(Wp,{sx:{flexGrow:1},children:[(0,sn.jsxs)(ps,{sx:{display:"flex",justifyContent:"space-between",mb:2,flexWrap:"wrap",gap:1},children:[(0,sn.jsx)(Sp,{icon:(0,sn.jsx)(rm,{fontSize:"small"}),label:`${n.height||0} \u0441\u043c`,variant:"outlined",size:"small",sx:{fontWeight:600}}),(0,sn.jsx)(Sp,{icon:(0,sn.jsx)(om,{fontSize:"small"}),label:`${n.weight||0} \u043a\u0433`,variant:"outlined",size:"small",sx:{fontWeight:600}}),(0,sn.jsx)(Sp,{icon:"Male"===n.gender?(0,sn.jsx)(am,{fontSize:"small"}):(0,sn.jsx)(im,{fontSize:"small"}),label:"Male"===n.gender?"\u041c\u0443\u0436":"\u0416\u0435\u043d",color:"Male"===n.gender?"primary":"secondary",size:"small",sx:{fontWeight:600}})]}),(0,sn.jsxs)(ps,{sx:{mb:2},children:[(0,sn.jsxs)(vs,{variant:"body2",sx:{display:"flex",alignItems:"center",mb:1,fontWeight:500},children:[(0,sn.jsx)(Ap.A,{sx:{mr:1,fontSize:18}}),(0,sn.jsx)("strong",{children:"\u0422\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0430:"})," ",e.workoutType]}),(0,sn.jsxs)(vs,{variant:"body2",sx:{display:"flex",alignItems:"center",mb:1,fontWeight:500},children:[(0,sn.jsx)(sm,{sx:{mr:1,fontSize:18}}),(0,sn.jsx)("strong",{children:"\u0412\u0440\u0435\u043c\u044f:"})," ",e.time]})]}),(0,sn.jsx)(qp,{sx:{my:1}}),(0,sn.jsx)(ps,{sx:{display:"flex",gap:"12px",mt:2},children:(0,sn.jsx)(rr,{variant:"contained",color:"success",fullWidth:!0,onClick:t=>{t.stopPropagation(),(e=>{N(!0),C(e)})(e)},sx:{borderRadius:"12px",fontWeight:"bold",textTransform:"none"},children:"\u041e\u0442\u043c\u0435\u0442\u0438\u0442\u044c"})})]})]},`${e.clientId}-${e.date}`):null})),(0,sn.jsx)(Fp,{sx:{minWidth:300,flexShrink:0,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",borderRadius:3,boxShadow:3,border:"2px dashed",borderColor:"divider",background:"transparent",transition:"all 0.3s ease","&:hover":{cursor:"pointer",transform:"translateY(-8px)",boxShadow:"0 10px 20px rgba(0,0,0,0.15)",backgroundColor:"action.hover"}},onClick:()=>y(!0),children:(0,sn.jsxs)(ps,{sx:{width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",p:4},children:[(0,sn.jsx)(lm,{sx:{fontSize:48,color:"text.secondary",mb:2}}),(0,sn.jsx)(vs,{variant:"h6",sx:{color:"text.secondary",fontWeight:"bold"},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0443"})]})})]}),(0,sn.jsx)(Ns,{sx:{position:"absolute",right:-20,top:"50%",transform:"translateY(-50%)",zIndex:1,backgroundColor:"background.paper",boxShadow:2,"&:hover":{backgroundColor:"background.paper"}},onClick:()=>$("right","completed"),children:(0,sn.jsx)(um,{})})]})]}),(0,sn.jsxs)(ps,{sx:{marginBottom:"40px"},children:[(0,sn.jsxs)(vs,{variant:"h5",component:"h2",sx:{fontWeight:"bold",marginBottom:"24px",display:"flex",alignItems:"center",gap:"12px"},children:[(0,sn.jsx)(sm,{fontSize:"large"})," \u041f\u0440\u0435\u0434\u0441\u0442\u043e\u044f\u0449\u0438\u0435 \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0438"]}),(0,sn.jsxs)(ps,{sx:{position:"relative"},children:[c>0&&(0,sn.jsx)(Ns,{sx:{position:"absolute",left:-20,top:"50%",transform:"translateY(-50%)",zIndex:1,backgroundColor:"background.paper",boxShadow:2,"&:hover":{backgroundColor:"background.paper"}},onClick:()=>$("left","upcoming"),children:(0,sn.jsx)(nm,{})}),(0,sn.jsx)(ps,{id:"upcoming-workouts-container",sx:{display:"flex",overflowX:"auto",gap:3,py:2,scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},children:j.map((e=>{const t=f.find((t=>t.id===e.clientId));return t?(0,sn.jsxs)(Fp,{sx:{minWidth:300,flexShrink:0,display:"flex",flexDirection:"column",borderRadius:3,boxShadow:3,transition:"all 0.3s ease","&:hover":{cursor:"pointer",transform:"translateY(-8px)",boxShadow:"0 10px 20px rgba(0,0,0,0.15)"}},onClick:()=>{a(t),s(!0)},children:[(0,sn.jsxs)(ps,{sx:{p:2,display:"flex",alignItems:"center",borderTopLeftRadius:12,borderTopRightRadius:12,background:(t.gender,"linear-gradient(135deg, #6a1b9a 0%, #6a1b9a 100%)")},children:[(0,sn.jsx)(mp,{sx:{width:56,height:56,mr:2,bgcolor:"background.paper",color:"Male"===t.gender?"primary.dark":"secondary.dark",fontWeight:700,fontSize:"1.5rem"},children:t.name.charAt(0)}),(0,sn.jsxs)(ps,{children:[(0,sn.jsx)(vs,{variant:"h6",component:"div",sx:{fontWeight:"bold",color:"common.white"},children:t.name}),(0,sn.jsxs)(vs,{variant:"body2",sx:{color:"common.white",opacity:.9},children:[t.age," \u043b\u0435\u0442"]})]})]}),(0,sn.jsxs)(Wp,{sx:{flexGrow:1},children:[(0,sn.jsxs)(ps,{sx:{display:"flex",justifyContent:"space-between",mb:2,flexWrap:"wrap",gap:1},children:[(0,sn.jsx)(Sp,{icon:(0,sn.jsx)(rm,{fontSize:"small"}),label:`${t.height||0} \u0441\u043c`,variant:"outlined",size:"small",sx:{fontWeight:600}}),(0,sn.jsx)(Sp,{icon:(0,sn.jsx)(om,{fontSize:"small"}),label:`${t.weight||0} \u043a\u0433`,variant:"outlined",size:"small",sx:{fontWeight:600}}),(0,sn.jsx)(Sp,{icon:"Male"===t.gender?(0,sn.jsx)(am,{fontSize:"small"}):(0,sn.jsx)(im,{fontSize:"small"}),label:"Male"===t.gender?"\u041c\u0443\u0436":"\u0416\u0435\u043d",color:"Male"===t.gender?"primary":"secondary",size:"small",sx:{fontWeight:600}})]}),(0,sn.jsxs)(ps,{sx:{mb:2},children:[(0,sn.jsxs)(vs,{variant:"body2",sx:{display:"flex",alignItems:"center",mb:1,fontWeight:500},children:[(0,sn.jsx)(Ap.A,{sx:{mr:1,fontSize:18}}),(0,sn.jsx)("strong",{children:"\u0422\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0430:"})," ",e.workoutType]}),(0,sn.jsxs)(vs,{variant:"body2",sx:{display:"flex",alignItems:"center",mb:1,fontWeight:500},children:[(0,sn.jsx)(sm,{sx:{mr:1,fontSize:18}}),(0,sn.jsx)("strong",{children:"\u0414\u0430\u0442\u0430:"})," ",e.date," \u0432 ",e.time]})]}),(0,sn.jsx)(qp,{sx:{my:1}}),(0,sn.jsxs)(vs,{variant:"body2",sx:{display:"flex",alignItems:"center",mb:1,fontWeight:500},children:[(0,sn.jsx)(Tl,{sx:{mr:1,fontSize:18}}),t.phone.replace(/(\d{1})(\d{3})(\d{3})(\d{4})/,"+$1($2)$3-$4")]})]})]},`${e.clientId}-${e.date}`):null}))}),(0,sn.jsx)(Ns,{sx:{position:"absolute",right:-20,top:"50%",transform:"translateY(-50%)",zIndex:1,backgroundColor:"background.paper",boxShadow:2,"&:hover":{backgroundColor:"background.paper"}},onClick:()=>$("right","upcoming"),children:(0,sn.jsx)(um,{})})]})]}),i&&o&&(0,sn.jsx)(hZ,{client:o,setSelectedClient:a,open:i,onClose:()=>s(!1),fetchWithRetry:qd,addToast:Ud,fetchData:M}),E&&(0,sn.jsx)(iN,{open:E,onClose:N,client:A,fetchDataQuantity:async()=>{try{const e=await qd("/payment_history/quantity","Patch",A);if(e){const t=e[0].quantity-e[0].quantityLeft||0,n=e[0].quantity||0,r=n,o=0===r?0:Math.round(t/r*100);w({completed:t,remaining:n,total:r,lastPayment:e[0].dateTo,progress:o})}}catch(e){const t=0;w({completed:0,remaining:t,total:t,progress:0})}}}),(0,sn.jsx)(ti,{open:g,onClose:P,"aria-labelledby":"modal-add-session",children:(0,sn.jsxs)(ps,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",borderRadius:"16px",boxShadow:24,p:4},children:[(0,sn.jsx)(vs,{variant:"h6",component:"h2",sx:{mb:3,fontWeight:"bold",textAlign:"center"},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0443"}),(0,sn.jsxs)(ps,{sx:{mb:3},children:[(0,sn.jsx)(vs,{variant:"subtitle2",sx:{mb:1,fontWeight:600},children:"\u041a\u043b\u0438\u0435\u043d\u0442 *"}),(0,sn.jsx)(Xf,{options:k,getOptionLabel:e=>(null===e||void 0===e?void 0:e.name)||"",renderInput:e=>(0,sn.jsx)(rs,{...e,placeholder:"\u041d\u0430\u0447\u043d\u0438\u0442\u0435 \u0432\u0432\u043e\u0434\u0438\u0442\u044c \u0438\u043c\u044f",InputProps:{...e.InputProps,startAdornment:(0,sn.jsx)(cm,{sx:{mr:1,color:"action.active"}})}}),value:o,onChange:(e,t)=>{a(t)},fullWidth:!0})]}),(0,sn.jsxs)(ps,{sx:{mb:4},children:[(0,sn.jsx)(vs,{variant:"subtitle2",sx:{mb:1,fontWeight:600},children:"\u0412\u0440\u0435\u043c\u044f \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0438 *"}),(0,sn.jsx)(hb,{dateAdapter:fI,adapterLocale:AI,children:(0,sn.jsx)(NZ,{value:T,onChange:e=>I(e),renderInput:e=>(0,sn.jsx)(rs,{...e,fullWidth:!0,InputProps:{...e.InputProps,startAdornment:(0,sn.jsx)(dm,{sx:{mr:1,color:"action.active"}})}}),ampm:!1,minutesStep:5})})]}),(0,sn.jsxs)(ps,{sx:{display:"flex",justifyContent:"center",gap:2},children:[(0,sn.jsx)(rr,{variant:"outlined",onClick:P,sx:{borderRadius:"12px",fontWeight:"bold",textTransform:"none",px:3},children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),(0,sn.jsx)(rr,{variant:"contained",onClick:async()=>{if(!o||!T)return;const e=new Date,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0"),a=String(T.getHours()).padStart(2,"0"),i=String(T.getMinutes()).padStart(2,"0"),s=new Date(`${t}-${n}-${r}T${a}:${i}:00`).toISOString(),l={summary:o.name,start:s,marked:!1,status:!0};try{if(!await qd("/users/newSessions","PATCH",{newWorkout:l}))throw new Error("Failed to fetch newSessions");Ud("successAdd","success",`\u0423\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0432\u043b\u0435\u043d\u0430 \u043f\u0440\u043e\u0448\u0435\u0434\u0448\u0430\u044f \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0430 ${o.name}`,1e3)}catch(u){console.error("\u041d\u0415 \u0434\u043e\u0431\u0430\u0432\u0438\u043b\u0430\u0441\u044c \u043d\u043e\u0432\u0430\u044f \u0441\u0435\u0441\u0441\u0438\u044f \u043f\u043e\u0447\u0435\u043c\u0443 \u0442\u043e!"),Ud("errorAdd","error",`\u041d\u0415 \u0434\u043e\u0431\u0430\u0432\u0438\u043b\u0430\u0441\u044c \u043d\u043e\u0432\u0430\u044f \u0441\u0435\u0441\u0441\u0438\u044f \u043f\u043e\u0447\u0435\u043c\u0443 \u0442\u043e \u0443: ${o.name}`,1e3)}y(!1),M()},disabled:!o,sx:{borderRadius:"12px",fontWeight:"bold",textTransform:"none",px:3,backgroundColor:"#6a1b9a","&:hover":{backgroundColor:"#4a148c"}},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]})]})})]})};function MZ(){const[e,t]=(0,W.useState)(null),[n,r]=(0,W.useState)([]),[o,a]=(0,W.useState)(!1),[i,s]=(0,W.useState)(null);(0,W.useEffect)((()=>{const e=document.createElement("script");e.src="https://accounts.google.com/gsi/client",e.async=!0,e.onload=()=>{window.google?window.codeClient=window.google.accounts.oauth2.initCodeClient({client_id:"362002328679-n4uqn1arfofigtuur8po169gds8lrh76.apps.googleusercontent.com",scope:"https://www.googleapis.com/auth/calendar.readonly",ux_mode:"popup",prompt:"consent",callback:l}):console.error("Google Identity Services not loaded")},document.body.appendChild(e)}),[]);const l=async e=>{const{code:n}=e;try{const e=await qd("/users/refresh","POST",{code:n}),{access_token:r,refresh_token:o,expires_in:a}=e;t(r);const i=await fetch("https://www.googleapis.com/oauth2/v3/userinfo",{headers:{Authorization:`Bearer ${r}`}}),s=await i.json();await qd("/users","PATCH",{userdata:{email:s.email,access_token:r,refresh_token:o,expires_in:a},action:"save"})}catch(r){console.error(r),s(r.message||"\u041e\u0448\u0438\u0431\u043a\u0430 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438")}finally{a(!1)}};return(0,sn.jsxs)("div",{children:[(0,sn.jsx)("button",{onClick:()=>{a(!0),window.codeClient?window.codeClient.requestCode():(s("Google client not initialized"),a(!1))},disabled:o,children:o?"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f...":"\u041f\u0440\u0438\u0432\u044f\u0437\u0430\u0442\u044c Google"}),(0,sn.jsx)("button",{onClick:async()=>{try{a(!0),s(null);const e=await qd("/users/googleEvents","GET");if(!e.ok)throw new Error("Failed to fetch events");const t=await e.json();r([...t.todayEvents,...t.tomorrowEvents])}catch(e){s(e.message||"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a")}finally{a(!1)}},children:o?"\u0417\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u043c \u0441\u043e\u0431\u044b\u0442\u0438\u044f...":"\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0441\u043e\u0431\u044b\u0442\u0438\u044f"}),(0,sn.jsx)("button",{onClick:async()=>{try{a(!0),await qd("/users","PATCH",{userdata:{},action:"delete"}),t(null),r([])}catch(e){s(e.message||"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043e\u0442\u0432\u044f\u0437\u0430\u0442\u044c Google")}finally{a(!1)}},disabled:o,children:o?"\u041e\u0442\u0432\u044f\u0437\u044b\u0432\u0430\u0435\u043c...":"\u041e\u0442\u0432\u044f\u0437\u0430\u0442\u044c Google"}),i&&(0,sn.jsx)("div",{style:{color:"red"},children:i}),(0,sn.jsx)("ul",{children:n.map(((e,t)=>(0,sn.jsxs)("li",{children:[e.summary," (",e.start,")"]},t)))})]})}const DZ=e=>{let{user:t}=e;const[n,r]=(0,W.useState)(""),[o,a]=(0,W.useState)("");(0,W.useEffect)((()=>{(async()=>{try{const e=await qd("/users","GET");r(e[0].dateUpdate)}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u0434\u0430\u043d\u043d\u044b\u0445:",e),a("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438")}})()}),[]);return(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)(MZ,{}),(0,sn.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const t=parseInt(n,10);if(isNaN(t)||t<1||t>32)a("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0447\u0438\u0441\u043b\u043e \u043e\u0442 1 \u0434\u043e 32");else try{(await qd("/users/dateUpdate","PATCH",{dateUpdate:t,id:1})).ok?(a(""),Ud("\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e","success")):(a("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0435"),Ud("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0435","error"))}catch(r){console.error("\u041e\u0448\u0438\u0431\u043a\u0430:",r),a("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0442\u0438")}},style:{marginTop:"20px"},children:[(0,sn.jsx)("label",{htmlFor:"dateInput",children:"\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0438 (1\u201332): "}),(0,sn.jsx)("input",{id:"dateInput",type:"number",value:n,onChange:e=>r(e.target.value),min:"1",max:"32",style:{width:"60px",marginLeft:"10px"}}),(0,sn.jsx)("button",{type:"submit",style:{marginLeft:"10px"},children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"}),o&&(0,sn.jsx)("div",{style:{marginTop:"10px",color:"green"},children:o})]})]})};var RZ=n(9640);const PZ=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(e,t)=>e===t;return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))};function $Z(e,t){return e-t}function jZ(e,t){var n;const{index:r}=null!=(n=e.reduce(((e,n,r)=>{const o=Math.abs(t-n);return null===e||o<e.distance||o===e.distance?{distance:o,index:r}:e}),null))?n:{};return r}function _Z(e,t){if(void 0!==t.current&&e.changedTouches){const n=e;for(let e=0;e<n.changedTouches.length;e+=1){const r=n.changedTouches[e];if(r.identifier===t.current)return{x:r.clientX,y:r.clientY}}return!1}return{x:e.clientX,y:e.clientY}}function FZ(e,t,n){return 100*(e-t)/(n-t)}function LZ(e,t,n){const r=Math.round((e-n)/t)*t+n;return Number(r.toFixed(function(e){if(Math.abs(e)<1){const t=e.toExponential().split("e-"),n=t[0].split(".")[1];return(n?n.length:0)+parseInt(t[1],10)}const t=e.toString().split(".")[1];return t?t.length:0}(t)))}function zZ(e){let{values:t,newValue:n,index:r}=e;const o=t.slice();return o[r]=n,o.sort($Z)}function BZ(e){let{sliderRef:t,activeIndex:n,setActive:r}=e;var o,a;const i=(0,Na.A)(t.current);var s;null!=(o=t.current)&&o.contains(i.activeElement)&&Number(null==i||null==(a=i.activeElement)?void 0:a.getAttribute("data-index"))===n||(null==(s=t.current)||s.querySelector(`[type="range"][data-index="${n}"]`).focus());r&&r(n)}function WZ(e,t){return"number"===typeof e&&"number"===typeof t?e===t:"object"===typeof e&&"object"===typeof t&&PZ(e,t)}const VZ={horizontal:{offset:e=>({left:`${e}%`}),leap:e=>({width:`${e}%`})},"horizontal-reverse":{offset:e=>({right:`${e}%`}),leap:e=>({width:`${e}%`})},vertical:{offset:e=>({bottom:`${e}%`}),leap:e=>({height:`${e}%`})}},UZ=e=>e;let HZ;function GZ(){return void 0===HZ&&(HZ="undefined"===typeof CSS||"function"!==typeof CSS.supports||CSS.supports("touch-action","none")),HZ}const qZ=e=>!e||!sr(e);function KZ(e){return(0,on.Ay)("MuiSlider",e)}const XZ=(0,rn.A)("MuiSlider",["root","active","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","thumbColorError","thumbColorSuccess","thumbColorInfo","thumbColorWarning","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]);const YZ=["aria-label","aria-valuetext","aria-labelledby","component","components","componentsProps","color","classes","className","disableSwap","disabled","getAriaLabel","getAriaValueText","marks","max","min","name","onChange","onChangeCommitted","orientation","shiftStep","size","step","scale","slotProps","slots","tabIndex","track","value","valueLabelDisplay","valueLabelFormat"];function QZ(e){return e}const ZZ=(0,en.Ay)("span",{name:"MuiSlider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`color${(0,qn.A)(n.color)}`],"medium"!==n.size&&t[`size${(0,qn.A)(n.size)}`],n.marked&&t.marked,"vertical"===n.orientation&&t.vertical,"inverted"===n.track&&t.trackInverted,!1===n.track&&t.trackFalse]}})((e=>{let{theme:t}=e;var n;return{borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",WebkitTapHighlightColor:"transparent","@media print":{colorAdjust:"exact"},[`&.${XZ.disabled}`]:{pointerEvents:"none",cursor:"default",color:(t.vars||t).palette.grey[400]},[`&.${XZ.dragging}`]:{[`& .${XZ.thumb}, & .${XZ.track}`]:{transition:"none"}},variants:[...Object.keys((null!=(n=t.vars)?n:t).palette).filter((e=>{var n;return(null!=(n=t.vars)?n:t).palette[e].main})).map((e=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}}))),{props:{orientation:"horizontal"},style:{height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}}},{props:{orientation:"horizontal",size:"small"},style:{height:2}},{props:{orientation:"horizontal",marked:!0},style:{marginBottom:20}},{props:{orientation:"vertical"},style:{height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}}},{props:{orientation:"vertical",size:"small"},style:{width:2}},{props:{orientation:"vertical",marked:!0},style:{marginRight:44}}]}})),JZ=(0,en.Ay)("span",{name:"MuiSlider",slot:"Rail",overridesResolver:(e,t)=>t.rail})({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38,variants:[{props:{orientation:"horizontal"},style:{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:"inverted"},style:{opacity:1}}]}),eJ=(0,en.Ay)("span",{name:"MuiSlider",slot:"Track",overridesResolver:(e,t)=>t.track})((e=>{let{theme:t}=e;var n;return{display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:t.transitions.create(["left","width","bottom","height"],{duration:t.transitions.duration.shortest}),variants:[{props:{size:"small"},style:{border:"none"}},{props:{orientation:"horizontal"},style:{height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:!1},style:{display:"none"}},...Object.keys((null!=(n=t.vars)?n:t).palette).filter((e=>{var n;return(null!=(n=t.vars)?n:t).palette[e].main})).map((e=>({props:{color:e,track:"inverted"},style:(0,Yt.A)({},t.vars?{backgroundColor:t.vars.palette.Slider[`${e}Track`],borderColor:t.vars.palette.Slider[`${e}Track`]}:(0,Yt.A)({backgroundColor:(0,Jt.a)(t.palette[e].main,.62),borderColor:(0,Jt.a)(t.palette[e].main,.62)},t.applyStyles("dark",{backgroundColor:(0,Jt.e$)(t.palette[e].main,.5)}),t.applyStyles("dark",{borderColor:(0,Jt.e$)(t.palette[e].main,.5)})))})))]}})),tJ=(0,en.Ay)("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.thumb,t[`thumbColor${(0,qn.A)(n.color)}`],"medium"!==n.size&&t[`thumbSize${(0,qn.A)(n.size)}`]]}})((e=>{let{theme:t}=e;var n;return{position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:t.transitions.create(["box-shadow","left","bottom"],{duration:t.transitions.duration.shortest}),"&::before":{position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(t.vars||t).shadows[2]},"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&.${XZ.disabled}`]:{"&:hover":{boxShadow:"none"}},variants:[{props:{size:"small"},style:{width:12,height:12,"&::before":{boxShadow:"none"}}},{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-50%, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 50%)"}},...Object.keys((null!=(n=t.vars)?n:t).palette).filter((e=>{var n;return(null!=(n=t.vars)?n:t).palette[e].main})).map((e=>({props:{color:e},style:{[`&:hover, &.${XZ.focusVisible}`]:(0,Yt.A)({},t.vars?{boxShadow:`0px 0px 0px 8px rgba(${t.vars.palette[e].mainChannel} / 0.16)`}:{boxShadow:`0px 0px 0px 8px ${(0,Jt.X4)(t.palette[e].main,.16)}`},{"@media (hover: none)":{boxShadow:"none"}}),[`&.${XZ.active}`]:(0,Yt.A)({},t.vars?{boxShadow:`0px 0px 0px 14px rgba(${t.vars.palette[e].mainChannel} / 0.16)`}:{boxShadow:`0px 0px 0px 14px ${(0,Jt.X4)(t.palette[e].main,.16)}`})}})))]}})),nJ=(0,en.Ay)((function(e){const{children:t,className:n,value:r}=e,o=(e=>{const{open:t}=e;return{offset:(0,Qt.A)(t&&XZ.valueLabelOpen),circle:XZ.valueLabelCircle,label:XZ.valueLabelLabel}})(e);return t?W.cloneElement(t,{className:(0,Qt.A)(t.props.className)},(0,sn.jsxs)(W.Fragment,{children:[t.props.children,(0,sn.jsx)("span",{className:(0,Qt.A)(o.offset,n),"aria-hidden":!0,children:(0,sn.jsx)("span",{className:o.circle,children:(0,sn.jsx)("span",{className:o.label,children:r})})})]})):null}),{name:"MuiSlider",slot:"ValueLabel",overridesResolver:(e,t)=>t.valueLabel})((e=>{let{theme:t}=e;return(0,Yt.A)({zIndex:1,whiteSpace:"nowrap"},t.typography.body2,{fontWeight:500,transition:t.transitions.create(["transform"],{duration:t.transitions.duration.shortest}),position:"absolute",backgroundColor:(t.vars||t).palette.grey[600],borderRadius:2,color:(t.vars||t).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem",variants:[{props:{orientation:"horizontal"},style:{transform:"translateY(-100%) scale(0)",top:"-10px",transformOrigin:"bottom center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"},[`&.${XZ.valueLabelOpen}`]:{transform:"translateY(-100%) scale(1)"}}},{props:{orientation:"vertical"},style:{transform:"translateY(-50%) scale(0)",right:"30px",top:"50%",transformOrigin:"right center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"},[`&.${XZ.valueLabelOpen}`]:{transform:"translateY(-50%) scale(1)"}}},{props:{size:"small"},style:{fontSize:t.typography.pxToRem(12),padding:"0.25rem 0.5rem"}},{props:{orientation:"vertical",size:"small"},style:{right:"20px"}}]})})),rJ=(0,en.Ay)("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:e=>(0,Oi.A)(e)&&"markActive"!==e,overridesResolver:(e,t)=>{const{markActive:n}=e;return[t.mark,n&&t.markActive]}})((e=>{let{theme:t}=e;return{position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor",variants:[{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-1px, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 1px)"}},{props:{markActive:!0},style:{backgroundColor:(t.vars||t).palette.background.paper,opacity:.8}}]}})),oJ=(0,en.Ay)("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:e=>(0,Oi.A)(e)&&"markLabelActive"!==e,overridesResolver:(e,t)=>t.markLabel})((e=>{let{theme:t}=e;return(0,Yt.A)({},t.typography.body2,{color:(t.vars||t).palette.text.secondary,position:"absolute",whiteSpace:"nowrap",variants:[{props:{orientation:"horizontal"},style:{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}}},{props:{orientation:"vertical"},style:{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}}},{props:{markLabelActive:!0},style:{color:(t.vars||t).palette.text.primary}}]})})),aJ=e=>{let{children:t}=e;return t},iJ=W.forwardRef((function(e,t){var n,r,o,a,i,s,l,u,c,d,p,h,f,m,g,y,v,b,x,w,k,S,A,C;const T=(0,nn.b)({props:e,name:"MuiSlider"}),I=zo(),{"aria-label":E,"aria-valuetext":N,"aria-labelledby":O,component:M="span",components:D={},componentsProps:R={},color:P="primary",classes:$,className:j,disableSwap:_=!1,disabled:F=!1,getAriaLabel:L,getAriaValueText:z,marks:B=!1,max:V=100,min:U=0,orientation:H="horizontal",shiftStep:G=10,size:q="medium",step:K=1,scale:X=QZ,slotProps:Y,slots:Q,track:Z="normal",valueLabelDisplay:J="off",valueLabelFormat:ee=QZ}=T,te=(0,Xt.A)(T,YZ),ne=(0,Yt.A)({},T,{isRtl:I,max:V,min:U,classes:$,disabled:F,disableSwap:_,orientation:H,marks:B,color:P,size:q,step:K,shiftStep:G,scale:X,track:Z,valueLabelDisplay:J,valueLabelFormat:ee}),{axisProps:re,getRootProps:oe,getHiddenInputProps:ae,getThumbProps:ie,open:se,active:le,axis:ue,focusedThumbIndex:ce,range:de,dragging:pe,marks:he,values:fe,trackOffset:me,trackLeap:ge,getThumbStyle:ye}=function(e){const{"aria-labelledby":t,defaultValue:n,disabled:r=!1,disableSwap:o=!1,isRtl:a=!1,marks:i=!1,max:s=100,min:l=0,name:u,onChange:c,onChangeCommitted:d,orientation:p="horizontal",rootRef:h,scale:f=UZ,step:m=1,shiftStep:g=10,tabIndex:y,value:v}=e,b=W.useRef(void 0),[x,w]=W.useState(-1),[k,S]=W.useState(-1),[A,C]=W.useState(!1),T=W.useRef(0),[I,E]=(0,Kp.A)({controlled:v,default:null!=n?n:l,name:"Slider"}),N=c&&((e,t,n)=>{const r=e.nativeEvent||e,o=new r.constructor(r.type,r);Object.defineProperty(o,"target",{writable:!0,value:{value:t,name:u}}),c(o,t,n)}),O=Array.isArray(I);let M=O?I.slice().sort($Z):[I];M=M.map((e=>null==e?l:(0,Rk.A)(e,l,s)));const D=!0===i&&null!==m?[...Array(Math.floor((s-l)/m)+1)].map(((e,t)=>({value:l+m*t}))):i||[],R=D.map((e=>e.value)),{isFocusVisibleRef:P,onBlur:$,onFocus:j,ref:_}=(0,RZ.A)(),[F,L]=W.useState(-1),z=W.useRef(null),B=(0,lr.A)(_,z),V=(0,lr.A)(h,B),U=e=>t=>{var n;const r=Number(t.currentTarget.getAttribute("data-index"));j(t),!0===P.current&&L(r),S(r),null==e||null==(n=e.onFocus)||n.call(e,t)},H=e=>t=>{var n;$(t),!1===P.current&&L(-1),S(-1),null==e||null==(n=e.onBlur)||n.call(e,t)},G=(e,t)=>{const n=Number(e.currentTarget.getAttribute("data-index")),r=M[n],a=R.indexOf(r);let i=t;if(D&&null==m){const e=R[R.length-1];i=i>e?e:i<R[0]?R[0]:i<r?R[a-1]:R[a+1]}if(i=(0,Rk.A)(i,l,s),O){o&&(i=(0,Rk.A)(i,M[n-1]||-1/0,M[n+1]||1/0));const e=i;i=zZ({values:M,newValue:i,index:n});let t=n;o||(t=i.indexOf(e)),BZ({sliderRef:z,activeIndex:t})}E(i),L(n),N&&!WZ(i,I)&&N(e,i,n),d&&d(e,i)},q=e=>t=>{var n;if(null!==m){const e=Number(t.currentTarget.getAttribute("data-index")),n=M[e];let r=null;("ArrowLeft"===t.key||"ArrowDown"===t.key)&&t.shiftKey||"PageDown"===t.key?r=Math.max(n-g,l):(("ArrowRight"===t.key||"ArrowUp"===t.key)&&t.shiftKey||"PageUp"===t.key)&&(r=Math.min(n+g,s)),null!==r&&(G(t,r),t.preventDefault())}null==e||null==(n=e.onKeyDown)||n.call(e,t)};(0,dr.A)((()=>{var e;r&&z.current.contains(document.activeElement)&&(null==(e=document.activeElement)||e.blur())}),[r]),r&&-1!==x&&w(-1),r&&-1!==F&&L(-1);const K=W.useRef(void 0);let X=p;a&&"horizontal"===p&&(X+="-reverse");const Y=e=>{let{finger:t,move:n=!1}=e;const{current:r}=z,{width:a,height:i,bottom:u,left:c}=r.getBoundingClientRect();let d,p;if(d=0===X.indexOf("vertical")?(u-t.y)/i:(t.x-c)/a,-1!==X.indexOf("-reverse")&&(d=1-d),p=function(e,t,n){return(n-t)*e+t}(d,l,s),m)p=LZ(p,m,l);else{const e=jZ(R,p);p=R[e]}p=(0,Rk.A)(p,l,s);let h=0;if(O){h=n?K.current:jZ(M,p),o&&(p=(0,Rk.A)(p,M[h-1]||-1/0,M[h+1]||1/0));const e=p;p=zZ({values:M,newValue:p,index:h}),o&&n||(h=p.indexOf(e),K.current=h)}return{newValue:p,activeIndex:h}},Q=(0,cr.A)((e=>{const t=_Z(e,b);if(!t)return;if(T.current+=1,"mousemove"===e.type&&0===e.buttons)return void Z(e);const{newValue:n,activeIndex:r}=Y({finger:t,move:!0});BZ({sliderRef:z,activeIndex:r,setActive:w}),E(n),!A&&T.current>2&&C(!0),N&&!WZ(n,I)&&N(e,n,r)})),Z=(0,cr.A)((e=>{const t=_Z(e,b);if(C(!1),!t)return;const{newValue:n}=Y({finger:t,move:!0});w(-1),"touchend"===e.type&&S(-1),d&&d(e,n),b.current=void 0,ee()})),J=(0,cr.A)((e=>{if(r)return;GZ()||e.preventDefault();const t=e.changedTouches[0];null!=t&&(b.current=t.identifier);const n=_Z(e,b);if(!1!==n){const{newValue:t,activeIndex:r}=Y({finger:n});BZ({sliderRef:z,activeIndex:r,setActive:w}),E(t),N&&!WZ(t,I)&&N(e,t,r)}T.current=0;const o=(0,Na.A)(z.current);o.addEventListener("touchmove",Q,{passive:!0}),o.addEventListener("touchend",Z,{passive:!0})})),ee=W.useCallback((()=>{const e=(0,Na.A)(z.current);e.removeEventListener("mousemove",Q),e.removeEventListener("mouseup",Z),e.removeEventListener("touchmove",Q),e.removeEventListener("touchend",Z)}),[Z,Q]);W.useEffect((()=>{const{current:e}=z;return e.addEventListener("touchstart",J,{passive:GZ()}),()=>{e.removeEventListener("touchstart",J),ee()}}),[ee,J]),W.useEffect((()=>{r&&ee()}),[r,ee]);const te=FZ(O?M[0]:l,l,s),ne=FZ(M[M.length-1],l,s)-te,re=e=>t=>{var n;null==(n=e.onMouseLeave)||n.call(e,t),S(-1)};return{active:x,axis:X,axisProps:VZ,dragging:A,focusedThumbIndex:F,getHiddenInputProps:function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var o;const i=Wo(n),c={onChange:(d=i||{},e=>{var t;null==(t=d.onChange)||t.call(d,e),G(e,e.target.valueAsNumber)}),onFocus:U(i||{}),onBlur:H(i||{}),onKeyDown:q(i||{})};var d;const h=(0,Yt.A)({},i,c);return(0,Yt.A)({tabIndex:y,"aria-labelledby":t,"aria-orientation":p,"aria-valuemax":f(s),"aria-valuemin":f(l),name:u,type:"range",min:e.min,max:e.max,step:null===e.step&&e.marks?"any":null!=(o=e.step)?o:void 0,disabled:r},n,h,{style:(0,Yt.A)({},Ow,{direction:a?"rtl":"ltr",width:"100%",height:"100%"})})},getRootProps:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=Wo(e),n={onMouseDown:(o=t||{},e=>{var t;if(null==(t=o.onMouseDown)||t.call(o,e),r)return;if(e.defaultPrevented)return;if(0!==e.button)return;e.preventDefault();const n=_Z(e,b);if(!1!==n){const{newValue:t,activeIndex:r}=Y({finger:n});BZ({sliderRef:z,activeIndex:r,setActive:w}),E(t),N&&!WZ(t,I)&&N(e,t,r)}T.current=0;const a=(0,Na.A)(z.current);a.addEventListener("mousemove",Q,{passive:!0}),a.addEventListener("mouseup",Z)})};var o;const a=(0,Yt.A)({},t,n);return(0,Yt.A)({},e,{ref:V},a)},getThumbProps:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=Wo(e),n={onMouseOver:(r=t||{},e=>{var t;null==(t=r.onMouseOver)||t.call(r,e);const n=Number(e.currentTarget.getAttribute("data-index"));S(n)}),onMouseLeave:re(t||{})};var r;return(0,Yt.A)({},e,t,n)},marks:D,open:k,range:O,rootRef:V,trackLeap:ne,trackOffset:te,values:M,getThumbStyle:e=>({pointerEvents:-1!==x&&x!==e?"none":void 0})}}((0,Yt.A)({},ne,{rootRef:t}));ne.marked=he.length>0&&he.some((e=>e.label)),ne.dragging=pe,ne.focusedThumbIndex=ce;const ve=(e=>{const{disabled:t,dragging:n,marked:r,orientation:o,track:a,classes:i,color:s,size:l}=e,u={root:["root",t&&"disabled",n&&"dragging",r&&"marked","vertical"===o&&"vertical","inverted"===a&&"trackInverted",!1===a&&"trackFalse",s&&`color${(0,qn.A)(s)}`,l&&`size${(0,qn.A)(l)}`],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",t&&"disabled",l&&`thumbSize${(0,qn.A)(l)}`,s&&`thumbColor${(0,qn.A)(s)}`],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return(0,Zt.A)(u,KZ,i)})(ne),be=null!=(n=null!=(r=null==Q?void 0:Q.root)?r:D.Root)?n:ZZ,xe=null!=(o=null!=(a=null==Q?void 0:Q.rail)?a:D.Rail)?o:JZ,we=null!=(i=null!=(s=null==Q?void 0:Q.track)?s:D.Track)?i:eJ,ke=null!=(l=null!=(u=null==Q?void 0:Q.thumb)?u:D.Thumb)?l:tJ,Se=null!=(c=null!=(d=null==Q?void 0:Q.valueLabel)?d:D.ValueLabel)?c:nJ,Ae=null!=(p=null!=(h=null==Q?void 0:Q.mark)?h:D.Mark)?p:rJ,Ce=null!=(f=null!=(m=null==Q?void 0:Q.markLabel)?m:D.MarkLabel)?f:oJ,Te=null!=(g=null!=(y=null==Q?void 0:Q.input)?y:D.Input)?g:"input",Ie=null!=(v=null==Y?void 0:Y.root)?v:R.root,Ee=null!=(b=null==Y?void 0:Y.rail)?b:R.rail,Ne=null!=(x=null==Y?void 0:Y.track)?x:R.track,Oe=null!=(w=null==Y?void 0:Y.thumb)?w:R.thumb,Me=null!=(k=null==Y?void 0:Y.valueLabel)?k:R.valueLabel,De=null!=(S=null==Y?void 0:Y.mark)?S:R.mark,Re=null!=(A=null==Y?void 0:Y.markLabel)?A:R.markLabel,Pe=null!=(C=null==Y?void 0:Y.input)?C:R.input,$e=qo({elementType:be,getSlotProps:oe,externalSlotProps:Ie,externalForwardedProps:te,additionalProps:(0,Yt.A)({},qZ(be)&&{as:M}),ownerState:(0,Yt.A)({},ne,null==Ie?void 0:Ie.ownerState),className:[ve.root,j]}),je=qo({elementType:xe,externalSlotProps:Ee,ownerState:ne,className:ve.rail}),_e=qo({elementType:we,externalSlotProps:Ne,additionalProps:{style:(0,Yt.A)({},re[ue].offset(me),re[ue].leap(ge))},ownerState:(0,Yt.A)({},ne,null==Ne?void 0:Ne.ownerState),className:ve.track}),Fe=qo({elementType:ke,getSlotProps:ie,externalSlotProps:Oe,ownerState:(0,Yt.A)({},ne,null==Oe?void 0:Oe.ownerState),className:ve.thumb}),Le=qo({elementType:Se,externalSlotProps:Me,ownerState:(0,Yt.A)({},ne,null==Me?void 0:Me.ownerState),className:ve.valueLabel}),ze=qo({elementType:Ae,externalSlotProps:De,ownerState:ne,className:ve.mark}),Be=qo({elementType:Ce,externalSlotProps:Re,ownerState:ne,className:ve.markLabel}),We=qo({elementType:Te,getSlotProps:ae,externalSlotProps:Pe,ownerState:ne});return(0,sn.jsxs)(be,(0,Yt.A)({},$e,{children:[(0,sn.jsx)(xe,(0,Yt.A)({},je)),(0,sn.jsx)(we,(0,Yt.A)({},_e)),he.filter((e=>e.value>=U&&e.value<=V)).map(((e,t)=>{const n=FZ(e.value,U,V),r=re[ue].offset(n);let o;return o=!1===Z?-1!==fe.indexOf(e.value):"normal"===Z&&(de?e.value>=fe[0]&&e.value<=fe[fe.length-1]:e.value<=fe[0])||"inverted"===Z&&(de?e.value<=fe[0]||e.value>=fe[fe.length-1]:e.value>=fe[0]),(0,sn.jsxs)(W.Fragment,{children:[(0,sn.jsx)(Ae,(0,Yt.A)({"data-index":t},ze,!sr(Ae)&&{markActive:o},{style:(0,Yt.A)({},r,ze.style),className:(0,Qt.A)(ze.className,o&&ve.markActive)})),null!=e.label?(0,sn.jsx)(Ce,(0,Yt.A)({"aria-hidden":!0,"data-index":t},Be,!sr(Ce)&&{markLabelActive:o},{style:(0,Yt.A)({},r,Be.style),className:(0,Qt.A)(ve.markLabel,Be.className,o&&ve.markLabelActive),children:e.label})):null]},t)})),fe.map(((e,t)=>{const n=FZ(e,U,V),r=re[ue].offset(n),o="off"===J?aJ:Se;return(0,sn.jsx)(o,(0,Yt.A)({},!sr(o)&&{valueLabelFormat:ee,valueLabelDisplay:J,value:"function"===typeof ee?ee(X(e),t):ee,index:t,open:se===t||le===t||"on"===J,disabled:F},Le,{children:(0,sn.jsx)(ke,(0,Yt.A)({"data-index":t},Fe,{className:(0,Qt.A)(ve.thumb,Fe.className,le===t&&ve.active,ce===t&&ve.focusVisible),style:(0,Yt.A)({},r,ye(t),Fe.style),children:(0,sn.jsx)(Te,(0,Yt.A)({"data-index":t,"aria-label":L?L(t):E,"aria-valuenow":X(e),"aria-labelledby":O,"aria-valuetext":z?z(X(e),t):N,value:fe[t]},We))}))}),t)}))]}))})),sJ=()=>{const e=[{label:"\u0421\u0438\u0434\u044f\u0447\u0438\u0439 \u043e\u0431\u0440\u0430\u0437 \u0436\u0438\u0437\u043d\u0438",value:1.2,minValue:.8,maxValue:1.2,carbsMin:3,carbsMax:4},{label:"\u0417\u0430\u043d\u0438\u043c\u0430\u044e\u0441\u044c \u0441\u043f\u043e\u0440\u0442\u043e\u043c 1-3 \u0440\u0430\u0437\u0430 \u0432 \u043d\u0435\u0434\u0435\u043b\u044e",value:1.375,minValue:1.2,maxValue:1.8,carbsMin:4,carbsMax:5},{label:"\u0422\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0438 4-5 \u0440\u0430\u0437 \u0432 \u043d\u0435\u0434\u0435\u043b\u044e",value:1.55,minValue:1.5,maxValue:2.2,carbsMin:6,carbsMax:7},{label:"\u0422\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0438 6-7 \u0440\u0430\u0437 \u0432 \u043d\u0435\u0434\u0435\u043b\u044e",value:1.725,minValue:1.5,maxValue:2.2,carbsMin:8,carbsMax:9},{label:"\u0422\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0438 \u0434\u0432\u0430\u0436\u0434\u044b \u0432 \u0434\u0435\u043d\u044c",value:1.9,minValue:1.5,maxValue:2.2,carbsMin:9,carbsMax:10}],[t,n]=(0,W.useState)({gender:0,lifeStyle:"",age:"",height:"",weight:"",weightWant:""}),[r,o]=(0,W.useState)(0),[a,i]=(0,W.useState)(0),[s,l]=(0,W.useState)({proteins:0,fatsMin:0,fatsMax:0,carbsMin:0,carbsMax:0,proteinNeedMin:0,proteinNeedMax:0,countSubtract3:0,countSubtract2:0}),u=(e,t)=>{n((n=>({...n,[e]:t})))};return(0,sn.jsxs)(ps,{sx:{display:"flex",flexDirection:"column",alignItems:"center",gap:3,maxWidth:800,mx:"auto",p:3},children:[(0,sn.jsx)(vs,{variant:"h5",sx:{fontWeight:"bold",mb:2,marginBottom:"2px"},children:"\u041a\u0430\u043b\u044c\u043a\u0443\u043b\u044f\u0442\u043e\u0440 \u043f\u0438\u0442\u0430\u043d\u0438\u044f \u0438 \u0432\u0435\u0441\u0430"}),(0,sn.jsxs)(ps,{sx:{display:"flex",gap:2,width:"100%"},children:[(0,sn.jsx)(rs,{select:!0,label:"\u041f\u043e\u043b",fullWidth:!0,value:t.gender,onChange:e=>u("gender",e.target.value),sx:{flex:1},children:[{label:"\u0416\u0435\u043d\u0449\u0438\u043d\u0430",value:1},{label:"\u041c\u0443\u0436\u0447\u0438\u043d\u0430",value:0}].map((e=>(0,sn.jsx)(ul,{value:e.value,children:e.label},e.label)))}),(0,sn.jsx)(rs,{select:!0,label:"\u041e\u0431\u0440\u0430\u0437 \u0436\u0438\u0437\u043d\u0438",fullWidth:!0,value:t.lifeStyle,onChange:e=>u("lifeStyle",e.target.value),sx:{flex:1},children:e.map((e=>(0,sn.jsx)(ul,{value:e.label,children:e.label},e.label)))})]}),(0,sn.jsxs)(ps,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",sm:"repeat(2, 1fr)",md:"repeat(4, 1fr)"},gap:2,width:"100%"},children:[(0,sn.jsx)(rs,{label:"\u0412\u043e\u0437\u0440\u0430\u0441\u0442",type:"number",fullWidth:!0,value:t.age,onChange:e=>u("age",e.target.value)}),(0,sn.jsx)(rs,{label:"\u0420\u043e\u0441\u0442 (\u0441\u043c)",type:"number",fullWidth:!0,value:t.height,onChange:e=>u("height",e.target.value)}),(0,sn.jsx)(rs,{label:"\u0412\u0435\u0441 (\u043a\u0433)",type:"number",fullWidth:!0,value:t.weight,onChange:e=>u("weight",e.target.value)}),(0,sn.jsx)(rs,{label:"\u0416\u0435\u043b\u0430\u0435\u043c\u044b\u0439 \u0432\u0435\u0441 (\u043a\u0433)",type:"number",fullWidth:!0,value:t.weightWant,onChange:e=>u("weightWant",e.target.value)})]}),(0,sn.jsxs)(ps,{sx:{width:"100%",maxWidth:500,display:"flex",flexDirection:"column",alignItems:"center",p:3,backgroundColor:"background.paper",borderRadius:2,boxShadow:1},children:[(0,sn.jsx)(vs,{variant:"h6",sx:{fontWeight:"bold",mb:1},children:"\u0414\u0435\u0444\u0438\u0446\u0438\u0442 \u043a\u0430\u043b\u043e\u0440\u0438\u0439"}),(0,sn.jsx)(iJ,{value:r,min:-25,max:25,step:5,onChange:(e,t)=>{o(Array.isArray(t)?t[0]:t)},valueLabelDisplay:"auto",valueLabelFormat:e=>`${e}%`,sx:{width:"90%",mb:1}}),(0,sn.jsxs)(vs,{variant:"body2",color:"text.secondary",children:["\u0422\u0435\u043a\u0443\u0449\u0435\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435: ",r,"%"]})]}),(0,sn.jsx)(rr,{variant:"contained",size:"large",onClick:()=>{var n,o,a,s,u;const{gender:c,age:d,height:p,weight:h,lifeStyle:f,weightWant:m}=t;if(!d||!p||!h||!f)return;let g=0;g=0===c?10*Number(h)+6.25*Number(p)-5*Number(d)+5:10*Number(h)+6.25*Number(p)-5*Number(d)-161;const y=(null===(n=e.find((e=>e.label===f)))||void 0===n?void 0:n.value)||1,v=(null===(o=e.find((e=>e.label===f)))||void 0===o?void 0:o.minValue)||1,b=(null===(a=e.find((e=>e.label===f)))||void 0===a?void 0:a.maxValue)||1,x=(null===(s=e.find((e=>e.label===f)))||void 0===s?void 0:s.carbsMin)||1,w=(null===(u=e.find((e=>e.label===f)))||void 0===u?void 0:u.carbsMax)||1,k=Number(h)*v,S=Number(h)*b,A=g*y*(1+r/100);i(A);const C=.3*A/4,T=.2*A/9,I=.35*A/9,E=Number(m)*x,N=Number(m)*w,O=Number(h)-Number(m)>=0?Number(h)-Number(m):Number(m)-Number(h);let M=0,D=0,R=O,P=O;for(;R>0;)R-=3,M++;for(;P>0;)P-=2,D++;l({proteins:Number(C.toFixed(2)),fatsMin:Number(T.toFixed(2)),fatsMax:Number(I.toFixed(2)),carbsMin:Number(E.toFixed(2)),carbsMax:Number(N.toFixed(2)),proteinNeedMin:Number(k.toFixed(2)),proteinNeedMax:Number(S.toFixed(2)),countSubtract3:Number(M.toFixed(2)),countSubtract2:Number(D.toFixed(2))})},sx:{width:{xs:"100%",sm:"auto"},px:4,py:1.5,fontSize:16,fontWeight:"bold"},children:"\u0420\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u0442\u044c"}),a>0&&(0,sn.jsxs)(ps,{sx:{width:"100%",p:3,padding:"0px",backgroundColor:"background.paper",borderRadius:2,boxShadow:1,mt:2},children:[(0,sn.jsx)(ps,{sx:{textAlign:"center",mb:3,padding:"0px important!",position:"relative","&:after":{content:'""',display:"block",width:60,height:4,backgroundColor:"primary.main",mx:"auto",mt:1,borderRadius:2}},children:(0,sn.jsx)(vs,{variant:"h6",sx:{fontWeight:700,color:"text.primary",letterSpacing:.5},children:"\u0412\u0430\u0448\u0438 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b"})}),(0,sn.jsxs)(ps,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",sm:"1fr 1fr"},gap:2,mb:2},children:[(0,sn.jsxs)(cn,{elevation:0,sx:{p:2,borderRadius:2,backgroundColor:"rgba(63, 81, 181, 0.05)"},children:[(0,sn.jsx)(vs,{variant:"subtitle2",sx:{color:"text.secondary",mb:.5,fontSize:12},children:"\u041a\u0430\u043b\u043e\u0440\u0438\u0438"}),(0,sn.jsxs)(vs,{variant:"h6",sx:{fontWeight:600},children:[a.toFixed(0)," ",(0,sn.jsx)("span",{style:{fontSize:14,fontWeight:400},children:"\u043a\u043a\u0430\u043b"})]})]}),(0,sn.jsxs)(cn,{elevation:0,sx:{p:2,borderRadius:2,backgroundColor:"rgba(76, 175, 80, 0.05)"},children:[(0,sn.jsx)(vs,{variant:"subtitle2",sx:{color:"text.secondary",mb:.5,fontSize:12},children:"\u0411\u0435\u043b\u043a\u0438"}),(0,sn.jsxs)(vs,{variant:"h6",sx:{fontWeight:600},children:[s.proteinNeedMin,"-",s.proteinNeedMax," ",(0,sn.jsx)("span",{style:{fontSize:14,fontWeight:400},children:"\u0433"})]})]}),(0,sn.jsxs)(cn,{elevation:0,sx:{p:2,borderRadius:2,backgroundColor:"rgba(255, 193, 7, 0.05)"},children:[(0,sn.jsx)(vs,{variant:"subtitle2",sx:{color:"text.secondary",mb:.5,fontSize:12},children:"\u0416\u0438\u0440\u044b"}),(0,sn.jsxs)(vs,{variant:"h6",sx:{fontWeight:600},children:[s.fatsMin,"-",s.fatsMax," ",(0,sn.jsx)("span",{style:{fontSize:14,fontWeight:400},children:"\u0433"})]})]}),(0,sn.jsxs)(cn,{elevation:0,sx:{p:2,borderRadius:2,backgroundColor:"rgba(233, 30, 99, 0.05)"},children:[(0,sn.jsx)(vs,{variant:"subtitle2",sx:{color:"text.secondary",mb:.5,fontSize:12},children:"\u0423\u0433\u043b\u0435\u0432\u043e\u0434\u044b"}),(0,sn.jsxs)(vs,{variant:"h6",sx:{fontWeight:600},children:[s.carbsMin,"-",s.carbsMax," ",(0,sn.jsx)("span",{style:{fontSize:14,fontWeight:400},children:"\u0433"})]})]})]}),(0,sn.jsx)(cn,{elevation:0,sx:{p:2,borderRadius:2,backgroundColor:"rgba(158, 158, 158, 0.05)",mt:1,display:"flex",alignItems:"center",gap:2},children:(0,sn.jsxs)(ps,{children:[(0,sn.jsx)(vs,{variant:"subtitle2",sx:{color:"text.secondary",fontSize:12},children:"\u0414\u043e \u0436\u0435\u043b\u0430\u0435\u043c\u043e\u0433\u043e \u0432\u0435\u0441\u0430"}),(0,sn.jsxs)(vs,{variant:"body1",sx:{fontWeight:500},children:[t.weightWant," \u043a\u0433 \xb7 ",s.countSubtract3,"-",s.countSubtract2," \u043c\u0435\u0441\u044f\u0446\u0435\u0432"]})]})})]})]})},lJ=e=>{let{user:t}=e;return(0,sn.jsx)(sn.Fragment,{children:(0,sn.jsx)(sJ,{})})};class uJ{constructor(e,t){this.backend=e,this.dataMover=t,this.data=new WeakMap,this.dataIdsCount=0}get(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)}set(e,t){this.dataIdsCount++,this.data.set(e,t)}has(e){return this.data.has(e)}delete(e){return this.dataIdsCount--,this.data.delete(e)}numDataIds(){return this.dataIdsCount}}class cJ{refCount(e){return dJ("refCount")}incRef(e){return dJ("incRef")}timerAvailable(){return!0}time(e){return dJ("time")}read(e){return dJ("read")}readSync(e){return dJ("readSync")}readToGPU(e,t){return dJ("readToGPU")}numDataIds(){return dJ("numDataIds")}disposeData(e,t){return dJ("disposeData")}write(e,t,n){return dJ("write")}move(e,t,n,r,o){return dJ("move")}createTensorFromGPUData(e,t,n){return dJ("createTensorFromGPUData")}memory(){return dJ("memory")}floatPrecision(){return dJ("floatPrecision")}epsilon(){return 32===this.floatPrecision()?1e-7:1e-4}dispose(){return dJ("dispose")}}function dJ(e){throw new Error(`'${e}' not yet implemented or not found in the registry. This kernel may not be supported by the tfjs backend you have chosen`)}function pJ(e){let t=e.length,n=0;for(;t>0;)n=Math.random()*t|0,t--,gJ(e,t,n)}function hJ(e,t){if(e.length!==t.length)throw new Error(`Array sizes must match to be shuffled together First array length was ${e.length}Second array length was ${t.length}`);let n=e.length,r=0;for(;n>0;)r=Math.random()*n|0,n--,gJ(e,n,r),gJ(t,n,r)}function fJ(e,t,n){return Math.max(e,Math.min(t,n))}function mJ(e){return e%2===0?e:e+1}function gJ(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function yJ(e){let t=0;for(let n=0;n<e.length;n++)t+=e[n];return t}function vJ(e,t){const n=Math.random();return t*n+(1-n)*e}function bJ(e,t){let n=0;for(let r=0;r<e.length;r++){const o=Number(e[r])-Number(t[r]);n+=o*o}return n}function xJ(e,t){if(!e)throw new Error("string"===typeof t?t:t())}function wJ(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";xJ(TJ(e,t),(()=>n+` Shapes ${e} and ${t} must match`))}function kJ(e){xJ(null!=e,(()=>"The input to the tensor constructor must be a non-null value."))}function SJ(e){if(0===e.length)return 1;let t=e[0];for(let n=1;n<e.length;n++)t*=e[n];return t}function AJ(e){return 0===e.length}function CJ(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(null!==e[n]&&null!==t[n]&&e[n]!==t[n])return!1;return!0}function TJ(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function IJ(e){return e%1===0}function EJ(e){if(null!=Math.tanh)return Math.tanh(e);if(e===1/0)return 1;if(e===-1/0)return-1;{const t=Math.exp(2*e);return(t-1)/(t+1)}}function NJ(e){const t=Math.ceil(Math.sqrt(e));return[t,Math.ceil(e/t)]}function OJ(e){const t=new Uint32Array(e);for(let n=0;n<e;++n)t[n]=n;return pJ(t),t}function MJ(e,t){return t<=e.length?e:e+" ".repeat(t-e.length)}function DJ(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return new Promise(((o,a)=>{let i=0;const s=()=>{if(e())return void o();i++;const l=t(i);null!=n&&i>=n?a():null!=r?r(s,l):setTimeout(s,l)};s()}))}function RJ(e,t){let n=1,r=-1;for(let a=0;a<e.length;++a)if(e[a]>=0)n*=e[a];else if(-1===e[a]){if(-1!==r)throw Error(`Shapes can only have 1 implicit size. Found -1 at dim ${r} and dim ${a}`);r=a}else if(e[a]<0)throw Error(`Shapes can not be < 0. Found ${e[a]} at dim ${a}`);if(-1===r){if(t>0&&t!==n)throw Error(`Size(${t}) must match the product of shape ${e}`);return e}if(0===n)throw Error(`Cannot infer the missing size in [${e}] when there are 0 elements`);if(t%n!==0)throw Error(`The implicit shape can't be a fractional number. Got ${t} / ${n}`);const o=e.slice();return o[r]=t/n,o}function PJ(e,t){const n=t.length;return xJ((e=null==e?t.map(((e,t)=>t)):[].concat(e)).every((e=>e>=-n&&e<n)),(()=>`All values in axis param must be in range [-${n}, ${n}) but got axis ${e}`)),xJ(e.every((e=>IJ(e))),(()=>`All values in axis param must be integers but got axis ${e}`)),e.map((e=>e<0?n+e:e))}function $J(e,t){const n=[],r=[],o=null!=t&&Array.isArray(t)&&0===t.length,a=null==t||o?null:PJ(t,e).sort();let i=0;for(let s=0;s<e.length;++s){if(null!=a){if(a[i]===s&&1!==e[s])throw new Error(`Can't squeeze axis ${s} since its dim '${e[s]}' is not 1`);(null==a[i]||a[i]>s)&&1===e[s]&&(n.push(e[s]),r.push(s)),a[i]<=s&&i++}1!==e[s]&&(n.push(e[s]),r.push(s))}return{newShape:n,keptDims:r}}function jJ(e,t){return _J(e,t)}function _J(e,t){let n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else if("bool"===e)n=new Uint8Array(t);else{if("string"!==e)throw new Error(`Unknown data type ${e}`);n=new Array(t)}return n}function FJ(e,t){for(let n=0;n<e.length;n++){const r=e[n];if(isNaN(r)||!isFinite(r))throw Error(`A tensor of type ${t} being uploaded contains ${r}.`)}}function LJ(e){return"bool"===e||"complex64"===e||"float32"===e||"int32"===e||"string"===e}function zJ(e,t){return"complex64"!==t&&(("float32"!==t||"complex64"===e)&&(("int32"!==t||"float32"===e||"complex64"===e)&&("bool"!==t||"bool"!==e)))}function BJ(e){if("float32"===e||"int32"===e)return 4;if("complex64"===e)return 8;if("bool"===e)return 1;throw new Error(`Unknown dtype ${e}`)}function WJ(e){if(null==e)return 0;let t=0;return e.forEach((e=>t+=e.length)),t}function VJ(e){return"string"===typeof e||e instanceof String}function UJ(e){return"boolean"===typeof e}function HJ(e){return"number"===typeof e}function GJ(e){return Array.isArray(e)?GJ(e[0]):e instanceof Float32Array?"float32":e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray?"int32":HJ(e)?"float32":VJ(e)?"string":UJ(e)?"bool":"float32"}function qJ(e){return!!(e&&e.constructor&&e.call&&e.apply)}function KJ(e,t){for(let n=t;n<e;++n)if(e%n===0)return n;return e}function XJ(e){const t=e.length;if(t<2)return[];const n=new Array(t-1);n[t-2]=e[t-1];for(let r=t-3;r>=0;--r)n[r]=n[r+1]*e[r+1];return n}function YJ(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=new Array;if(1===t.length){const a=t[0]*(r?2:1);for(let t=0;t<a;t++)o[t]=n[e+t]}else{const a=t[0],i=t.slice(1),s=i.reduce(((e,t)=>e*t))*(r?2:1);for(let t=0;t<a;t++)o[t]=YJ(e+t*s,i,n,r)}return o}function QJ(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(0===e.length)return t[0];const r=e.reduce(((e,t)=>e*t))*(n?2:1);if(0===r)return[];if(r!==t.length)throw new Error(`[${e}] does not match the input size ${t.length}${n?" for a complex tensor":""}.`);return YJ(0,e,t,n)}function ZJ(e,t){if(Array.isArray(e))return e;if("float32"===t)return e instanceof Float32Array?e:new Float32Array(e);if("int32"===t)return e instanceof Int32Array?e:new Int32Array(e);if("bool"===t||"string"===t)return Uint8Array.from(new Int32Array(e));throw new Error(`Unknown dtype ${t}`)}function JJ(e,t){const n=e0(e,t);for(let r=0;r<n.length;r++)n[r]=1;return n}function e0(e,t){if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t)return new Uint8Array(e);throw new Error(`Unknown data type ${t}`)}function t0(e,t){const n=e.reduce(((e,t)=>e*t),1);if(null==t||"float32"===t)return QJ(e,new Float32Array(n));if("int32"===t)return QJ(e,new Int32Array(n));if("bool"===t)return QJ(e,new Uint8Array(n));throw new Error(`Unknown data type ${t}`)}function n0(e){e.forEach((t=>{xJ(Number.isInteger(t)&&t>=0,(()=>`Tensor must have a shape comprised of positive integers but got shape [${e}].`))}))}function r0(e,t,n){if(0===t)return 0;if(1===t)return e[0];let r=e[e.length-1];for(let o=0;o<e.length-1;++o)r+=n[o]*e[o];return r}function o0(e,t,n){if(0===t)return[];if(1===t)return[e];const r=new Array(t);for(let o=0;o<r.length-1;++o)r[o]=Math.floor(e/n[o]),e-=r[o]*n[o];return r[r.length-1]=e,r}function a0(e){return e&&e.then&&"function"===typeof e.then}const i0="tfjsflags";class s0{constructor(e){this.global=e,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=l0,this.populateURLFlags()}setPlatform(e,t){null!=this.platform&&(u0().getBool("IS_TEST")||u0().getBool("PROD")||console.warn(`Platform ${this.platformName} has already been set. Overwriting the platform with ${e}.`)),this.platformName=e,this.platform=t}registerFlag(e,t,n){if(this.flagRegistry[e]={evaluationFn:t,setHook:n},null!=this.urlFlags[e]){const t=this.urlFlags[e];u0().getBool("IS_TEST")||u0().getBool("PROD")||console.warn(`Setting feature override from URL ${e}: ${t}.`),this.set(e,t)}}async getAsync(e){return e in this.flags||(this.flags[e]=await this.evaluateFlag(e)),this.flags[e]}get(e){if(e in this.flags)return this.flags[e];const t=this.evaluateFlag(e);if(a0(t))throw new Error(`Flag ${e} cannot be synchronously evaluated. Please use getAsync() instead.`);return this.flags[e]=t,this.flags[e]}getNumber(e){return this.get(e)}getBool(e){return this.get(e)}getString(e){return this.get(e)}getFlags(){return this.flags}get features(){return this.flags}set(e,t){if(null==this.flagRegistry[e])throw new Error(`Cannot set flag ${e} as it has not been registered.`);this.flags[e]=t,null!=this.flagRegistry[e].setHook&&this.flagRegistry[e].setHook(t)}evaluateFlag(e){if(null==this.flagRegistry[e])throw new Error(`Cannot evaluate flag '${e}': no evaluation function found.`);return this.flagRegistry[e].evaluationFn()}setFlags(e){this.flags=Object.assign({},e)}reset(){this.flags={},this.urlFlags={},this.populateURLFlags()}populateURLFlags(){if("undefined"===typeof this.global||"undefined"===typeof this.global.location||"undefined"===typeof this.global.location.search)return;const e=this.getQueryParams(this.global.location.search);if(i0 in e){e[i0].split(",").forEach((e=>{const[t,n]=e.split(":");this.urlFlags[t]=function(e,t){const n=t.toLowerCase();return"true"===n||"false"===n?"true"===n:""+ +n===n?+n:t}(0,n)}))}}}function l0(e){const t={};return e.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return function(e,t,n){e[decodeURIComponent(t)]=decodeURIComponent(n||"")}(t,r[0],r[1]),r.join("=")})),t}function u0(){return d0}let c0,d0=null;function p0(){if(null==c0){let e;if("undefined"!==typeof window)e=window;else if("undefined"!==typeof n.g)e=n.g;else if("undefined"!==typeof process)e=process;else{if("undefined"===typeof self)throw new Error("Could not find a global object");e=self}c0=e}return c0}function h0(e,t){const n=function(){const e=p0();return null==e._tfGlobals&&(e._tfGlobals=new Map),e._tfGlobals}();if(n.has(e))return n.get(e);{const r=t();return n.set(e,r),n.get(e)}}const f0="Abs",m0="Acos",g0="Acosh",y0="Add",v0="AddN",b0="All",x0="Any",w0="ArgMax",k0="ArgMin",S0="Asin",A0="Asinh",C0="Atan",T0="Atanh",I0="Atan2",E0="AvgPool",N0="AvgPoolGrad",O0="AvgPool3D",M0="AvgPool3DGrad",D0="BatchMatMul",R0="BatchToSpaceND",P0="Bincount",$0="BitwiseAnd",j0="BroadcastTo",_0="BroadcastArgs",F0="Cast",L0="Ceil",z0="ClipByValue",B0="Complex",W0="ComplexAbs",V0="Concat",U0="Conv2D",H0="Conv2DBackpropFilter",G0="Conv2DBackpropInput",q0="Conv3D",K0="Conv3DBackpropFilterV2",X0="Conv3DBackpropInputV2",Y0="Cos",Q0="Cosh",Z0="Cumprod",J0="Cumsum",e1="CropAndResize",t1="DenseBincount",n1="DepthToSpace",r1="DepthwiseConv2dNative",o1="DepthwiseConv2dNativeBackpropFilter",a1="DepthwiseConv2dNativeBackpropInput",i1="Diag",s1="Dilation2D",l1="Dilation2DBackpropInput",u1="Dilation2DBackpropFilter",c1="Draw",d1="RealDiv",p1="Einsum",h1="Elu",f1="EluGrad",m1="Erf",g1="Equal",y1="Exp",v1="ExpandDims",b1="Expm1",x1="FFT",w1="Fill",k1="FlipLeftRight",S1="Floor",A1="FloorDiv",C1="FusedBatchNorm",T1="GatherV2",I1="GatherNd",E1="Greater",N1="GreaterEqual",O1="Identity",M1="IFFT",D1="Imag",R1="IsFinite",P1="IsInf",$1="IsNan",j1="LeakyRelu",_1="Less",F1="LessEqual",L1="LinSpace",z1="Log",B1="Log1p",W1="LogicalAnd",V1="LogicalNot",U1="LogicalOr",H1="LogicalXor",G1="LogSoftmax",q1="LowerBound",K1="LRN",X1="LRNGrad",Y1="MatrixBandPart",Q1="Max",Z1="Maximum",J1="MaxPool",e2="MaxPoolGrad",t2="MaxPool3D",n2="MaxPool3DGrad",r2="MaxPoolWithArgmax",o2="Mean",a2="Min",i2="Minimum",s2="MirrorPad",l2="Mod",u2="Multinomial",c2="Multiply",d2="Neg",p2="NotEqual",h2="NonMaxSuppressionV3",f2="NonMaxSuppressionV4",m2="NonMaxSuppressionV5",g2="OnesLike",y2="OneHot",v2="Pack",b2="PadV2",x2="Pool",w2="Pow",k2="Prelu",S2="Prod",A2="RaggedGather",C2="RaggedRange",T2="RaggedTensorToTensor",I2="Range",E2="Real",N2="Reciprocal",O2="Relu",M2="Reshape",D2="ResizeNearestNeighbor",R2="ResizeNearestNeighborGrad",P2="ResizeBilinear",$2="ResizeBilinearGrad",j2="Relu6",_2="Reverse",F2="Round",L2="Rsqrt",z2="ScatterNd",B2="TensorScatterUpdate",W2="SearchSorted",V2="Select",U2="Selu",H2="Slice",G2="Sin",q2="Sinh",K2="Sign",X2="Sigmoid",Y2="Softplus",Q2="Sqrt",Z2="Sum",J2="SpaceToBatchND",e3="SplitV",t3="Softmax",n3="SparseFillEmptyRows",r3="SparseReshape",o3="SparseSegmentMean",a3="SparseSegmentSum",i3="SparseToDense",s3="SquaredDifference",l3="Square",u3="StaticRegexReplace",c3="StridedSlice",d3="StringNGrams",p3="StringSplit",h3="StringToHashBucketFast",f3="Sub",m3="Tan",g3="Tanh",y3="Tile",v3="TopK",b3="Transform",x3="Transpose",w3="Unique",k3="Unpack",S3="UnsortedSegmentSum",A3="UpperBound",C3="ZerosLike",T3="Step",I3="FromPixels",E3="RotateWithOffset",N3="_FusedMatMul",O3="FusedConv2D",M3="FusedDepthwiseConv2D";function D3(){u0().getBool("IS_TEST")||u0().getBool("PROD")||console.warn(...arguments)}function R3(){u0().getBool("IS_TEST")||u0().getBool("PROD")||console.log(...arguments)}const P3=h0("kernelRegistry",(()=>new Map)),$3=h0("gradRegistry",(()=>new Map));function j3(e,t){const n=U3(e,t);return P3.get(n)}function _3(e){return $3.get(e)}function F3(e){const t=P3.entries(),n=[];for(;;){const{done:r,value:o}=t.next();if(r)break;const[a,i]=o,[s]=a.split("_");s===e&&n.push(i)}return n}function L3(e){const{kernelName:t,backendName:n}=e,r=U3(t,n);P3.has(r)&&D3(`The kernel '${t}' for backend '${n}' is already registered`),P3.set(r,e)}function z3(e){const{kernelName:t}=e;$3.has(t)&&u0().getBool("DEBUG")&&D3(`Overriding the gradient for '${t}'`),$3.set(t,e)}function B3(e,t){const n=U3(e,t);if(!P3.has(n))throw new Error(`The kernel '${e}' for backend '${t}' is not registered`);P3.delete(n)}function W3(e){if(!$3.has(e))throw new Error(`The gradient '${e}' for backend is not registered`);$3.delete(e)}function V3(e,t){F3(e).forEach((e=>{L3(Object.assign({},e,{backendName:t}))}))}function U3(e,t){return`${t}_${e}`}function H3(e){return e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray}var G3=n(7353);const q3=n.n(G3)()||G3;function K3(e){return q3.fromString(e,!0,16)}const X3=K3("c3a5c85c97cb3127"),Y3=K3("b492b66fbe98f273"),Q3=K3("9ae16a3b2f90404f");function Z3(e){return e.xor(e.shru(47))}function J3(e,t,n){const r=e.slice(t,t+n);return q3.fromBytes(Array.from(r),!0,!0)}function e4(e,t){return J3(e,t,8)}function t4(e,t){return J3(e,t,4)}function n4(e,t){return 0===t?e:e.shru(t).or(e.shl(64-t))}function r4(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:K3("9ddfea08eb382d69"),r=e.xor(t).mul(n);r=r.xor(r.shru(47));let o=t.xor(r).mul(n);return o=o.xor(o.shru(47)),o=o.mul(n),o}function o4(e,t,n,r){return function(e,t,n,r,o,a){o=o.add(e),a=n4(a.add(o).add(r),21);const i=o;return o=(o=o.add(t)).add(n),a=a.add(n4(o,44)),[o.add(r),a.add(i)]}(e4(e,t),e4(e,t+8),e4(e,t+16),e4(e,t+24),n,r)}function a4(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;const n=q3.fromNumber(81,!0);if(t<=32)return t<=16?function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;if(t>=8){const n=Q3.add(2*t),r=e4(e,0).add(Q3),o=e4(e,t-8);return r4(n4(o,37).mul(n).add(r),n4(r,25).add(o).mul(n),n)}if(t>=4){const n=Q3.add(2*t);return r4(t4(e,0).shl(3).add(t),t4(e,t-4),n)}if(t>0){const n=e[0]+(e[t>>1]<<8),r=t+(e[t-1]<<2);return Z3(Q3.mul(n).xor(X3.mul(r))).mul(Q3)}return Q3}(e,t):function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;const n=Q3.add(2*t),r=e4(e,0).mul(Y3),o=e4(e,8),a=e4(e,t-8).mul(n),i=e4(e,t-16).mul(Q3);return r4(n4(r.add(o),43).add(n4(a,30)).add(i),r.add(n4(o.add(Q3),18)).add(a),n)}(e,t);if(t<=64)return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;const n=Q3.add(2*t),r=e4(e,0).mul(Q3),o=e4(e,8),a=e4(e,t-8).mul(n),i=e4(e,t-16).mul(Q3),s=n4(r.add(o),43).add(n4(a,30)).add(i),l=r4(s,r.add(n4(o.add(Q3),18)).add(a),n),u=e4(e,16).mul(n),c=e4(e,24),d=s.add(e4(e,t-32)).mul(n),p=l.add(e4(e,t-24)).mul(n);return r4(n4(u.add(c),43).add(n4(d,30)).add(p),u.add(n4(c.add(r),18)).add(d),n)}(e,t);let r=n,o=n.mul(Y3).add(113),a=Z3(o.mul(Q3).add(113)).mul(Q3),i=[q3.UZERO,q3.UZERO],s=[q3.UZERO,q3.UZERO];r=r.mul(Q3).add(e4(e,0));let l=0;const u=64*(t-1>>6),c=u+(t-1&63)-63;do{r=n4(r.add(o).add(i[0]).add(e4(e,l+8)),37).mul(Y3),o=n4(o.add(i[1]).add(e4(e,l+48)),42).mul(Y3),r=r.xor(s[1]),o=o.add(i[0]).add(e4(e,l+40)),a=n4(a.add(s[0]),33).mul(Y3),i=o4(e,l,i[1].mul(Y3),r.add(s[0])),s=o4(e,l+32,a.add(s[1]),o.add(e4(e,l+16))),[a,r]=[r,a],l+=64}while(l!==u);const d=Y3.add(a.and(255).shl(1));return l=c,s[0]=s[0].add(t-1&63),i[0]=i[0].add(s[0]),s[0]=s[0].add(i[0]),r=n4(r.add(o).add(i[0]).add(e4(e,l+8)),37).mul(d),o=n4(o.add(i[1]).add(e4(e,l+48)),42).mul(d),r=r.xor(s[1].mul(9)),o=o.add(i[0].mul(9).add(e4(e,l+40))),a=n4(a.add(s[0]),33).mul(d),i=o4(e,l,i[1].mul(d),r.add(s[0])),s=o4(e,l+32,a.add(s[1]),o.add(e4(e,l+16))),[a,r]=[r,a],r4(r4(i[0],s[0],d).add(Z3(o).mul(X3)).add(a),r4(i[1],s[1],d).add(r),d)}function i4(e,t){return"string"===t?c4(e):s4([e],t)}function s4(e,t){if("string"===t)throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(e)&&(e=h4(e)),u0().getBool("DEBUG")&&FJ(e,t),function(e,t){return e instanceof Float32Array&&"float32"===t||e instanceof Int32Array&&"int32"===t||e instanceof Uint8Array&&"bool"===t}(e,t))return e;if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t){const t=new Uint8Array(e.length);for(let n=0;n<t.length;++n)0!==Math.round(e[n])&&(t[n]=1);return t}throw new Error(`Unknown data type ${t}`)}function l4(){return u0().platform.now()}function u4(e,t){return u0().platform.fetch(e,t)}function c4(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf-8";return t=t||"utf-8",u0().platform.encode(e,t)}function d4(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf-8";return t=t||"utf-8",u0().platform.decode(e,t)}function p4(e){return null!=u0().platform.isTypedArray?u0().platform.isTypedArray(e):H3(e)}function h4(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==t&&(t=[]),"boolean"===typeof e||"number"===typeof e||"string"===typeof e||a0(e)||null==e||p4(e)&&n)t.push(e);else if(Array.isArray(e)||p4(e))for(let r=0;r<e.length;++r)h4(e[r],t,n);else{let r=-1;for(const t of Object.keys(e))/^([1-9]+[0-9]*|0)$/.test(t)&&(r=Math.max(r,Number(t)));for(let o=0;o<=r;o++)h4(e[o],t,n)}return t}class f4{constructor(e,t){this.backendTimer=e,this.logger=t,null==t&&(this.logger=new g4)}profileKernel(e,t,n){let r;const o=()=>{r=n()};let a;const i=l4();if(this.backendTimer.timerAvailable())a=this.backendTimer.time(o);else{o();for(const e of r)e.dataSync();a=Promise.resolve({kernelMs:l4()-i})}if(u0().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(let s=0;s<r.length;s++){const t=r[s];t.data().then((n=>{m4(n,t.dtype,e)}))}return{kernelName:e,outputs:r,inputs:t,timeMs:a.then((e=>e.kernelMs)),extraInfo:a.then((e=>null!=e.getExtraProfileInfo?e.getExtraProfileInfo():""))}}logKernelProfile(e){const{kernelName:t,outputs:n,timeMs:r,inputs:o,extraInfo:a}=e;n.forEach((e=>{Promise.all([e.data(),r,a]).then((n=>{this.logger.logKernelProfile(t,e,n[0],n[1],o,n[2])}))}))}}function m4(e,t,n){if("float32"!==t)return!1;for(let r=0;r<e.length;r++){const t=e[r];if(isNaN(t)||!isFinite(t))return console.warn(`Found ${t} in the result of '${n}'`),!0}return!1}class g4{logKernelProfile(e,t,n,r,o,a){const i="number"===typeof r?MJ(`${r}ms`,9):r.error,s=MJ(e,25),l=t.rank,u=t.size,c=MJ(t.shape.toString(),14);let d="";for(const p in o){const e=o[p];if(null!=e){const n=e.shape||t.shape,r=n.length;d+=`${p}: ${r}D ${r>0?n:""} `}}console.log(`%c${s}\t%c${i}\t%c${l}D ${c}\t%c${u}\t%c${d}\t%c${a}`,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}}function y4(e,t,n,r){const o=XJ(t),a=function(e,t,n,r){const o=SJ(t),a=r[r.length-1],i=new Array(a).fill(0),s=t.length,l="complex64"===n?w4(e):e;if(s>1)for(let u=0;u<o/a;u++){const e=u*a;for(let t=0;t<a;t++)i[t]=Math.max(i[t],v4(l[e+t],0,n).length)}return i}(e,t,n,o),i=t.length,s=x4(e,t,n,o,a),l=["Tensor"];return r&&(l.push(`  dtype: ${n}`),l.push(`  rank: ${i}`),l.push(`  shape: [${t}]`),l.push("  values:")),l.push(s.map((e=>"    "+e)).join("\n")),l.join("\n")}function v4(e,t,n){let r;return r=Array.isArray(e)?`${parseFloat(e[0].toFixed(7))} + ${parseFloat(e[1].toFixed(7))}j`:VJ(e)?`'${e}'`:"bool"===n?b4(e):parseFloat(e.toFixed(7)).toString(),MJ(r,t)}function b4(e){return 0===e?"false":"true"}function x4(e,t,n,r,o){let a=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];const i="complex64"===n?2:1,s=t[0],l=t.length;if(0===l){if("complex64"===n){return[v4(w4(e)[0],0,n)]}return"bool"===n?[b4(e[0])]:[e[0].toString()]}if(1===l){if(s>20){const t=3*i;let r=Array.from(e.slice(0,t)),a=Array.from(e.slice((s-3)*i,s*i));return"complex64"===n&&(r=w4(r),a=w4(a)),["["+r.map(((e,t)=>v4(e,o[t],n))).join(", ")+", ..., "+a.map(((e,t)=>v4(e,o[s-3+t],n))).join(", ")+"]"]}return["["+("complex64"===n?w4(e):Array.from(e)).map(((e,t)=>v4(e,o[t],n))).join(", ")+"]"]}const u=t.slice(1),c=r.slice(1),d=r[0]*i,p=[];if(s>20){for(let t=0;t<3;t++){const r=t*d,a=r+d;p.push(...x4(e.slice(r,a),u,n,c,o,!1))}p.push("...");for(let t=s-3;t<s;t++){const r=t*d,a=r+d;p.push(...x4(e.slice(r,a),u,n,c,o,t===s-1))}}else for(let m=0;m<s;m++){const t=m*d,r=t+d;p.push(...x4(e.slice(t,r),u,n,c,o,m===s-1))}const h=2===l?",":"";p[0]="["+(s>0?p[0]+h:"");for(let m=1;m<p.length-1;m++)p[m]=" "+p[m]+h;let f=",\n";for(let m=2;m<l;m++)f+="\n";return p[p.length-1]=" "+p[p.length-1]+"]"+(a?"":f),p}function w4(e){const t=[];for(let n=0;n<e.length;n+=2)t.push([e[n],e[n+1]]);return t}class k4{constructor(e,t,n){if(this.dtype=t,this.shape=e.slice(),this.size=SJ(e),null!=n){const e=n.length;xJ(e===this.size,(()=>`Length of values '${e}' does not match the size inferred by the shape '${this.size}'.`))}if("complex64"===t)throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=n||_J(t,this.size),this.strides=XJ(e)}set(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];0===n.length&&(n=[0]),xJ(n.length===this.rank,(()=>`The number of provided coordinates (${n.length}) must match the rank (${this.rank})`));const o=this.locToIndex(n);this.values[o]=e}get(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];0===t.length&&(t=[0]);let r=0;for(const a of t){if(a<0||a>=this.shape[r]){const e=`Requested out of range element at ${t}.   Buffer shape=${this.shape}`;throw new Error(e)}r++}let o=t[t.length-1];for(let a=0;a<t.length-1;++a)o+=this.strides[a]*t[a];return this.values[o]}locToIndex(e){if(0===this.rank)return 0;if(1===this.rank)return e[0];let t=e[e.length-1];for(let n=0;n<e.length-1;++n)t+=this.strides[n]*e[n];return t}indexToLoc(e){if(0===this.rank)return[];if(1===this.rank)return[e];const t=new Array(this.shape.length);for(let n=0;n<t.length-1;++n)t[n]=Math.floor(e/this.strides[n]),e-=t[n]*this.strides[n];return t[t.length-1]=e,t}get rank(){return this.shape.length}toTensor(){return S4().makeTensor(this.values,this.shape,this.dtype)}}let S4=null,A4=null,C4=null;class T4{constructor(e,t,n,r){this.kept=!1,this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=t||"float32",this.size=SJ(e),this.strides=XJ(e),this.dataId=n,this.id=r,this.rankType=this.rank<5?this.rank.toString():"higher"}get rank(){return this.shape.length}async buffer(){const e=await this.data();return A4.buffer(this.shape,this.dtype,e)}bufferSync(){return A4.buffer(this.shape,this.dtype,this.dataSync())}async array(){const e=await this.data();return QJ(this.shape,e,"complex64"===this.dtype)}arraySync(){return QJ(this.shape,this.dataSync(),"complex64"===this.dtype)}async data(){this.throwIfDisposed();const e=S4().read(this.dataId);if("string"===this.dtype){const n=await e;try{return n.map((e=>d4(e)))}catch(t){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}}return e}dataToGPU(e){return this.throwIfDisposed(),S4().readToGPU(this.dataId,e)}dataSync(){this.throwIfDisposed();const e=S4().readSync(this.dataId);if("string"===this.dtype)try{return e.map((e=>d4(e)))}catch(t){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e}async bytes(){this.throwIfDisposed();const e=await S4().read(this.dataId);return"string"===this.dtype?e:new Uint8Array(e.buffer)}dispose(){this.isDisposed||(this.kerasMask&&this.kerasMask.dispose(),S4().disposeTensor(this),this.isDisposedInternal=!0)}get isDisposed(){return this.isDisposedInternal}throwIfDisposed(){if(this.isDisposed)throw new Error("Tensor is disposed.")}print(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return A4.print(this,e)}clone(){return this.throwIfDisposed(),A4.clone(this)}toString(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return y4(this.dataSync(),this.shape,this.dtype,e)}cast(e){return this.throwIfDisposed(),A4.cast(this,e)}variable(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return this.throwIfDisposed(),S4().makeVariable(this,e,t,n)}}function I4(){return h0("Tensor",(()=>T4))}Object.defineProperty(T4,Symbol.hasInstance,{value:e=>!!e&&null!=e.data&&null!=e.dataSync&&null!=e.throwIfDisposed}),I4();class E4 extends T4{constructor(e,t,n,r){super(e.shape,e.dtype,e.dataId,r),this.trainable=t,this.name=n}assign(e){if(e.dtype!==this.dtype)throw new Error(`dtype of the new value (${e.dtype}) and previous value (${this.dtype}) must match`);if(!TJ(e.shape,this.shape))throw new Error(`shape of the new value (${e.shape}) and previous value (${this.shape}) must match`);S4().disposeTensor(this),this.dataId=e.dataId,S4().incRef(this,null)}dispose(){S4().disposeVariable(this),this.isDisposedInternal=!0}}var N4,O4,M4,D4,R4,P4,$4,j4,_4,F4;Object.defineProperty(E4,Symbol.hasInstance,{value:e=>e instanceof T4&&null!=e.assign&&e.assign instanceof Function}),(O4=N4||(N4={})).R0="R0",O4.R1="R1",O4.R2="R2",O4.R3="R3",O4.R4="R4",O4.R5="R5",O4.R6="R6",(D4=M4||(M4={})).float32="float32",D4.int32="int32",D4.bool="int32",D4.complex64="complex64",(P4=R4||(R4={})).float32="float32",P4.int32="int32",P4.bool="bool",P4.complex64="complex64",(j4=$4||($4={})).float32="float32",j4.int32="float32",j4.bool="float32",j4.complex64="complex64",(F4=_4||(_4={})).float32="complex64",F4.int32="complex64",F4.bool="complex64",F4.complex64="complex64";const L4={float32:$4,int32:M4,bool:R4,complex64:_4};function z4(e,t){if("string"===e||"string"===t){if("string"===e&&"string"===t)return"string";throw new Error(`Can not upcast ${e} with ${t}`)}return L4[e][t]}function B4(e){return z4(e,"int32")}function W4(e){return null!=e&&"object"===typeof e&&"texture"in e&&e.texture instanceof WebGLTexture}function V4(e){return"undefined"!==typeof GPUBuffer&&null!=e&&"object"===typeof e&&"buffer"in e&&e.buffer instanceof GPUBuffer}function U4(e,t){if(e.dtype===t.dtype)return[e,t];const n=z4(e.dtype,t.dtype);return[e.cast(n),t.cast(n)]}function H4(e,t){xJ(e.dtype===t.dtype,(()=>`The dtypes of the first(${e.dtype}) and second(${t.dtype}) input must match`))}function G4(e,t){return t.some((t=>t.id===e.id))}function q4(e){const t=[];return K4(e,t,new Set),t}function K4(e,t,n){if(null==e)return;if(e instanceof T4)return void t.push(e);if(r=e,!Array.isArray(r)&&"object"!==typeof r)return;var r;const o=e;for(const a in o){const e=o[a];n.has(e)||(n.add(e),K4(e,t,n))}}function X4(e){return null!=e.kernelName}class Y4{constructor(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map((e=>e.name))))}}}dispose(){for(const e in this.registeredVariables)this.registeredVariables[e].dispose()}}class Q4{constructor(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new Y4}async ready(){if(null!=this.pendingBackendInit)return this.pendingBackendInit.then((()=>{}));if(null!=this.backendInstance)return;const e=this.getSortedBackends();for(let t=0;t<e.length;t++){const n=e[t];if(await this.initializeBackend(n).success)return void await this.setBackend(n)}throw new Error("Could not initialize any backends, all backend initializations failed.")}get backend(){if(null!=this.pendingBackendInit)throw new Error(`Backend '${this.backendName}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);if(null==this.backendInstance){const{name:e,asyncInit:t}=this.initializeBackendsAndReturnBest();if(t)throw new Error(`The highest priority backend '${e}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);this.setBackend(e)}return this.backendInstance}backendNames(){return Object.keys(this.registryFactory)}findBackend(e){if(!(e in this.registry)){if(!(e in this.registryFactory))return null;{const{asyncInit:t}=this.initializeBackend(e);if(t)return null}}return this.registry[e]}findBackendFactory(e){return e in this.registryFactory?this.registryFactory[e].factory:null}registerBackend(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e in this.registryFactory?(D3(`${e} backend was already registered. Reusing existing backend factory.`),!1):(this.registryFactory[e]={factory:t,priority:n},!0)}async setBackend(e){if(null==this.registryFactory[e])throw new Error(`Backend name '${e}' not found in registry`);if(this.backendName=e,null==this.registry[e]){this.backendInstance=null;const{success:t,asyncInit:n}=this.initializeBackend(e);if(!(n?await t:t))return!1}return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new f4(this.backendInstance),!0}setupRegisteredKernels(){F3(this.backendName).forEach((e=>{null!=e.setupFunc&&e.setupFunc(this.backendInstance)}))}disposeRegisteredKernels(e){F3(e).forEach((t=>{null!=t.disposeFunc&&t.disposeFunc(this.registry[e])}))}initializeBackend(e){const t=this.registryFactory[e];if(null==t)throw new Error(`Cannot initialize backend ${e}, no registration found.`);try{const n=t.factory();if(!n||n instanceof cJ||"function"!==typeof n.then)return this.registry[e]=n,{success:!0,asyncInit:!1};{const t=++this.pendingBackendInitId,r=n.then((n=>!(t<this.pendingBackendInitId)&&(this.registry[e]=n,this.pendingBackendInit=null,!0))).catch((n=>(t<this.pendingBackendInitId||(this.pendingBackendInit=null,D3(`Initialization of backend ${e} failed`),D3(n.stack||n.message)),!1)));return this.pendingBackendInit=r,{success:r,asyncInit:!0}}}catch(n){return D3(`Initialization of backend ${e} failed`),D3(n.stack||n.message),{success:!1,asyncInit:!1}}}removeBackend(e){if(!(e in this.registryFactory))throw new Error(`${e} backend not found in registry`);this.backendName===e&&null!=this.pendingBackendInit&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}getSortedBackends(){if(0===Object.keys(this.registryFactory).length)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort(((e,t)=>this.registryFactory[t].priority-this.registryFactory[e].priority))}initializeBackendsAndReturnBest(){const e=this.getSortedBackends();for(let t=0;t<e.length;t++){const n=e[t],{success:r,asyncInit:o}=this.initializeBackend(n);if(o||r)return{name:n,asyncInit:o}}throw new Error("Could not initialize any backends, all backend initializations failed.")}moveData(e,t){const n=this.state.tensorInfo.get(t),r=n.backend,o=this.readSync(t),a=r.refCount(t);r.disposeData(t,!0),n.backend=e,e.move(t,o,n.shape,n.dtype,a),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}tidy(e,t){let n,r=null;if(null==t){if("function"!==typeof e)throw new Error("Please provide a function to tidy()");t=e}else{if("string"!==typeof e&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if("function"!==typeof t)throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");r=e}return this.scopedRun((()=>this.startScope(r)),(()=>this.endScope(n)),(()=>(n=t(),n instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),n)))}scopedRun(e,t,n){e();try{const e=n();return t(),e}catch(r){throw t(),r}}nextTensorId(){return Q4.nextTensorId++}nextVariableId(){return Q4.nextVariableId++}clone(e){const t=J4.runKernel(O1,{x:e}),n={x:e};return this.addTapeNode(this.state.activeScope.name,n,[t],(e=>({x:()=>{const t={x:e},n={dtype:"float32"};return J4.runKernel(F0,t,n)}})),[],{}),t}runKernel(e,t,n){null==this.backendName&&this.backend;if(!(null!=j3(e,this.backendName)))throw new Error(`Kernel '${e}' not registered for backend '${this.backendName}'`);return this.runKernelFunc({kernelName:e,inputs:t,attrs:n})}shouldCheckForMemLeaks(){return this.ENV.getBool("IS_TEST")}checkKernelForMemLeak(e,t,n){const r=this.backend.numDataIds();let o=0;n.forEach((e=>{o+="complex64"===e.dtype?3:1}));const a=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],i=r-t-o-a;if(i>0)throw new Error(`Backend '${this.backendName}' has an internal memory leak (${i} data ids) after running '${e}'`)}runKernelFunc(e){let t,n=[];const r=this.isTapeOn(),o=this.state.numBytes,a=this.state.numTensors;let i,s;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0),null==this.backendName&&this.backend;const l=X4(e)?e.kernelName:null!=this.state.activeScope?this.state.activeScope.name:"";if(X4(e)){const{kernelName:t,inputs:o,attrs:a}=e;null==this.backendName&&this.backend;const l=j3(t,this.backendName);xJ(null!=l,(()=>`Cannot find registered kernel '${t}' for backend '${this.backendName}'`)),i=()=>{const e=this.backend.numDataIds();s=l.kernelFunc({inputs:o,attrs:a,backend:this.backend});const i=Array.isArray(s)?s:[s];this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(t,e,i);const u=i.map((e=>null!=e.rank?e:this.makeTensorFromTensorInfo(e)));if(r){const e=this.getTensorsForGradient(t,o,u);n=this.saveTensorsForBackwardMode(e)}return u}}else{const{forwardFunc:t}=e,o=e=>{r&&(n=e.map((e=>this.keep(this.clone(e)))))};i=()=>{const e=this.backend.numDataIds();s=this.tidy((()=>t(this.backend,o)));const n=Array.isArray(s)?s:[s];return this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(l,e,n),n}}const{inputs:u,attrs:c}=e,d=X4(e)?null:e.backwardsFunc;let p;return this.scopedRun((()=>this.state.kernelDepth++),(()=>this.state.kernelDepth--),(()=>{this.ENV.getBool("DEBUG")||this.state.profiling?(p=this.profiler.profileKernel(l,u,(()=>i())),this.ENV.getBool("DEBUG")&&this.profiler.logKernelProfile(p),t=p.outputs):t=i()})),r&&this.addTapeNode(l,u,t,d,n,c),this.state.profiling&&this.state.activeProfile.kernels.push({name:l,bytesAdded:this.state.numBytes-o,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-a,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(u).map((e=>null!=u[e]?u[e].shape:null)),outputShapes:t.map((e=>e.shape)),kernelTimeMs:p.timeMs,extraInfo:p.extraInfo}),Array.isArray(s)?t:t[0]}saveTensorsForBackwardMode(e){return e.map((e=>this.keep(this.clone(e))))}getTensorsForGradient(e,t,n){const r=_3(e);if(null!=r){const e=r.inputsToSave||[],o=r.outputsToSave||[];let a;r.saveAllInputs?(xJ(Array.isArray(t),(()=>"saveAllInputs is true, expected inputs to be an array.")),a=Object.keys(t).map((e=>t[e]))):a=e.map((e=>t[e]));const i=n.filter(((e,t)=>o[t]));return a.concat(i)}return[]}makeTensor(e,t,n,r){if(null==e)throw new Error("Values passed to engine.makeTensor() are null");n=n||"float32",r=r||this.backend;let o=e;"string"===n&&VJ(e[0])&&(o=e.map((e=>c4(e))));const a=r.write(o,t,n),i=new T4(t,n,a,this.nextTensorId());if(this.trackTensor(i,r),"string"===n){const e=this.state.tensorInfo.get(a),t=WJ(o);this.state.numBytes+=t-e.bytes,e.bytes=t}return i}makeTensorFromDataId(e,t,n,r){const o={dataId:e,shape:t,dtype:n=n||"float32"};return this.makeTensorFromTensorInfo(o,r)}makeTensorFromTensorInfo(e,t){const{dataId:n,shape:r,dtype:o}=e,a=new T4(r,o,n,this.nextTensorId());return this.trackTensor(a,t),a}makeVariable(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;n=n||this.nextVariableId().toString(),null!=r&&r!==e.dtype&&(e=e.cast(r));const o=new E4(e,t,n,this.nextTensorId());if(null!=this.state.registeredVariables[o.name])throw new Error(`Variable with name ${o.name} was already registered`);return this.state.registeredVariables[o.name]=o,this.incRef(o,this.backend),o}trackTensor(e,t){this.state.numTensors++,"string"===e.dtype&&this.state.numStringTensors++;let n=0;"complex64"!==e.dtype&&"string"!==e.dtype&&(n=e.size*BJ(e.dtype)),this.state.numBytes+=n,this.state.tensorInfo.has(e.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(e.dataId,{backend:t||this.backend,dtype:e.dtype,shape:e.shape,bytes:n})),e instanceof E4||this.track(e)}incRef(e,t){this.trackTensor(e,t),this.backend.incRef(e.dataId)}removeDataId(e,t){this.state.tensorInfo.has(e)&&this.state.tensorInfo.get(e).backend===t&&(this.state.tensorInfo.delete(e),this.state.numDataBuffers--)}disposeTensor(e){if(!this.state.tensorInfo.has(e.dataId))return;const t=this.state.tensorInfo.get(e.dataId);if(this.state.numTensors--,"string"===e.dtype&&(this.state.numStringTensors--,this.state.numBytes-=t.bytes),"complex64"!==e.dtype&&"string"!==e.dtype){const t=e.size*BJ(e.dtype);this.state.numBytes-=t}t.backend.disposeData(e.dataId)&&this.removeDataId(e.dataId,t.backend)}disposeVariables(){for(const e in this.state.registeredVariables){const t=this.state.registeredVariables[e];this.disposeVariable(t)}}disposeVariable(e){this.disposeTensor(e),null!=this.state.registeredVariables[e.name]&&delete this.state.registeredVariables[e.name]}memory(){const e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,null==e.reasons&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e}async profile(e){this.state.profiling=!0;const t=this.state.numBytes,n=this.state.numTensors;this.state.activeProfile.kernels=[],this.state.activeProfile.result=await e(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max(...this.state.activeProfile.kernels.map((e=>e.totalBytesSnapshot))),this.state.activeProfile.newBytes=this.state.numBytes-t,this.state.activeProfile.newTensors=this.state.numTensors-n;for(const r of this.state.activeProfile.kernels)r.kernelTimeMs=await r.kernelTimeMs,r.extraInfo=await r.extraInfo;return this.state.activeProfile}isTapeOn(){return this.state.gradientDepth>0&&0===this.state.kernelDepth}addTapeNode(e,t,n,r,o,a){const i={id:this.state.nextTapeNodeId++,kernelName:e,inputs:t,outputs:n,saved:o},s=_3(e);null!=s&&(r=s.gradFunc),null!=r&&(i.gradient=e=>(e=e.map(((e,t)=>{if(null==e){const e=n[t],r=e0(e.size,e.dtype);return this.makeTensor(r,e.shape,e.dtype)}return e})),r(e.length>1?e:e[0],o,a))),this.state.activeTape.push(i)}keep(e){return e.kept=!0,e}startTape(){0===this.state.gradientDepth&&(this.state.activeTape=[]),this.state.gradientDepth++}endTape(){this.state.gradientDepth--}startScope(e){const t={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(t.name=e),this.state.scopeStack.push(t),this.state.activeScope=t}endScope(e){const t=q4(e),n=new Set(t.map((e=>e.id)));for(let o=0;o<this.state.activeScope.track.length;o++){const e=this.state.activeScope.track[o];e.kept||n.has(e.id)||e.dispose()}const r=this.state.scopeStack.pop();this.state.activeScope=0===this.state.scopeStack.length?null:this.state.scopeStack[this.state.scopeStack.length-1],t.forEach((e=>{e.kept||e.scopeId!==r.id||this.track(e)}))}gradients(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(xJ(t.length>0,(()=>"gradients() received an empty list of xs.")),null!=n&&"float32"!==n.dtype)throw new Error(`dy must have 'float32' dtype, but has '${n.dtype}'`);const o=this.scopedRun((()=>this.startTape()),(()=>this.endTape()),(()=>this.tidy("forward",e)));xJ(o instanceof T4,(()=>"The result y returned by f() must be a tensor."));const a=function(e,t,n){const r={},o={};for(let l=0;l<t.length;l++)r[t[l].id]=!0;for(let l=0;l<e.length;l++){const n=e[l],a=n.inputs;for(const e in a){const i=a[e];let s=!1;for(let e=0;e<t.length;e++)if(r[i.id]){n.outputs.forEach((e=>r[e.id]=!0)),s=!0,o[n.id]=!0;break}if(s)break}}const a={};a[n.id]=!0;const i={};for(let l=e.length-1;l>=0;l--){const t=e[l],n=t.inputs;for(let e=0;e<t.outputs.length;e++)if(a[t.outputs[e].id]){for(const e in n)a[n[e].id]=!0,i[t.id]=!0;break}}const s=[];for(let l=0;l<e.length;l++){const t=e[l];if(o[t.id]&&i[t.id]){const e={};for(const o in t.inputs){const n=t.inputs[o];r[n.id]&&(e[o]=n)}const n=Object.assign({},t);n.inputs=e,n.outputs=t.outputs,s.push(n)}}return s}(this.state.activeTape,t,o);if(!r&&0===a.length&&t.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",(()=>{const e={};e[o.id]=null==n?function(e){const t=JJ(SJ(e),"float32");return J4.makeTensor(t,e,"float32")}(o.shape):n,function(e,t,n,r){for(let o=t.length-1;o>=0;o--){const a=t[o],i=[];if(a.outputs.forEach((t=>{const n=e[t.id];null!=n?i.push(n):i.push(null)})),null==a.gradient)throw new Error(`Cannot compute gradient: gradient function not found for ${a.kernelName}.`);const s=a.gradient(i);for(const t in a.inputs){if(!(t in s))throw new Error(`Cannot backprop through input ${t}. Available gradients found: ${Object.keys(s)}.`);const o=n((()=>s[t]()));if("float32"!==o.dtype)throw new Error(`Error in gradient for op ${a.kernelName}. The gradient of input ${t} must have 'float32' dtype, but has '${o.dtype}'`);const i=a.inputs[t];if(!TJ(o.shape,i.shape))throw new Error(`Error in gradient for op ${a.kernelName}. The gradient of input '${t}' has shape '${o.shape}', which does not match the shape of the input '${i.shape}'`);if(null==e[i.id])e[i.id]=o;else{const t=e[i.id];e[i.id]=r(t,o),t.dispose()}}}}(e,a,(e=>this.tidy(e)),e5);const r=t.map((t=>e[t.id]));return 0===this.state.gradientDepth&&(this.state.activeTape.forEach((e=>{for(const t of e.saved)t.dispose()})),this.state.activeTape=null),{value:o,grads:r}}))}customGrad(e){var t=this;return xJ(qJ(e),(()=>"The f passed in customGrad(f) must be a function.")),function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];let a;xJ(r.every((e=>e instanceof T4)),(()=>"The args passed in customGrad(f)(x1, x2,...) must all be tensors"));const i={};r.forEach(((e,t)=>{i[t]=e}));return t.runKernelFunc({forwardFunc:(t,n)=>(a=e(...r,n),xJ(a.value instanceof T4,(()=>"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor")),xJ(qJ(a.gradFunc),(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function.")),a.value),backwardsFunc:(e,t)=>{const n=a.gradFunc(e,t),o=Array.isArray(n)?n:[n];xJ(o.length===r.length,(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...).")),xJ(o.every((e=>e instanceof T4)),(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."));const i={};return o.forEach(((e,t)=>{i[t]=()=>e})),i},inputs:i})}}readSync(e){return this.state.tensorInfo.get(e).backend.readSync(e)}read(e){return this.state.tensorInfo.get(e).backend.read(e)}readToGPU(e,t){return this.state.tensorInfo.get(e).backend.readToGPU(e,t)}async time(e){const t=l4(),n=await this.backend.time(e);return n.wallMs=l4()-t,n}track(e){return null!=this.state.activeScope&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e}get registeredVariables(){return this.state.registeredVariables}reset(){this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new Y4;for(const e in this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}function Z4(){const e=p0();if(null==e._tfengine){const t=new s0(e);e._tfengine=new Q4(t)}var t;return t=e._tfengine.ENV,d0=t,S4=()=>e._tfengine,e._tfengine}Q4.nextTensorId=0,Q4.nextVariableId=0;const J4=Z4();function e5(e,t){const n={a:e,b:t};return J4.runKernel(y0,n)}let t5;function n5(e){t5=e}function r5(e){if(void 0!==t5)return t5;if(e||"undefined"!==typeof navigator&&null!=navigator){if(e||(e=navigator),"ReactNative"===e.product)return!0;const t=e.userAgent||e.vendor||("undefined"!==typeof window?window.opera:"");if(!t){const t=e;return t.userAgentData&&t.userAgentData.mobile}return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))}return!1}function o5(){return"undefined"!==typeof window&&null!=window.document||"undefined"!==typeof WorkerGlobalScope}const a5=u0();function i5(e,t){let n=e;if(p4(e))return"string"===t?[]:[e.length];if(W4(e)){const t=e.channels||"RGBA";return[e.height,e.width*t.length]}if(V4(e))return[e.buffer.size/(null==t?4:BJ(t))];if(!Array.isArray(e))return[];const r=[];for(;Array.isArray(n)||p4(n)&&"string"!==t;)r.push(n.length),n=n[0];return Array.isArray(e)&&u0().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&s5(e,r,[]),r}function s5(e,t,n){if(n=n||[],!Array.isArray(e)&&!p4(e))return void xJ(0===t.length,(()=>`Element arr[${n.join("][")}] is a primitive, but should be an array/TypedArray of ${t[0]} elements`));xJ(t.length>0,(()=>`Element arr[${n.join("][")}] should be a primitive, but is an array of ${e.length} elements`)),xJ(e.length===t[0],(()=>`Element arr[${n.join("][")}] should have ${t[0]} elements, but has ${e.length} elements`));const r=t.slice(1);for(let o=0;o<e.length;++o)s5(e[o],r,n.concat(o))}function l5(e,t,n,r){if("string_or_numeric"!==e){if(null==e)throw new Error("Expected dtype cannot be null.");if("numeric"!==e&&e!==t||"numeric"===e&&"string"===t)throw new Error(`Argument '${n}' passed to '${r}' must be ${e} tensor, but got ${t} tensor`)}}function u5(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"numeric";if(e instanceof I4())return l5(r,e.dtype,t,n),e;let o=GJ(e);if("string"!==o&&["bool","int32","float32"].indexOf(r)>=0&&(o=r),l5(r,o,t,n),null==e||!p4(e)&&!Array.isArray(e)&&"number"!==typeof e&&"boolean"!==typeof e&&"string"!==typeof e){const r=null==e?"null":e.constructor.name;throw new Error(`Argument '${t}' passed to '${n}' must be a Tensor or TensorLike, but got '${r}'`)}const a=i5(e,o);p4(e)||Array.isArray(e)||(e=[e]);const i="string"!==o?s4(e,o):h4(e,[],!0);return J4.makeTensor(i,a,o)}function c5(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"numeric";if(!Array.isArray(e))throw new Error(`Argument ${t} passed to ${n} must be a \`Tensor[]\` or \`TensorLike[]\``);return e.map(((e,o)=>u5(e,`${t}[${o}]`,n,r)))}a5.registerFlag("DEBUG",(()=>!1),(e=>{e&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")})),a5.registerFlag("IS_BROWSER",(()=>o5())),a5.registerFlag("IS_NODE",(()=>"undefined"!==typeof process&&"undefined"!==typeof process.versions&&"undefined"!==typeof process.versions.node)),a5.registerFlag("IS_CHROME",(()=>"undefined"!==typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor))),a5.registerFlag("IS_SAFARI",(()=>"undefined"!==typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Safari/.test(navigator.userAgent)&&/Apple/.test(navigator.vendor))),a5.registerFlag("PROD",(()=>!1)),a5.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",(()=>a5.getBool("DEBUG"))),a5.registerFlag("DEPRECATION_WARNINGS_ENABLED",(()=>!0)),a5.registerFlag("IS_TEST",(()=>!1)),a5.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",(()=>a5.getBool("DEBUG"))),a5.registerFlag("WRAP_TO_IMAGEBITMAP",(()=>!1)),a5.registerFlag("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU",(()=>!1)),a5.registerFlag("USE_SETTIMEOUTCUSTOM",(()=>!1));const d5="__op";function p5(e){const t=Object.keys(e);if(1!==t.length)throw new Error(`Please provide an object with a single key (operation name) mapping to a function. Got an object with ${t.length} keys.`);let n=t[0];const r=e[n];n.endsWith("_")&&(n=n.substring(0,n.length-1)),n+=d5;const o=function(){J4.startScope(n);try{const e=r(...arguments);return a0(e)&&console.error("Cannot return a Promise inside of tidy."),J4.endScope(e),e}catch(e){throw J4.endScope(null),e}};return Object.defineProperty(o,"name",{value:n,configurable:!0}),o}const h5=p5({complex_:function(e,t){const n=u5(e,"real","complex"),r=u5(t,"imag","complex");wJ(n.shape,r.shape,`real and imag shapes, ${n.shape} and ${r.shape}, must match in call to tf.complex().`);const o={real:n,imag:r};return J4.runKernel(B0,o)}});function f5(e,t,n,r){if(null==r)r=GJ(e);else if("complex64"===r)throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(V4(e)||W4(e)){if("float32"!==r&&"int32"!==r)throw new Error(`Creating tensor from GPU data only supports 'float32'|'int32' dtype, while the dtype is ${r}.`);return J4.backend.createTensorFromGPUData(e,t||n,r)}if(!p4(e)&&!Array.isArray(e)&&"number"!==typeof e&&"boolean"!==typeof e&&"string"!==typeof e)throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(null!=t){n0(t);const e=SJ(t),r=SJ(n);xJ(e===r,(()=>`Based on the provided shape, [${t}], the tensor should have ${e} values but has ${r}`));for(let o=0;o<n.length;++o){const e=n[o],r=o!==n.length-1||e!==SJ(t.slice(o));xJ(n[o]===t[o]||!r,(()=>`Error creating a new Tensor. Inferred shape (${n}) does not match the provided shape (${t}). `))}}return p4(e)||Array.isArray(e)||(e=[e]),t=t||n,e="string"!==r?s4(e,r):h4(e,[],!0),J4.makeTensor(e,t,r)}function m5(e,t,n){return f5(e,t,i5(e,n),n)}const g5={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8};class y5{static join(e){return new y5(e).slice()}constructor(e){if(this.shards=[],this.previousShardIndex=0,null==e)return;if(e instanceof Array||(e=[e]),0===(e=e.map((e=>p4(e)?e.buffer:e))).length)return;this.bufferUniformSize=e[0].byteLength;let t=0;for(let n=0;n<e.length;n++){const r=e[n];n!==e.length-1&&r.byteLength!==this.bufferUniformSize&&(this.bufferUniformSize=void 0);const o=t+r.byteLength;this.shards.push({buffer:r,start:t,end:o}),t=o}0===this.shards.length&&(this.byteLength=0),this.byteLength=this.shards[this.shards.length-1].end}slice(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.byteLength;if(0===this.shards.length)return new ArrayBuffer(0);if(e=isNaN(Number(e))?0:e,t=isNaN(Number(t))?0:t,e=Math.max(0,e),t=Math.min(this.byteLength,t),t<=e)return new ArrayBuffer(0);const n=this.findShardForByte(e);if(-1===n)throw new Error(`Could not find start shard for byte ${e}`);const r=new ArrayBuffer(t-e),o=new Uint8Array(r);let a=0;for(let i=n;i<this.shards.length;i++){const n=this.shards[i],r=e+a-n.start,s=a,l=Math.min(t,n.end)-n.start,u=new Uint8Array(n.buffer,r,l-r);if(o.set(u,s),a+=u.length,t<n.end)break}return r}findShardForByte(e){if(0===this.shards.length||e<0||e>=this.byteLength)return-1;if(null!=this.bufferUniformSize)return this.previousShardIndex=Math.floor(e/this.bufferUniformSize),this.previousShardIndex;function t(t){return e<t.start?-1:e>=t.end?1:0}if(0===t(this.shards[this.previousShardIndex]))return this.previousShardIndex;const n=function(e,t){let n=0,r=e.length;for(;n<=r;){const o=Math.floor((r-n)/2)+n,a=t(e[o]);if(0===a)return o;a<0?r=o:n=o+1}return-1}(this.shards,t);return-1===n?-1:(this.previousShardIndex=n,this.previousShardIndex)}}function v5(){u0().set("PROD",!0)}function b5(){u0().set("DEBUG",!0)}function x5(){u0().set("DEPRECATION_WARNINGS_ENABLED",!1),console.warn("TensorFlow.js deprecation warnings have been disabled.")}function w5(e){u0().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(e+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}function k5(){J4.disposeVariables()}function S5(){return J4}function A5(){return J4.memory()}function C5(e){return J4.profile(e)}function T5(e,t){return J4.tidy(e,t)}function I5(e){q4(e).forEach((e=>e.dispose()))}function E5(e){return J4.keep(e)}function N5(e){return J4.time(e)}function O5(e){return J4.setBackend(e)}function M5(){return J4.ready()}function D5(){return J4.backendName}function R5(e){J4.removeBackend(e)}function P5(e){return J4.findBackend(e)}function $5(e){return J4.findBackendFactory(e)}function j5(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return J4.registerBackend(e,t,n)}function _5(){return J4.backend}function F5(e,t){u0().setPlatform(e,t)}C4=w5;const L5=4;async function z5(e,t){const n=[],r=[],o=Array.isArray(e)?e.map((e=>e.name)):Object.keys(e);for(let a=0;a<o.length;++a){const i=o[a],s=Array.isArray(e)?e[a].tensor:e[i];if("float32"!==s.dtype&&"int32"!==s.dtype&&"bool"!==s.dtype&&"string"!==s.dtype&&"complex64"!==s.dtype)throw new Error(`Unsupported dtype in weight '${i}': ${s.dtype}`);const l={name:i,shape:s.shape,dtype:s.dtype};if("string"===s.dtype){const e=new Promise((async e=>{const t=await s.bytes(),n=t.reduce(((e,t)=>e+t.length),0)+L5*t.length,r=new Uint8Array(n);let o=0;for(let a=0;a<t.length;a++){const e=t[a],n=new Uint8Array(new Uint32Array([e.length]).buffer);r.set(n,o),o+=L5,r.set(e,o),o+=e.length}e(r)}));r.push(e)}else r.push(s.data());null!=t&&(l.group=t),n.push(l)}return{data:q5(await Promise.all(r)),specs:n}}function B5(e,t){const n=new y5(e),r={};let o=0;for(const a of t){const e=W5(a,((e,t)=>n.slice(o+e,o+t)));r[a.name]=U5(a,n.slice(o,o+e)),o+=e}return r}function W5(e,t){const n=SJ(e.shape);let r;if("quantization"in e){const t=e.quantization;r=g5[t.dtype]}else{if("string"===e.dtype){let e=0;for(let r=0;r<n;r++)e+=L5+new Uint32Array(t(e,e+L5))[0];return e}r=g5[e.dtype]}return n*r}async function V5(e,t){const n=SJ(e.shape);let r;if("quantization"in e){const t=e.quantization;r=g5[t.dtype]}else{if("string"===e.dtype){let e=0;for(let r=0;r<n;r++)e+=L5+new Uint32Array(await t(e,e+L5))[0];return e}r=g5[e.dtype]}return n*r}function U5(e,t){const n=e.name,r=e.dtype,o=e.shape,a=SJ(o);let i,s=0;if("quantization"in e){const o=e.quantization;if("uint8"===o.dtype||"uint16"===o.dtype){if(!("min"in o)||!("scale"in o))throw new Error(`Weight ${e.name} with quantization ${o.dtype} doesn't have corresponding metadata min and scale.`)}else{if("float16"!==o.dtype)throw new Error(`Weight ${e.name} has unknown quantization dtype ${o.dtype}. Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.`);if("float32"!==r)throw new Error(`Weight ${e.name} is quantized with ${o.dtype} which only supports weights of type float32 not ${r}.`)}const l=g5[o.dtype],u="uint8"===o.dtype?new Uint8Array(t):new Uint16Array(t);if("float32"===r)if("uint8"===o.dtype||"uint16"===o.dtype){i=new Float32Array(u.length);for(let e=0;e<u.length;e++){const t=u[e];i[e]=t*o.scale+o.min}}else{if("float16"!==o.dtype)throw new Error(`Unsupported quantization type ${o.dtype} for weight type float32.`);{const e=function(){const e=function(){const e=e=>{let t=e<<13,n=0;for(;0===(8388608&t);)n-=8388608,t<<=1;return t&=-8388609,n+=947912704,t|n},t=new Uint32Array(2048);t[0]=0;for(let n=1;n<1024;n++)t[n]=e(n);for(let n=1024;n<2048;n++)t[n]=939524096+(n-1024<<13);return t}(),t=function(){const e=new Uint32Array(64);e[0]=0,e[31]=1199570944,e[32]=2147483648,e[63]=3347054592;for(let t=1;t<31;t++)e[t]=t<<23;for(let t=33;t<63;t++)e[t]=2147483648+(t-32<<23);return e}(),n=function(){const e=new Uint32Array(64);for(let t=0;t<64;t++)e[t]=1024;return e[0]=e[32]=0,e}();return r=>{const o=new ArrayBuffer(4*r.length),a=new Uint32Array(o);for(let i=0;i<r.length;i++){const o=r[i],s=e[n[o>>10]+(1023&o)]+t[o>>10];a[i]=s}return new Float32Array(o)}}();i=e(u)}}else{if("int32"!==r)throw new Error(`Unsupported dtype in weight '${n}': ${r}`);if("uint8"!==o.dtype&&"uint16"!==o.dtype)throw new Error(`Unsupported quantization type ${o.dtype} for weight type int32.`);i=new Int32Array(u.length);for(let e=0;e<u.length;e++){const t=u[e];i[e]=Math.round(t*o.scale+o.min)}}s+=a*l}else if("string"===r){const n=SJ(e.shape);i=[];for(let e=0;e<n;e++){const e=new Uint32Array(t.slice(s,s+L5))[0];s+=L5;const n=new Uint8Array(t.slice(s,s+e));i.push(n),s+=e}}else{const e=g5[r];if("float32"===r)i=new Float32Array(t);else if("int32"===r)i=new Int32Array(t);else{if("bool"!==r){if("complex64"===r){i=new Float32Array(t);const e=new Float32Array(i.length/2),n=new Float32Array(i.length/2);for(let t=0;t<e.length;t++)e[t]=i[2*t],n[t]=i[2*t+1];const r=m5(e,o,"float32"),a=m5(n,o,"float32"),s=h5(r,a);return r.dispose(),a.dispose(),s}throw new Error(`Unsupported dtype in weight '${n}': ${r}`)}i=new Uint8Array(t)}s+=a*e}return m5(i,o,r)}async function H5(e,t,n){let r=new Uint8Array(t);for(;r.byteLength<n;){const{done:t,value:o}=await e.read();if(t&&null==o){const e=n-r.byteLength;throw new Error(`Reader is done but ${e} bytes are still expected`)}const a=new Uint8Array(r.length+o.byteLength);a.set(r,0),a.set(new Uint8Array(o),r.length),r=a}return r.buffer}async function G5(e,t){const n={},r=e.getReader();let o=new ArrayBuffer(0);for(const a of t){const e=await V5(a,(async(e,t)=>(o=await H5(r,o,t),o.slice(e,t))));o=await H5(r,o,e);const t=o.slice(0,e);o=o.slice(e);const i=U5(a,t);if(n[a.name]=i,"webgpu"===D5()){const e=_5();"uploadToGPU"in e&&SJ(i.shape)>=u0().get("WEBGPU_CPU_HANDOFF_SIZE_THRESHOLD")&&e.uploadToGPU(i.dataId)}}return n}function q5(e){if(null===e)throw new Error(`Invalid input value: ${JSON.stringify(e)}`);let t=0;const n=[];e.forEach((e=>{if(t+=e.byteLength,n.push(e.byteLength===e.buffer.byteLength?e:new e.constructor(e)),!(e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array))throw new Error(`Unsupported TypedArray subtype: ${e.constructor.name}`)}));const r=new Uint8Array(t);let o=0;return n.forEach((e=>{r.set(new Uint8Array(e.buffer),o),o+=e.byteLength})),r.buffer}const K5="undefined"!==typeof Buffer&&("undefined"===typeof Blob||"undefined"===typeof atob||"undefined"===typeof btoa);function X5(e){return K5?Buffer.byteLength(e,"utf8"):new Blob([e]).size}function Y5(e){return y5.join(e)}function Q5(e){for(e=e.trim();e.endsWith("/");)e=e.slice(0,e.length-1);const t=e.split("/");return t[t.length-1]}function Z5(e,t){const n={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,weightsManifest:t};return null!=e.signature&&(n.signature=e.signature),null!=e.userDefinedMetadata&&(n.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(n.modelInitializer=e.modelInitializer),null!=e.initializerSignature&&(n.initializerSignature=e.initializerSignature),null!=e.trainingConfig&&(n.trainingConfig=e.trainingConfig),n}function J5(e,t,n){const r={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy};if(null!=e.trainingConfig&&(r.trainingConfig=e.trainingConfig),null!=e.weightsManifest){if(!t)throw new Error("modelJSON has weightsManifest but weightSpecs is null");if(!n)throw new Error("modelJSON has weightsManifest but weightData is null");r.weightSpecs=t,r.weightData=n}return null!=e.signature&&(r.signature=e.signature),null!=e.userDefinedMetadata&&(r.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(r.modelInitializer=e.modelInitializer),null!=e.initializerSignature&&(r.initializerSignature=e.initializerSignature),r}async function e6(e,t){let n,r;return null!=e.weightsManifest&&([n,r]=await t(e.weightsManifest)),J5(e,n,r)}function t6(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:null==e.modelTopology?0:X5(JSON.stringify(e.modelTopology)),weightSpecsBytes:null==e.weightSpecs?0:X5(JSON.stringify(e.weightSpecs)),weightDataBytes:null==e.weightData?0:new y5(e.weightData).byteLength}}function n6(e){const t=[];for(const n of e)t.push(...n.weights);return t}class r6{constructor(){this.saveRouters=[],this.loadRouters=[]}static getInstance(){return null==r6.instance&&(r6.instance=new r6),r6.instance}static registerSaveRouter(e){r6.getInstance().saveRouters.push(e)}static registerLoadRouter(e){r6.getInstance().loadRouters.push(e)}static getSaveHandlers(e){return r6.getHandlers(e,"save")}static getLoadHandlers(e,t){return r6.getHandlers(e,"load",t)}static getHandlers(e,t,n){const r=[];return("load"===t?r6.getInstance().loadRouters:r6.getInstance().saveRouters).forEach((t=>{const o=t(e,n);null!==o&&r.push(o)})),r}}const o6=e=>r6.registerSaveRouter(e),a6=e=>r6.registerLoadRouter(e),i6=e=>r6.getSaveHandlers(e),s6=(e,t)=>r6.getLoadHandlers(e,t),l6="tensorflowjs",u6="models_store",c6="model_info_store";function d6(){if(!u0().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");const e="undefined"===typeof window?self:window,t=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB||e.shimIndexedDB;if(null==t)throw new Error("The current browser does not appear to support IndexedDB.");return t}function p6(e){const t=e.result;t.createObjectStore(u6,{keyPath:"modelPath"}),t.createObjectStore(c6,{keyPath:"modelPath"})}class h6{constructor(e){if(this.indexedDB=d6(),null==e||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return this.databaseAction(this.modelPath,e)}async load(){return this.databaseAction(this.modelPath)}databaseAction(e,t){return new Promise(((e,n)=>{const r=this.indexedDB.open(l6,1);r.onupgradeneeded=()=>p6(r),r.onsuccess=()=>{const o=r.result;if(null==t){const t=o.transaction(u6,"readonly"),r=t.objectStore(u6).get(this.modelPath);r.onsuccess=()=>{if(null==r.result)return o.close(),n(new Error(`Cannot find model with path '${this.modelPath}' in IndexedDB.`));e(r.result.modelArtifacts)},r.onerror=e=>(o.close(),n(r.error)),t.oncomplete=()=>o.close()}else{t.weightData=y5.join(t.weightData);const r=t6(t),i=o.transaction(c6,"readwrite");let s,l,u=i.objectStore(c6);try{s=u.put({modelPath:this.modelPath,modelArtifactsInfo:r})}catch(a){return n(a)}s.onsuccess=()=>{l=o.transaction(u6,"readwrite");const s=l.objectStore(u6);let c;try{c=s.put({modelPath:this.modelPath,modelArtifacts:t,modelArtifactsInfo:r})}catch(a){return n(a)}c.onsuccess=()=>e({modelArtifactsInfo:r}),c.onerror=e=>{u=i.objectStore(c6);const t=u.delete(this.modelPath);t.onsuccess=()=>(o.close(),n(c.error)),t.onerror=e=>(o.close(),n(c.error))}},s.onerror=e=>(o.close(),n(s.error)),i.oncomplete=()=>{null==l?o.close():l.oncomplete=()=>o.close()}}},r.onerror=e=>n(r.error)}))}}h6.URL_SCHEME="indexeddb://";const f6=e=>{return u0().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(h6.URL_SCHEME)?(t=e.slice(h6.URL_SCHEME.length),new h6(t)):null;var t};r6.registerSaveRouter(f6),r6.registerLoadRouter(f6);class m6{constructor(){this.indexedDB=d6()}async listModels(){return new Promise(((e,t)=>{const n=this.indexedDB.open(l6,1);n.onupgradeneeded=()=>p6(n),n.onsuccess=()=>{const r=n.result,o=r.transaction(c6,"readonly"),a=o.objectStore(c6).getAll();a.onsuccess=()=>{const t={};for(const e of a.result)t[e.modelPath]=e.modelArtifactsInfo;e(t)},a.onerror=e=>(r.close(),t(a.error)),o.oncomplete=()=>r.close()},n.onerror=e=>t(n.error)}))}async removeModel(e){var t;return e=(t=e).startsWith(h6.URL_SCHEME)?t.slice(h6.URL_SCHEME.length):t,new Promise(((t,n)=>{const r=this.indexedDB.open(l6,1);r.onupgradeneeded=()=>p6(r),r.onsuccess=()=>{const o=r.result,a=o.transaction(c6,"readwrite"),i=a.objectStore(c6),s=i.get(e);let l;s.onsuccess=()=>{if(null==s.result)return o.close(),n(new Error(`Cannot find model with path '${e}' in IndexedDB.`));{const r=i.delete(e),a=()=>{l=o.transaction(u6,"readwrite");const r=l.objectStore(u6).delete(e);r.onsuccess=()=>t(s.result.modelArtifactsInfo),r.onerror=e=>n(s.error)};r.onsuccess=a,r.onerror=e=>(a(),o.close(),n(s.error))}},s.onerror=e=>(o.close(),n(s.error)),a.oncomplete=()=>{null==l?o.close():l.oncomplete=()=>o.close()}},r.onerror=e=>n(r.error)}))}}const g6="/",y6="tensorflowjs_models",v6="info",b6="model_topology",x6="weight_specs",w6="weight_data",k6="model_metadata";function S6(e){return{info:[y6,e,v6].join(g6),topology:[y6,e,b6].join(g6),weightSpecs:[y6,e,x6].join(g6),weightData:[y6,e,w6].join(g6),modelMetadata:[y6,e,k6].join(g6)}}function A6(e){for(const t of Object.values(e))window.localStorage.removeItem(t)}function C6(e){const t=e.split(g6);if(t.length<3)throw new Error(`Invalid key format: ${e}`);return t.slice(1,t.length-1).join(g6)}class T6{constructor(e){if(!u0().getBool("IS_BROWSER")||"undefined"===typeof window||"undefined"===typeof window.localStorage)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,null==e||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=S6(this.modelPath)}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");{const n=JSON.stringify(e.modelTopology),r=JSON.stringify(e.weightSpecs),o=t6(e),a=y5.join(e.weightData);try{this.LS.setItem(this.keys.info,JSON.stringify(o)),this.LS.setItem(this.keys.topology,n),this.LS.setItem(this.keys.weightSpecs,r),this.LS.setItem(this.keys.weightData,function(e){if(K5)return Buffer.from(e).toString("base64");const t=new Uint8Array(e);let n="";for(let r=0,o=t.length;r<o;r++)n+=String.fromCharCode(t[r]);return btoa(n)}(a));const t={format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,signature:null!=e.signature?e.signature:void 0,userDefinedMetadata:null!=e.userDefinedMetadata?e.userDefinedMetadata:void 0,modelInitializer:null!=e.modelInitializer?e.modelInitializer:void 0,initializerSignature:null!=e.initializerSignature?e.initializerSignature:void 0,trainingConfig:null!=e.trainingConfig?e.trainingConfig:void 0};return this.LS.setItem(this.keys.modelMetadata,JSON.stringify(t)),{modelArtifactsInfo:o}}catch(t){throw A6(this.keys),new Error(`Failed to save model '${this.modelPath}' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes=${o.modelTopologyBytes}, weightSpecsBytes=${o.weightSpecsBytes}, weightDataBytes=${o.weightDataBytes}.`)}}}async load(){const e=JSON.parse(this.LS.getItem(this.keys.info));if(null==e)throw new Error(`In local storage, there is no model with name '${this.modelPath}'`);if("JSON"!==e.modelTopologyType)throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");const t={},n=JSON.parse(this.LS.getItem(this.keys.topology));if(null==n)throw new Error(`In local storage, the topology of model '${this.modelPath}' is missing.`);t.modelTopology=n;const r=JSON.parse(this.LS.getItem(this.keys.weightSpecs));if(null==r)throw new Error(`In local storage, the weight specs of model '${this.modelPath}' are missing.`);t.weightSpecs=r;const o=this.LS.getItem(this.keys.modelMetadata);if(null!=o){const e=JSON.parse(o);t.format=e.format,t.generatedBy=e.generatedBy,t.convertedBy=e.convertedBy,null!=e.signature&&(t.signature=e.signature),null!=e.userDefinedMetadata&&(t.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(t.modelInitializer=e.modelInitializer),null!=e.initializerSignature&&(t.initializerSignature=e.initializerSignature),null!=e.trainingConfig&&(t.trainingConfig=e.trainingConfig)}const a=this.LS.getItem(this.keys.weightData);if(null==a)throw new Error(`In local storage, the binary weight values of model '${this.modelPath}' are missing.`);return t.weightData=function(e){if(K5){const t=Buffer.from(e,"base64");return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}const t=atob(e),n=new Uint8Array(t.length);for(let r=0;r<t.length;++r)n.set([t.charCodeAt(r)],r);return n.buffer}(a),t}}T6.URL_SCHEME="localstorage://";const I6=e=>{return u0().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(T6.URL_SCHEME)?(t=e.slice(T6.URL_SCHEME.length),new T6(t)):null;var t};r6.registerSaveRouter(I6),r6.registerLoadRouter(I6);class E6{constructor(){xJ(u0().getBool("IS_BROWSER"),(()=>"Current environment is not a web browser")),xJ("undefined"===typeof window||"undefined"!==typeof window.localStorage,(()=>"Current browser does not appear to support localStorage")),this.LS=window.localStorage}async listModels(){const e={},t=y6+g6,n=g6+v6;for(let r=0;r<this.LS.length;++r){const o=this.LS.key(r);if(o.startsWith(t)&&o.endsWith(n)){e[C6(o)]=JSON.parse(this.LS.getItem(o))}}return e}async removeModel(e){var t;const n=S6(e=(t=e).startsWith(T6.URL_SCHEME)?t.slice(T6.URL_SCHEME.length):t);if(null==this.LS.getItem(n.info))throw new Error(`Cannot find model at path '${e}'`);const r=JSON.parse(this.LS.getItem(n.info));return A6(n),r}}const N6="://";class O6{constructor(){this.managers={}}static getInstance(){return null==O6.instance&&(O6.instance=new O6),O6.instance}static registerManager(e,t){xJ(null!=e,(()=>"scheme must not be undefined or null.")),e.endsWith(N6)&&(e=e.slice(0,e.indexOf(N6))),xJ(e.length>0,(()=>"scheme must not be an empty string."));const n=O6.getInstance();xJ(null==n.managers[e],(()=>`A model store manager is already registered for scheme '${e}'.`)),n.managers[e]=t}static getManager(e){const t=O6.getInstance().managers[e];if(null==t)throw new Error(`Cannot find model manager for scheme '${e}'`);return t}static getSchemes(){return Object.keys(O6.getInstance().managers)}}function M6(e){if(-1===e.indexOf(N6))throw new Error(`The url string provided does not contain a scheme. Supported schemes are: ${O6.getSchemes().join(",")}`);return{scheme:e.split(N6)[0],path:e.split(N6)[1]}}async function D6(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];xJ(e!==t,(()=>`Old path and new path are the same: '${e}'`));const r=r6.getLoadHandlers(e);xJ(r.length>0,(()=>`Copying failed because no load handler is found for source URL ${e}.`)),xJ(r.length<2,(()=>`Copying failed because more than one (${r.length}) load handlers for source URL ${e}.`));const o=r[0],a=r6.getSaveHandlers(t);xJ(a.length>0,(()=>`Copying failed because no save handler is found for destination URL ${t}.`)),xJ(a.length<2,(()=>`Copying failed because more than one (${r.length}) save handlers for destination URL ${t}.`));const i=a[0],s=M6(e).scheme,l=M6(e).path,u=s===M6(e).scheme,c=await o.load();n&&u&&await O6.getManager(s).removeModel(l);const d=await i.save(c);return n&&!u&&await O6.getManager(s).removeModel(l),d.modelArtifactsInfo}async function R6(){const e=O6.getSchemes(),t={};for(const n of e){const e=await O6.getManager(n).listModels();for(const r in e){t[n+N6+r]=e[r]}}return t}async function P6(e){const t=M6(e);return O6.getManager(t.scheme).removeModel(t.path)}async function $6(e,t){return D6(e,t,!1)}async function j6(e,t){return D6(e,t,!0)}class _6{constructor(){this.messageName="setTimeoutCustom",this.functionRefs=[],this.handledMessageCount=0,this.hasEventListener=!1}fetch(e,t){return fetch(e,t)}now(){return performance.now()}encode(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error(`Browser's encoder only supports utf-8, but got ${t}`);return null==this.textEncoder&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)}decode(e,t){return new TextDecoder(t).decode(e)}setTimeoutCustom(e,t){"undefined"!==typeof window&&u0().getBool("USE_SETTIMEOUTCUSTOM")?(this.functionRefs.push(e),setTimeout((()=>{window.postMessage({name:this.messageName,index:this.functionRefs.length-1},"*")}),t),this.hasEventListener||(this.hasEventListener=!0,window.addEventListener("message",(e=>{if(e.source===window&&e.data.name===this.messageName){e.stopPropagation();(0,this.functionRefs[e.data.index])(),this.handledMessageCount++,this.handledMessageCount===this.functionRefs.length&&(this.functionRefs=[],this.handledMessageCount=0)}}),!0))):setTimeout(e,t)}isTypedArray(e){return H3(e)}}if(u0().get("IS_BROWSER")){u0().setPlatform("browser",new _6);try{O6.registerManager(T6.URL_SCHEME,new E6)}catch(JBe){}try{O6.registerManager(h6.URL_SCHEME,new m6)}catch(JBe){}}const F6=()=>n(5817);let L6;class z6{constructor(){this.util=n(8590),this.textEncoder=new this.util.TextEncoder}fetch(e,t){return null!=u0().global.fetch?u0().global.fetch(e,t):(null==L6&&(L6=F6()),L6(e,t))}now(){const e=process.hrtime();return 1e3*e[0]+e[1]/1e6}encode(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error(`Node built-in encoder only supports utf-8, but got ${t}`);return this.textEncoder.encode(e)}decode(e,t){return 0===e.length?"":new this.util.TextDecoder(t).decode(e)}isTypedArray(e){return this.util.types.isFloat32Array(e)||this.util.types.isInt32Array(e)||this.util.types.isUint8Array(e)||this.util.types.isUint8ClampedArray(e)}}function B6(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32",n=arguments.length>2?arguments[2]:void 0;return t=t||"float32",n0(e),new k4(e,t,n)}u0().get("IS_NODE")&&!u0().get("IS_BROWSER")&&u0().setPlatform("node",new z6);const W6=p5({cast_:function(e,t){const n=u5(e,"x","cast");if(!LJ(t))throw new Error(`Failed to cast to unknown dtype ${t}`);if("string"===t&&"string"!==n.dtype||"string"!==t&&"string"===n.dtype)throw new Error("Only strings can be casted to strings");const r={x:n},o={dtype:t};return J4.runKernel(F0,r,o)}});const V6=p5({clone_:function(e){const t={x:u5(e,"x","clone","string_or_numeric")};return J4.runKernel(O1,t)}});function U6(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];console.log(e.toString(t))}Z4();A4={buffer:B6,cast:W6,clone:V6,print:U6};const H6=p5({add_:function(e,t){let n=u5(e,"a","add"),r=u5(t,"b","add");[n,r]=U4(n,r);const o={a:n,b:r};return J4.runKernel(y0,o)}});const G6=p5({floorDiv_:function(e,t){let n=u5(e,"a","floorDiv"),r=u5(t,"b","floorDiv");[n,r]=U4(n,r);const o={a:n,b:r};return J4.runKernel(A1,o)}});const q6=p5({div_:function(e,t){let n=u5(e,"a","div"),r=u5(t,"b","div");if([n,r]=U4(n,r),"int32"===n.dtype&&"int32"===r.dtype)return G6(n,r);const o={a:n,b:r};return J4.runKernel(d1,o,{})}});const K6=p5({mul_:function(e,t){let n=u5(e,"a","mul"),r=u5(t,"b","mul");[n,r]=U4(n,r);const o={a:n,b:r};return J4.runKernel(c2,o)}});const X6=p5({sqrt_:function(e){const t={x:u5(e,"x","sqrt","float32")};return J4.runKernel(Q2,t)}});const Y6=p5({square_:function(e){const t=u5(e,"x","square");return J4.runKernel("Square",{x:t},{})}});const Q6=p5({zerosLike_:function(e){const t={x:u5(e,"x","zerosLike")};return J4.runKernel(C3,t)}});function Z6(e){return xJ(qJ(e),(()=>"The f passed in grad(f) must be a function")),(t,n)=>{const r=u5(t,"x","tf.grad","string_or_numeric"),o=null!=n?u5(n,"dy","tf.grad"):null;return J4.tidy((()=>{const{value:t,grads:n}=J4.gradients((()=>e(r)),[r],o);return null!=o&&wJ(t.shape,o.shape,"The shape of dy passed in grad(f)(x, dy) must match the shape returned by f(x)"),o8(n),n[0]}))}}function J6(e){return xJ(qJ(e),(()=>"The f passed in grads(f) must be a function")),(t,n)=>{xJ(Array.isArray(t),(()=>"The args passed in grads(f)(args) must be an array of `Tensor`s or `TensorLike`s"));const r=c5(t,"args","tf.grads","string_or_numeric"),o=null!=n?u5(n,"dy","tf.grads"):null;return J4.tidy((()=>{const{value:t,grads:n}=J4.gradients((()=>e(...r)),r,o);return null!=o&&wJ(t.shape,o.shape,"The shape of dy passed in grads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),o8(n),n}))}}function e8(e){return xJ(qJ(e),(()=>"The f passed in valueAndGrad(f) must be a function")),(t,n)=>{xJ(t instanceof T4,(()=>"The x passed in valueAndGrad(f)(x) must be a tensor")),xJ(null==n||n instanceof T4,(()=>"The dy passed in valueAndGrad(f)(x, dy) must be a tensor"));const{grads:r,value:o}=J4.gradients((()=>e(t)),[t],n);return o8(r),{grad:r[0],value:o}}}function t8(e){return xJ(qJ(e),(()=>"The f passed in valueAndGrads(f) must be a function")),(t,n)=>{xJ(Array.isArray(t)&&t.every((e=>e instanceof T4)),(()=>"The args passed in valueAndGrads(f)(args) must be array of tensors")),xJ(null==n||n instanceof T4,(()=>"The dy passed in valueAndGrads(f)(args, dy) must be a tensor"));const r=J4.gradients((()=>e(...t)),t,n);return null!=n&&wJ(r.value.shape,n.shape,"The shape of dy passed in valueAndGrads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),o8(r.grads),r}}function n8(e,t){xJ(qJ(e),(()=>"The f passed in variableGrads(f) must be a function")),xJ(null==t||Array.isArray(t)&&t.every((e=>e instanceof E4)),(()=>"The varList passed in variableGrads(f, varList) must be an array of variables"));const n=null!=t;if(!n){t=[];for(const e in J4.registeredVariables)t.push(J4.registeredVariables[e])}const r=n?t.filter((e=>!e.trainable)):null,o=t.length;xJ((t=t.filter((e=>e.trainable))).length>0,(()=>`variableGrads() expects at least one of the input variables to be trainable, but none of the ${o} variables is trainable.`));const{value:a,grads:i}=J4.gradients(e,t,null,!0);xJ(i.some((e=>null!=e)),(()=>"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize().")),xJ(0===a.rank,(()=>`The f passed in variableGrads(f) must return a scalar, but it returned a rank-${a.rank} tensor`));const s={};return t.forEach(((e,t)=>{null!=i[t]&&(s[e.name]=i[t])})),null!=r&&r.forEach((e=>s[e.name]=null)),{value:a,grads:s}}function r8(e){return J4.customGrad(e)}function o8(e){if(e.filter((e=>null==e)).length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that\n    the f you passed encloses all operations that lead from x to y.")}function a8(e,t){if((p4(e)&&"string"!==t||Array.isArray(e))&&"complex64"!==t)throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if("string"===t&&p4(e)&&!(e instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return f5(e,[],[],t)}const i8=new Map,s8=new Map;class l8{getClassName(){return this.constructor.className}static fromConfig(e,t){return new e(t)}}class u8{constructor(){this.classNameMap={}}static getMap(){return null==u8.instance&&(u8.instance=new u8),u8.instance}static register(e){u8.getMap().classNameMap[e.className]=[e,e.fromConfig]}}function c8(e,t,n){xJ(null!=e.className,(()=>"Class being registered does not have the static className property defined.")),xJ("string"===typeof e.className,(()=>"className is required to be a string, but got type "+typeof e.className)),xJ(e.className.length>0,(()=>"Class being registered has an empty-string as its className, which is disallowed.")),"undefined"===typeof t&&(t="Custom"),"undefined"===typeof n&&(n=e.className);const r=t+">"+n;return u8.register(e),i8.set(r,e),s8.set(e,r),e}function d8(e){return s8.has(e)?s8.get(e):e.className}class p8 extends l8{minimize(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;const{value:r,grads:o}=this.computeGradients(e,n);if(null!=n){const e=n.map((e=>({name:e.name,tensor:o[e.name]})));this.applyGradients(e)}else this.applyGradients(o);return I5(o),t?r:(r.dispose(),null)}get iterations(){return null==this.iterations_&&(this.iterations_=0),this.iterations_}incrementIterations(){this.iterations_=this.iterations+1}computeGradients(e,t){return n8(e,t)}dispose(){null!=this.iterations_&&I5(this.iterations_)}async saveIterations(){return null==this.iterations_&&(this.iterations_=0),{name:"iter",tensor:a8(this.iterations_,"int32")}}async getWeights(){throw new Error("getWeights() is not implemented for this optimizer yet.")}async setWeights(e){throw new Error(`setWeights() is not implemented for this optimizer class ${this.getClassName()}`)}async extractIterations(e){return this.iterations_=(await e[0].tensor.data())[0],e.slice(1)}}Object.defineProperty(p8,Symbol.hasInstance,{value:e=>null!=e.minimize&&null!=e.computeGradients&&null!=e.applyGradients});class h8 extends p8{static get className(){return"Adadelta"}constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;super(),this.learningRate=e,this.rho=t,this.epsilon=n,this.accumulatedGrads=[],this.accumulatedUpdates=[],null==n&&(this.epsilon=J4.backend.epsilon())}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const r=J4.registeredVariables[t],o=!1;null==this.accumulatedGrads[n]&&(this.accumulatedGrads[n]={originalName:`${t}/accum_grad`,variable:T5((()=>Q6(r).variable(o)))}),null==this.accumulatedUpdates[n]&&(this.accumulatedUpdates[n]={originalName:`${t}/accum_var`,variable:T5((()=>Q6(r).variable(o)))});const a=Array.isArray(e)?e[n].tensor:e[t];if(null==a)return;const i=this.accumulatedGrads[n].variable,s=this.accumulatedUpdates[n].variable;T5((()=>{const e=H6(K6(i,this.rho),K6(Y6(a),1-this.rho)),t=K6(q6(X6(H6(s,this.epsilon)),X6(H6(i,this.epsilon))),a),n=H6(K6(s,this.rho),K6(Y6(t),1-this.rho));i.assign(e),s.assign(n);const o=H6(K6(t,-this.learningRate),r);r.assign(o)}))})),this.incrementIterations()}dispose(){null!=this.accumulatedUpdates&&(I5(this.accumulatedGrads.map((e=>e.variable))),I5(this.accumulatedUpdates.map((e=>e.variable))))}async getWeights(){const e=[...this.accumulatedGrads,...this.accumulatedUpdates];return[await this.saveIterations()].concat(e.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){const t=(e=await this.extractIterations(e)).length/2,n=!1;this.accumulatedGrads=e.slice(0,t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)}))),this.accumulatedUpdates=e.slice(t,2*t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)})))}getConfig(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}}static fromConfig(e,t){return new e(t.learningRate,t.rho,t.epsilon)}}function f8(e,t,n){n0(e);const r={shape:e,value:t,dtype:n=n||GJ(t)};return J4.runKernel(w1,{},r)}class m8 extends p8{static get className(){return"Adagrad"}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1;super(),this.learningRate=e,this.initialAccumulatorValue=t,this.accumulatedGrads=[]}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const r=J4.registeredVariables[t];if(null==this.accumulatedGrads[n]){const e=!1;this.accumulatedGrads[n]={originalName:`${t}/accumulator`,variable:T5((()=>f8(r.shape,this.initialAccumulatorValue).variable(e)))}}const o=Array.isArray(e)?e[n].tensor:e[t];if(null==o)return;const a=this.accumulatedGrads[n].variable;T5((()=>{const e=H6(a,Y6(o));a.assign(e);const t=H6(K6(q6(o,X6(H6(e,J4.backend.epsilon()))),-this.learningRate),r);r.assign(t)}))})),this.incrementIterations()}dispose(){null!=this.accumulatedGrads&&I5(this.accumulatedGrads.map((e=>e.variable)))}async getWeights(){return[await this.saveIterations()].concat(this.accumulatedGrads.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){e=await this.extractIterations(e);this.accumulatedGrads=e.map((e=>({originalName:e.name,variable:e.tensor.variable(false)})))}getConfig(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}}static fromConfig(e,t){return new e(t.learningRate,t.initialAccumulatorValue)}}const g8=p5({pow_:function(e,t){let n=u5(e,"base","pow"),r=u5(t,"exp","pow");[n,r]=U4(n,r);const o={a:n,b:r};return J4.runKernel(w2,o)}});const y8=p5({sub_:function(e,t){let n=u5(e,"a","sub"),r=u5(t,"b","sub");[n,r]=U4(n,r);const o={a:n,b:r};return J4.runKernel(f3,o)}});class v8 extends p8{static get className(){return"Adam"}constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super(),this.learningRate=e,this.beta1=t,this.beta2=n,this.epsilon=r,this.accumulatedFirstMoment=[],this.accumulatedSecondMoment=[],T5((()=>{this.accBeta1=a8(t).variable(),this.accBeta2=a8(n).variable()})),null==r&&(this.epsilon=J4.backend.epsilon())}applyGradients(e){const t=Array.isArray(e)?e.map((e=>e.name)):Object.keys(e);T5((()=>{const n=y8(1,this.accBeta1),r=y8(1,this.accBeta2);t.forEach(((t,o)=>{const a=J4.registeredVariables[t],i=!1;null==this.accumulatedFirstMoment[o]&&(this.accumulatedFirstMoment[o]={originalName:`${t}/m`,variable:T5((()=>Q6(a).variable(i)))}),null==this.accumulatedSecondMoment[o]&&(this.accumulatedSecondMoment[o]={originalName:`${t}/v`,variable:T5((()=>Q6(a).variable(i)))});const s=Array.isArray(e)?e[o].tensor:e[t];if(null==s)return;const l=this.accumulatedFirstMoment[o].variable,u=this.accumulatedSecondMoment[o].variable,c=H6(K6(l,this.beta1),K6(s,1-this.beta1)),d=H6(K6(u,this.beta2),K6(Y6(s),1-this.beta2)),p=q6(c,n),h=q6(d,r);l.assign(c),u.assign(d);const f=H6(K6(q6(p,H6(X6(h),this.epsilon)),-this.learningRate),a);a.assign(f)})),this.accBeta1.assign(K6(this.accBeta1,this.beta1)),this.accBeta2.assign(K6(this.accBeta2,this.beta2))})),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.accBeta2.dispose(),null!=this.accumulatedFirstMoment&&I5(this.accumulatedFirstMoment.map((e=>e.variable))),null!=this.accumulatedSecondMoment&&I5(this.accumulatedSecondMoment.map((e=>e.variable)))}async getWeights(){const e=[...this.accumulatedFirstMoment,...this.accumulatedSecondMoment];return[await this.saveIterations()].concat(e.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){e=await this.extractIterations(e),T5((()=>{this.accBeta1.assign(g8(this.beta1,this.iterations_+1)),this.accBeta2.assign(g8(this.beta2,this.iterations_+1))}));const t=e.length/2,n=!1;this.accumulatedFirstMoment=e.slice(0,t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)}))),this.accumulatedSecondMoment=e.slice(t,2*t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)})))}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}}static fromConfig(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon)}}const b8=p5({abs_:function(e){const t=u5(e,"x","abs");if("complex64"===t.dtype){const e={x:t};return J4.runKernel(W0,e)}{const e={x:t};return J4.runKernel(f0,e)}}});function x8(e,t){const n=e.length,r=[];for(let o=0;o<n;o++){const a=n-1-o,i=e[a]||1;(t[t.length-1-o]||1)>1&&1===i&&r.unshift(a)}return r}function w8(e,t){const n=[];for(let r=0;r<t.length;r++){const o=e[e.length-r-1],a=t.length-r-1,i=t[a];(null==o||1===o&&i>1)&&n.unshift(a)}return n}function k8(e,t){const n=Math.max(e.length,t.length),r=new Array(n);for(let o=0;o<n;o++){let a=e[e.length-o-1];null==a&&(a=1);let i=t[t.length-o-1];if(null==i&&(i=1),1===a)r[n-o-1]=i;else if(1===i)r[n-o-1]=a;else{if(a!==i){throw Error(`Operands could not be broadcast together with shapes ${e} and ${t}.`)}r[n-o-1]=a}}return r}const S8=p5({maximum_:function(e,t){let n=u5(e,"a","maximum"),r=u5(t,"b","maximum");[n,r]=U4(n,r),"bool"===n.dtype&&(n=W6(n,"int32"),r=W6(r,"int32")),k8(n.shape,r.shape);const o={a:n,b:r};return J4.runKernel(Z1,o)}});class A8 extends p8{static get className(){return"Adamax"}constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;super(),this.learningRate=e,this.beta1=t,this.beta2=n,this.epsilon=r,this.decay=o,this.accumulatedFirstMoment=[],this.accumulatedWeightedInfNorm=[],T5((()=>{this.iteration=a8(0).variable(),this.accBeta1=a8(t).variable()})),null==r&&(this.epsilon=J4.backend.epsilon())}applyGradients(e){const t=Array.isArray(e)?e.map((e=>e.name)):Object.keys(e);T5((()=>{const n=y8(1,this.accBeta1),r=q6(-this.learningRate,H6(K6(this.iteration,this.decay),1));t.forEach(((t,o)=>{const a=J4.registeredVariables[t],i=!1;null==this.accumulatedFirstMoment[o]&&(this.accumulatedFirstMoment[o]={originalName:`${t}/m`,variable:Q6(a).variable(i)}),null==this.accumulatedWeightedInfNorm[o]&&(this.accumulatedWeightedInfNorm[o]={originalName:`${t}/v`,variable:Q6(a).variable(i)});const s=Array.isArray(e)?e[o].tensor:e[t];if(null==s)return;const l=this.accumulatedFirstMoment[o].variable,u=this.accumulatedWeightedInfNorm[o].variable,c=H6(K6(l,this.beta1),K6(s,1-this.beta1)),d=K6(u,this.beta2),p=b8(s),h=S8(d,p);l.assign(c),u.assign(h);const f=H6(K6(q6(r,n),q6(c,H6(h,this.epsilon))),a);a.assign(f)})),this.iteration.assign(H6(this.iteration,1)),this.accBeta1.assign(K6(this.accBeta1,this.beta1))})),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.iteration.dispose(),null!=this.accumulatedFirstMoment&&I5(this.accumulatedFirstMoment.map((e=>e.variable))),null!=this.accumulatedWeightedInfNorm&&I5(this.accumulatedWeightedInfNorm.map((e=>e.variable)))}async getWeights(){throw new Error("getWeights() is not implemented for Adamax yet.")}async setWeights(e){throw new Error("setWeights() is not implemented for Adamax yet.")}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}}static fromConfig(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon,t.decay)}}class C8 extends p8{static get className(){return"SGD"}constructor(e){super(),this.learningRate=e,this.setLearningRate(e)}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const r=Array.isArray(e)?e[n].tensor:e[t];if(null==r)return;const o=J4.registeredVariables[t];T5((()=>{const e=H6(K6(this.c,r),o);o.assign(e)}))})),this.incrementIterations()}setLearningRate(e){this.learningRate=e,null!=this.c&&this.c.dispose(),this.c=E5(a8(-e))}dispose(){this.c.dispose()}async getWeights(){return[await this.saveIterations()]}async setWeights(e){if(0!==(e=await this.extractIterations(e)).length)throw new Error("SGD optimizer does not have settable weights.")}getConfig(){return{learningRate:this.learningRate}}static fromConfig(e,t){return new e(t.learningRate)}}class T8 extends C8{static get className(){return"Momentum"}constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];super(e),this.learningRate=e,this.momentum=t,this.useNesterov=n,this.accumulations=[],this.m=a8(this.momentum)}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const r=J4.registeredVariables[t];if(null==this.accumulations[n]){const e=!1;this.accumulations[n]={originalName:`${t}/momentum`,variable:T5((()=>Q6(r).variable(e)))}}const o=this.accumulations[n].variable,a=Array.isArray(e)?e[n].tensor:e[t];null!=a&&T5((()=>{let e;const t=H6(K6(this.m,o),a);e=this.useNesterov?H6(K6(this.c,H6(a,K6(t,this.m))),r):H6(K6(this.c,t),r),o.assign(t),r.assign(e)}))})),this.incrementIterations()}dispose(){this.m.dispose(),null!=this.accumulations&&I5(this.accumulations.map((e=>e.variable)))}setMomentum(e){this.momentum=e}async getWeights(){return[await this.saveIterations()].concat(this.accumulations.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){e=await this.extractIterations(e);this.accumulations=e.map((e=>({originalName:e.name,variable:e.tensor.variable(false)})))}getConfig(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}}static fromConfig(e,t){return new e(t.learningRate,t.momentum,t.useNesterov)}}class I8 extends p8{static get className(){return"RMSProp"}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(super(),this.learningRate=e,this.decay=t,this.momentum=n,this.epsilon=r,this.accumulatedMeanSquares=[],this.accumulatedMoments=[],this.accumulatedMeanGrads=[],this.centered=o,null==r&&(this.epsilon=J4.backend.epsilon()),null==e)throw new Error("learningRate for RMSPropOptimizer must be defined.")}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const r=J4.registeredVariables[t],o=!1;null==this.accumulatedMeanSquares[n]&&(this.accumulatedMeanSquares[n]={originalName:`${t}/rms`,variable:T5((()=>Q6(r).variable(o)))}),null==this.accumulatedMoments[n]&&(this.accumulatedMoments[n]={originalName:`${t}/momentum`,variable:T5((()=>Q6(r).variable(o)))}),null==this.accumulatedMeanGrads[n]&&this.centered&&(this.accumulatedMeanGrads[n]={originalName:`${t}/mg`,variable:T5((()=>Q6(r).variable(o)))});const a=Array.isArray(e)?e[n].tensor:e[t];if(null==a)return;const i=this.accumulatedMeanSquares[n].variable,s=this.accumulatedMoments[n].variable;T5((()=>{const e=H6(K6(i,this.decay),K6(Y6(a),1-this.decay));if(this.centered){const t=this.accumulatedMeanGrads[n].variable,o=H6(K6(t,this.decay),K6(a,1-this.decay)),l=q6(K6(a,this.learningRate),X6(y8(e,H6(Y6(o),this.epsilon)))),u=H6(K6(s,this.momentum),l);i.assign(e),t.assign(o),s.assign(u);const c=y8(r,u);r.assign(c)}else{const e=H6(K6(i,this.decay),K6(Y6(a),1-this.decay)),t=H6(K6(s,this.momentum),q6(K6(a,this.learningRate),X6(H6(e,this.epsilon))));i.assign(e),s.assign(t);const n=y8(r,t);r.assign(n)}}))})),this.incrementIterations()}dispose(){null!=this.accumulatedMeanSquares&&I5(this.accumulatedMeanSquares.map((e=>e.variable))),null!=this.accumulatedMeanGrads&&this.centered&&I5(this.accumulatedMeanGrads.map((e=>e.variable))),null!=this.accumulatedMoments&&I5(this.accumulatedMoments.map((e=>e.variable)))}async getWeights(){const e=[...this.accumulatedMeanSquares,...this.accumulatedMoments];return this.centered&&e.push(...this.accumulatedMeanGrads),[await this.saveIterations()].concat(e.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){e=await this.extractIterations(e);const t=this.centered?e.length/3:e.length/2,n=!1;this.accumulatedMeanSquares=e.slice(0,t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)}))),this.accumulatedMoments=e.slice(t,2*t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)}))),this.centered&&(this.accumulatedMeanGrads=e.slice(2*t,3*t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)}))))}getConfig(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}}static fromConfig(e,t){return new e(t.learningRate,t.decay,t.momentum,t.epsilon,t.centered)}}const E8=[h8,m8,v8,A8,T8,I8,C8];function N8(e){return new Promise((e=>setTimeout(e))).then(e)}class O8{constructor(e){if(!u0().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");e.startsWith(O8.URL_SCHEME)&&(e=e.slice(O8.URL_SCHEME.length)),null!=e&&0!==e.length||(e="model"),this.modelJsonFileName=e+".json",this.weightDataFileName=e+".weights.bin"}async save(e){if("undefined"===typeof document)throw new Error("Browser downloads are not supported in this environment since `document` is not present");const t=y5.join(e.weightData),n=window.URL.createObjectURL(new Blob([t],{type:"application/octet-stream"}));if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");{const t=Z5(e,[{paths:["./"+this.weightDataFileName],weights:e.weightSpecs}]),r=window.URL.createObjectURL(new Blob([JSON.stringify(t)],{type:"application/json"})),o=null==this.modelJsonAnchor?document.createElement("a"):this.modelJsonAnchor;if(o.download=this.modelJsonFileName,o.href=r,await N8((()=>o.dispatchEvent(new MouseEvent("click")))),null!=e.weightData){const e=null==this.weightDataAnchor?document.createElement("a"):this.weightDataAnchor;e.download=this.weightDataFileName,e.href=n,await N8((()=>e.dispatchEvent(new MouseEvent("click"))))}return{modelArtifactsInfo:t6(e)}}}}O8.URL_SCHEME="downloads://";class M8{constructor(e){if(null==e||e.length<1)throw new Error(`When calling browserFiles, at least 1 file is required, but received ${e}`);this.jsonFile=e[0],this.weightsFiles=e.slice(1)}async load(){return new Promise(((e,t)=>{const n=new FileReader;n.onload=n=>{const r=JSON.parse(n.target.result),o=r.modelTopology;if(null==o)return void t(new Error(`modelTopology field is missing from file ${this.jsonFile.name}`));if(null==r.weightsManifest)return void t(new Error(`weightManifest field is missing from file ${this.jsonFile.name}`));if(0===this.weightsFiles.length)return void e({modelTopology:o});const a=e6(r,(e=>this.loadWeights(e)));e(a)},n.onerror=e=>t(`Failed to read model topology and weights manifest JSON from file '${this.jsonFile.name}'. BrowserFiles supports loading Keras-style tf.Model artifacts only.`),n.readAsText(this.jsonFile)}))}loadWeights(e){const t=[],n=[];for(const a of e)t.push(...a.weights),n.push(...a.paths);const r=this.checkManifestAndWeightFiles(e),o=n.map((e=>this.loadWeightsFile(e,r[e])));return Promise.all(o).then((e=>[t,e]))}loadWeightsFile(e,t){return new Promise(((n,r)=>{const o=new FileReader;o.onload=e=>{const t=e.target.result;n(t)},o.onerror=t=>r(`Failed to weights data from file of path '${e}'.`),o.readAsArrayBuffer(t)}))}checkManifestAndWeightFiles(e){const t=[],n=this.weightsFiles.map((e=>Q5(e.name))),r={};for(const o of e)o.paths.forEach((e=>{const o=Q5(e);if(-1!==t.indexOf(o))throw new Error(`Duplicate file basename found in weights manifest: '${o}'`);if(t.push(o),-1===n.indexOf(o))throw new Error(`Weight file with basename '${o}' is not provided.`);r[e]=this.weightsFiles[n.indexOf(o)]}));if(t.length!==this.weightsFiles.length)throw new Error(`Mismatch in the number of files in weights manifest (${t.length}) and the number of weight files provided (${this.weightsFiles.length}).`);return r}}function D8(e){return new M8(e)}function R8(e,t,n,r){!function(e){xJ(null!=e&&Array.isArray(e)&&e.length>0,(()=>"promises must be a none empty array"))}(e),function(e,t){xJ(e>=0&&e<=1,(()=>`Progress fraction must be in range [0, 1], but got startFraction ${e}`)),xJ(t>=0&&t<=1,(()=>`Progress fraction must be in range [0, 1], but got endFraction ${t}`)),xJ(t>=e,(()=>`startFraction must be no more than endFraction, but got startFraction ${e} and endFraction ${t}`))}(n=null==n?0:n,r=null==r?1:r);let o=0;return Promise.all(e.map((a=>(a.then((a=>{const i=n+ ++o/e.length*(r-n);return t(i),a})),a))))}async function P8(e,t){null==t&&(t={});const n=null==t.fetchFunc?u0().platform.fetch:t.fetchFunc,r=e.map((e=>n(e,t.requestInit,{isBinary:!0}))),o=(null==t.onProgress?await Promise.all(r):await R8(r,t.onProgress,0,.5)).map((e=>e.arrayBuffer()));return null==t.onProgress?await Promise.all(o):await R8(o,t.onProgress,.5,1)}async function $8(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return j8((e=>P8(e,{requestInit:r})))(e,t,n)}function j8(e){return async function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0;const o=t.map((()=>!1)),a={},i=null!=r?r.map((()=>!1)):[],s=[];if(t.forEach(((e,t)=>{let n=0;e.weights.forEach((e=>{const l="quantization"in e?e.quantization.dtype:e.dtype,u=g5[l]*SJ(e.shape),c=()=>{o[t]=!0,null==a[t]&&(a[t]=[]),a[t].push({manifestEntry:e,groupOffset:n,sizeBytes:u})};null!=r?r.forEach(((t,n)=>{t===e.name&&(c(),i[n]=!0)})):c(),s.push(e.name),n+=u}))})),!i.every((e=>e))){const e=r.filter(((e,t)=>!i[t]));throw new Error(`Could not find weights in manifest with names: ${e.join(", ")}. \nManifest JSON has weights with names: ${s.join(", ")}.`)}const l=o.reduce(((e,t,n)=>(t&&e.push(n),e)),[]),u=[];l.forEach((e=>{t[e].paths.forEach((e=>{const t=n+(n.endsWith("/")?"":"/")+e;u.push(t)}))}));const c=await e(u),d={};let p=0;return l.forEach((e=>{const n=t[e].paths.length,r=new y5(c.slice(p,p+n));a[e].forEach((e=>{const t=B5(r.slice(e.groupOffset,e.groupOffset+e.sizeBytes),[e.manifestEntry]);for(const n in t)d[n]=t[n]})),p+=n})),d}}r6.registerSaveRouter((e=>u0().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(O8.URL_SCHEME)?function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"model";return new O8(e)}(e.slice(O8.URL_SCHEME.length)):null));class _8{constructor(e,t){if(this.DEFAULT_METHOD="POST",null==t&&(t={}),this.weightPathPrefix=t.weightPathPrefix,this.weightUrlConverter=t.weightUrlConverter,null!=t.fetchFunc?(xJ("function"===typeof t.fetchFunc,(()=>"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)")),this.fetch=t.fetchFunc):this.fetch=u0().platform.fetch,xJ(null!=e&&e.length>0,(()=>"URL path for http must not be null, undefined or empty.")),Array.isArray(e)&&xJ(2===e.length,(()=>`URL paths for http must have a length of 2, (actual length is ${e.length}).`)),this.path=e,null!=t.requestInit&&null!=t.requestInit.body)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=t.requestInit||{},this.loadOptions=t}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");const t=Object.assign({method:this.DEFAULT_METHOD},this.requestInit);t.body=new FormData;const n=Z5(e,[{paths:["./model.weights.bin"],weights:e.weightSpecs}]);if(t.body.append("model.json",new Blob([JSON.stringify(n)],{type:"application/json"}),"model.json"),null!=e.weightData){const n=y5.join(e.weightData);t.body.append("model.weights.bin",new Blob([n],{type:"application/octet-stream"}),"model.weights.bin")}const r=await this.fetch(this.path,t);if(r.ok)return{modelArtifactsInfo:t6(e),responses:[r]};throw new Error(`BrowserHTTPRequest.save() failed due to HTTP response status ${r.status}.`)}async loadModelJSON(){const e=await this.fetch(this.path,this.requestInit);if(!e.ok)throw new Error(`Request to ${this.path} failed with status code ${e.status}. Please verify this URL points to the model JSON of the model to load.`);let t;try{t=await e.json()}catch(ZBe){let t=`Failed to parse model JSON of response from ${this.path}.`;throw this.path.endsWith(".pb")?t+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":t+=" Please make sure the server is serving valid JSON for this request.",new Error(t)}const n=t.modelTopology,r=t.weightsManifest;if(null==n&&null==r)throw new Error(`The JSON from HTTP path ${this.path} contains neither model topology or manifest for weights.`);return t}async load(){if(this.loadOptions.streamWeights)return this.loadStream();return e6(await this.loadModelJSON(),(e=>this.loadWeights(e)))}async loadStream(){const e=await this.loadModelJSON(),t=await this.getWeightUrls(e.weightsManifest),n=n6(e.weightsManifest);return Object.assign(Object.assign({},e),{weightSpecs:n,getWeightStream:()=>function(e,t){var n;const r=null==t.fetchFunc?u0().platform.fetch:t.fetchFunc;let o,a=0;return null===(n=t.onProgress)||void 0===n||n.call(t,0),new ReadableStream({pull:async n=>{for(var i;a<e.length;){if(!o){const n=(await r(e[a],t.requestInit,{isBinary:!0})).body;o=n.getReader()}const{done:s,value:l}=await o.read();if(!s)return void n.enqueue(l);a++,o=void 0,null===(i=t.onProgress)||void 0===i||i.call(t,a/e.length)}n.close()}})}(t,this.loadOptions)})}async getWeightUrls(e){const t=Array.isArray(this.path)?this.path[1]:this.path,[n,r]=function(e){const t=e.lastIndexOf("/"),n=e.lastIndexOf("?"),r=e.substring(0,t),o=n>t?e.substring(n):"";return[r+"/",o]}(t),o=this.weightPathPrefix||n,a=[],i=[];for(const s of e)for(const e of s.paths)null!=this.weightUrlConverter?i.push(this.weightUrlConverter(e)):a.push(o+e+r);return this.weightUrlConverter&&a.push(...await Promise.all(i)),a}async loadWeights(e){const t=await this.getWeightUrls(e);return[n6(e),await P8(t,this.loadOptions)]}}function F8(e){return null!=e.match(_8.URL_SCHEME_REGEX)}_8.URL_SCHEME_REGEX=/^https?:\/\//;const L8=(e,t)=>{if("undefined"===typeof fetch&&(null==t||null==t.fetchFunc))return null;{let n=!0;if(n=Array.isArray(e)?e.every((e=>F8(e))):F8(e),n)return z8(e,t)}return null};function z8(e,t){return new _8(e,t)}function B8(e,t){return z8(e,t)}r6.registerSaveRouter(L8),r6.registerLoadRouter(L8);class W8{constructor(e){this.modelArtifacts=e}load(){return this.modelArtifacts}}class V8{constructor(e){this.saveHandler=e}save(e){return this.saveHandler(e)}}class U8{constructor(e){e.load&&(this.load=()=>Promise.resolve(e.load())),e.save&&(this.save=t=>Promise.resolve(e.save(t)))}}function H8(e,t,n,r){return new U8(G8(...arguments))}function G8(e,t,n,r){if(1===arguments.length){return null!=e.modelTopology||null!=e.weightSpecs?new W8(e):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new W8({modelTopology:e}))}return console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new W8({modelTopology:e,weightSpecs:t,weightData:n,trainingConfig:r})}function q8(e){return new V8(e)}function K8(e){return new V8(e)}const X8=p5({matMul_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=u5(e,"a","matMul"),a=u5(t,"b","matMul");[o,a]=U4(o,a);const i={a:o,b:a},s={transposeA:n,transposeB:r};return J4.runKernel(D0,i,s)}});const Y8=p5({oneHot_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"int32";if(t<2)throw new Error(`Error in oneHot: depth must be >=2, but it is ${t}`);const a={indices:u5(e,"indices","oneHot","int32")},i={dtype:o,depth:t,onValue:n,offValue:r};return J4.runKernel(y2,a,i)}});const Q8=p5({imag_:function(e){const t={input:u5(e,"input","imag")};return J4.runKernel(D1,t)}});const Z8=p5({neg_:function(e){const t={x:u5(e,"x","neg")};return J4.runKernel(d2,t)}});const J8=p5({real_:function(e){const t={input:u5(e,"input","real")};return J4.runKernel(E2,t)}});const e9=p5({transpose_:function(e,t,n){const r=u5(e,"x","transpose");if(null==t&&(t=r.shape.map(((e,t)=>t)).reverse()),xJ(r.rank===t.length,(()=>`Error in transpose: rank of input ${r.rank} must match length of perm ${t}.`)),t.forEach((e=>{xJ(e>=0&&e<r.rank,(()=>"All entries in 'perm' must be between 0 and "+(r.rank-1)+` but got ${t}`))})),r.rank<=1)return r.clone();const o={x:r},a={perm:t};return"complex64"===r.dtype?T5((()=>{let e=J8(r),t=Q8(r);return e=J4.runKernel(x3,{x:e},a),t=J4.runKernel(x3,{x:t},a),n&&(t=Z8(t)),h5(e,t)})):J4.runKernel(x3,o,a)}});const t9=p5({confusionMatrix_:function(e,t,n){const r=u5(e,"labels","confusionMatrix"),o=u5(t,"predictions","confusionMatrix");xJ(null==n||n>0&&Number.isInteger(n),(()=>`If provided, numClasses must be a positive integer, but got ${n}`)),xJ(1===r.rank,(()=>`Expected the rank of labels to be 1, but got ${r.rank}`)),xJ(1===o.rank,(()=>`Expected the rank of predictions to be 1, but got ${o.rank}`)),xJ(r.shape[0]===o.shape[0],(()=>`Mismatch in the number of examples: ${r.shape[0]} vs. ${o.shape[0]}. Labels and predictions should have the same number of elements.`)),xJ(n>0&&Number.isInteger(n),(()=>`numClasses is required to be a positive integer, but got ${n}`));const a=Y8(W6(r,"int32"),n),i=Y8(W6(o,"int32"),n),s=e9(a),l=X8(s,i);return W6(l,"int32")}});function n9(e,t,n){if(kJ(e),null!=t&&3!==t.length)throw new Error("tensor3d() requires shape to have three numbers");const r=i5(e,n);if(3!==r.length&&1!==r.length)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return f5(e,t,r,n)}let r9,o9=!1;function a9(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;if(t>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(null==e)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");let n=!1,r=!1,o=!1,a=!1,i=!1,s=!1;if(e.data instanceof Uint8Array)n=!0;else if("undefined"!==typeof ImageData&&e instanceof ImageData)r=!0;else if("undefined"!==typeof HTMLVideoElement&&e instanceof HTMLVideoElement)o=!0;else if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement)a=!0;else if(null!=e.getContext)i=!0;else{if(!("undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap))throw new Error(`pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was ${e.constructor.name}`);s=!0}if(null!=j3(I3,J4.backendName)){const n={pixels:e},r={numChannels:t};return J4.runKernel(I3,n,r)}const[l,u]=o?[e.videoWidth,e.videoHeight]:[e.width,e.height];let c,d;if(i)c=e.getContext("2d").getImageData(0,0,l,u).data;else if(r||n)c=e.data;else if(a||o||s){if(null==r9)if("undefined"===typeof document){if("undefined"===typeof OffscreenCanvas||"undefined"===typeof OffscreenCanvasRenderingContext2D)throw new Error("Cannot parse input in current context. Reason: OffscreenCanvas Context2D rendering is not supported.");r9=new OffscreenCanvas(1,1).getContext("2d")}else r9=document.createElement("canvas").getContext("2d",{willReadFrequently:!0});r9.canvas.width=l,r9.canvas.height=u,r9.drawImage(e,0,0,l,u),c=r9.getImageData(0,0,l,u).data}if(4===t)d=new Int32Array(c);else{const e=l*u;d=new Int32Array(e*t);for(let n=0;n<e;n++)for(let e=0;e<t;++e)d[n*t+e]=c[4*n+e]}return n9(d,[u,l,t],"int32")}function i9(e){return"undefined"!==typeof window&&"undefined"!==typeof ImageBitmap&&window.hasOwnProperty("createImageBitmap")&&!(e instanceof ImageBitmap)&&function(e){return null!=e&&0!==e.width&&0!==e.height}(e)&&!function(e){return null!=e&&e.data instanceof Uint8Array}(e)}async function s9(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=null;if(u0().getBool("WRAP_TO_IMAGEBITMAP")&&i9(e)){let t;try{t=await createImageBitmap(e,{premultiplyAlpha:"none"})}catch(ZBe){t=null}n=null!=t&&t.width===e.width&&t.height===e.height?t:e}else n=e;return a9(n,t)}function l9(e){if(2!==e.rank&&3!==e.rank)throw new Error(`toPixels only supports rank 2 or 3 tensors, got rank ${e.rank}.`);const t=2===e.rank?1:e.shape[2];if(t>4||2===t)throw new Error(`toPixels only supports depth of size 1, 3 or 4 but got ${t}`);if("float32"!==e.dtype&&"int32"!==e.dtype)throw new Error(`Unsupported type for toPixels: ${e.dtype}. Please use float32 or int32 tensors.`)}async function u9(e,t){let n=u5(e,"img","toPixels");if(!(e instanceof T4)){const e=n;n=W6(e,"int32"),e.dispose()}l9(n);const[r,o]=n.shape.slice(0,2),a=2===n.rank?1:n.shape[2],i=await n.data(),s="float32"===n.dtype?255:1,l=new Uint8ClampedArray(o*r*4);for(let u=0;u<r*o;++u){const e=[0,0,0,255];for(let r=0;r<a;r++){const t=i[u*a+r];if("float32"===n.dtype){if(t<0||t>1)throw new Error(`Tensor values for a float32 Tensor must be in the range [0 - 1] but encountered ${t}.`)}else if("int32"===n.dtype&&(t<0||t>255))throw new Error(`Tensor values for a int32 Tensor must be in the range [0 - 255] but encountered ${t}.`);1===a?(e[0]=t*s,e[1]=t*s,e[2]=t*s):e[r]=t*s}const t=4*u;l[t+0]=Math.round(e[0]),l[t+1]=Math.round(e[1]),l[t+2]=Math.round(e[2]),l[t+3]=Math.round(e[3])}if(null!=t){if(!o9){null!=j3(c1,J4.backendName)&&(console.warn("tf.browser.toPixels is not efficient to draw tensor on canvas. Please try tf.browser.draw instead."),o9=!0)}t.width=o,t.height=r;const e=t.getContext("2d"),n=new ImageData(l,o,r);e.putImageData(n,0,0)}return n!==e&&n.dispose(),l}function c9(e,t,n){let r=u5(e,"img","draw");if(!(e instanceof T4)){const e=r;r=W6(e,"int32"),e.dispose()}l9(r),function(e){const t=(null===e||void 0===e?void 0:e.alpha)||1;if(t>1||t<0)throw new Error(`Alpha value ${t} is suppoed to be in range [0 - 1].`)}(null===n||void 0===n?void 0:n.imageOptions);const o={image:r},a={canvas:t,options:n};J4.runKernel(c1,o,a)}const d9=p5({fromPixels_:a9});function p9(e,t){const n=e.shape.length,r=t.shape.length;if(n<1)throw new Error(`tf.gatherND() expects the input to be rank 1 or higher, but the rank was ${n}.`);if(r<1)throw new Error(`tf.gatherND() expects the indices to be rank 1 or higher, but the rank was ${r}.`);if("int32"!==t.dtype)throw new Error(`tf.gatherND() expects the indices to be int32 type, but the dtype was ${t.dtype}.`);if(t.shape[r-1]>n)throw new Error(`index innermost dimension length must be <= tensor rank; saw: ${t.shape[r-1]} vs. ${n}`);if(0===SJ(e.shape))throw new Error(`Requested more than 0 entries, but input is empty. Input shape: ${e.shape}.`);const o=t.shape,a=o[o.length-1];let i=1;for(let d=0;d<o.length-1;++d)i*=o[d];const s=e.shape,l=o.slice();l.pop();let u=1;for(let d=a;d<n;++d)u*=s[d],l.push(s[d]);const c=[...XJ(e.shape).map((e=>e/u)),1].slice(0,a);return[l,i,u,c]}function h9(e,t,n){const r=t.rank>1?t.shape[t.rank-1]:1,o=t.rank>1?t.rank-1:1,a=`Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: ${n.shape}, indices.shape: ${t.shape}, shape: ${e}, sliceDim: ${r}, and batchDim: ${o}.`;if(n.rank<o)throw new Error(a+` update.rank < ${o}. `);if(e.length<r+(n.rank-o))throw new Error(a+` Output shape length < ${r+(n.rank-o)}`);if(n.rank!==o+e.length-r)throw new Error(a+" update.rank != "+(o+e.length-r));for(let i=0;i<o;++i)if(n.shape[i]!==t.shape[i])throw new Error(a+` updates.shape[${i}] (${n.shape[i]}) != indices.shape[${i}] (${t.shape[i]}).`);for(let i=0;i<n.rank-o;++i)if(n.shape[i+o]!==e[i+r])throw new Error(a+` updates.shape[${i+o}] (${n.shape[i+o]}) != shape[${i+o}] (${e[i+o]})`)}function f9(e,t,n){if(t.rank<1)throw new Error(`tf.scatterND() expects the indices to be rank 1 or higher, but the rank was ${t.rank}.`);if(e.rank<1)throw new Error(`tf.scatterND() expects the updates to be rank 1 or higher, but the rank was ${e.rank}.`);if("int32"!==t.dtype)throw new Error(`The dtype of 'indices' should be int32, but got dtype: ${t.dtype}`);if(n.length<1)throw new Error(`Output rank must be greater or equal to 1, but got shape: ${n}`);if(0===n.length){if(0===t.size)throw new Error(`Indices specified for empty output. indices shape: ${t.shape}`);if(0===e.size)throw new Error(`Updates specified for empty output. updates shape: ${e.shape}`)}h9(n,t,e)}function m9(e,t,n){const r=t.shape.length,o=r>1?t.shape[r-1]:1,a=n.length;let i=1;for(let l=o;l<a;++l)i*=n[l];const s=o<1?1:o;return{sliceRank:o,numUpdates:SJ(t.shape)/s,sliceSize:i,strides:[...XJ(n.slice(0,o)),1],outputSize:SJ(n)}}const g9=-2,y9=-1;function v9(e,t,n){const r=e.shape.length;xJ(r===t.length,(()=>`Error in slice${r}D: Length of begin ${t} must match the rank of the array (${r}).`)),xJ(r===n.length,(()=>`Error in slice${r}D: Length of size ${n} must match the rank of the array (${r}).`));for(let o=0;o<r;++o)xJ(t[o]+n[o]<=e.shape[o],(()=>`Error in slice${r}D: begin[${o}] + size[${o}] (${t[o]+n[o]}) would overflow input.shape[${o}] (${e.shape[o]})`))}function b9(e){const t=[];let n=0;for(;e>0;)1&e&&t.push(n),e/=2,n++;return t}function x9(e,t,n){const r=[];for(let o=0;o<e.length;o++)r[o]=Math.ceil((t[o]-e[o])/n[o]);return r}function w9(e,t,n,r){const o=[...e];for(let a=o.length;a<r.length;a++)o.push(1);for(let a=0;a<n;a++)0===a?o[t]=1:(o.splice(t,0,1),o.pop());return o}function k9(e,t,n){return n<=e?n:n-(t-1)}function S9(e,t){const n=[];for(let r=0;r<e;r++)n.push(t+r);return n}function A9(e,t,n,r,o,a,i,s,l){const u=e.length;let c=new Array(u),d=new Array(u),p=new Array(u);if(t.length&&n>0){const l=t[0],u=n+1;c=C9(i,l,u,r,e),d=T9(s,l,u,o,e),p=w9(a,l,u,e)}else for(let h=0;h<u;h++)c[h]=E9(i,r,a,e,h,l),d[h]=N9(s,o,a,e,h,l),p[h]=I9(a,h,l);return{begin:c,end:d,strides:p}}function C9(e,t,n,r,o){const a=[...o],i=S9(n,t);for(let s=0;s<a.length;s++)if(i.indexOf(s)>-1)a[s]=0;else{const o=k9(t,n,s);let i=r[o];e&1<<o&&(i=0),a[s]=i}return a}function T9(e,t,n,r,o){const a=[...o],i=S9(n,t);for(let s=0;s<a.length;s++)if(i.indexOf(s)>-1)a[s]=Number.MAX_SAFE_INTEGER;else{const o=k9(t,n,s);let i=r[o];e&1<<o&&(i=Number.MAX_SAFE_INTEGER),a[s]=i}for(let s=0;s<a.length;s++){const e=o[s];a[s]<0&&(a[s]+=e),a[s]=fJ(0,a[s],o[s])}return a}function I9(e,t,n){let r=e[t];return(n&1<<t||null==r)&&(r=1),r}function E9(e,t,n,r,o,a){let i=t[o];const s=n[o]||1;(e&1<<o||a&1<<o||null==i)&&(i=s>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);const l=r[o];return i<0&&(i+=l),i=fJ(0,i,l-1),i}function N9(e,t,n,r,o,a){let i=t[o];const s=n[o]||1;(e&1<<o||a&1<<o||null==i)&&(i=s>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);const l=r[o];return i<0&&(i+=l),i=s>0?fJ(0,i,l):fJ(-1,i,l-1),i}function O9(e,t,n){let r=n.length;for(let o=0;o<n.length;o++)if(n[o]>1){r=o;break}for(let o=r+1;o<n.length;o++)if(t[o]>0||n[o]!==e[o])return!1;return!0}function M9(e,t){let n=e.length>0?e[e.length-1]:1;for(let r=0;r<e.length-1;r++)n+=e[r]*t[r];return n}function D9(e,t,n){let r;const o=e.shape.length;let a;return r="number"===typeof t?[t,...new Array(o-1).fill(0)]:t.length<o?t.concat(new Array(o-t.length).fill(0)):t.slice(),r.forEach((e=>{xJ(-1!==e,(()=>"slice() does not support negative begin indexing."))})),a=null==n?new Array(o).fill(-1):"number"===typeof n?[n,...new Array(o-1).fill(-1)]:n.length<o?n.concat(new Array(o-n.length).fill(-1)):n,a=a.map(((t,n)=>t>=0?t:(xJ(-1===t,(()=>`Negative size values should be exactly -1 but got ${t} for the slice() size at index ${n}.`)),e.shape[n]-r[n]))),[r,a]}function R9(e,t,n,r,o,a,i,s,l){let u;if(null==r?(u=new Array(t.length),u.fill(1)):u=r,null!=i&&0!==(i&i-1))throw new Error("Multiple ellipses in slice is not allowed.");let c=!1;const d={dims:u.length,numAddAxisAfterEllipsis:0,begin:t.slice(),end:n.slice(),strides:u.slice(),beginMask:o,endMask:a,ellipsisMask:i,newAxisMask:s,shrinkAxisMask:l};for(let v=0;v<d.dims;v++)c&&0!==(1<<v&s)&&d.numAddAxisAfterEllipsis++,1<<v&i&&(c=!0);c||(d.ellipsisMask|=1<<d.dims,d.dims++);const p={dims:e.length,beginMask:0,endMask:0,beginValid:!1,endValid:!1};!function(e,t){t.beginMask=0,t.endMask=0,t.shrinkAxisMask=0;let n=0;t.beginValid=null!=e.begin,t.endValid=null!=e.end,t.begin=new Array(t.dims),t.end=new Array(t.dims),t.strides=new Array(t.dims),t.finalShapeGatherIndices=[],t.finalShapeGatherIndicesSparse=[],t.inputShapeGatherIndicesSparse=new Array(t.dims);for(let r=0;r<e.dims;r++)if(1<<r&e.ellipsisMask){const o=Math.min(t.dims-(e.dims-r)+1+e.numAddAxisAfterEllipsis,t.dims);for(;n<o;n++)t.begin[n]=0,t.end[n]=0,t.strides[n]=1,t.beginMask|=1<<n,t.endMask|=1<<n,t.finalShapeGatherIndices.push(n),t.finalShapeGatherIndicesSparse.push(-1),t.inputShapeGatherIndicesSparse[n]=r}else if(1<<r&e.newAxisMask)t.finalShapeGatherIndices.push(g9),t.finalShapeGatherIndicesSparse.push(-1);else{if(n===t.begin.length)throw Error(`Index out of range using input dim ${n}; input has only ${t.dims} dims, ${t.begin.length}.`);null!=e.begin&&(t.begin[n]=e.begin[r]),null!=e.end&&(t.end[n]=e.end[r]),t.strides[n]=e.strides[r],e.beginMask&1<<r&&(t.beginMask|=1<<n),e.endMask&1<<r&&(t.endMask|=1<<n),e.shrinkAxisMask&1<<r?(t.finalShapeGatherIndices.push(y9),t.finalShapeGatherIndicesSparse.push(-1),t.shrinkAxisMask|=1<<n):(t.finalShapeGatherIndices.push(n),t.finalShapeGatherIndicesSparse.push(r)),t.inputShapeGatherIndicesSparse[n]=r,n++}}(d,p);let h=!0,f=!0,m=!0;const g=[],y=[];for(let v=0;v<e.length;++v){if(0===p.strides[v])throw Error(`strides[${v}] must be non-zero`);const t=!!(p.shrinkAxisMask&1<<v),n=e[v];if(-1===n){g.push(t?1:-1);continue}const r=[p.beginMask&1<<v,p.endMask&1<<v],o=[p.strides[v]>0?0:-1,p.strides[v]>0?n:n-1];if(t&&p.strides[v]<=0)throw Error("only stride 1 allowed on non-range indexing.");m=m&&1===p.strides[v];const a=!!(p.beginMask&1<<v&&p.endMask&1<<v);if(p.beginValid&&p.endValid){if(t){const e=p.begin[v]<0?n+p.begin[v]:p.begin[v];if(p.begin[v]=e,p.end[v]=p.begin[v]+1,e<0||e>=n)throw Error(`slice index ${p.begin[v]} of dimension ${v} out of bounds.`)}else p.begin[v]=P9(p.begin[v],0,p.strides[v],n,r,o),p.end[v]=P9(p.end[v],1,p.strides[v],n,r,o);const e=1===p.strides[v]&&0===p.begin[v]&&p.end[v]===n;h=h&&e,f=f&&(0===v&&1===p.strides[v]||e)}else h=h&&1===p.strides[v]&&a,f=f&&(0===v&&1===p.strides[v]||a);let i,s=!1;if(p.beginValid&&p.endValid?(i=p.end[v]-p.begin[v],s=!0):t?(i=1,s=!0):a&&n>=0&&(i=p.strides[v]<0?-n:n,s=!0),s){let e;e=0===i||i<0!==p.strides[v]<0?0:Math.trunc(i/p.strides[v])+(i%p.strides[v]!==0?1:0),g.push(e)}else g.push(-1)}for(let v=0;v<p.finalShapeGatherIndices.length;++v){const e=p.finalShapeGatherIndices[v];e>=0?y.push(g[e]):e===g9&&y.push(1)}return{finalShapeSparse:y.filter(((e,t)=>p.finalShapeGatherIndices[t]!==g9)),finalShape:y,isIdentity:h,sliceDim0:f,isSimpleSlice:m,begin:p.begin,end:p.end,strides:p.strides}}function P9(e,t,n,r,o,a){if(o[t])return n>0?a[t]:a[t+1&1];{const t=e<0?r+e:e;return t<a[0]?a[0]:t>a[1]?a[1]:t}}const $9=.001,j9=.1;function _9(e,t,n){return null==n&&(n=F9()),L9(e,t,((e,t)=>V9(e,t,n)))}function F9(){return 32===J4.backend.floatPrecision()?$9:j9}function L9(e,t,n){let r=!0;if((p4(e)||p4(t))&&(r=!1),p4(e)&&p4(t)&&(r=!0),r){const n=e.constructor.name,r=t.constructor.name;if(n!==r)throw new Error(`Arrays are of different type. Actual: ${n}. Expected: ${r}`)}if(Array.isArray(e)&&Array.isArray(t)){const n=i5(e),r=i5(t);if(!TJ(n,r))throw new Error(`Arrays have different shapes. Actual: [${n}]. Expected: [${r}]`)}const o=p4(e)?e:h4(e),a=p4(t)?t:h4(t);if(o.length!==a.length)throw new Error(`Arrays have different lengths actual: ${o.length} vs expected: ${a.length}.\nActual:   ${o}.\nExpected: ${a}.`);for(let i=0;i<a.length;++i){const e=o[i],t=a[i];if(!n(e,t))throw new Error(`Arrays differ: actual[${i}] = ${e}, expected[${i}] = ${t}.\nActual:   ${o}.\nExpected: ${a}.`)}"undefined"!==typeof expect&&expect().nothing()}function z9(e,t){e().then((()=>t.fail()),(()=>t())),"undefined"!==typeof expect&&expect().nothing()}function B9(e,t){const n="string"===typeof t||"number"===typeof t||"boolean"===typeof t?[t]:t;return VJ(e)||VJ(e[0])||VJ(t)||VJ(t[0])?L9(e,n,((e,t)=>e==t)):L9(e,t,((e,t)=>V9(e,t,0)))}function W9(e,t,n){if(null==n&&(n=F9()),!V9(e,t,n))throw new Error(`Numbers differ: actual === ${e}, expected === ${t}`);"undefined"!==typeof expect&&expect().nothing()}function V9(e,t,n){return!isFinite(e)&&!isFinite(t)||!(isNaN(e)||isNaN(t)||Math.abs(e-t)>n)}function U9(e,t,n){for(let r=0;r<e.length;r++)if(e[r]<t||e[r]>n)throw new Error(`Value out of range:${e[r]} low: ${t}, high: ${n}`)}function H9(e,t){const n=new Float32Array(e),r=new Float32Array(t);if(n.length!==r.length)throw new Error(`Expected ArrayBuffer to be of length ${r.length}, but it was ${n.length}`);for(let o=0;o<r.length;o++)if(n[o]!==r[o])throw new Error(`Expected ArrayBuffer value at ${o} to be ${r[o]} but got ${n[o]} instead`)}function G9(e){for(let t=0;t<e.length;t++){const n=e[t];Array.isArray(n)?G9(n):e[t]=c4(n)}return e}function q9(e){const t=document.createElement("video");return"playsInline"in t&&(t.playsInline=!0),t.muted=!0,t.loop=!0,t.style.position="fixed",t.style.left="0px",t.style.top="0px",t.preload="auto",t.appendChild(e),new Promise((e=>{t.addEventListener("loadeddata",(n=>e(t))),t.load()}))}async function K9(e){await e.play(),"requestVideoFrameCallback"in e&&await new Promise((t=>{e.requestVideoFrameCallback(t)}))}const X9="4.22.0";class Y9{static sgd(e){return new C8(e)}static momentum(e,t){return new T8(e,t,arguments.length>2&&void 0!==arguments[2]&&arguments[2])}static rmsprop(e){return new I8(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,arguments.length>4&&void 0!==arguments[4]&&arguments[4])}static adam(){return new v8(arguments.length>0&&void 0!==arguments[0]?arguments[0]:.001,arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,arguments.length>2&&void 0!==arguments[2]?arguments[2]:.999,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null)}static adadelta(){return new h8(arguments.length>0&&void 0!==arguments[0]?arguments[0]:.001,arguments.length>1&&void 0!==arguments[1]?arguments[1]:.95,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}static adamax(){return new A8(arguments.length>0&&void 0!==arguments[0]?arguments[0]:.002,arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,arguments.length>2&&void 0!==arguments[2]?arguments[2]:.999,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,arguments.length>4&&void 0!==arguments[4]?arguments[4]:0)}static adagrad(e){return new m8(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1)}}const Q9=p5({acos_:function(e){const t={x:u5(e,"x","acos")};return J4.runKernel(m0,t)}});const Z9=p5({acosh_:function(e){const t={x:u5(e,"x","acosh")};return J4.runKernel(g0,t)}});const J9=p5({addN_:function(e){xJ(Array.isArray(e),(()=>"The argument passed to tf.addN() must be a list of tensors")),xJ(e.length>=1,(()=>`Must pass at least one tensor to tf.addN(), but got ${e.length}`));const t=e.map(((e,t)=>u5(e,`tensors${t}`,"addN"))),n=t[0];t.forEach((e=>{if(e.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")})),t.forEach((e=>{if(!TJ(e.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")}));const r=t;return J4.runKernel(v0,r)}});const e7=p5({all_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r={x:u5(e,"x","all","bool")},o={axis:t,keepDims:n};return J4.runKernel(b0,r,o)}});const t7=p5({any_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r={x:u5(e,"x","any","bool")},o={axis:t,keepDims:n};return J4.runKernel(x0,r,o)}});const n7=p5({argMax_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n={x:u5(e,"x","argMax")},r={axis:t};return J4.runKernel(w0,n,r)}});const r7=p5({argMin_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n={x:u5(e,"x","argMin")},r={axis:t};return J4.runKernel(k0,n,r)}});const o7=p5({asin_:function(e){const t={x:u5(e,"x","asin")};return J4.runKernel(S0,t)}});const a7=p5({asinh_:function(e){const t={x:u5(e,"x","asinh")};return J4.runKernel(A0,t)}});const i7=p5({atan_:function(e){const t={x:u5(e,"x","atan")};return J4.runKernel(C0,t)}});const s7=p5({atan2_:function(e,t){let n=u5(e,"a","atan2"),r=u5(t,"b","atan2");[n,r]=U4(n,r);const o={a:n,b:r};return J4.runKernel(I0,o)}});const l7=p5({atanh_:function(e){const t={x:u5(e,"x","atanh")};return J4.runKernel(T0,t)}});function u7(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",a=arguments.length>5?arguments[5]:void 0;return p7(e,[...t,e[3]],n,a,r,null,null,k7(o))}function c7(e,t,n,r,o,a){let i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"channelsLast";const[s,l]=m7(t);let u;if("channelsLast"===i)u=[s,l,e[3],e[3]];else{if("channelsFirst"!==i)throw new Error(`Unknown dataFormat ${i}`);u=[s,l,e[1],e[1]]}return p7(e,u,n,r,o,a,!1,i)}function d7(e,t,n,r,o,a){let i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"NDHWC";const[s,l,u]=g7(t);let c,d;if("NDHWC"===i)d="channelsLast",c=[s,l,u,e[4],e[4]];else{if("NCDHW"!==i)throw new Error(`Unknown dataFormat ${i}`);d="channelsFirst",c=[s,l,u,e[1],e[1]]}return h7(e,c,n,r,o,!1,d,a)}function p7(e,t,n,r,o,a){let i=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"channelsLast",[l,u,c,d]=[-1,-1,-1,-1];if("channelsLast"===s)[l,u,c,d]=e;else{if("channelsFirst"!==s)throw new Error(`Unknown dataFormat ${s}`);[l,d,u,c]=e}const[p,h,,f]=t,[m,g]=m7(n),[y,v]=m7(r),b=y7(p,y),x=y7(h,v),{padInfo:w,outHeight:k,outWidth:S}=function(e,t,n,r,o,a,i,s,l){let u,c,d;if("number"===typeof e){u={top:e,bottom:e,left:e,right:e,type:0===e?"VALID":"NUMBER"};const o=function(e,t,n,r,o){null==r&&(r=f7(e,t,n));const a=e[0],i=e[1],s=v7((a-t+2*r)/n+1,o),l=v7((i-t+2*r)/n+1,o);return[s,l]}([t,n],a,r,e,s);c=o[0],d=o[1]}else if("same"===e){c=Math.ceil(t/r),d=Math.ceil(n/o);const e=Math.max(0,(c-1)*r+a-t),s=Math.max(0,(d-1)*o+i-n),l=Math.floor(e/2),p=e-l,h=Math.floor(s/2);u={top:l,bottom:p,left:h,right:s-h,type:"SAME"}}else if("valid"===e)u={top:0,bottom:0,left:0,right:0,type:"VALID"},c=Math.ceil((t-a+1)/r),d=Math.ceil((n-i+1)/o);else{if("object"!==typeof e)throw Error(`Unknown padding parameter: ${e}`);{const p="channelsLast"===l?e[1][0]:e[2][0],h="channelsLast"===l?e[1][1]:e[2][1],f="channelsLast"===l?e[2][0]:e[3][0],m="channelsLast"===l?e[2][1]:e[3][1];u={top:p,bottom:h,left:f,right:m,type:0===p&&0===h&&0===f&&0===m?"VALID":"EXPLICIT"},c=v7((t-a+p+h)/r+1,s),d=v7((n-i+f+m)/o+1,s)}}return{padInfo:u,outHeight:c,outWidth:d}}(o,u,c,m,g,b,x,a,s),A=i?f*d:f;let C;return"channelsFirst"===s?C=[l,A,k,S]:"channelsLast"===s&&(C=[l,k,S,A]),{batchSize:l,dataFormat:s,inHeight:u,inWidth:c,inChannels:d,outHeight:k,outWidth:S,outChannels:A,padInfo:w,strideHeight:m,strideWidth:g,filterHeight:p,filterWidth:h,effectiveFilterHeight:b,effectiveFilterWidth:x,dilationHeight:y,dilationWidth:v,inShape:e,outShape:C,filterShape:t}}function h7(e,t,n,r,o){let a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"channelsLast",s=arguments.length>7?arguments[7]:void 0,[l,u,c,d,p]=[-1,-1,-1,-1,-1];if("channelsLast"===i)[l,u,c,d,p]=e;else{if("channelsFirst"!==i)throw new Error(`Unknown dataFormat ${i}`);[l,p,u,c,d]=e}const[h,f,m,,g]=t,[y,v,b]=g7(n),[x,w,k]=g7(r),S=y7(h,x),A=y7(f,w),C=y7(m,k),{padInfo:T,outDepth:I,outHeight:E,outWidth:N}=function(e,t,n,r,o,a,i,s,l,u,c){let d,p,h,f;"valid"===e&&(e=0);if("number"===typeof e){d={top:e,bottom:e,left:e,right:e,front:e,back:e,type:0===e?"VALID":"NUMBER"};const m=function(e,t,n,r,o,a){null==o&&(o=f7(e,t[0],r[0]));const i=[0,0,0,n];for(let s=0;s<3;s++)e[s]+2*o>=t[s]&&(i[s]=v7((e[s]-t[s]+2*o)/r[s]+1,a));return i}([t,n,r,1],[s,l,u],1,[o,a,i],e,c);p=m[0],h=m[1],f=m[2]}else{if("same"!==e)throw Error(`Unknown padding parameter: ${e}`);{p=Math.ceil(t/o),h=Math.ceil(n/a),f=Math.ceil(r/i);const e=(p-1)*o+s-t,c=(h-1)*a+l-n,m=(f-1)*i+u-r,g=Math.floor(e/2),y=e-g,v=Math.floor(c/2),b=c-v,x=Math.floor(m/2);d={top:v,bottom:b,left:x,right:m-x,front:g,back:y,type:"SAME"}}}return{padInfo:d,outDepth:p,outHeight:h,outWidth:f}}(o,u,c,d,y,v,b,S,A,C,s),O=a?g*p:g;let M;return"channelsFirst"===i?M=[l,O,I,E,N]:"channelsLast"===i&&(M=[l,I,E,N,O]),{batchSize:l,dataFormat:i,inDepth:u,inHeight:c,inWidth:d,inChannels:p,outDepth:I,outHeight:E,outWidth:N,outChannels:O,padInfo:T,strideDepth:y,strideHeight:v,strideWidth:b,filterDepth:h,filterHeight:f,filterWidth:m,effectiveFilterDepth:S,effectiveFilterHeight:A,effectiveFilterWidth:C,dilationDepth:x,dilationHeight:w,dilationWidth:k,inShape:e,outShape:M,filterShape:t}}function f7(e,t,n){const r=y7(t,arguments.length>3&&void 0!==arguments[3]?arguments[3]:1);return Math.floor((e[0]*(n-1)-n+r)/2)}function m7(e){return"number"===typeof e?[e,e,e]:2===e.length?[e[0],e[1],1]:e}function g7(e){return"number"===typeof e?[e,e,e]:e}function y7(e,t){return t<=1?e:e+(e-1)*(t-1)}function v7(e,t){if(!t)return Math.trunc(e);switch(t){case"round":return Math.round(e);case"ceil":return Math.ceil(e);case"floor":return Math.floor(e);default:throw new Error(`Unknown roundingMode ${t}`)}}function b7(e){const[t,n,r]=m7(e);return 1===t&&1===n&&1===r}function x7(e,t){return b7(e)||b7(t)}function w7(e){return m7(e).every((e=>e>0))}function k7(e){if("NHWC"===e)return"channelsLast";if("NCHW"===e)return"channelsFirst";throw new Error(`Unknown dataFormat ${e}`)}function S7(e,t,n){if(null!=n){if("string"===typeof t)throw Error(`Error in ${e}: pad must be an integer when using dimRoundingMode ${n} but got pad ${t}.`);if("number"===typeof t)xJ(IJ(t),(()=>`Error in ${e}: pad must be an integer when using dimRoundingMode ${n} but got pad ${t}.`));else{if("object"!==typeof t)throw Error(`Error in ${e}: Unknown padding parameter: ${t}`);t.forEach((t=>{t.forEach((t=>{xJ(IJ(t),(()=>`Error in ${e}: pad must be an integer when using dimRoundingMode ${n} but got pad ${t}.`))}))}))}}}const A7=p5({reshape_:function(e,t){const n={x:u5(e,"x","reshape","string_or_numeric")},r={shape:t};return J4.runKernel(M2,n,r)}});const C7=p5({avgPool_:function(e,t,n,r,o){const a=u5(e,"x","avgPool","float32");xJ(x7(n,1),(()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${n} and dilations '1'`));let i=a,s=!1;3===a.rank&&(s=!0,i=A7(a,[1,a.shape[0],a.shape[1],a.shape[2]])),xJ(4===i.rank,(()=>`Error in avgPool: x must be rank 4 but got rank ${i.rank}.`)),S7("avgPool",r,o);const l={x:i},u={filterSize:t,strides:n,pad:r,dimRoundingMode:o};let c=J4.runKernel(E0,l,u);return c=W6(c,a.dtype),s?A7(c,[c.shape[1],c.shape[2],c.shape[3]]):c}});const T7=p5({avgPool3d_:function(e,t,n,r,o){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NDHWC";const i=u5(e,"x","avgPool3d","float32");let s=i,l=!1;4===i.rank&&(l=!0,s=A7(i,[1,i.shape[0],i.shape[1],i.shape[2],i.shape[3]])),xJ(5===s.rank,(()=>`Error in avgPool3d: x must be rank 5 but got rank ${s.rank}.`)),xJ("NDHWC"===a,(()=>`Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of ${a}`)),xJ("number"===typeof n&&n>0||Array.isArray(n)&&n[0]>0&&n[1]>0&&n[2]>0,(()=>`Error in avgPool3d: Stride must be > 0, but got '${n}'`)),S7("avgPool3d",r,o);const u={x:s},c={filterSize:t,strides:n,pad:r,dimRoundingMode:o,dataFormat:a};let d=J4.runKernel(O0,u,c);return d=W6(d,s.dtype),l?A7(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}});const I7=p5({concat_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;xJ(e.length>=1,(()=>"Pass at least one tensor to concat"));const n=c5(e,"tensors","concat","string_or_numeric");if("complex64"===n[0].dtype&&n.forEach((e=>{if("complex64"!==e.dtype)throw new Error(`Cannot concatenate complex64 tensors with a tensor\n          with dtype ${e.dtype}. `)})),1===n.length)return V6(n[0]);const r=n,o={axis:t};return J4.runKernel(V0,r,o)}});const E7=p5({sigmoid_:function(e){const t={x:u5(e,"x","sigmoid","float32")};return J4.runKernel(X2,t)}});const N7=p5({slice_:function(e,t,n){const r=u5(e,"x","slice","string_or_numeric");if(0===r.rank)throw new Error("Slicing scalar is not possible");const o={x:r},a={begin:t,size:n};return J4.runKernel(H2,o,a)}});const O7=p5({tanh_:function(e){const t={x:u5(e,"x","tanh","float32")};return J4.runKernel(g3,t)}});const M7=p5({basicLSTMCell_:function(e,t,n,r,o,a){const i=u5(e,"forgetBias","basicLSTMCell"),s=u5(t,"lstmKernel","basicLSTMCell"),l=u5(n,"lstmBias","basicLSTMCell"),u=u5(r,"data","basicLSTMCell"),c=u5(o,"c","basicLSTMCell"),d=u5(a,"h","basicLSTMCell"),p=I7([u,d],1),h=X8(p,s),f=H6(h,l),m=f.shape[0],g=f.shape[1]/4,y=[m,g],v=N7(f,[0,0],y),b=N7(f,[0,g],y),x=N7(f,[0,2*g],y),w=N7(f,[0,3*g],y),k=H6(K6(E7(v),O7(b)),K6(c,E7(H6(i,x))));return[k,K6(O7(k),E7(w))]}});const D7=p5({batchToSpaceND_:function(e,t,n){const r=u5(e,"x","batchToSpaceND"),o=t.reduce(((e,t)=>e*t));xJ(r.rank>=1+t.length,(()=>`input rank is ${r.rank} but should be > than blockShape.length ${t.length}`)),xJ(n.length===t.length,(()=>`crops.length is ${n.length} but should be equal to blockShape.length  ${t.length}`)),xJ(r.shape[0]%o===0,(()=>`input tensor batch is ${r.shape[0]} but is not divisible by the product of the elements of blockShape ${t.join(" * ")} === ${o}`));const a={x:r},i={blockShape:t,crops:n};return J4.runKernel(R0,a,i)}});const R7=p5({batchNorm_:function(e,t,n,r,o,a){null==a&&(a=.001);const i=u5(e,"x","batchNorm"),s=u5(t,"mean","batchNorm"),l=u5(n,"variance","batchNorm");let u,c;null!=o&&(u=u5(o,"scale","batchNorm")),null!=r&&(c=u5(r,"offset","batchNorm")),xJ(s.rank===l.rank,(()=>"Batch normalization gradient requires mean and variance to have equal ranks.")),xJ(null==c||s.rank===c.rank,(()=>"Batch normalization gradient requires mean and offset to have equal ranks.")),xJ(null==u||s.rank===u.rank,(()=>"Batch normalization gradient requires mean and scale to have equal ranks."));const d={x:function(e){let t;return t=0===e.rank||1===e.rank?A7(e,[1,1,1,e.size]):2===e.rank?A7(e,[1,1,e.shape[0],e.shape[1]]):3===e.rank?A7(e,[1,e.shape[0],e.shape[1],e.shape[2]]):e,t}(i),scale:u,offset:c,mean:s,variance:l},p={varianceEpsilon:a},h=J4.runKernel(C1,d,p);return A7(h,i.shape)}});const P7=p5({batchNorm2d_:function(e,t,n,r,o,a){const i=u5(e,"x","batchNorm"),s=u5(t,"mean","batchNorm"),l=u5(n,"variance","batchNorm");let u,c;return null!=o&&(u=u5(o,"scale","batchNorm")),null!=r&&(c=u5(r,"offset","batchNorm")),xJ(2===i.rank,(()=>`Error in batchNorm2D: x must be rank 2 but got rank ${i.rank}.`)),xJ(2===s.rank||1===s.rank,(()=>`Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank ${s.rank}.`)),xJ(2===l.rank||1===l.rank,(()=>`Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank ${l.rank}.`)),null!=u&&xJ(2===u.rank||1===u.rank,(()=>`Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank ${u.rank}.`)),null!=c&&xJ(2===c.rank||1===c.rank,(()=>`Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank ${c.rank}.`)),R7(i,s,l,c,u,a)}});const $7=p5({batchNorm3d_:function(e,t,n,r,o,a){const i=u5(e,"x","batchNorm"),s=u5(t,"mean","batchNorm"),l=u5(n,"variance","batchNorm");let u,c;return null!=o&&(u=u5(o,"scale","batchNorm")),null!=r&&(c=u5(r,"offset","batchNorm")),xJ(3===i.rank,(()=>`Error in batchNorm3D: x must be rank 3 but got rank ${i.rank}.`)),xJ(3===s.rank||1===s.rank,(()=>`Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank ${s.rank}.`)),xJ(3===l.rank||1===l.rank,(()=>`Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank ${l.rank}.`)),null!=u&&xJ(3===u.rank||1===u.rank,(()=>`Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank ${u.rank}.`)),null!=c&&xJ(3===c.rank||1===c.rank,(()=>`Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank ${c.rank}.`)),R7(i,s,l,c,u,a)}});const j7=p5({batchNorm4d_:function(e,t,n,r,o,a){const i=u5(e,"x","batchNorm"),s=u5(t,"mean","batchNorm"),l=u5(n,"variance","batchNorm");let u,c;return null!=o&&(u=u5(o,"scale","batchNorm")),null!=r&&(c=u5(r,"offset","batchNorm")),xJ(4===i.rank,(()=>`Error in batchNorm4D: x must be rank 4 but got rank ${i.rank}.`)),xJ(4===s.rank||1===s.rank,(()=>`Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank ${s.rank}.`)),xJ(4===l.rank||1===l.rank,(()=>`Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank ${l.rank}.`)),null!=u&&xJ(4===u.rank||1===u.rank,(()=>`Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank ${u.rank}.`)),null!=c&&xJ(4===c.rank||1===c.rank,(()=>`Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank ${c.rank}.`)),R7(i,s,l,c,u,a)}});const _7=p5({bincount_:function(e,t,n){const r=u5(e,"x","bincount"),o=u5(t,"weights","bincount");xJ("int32"===r.dtype,(()=>`Error in bincount: input dtype must be int32, but got ${r.dtype}`)),xJ(n>=0,(()=>`size must be non-negative, but got ${n}.`)),xJ(o.size===r.size||0===o.size,(()=>`Error in bincount: weights must have the same size as input or0-length, but got input shape: ${r.shape}, weights shape: ${o.shape}.`));const a={x:r,weights:o},i={size:n};return J4.runKernel(P0,a,i)}});const F7=p5({bitwiseAnd_:function(e,t){const n=u5(e,"x","bitwiseAnd"),r=u5(t,"y","bitwiseAnd");if(!TJ(n.shape,r.shape))throw new Error(`BitwiseAnd: Tensors must have the same shape. x: ${n.shape}, y: ${r.shape}`);if("int32"!==n.dtype||"int32"!==r.dtype)throw new Error(`BitwiseAnd: Only supports 'int32' values in tensor, found type of x: ${n.dtype} and type of y: ${r.dtype}`);const o={a:n,b:r};return J4.runKernel($0,o)}});const L7=p5({broadcastArgs_:function(e,t){const n=u5(e,"s0","broadcastArgs","int32"),r=u5(t,"s1","broadcastArgs","int32");if(1!==n.rank)throw new Error(`broadcastArgs(): first input must be a vector (rank=1). Has rank ${n.rank}`);if(1!==r.rank)throw new Error(`broadcastArgs(): second input must be a vector (rank=1). Has rank ${r.rank}`);const o={s0:n,s1:r};return J4.runKernel(_0,o)}});const z7=p5({broadcastTo_:function(e,t){let n=u5(e,"broadcastTo","x");const r=n.shape;if(n0(t),t.length<n.rank)throw new Error(`broadcastTo(): shape.length=${t.length} < input.rank=${n.rank}.`);if(t.length>n.rank){const e=n.shape.slice();for(;e.length<t.length;)e.unshift(1);n=A7(n,e)}const o=n.shape,a=Array.from(t);for(let l=t.length-1;l>=0;l--)if(o[l]===t[l])a[l]=1;else if(1!==n.shape[l])throw new Error(`broadcastTo(): [${r}] cannot be broadcast to [${t}].`);if(0===a.map(((e,t)=>e>1?t:-1)).filter((e=>e>=0)).length)return V6(n);const i={x:n},s={reps:a};return J4.runKernel(y3,i,s)}});const B7=p5({ceil_:function(e){const t={x:u5(e,"x","ceil","float32")};return J4.runKernel(L0,t)}});const W7=p5({clipByValue_:function(e,t,n){const r=u5(e,"x","clipByValue");if(xJ(t<=n,(()=>`Error in clip: min (${t}) must be less than or equal to max (${n}).`)),t===n)return f8(r.shape,t,r.dtype);const o={x:r},a={clipValueMin:t,clipValueMax:n};return J4.runKernel(z0,o,a)}});const V7=p5({concat1d_:function(e){return I7(e,0)}});const U7=p5({concat2d_:function(e,t){return I7(e,t)}});const H7=p5({concat3d_:function(e,t){return I7(e,t)}});const G7=p5({concat4d_:function(e,t){return I7(e,t)}});const q7=p5({conv2d_:function(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],i=arguments.length>6?arguments[6]:void 0;const s=u5(e,"x","conv2d","float32"),l=u5(t,"filter","conv2d","float32");let u=s,c=!1;3===s.rank&&(c=!0,u=A7(s,[1,s.shape[0],s.shape[1],s.shape[2]])),xJ(4===u.rank,(()=>`Error in conv2d: input must be rank 4, but got rank ${u.rank}.`)),xJ(4===l.rank,(()=>`Error in conv2d: filter must be rank 4, but got rank ${l.rank}.`)),S7("conv2d",r,i);const d="NHWC"===o?u.shape[3]:u.shape[1];xJ(d===l.shape[2],(()=>`Error in conv2d: depth of input (${d}) must match input depth for filter ${l.shape[2]}.`)),xJ(x7(n,a),(()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${a}'`)),xJ(w7(a),(()=>"Error in conv2D: Dilated rates should be larger than 0.")),xJ(w7(n),(()=>"Error in conv2D: Strides should be larger than 0."));const p={x:u,filter:l},h={strides:n,pad:r,dataFormat:o,dilations:a,dimRoundingMode:i},f=J4.runKernel(U0,p,h);return c?A7(f,[f.shape[1],f.shape[2],f.shape[3]]):f}});const K7=p5({conv1d_:function(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NWC",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,i=arguments.length>6?arguments[6]:void 0;const s=u5(e,"x","conv1d"),l=u5(t,"filter","conv1d");let u=s,c=!1;2===s.rank&&(c=!0,u=A7(s,[1,s.shape[0],s.shape[1]])),xJ(3===u.rank,(()=>`Error in conv1d: input must be rank 3, but got rank ${u.rank}.`)),xJ(3===l.rank,(()=>`Error in conv1d: filter must be rank 3, but got rank ${l.rank}.`)),S7("conv1d",r,i),xJ(u.shape[2]===l.shape[1],(()=>`Error in conv1d: depth of input (${u.shape[2]}) must match input depth for filter ${l.shape[1]}.`)),xJ(x7(n,a),(()=>`Error in conv1D: Either stride or dilation must be 1. Got stride ${n} and dilation '${a}'`)),xJ(w7(a),(()=>"Error in conv1D: Dilated rates should be larger than 0.")),xJ(w7(n),(()=>"Error in conv1D: Stride should be larger than 0.")),xJ("NWC"===o,(()=>`Error in conv1d: got dataFormat of ${o} but only NWC is currently supported.`));const d=A7(l,[1,l.shape[0],l.shape[1],l.shape[2]]),p=A7(u,[u.shape[0],1,u.shape[1],u.shape[2]]),h=q7(p,d,[1,n],r,"NHWC",[1,a],i);return A7(h,c?[h.shape[2],h.shape[3]]:[h.shape[0],h.shape[2],h.shape[3]])}});const X7=p5({conv2DBackpropInput_:function(e,t,n,r,o){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC",i=arguments.length>6?arguments[6]:void 0;xJ(e.length===t.rank,(()=>`Length of inShape (${e.length}) and rank of dy (${t.rank}) must match`));let s=e,l=t,u=!1;3===t.rank&&(u=!0,l=A7(t,[1,t.shape[0],t.shape[1],t.shape[2]]),s=[1,e[0],e[1],e[2]]),xJ(4===s.length,(()=>`Error in conv2dDerInput: inShape must be length 4, but got length ${s.length}.`)),xJ(4===l.rank,(()=>`Error in conv2dDerInput: dy must be rank 4, but got rank ${l.rank}`)),xJ(4===n.rank,(()=>`Error in conv2dDerInput: filter must be rank 4, but got rank ${n.rank}`));const c="NHWC"===a?s[3]:s[1],d="NHWC"===a?l.shape[3]:l.shape[1];xJ(c===n.shape[2],(()=>`Error in conv2dDerInput: depth of input (${c}) must match input depth for filter ${n.shape[2]}.`)),xJ(d===n.shape[3],(()=>`Error in conv2dDerInput: depth of output (${d}) must match output depth for filter ${n.shape[3]}.`)),S7("conv2dDerInput",o,i);const p={dy:l,filter:n},h={strides:r,pad:o,dataFormat:a,dimRoundingMode:i,inputShape:s},f=J4.runKernel(G0,p,h);return u?A7(f,[f.shape[1],f.shape[2],f.shape[3]]):f}});const Y7=p5({conv2dTranspose_:function(e,t,n,r,o,a){const i=u5(e,"x","conv2dTranspose"),s=u5(t,"filter","conv2dTranspose");return X7(n,i,s,r,o,"NHWC",a)}});const Q7=p5({conv3d_:function(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NDHWC",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1,1];const i=u5(e,"x","conv3d"),s=u5(t,"filter","conv3d");let l=i,u=!1;4===i.rank&&(u=!0,l=A7(i,[1,i.shape[0],i.shape[1],i.shape[2],i.shape[3]])),xJ(5===l.rank,(()=>`Error in conv3d: input must be rank 5, but got rank ${l.rank}.`)),xJ(5===s.rank,(()=>`Error in conv3d: filter must be rank 5, but got rank ${s.rank}.`)),xJ(l.shape[4]===s.shape[3],(()=>`Error in conv3d: depth of input (${l.shape[4]}) must match input depth for filter ${s.shape[3]}.`)),xJ(x7(n,a),(()=>`Error in conv3D: Either strides or dilations must be 1. Got strides ${n} and dilations '${a}'`)),xJ("NDHWC"===o,(()=>`Error in conv3d: got dataFormat of ${o} but only NDHWC is currently supported.`)),xJ(w7(a),(()=>"Error in conv3D: Dilated rates should be larger than 0.")),xJ(w7(n),(()=>"Error in conv3D: Strides should be larger than 0."));const c={x:l,filter:s},d={strides:n,pad:r,dataFormat:o,dilations:a},p=J4.runKernel(q0,c,d);return u?A7(p,[p.shape[1],p.shape[2],p.shape[3],p.shape[4]]):p}});const Z7=p5({conv3DBackpropInput_:function(e,t,n,r,o){xJ(e.length===t.rank,(()=>`Length of inShape (${e.length}) and rank of dy (${t.rank}) must match`));let a=e,i=t,s=!1;4===t.rank&&(s=!0,i=A7(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]]),a=[1,e[0],e[1],e[2],e[3]]);const l=a[4],u=i.shape[4];xJ(5===a.length,(()=>`Error in conv3dDerInput: inShape must be length 5, but got length ${a.length}.`)),xJ(5===i.rank,(()=>`Error in conv3dDerInput: dy must be rank 5, but got rank ${i.rank}`)),xJ(5===n.rank,(()=>`Error in conv3dDerInput: filter must be rank 5, but got rank ${n.rank}`)),xJ(l===n.shape[3],(()=>`Error in conv3dDerInput: depth of input (${l}) must match input depth for filter ${n.shape[3]}.`)),xJ(u===n.shape[4],(()=>`Error in conv3dDerInput: depth of output (${u}) must match output depth for filter ${n.shape[4]}.`));const c={dy:i,filter:n},d={pad:o,strides:r,inputShape:a},p=J4.runKernel(X0,c,d);return s?A7(p,[p.shape[1],p.shape[2],p.shape[3],p.shape[4]]):p}});const J7=p5({conv3dTranspose_:function(e,t,n,r,o){const a=u5(e,"x","conv3dTranspose"),i=u5(t,"filter","conv3dTranspose");return Z7(n,a,i,r,o)}});const eee=p5({cos_:function(e){const t={x:u5(e,"x","cos","float32")};return J4.runKernel(Y0,t)}});const tee=p5({cosh_:function(e){const t={x:u5(e,"x","cosh","float32")};return J4.runKernel(Q0,t)}});const nee=p5({cumprod_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o={x:u5(e,"x","cumprod")},a={axis:t,exclusive:n,reverse:r};return J4.runKernel(Z0,o,a)}});const ree=p5({cumsum_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o={x:u5(e,"x","cumsum")},a={axis:t,exclusive:n,reverse:r};return J4.runKernel(J0,o,a)}});const oee=p5({denseBincount_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=u5(e,"x","denseBincount"),a=u5(t,"weights","denseBincount");xJ("int32"===o.dtype,(()=>`Error in denseBincount: input dtype must be int32, but got ${o.dtype}`)),xJ(o.rank<=2,(()=>`Error in denseBincount: input must be at most rank 2, but got rank ${o.rank}.`)),xJ(n>=0,(()=>`size must be non-negative, but got ${n}.`)),xJ(a.size===o.size||0===a.size,(()=>`Error in denseBincount: weights must have the same shape as x or 0-length, but got x shape: ${o.shape}, weights shape: ${a.shape}.`));const i={x:o,weights:a},s={size:n,binaryOutput:r};return J4.runKernel(t1,i,s)}});const aee=p5({depthToSpace_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"NHWC";const r=u5(e,"x","depthToSpace","float32"),o="NHWC"===n?r.shape[1]:r.shape[2],a="NHWC"===n?r.shape[2]:r.shape[3],i="NHWC"===n?r.shape[3]:r.shape[1];xJ(t>1,(()=>`blockSize should be > 1 for depthToSpace, but was: ${t}`)),xJ(o*t>=0,(()=>`Negative dimension size caused by overflow when multiplying\n    ${o} and ${t}  for depthToSpace with input shape\n    ${r.shape}`)),xJ(a*t>=0,(()=>`Negative dimension size caused by overflow when multiplying\n    ${a} and ${t} for depthToSpace with input shape\n        ${r.shape}`)),xJ(i%(t*t)===0,(()=>`Dimension size must be evenly divisible by ${t*t} but is ${i} for depthToSpace with input shape ${r.shape}`));const s={x:r},l={blockSize:t,dataFormat:n};return J4.runKernel(n1,s,l)}});const iee=p5({depthwiseConv2d_:function(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],i=arguments.length>6?arguments[6]:void 0;const s=u5(e,"x","depthwiseConv2d","float32"),l=u5(t,"filter","depthwiseConv2d","float32");let u=s,c=!1;3===s.rank&&(c=!0,u=A7(s,[1,s.shape[0],s.shape[1],s.shape[2]])),xJ(4===u.rank,(()=>`Error in depthwiseConv2d: input must be rank 4, but got rank ${u.rank}.`)),xJ(4===l.rank,(()=>`Error in depthwiseConv2d: filter must be rank 4, but got rank ${l.rank}.`));const d="NHWC"===o?u.shape[3]:u.shape[1];xJ(d===l.shape[2],(()=>`Error in depthwiseConv2d: number of input channels (${d}) must match the inChannels dimension in filter ${l.shape[2]}.`)),S7("depthwiseConv2d",r,i);const p={x:u,filter:l},h={strides:n,pad:r,dataFormat:o,dilations:a,dimRoundingMode:i},f=J4.runKernel(r1,p,h);return c?A7(f,[f.shape[1],f.shape[2],f.shape[3]]):f}});const see=p5({diag_:function(e){const t={x:u5(e,"x","diag")};return J4.runKernel(i1,t)}});const lee=p5({dilation2d_:function(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[1,1],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC";const i=u5(e,"x","dilation2d"),s=u5(t,"filter","dilation2d");xJ(3===i.rank||4===i.rank,(()=>`Error in dilation2d: input must be rank 3 or 4, but got rank ${i.rank}.`)),xJ(3===s.rank,(()=>`Error in dilation2d: filter must be rank 3, but got rank ${s.rank}.`)),xJ("NHWC"===a,(()=>`Error in dilation2d: Only NHWC is currently supported, but got dataFormat of ${a}`));let l=i,u=!1;3===i.rank&&(l=A7(i,[1,i.shape[0],i.shape[1],i.shape[2]]),u=!0),xJ(l.shape[3]===s.shape[2],(()=>`Error in dilation2d:  input and filter must have the same depth: ${l.shape[3]} vs ${s.shape[2]}`));const c={x:l,filter:s},d={strides:n,pad:r,dilations:o},p=J4.runKernel(s1,c,d);return u?A7(p,[p.shape[1],p.shape[2],p.shape[3]]):p}});const uee=p5({equal_:function(e,t){let n=u5(e,"a","equal","string_or_numeric"),r=u5(t,"b","equal","string_or_numeric");[n,r]=U4(n,r),k8(n.shape,r.shape);const o={a:n,b:r};return J4.runKernel(g1,o)}});const cee=p5({where_:function(e,t,n){const r=u5(t,"a","where"),o=u5(n,"b","where"),a=u5(e,"condition","where","bool"),i=k8(k8(a.shape,r.shape),o.shape),s={condition:z7(a,i),t:z7(r,i),e:z7(o,i)};return J4.runKernel(V2,s)}});const dee=p5({divNoNan_:function(e,t){let n=u5(e,"a","div"),r=u5(t,"b","div");[n,r]=U4(n,r);const o=q6(n,r),a=Q6(o),i=uee(r,a);return cee(i,a,o)}});const pee=p5({dot_:function(e,t){const n=u5(e,"t1","dot"),r=u5(t,"t2","dot");xJ((1===n.rank||2===n.rank)&&(1===r.rank||2===r.rank),(()=>`Error in dot: inputs must all be rank 1 or 2, but got ranks ${n.rank} and ${r.rank}.`));const o=1===n.rank?n.size:n.shape[1],a=1===r.rank?r.size:r.shape[0];if(xJ(o===a,(()=>`Error in dot: inner dimensions of inputs must match, but got ${o} and ${a}.`)),1===n.rank&&1===r.rank){const e=A7(n,[1,-1]),t=A7(r,[-1,1]),o=X8(e,t);return A7(o,[])}if(1===n.rank&&2===r.rank){const e=A7(n,[1,-1]),t=A7(r,[r.shape[0],r.shape[1]]),o=X8(e,t);return A7(o,[o.size])}if(2===n.rank&&1===r.rank){const e=A7(r,[-1,1]),t=X8(n,e);return A7(t,[t.size])}{const e=A7(r,[r.shape[0],r.shape[1]]);return X8(n,e)}}});const hee=p5({einsum_:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const o=n.map(((e,t)=>u5(e,`tensors${t}`,"einsum"))),a={equation:e};return J4.runKernel(p1,o,a)}});const fee=p5({elu_:function(e){const t={x:u5(e,"x","elu","float32")};return J4.runKernel(h1,t)}});const mee=p5({ensureShape_:function(e,t){const n=u5(e,"x","ensureShape","string_or_numeric");if(!CJ(n.shape,t))throw new Error(`EnsureShape: Shape of tensor ${n.shape} is not compatible with expected shape ${t}`);return e}});const gee=p5({erf_:function(e){let t=u5(e,"x","erf");xJ("int32"===t.dtype||"float32"===t.dtype,(()=>"Input dtype must be `int32` or `float32`.")),"int32"===t.dtype&&(t=W6(t,"float32"));const n={x:t};return J4.runKernel(m1,n)}});function yee(e,t){for(let n=0;n<e.length;++n)if(e[e.length-n-1]!==t-1-n)return!1;return!0}function vee(e,t,n){const r=e.length+t.length,o=[];let a=0,i=0;for(let s=0;s<r;s++)-1===n.indexOf(s)?o.push(e[a++]):o.push(t[i++]);return o}function bee(e,t){const n=[],r=e.length;for(let o=0;o<r;o++)-1===t.indexOf(o)&&n.push(e[o]);return[n,t.map((t=>e[t]))]}function xee(e,t){return vee(e,t.map((e=>1)),t)}function wee(e,t,n){xJ(yee(t,n),(()=>`${e} supports only inner-most axes for now. Got axes ${t} and rank-${n} input.`))}function kee(e,t){if(yee(e,t))return null;const n=[];for(let r=0;r<t;++r)-1===e.indexOf(r)&&n.push(r);return e.forEach((e=>n.push(e))),n}function See(e){return e.map(((e,t)=>[t,e])).sort(((e,t)=>e[1]-t[1])).map((e=>e[0]))}function Aee(e,t){const n=[];for(let r=t-e;r<t;++r)n.push(r);return n}const Cee=p5({max_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r={x:u5(e,"x","max")},o={reductionIndices:t,keepDims:n};return J4.runKernel(Q1,r,o)}});const Tee=p5({min_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r={x:u5(e,"x","min")},o={axis:t,keepDims:n};return J4.runKernel(a2,r,o)}});const Iee=p5({sum_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=u5(e,"x","sum");"bool"===r.dtype&&(r=W6(r,"int32"));const o={x:r},a={axis:t,keepDims:n};return J4.runKernel(Z2,o,a)}});function Eee(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(0===e.rank)return b8(e);if(1!==e.rank&&null===n)return Eee(A7(e,[-1]),t,n);if(1===e.rank||"number"===typeof n||Array.isArray(n)&&1===n.length){if(1===t)return Iee(b8(e),n);if(t===1/0)return Cee(b8(e),n);if(t===-1/0)return Tee(b8(e),n);if("euclidean"===t||2===t)return X6(Iee(g8(b8(e),a8(2,"int32")),n));throw new Error(`Error in norm: invalid ord value: ${t}`)}if(Array.isArray(n)&&2===n.length){if(1===t)return Cee(Iee(b8(e),n[0]),n[1]-1);if(t===1/0)return Cee(Iee(b8(e),n[1]),n[0]);if(t===-1/0)return Tee(Iee(b8(e),n[1]),n[0]);if("fro"===t||"euclidean"===t)return X6(Iee(Y6(e),n));throw new Error(`Error in norm: invalid ord value: ${t}`)}throw new Error(`Error in norm: invalid axis: ${n}`)}const Nee=p5({norm_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"euclidean",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=Eee(e=u5(e,"x","norm"),t,n);let a=o.shape;if(r){const t=PJ(n,e.shape);a=xee(o.shape,t)}return A7(o,a)}});const Oee=p5({euclideanNorm_:function(e){return Nee(e,"euclidean",arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]&&arguments[2])}});const Mee=p5({exp_:function(e){const t={x:u5(e,"x","exp")};return J4.runKernel(y1,t)}});const Dee=p5({expandDims_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=u5(e,"x","expandDims","string_or_numeric");xJ(t<=n.rank,(()=>"Axis must be <= rank of the tensor"));const r={input:n},o={dim:t};return J4.runKernel(v1,r,o)}});const Ree=p5({expm1_:function(e){const t={x:u5(e,"x","expm1")};return J4.runKernel(b1,t)}});const Pee=p5({tile_:function(e,t){const n=u5(e,"x","tile","string_or_numeric");xJ(n.rank===t.length,(()=>`Error in transpose: rank of input ${n.rank} must match length of reps ${t}.`));const r={x:n},o={reps:t};return J4.runKernel(y3,r,o)}});const $ee=p5({eye_:function(e,t,n){null==t&&(t=e);const r=B6([e,t],arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32"),o=e<=t?e:t;for(let i=0;i<o;++i)r.set(1,i,i);const a=A7(r.toTensor(),[e,t]);if(null==n)return a;if(1===n.length)return Pee(Dee(a,0),[n[0],1,1]);if(2===n.length)return Pee(Dee(Dee(a,0),0),[n[0],n[1],1,1]);if(3===n.length)return Pee(Dee(Dee(Dee(a,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error(`eye() currently supports only 1D and 2D batchShapes, but received ${n.length}D.`)}});const jee=p5({floor_:function(e){const t={x:u5(e,"x","floor","float32")};return J4.runKernel(S1,t)}});const _ee=p5({gather_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const o={x:u5(e,"x","gather"),indices:u5(t,"indices","gather","int32")},a={axis:n,batchDims:r};return J4.runKernel(T1,o,a)}});const Fee=p5({greater_:function(e,t){let n=u5(e,"a","greater","string_or_numeric"),r=u5(t,"b","greater","string_or_numeric");[n,r]=U4(n,r),k8(n.shape,r.shape);const o={a:n,b:r};return J4.runKernel(E1,o)}});const Lee=p5({greaterEqual_:function(e,t){let n=u5(e,"a","greaterEqual","string_or_numeric"),r=u5(t,"b","greaterEqual","string_or_numeric");[n,r]=U4(n,r),k8(n.shape,r.shape);const o={a:n,b:r};return J4.runKernel(N1,o)}});const zee=p5({isFinite_:function(e){const t={x:u5(e,"x","isFinite")};return J4.runKernel(R1,t)}});const Bee=p5({isInf_:function(e){const t={x:u5(e,"x","isInf")};return J4.runKernel(P1,t)}});const Wee=p5({isNaN_:function(e){const t={x:u5(e,"x","isNaN")};return J4.runKernel($1,t)}});const Vee=p5({leakyRelu_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2;const n={x:u5(e,"x","leakyRelu")},r={alpha:t};return J4.runKernel(j1,n,r)}});const Uee=p5({less_:function(e,t){let n=u5(e,"a","less","string_or_numeric"),r=u5(t,"b","less","string_or_numeric");[n,r]=U4(n,r),k8(n.shape,r.shape);const o={a:n,b:r};return J4.runKernel(_1,o)}});const Hee=p5({lessEqual_:function(e,t){let n=u5(e,"a","lessEqual","string_or_numeric"),r=u5(t,"b","lessEqual","string_or_numeric");[n,r]=U4(n,r),k8(n.shape,r.shape);const o={a:n,b:r};return J4.runKernel(F1,o)}});function Gee(e,t,n){if(n<=0)throw new Error("The number of values should be positive.");const r={start:e,stop:t,num:n};return J4.runKernel(L1,{},r)}const qee=p5({localResponseNormalization_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5;const a=u5(e,"x","localResponseNormalization");xJ(4===a.rank||3===a.rank,(()=>`Error in localResponseNormalization: x must be rank 3 or 4 but got\n               rank ${a.rank}.`)),xJ(IJ(t),(()=>`Error in localResponseNormalization: depthRadius must be an integer but got depthRadius ${t}.`));let i=a,s=!1;3===a.rank&&(s=!0,i=A7(a,[1,a.shape[0],a.shape[1],a.shape[2]]));const l={x:i},u={depthRadius:t,bias:n,alpha:r,beta:o},c=J4.runKernel(K1,l,u);return s?A7(c,[c.shape[1],c.shape[2],c.shape[3]]):c}});const Kee=p5({log_:function(e){const t={x:u5(e,"x","log","float32")};return J4.runKernel(z1,t)}});const Xee=p5({log1p_:function(e){const t={x:u5(e,"x","log1p")};return J4.runKernel(B1,t)}});const Yee=p5({softplus_:function(e){const t={x:u5(e,"x","softplus")};return J4.runKernel(Y2,t)}});const Qee=p5({logSigmoid_:function(e){const t=u5(e,"x","logSigmoid");return r8((e=>({value:Z8(Yee(Z8(e))),gradFunc:t=>K6(t,E7(Z8(e)))})))(t)}});const Zee=p5({logSoftmax_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;const n=u5(e,"logits","logSoftmax");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error(`Log Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and axis was ${t}`);return r8(((e,n)=>{const r=Cee(e,t,!0),o=y8(e,r),a=y8(W6(o,"float32"),Kee(Iee(Mee(o),t,!0)));n([a]);return{value:a,gradFunc:(e,n)=>{const[r]=n,o=Mee(r);return y8(e,K6(Iee(e,t,!0),o))}}}))(n)}});const Jee=p5({logSumExp_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=u5(e,"x","logSumExp"),o=PJ(t,r.shape),a=Cee(r,o,!0),i=y8(r,a),s=Mee(i),l=Iee(s,o),u=Kee(l),c=H6(A7(a,u.shape),u);if(n){const e=xee(c.shape,o);return A7(c,e)}return c}});const ete=p5({logicalAnd_:function(e,t){const n=u5(e,"a","logicalAnd","bool"),r=u5(t,"b","logicalAnd","bool");k8(n.shape,r.shape);const o={a:n,b:r};return J4.runKernel(W1,o)}});const tte=p5({logicalNot_:function(e){const t={x:u5(e,"x","logicalNot","bool")};return J4.runKernel(V1,t)}});const nte=p5({logicalOr_:function(e,t){const n=u5(e,"a","logicalOr","bool"),r=u5(t,"b","logicalOr","bool");k8(n.shape,r.shape);const o={a:n,b:r};return J4.runKernel(U1,o)}});const rte=p5({logicalXor_:function(e,t){const n=u5(e,"a","logicalXor","bool"),r=u5(t,"b","logicalXor","bool");return k8(n.shape,r.shape),ete(nte(e,t),tte(ete(e,t)))}}),ote=2147483648;const ate=p5({searchSorted_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"left";const r=u5(e,"sortedSequence","searchSorted"),o=u5(t,"values","searchSorted"),a=r.shape[r.shape.length-1],i=o.shape[o.shape.length-1],s=A7(r,[-1,a]),l=A7(o,[-1,i]);if(s.rank<2)throw new Error("Sorted input argument must be at least 2-dimensional");if(s.shape[0]!==l.shape[0])throw new Error("Leading dimension of 'sortedSequence' and 'values' must match.");if(SJ(l.shape)>=ote)throw new Error("values tensor size must less than 2147483648");if(s.shape[1]>=ote)throw new Error(`trailing dim_size must less than 2147483648 for int32 output type, was ${s.shape[1]}`);const u={sortedSequence:s,values:l},c={side:n};return J4.runKernel(W2,u,c)}});function ite(e,t){return ate(e,t,"left")}const ste=p5({maxPool_:function(e,t,n,r,o){const a=u5(e,"x","maxPool");let i=a,s=!1;3===a.rank&&(s=!0,i=A7(a,[1,a.shape[0],a.shape[1],a.shape[2]])),xJ(4===i.rank,(()=>`Error in maxPool: input must be rank 4 but got rank ${i.rank}.`)),xJ(x7(n,1),(()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${n} and dilations '1'`)),S7("maxPool",r,o);const l={x:i},u={filterSize:t,strides:n,pad:r,dimRoundingMode:o},c=J4.runKernel(J1,l,u);return s?A7(c,[c.shape[1],c.shape[2],c.shape[3]]):c}});const lte=p5({maxPool3d_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[1,1,1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NDHWC";const i=u5(e,"x","maxPool3d");let s=i,l=!1;4===i.rank&&(l=!0,s=A7(i,[1,i.shape[0],i.shape[1],i.shape[2],i.shape[3]])),xJ(5===s.rank,(()=>`Error in maxPool3d: x must be rank 5 but got rank ${s.rank}.`)),xJ("NDHWC"===a,(()=>`Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of ${a}`)),S7("maxPool3d",r,o);const u={x:s},c={filterSize:t,strides:n,pad:r,dimRoundingMode:o,dataFormat:a},d=J4.runKernel(t2,u,c);return l?A7(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}});const ute=p5({maxPoolWithArgmax_:function(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const a={x:u5(e,"x","maxPoolWithArgmax")},i={filterSize:t,strides:n,pad:r,includeBatchInIndex:o},s=J4.runKernel(r2,a,i);return{result:s[0],indexes:s[1]}}});const cte=p5({mean_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r={x:u5(e,"x","mean")},o={axis:t,keepDims:n};return J4.runKernel(o2,r,o)}});function dte(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32";if(n0(e),"complex64"===t){const t=dte(e,"float32"),n=dte(e,"float32");return h5(t,n)}const n=e0(SJ(e),t);return J4.makeTensor(n,e,t)}function pte(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32";if(n0(e),"complex64"===t){const t=pte(e,"float32"),n=dte(e,"float32");return h5(t,n)}const n=JJ(SJ(e),t);return J4.makeTensor(n,e,t)}function hte(e,t){let{indexing:n="xy"}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("xy"!==n&&"ij"!==n)throw new TypeError(`${n} is not a valid third argument to meshgrid`);if(void 0===e)return[];let r=u5(e,"x","meshgrid",e instanceof T4?e.dtype:"float32");if(void 0===t)return[r];let o=u5(t,"y","meshgrid",t instanceof T4?t.dtype:"float32");const a=SJ(r.shape),i=SJ(o.shape);return"xy"===n?(r=A7(r,[1,-1]),o=A7(o,[-1,1]),[X8(pte([i,1],r.dtype),r),X8(o,pte([1,a],o.dtype))]):(r=A7(r,[-1,1]),o=A7(o,[1,-1]),[X8(r,pte([1,i],r.dtype)),X8(pte([a,1],o.dtype),o)])}const fte=p5({minimum_:function(e,t){let n=u5(e,"a","minimum"),r=u5(t,"b","minimum");[n,r]=U4(n,r),"bool"===n.dtype&&(n=W6(n,"int32"),r=W6(r,"int32")),k8(n.shape,r.shape);const o={a:n,b:r};return J4.runKernel(i2,o)}});const mte=p5({mirrorPad_:function(e,t,n){xJ("reflect"===n||"symmetric"===n,(()=>`Invalid mode. Mode must be either reflect or symmetric. Got ${n}.`));const r=u5(e,"x","mirrorPad");if(0===r.rank)throw new Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");xJ(t.length===r.rank,(()=>`Padding doesn't match input. Must be ${r.rank}. Got ${t.length}.`));const o="reflect"===n?1:0;for(let s=0;s<r.rank;s++)xJ(2===t[s].length,(()=>"Invalid number of paddings. Must be length of 2 each.")),xJ(t[s][0]>=0&&t[s][0]<=r.shape[s]-o&&t[s][1]>=0&&t[s][1]<=r.shape[s]-o,(()=>`Padding in dimension ${s} cannot be greater than or equal to ${r.shape[s]-o} or less than 0 for input of shape ${r.shape}`));const a={paddings:t,mode:n},i={x:r};return J4.runKernel(s2,i,a)}});const gte=p5({mod_:function(e,t){let n=u5(e,"a","mod"),r=u5(t,"b","mod");[n,r]=U4(n,r);const o={a:n,b:r};return J4.runKernel(l2,o)}});const yte=p5({moments_:function(e){let t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=PJ(arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,(e=u5(e,"x","moments")).shape),r=cte(e,n,t);let o=r.shape;t||(o=xee(r.shape,n));const a=Y6(y8(W6(e,"float32"),A7(r,o)));return{mean:r,variance:cte(a,n,t)}}});const vte=p5({multiRNNCell_:function(e,t,n,r){const o=u5(t,"data","multiRNNCell"),a=c5(n,"c","multiRNNCell"),i=c5(r,"h","multiRNNCell");let s=o;const l=[];for(let d=0;d<e.length;d++){const t=e[d](s,a[d],i[d]);l.push(t[0]),l.push(t[1]),s=t[1]}const u=[],c=[];for(let d=0;d<l.length;d+=2)u.push(l[d]),c.push(l[d+1]);return[u,c]}});const bte=p5({multinomial_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=u5(e,"logits","multinomial"),a=o.size,i=o.rank;if(a<2)throw new Error(`Error in multinomial: you need at least 2 outcomes, but got ${a}.`);if(i>2)throw new Error(`Rank of probabilities must be 1 or 2, but is ${i}`);n=n||Math.random();const s={logits:1===i?A7(o,[1,-1]):o},l={numSamples:t,seed:n,normalized:r},u=J4.runKernel(u2,s,l);return 1===i?A7(u,[u.size]):u}});const xte=p5({notEqual_:function(e,t){let n=u5(e,"a","notEqual","string_or_numeric"),r=u5(t,"b","notEqual","string_or_numeric");[n,r]=U4(n,r),k8(n.shape,r.shape);const o={a:n,b:r};return J4.runKernel(p2,o)}});const wte=p5({onesLike_:function(e){const t={x:u5(e,"x","onesLike")};return J4.runKernel(g2,t)}});const kte=p5({outerProduct_:function(e,t){const n=u5(e,"v1","outerProduct"),r=u5(t,"v2","outerProduct");xJ(1===n.rank&&1===r.rank,(()=>`Error in outerProduct: inputs must be rank 1, but got ranks ${n.rank} and ${r.rank}.`));const o=A7(n,[-1,1]),a=A7(r,[1,-1]);return X8(o,a)}});const Ste=p5({pad_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=u5(e,"x","pad");if(0===r.rank)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");const o={paddings:t,constantValue:n},a={x:r};return J4.runKernel(b2,a,o)}});const Ate=p5({pad1d_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return xJ(2===t.length,(()=>"Invalid number of paddings. Must be length of 2.")),Ste(e,[t],n)}});const Cte=p5({pad2d_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return xJ(2===t.length&&2===t[0].length&&2===t[1].length,(()=>"Invalid number of paddings. Must be length of 2 each.")),Ste(e,t,n)}});const Tte=p5({pad3d_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return xJ(3===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length,(()=>"Invalid number of paddings. Must be length of 2 each.")),Ste(e,t,n)}});const Ite=p5({pad4d_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return xJ(4===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length&&2===t[3].length,(()=>"Invalid number of paddings. Must be length of 2 each.")),Ste(e,t,n)}});const Ete=p5({spaceToBatchND_:function(e,t,n){const r=u5(e,"x","spaceToBatchND");xJ(r.rank>=1+t.length,(()=>`input rank ${r.rank} should be > than [blockShape] ${t.length}`)),xJ(n.length===t.length,(()=>`paddings.shape[0] ${n.length} must be equal to [blockShape] ${t.length}`)),xJ(r.shape.reduce(((e,r,o)=>o>0&&o<=t.length?e&&(r+n[o-1][0]+n[o-1][1])%t[o-1]===0:e),!0),(()=>`input spatial dimensions ${r.shape.slice(1)} with paddings ${n.toString()} must be divisible by blockShapes ${t.toString()}`));const o={x:r},a={blockShape:t,paddings:n};return J4.runKernel(J2,o,a)}});const Nte=p5({pool_:function(e,t,n,r,o,a,i){null==o&&(o=[1,1]),null==a&&(a=1),0===r&&(r="valid");const s=u5(e,"x","maxPool");let l=s,u=!1;3===s.rank&&(u=!0,l=A7(s,[1,s.shape[0],s.shape[1],s.shape[2]])),xJ(x7(a,o),(()=>`Error in pool: Either strides or dilations must be 1. Got strides ${a} and dilations '${o}'`));const c=c7(l.shape,t,a,o,r),d=[c.dilationHeight,c.dilationWidth];let p;p="same"===r?function(e,t){const n=e.map(((e,n)=>e+(e-1)*(t[n]-1))),r=n.map((e=>e-1)),o=r.map((e=>Math.floor(e/2))),a=r.map(((e,t)=>e-o[t]));return r.map(((e,t)=>[o[t],a[t]]))}([c.filterHeight,c.filterWidth],d):[[0,0],[0,0]];const h=1===d[0]&&1===d[1],[f,m]=function(e,t,n){const r=n.map((e=>e[0])),o=n.map((e=>e[1])),a=e.concat(r,o),i=t.map(((e,t)=>(e-a[t]%e)%e)),s=o.map(((e,t)=>e+i[t])),l=t.map(((e,t)=>[r[t],s[t]])),u=t.map(((e,t)=>[0,i[t]]));return[l,u]}([c.inHeight,c.inWidth],d,p),g=h?r:"valid",y=h?l:Ete(l,d,f),v=("avg"===n?()=>C7(y,t,a,g,i):()=>ste(y,t,a,g,i))(),b=h?v:D7(v,d,m);return u?A7(b,[b.shape[1],b.shape[2],b.shape[3]]):b}});const Ote=p5({prelu_:function(e,t){const n={x:u5(e,"x","prelu"),alpha:u5(t,"alpha","prelu")};return J4.runKernel(k2,n)}});const Mte=p5({prod_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=u5(e,"x","prod");"bool"===r.dtype&&(r=W6(r,"int32"));const o={x:r},a={axis:t,keepDims:n};return J4.runKernel(S2,o,a)}});const Dte=p5({raggedGather_:function(e,t,n,r){const o={paramsNestedSplits:e.map(((e,t)=>u5(e,`tensors${t}`,"raggedGather","int32"))),paramsDenseValues:u5(t,"paramsDenseValues","raggedGather"),indices:u5(n,"indices","raggedGather","int32")},a={outputRaggedRank:r},i=J4.runKernel(A2,o,a);return{outputNestedSplits:i.slice(0,i.length-1),outputDenseValues:i[i.length-1]}}});const Rte=p5({raggedRange_:function(e,t,n){const r=u5(e,"starts","raggedRange"),o={starts:r,limits:u5(t,"limits","raggedRange",r.dtype),deltas:u5(n,"deltas","raggedRange",r.dtype)},a=J4.runKernel(C2,o);return{rtNestedSplits:a[0],rtDenseValues:a[1]}}});const Pte=p5({raggedTensorToTensor_:function(e,t,n,r,o){const a=u5(e,"shape","raggedTensorToTensor","int32"),i=u5(t,"values","raggedTensorToTensor"),s={shape:a,values:i,defaultValue:u5(n,"defaultValue","raggedTensorToTensor",i.dtype),rowPartitionTensors:r.map(((e,t)=>u5(e,`tensors${t}`,"raggedTensorToTensor","int32")))},l={rowPartitionTypes:o};return J4.runKernel(T2,s,l)}});const $te=p5({rand_:function(e,t,n){n0(e);const r=SJ(e);let o=null;if(null==n||"float32"===n)o=new Float32Array(r);else if("int32"===n)o=new Int32Array(r);else{if("bool"!==n)throw new Error(`Unknown data type ${n}`);o=new Uint8Array(r)}for(let a=0;a<r;a++)o[a]=t();return J4.makeTensor(o,e,n)}});var jte=n(4334);class _te{constructor(e,t,n,r,o){this.mean=e,this.stdDev=t,this.dtype=n,this.nextVal=NaN,this.truncated=r,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);const a=o||Math.random();this.random=jte.alea(a.toString())}nextValue(){if(!isNaN(this.nextVal)){const e=this.nextVal;return this.nextVal=NaN,e}let e,t,n=!1;for(;!n;){let r,o,a;do{r=2*this.random()-1,o=2*this.random()-1,a=r*r+o*o}while(a>=1||0===a);const i=Math.sqrt(-2*Math.log(a)/a);e=this.mean+this.stdDev*r*i,t=this.mean+this.stdDev*o*i,this.truncated&&!this.isValidTruncated(e)||(n=!0)}return this.truncated&&!this.isValidTruncated(t)||(this.nextVal=this.convertValue(t)),this.convertValue(e)}convertValue(e){return null==this.dtype||"float32"===this.dtype?e:Math.round(e)}isValidTruncated(e){return e<=this.upper&&e>=this.lower}}class Fte{constructor(e,t,n,r){this.alpha=e,this.beta=1/t,this.dtype=n;const o=r||Math.random();this.randu=jte.alea(o.toString()),this.randn=new _te(0,1,n,!1,this.randu()),this.d=e<1?e+2/3:e-1/3,this.c=1/Math.sqrt(9*this.d)}nextValue(){let e,t,n,r,o,a;for(;;){do{r=this.randn.nextValue(),a=1+this.c*r}while(a<=0);if(a*=a*a,e=r*r,t=1-.331*e*e,n=.5*e+this.d*(1-a+Math.log(a)),o=this.randu(),o<t||Math.log(o)<n)break}return a=1/this.beta*this.d*a,this.alpha<1&&(a*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(a)}convertValue(e){return"float32"===this.dtype?e:Math.round(e)}}class Lte{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;if(this.canReturnFloat=()=>null==this.dtype||"float32"===this.dtype,this.min=e,this.range=t-e,this.dtype=n,null==r&&(r=Math.random()),"number"===typeof r&&(r=r.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error(`The difference between ${e} - ${t} <= 1 and dtype is not float`);this.random=jte.alea(r)}convertValue(e){return this.canReturnFloat()?e:Math.round(e)}nextValue(){return this.convertValue(this.min+this.range*this.random())}}const zte=p5({randomGamma_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32",o=arguments.length>4?arguments[4]:void 0;if(n0(e),null==n&&(n=1),null==r&&(r="float32"),"float32"!==r&&"int32"!==r)throw new Error(`Unsupported data type ${r}`);const a=new Fte(t,n,r,o),i=B6(e,r);for(let s=0;s<i.values.length;s++)i.values[s]=a.nextValue();return i.toTensor()}});const Bte=p5({randomNormal_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;if(n0(e),null!=r&&"bool"===r)throw new Error(`Unsupported data type ${r}`);const a=new _te(t,n,r,!1,o),i=B6(e,r);for(let s=0;s<i.values.length;s++)i.values[s]=a.nextValue();return i.toTensor()}});const Wte=p5({randomStandardNormal_:function(e,t,n){if(null!=t&&"bool"===t)throw new Error(`Unsupported data type ${t}`);return Bte(e,0,1,t,n)}});const Vte=p5({randomUniform_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32",o=arguments.length>4?arguments[4]:void 0;n0(e);const a=B6(e,r),i=new Lte(t,n,null,o);for(let s=0;s<a.values.length;s++)a.values[s]=i.nextValue();return a.toTensor()}});const Ute=p5({randomUniformInt_:function(e,t,n,r){return Vte(e,t,n,"int32",r)}});function Hte(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32";if(0===n)throw new Error("Cannot have a step of zero");const o={start:e,stop:t,step:n,dtype:r};return J4.runKernel(I2,{},o)}const Gte=p5({reciprocal_:function(e){const t={x:u5(e,"x","reciprocal")};return J4.runKernel(N2,t)}});const qte=p5({relu_:function(e){const t={x:u5(e,"x","relu")};return J4.runKernel(O2,t)}});const Kte=p5({relu6_:function(e){const t={x:u5(e,"x","relu6")};return J4.runKernel(j2,t)}});const Xte=p5({reverse_:function(e,t){const n={x:u5(e,"x","reverse")},r={dims:t};return J4.runKernel(_2,n,r)}});const Yte=p5({reverse1d_:function(e){const t=u5(e,"x","reverse");return xJ(1===t.rank,(()=>`Error in reverse1D: x must be rank 1 but got rank ${t.rank}.`)),Xte(t,0)}});const Qte=p5({reverse2d_:function(e,t){const n=u5(e,"x","reverse");return xJ(2===n.rank,(()=>`Error in reverse2D: x must be rank 2 but got rank ${n.rank}.`)),Xte(n,t)}});const Zte=p5({reverse3d_:function(e,t){const n=u5(e,"x","reverse");return xJ(3===n.rank,(()=>`Error in reverse3D: x must be rank 3 but got rank ${n.rank}.`)),Xte(n,t)}});const Jte=p5({reverse4d_:function(e,t){const n=u5(e,"x","reverse");return xJ(4===n.rank,(()=>`Error in reverse4D: x must be rank 4 but got rank ${n.rank}.`)),Xte(n,t)}});const ene=p5({round_:function(e){const t={x:u5(e,"x","round")};return J4.runKernel(F2,t)}});const tne=p5({rsqrt_:function(e){const t={x:u5(e,"x","rsqrt","float32")};return J4.runKernel(L2,t)}});const nne=p5({selu_:function(e){const t={x:u5(e,"x","selu")};return J4.runKernel(U2,t)}});const rne=p5({separableConv2d_:function(e,t,n,r,o){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"NHWC";const s=u5(e,"x","separableConv2d"),l=u5(t,"depthwiseFilter","separableConv2d"),u=u5(n,"pointwiseFilter","separableConv2d");let c=s,d=!1;if(3===s.rank&&(d=!0,c=A7(s,[1,s.shape[0],s.shape[1],s.shape[2]])),"NCHW"===i)throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");xJ(4===c.rank,(()=>`Error in separableConv2d: input must be rank 4, but got rank ${c.rank}.`)),xJ(4===l.rank,(()=>`Error in separableConv2d: depthwise filter must be rank 4, but got rank ${l.rank}.`)),xJ(4===u.rank,(()=>`Error in separableConv2d: pointwise filter must be rank 4, but got rank ${l.rank}.`)),xJ(1===u.shape[0],(()=>`Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got ${u.shape[0]}.`)),xJ(1===u.shape[1],(()=>`Error in separableConv2d: the second dimension of pointwise filter must be 1, but got ${u.shape[1]}.`));const p=l.shape[2],h=l.shape[3];xJ(u.shape[2]===p*h,(()=>`Error in separableConv2d: the third dimension of pointwise filter must be ${p*h}, but got ${u.shape[2]}.`));const f=iee(c,l,r,o,i,a),m=q7(f,u,1,"valid",i);return d?A7(m,[m.shape[1],m.shape[2],m.shape[3]]):m}});const one=async function(e,t){const n=u5(e,"x","setdiff1d"),r=u5(t,"y","setdiff1d");xJ(n.dtype===r.dtype,(()=>`x and y should have the same dtype, but got x (${n.dtype}) and y (${r.dtype}).`)),xJ(1===n.rank,(()=>`x should be 1D tensor, but got x (${n.shape}).`)),xJ(1===r.rank,(()=>`y should be 1D tensor, but got y (${r.shape}).`));const o=await n.data(),a=await r.data(),i=new Set(a);let s=0;for(let c=0;c<o.length;c++)i.has(o[c])||s++;const l=new k4([s],n.dtype),u=new k4([s],"int32");for(let c=0,d=0;c<o.length;c++)i.has(o[c])||(l.values[d]=o[c],u.values[d]=c,d++);return[l.toTensor(),u.toTensor()]};const ane=p5({sign_:function(e){const t={x:u5(e,"x","sign")};return J4.runKernel(K2,t)}});const ine=p5({sin_:function(e){const t={x:u5(e,"x","sin","float32")};return J4.runKernel(G2,t)}});const sne=p5({sinh_:function(e){const t={x:u5(e,"x","sinh")};return J4.runKernel(q2,t)}});const lne=p5({slice1d_:function(e,t,n){const r=u5(e,"x","slice1d");return xJ(1===r.rank,(()=>`slice1d expects a rank-1 tensor, but got a rank-${r.rank} tensor`)),N7(r,[t],[n])}});const une=p5({slice2d_:function(e,t,n){const r=u5(e,"x","slice2d");return xJ(2===r.rank,(()=>`slice2d expects a rank-2 tensor, but got a rank-${r.rank} tensor`)),N7(r,t,n)}});const cne=p5({slice3d_:function(e,t,n){const r=u5(e,"x","slice3d");return xJ(3===r.rank,(()=>`slice3d expects a rank-3 tensor, but got a rank-${r.rank} tensor`)),N7(r,t,n)}});const dne=p5({slice4d_:function(e,t,n){const r=u5(e,"x","slice4d");return xJ(4===r.rank,(()=>`slice4d expects a rank-4 tensor, but got a rank-${r.rank} tensor`)),N7(r,t,n)}});const pne=p5({softmax_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;const n=u5(e,"logits","softmax","float32");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and dim was ${t}`);const r={logits:n},o={dim:t};return J4.runKernel(t3,r,o)}});const hne=p5({fft_:function(e){xJ("complex64"===e.dtype,(()=>`The dtype for tf.spectral.fft() must be complex64 but got ${e.dtype}.`));const t={input:e};return J4.runKernel(x1,t)}});const fne=p5({ifft_:function(e){xJ("complex64"===e.dtype,(()=>`The dtype for tf.spectral.ifft() must be complex64 but got ${e.dtype}.`));const t={input:e};return J4.runKernel(M1,t)}});const mne=p5({irfft_:function(e){const t=e.shape[e.shape.length-1],n=e.size/t;let r;if(t<=2){const o=A7(e,[n,t]);r=fne(o)}else{const o=[n,2*(t-1)],a=A7(J8(e),[n,t]),i=A7(Q8(e),[n,t]),s=Xte(N7(a,[0,1],[n,t-2]),1),l=K6(Xte(N7(i,[0,1],[n,t-2]),1),a8(-1)),u=I7([a,s],1),c=I7([i,l],1),d=A7(h5(u,c),[o[0],o[1]]);r=fne(d)}if(r=J8(r),3===e.rank&&0!==e.shape[0]){const t=r,n=e.shape[0];r=A7(r,[n,r.shape[0]/n,r.shape[1]]),t.dispose()}return r}});const gne=p5({split_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r={x:u5(e,"x","split")},o={numOrSizeSplits:t,axis:n};return J4.runKernel(e3,r,o)}});const yne=p5({rfft_:function(e,t){xJ("float32"===e.dtype,(()=>`The dtype for rfft() must be real value but got ${e.dtype}`));let n=e.shape[e.shape.length-1];const r=e.size/n;let o;if(null!=t&&t<n){const r=e.shape.map((e=>0)),a=e.shape.map((e=>e));a[e.shape.length-1]=t,o=N7(e,r,a),n=t}else if(null!=t&&t>n){const r=e.shape.map((e=>e));r[e.shape.length-1]=t-n,o=I7([e,dte(r)],e.shape.length-1),n=t}else o=e;const a=Q6(o),i=A7(h5(o,a),[r,n]),s=hne(i),l=Math.floor(n/2)+1,u=J8(s),c=Q8(s),d=gne(u,[l,n-l],u.shape.length-1),p=gne(c,[l,n-l],c.shape.length-1),h=o.shape.slice();return h[o.shape.length-1]=l,A7(h5(d[0],p[0]),h)}});const vne=p5({squaredDifference_:function(e,t){let n=u5(e,"a","squaredDifference"),r=u5(t,"b","squaredDifference");[n,r]=U4(n,r),k8(n.shape,r.shape);const o={a:n,b:r};return J4.runKernel(s3,o,{})}});const bne=p5({squeeze_:function(e,t){const n=u5(e,"x","squeeze","string_or_numeric");return A7(n,$J(n.shape,t).newShape)}});const xne=p5({stack_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=c5(e,"tensors","stack","string_or_numeric");xJ(n.length>=1,(()=>"Pass at least one tensor to tf.stack")),n.length>0&&xJ(t<=n[0].rank,(()=>"Axis must be <= rank of the tensor"));const r=n,o={axis:t};return J4.runKernel(v2,r,o)}});const wne=p5({step_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n={x:u5(e,"x","step")},r={alpha:t};return J4.runKernel(T3,n,r)}});const kne=p5({stridedSlice_:function(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0;const u={x:u5(e,"x","stridedSlice","string_or_numeric")},c={begin:t,end:n,strides:r,beginMask:o,endMask:a,ellipsisMask:i,newAxisMask:s,shrinkAxisMask:l};return J4.runKernel(c3,u,c)}});const Sne=p5({tan_:function(e){const t={x:u5(e,"x","tan","float32")};return J4.runKernel(m3,t)}});function Ane(e,t){kJ(e);const n=i5(e,t);if(1!==n.length)throw new Error("tensor1d() requires values to be a flat/TypedArray");return f5(e,null,n,t)}function Cne(e,t,n){if(kJ(e),null!=t&&2!==t.length)throw new Error("tensor2d() requires shape to have two numbers");const r=i5(e,n);if(2!==r.length&&1!==r.length)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return f5(e,t,r,n)}function Tne(e,t,n){if(kJ(e),null!=t&&4!==t.length)throw new Error("tensor4d() requires shape to have four numbers");const r=i5(e,n);if(4!==r.length&&1!==r.length)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return f5(e,t,r,n)}function Ine(e,t,n){if(kJ(e),null!=t&&5!==t.length)throw new Error("tensor5d() requires shape to have five numbers");const r=i5(e,n);if(5!==r.length&&1!==r.length)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return f5(e,t,r,n)}function Ene(e,t,n){if(kJ(e),null!=t&&6!==t.length)throw new Error("tensor6d() requires shape to have six numbers");const r=i5(e,n);if(6!==r.length&&1!==r.length)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return f5(e,t=t||r,r,n)}const Nne=p5({tensorScatterUpdate_:function(e,t,n){const r=u5(e,"tensor","tensorScatterupdate"),o=u5(t,"indices","tensorScatterupdate","int32"),a=u5(n,"updates","tensorScatterupdate");if(f9(a,o,r.shape),r.dtype!==a.dtype)throw new Error(`tensor and updates must have the same dtype, instead they are ${r.dtype} and ${a.dtype}.`);const i={tensor:r,indices:o,updates:a};return J4.runKernel(B2,i,{})}});const One=p5({topk_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=u5(e,"x","topk");if(0===r.rank)throw new Error("topk() expects the input to be of rank 1 or higher");const o=r.shape[r.shape.length-1];if(t<0)throw new Error(`'k' passed to topk() must be >= 0 but got ${t}`);if(t>o)throw new Error(`'k' passed to topk() must be <= the last dimension (${o}) but got ${t}`);const a={x:r},i={k:t,sorted:n},[s,l]=J4.runKernel(v3,a,i);return{values:s,indices:l}}});const Mne=p5({truncatedNormal_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;if(n0(e),null!=r&&"bool"===r)throw new Error("Unsupported data type $ { dtype }");const a=new _te(t,n,r,!0,o),i=B6(e,r);for(let s=0;s<i.values.length;s++)i.values[s]=a.nextValue();return i.toTensor()}});const Dne=p5({unique_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=u5(e,"x","unique","string_or_numeric");xJ(n.rank>0,(()=>"The input tensor must be at least 1D"));const r={x:n},o={axis:t},[a,i]=J4.runKernel(w3,r,o);return{values:a,indices:i}}});const Rne=p5({unsortedSegmentSum_:function(e,t,n){const r=u5(e,"x","unsortedSegmentSum"),o=u5(t,"segmentIds","unsortedSegmentSum","int32");xJ(IJ(n),(()=>"numSegments must be of dtype int"));const a={x:r,segmentIds:o},i={numSegments:n};return J4.runKernel(S3,a,i)}});const Pne=p5({unstack_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=u5(e,"x","unstack","string_or_numeric");xJ(t>=-n.shape.length&&t<n.shape.length,(()=>`Axis = ${t} is not in [-${n.shape.length}, ${n.shape.length})`));const r={value:n},o={axis:t};return J4.runKernel(k3,r,o)}});function $ne(e,t){return ate(e,t,"right")}function jne(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return J4.makeVariable(e,t,n,r)}function _ne(e,t){const n=[];for(let a=0;a<t.length;a++)t[a]&&n.push(a);const r=B6(e,"int32"),o=B6([n.length,e.length],"int32");for(let a=0;a<n.length;a++){const t=r.indexToLoc(n[a]),i=a*e.length;o.values.set(t,i)}return o.toTensor()}const Fne=async function(e){const t=u5(e,"condition","whereAsync","bool"),n=await t.data(),r=_ne(t.shape,n);return e!==t&&t.dispose(),r};const Lne=async function(e,t,n){const r=u5(e,"tensor","boolMask"),o=u5(t,"mask","boolMask","bool"),a=null==n?0:n,i=o.rank,s=r.shape;xJ(i>0,(()=>"mask cannot be scalar")),wJ(s.slice(a,a+i),o.shape,"mask's shape must match the first K dimensions of tensor's shape,");let l=1;for(let m=a;m<a+i;m++)l*=s[m];const u=s.slice(0,a).concat([l],s.slice(a+i)),c=A7(r,u),d=A7(o,[-1]),p=await Fne(d),h=bne(p,[1]),f=_ee(c,h,a);return e!==r&&r.dispose(),t!==o&&o.dispose(),h.dispose(),c.dispose(),d.dispose(),p.dispose(),f};const zne=p5({movingAverage_:function(e,t,n,r){let o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];const a=u5(e,"v","movingAverage"),i=u5(t,"x","movingAverage"),s=u5(n,"decay","movingAverage");H4(a,i),xJ(TJ(a.shape,i.shape),(()=>"Shape mismatch in v and x"));const l=a8(1),u=y8(l,s);let c=K6(y8(i,a),u);if(o){xJ(null!=r,(()=>"When using zeroDebias: true, step is required."));const e=u5(r,"step","movingAverage");c=q6(c,y8(l,g8(s,e)))}return H6(a,c)}});const Bne=p5({scatterND_:function(e,t,n){n0(n);const r=u5(e,"indices","scatterND","int32"),o=u5(t,"updates","scatterND");f9(o,r,n);const a={indices:r,updates:o},i={shape:n};return J4.runKernel(z2,a,i)}});const Wne=p5({sparseToDense_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;n0(n);const o=u5(e,"sparseIndices","sparseToDense","int32"),a=u5(t,"sparseValues","sparseToDense","string_or_numeric"),i=u5(r,"defaultValue","sparseToDense",a.dtype);!function(e,t,n,r){if("int32"!==e.dtype)throw new Error(`tf.sparseToDense() expects the indices to be int32 type, but the dtype was ${e.dtype}.`);if(e.rank>2)throw new Error(`sparseIndices should be a scalar, vector, or matrix, but got shape ${e.shape}.`);const o=e.rank>0?e.shape[0]:1,a=e.rank>1?e.shape[1]:1;if(n.length!==a)throw new Error(`outputShape has incorrect number of elements:, ${n.length}, should be: ${a}.`);const i=t.size;if(0!==t.rank&&(1!==t.rank||i!==o))throw new Error(`sparseValues has incorrect shape ${t.shape}, should be [] or [${o}]`);if(t.dtype!==r.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}(o,a,n,i);const s={sparseIndices:o,sparseValues:a,defaultValue:i},l={outputShape:n};return J4.runKernel(i3,s,l)}});const Vne=p5({gatherND_:function(e,t){const n=u5(t,"indices","gatherND","int32"),r={params:u5(e,"x","gatherND","string_or_numeric"),indices:n};return J4.runKernel(I1,r)}});const Une=p5({dropout_:function(e,t,n,r){const o=u5(e,"x","dropout");if(xJ("float32"===o.dtype,(()=>`x has to be a floating point tensor since it's going to be scaled, but got a ${o.dtype} tensor instead.`)),xJ(t>=0&&t<1,(()=>`rate must be a float in the range [0, 1), but got ${t}.`)),0===t)return e instanceof T4?o.clone():o;const a=function(e,t){if(null==t)return e.shape.slice();if(TJ(e.shape,t))return t;if(e.shape.length===t.length){const n=[];for(let r=0;r<e.shape.length;r++)null==t[r]&&null!=e.shape[r]?n.push(e.shape[r]):n.push(t[r]);return n}return t}(o,n),i=1-t,s=q6(jee(H6(Vte(a,0,1,"float32",r),i)),i);return K6(o,s)}});function Hne(e){return Math.floor(Math.pow(2,Math.ceil(Math.log(e)/Math.log(2))))}function Gne(e,t,n){const r=1-e%2,o=new Float32Array(e);for(let a=0;a<e;++a){const i=2*Math.PI*a/(e+r-1);o[a]=t-n*Math.cos(i)}return Ane(o,"float32")}const qne=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const r=u5(e,"predictions","inTopK"),o=u5(t,"targets","inTopK");xJ(r.rank>1,(()=>`inTopK() expects the predictions to be of rank 2 or higher, but got ${r.rank}`)),xJ(r.rank-1===o.rank,(()=>`predictions rank should be 1 larger than targets rank, but got predictions rank ${r.rank} and targets rank ${o.rank}`)),wJ(r.shape.slice(0,r.shape.length-1),o.shape,"predictions's shape should be align with the targets' shape, except the last dimension.");const a=r.shape[r.shape.length-1];xJ(n>0&&n<=a,(()=>`'k' passed to inTopK() must be > 0 && <= the predictions last dimension (${a}), but got ${n}`));const i=await r.data(),s=await o.data(),[l,u]=[i.length/a,a],c=jJ("bool",l);for(let d=0;d<l;d++){const e=d*u,t=i.subarray(e,e+u),r=[];for(let n=0;n<t.length;n++)r.push({value:t[n],index:n});r.sort(((e,t)=>t.value-e.value)),c[d]=0;for(let o=0;o<n;o++)if(r[o].index===s[d]){c[d]=1;break}}return e!==r&&r.dispose(),t!==o&&o.dispose(),m5(c,o.shape,"bool")};const Kne=p5({conv2DBackpropFilter_:function(e,t,n,r,o){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC",i=arguments.length>6?arguments[6]:void 0,s=e;3===e.rank&&(s=A7(e,[1,e.shape[0],e.shape[1],e.shape[2]]));let l=t;3===l.rank&&(l=A7(t,[1,t.shape[0],t.shape[1],t.shape[2]])),xJ(4===s.rank,(()=>`Error in conv2dDerFilter: input must be rank 4, but got shape ${s.shape}.`)),xJ(4===l.rank,(()=>`Error in conv2dDerFilter: dy must be rank 4, but got shape ${l.shape}.`)),xJ(4===n.length,(()=>`Error in conv2dDerFilter: filterShape must be length 4, but got ${n}.`));const u="NHWC"===a?s.shape[3]:s.shape[1],c="NHWC"===a?l.shape[3]:l.shape[1];xJ(u===n[2],(()=>`Error in conv2dDerFilter: depth of input ${u}) must match input depth in filter (${n[2]}.`)),xJ(c===n[3],(()=>`Error in conv2dDerFilter: depth of dy (${c}) must match output depth for filter (${n[3]}).`)),S7("conv2dDerFilter",o,i);const d={x:s,dy:l},p={strides:r,pad:o,dataFormat:a,dimRoundingMode:i,filterShape:n};return J4.runKernel(H0,d,p)}});function Xne(e,t,n){if(null==n||"linear"===n)return e;if("relu"===n)return K6(e,wne(t));throw new Error(`Cannot compute gradient for fused activation ${n}.`)}function Yne(e,t){let n=t;const r=w8(e.shape,t.shape);return r.length>0&&(n=Iee(n,r)),A7(n,e.shape)}function Qne(e,t,n,r){if("linear"===t)return e;if("relu"===t)return qte(e);if("elu"===t)return fee(e);if("relu6"===t)return Kte(e);if("prelu"===t)return Ote(e,n);if("leakyrelu"===t)return Vee(e,r);if("sigmoid"===t)return E7(e);throw new Error(`Unknown fused activation ${t}.`)}const Zne=(e,t)=>!(e>0)||"linear"===t;const Jne=p5({fusedConv2d_:function(e){let{x:t,filter:n,strides:r,pad:o,dataFormat:a="NHWC",dilations:i=[1,1],dimRoundingMode:s,bias:l,activation:u="linear",preluActivationWeights:c,leakyreluAlpha:d}=e;if(u=u||"linear",!1===Zne(J4.state.gradientDepth,u)){xJ("NHWC"===a,(()=>`Error in fused conv2d: got dataFormat of ${a} but only NHWC is currently supported for the case of gradient depth is 0 and the activation is not linear.`));let e=q7(t,n,r,o,a,i,s);return null!=l&&(e=H6(e,l)),Qne(e,u,c,d)}const p=u5(t,"x","conv2d","float32"),h=u5(n,"filter","conv2d","float32");let f=p,m=!1;3===p.rank&&(m=!0,f=A7(p,[1,p.shape[0],p.shape[1],p.shape[2]])),xJ(4===f.rank,(()=>`Error in fused conv2d: input must be rank 4, but got rank ${f.rank}.`)),xJ(4===h.rank,(()=>`Error in fused conv2d: filter must be rank 4, but got rank ${h.rank}.`)),S7("fused conv2d",o,s);const g="NHWC"===a?f.shape[3]:f.shape[1];xJ(h.shape[2]===g,(()=>`Error in conv2d: depth of input (${g}) must match input depth for filter ${h.shape[2]}.`)),xJ(x7(r,i),(()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${r} and dilations '${i}'`));const y=p7(f.shape,h.shape,r,i,o,s);let v,b;if(null!=l&&(v=u5(l,"bias","fused conv2d"),[v]=U4(v,p),"NHWC"===a?k8(y.outShape,v.shape):(xJ(v.shape.length<=1,(()=>`Error in fused conv2d: only supports scalar or 1-D Tensor bias for NCHW format but got the bias of rank-${v.shape.length}.`)),xJ(0===v.shape.length||v.shape[0]===y.outChannels||1===v.shape[0],(()=>`Error in fused conv2d: bias shape (${v.shape}) is not compatible with the number of output channels (${y.outChannels})`)))),null!=c){const e=c.shape;if(xJ(e.length<=1||3===e.length,(()=>`Error in fused conv2d: only supports scalar, 1-D Tensor or 3-D Tensor PReLU activation weights but got a tensor of rank-${e.length}.`)),1===e.length)xJ(1===e[0]||e[0]===y.outChannels,(()=>`Error in fused conv2d: PReLU activation weights (${e}) is not compatible with the number of output channels (${y.outChannels}).`));else if(3===e.length)try{k8(e,y.outShape)}catch(ZBe){const n=`Error in fused conv2d: PReLU activation weights (${e}) is not compatible with the output shape of the conv2d (${y.outShape}).`;throw Error(n)}b=u5(c,"prelu weights","fused conv2d")}const x=(e,t)=>{xJ("NHWC"===a,(()=>`Error in gradient of fused conv2D: got dataFormat of ${a} but only NHWC is currently supported.`));const[n,s,l,c]=t,d=Xne(e,l,u);xJ(b7(i),(()=>`Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${i}'`));const p=[X7(s.shape,d,n,r,o),Kne(s,d,n.shape,r,o)];if(null!=c){const e=Yne(c,d);p.push(e)}return p},w={x:f,filter:h,bias:v,preluActivationWeights:b},k={strides:r,pad:o,dataFormat:a,dilations:i,dimRoundingMode:s,activation:u,leakyreluAlpha:d};if(null==l){const e=r8(((e,t,n)=>{let r=J4.runKernel(O3,w,k);return n([t,e,r]),m&&(r=A7(r,[r.shape[1],r.shape[2],r.shape[3]])),{value:r,gradFunc:x}}));return e(f,h)}{const e=r8(((e,t,n,r)=>{let o=J4.runKernel(O3,w,k);return r([t,e,o,n]),m&&(o=A7(o,[o.shape[1],o.shape[2],o.shape[3]])),{value:o,gradFunc:x}}));return e(f,h,v)}}});const ere=p5({depthwiseConv2dNativeBackpropFilter_:function(e,t,n,r,o){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],i=arguments.length>6?arguments[6]:void 0,s=e;3===e.rank&&(s=A7(e,[1,e.shape[0],e.shape[1],e.shape[2]]));let l=t;3===l.rank&&(l=A7(t,[1,t.shape[0],t.shape[1],t.shape[2]]));const u={x:s,dy:l},c={strides:r,pad:o,dimRoundingMode:i,dilations:a,filterShape:n};return J4.runKernel(o1,u,c)}});const tre=p5({depthwiseConv2dNativeBackpropInput_:function(e,t,n,r,o){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],i=arguments.length>6?arguments[6]:void 0,s=t,l=!1;3===t.rank&&(l=!0,s=A7(t,[1,t.shape[0],t.shape[1],t.shape[2]]));const u={dy:s,filter:n},c={strides:r,pad:o,dimRoundingMode:i,dilations:a,inputShape:e},d=J4.runKernel(a1,u,c);return l?A7(d,[d.shape[1],d.shape[2],d.shape[3]]):d}});const nre=p5({fusedDepthwiseConv2d_:function(e){let{x:t,filter:n,strides:r,pad:o,dataFormat:a="NHWC",dilations:i=[1,1],dimRoundingMode:s,bias:l,activation:u="linear",preluActivationWeights:c,leakyreluAlpha:d}=e;if(!1===Zne(J4.state.gradientDepth,u)){let e=iee(t,n,r,o,a,i,s);return null!=l&&(e=H6(e,l)),Qne(e,u,c,d)}const p=u5(t,"x","depthwiseConv2d","float32"),h=u5(n,"filter","depthwiseConv2d","float32");let f=p,m=!1;3===p.rank&&(m=!0,f=A7(p,[1,p.shape[0],p.shape[1],p.shape[2]])),xJ(4===f.rank,(()=>`Error in fused depthwiseConv2d: input must be rank 4, but got rank ${f.rank}.`)),xJ(4===h.rank,(()=>`Error in fused depthwiseConv2d: filter must be rank 4, but got rank ${h.rank}.`)),xJ(f.shape[3]===h.shape[2],(()=>`Error in fused depthwiseConv2d: number of input channels (${f.shape[3]}) must match the inChannels dimension in filter ${h.shape[2]}.`)),null==i&&(i=[1,1]),xJ(x7(r,i),(()=>`Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides ${r} and dilations '${i}'`)),S7("fused depthwiseConv2d",o,s);const g=p7(f.shape,h.shape,r,i,o,s,!0);let y,v;null!=l&&(y=u5(l,"bias","fused conv2d"),[y]=U4(y,p),k8(g.outShape,y.shape)),null!=c&&(v=u5(c,"prelu weights","fused depthwiseConv2d"));const b=(e,t)=>{xJ(b7(i),(()=>`Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '${i}'`));const[n,a,l,c]=t,d=Xne(e,l,u),p=tre(a.shape,d,n,r,o,i,s),h=ere(a,d,n.shape,r,o,i,s);if(null!=c){return[p,h,Yne(y,d)]}return[p,h]},x={x:f,filter:h,bias:y,preluActivationWeights:v},w={strides:r,pad:o,dataFormat:a,dilations:i,dimRoundingMode:s,activation:u,leakyreluAlpha:d};if(null==l){const e=r8(((e,t,n)=>{let r=J4.runKernel(M3,x,w);return n([t,e,r]),m&&(r=A7(r,[r.shape[1],r.shape[2],r.shape[3]])),{value:r,gradFunc:b}}));return e(f,h)}{const e=r8(((e,t,n,r)=>{let o=J4.runKernel(M3,x,w);return r([t,e,o,n]),m&&(o=A7(o,[o.shape[1],o.shape[2],o.shape[3]])),{value:o,gradFunc:b}}));return e(f,h,y)}}});const rre=p5({fusedMatMul_:function(e){let{a:t,b:n,transposeA:r=!1,transposeB:o=!1,bias:a,activation:i="linear",preluActivationWeights:s,leakyreluAlpha:l=.2}=e;if(!1===Zne(J4.state.gradientDepth,i)){let e=X8(t,n,r,o);return null!=a&&(e=H6(e,a)),Qne(e,i,s,l)}let u=u5(t,"a","fused matMul"),c=u5(n,"b","fused matMul");[u,c]=U4(u,c);const d=r?u.shape[u.rank-2]:u.shape[u.rank-1],p=o?c.shape[c.rank-1]:c.shape[c.rank-2],h=r?u.shape[u.rank-1]:u.shape[u.rank-2],f=o?c.shape[c.rank-2]:c.shape[c.rank-1],m=u.shape.slice(0,-2),g=c.shape.slice(0,-2),y=SJ(m),v=SJ(g);xJ(d===p,(()=>`Error in fused matMul: inner shapes (${d}) and (${p}) of Tensors with shapes ${u.shape} and ${c.shape} and transposeA=${r} and transposeB=${o} must match.`));const b=k8(u.shape.slice(0,-2),c.shape.slice(0,-2)).concat([h,f]),x=A7(u,r?[y,d,h]:[y,h,d]),w=A7(c,o?[v,f,p]:[v,p,f]);let k,S;null!=a&&(k=u5(a,"bias","fused matMul"),[k]=U4(k,u),k8(b,k.shape)),null!=s&&(S=u5(s,"prelu weights","fused matMul"));const A=(e,t)=>{const[n,s,l,u]=t,c=Xne(A7(e,l.shape),l,i);let d,p;if(r||o?!r&&o?(d=X8(c,s,!1,!1),p=X8(c,n,!0,!1)):r&&!o?(d=X8(s,c,!1,!0),p=X8(n,c,!1,!1)):(d=X8(s,c,!0,!0),p=X8(c,n,!0,!0)):(d=X8(c,s,!1,!0),p=X8(n,c,!0,!1)),null!=a){return[d,p,Yne(u,c)]}return[d,p]},C={a:x,b:w,bias:k,preluActivationWeights:S},T={transposeA:r,transposeB:o,activation:i,leakyreluAlpha:l};if(null==a){const e=r8(((e,t,n)=>{const r=J4.runKernel(N3,C,T);return n([e,t,r]),{value:A7(r,b),gradFunc:A}}));return e(x,w)}{const e=r8(((e,t,n,r)=>{const o=J4.runKernel(N3,C,T);return r([e,t,o,n]),{value:A7(o,b),gradFunc:A}}));return e(x,w,k)}}});const ore=p5({hammingWindow_:function(e){return Gne(e,.54,.46)}});const are=p5({hannWindow_:function(e){return Gne(e,.5,.5)}});const ire=p5({frame_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=0;const i=[];for(;a+t<=e.size;)i.push(N7(e,a,t)),a+=n;if(r)for(;a<e.size;){const r=a+t-e.size,s=I7([N7(e,a,t-r),f8([r],o)]);i.push(s),a+=n}return 0===i.length?Cne([],[0,t]):A7(I7(i),[i.length,t])}});const sre=p5({stft_:function(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:are;null==r&&(r=Hne(t));const a=ire(e,t,n),i=K6(a,o(t));return yne(i,r)}});const lre=p5({cropAndResize_:function(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"bilinear",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;const i=u5(e,"image","cropAndResize"),s=u5(t,"boxes","cropAndResize","float32"),l=u5(n,"boxInd","cropAndResize","int32"),u=s.shape[0];xJ(4===i.rank,(()=>`Error in cropAndResize: image must be rank 4,but got rank ${i.rank}.`)),xJ(2===s.rank&&4===s.shape[1],(()=>`Error in cropAndResize: boxes must be have size [${u},4] but had shape ${s.shape}.`)),xJ(1===l.rank&&l.shape[0]===u,(()=>`Error in cropAndResize: boxInd must be have size [${u}] but had shape ${s.shape}.`)),xJ(2===r.length,(()=>`Error in cropAndResize: cropSize must be of length 2, but got length ${r.length}.`)),xJ(r[0]>=1&&r[1]>=1,(()=>`cropSize must be atleast [1,1], but was ${r}`)),xJ("bilinear"===o||"nearest"===o,(()=>`method must be bilinear or nearest, but was ${o}`));const c={image:i,boxes:s,boxInd:l},d={method:o,extrapolationValue:a,cropSize:r};return J4.runKernel(e1,c,d)}});const ure=p5({flipLeftRight_:function(e){const t=u5(e,"image","flipLeftRight","float32");xJ(4===t.rank,(()=>`Error in flipLeftRight: image must be rank 4,but got rank ${t.rank}.`));const n={image:t};return J4.runKernel(k1,n,{})}});const cre=p5({grayscaleToRGB_:function(e){const t=u5(e,"image","grayscaleToRGB"),n=t.rank-1,r=t.shape[n];xJ(t.rank>=2,(()=>`Error in grayscaleToRGB: images must be at least rank 2, but got rank ${t.rank}.`)),xJ(1===r,(()=>`Error in grayscaleToRGB: last dimension of a grayscale image should be size 1, but got size ${r}.`));const o=new Array(t.rank);return o.fill(1,0,n),o[n]=3,Pee(t,o)}});const dre=p5({rgbToGrayscale_:function(e){const t=u5(e,"image","RGBToGrayscale"),n=t.rank-1,r=t.shape[n];xJ(t.rank>=2,(()=>`Error in RGBToGrayscale: images must be at least rank 2, but got rank ${t.rank}.`)),xJ(3===r,(()=>`Error in RGBToGrayscale: last dimension of an RGB image should be size 3, but got size ${r}.`));const o=t.dtype,a=W6(t,"float32"),i=Ane([.2989,.587,.114]);let s;switch(t.rank){case 2:s=hee("ij,j->i",a,i);break;case 3:s=hee("ijk,k->ij",a,i);break;case 4:s=hee("ijkl,l->ijk",a,i);break;case 5:s=hee("ijklm,m->ijkl",a,i);break;case 6:s=hee("ijklmn,n->ijklm",a,i);break;default:throw new Error("Not a valid tensor rank.")}return s=Dee(s,-1),W6(s,o)}});const pre=p5({rotateWithOffset_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;const o=u5(e,"image","rotateWithOffset","float32");xJ(4===o.rank,(()=>`Error in rotateWithOffset: image must be rank 4,but got rank ${o.rank}.`));const a={image:o},i={radians:t,fillValue:n,center:r};return J4.runKernel(E3,a,i)}});function hre(e,t,n,r,o,a){null==r&&(r=.5),null==o&&(o=Number.NEGATIVE_INFINITY),null==a&&(a=0);const i=e.shape[0];return n=Math.min(n,i),xJ(0<=r&&r<=1,(()=>`iouThreshold must be in [0, 1], but was '${r}'`)),xJ(2===e.rank,(()=>`boxes must be a 2D tensor, but was of rank '${e.rank}'`)),xJ(4===e.shape[1],(()=>`boxes must have 4 columns, but 2nd dimension was ${e.shape[1]}`)),xJ(1===t.rank,(()=>"scores must be a 1D tensor")),xJ(t.shape[0]===i,(()=>`scores has incompatible shape with boxes. Expected ${i}, but was ${t.shape[0]}`)),xJ(0<=a&&a<=1,(()=>`softNmsSigma must be in [0, 1], but was '${a}'`)),{maxOutputSize:n,iouThreshold:r,scoreThreshold:o,softNmsSigma:a}}const fre=p5({nonMaxSuppression_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY;const a=u5(e,"boxes","nonMaxSuppression","float32"),i=u5(t,"scores","nonMaxSuppression","float32"),s=hre(a,i,n,r,o);n=s.maxOutputSize,r=s.iouThreshold,o=s.scoreThreshold;const l={maxOutputSize:n,iouThreshold:r,scoreThreshold:o};return J4.runKernel(h2,{boxes:a,scores:i},l)}});function mre(e,t,n){const r=function(e,t,n){return function(e,t,n){let r=0,o=e.length,a=0,i=!1;for(;r<o;){a=r+(o-r>>>1);const s=n(t,e[a]);s>0?r=a+1:(o=a,i=!s)}return i?r:-r-1}(e,t,n||gre)}(e,t,n),o=r<0?-(r+1):r;e.splice(o,0,t)}function gre(e,t){return e>t?1:e<t?-1:0}function yre(e,t,n,r,o){return xre(e,t,n,r,o,0)}function vre(e,t,n,r,o,a){return xre(e,t,n,r,o,0,!1,a,!0)}function bre(e,t,n,r,o,a){return xre(e,t,n,r,o,a,!0)}function xre(e,t,n,r,o,a){let i=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=arguments.length>8&&void 0!==arguments[8]&&arguments[8];const u=[];for(let g=0;g<t.length;g++)t[g]>o&&u.push({score:t[g],boxIndex:g,suppressBeginIndex:0});u.sort(Sre);const c=a>0?-.5/a:0,d=[],p=[];for(;d.length<n&&u.length>0;){const t=u.pop(),{score:n,boxIndex:a,suppressBeginIndex:i}=t;if(n<o)break;let s=!1;for(let l=d.length-1;l>=i;--l){const n=wre(e,a,d[l]);if(n>=r){s=!0;break}if(t.score=t.score*kre(r,c,n),t.score<=o)break}t.suppressBeginIndex=d.length,s||(t.score===n?(d.push(a),p.push(t.score)):t.score>o&&mre(u,t,Sre))}const h=d.length,f=n-h;s&&f>0&&(d.push(...new Array(f).fill(0)),p.push(...new Array(f).fill(0)));const m={selectedIndices:d};return i&&(m.selectedScores=p),l&&(m.validOutputs=h),m}function wre(e,t,n){const r=e.subarray(4*t,4*t+4),o=e.subarray(4*n,4*n+4),a=Math.min(r[0],r[2]),i=Math.min(r[1],r[3]),s=Math.max(r[0],r[2]),l=Math.max(r[1],r[3]),u=Math.min(o[0],o[2]),c=Math.min(o[1],o[3]),d=Math.max(o[0],o[2]),p=Math.max(o[1],o[3]),h=(s-a)*(l-i),f=(d-u)*(p-c);if(h<=0||f<=0)return 0;const m=Math.max(a,u),g=Math.max(i,c),y=Math.min(s,d),v=Math.min(l,p),b=Math.max(y-m,0)*Math.max(v-g,0);return b/(h+f-b)}function kre(e,t,n){const r=Math.exp(t*n*n);return n<=e?r:0}function Sre(e,t){return e.score-t.score||e.score===t.score&&t.boxIndex-e.boxIndex}const Are=async function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY;const a=u5(e,"boxes","nonMaxSuppressionAsync"),i=u5(t,"scores","nonMaxSuppressionAsync"),s=hre(a,i,n,r,o);n=s.maxOutputSize,r=s.iouThreshold,o=s.scoreThreshold;const l=await Promise.all([a.data(),i.data()]),u=l[0],c=l[1],{selectedIndices:d}=yre(u,c,n,r,o);return a!==e&&a.dispose(),i!==t&&i.dispose(),Ane(d,"int32")};const Cre=p5({nonMaxSuppressionWithScore_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;const i=u5(e,"boxes","nonMaxSuppression"),s=u5(t,"scores","nonMaxSuppression"),l=hre(i,s,n,r,o,a);n=l.maxOutputSize,r=l.iouThreshold,o=l.scoreThreshold,a=l.softNmsSigma;const u={boxes:i,scores:s},c={maxOutputSize:n,iouThreshold:r,scoreThreshold:o,softNmsSigma:a},d=J4.runKernel(m2,u,c);return{selectedIndices:d[0],selectedScores:d[1]}}});const Tre=async function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;const i=u5(e,"boxes","nonMaxSuppressionAsync"),s=u5(t,"scores","nonMaxSuppressionAsync"),l=hre(i,s,n,r,o,a);n=l.maxOutputSize,r=l.iouThreshold,o=l.scoreThreshold,a=l.softNmsSigma;const u=await Promise.all([i.data(),s.data()]),c=u[0],d=u[1],{selectedIndices:p,selectedScores:h}=bre(c,d,n,r,o,a);return i!==e&&i.dispose(),s!==t&&s.dispose(),{selectedIndices:Ane(p,"int32"),selectedScores:Ane(h)}};const Ire=p5({nonMaxSuppressionPadded_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];const i=u5(e,"boxes","nonMaxSuppression"),s=u5(t,"scores","nonMaxSuppression"),l=hre(i,s,n,r,o,null),u={boxes:i,scores:s},c={maxOutputSize:l.maxOutputSize,iouThreshold:l.iouThreshold,scoreThreshold:l.scoreThreshold,padToMaxOutputSize:a},d=J4.runKernel(f2,u,c);return{selectedIndices:d[0],validOutputs:d[1]}}});const Ere=async function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];const i=u5(e,"boxes","nonMaxSuppressionAsync"),s=u5(t,"scores","nonMaxSuppressionAsync"),l=hre(i,s,n,r,o,null),u=l.maxOutputSize,c=l.iouThreshold,d=l.scoreThreshold,[p,h]=await Promise.all([i.data(),s.data()]),{selectedIndices:f,validOutputs:m}=vre(p,h,u,c,d,a);return i!==e&&i.dispose(),s!==t&&s.dispose(),{selectedIndices:Ane(f,"int32"),validOutputs:a8(m,"int32")}};const Nre=p5({resizeBilinear_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=u5(e,"images","resizeBilinear");xJ(3===o.rank||4===o.rank,(()=>`Error in resizeBilinear: x must be rank 3 or 4, but got rank ${o.rank}.`)),xJ(2===t.length,(()=>`Error in resizeBilinear: new shape must 2D, but got shape ${t}.`)),xJ(!1===r||!1===n,(()=>"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false."));let a=o,i=!1;3===o.rank&&(i=!0,a=A7(o,[1,o.shape[0],o.shape[1],o.shape[2]]));const[]=t,s={images:a},l={alignCorners:n,halfPixelCenters:r,size:t},u=J4.runKernel(P2,s,l);return i?A7(u,[u.shape[1],u.shape[2],u.shape[3]]):u}});const Ore=p5({resizeNearestNeighbor_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=u5(e,"images","resizeNearestNeighbor");xJ(3===o.rank||4===o.rank,(()=>`Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank ${o.rank}.`)),xJ(2===t.length,(()=>`Error in resizeNearestNeighbor: new shape must 2D, but got shape ${t}.`)),xJ("float32"===o.dtype||"int32"===o.dtype,(()=>"`images` must have `int32` or `float32` as dtype")),xJ(!1===r||!1===n,(()=>"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false."));let a=o,i=!1;3===o.rank&&(i=!0,a=A7(o,[1,o.shape[0],o.shape[1],o.shape[2]]));const[]=t,s={images:a},l={alignCorners:n,halfPixelCenters:r,size:t},u=J4.runKernel(D2,s,l);return i?A7(u,[u.shape[1],u.shape[2],u.shape[3]]):u}});const Mre=p5({threshold_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"binary",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;const o=u5(e,"image","threshold"),a=o.shape[0]*o.shape[1];let i,s,l,u,c=K6(Ane([r]),255);if(xJ(3===o.rank,(()=>`Error in threshold: image must be rank 3,but got rank ${o.rank}.`)),xJ(3===o.shape[2]||1===o.shape[2],(()=>`Error in threshold: image color channel must be equal to 3 or 1but got ${o.shape[2]}.`)),xJ("int32"===o.dtype||"float32"===o.dtype,(()=>`Error in dtype: image dtype must be int32 or float32,but got dtype ${o.dtype}.`)),xJ("otsu"===t||"binary"===t,(()=>`Method must be binary or otsu, but was ${t}`)),3===o.shape[2]){[i,s,l]=gne(o,[1,1,1],-1);const e=K6(i,.2989),t=K6(s,.587),n=K6(l,.114);u=H6(H6(e,t),n)}else u=e;if("otsu"===t){c=function(e,t){let n,r,o,a,i,s,l=Ane([-1]),u=Ane([0]),c=Ane([0]);for(let d=0;d<e.size-1;d++){n=N7(e,0,d+1),r=N7(e,d+1),i=q6(Iee(n),t),s=q6(Iee(r),t);const p=Iee(K6(n,Hte(0,n.size)));o=q6(p,Iee(n));const h=f8(r.shape,n.size),f=H6(Hte(0,r.size),h),m=K6(r,f);a=q6(Iee(m),Iee(r));const g=y8(o,a),y=y8(o,a),v=K6(i,s);c=K6(K6(v,g),y);const b=Fee(c,u);u=cee(b,c,u),l=cee(b,Ane([d]),l)}return l}(_7(W6(ene(u),"int32"),m5([]),256),a)}const d=n?Hee(u,c):Fee(u,c);return W6(K6(d,255),"int32")}});const Dre=p5({transform_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"nearest",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"constant",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5?arguments[5]:void 0;const i=u5(e,"image","transform","float32"),s=u5(t,"transforms","transform","float32");xJ(4===i.rank,(()=>`Error in transform: image must be rank 4,but got rank ${i.rank}.`)),xJ(2===s.rank&&(s.shape[0]===i.shape[0]||1===s.shape[0])&&8===s.shape[1],(()=>"Error in transform: Input transform should be batch x 8 or 1 x 8")),xJ(null==a||2===a.length,(()=>`Error in transform: outputShape must be [height, width] or null, but got ${a}.`));const l={image:i,transforms:s},u={interpolation:n,fillMode:r,fillValue:o,outputShape:a};return J4.runKernel(b3,l,u)}});const Rre=p5({bandPart_:function(e,t,n){const r=u5(e,"a","bandPart");xJ(r.rank>=2,(()=>`bandPart(): Rank must be at least 2, got ${r.rank}.`));const o=r.shape,[a,i]=r.shape.slice(-2);let s,l;"number"===typeof t?(xJ(t%1===0,(()=>`bandPart(): numLower must be an integer, got ${t}.`)),xJ(t<=a,(()=>`bandPart(): numLower (${t}) must not be greater than the number of rows (${a}).`)),s=u5(t<0?a:t,"numLower","bandPart")):(xJ("int32"===t.dtype,(()=>"bandPart(): numLower's dtype must be an int32.")),s=cee(Uee(t,0),a,fte(t,a))),"number"===typeof n?(xJ(n%1===0,(()=>`bandPart(): numUpper must be an integer, got ${n}.`)),xJ(n<=i,(()=>`bandPart(): numUpper (${n}) must not be greater than the number of columns (${i}).`)),l=u5(n<0?i:n,"numUpper","bandPart")):(xJ("int32"===n.dtype,(()=>"bandPart(): numUpper's dtype must be an int32.")),l=cee(Uee(n,0),i,fte(n,i)));const u=A7(Hte(0,a,1,"int32"),[-1,1]),c=Hte(0,i,1,"int32"),d=y8(u,c),p=ete(Hee(d,s),Lee(d,Z8(l))),h=dte([a,i],r.dtype);return A7(xne(Pne(A7(r,[-1,a,i])).map((e=>cee(p,e,h)))),o)}});const Pre=p5({gramSchmidt_:function(e){let t;if(Array.isArray(e)){t=!1,xJ(null!=e&&e.length>0,(()=>"Gram-Schmidt process: input must not be null, undefined, or empty"));const n=e[0].shape[0];for(let t=1;t<e.length;++t)xJ(e[t].shape[0]===n,(()=>`Gram-Schmidt: Non-unique lengths found in the input vectors: (${e[t].shape[0]} vs. ${n})`))}else t=!0,e=gne(e,e.shape[0],0).map((e=>bne(e,[0])));xJ(e.length<=e[0].shape[0],(()=>`Gram-Schmidt: Number of vectors (${e.length}) exceeds number of dimensions (${e[0].shape[0]}).`));const n=[],r=e;for(let o=0;o<e.length;++o)n.push(J4.tidy((()=>{let e=r[o];if(o>0)for(let t=0;t<o;++t){const r=K6(Iee(K6(n[t],e)),n[t]);e=y8(e,r)}return q6(e,Nee(e,"euclidean"))})));return t?xne(n,0):n}});function $re(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return J4.tidy((()=>{xJ(2===e.shape.length,(()=>`qr2d() requires a 2D Tensor, but got a ${e.shape.length}D Tensor.`));const n=e.shape[0],r=e.shape[1];let o=$ee(n),a=V6(e);const i=Cne([[1]],[1,1]);let s=V6(i);const l=n>=r?r:n;for(let e=0;e<l;++e){const t=a,l=s,u=o;[s,a,o]=J4.tidy((()=>{const t=N7(a,[e,e],[n-e,1]),l=Nee(t),u=N7(a,[e,e],[1,1]),c=cee(Fee(u,0),Cne([[-1]]),Cne([[1]])),d=y8(u,K6(c,l)),p=q6(t,d);s=1===p.shape[0]?V6(i):I7([i,N7(p,[1,0],[p.shape[0]-1,p.shape[1]])],0);const h=Z8(q6(X8(c,d),l)),f=N7(a,[e,0],[n-e,r]),m=K6(h,s),g=e9(s);if(0===e)a=y8(f,X8(m,X8(g,f)));else{const t=y8(f,X8(m,X8(g,f)));a=I7([N7(a,[0,0],[e,r]),t],0)}const y=e9(m),v=N7(o,[0,e],[n,o.shape[1]-e]);if(0===e)o=y8(v,X8(X8(v,s),y));else{const t=y8(v,X8(X8(v,s),y));o=I7([N7(o,[0,0],[n,e]),t],1)}return[s,a,o]})),I5([t,l,u])}return!t&&n>r&&(o=N7(o,[0,0],[n,r]),a=N7(a,[0,0],[r,r])),[o,a]}))}const jre=p5({qr_:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(xJ(e.rank>=2,(()=>`qr() requires input tensor to have a rank >= 2, but got rank ${e.rank}`)),2===e.rank)return $re(e,t);{const n=e.shape.slice(0,e.shape.length-2).reduce(((e,t)=>e*t)),r=Pne(A7(e,[n,e.shape[e.shape.length-2],e.shape[e.shape.length-1]]),0),o=[],a=[];r.forEach((e=>{const[n,r]=$re(e,t);o.push(n),a.push(r)}));return[A7(xne(o,0),e.shape),A7(xne(a,0),e.shape)]}}});var _re,Fre;(Fre=_re||(_re={}))[Fre.NONE=0]="NONE",Fre[Fre.MEAN=1]="MEAN",Fre[Fre.SUM=2]="SUM",Fre[Fre.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS";const Lre=p5({computeWeightedLoss_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_re.SUM_BY_NONZERO_WEIGHTS;const r=u5(e,"losses","computeWeightedLoss");let o=null;null!=t&&(o=u5(t,"weights","computeWeightedLoss"));const a=null==o?r:K6(r,o);if(n===_re.NONE)return a;if(n===_re.SUM)return Iee(a);if(n===_re.MEAN){if(null==o)return cte(a);{const e=r.size/o.size,t=q6(Iee(a),Iee(o));return e>1?q6(t,a8(e)):t}}if(n===_re.SUM_BY_NONZERO_WEIGHTS){if(null==o)return q6(Iee(a),a8(r.size));{const e=K6(o,pte(r.shape)),t=W6(Iee(xte(e,a8(0))),"float32");return q6(Iee(a),t)}}throw Error(`Unknown reduction: ${n}`)}});const zre=p5({absoluteDifference_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:_re.SUM_BY_NONZERO_WEIGHTS;const o=u5(e,"labels","absoluteDifference"),a=u5(t,"predictions","absoluteDifference");let i=null;null!=n&&(i=u5(n,"weights","absoluteDifference")),wJ(o.shape,a.shape,"Error in absoluteDifference: ");const s=b8(y8(o,a));return Lre(s,i,r)}});const Bre=p5({cosineDistance_:function(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:_re.SUM_BY_NONZERO_WEIGHTS;const a=u5(e,"labels","cosineDistance"),i=u5(t,"predictions","cosineDistance");let s=null;null!=r&&(s=u5(r,"weights","cosineDistance")),wJ(a.shape,i.shape,"Error in cosineDistance: ");const l=a8(1),u=y8(l,Iee(K6(a,i),n,!0));return Lre(u,s,o)}});const Wre=p5({hingeLoss_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:_re.SUM_BY_NONZERO_WEIGHTS,o=u5(e,"labels","hingeLoss");const a=u5(t,"predictions","hingeLoss");let i=null;null!=n&&(i=u5(n,"weights","hingeLoss")),wJ(o.shape,a.shape,"Error in hingeLoss: ");const s=a8(1);o=y8(K6(a8(2),o),s);const l=qte(y8(s,K6(o,a)));return Lre(l,i,r)}});const Vre=p5({huberLoss_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:_re.SUM_BY_NONZERO_WEIGHTS;const a=u5(e,"labels","huberLoss"),i=u5(t,"predictions","huberLoss");let s=null;null!=n&&(s=u5(n,"weights","huberLoss")),wJ(a.shape,i.shape,"Error in huberLoss: ");const l=a8(r),u=b8(y8(i,a)),c=fte(u,l),d=y8(u,c),p=H6(K6(a8(.5),Y6(c)),K6(l,d));return Lre(p,s,o)}});const Ure=p5({logLoss_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-7,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:_re.SUM_BY_NONZERO_WEIGHTS;const a=u5(e,"labels","logLoss"),i=u5(t,"predictions","logLoss");let s=null;null!=n&&(s=u5(n,"weights","logLoss")),wJ(a.shape,i.shape,"Error in logLoss: ");const l=a8(1),u=a8(r),c=Z8(K6(a,Kee(H6(i,u)))),d=K6(y8(l,a),Kee(H6(y8(l,i),u))),p=y8(c,d);return Lre(p,s,o)}});const Hre=p5({meanSquaredError_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:_re.SUM_BY_NONZERO_WEIGHTS;const o=u5(e,"labels","meanSquaredError"),a=u5(t,"predictions","meanSquaredError");let i=null;null!=n&&(i=u5(n,"weights","meanSquaredError")),wJ(o.shape,a.shape,"Error in meanSquaredError: ");const s=vne(o,a);return Lre(s,i,r)}});const Gre=p5({sigmoidCrossEntropy_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:_re.SUM_BY_NONZERO_WEIGHTS,a=u5(e,"multiClassLabels","sigmoidCrossEntropy");const i=u5(t,"logits","sigmoidCrossEntropy");let s=null;if(null!=n&&(s=u5(n,"weights","sigmoidCrossEntropy")),wJ(a.shape,i.shape,"Error in sigmoidCrossEntropy: "),r>0){const e=a8(r),t=a8(1),n=a8(.5);a=H6(K6(a,y8(t,e)),K6(n,e))}const l=function(e,t){const n=u5(e,"labels","sigmoidCrossEntropyWithLogits"),r=u5(t,"logits","sigmoidCrossEntropyWithLogits");wJ(n.shape,r.shape,"Error in sigmoidCrossEntropyWithLogits: ");const o=qte(r),a=K6(r,n),i=Xee(Mee(Z8(b8(r))));return H6(y8(o,a),i)}(a,i);return Lre(l,s,o)}});const qre=p5({softmaxCrossEntropy_:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:_re.SUM_BY_NONZERO_WEIGHTS,a=u5(e,"onehotLabels","softmaxCrossEntropy");const i=u5(t,"logits","softmaxCrossEntropy");let s=null;if(null!=n&&(s=u5(n,"weights","softmaxCrossEntropy")),wJ(a.shape,i.shape,"Error in softmaxCrossEntropy: "),r>0){const e=a8(r),t=a8(1),n=a8(a.shape[1]);a=H6(K6(a,y8(t,e)),q6(e,n))}const l=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(-1===n&&(n=t.rank-1),n!==t.rank-1)throw Error(`Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank ${t.rank} and dim was ${n}`);const r=r8(((e,t,r)=>{const o=Jee(t,[n],!0),a=y8(W6(t,"float32"),o);r([e,a]);const i=Z8(K6(a,e));return{value:Iee(i,[n]),gradFunc:(e,t)=>{const[r,o]=t,a=xee(e.shape,[n]);return[K6(A7(e,a),y8(W6(r,"float32"),Mee(o))),K6(A7(e,a),y8(Mee(o),W6(r,"float32")))]}}}));return r(e,t)}(a,i);return Lre(l,s,o)}});const Kre={fft:hne,ifft:fne,rfft:yne,irfft:mne},Xre={hammingWindow:ore,hannWindow:are,frame:ire,stft:sre},Yre={flipLeftRight:ure,grayscaleToRGB:cre,resizeNearestNeighbor:Ore,resizeBilinear:Nre,rgbToGrayscale:dre,rotateWithOffset:pre,cropAndResize:lre,nonMaxSuppression:fre,nonMaxSuppressionAsync:Are,nonMaxSuppressionWithScore:Cre,nonMaxSuppressionWithScoreAsync:Tre,nonMaxSuppressionPadded:Ire,nonMaxSuppressionPaddedAsync:Ere,threshold:Mre,transform:Dre},Qre={bandPart:Rre,gramSchmidt:Pre,qr:jre},Zre={absoluteDifference:zre,computeWeightedLoss:Lre,cosineDistance:Bre,hingeLoss:Wre,huberLoss:Vre,logLoss:Ure,meanSquaredError:Hre,sigmoidCrossEntropy:Gre,softmaxCrossEntropy:qre},Jre={sparseFillEmptyRows:p5({sparseFillEmptyRows_:function(e,t,n,r){const o=u5(e,"indices","sparseFillEmptyRows","int32"),a=u5(t,"values","sparseFillEmptyRows"),i=u5(n,"denseShape","sparseFillEmptyRows","int32"),s=u5(r,"defaultValue","sparseFillEmptyRows",a.dtype);if(2!==o.rank)throw new Error(`Indices should be Tensor2D but received shape\n        ${o.shape}`);if(1!==a.rank)throw new Error(`Values should be Tensor1D but received shape ${a.shape}`);if(1!==i.rank)throw new Error(`Dense shape should be Tensor1D but received shape ${i.shape}`);if(0!==s.rank)throw new Error(`Default value should be a scalar but received shape ${s.shape}`);const l={indices:o,values:a,denseShape:i,defaultValue:s},u=J4.runKernel(n3,l);return{outputIndices:u[0],outputValues:u[1],emptyRowIndicator:u[2],reverseIndexMap:u[3]}}}),sparseReshape:p5({sparseReshape_:function(e,t,n){const r=u5(e,"inputIndices","sparseReshape","int32"),o=u5(t,"inputShape","sparseReshape","int32"),a=u5(n,"newShape","sparseReshape","int32");if(2!==r.rank)throw new Error(`Input indices should be Tensor2D but received shape\n        ${r.shape}`);if(1!==o.rank)throw new Error(`Input shape should be Tensor1D but received shape ${o.shape}`);if(1!==a.rank)throw new Error(`New shape should be Tensor1D but received shape ${a.shape}`);const i={inputIndices:r,inputShape:o,newShape:a},s=J4.runKernel(r3,i);return{outputIndices:s[0],outputShape:s[1]}}}),sparseSegmentMean:p5({sparseSegmentMean_:function(e,t,n){const r=u5(e,"data","sparseSegmentMean"),o=u5(t,"indices","sparseSegmentMean","int32"),a=u5(n,"segmentIds","sparseSegmentMean","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==o.rank)throw new Error(`Indices should be Tensor1D but received shape\n          ${o.shape}`);if(1!==a.rank)throw new Error(`Segment ids should be Tensor1D but received shape\n          ${a.shape}`);const i={data:r,indices:o,segmentIds:a};return J4.runKernel(o3,i)}}),sparseSegmentSum:p5({sparseSegmentSum_:function(e,t,n){const r=u5(e,"data","sparseSegmentSum"),o=u5(t,"indices","sparseSegmentSum","int32"),a=u5(n,"segmentIds","sparseSegmentSum","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==o.rank)throw new Error(`Indices should be Tensor1D but received shape\n         ${o.shape}`);if(1!==a.rank)throw new Error(`Segment ids should be Tensor1D but received shape\n         ${a.shape}`);const i={data:r,indices:o,segmentIds:a};return J4.runKernel(a3,i)}})},eoe={stringNGrams:p5({stringNGrams_:function(e,t,n,r,o,a,i,s){const l=u5(e,"data","stringNGrams","string");if("string"!==l.dtype)throw new Error("Data must be of datatype string");if(1!==l.shape.length)throw new Error(`Data must be a vector, saw: ${l.shape}`);const u=u5(t,"dataSplits","stringNGrams");if("int32"!==u.dtype)throw new Error("Data splits must be of datatype int32");const c={separator:n,nGramWidths:r,leftPad:o,rightPad:a,padWidth:i,preserveShortSequences:s},d={data:l,dataSplits:u},p=J4.runKernel(d3,d,c);return{nGrams:p[0],nGramsSplits:p[1]}}}),stringSplit:p5({stringSplit_:function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=u5(e,"input","stringSplit","string"),o=u5(t,"delimiter","stringSplit","string");if(1!==r.rank)throw new Error(`Input should be Tensor1D but received shape ${r.shape}`);if(0!==o.rank)throw new Error(`Delimiter should be a scalar but received shape ${o.shape}`);const a={skipEmpty:n},i={input:r,delimiter:o},s=J4.runKernel(p3,i,a);return{indices:s[0],values:s[1],shape:s[2]}}}),stringToHashBucketFast:p5({stringToHashBucketFast_:function(e,t){const n=u5(e,"input","stringToHashBucketFast","string"),r={numBuckets:t};if(t<=0)throw new Error("Number of buckets must be at least 1");const o={input:n};return J4.runKernel(h3,o,r)}}),staticRegexReplace:p5({staticRegexReplace_:function(e,t,n){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const o=u5(e,"input","staticRegexReplace","string"),a={pattern:t,rewrite:n,replaceGlobal:r};return J4.runKernel(u3,{x:o},a)}})},toe=Y9,noe="undefined"!==typeof requestAnimationFrame?requestAnimationFrame:"undefined"!==typeof setImmediate?setImmediate:e=>e();function roe(){return new Promise((e=>noe((()=>e()))))}function ooe(e,t){const n=e[0].length;e.forEach(((e,t)=>{xJ(e.length===n,(()=>`Error in concat${n}D: rank of tensors[${t}] must be the same as the rank of the rest (${n})`))})),xJ(t>=0&&t<n,(()=>`Error in concat${n}D: axis must be between 0 and ${n-1}.`));const r=e[0];e.forEach(((e,o)=>{for(let a=0;a<n;a++)xJ(a===t||e[a]===r[a],(()=>`Error in concat${n}D: Shape of tensors[${o}] (${e}) does not match the shape of the rest (${r}) along the non-concatenated axis ${o}.`))}))}function aoe(e,t){const n=e[0].slice();for(let r=1;r<e.length;r++)n[t]+=e[r][t];return n}var ioe,soe;function loe(e,t,n){let r=new Array;if(null==n&&null==t)return r;if(null==t)for(;r.length<e+n.length;)r.push(-1);else r=t.slice();if(null==n)return r;if(e+n.length!==r.length)throw new Error(`rt input.shape and shape=${t} are incompatible: rt input.rank = ${e+n.length}, but shape.rank = ${r.length}`);for(let o=1;o<n.length;++o){const a=n[o],i=r[r.length-n.length+o],s=r[i];if(a>=0)if(s>=0){if(s!==a)throw new Error(`rt input.shape and shape=${t} are incompatible: rt input.shape[${o+e}] = ${a} but shape[${o+e}] = ${s}`)}else r[i]=a}return r}function uoe(e){const t={FIRST_DIM_SIZE:ioe.FIRST_DIM_SIZE,VALUE_ROWIDS:ioe.VALUE_ROWIDS,ROW_LENGTHS:ioe.ROW_LENGTHS,ROW_SPLITS:ioe.ROW_SPLITS,ROW_LIMITS:ioe.ROW_LIMITS,ROW_STARTS:ioe.ROW_STARTS},n=[];for(const r of e){if(!(r in t))break;n.push(t[r])}return n}function coe(e){return 0===e.length?0:e[0]===ioe.FIRST_DIM_SIZE?e.length-1:e.length}function doe(e,t){if(null==e||null==t)return;const n=e.length,r=t.length;if(n>=r)throw new Error(`defaultValue.shape=${e} and ragged tensor flatValues.shape=${t}, are incompatible: defaultValue.rank = ${n} must be less than ragged tensor input flatValues.rank = ${r})`);for(let o=0;o<Math.min(n,r-1);++o){const n=e[o],r=t[o+1];if(n>=0&&r>=0&&1!==n&&n!==r)throw new Error(`defaultValue.shape=${e}, and ragged tensor input flatValues.shape=${t} are incompatible: defaultValue.shape[${o-e.length}] = ${n} but ragged tensor input.flatValues.shape[${o-e.length}] = ${r}`)}}(soe=ioe||(ioe={}))[soe.FIRST_DIM_SIZE=0]="FIRST_DIM_SIZE",soe[soe.VALUE_ROWIDS=1]="VALUE_ROWIDS",soe[soe.ROW_LENGTHS=2]="ROW_LENGTHS",soe[soe.ROW_SPLITS=3]="ROW_SPLITS",soe[soe.ROW_LIMITS=4]="ROW_LIMITS",soe[soe.ROW_STARTS=5]="ROW_STARTS";const poe=30;function hoe(e){return e<=poe?e:KJ(e,Math.floor(Math.sqrt(e)))}function foe(e,t,n){return[n*("number"===typeof e?e:e[0]),t*("number"===typeof e?e:e[1])]}function moe(e,t,n){let r=[];if(!(arguments.length>3&&void 0!==arguments[3])||arguments[3])r=r.concat(t.slice(0)),r.push(e[0]/n),r=r.concat(e.slice(1));else{r=r.concat(e[0]);const n=t.length;for(let o=0;o<n;++o)r=r.concat([e[o+1]/t[o],t[o]]);r=r.concat(e.slice(n+1))}return r}function goe(e,t){const n=[];if(!(arguments.length>2&&void 0!==arguments[2])||arguments[2]){n.push(t);for(let r=t+1;r<e;++r)r<=2*t?(n.push(r),n.push(r-(t+1))):n.push(r)}else{const r=[],o=[];for(let n=1;n<e;++n)n>=2*t+1||n%2===1?o.push(n):r.push(n);n.push(...r),n.push(0),n.push(...o)}return n}function yoe(e,t,n){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const o=[];r?o.push(e[0]/n):o.push(e[0]*n);for(let a=1;a<e.length;++a)a<=t.length?r?o.push(t[a-1]*e[a]):o.push(e[a]/t[a-1]):o.push(e[a]);return o}function voe(e,t){const n=[0];for(let r=0;r<t;++r)n.push(e[r][0]);return n}function boe(e,t,n){const r=e.slice(0,1);for(let o=0;o<n;++o)r.push(e[o+1]-t[o][0]-t[o][1]);return r}const xoe=1.7580993408473768,woe=1.0507009873554805,koe=.3275911,Soe=.254829592,Aoe=-.284496736,Coe=1.421413741,Toe=-1.453152027,Ioe=1.061405429;function Eoe(e,t){if(e.length!==t.length)throw new Error(`Cannot merge real and imag arrays of different lengths. real:${e.length}, imag: ${t.length}.`);const n=new Float32Array(2*e.length);for(let r=0;r<n.length;r+=2)n[r]=e[r/2],n[r+1]=t[r/2];return n}function Noe(e){const t=new Float32Array(e.length/2),n=new Float32Array(e.length/2);for(let r=0;r<e.length;r+=2)t[r/2]=e[r],n[r/2]=e[r+1];return{real:t,imag:n}}function Ooe(e){const t=Math.ceil(e.length/4),n=new Float32Array(t),r=new Float32Array(t);for(let o=0;o<e.length;o+=4)n[Math.floor(o/4)]=e[o],r[Math.floor(o/4)]=e[o+1];return{real:n,imag:r}}function Moe(e){const t=Math.floor(e.length/4),n=new Float32Array(t),r=new Float32Array(t);for(let o=2;o<e.length;o+=4)n[Math.floor(o/4)]=e[o],r[Math.floor(o/4)]=e[o+1];return{real:n,imag:r}}function Doe(e,t){return{real:e[2*t],imag:e[2*t+1]}}function Roe(e,t,n,r){e[2*r]=t,e[2*r+1]=n}function Poe(e,t){const n=new Float32Array(e/2),r=new Float32Array(e/2);for(let o=0;o<Math.ceil(e/2);o++){const a=(t?2:-2)*Math.PI*(o/e);n[o]=Math.cos(a),r[o]=Math.sin(a)}return{real:n,imag:r}}function $oe(e,t,n){const r=(n?2:-2)*Math.PI*(e/t);return{real:Math.cos(r),imag:Math.sin(r)}}const joe="->",_oe=/->/g,Foe=",",Loe="...";function zoe(e,t){const n=((e=e.replace(/\s/g,"")).length-e.replace(_oe,"").length)/joe.length;if(n<1)throw new Error("Equations without an arrow are not supported.");if(n>1)throw new Error(`Equation must contain exactly one arrow ("${joe}").`);const[r,o]=e.split(joe);xJ(-1===r.indexOf(Loe),(()=>`The ellipsis notation ("${Loe}") is not supported yet.`));const a=r.split(Foe),i=a.length;if(t!==i)throw new Error(`Expected ${i} input tensors, received ${t}`);if(i>2)throw new Error("Support for more than 2 input tensors is not implemented yet.");const s=[];for(let d=0;d<o.length;++d){const e=o[d];if(!a.some((t=>-1!==t.indexOf(e))))throw new Error(`Output subscripts contain the label ${e} not present in the input subscripts.`);-1===s.indexOf(e)&&s.push(e)}for(let d=0;d<r.length;++d){const e=r[d];-1===s.indexOf(e)&&e!==Foe&&s.push(e)}const l=new Array(a.length);for(let d=0;d<i;++d){if(new Set(a[d].split("")).size!==a[d].length)throw new Error(`Found duplicate axes in input component ${a[d]}. Support for duplicate axes in input is not implemented yet.`);l[d]=[];for(let e=0;e<a[d].length;++e)l[d].push(s.indexOf(a[d][e]))}const u=s.length,c=[];for(let d=o.length;d<u;++d)c.push(d);return{allDims:s,summedDims:c,idDims:l}}function Boe(e,t){let n=new Array(e);n.fill(-1);for(let o=0;o<t.length;++o)n[t[o]]=o;const r=[];for(let o=0;o<e;++o)-1===n[o]&&r.push(o);return n=n.filter((e=>-1!==e)),{permutationIndices:n,expandDims:r}}function Woe(e,t,n){const r=new Array(e);for(let o=0;o<n.length;++o){const e=n[o].shape;for(let n=0;n<t[o].length;++n)void 0===r[t[o][n]]?r[t[o][n]]=e[n]:xJ(r[t[o][n]]===e[n],(()=>`Expected dimension ${r[t[o][n]]} at axis ${n} of input shaped ${JSON.stringify(e)}, but got dimension ${e[n]}`))}}function Voe(e,t){const n=e,r=[];let o=0;0===e.length&&n.push(-1),o=e.length+1;for(let i=0;i<o;++i)r.push([]);const a=[];for(let i=0;i<n.length;++i){const e=Hoe(t,n[i]);for(const t of e)-1===a.indexOf(t)&&(r[i].push(t),a.push(t))}return{path:n,steps:r}}function Uoe(e){return e.every(((e,t)=>e===t))}function Hoe(e,t){const n=[];for(let r=0;r<e.length;++r)0!==e[r].length&&-1===e[r].indexOf(t)&&-1!==t||n.push(r);return n}function Goe(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=[];if("number"===typeof t)xJ(e.shape[n]%t===0,(()=>"Number of splits must evenly divide the axis.")),r=new Array(t).fill(e.shape[n]/t);else{xJ(t.reduce(((e,t)=>(-1===t&&(e+=1),e)),0)<=1,(()=>"There should be only one negative value in split array."));const o=t.indexOf(-1);if(-1!==o){const r=t.reduce(((e,t)=>t>0?e+t:e));t[o]=e.shape[n]-r}xJ(e.shape[n]===t.reduce(((e,t)=>e+t)),(()=>"The sum of sizes must match the size of the axis dimension.")),r=t}return r}function qoe(e){return`Received SparseTensor with denseShape[0] = 0 but\n  indices.shape[0] = ${e}`}function Koe(e,t){return`indices(${e}, 0) is invalid: ${t} < 0`}function Xoe(e,t,n){return`indices(${e}, 0) is invalid: ${t} >= ${n}`}function Yoe(e,t){return`only one output dimension may be -1, not both ${e} and ${t}`}function Qoe(e,t){return`size ${e} must be non-negative, not ${t}`}function Zoe(){return"reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero"}function Joe(e,t){return`Input to reshape is a SparseTensor with ${SJ(e)}\n  dense values, but the requested shape requires a multiple of ${SJ(t)}. inputShape=${e} outputShape= ${t}`}function eae(e,t){return`Input to reshape is a tensor with ${SJ(e)} dense values, but the requested shape has ${SJ(t)}. inputShape=${e} outputShape=${t}`}function tae(){return"segment ids must be >= 0"}function nae(){return"segment ids are not increasing"}function rae(e,t){return`Segment id ${e} out of range [0, ${t}), possibly because segmentIds input is not sorted.`}function oae(e,t,n){return`Bad: indices[${e}] == ${t} out of range [0, ${n})`}function aae(e,t){let n,r=!1;for(e<=poe?(n=e,r=!0):n=KJ(e,Math.floor(Math.sqrt(e)));!r;)n>t||n===e?r=!0:n=KJ(e,n+1);return n}function iae(e,t,n){const r=[],o=e.length;for(let a=0;a<o;a++)a!==t?r.push(e[a]):r.push(n);return r}function sae(e,t,n,r){const o=t.shape.length,a=e.shape.length;if(0!==r&&(r<-o||r>o))throw new Error(`Expect batchDims in the range of [-${o}, ${o}], but got ${r}`);if(r<0&&(r+=o),r>a)throw new Error(`batchDims (${r}) must be less than rank(x) (\n    ${a}).`);if(n<r)throw new Error(`batchDims (${r}) must be less than or equal to axis (${n}).`);for(let d=0;d<r;++d)if(e.shape[d]!==t.shape[d])throw new Error(`x.shape[${d}]: ${e.shape[d]} should be equal to indices.shape[${d}]: ${t.shape[d]}.`);const i=e.shape[n],s=[];let l=1,u=1,c=1;for(let d=0;d<r;++d)s.push(e.shape[d]),l*=e.shape[d];for(let d=r;d<n;d++)s.push(e.shape[d]),u*=e.shape[d];for(let d=r;d<o;d++)s.push(t.shape[d]);for(let d=n+1;d<a;d++)s.push(e.shape[d]),c*=e.shape[d];return{batchSize:l,sliceSize:c,outerSize:u,dimSize:i,outputShape:s}}function lae(e){try{return e.map((e=>d4(e)))}catch(JBe){throw new Error(`Failed to decode encoded string bytes into utf-8, error: ${JBe}`)}}function uae(e){return e.map((e=>c4(e)))}!function(){for(const e of E8)c8(e)}();var cae,dae,pae;u0().registerFlag("KEEP_INTERMEDIATE_TENSORS",(()=>!1),(e=>{e&&console.warn("Keep intermediate tensors is ON. This will print the values of all intermediate tensors during model inference. Not all models support this mode. For details, check e2e/benchmarks/ model_config.js. This significantly impacts performance.")})),(dae=cae||(cae={}))[dae.DT_INVALID=0]="DT_INVALID",dae[dae.DT_FLOAT=1]="DT_FLOAT",dae[dae.DT_DOUBLE=2]="DT_DOUBLE",dae[dae.DT_INT32=3]="DT_INT32",dae[dae.DT_UINT8=4]="DT_UINT8",dae[dae.DT_INT16=5]="DT_INT16",dae[dae.DT_INT8=6]="DT_INT8",dae[dae.DT_STRING=7]="DT_STRING",dae[dae.DT_COMPLEX64=8]="DT_COMPLEX64",dae[dae.DT_INT64=9]="DT_INT64",dae[dae.DT_BOOL=10]="DT_BOOL",dae[dae.DT_QINT8=11]="DT_QINT8",dae[dae.DT_QUINT8=12]="DT_QUINT8",dae[dae.DT_QINT32=13]="DT_QINT32",dae[dae.DT_BFLOAT16=14]="DT_BFLOAT16",dae[dae.DT_QINT16=15]="DT_QINT16",dae[dae.DT_QUINT16=16]="DT_QUINT16",dae[dae.DT_UINT16=17]="DT_UINT16",dae[dae.DT_COMPLEX128=18]="DT_COMPLEX128",dae[dae.DT_HALF=19]="DT_HALF",dae[dae.DT_RESOURCE=20]="DT_RESOURCE",dae[dae.DT_VARIANT=21]="DT_VARIANT",dae[dae.DT_UINT32=22]="DT_UINT32",dae[dae.DT_UINT64=23]="DT_UINT64",dae[dae.DT_FLOAT_REF=101]="DT_FLOAT_REF",dae[dae.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",dae[dae.DT_INT32_REF=103]="DT_INT32_REF",dae[dae.DT_UINT8_REF=104]="DT_UINT8_REF",dae[dae.DT_INT16_REF=105]="DT_INT16_REF",dae[dae.DT_INT8_REF=106]="DT_INT8_REF",dae[dae.DT_STRING_REF=107]="DT_STRING_REF",dae[dae.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",dae[dae.DT_INT64_REF=109]="DT_INT64_REF",dae[dae.DT_BOOL_REF=110]="DT_BOOL_REF",dae[dae.DT_QINT8_REF=111]="DT_QINT8_REF",dae[dae.DT_QUINT8_REF=112]="DT_QUINT8_REF",dae[dae.DT_QINT32_REF=113]="DT_QINT32_REF",dae[dae.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF",dae[dae.DT_QINT16_REF=115]="DT_QINT16_REF",dae[dae.DT_QUINT16_REF=116]="DT_QUINT16_REF",dae[dae.DT_UINT16_REF=117]="DT_UINT16_REF",dae[dae.DT_COMPLEX128_REF=118]="DT_COMPLEX128_REF",dae[dae.DT_HALF_REF=119]="DT_HALF_REF",dae[dae.DT_RESOURCE_REF=120]="DT_RESOURCE_REF",dae[dae.DT_VARIANT_REF=121]="DT_VARIANT_REF",dae[dae.DT_UINT32_REF=122]="DT_UINT32_REF",dae[dae.DT_UINT64_REF=123]="DT_UINT64_REF",function(e){let t;!function(e){e[e.LEGACY=0]="LEGACY",e[e.V1=1]="V1",e[e.V2=2]="V2"}(t=e.CheckpointFormatVersion||(e.CheckpointFormatVersion={}))}(pae||(pae={}));const hae={};function fae(e){return hae[e]}function mae(e,t,n,r,o){const a=t.inputParams[e];if(a&&void 0!==a.inputIndexStart){const e=a.inputIndexStart,i=0===a.inputIndexEnd?void 0:void 0===a.inputIndexEnd?e+1:a.inputIndexEnd,s=e<0?t.inputNames.length+e:e;if("tensor"===a.type)return gae(t.inputNames[s],n,r,o);if("tensors"===a.type){const a=t.inputs.slice(e,i);return t.inputNames.slice(e,i).filter(((e,t)=>{var n;return"NoOp"!==(null===(n=a[t])||void 0===n?void 0:n.op)})).map((e=>gae(e,n,r,o)))}const l=gae(t.inputNames[s],n,r,o),u=l.dataSync();return"number"===a.type?u[0]:QJ(l.shape,u)}const i=t.attrParams[e];return i&&i.value}function gae(e,t,n,r){const[o,a]=xae(e,n);if(null!=r){const e=r.getHashTableHandleByName(o);if(null!=e)return e}const i=n.currentContextIds.find((e=>!!t[bae(o,e)]));return void 0!==i?t[bae(o,i)][a]:void 0}function yae(e,t,n){return t[bae(e,n.currentContextId)]}function vae(e,t){const[n,r,o]=xae(e,t);return[bae(n,t&&t.currentContextId),r,o]}function bae(e,t){return t?`${e}-${t}`:e}function xae(e,t){if(""===e)return["",0,void 0];const n=null!=t&&null!=t.parseNodeNameCache;if(n){const n=t.parseNodeNameCache.get(e);if(null!=n)return n}const r=e.split(":");let o;if(1===r.length)o=[e,0,void 0];else{const e=r[0],t=3===r.length?r[1]:void 0;o=[e,Number(r[r.length-1]),t]}return n&&t.parseNodeNameCache.set(e,o),o}function wae(e,t,n){let r=mae("pad",e,t,n);if("explicit"===r){r=mae("explicitPaddings",e,t,n);const o=[[0,0],[0,0],[0,0],[0,0]];for(let e=0;e<4;e++)o[e][0]=r[2*e],o[e][1]=r[2*e+1];return o}return r}function kae(e){return e.kept?e:V6(e)}const Sae=[{tfOpName:"Add",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddV2",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",category:"arithmetic",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"Sub",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"DivNoNan",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Minimum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Pow",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorMod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],Aae=[{tfOpName:"Abs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan2",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"clipValueMin",type:"number"},{start:2,name:"clipValueMax",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Complex",category:"basic_math",inputs:[{start:0,name:"real",type:"tensor"},{start:1,name:"imag",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ComplexAbs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Imag",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Real",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Prelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"alpha",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Selu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LeakyRelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"alpha",name:"alpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsNan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsFinite",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsInf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],Cae=[{tfOpName:"EmptyTensorList",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"maxNumElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"LoopCond",category:"control",inputs:[{start:0,name:"pred",type:"tensor"}]},{tfOpName:"Switch",category:"control",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"pred",type:"tensor"}]},{tfOpName:"Merge",category:"control",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"Enter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"frame_name",name:"frameName",type:"string"},{tfName:"is_constant",name:"isConstant",type:"bool"}]},{tfOpName:"Exit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",category:"control",inputs:[{start:0,name:"size",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"dynamic_size",name:"dynamicSize",type:"bool"},{tfName:"clear_after_read",name:"clearAfterRead",type:"bool"},{tfName:"identical_element_shapes",name:"identicalElementShapes",type:"bool"},{tfName:"tensor_array_name",name:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape_except0",name:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"tensor",type:"tensor"},{start:2,name:"lengths",type:"number[]"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"}]},{tfOpName:"StatelessIf",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"If",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"StatelessWhile",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"While",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"TensorListScatter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListScatterV2",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"},{start:3,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGather",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListSetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListReserve",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListFromTensor",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListStack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"},{tfName:"num_elements",name:"numElements",type:"dtype"}]},{tfOpName:"TensorListSplit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"},{start:2,name:"lengths",type:"number[]"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcat",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcatV2",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPopBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPushBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListLength",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}]},{tfOpName:"TensorListResize",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"size",type:"number"}]}],Tae=[{tfOpName:"AvgPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[],notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPoolWithArgmax",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"include_batch_in_index",name:"includeBatchInIndex",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AvgPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"stride",name:"stride",type:"number"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NWC"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"dilation",name:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"useCudnnOnGpu",name:"useCudnnOnGpu",type:"bool"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"_FusedConv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"use_cudnn_on_gpu",name:"useCudnnOnGpu",type:"bool",defaultValue:!0},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2}]},{tfOpName:"Conv2DBackpropInput",category:"convolution",inputs:[{start:2,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:0,name:"outputShape",type:"number[]"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]",notSupported:!0}]},{tfOpName:"DepthwiseConv2d",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"FusedDepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]}]},{tfOpName:"Conv3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"Dilation2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"rates",name:"dilations",type:"number[]"},{tfName:"padding",name:"pad",type:"string"}]}],Iae=[{tfOpName:"Fill",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"},{start:1,name:"value",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"num",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",category:"creation",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"depth",type:"number"},{start:2,name:"onValue",type:"number",defaultValue:1},{start:3,name:"offValue",type:"number",defaultValue:0}],attrs:[{tfName:"axis",name:"axis",type:"number",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Ones",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"RandomStandardNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniform",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number",defaultValue:0},{tfName:"maxval",name:"maxval",type:"number",defaultValue:1},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniformInt",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number"},{tfName:"maxval",name:"maxval",type:"number"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Range",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"step",type:"number",defaultValue:0}],attrs:[{tfName:"Tidx",name:"dtype",type:"dtype"}]},{tfOpName:"TruncatedNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"means",name:"mean",type:"number",defaultValue:0},{tfName:"stddev",name:"stdDev",type:"number",defaultValue:1},{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Multinomial",category:"creation",inputs:[{start:0,name:"logits",type:"tensor"},{start:1,name:"numSamples",type:"number"}],attrs:[{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number"},{tfName:"T",name:"dtype",type:"dtype"},{tfName:"output_dtype",name:"output_dtype",type:"dtype"}]}],Eae=[{tfOpName:"NonMaxSuppressionV2",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV4",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"T_threshold",name:"threshold",type:"dtype",notSupported:!0},{tfName:"pad_to_max_output_size",name:"padToMaxOutputSize",type:"bool"}]},{tfOpName:"NonMaxSuppressionV5",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"},{start:5,name:"softNmsSigma",type:"number"}]},{tfOpName:"Where",category:"dynamic",inputs:[{start:0,name:"condition",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ListDiff",category:"dynamic",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],Nae=[{tfOpName:"LowerBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"TopKV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"k",type:"number"}],attrs:[{tfName:"sorted",name:"sorted",type:"bool"}]},{tfOpName:"UpperBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"Unique",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"UniqueV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]}],Oae=[{tfOpName:"PlaceholderWithDefault",category:"graph",inputs:[{start:0,name:"default",type:"tensor"}],attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",category:"graph",attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Const",category:"graph"},{tfOpName:"Identity",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IdentityN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Snapshot",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Rank",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Size",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Shape",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"ShapeN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Print",category:"graph",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"data",type:"tensors"}],attrs:[{tfName:"message",name:"message",type:"string"},{tfName:"first_n",name:"firstN",type:"number",notSupported:!0},{tfName:"summarize",name:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",category:"graph",inputs:[]},{tfOpName:"StopGradient",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"min",name:"min",type:"number"},{tfName:"max",name:"max",type:"number"}]}],Mae=[{tfOpName:"HashTable",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"HashTableV2",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"LookupTableImport",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableImportV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFind",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFindV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableSize",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"LookupTableSizeV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"InitializeTable",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]},{tfOpName:"InitializeTableV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]}],Dae=[{tfOpName:"ResizeBilinear",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"CropAndResize",category:"image",inputs:[{start:0,name:"image",type:"tensor"},{start:1,name:"boxes",type:"tensor"},{start:2,name:"boxInd",type:"tensor"},{start:3,name:"cropSize",type:"number[]"}],attrs:[{tfName:"method",name:"method",type:"string"},{tfName:"extrapolation_value",name:"extrapolationValue",type:"number"}]},{tfOpName:"ImageProjectiveTransformV3",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"transforms",type:"tensor"},{start:2,name:"outputShape",type:"number[]"},{start:3,name:"fillValue",type:"number"}],attrs:[{tfName:"interpolation",name:"interpolation",type:"string"},{tfName:"fill_mode",name:"fillMode",type:"string"}]}],Rae=[{tfOpName:"Equal",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",category:"logical",inputs:[{start:0,name:"a",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SelectV2",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BitwiseAnd",category:"logical",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}]}],Pae=[{tfOpName:"_FusedMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMulV2",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",category:"matrices",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"perm",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Einsum",category:"matrices",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"equation",name:"equation",type:"string"},{tfName:"N",name:"n",type:"number",defaultValue:2},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"MatrixBandPart",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"numLower",type:"tensor"},{start:1,name:"numUpper",type:"tensor"}]}],$ae=[{tfOpName:"EuclideanNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",defaultValue:!1}]},{tfOpName:"FusedBatchNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV3",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"depth_radius",name:"radius",type:"number",defaultValue:5},{tfName:"bias",name:"bias",type:"number",defaultValue:1},{tfName:"alpha",name:"alpha",type:"number",defaultValue:1},{tfName:"beta",name:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"LogSoftmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]}],jae=[{tfOpName:"Bincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}]},{tfOpName:"DenseBincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}],attrs:[{tfName:"binary_output",name:"binaryOutput",type:"bool"}]},{tfOpName:"Max",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Mean",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Min",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Sum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"All",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Any",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"ArgMin",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Prod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cumprod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]},{tfOpName:"Cumsum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]}],_ae=[{tfOpName:"ConcatV2",category:"slice_join",inputs:[{start:0,end:-1,name:"tensors",type:"tensors"},{start:-1,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"Concat",category:"slice_join",inputs:[{start:1,end:0,name:"tensors",type:"tensors"},{start:0,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"GatherV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"axis",type:"number",defaultValue:0}],attrs:[{tfName:"batch_dims",name:"batchDims",type:"number",defaultValue:0}]},{tfOpName:"Gather",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"dims",type:"bool[]"}]},{tfOpName:"ReverseV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}]},{tfOpName:"Slice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"size",type:"number[]"}]},{tfOpName:"StridedSlice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"end",type:"number[]"},{start:3,name:"strides",type:"number[]"}],attrs:[{tfName:"begin_mask",name:"beginMask",type:"number",defaultValue:0},{tfName:"end_mask",name:"endMask",type:"number",defaultValue:0},{tfName:"new_axis_mask",name:"newAxisMask",type:"number",defaultValue:0},{tfName:"ellipsis_mask",name:"ellipsisMask",type:"number",defaultValue:0},{tfName:"shrink_axis_mask",name:"shrinkAxisMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",category:"slice_join",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"num",name:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"reps",type:"number[]"}]},{tfOpName:"Split",category:"slice_join",inputs:[{start:0,name:"axis",type:"number",defaultValue:0},{start:1,name:"x",type:"tensor"}],attrs:[{tfName:"num_split",name:"numOrSizeSplits",type:"number",defaultValue:1}]},{tfOpName:"SplitV",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"numOrSizeSplits",type:"number[]"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"ScatterNd",category:"slice_join",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"shape",type:"number[]"}]},{tfOpName:"GatherNd",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}]},{tfOpName:"SparseToDense",category:"slice_join",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!1,notSupported:!0}]},{tfOpName:"TensorScatterUpdate",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"values",type:"tensor"}]}],Fae=[{tfOpName:"SparseFillEmptyRows",category:"sparse",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"denseShape",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}]},{tfOpName:"SparseReshape",category:"sparse",inputs:[{start:0,name:"inputIndices",type:"tensor"},{start:1,name:"inputShape",type:"tensor"},{start:2,name:"newShape",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SparseSegmentMean",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]},{tfOpName:"SparseSegmentSum",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]}],Lae=[{tfOpName:"FFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"RFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]},{tfOpName:"IRFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]}],zae=[{tfOpName:"StaticRegexReplace",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"pattern",name:"pattern",type:"string"},{tfName:"rewrite",name:"rewrite",type:"string"},{tfName:"replace_global",name:"replaceGlobal",type:"bool"}]},{tfOpName:"StringNGrams",category:"string",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"dataSplits",type:"tensor"}],attrs:[{tfName:"separator",name:"separator",type:"string"},{tfName:"ngram_widths",name:"nGramWidths",type:"number[]"},{tfName:"left_pad",name:"leftPad",type:"string"},{tfName:"right_pad",name:"rightPad",type:"string"},{tfName:"pad_width",name:"padWidth",type:"number"},{tfName:"preserve_short_sequences",name:"preserveShortSequences",type:"bool"}],outputs:["ngrams","ngrams_splits"]},{tfOpName:"StringSplit",category:"string",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"delimiter",type:"tensor"}],attrs:[{tfName:"skip_empty",name:"skipEmpty",type:"bool"}],outputs:["indices","values","shape"]},{tfOpName:"StringToHashBucketFast",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"num_buckets",name:"numBuckets",type:"number"}]}],Bae=[{tfOpName:"Cast",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"SrcT",name:"sdtype",type:"dtype",notSupported:!0},{tfName:"DstT",name:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"MirrorPad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"mode",name:"mode",type:"string"}]},{tfOpName:"Pad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"constant_value",name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"},{start:2,name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"EnsureShape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"Squeeze",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"axis",tfDeprecatedName:"squeeze_dims",name:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"crops",type:"number[]"}]},{tfOpName:"DepthToSpace",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"block_size",name:"blockSize",type:"number"},{tfName:"data_format",name:"dataFormat",type:"string"}]},{tfOpName:"BroadcastTo",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}],attrs:[]},{tfOpName:"BroadcastArgs",category:"transformation",inputs:[{start:0,name:"s0",type:"tensor"},{start:1,name:"s1",type:"tensor"}],attrs:[]}];class Wae{static get Instance(){return this._instance||(this._instance=new this)}constructor(){const e=[].concat(...[x,w,k,S,A,C,T,I,E,N,O,M,D,R,P,$,j,_,F].map((e=>e.json)));this.opMappers=e.reduce(((e,t)=>(e[t.tfOpName]=t,e)),{})}transformGraph(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.node,r=[],o=[],a=[],i=n.reduce(((e,t)=>(e[t.name]=this.mapNode(t),t.op.startsWith("Placeholder")?r.push(e[t.name]):"Const"===t.op?o.push(e[t.name]):null!=t.input&&0!==t.input.length||a.push(e[t.name]),e)),{});let s=[];const l=[];let u={},c={};null!=t&&(u=this.mapSignatureEntries(t.inputs),c=this.mapSignatureEntries(t.outputs));const d=Object.keys(i);d.forEach((e=>{const t=i[e];t.inputNames.forEach(((e,n)=>{const[r,,o]=vae(e),a=i[r];if(null!=a.outputs){const e=a.outputs.indexOf(o);if(-1!==e){const o=`${r}:${e}`;t.inputNames[n]=o}}t.inputs.push(a),a.children.push(t)}))})),0===Object.keys(c).length?d.forEach((e=>{const t=i[e];0===t.children.length&&l.push(t)})):Object.keys(c).forEach((e=>{const[t]=vae(e),n=i[t];null!=n&&(n.signatureKey=c[e],l.push(n))})),Object.keys(u).length>0?Object.keys(u).forEach((e=>{const[t]=vae(e),n=i[t];n&&(n.signatureKey=u[e],s.push(n))})):s=r;let p={};null!=e.library&&null!=e.library.function&&(p=e.library.function.reduce(((e,t)=>(e[t.signature.name]=this.mapFunction(t),e)),{}));const h={nodes:i,inputs:s,outputs:l,weights:o,placeholders:r,signature:t,functions:p};return a.length>0&&(h.initNodes=a),h}mapSignatureEntries(e){return Object.keys(e||{}).reduce(((t,n)=>(t[e[n].name]=n,t)),{})}mapNode(e){const t=fae(e.op)||this.opMappers[e.op]||{};null==e.attr&&(e.attr={});const n={name:e.name,op:e.op,category:t.category,inputNames:(e.input||[]).map((e=>e.startsWith("^")?e.slice(1):e)),inputs:[],children:[],inputParams:{},attrParams:{},rawAttrs:e.attr,outputs:t.outputs};return null!=t.inputs&&(n.inputParams=t.inputs.reduce(((e,t)=>(e[t.name]={type:t.type,inputIndexStart:t.start,inputIndexEnd:t.end},e)),{})),null!=t.attrs&&(n.attrParams=t.attrs.reduce(((t,n)=>{const r=n.type;let o;switch(n.type){case"string":o=Uae(e.attr,n.tfName,n.defaultValue),void 0===o&&n.tfDeprecatedName&&(o=Uae(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"string[]":o=eie(e.attr,n.tfName,n.defaultValue),void 0===o&&n.tfDeprecatedName&&(o=eie(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"number":o=Gae(e.attr,n.tfName,n.defaultValue||0),void 0===o&&n.tfDeprecatedName&&(o=Gae(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"number[]":o=Jae(e.attr,n.tfName,n.defaultValue),void 0===o&&n.tfDeprecatedName&&(o=Jae(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"bool":o=Hae(e.attr,n.tfName,n.defaultValue),void 0===o&&n.tfDeprecatedName&&(o=Hae(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"bool[]":o=nie(e.attr,n.tfName,n.defaultValue),void 0===o&&n.tfDeprecatedName&&(o=nie(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"shape":o=Zae(e.attr,n.tfName,n.defaultValue),void 0===o&&n.tfDeprecatedName&&(o=Zae(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"shape[]":o=tie(e.attr,n.tfName,n.defaultValue),void 0===o&&n.tfDeprecatedName&&(o=tie(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"dtype":o=Xae(e.attr,n.tfName,n.defaultValue),void 0===o&&n.tfDeprecatedName&&(o=Xae(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"dtype[]":o=Yae(e.attr,n.tfName,n.defaultValue),void 0===o&&n.tfDeprecatedName&&(o=Yae(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"func":o=Kae(e.attr,n.tfName,n.defaultValue),void 0===o&&n.tfDeprecatedName&&(o=Kae(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"tensor":case"tensors":break;default:throw new Error(`Unsupported param type: ${n.type} for op: ${e.op}`)}return t[n.name]={value:o,type:r},t}),{})),n}mapFunction(e){const t=e.nodeDef,n=[];let r={};null!=t&&(r=t.reduce(((e,t)=>(e[t.name]=this.mapNode(t),"Const"===t.op&&n.push(e[t.name]),e)),{}));const o=[],a=[];e.signature.inputArg.forEach((e=>{const[t]=vae(e.name),n={name:t,op:"Placeholder",inputs:[],inputNames:[],category:"graph",inputParams:{},attrParams:{dtype:{value:qae(e.type),type:"dtype"}},children:[]};n.signatureKey=e.name,o.push(n),r[t]=n}));Object.keys(r).forEach((e=>{const t=r[e];t.inputNames.forEach(((e,n)=>{const[o,,a]=vae(e),i=r[o];if(null!=i.outputs){const e=i.outputs.indexOf(a);if(-1!==e){const r=`${o}:${e}`;t.inputNames[n]=r}}t.inputs.push(i),i.children.push(t)}))}));const i=e.ret;e.signature.outputArg.forEach((e=>{const[t,n]=vae(i[e.name]),o=r[t];null!=o&&(o.defaultOutput=n,a.push(o))}));const s=this.mapArgsToSignature(e);return{nodes:r,inputs:o,outputs:a,weights:n,placeholders:[],signature:s}}mapArgsToSignature(e){return{methodName:e.signature.name,inputs:e.signature.inputArg.reduce(((e,t)=>(e[t.name]=this.mapArgToTensorInfo(t),e)),{}),outputs:e.signature.outputArg.reduce(((t,n)=>(t[n.name]=this.mapArgToTensorInfo(n,e.ret),t)),{})}}mapArgToTensorInfo(e,t){let n=e.name;return null!=t&&(n=t[n]),{name:n,dtype:e.type}}}function Vae(e,t){const n=Array.isArray(e)?String.fromCharCode.apply(null,e):function(e){const t=u0().global;if("undefined"!==typeof t.atob)return t.atob(e);if("undefined"!==typeof Buffer)return new Buffer(e,"base64").toString();throw new Error("Unable to decode base64 in this environment. Missing built-in atob() or Buffer()")}(e);return t?n:n.toLowerCase()}function Uae(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=e[t];return null!=o?Vae(o.s,r):n}function Hae(e,t,n){const r=e[t];return r?r.b:n}function Gae(e,t,n){const r=e[t]||{},o=null!=r.i?r.i:null!=r.f?r.f:n;return"number"===typeof o?o:parseInt(o,10)}function qae(e){switch("string"===typeof e&&(e=cae[e]),e){case cae.DT_FLOAT:case cae.DT_HALF:return"float32";case cae.DT_INT32:case cae.DT_INT64:case cae.DT_INT8:case cae.DT_UINT8:return"int32";case cae.DT_BOOL:return"bool";case cae.DT_DOUBLE:return"float32";case cae.DT_STRING:return"string";case cae.DT_COMPLEX64:case cae.DT_COMPLEX128:return"complex64";default:return null}}function Kae(e,t,n){const r=e[t];return r&&r.func?r.func.name:n}function Xae(e,t,n){const r=e[t];return r&&r.type?qae(r.type):n}function Yae(e,t,n){const r=e[t];return r&&r.list&&r.list.type?r.list.type.map((e=>qae(e))):n}function Qae(e){if(!e.unknownRank)return null!=e.dim?e.dim.map((e=>"number"===typeof e.size?e.size:parseInt(e.size,10))):[]}function Zae(e,t,n){const r=e[t];return r&&r.shape?Qae(r.shape):n}function Jae(e,t,n){const r=e[t];return r?((r.list.f&&r.list.f.length?r.list.f:r.list.i)||[]).map((e=>"number"===typeof e?e:parseInt(e,10))):n}function eie(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=e[t];return o&&o.list&&o.list.s?o.list.s.map((e=>Vae(e,r))):n}function tie(e,t,n){const r=e[t];return r&&r.list&&r.list.shape?r.list.shape.map((e=>Qae(e))):n}function nie(e,t,n){const r=e[t];return r&&r.list&&r.list.b?r.list.b:n}class rie{constructor(e,t,n){this.node=e,this.tensorMap=t,this.context=n,this.inputs=[],this.attrs={},this.inputs=e.inputNames.map((e=>this.getInput(e))),null!=e.rawAttrs&&(this.attrs=Object.keys(e.rawAttrs).reduce(((e,t)=>(e[t]=this.getAttr(t),e)),{}))}getInput(e){return gae(e,this.tensorMap,this.context)}getAttr(e,t){const n=this.node.rawAttrs[e];if(null!=n.tensor)return gae(e,this.tensorMap,this.context);if(null!=n.i||null!=n.f)return Gae(this.node.rawAttrs,e,t);if(null!=n.s)return Uae(this.node.rawAttrs,e,t);if(null!=n.b)return Hae(this.node.rawAttrs,e,t);if(null!=n.shape)return Zae(this.node.rawAttrs,e,t);if(null!=n.type)return Xae(this.node.rawAttrs,e,t);if(null!=n.list){if(null!=n.list.i||null!=n.list.f)return Jae(this.node.rawAttrs,e,t);if(null!=n.list.s)return eie(this.node.rawAttrs,e,t);if(null!=n.list.shape)return tie(this.node.rawAttrs,e,t);if(null!=n.list.b)return nie(this.node.rawAttrs,e,t);if(null!=n.list.type)return Yae(this.node.rawAttrs,e,t)}return t}}function oie(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if("number"!==typeof e&&"number"!==typeof t){xJ(e.length===t.length,(()=>n+` Shapes ${e} and ${t} must match`));for(let r=0;r<e.length;r++){const o=e[r],a=t[r];xJ(o<0||a<0||o===a,(()=>n+` Shapes ${e} and ${t} must match`))}}}function aie(e){return"number"!==typeof e&&!e.some((e=>e<0))}function iie(e,t,n){let r=sie(e,n);const o=!aie(r);if(o&&0===t.length)throw new Error(`Tried to calculate elements of an empty list with non-fully-defined elementShape: ${r}`);if(o&&t.forEach((e=>{r=sie(e.shape,r)})),!aie(r))throw new Error(`Non-fully-defined elementShape: ${r}`);return r}function sie(e,t){if("number"===typeof e)return t;if("number"===typeof t)return e;if(e.length!==t.length)throw new Error(`Incompatible ranks during merge: ${e} vs. ${t}`);const n=[];for(let r=0;r<e.length;++r){const o=e[r],a=t[r];if(o>=0&&a>=0&&o!==a)throw new Error(`Incompatible shape during merge: ${e} vs. ${t}`);n[r]=o>=0?o:a}return n}class lie{constructor(e,t,n,r,o,a,i){this.name=e,this.dtype=t,this.maxSize=n,this.elementShape=r,this.identicalElementShapes=o,this.dynamicSize=a,this.clearAfterRead=i,this.tensors=[],this.closed_=!1,this.idTensor=a8(0),E5(this.idTensor)}get id(){return this.idTensor.id}get closed(){return this.closed_}clearAndClose(e){this.tensors.forEach((t=>{null!=e&&e.has(t.tensor.id)||t.tensor.dispose()})),this.tensors=[],this.closed_=!0,this.idTensor.dispose()}size(){return this.tensors.length}read(e){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(e<0||e>=this.size())throw new Error(`Tried to read from index ${e}, but array size is: ${this.size()}`);const t=this.tensors[e];if(t.cleared)throw new Error(`TensorArray ${this.name}: Could not read index ${e} twice because it was cleared after a previous read (perhaps try setting clear_after_read = false?).`);return this.clearAfterRead&&(t.cleared=!0),t.read=!0,t.tensor}readMany(e){return e.map((e=>this.read(e)))}write(e,t){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(e<0||!this.dynamicSize&&e>=this.maxSize)throw new Error(`Tried to write to index ${e}, but array is not resizeable and size is: ${this.maxSize}`);const n=this.tensors[e]||{};if(t.dtype!==this.dtype)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e},\n          because the value dtype is ${t.dtype}, but TensorArray dtype is ${this.dtype}.`);if(0!==this.size()||null!=this.elementShape&&0!==this.elementShape.length||(this.elementShape=t.shape),oie(this.elementShape,t.shape,`TensorArray ${this.name}: Could not write to TensorArray index ${e}.`),n.read)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e}, because it has already been read.`);if(n.written)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e}, because it has already been written.`);n.tensor=t,E5(t),n.written=!0,this.tensors[e]=n}writeMany(e,t){if(e.length!==t.length)throw new Error(`TensorArray ${this.name}: could not write multiple tensors,because the index size: ${e.length} is not the same as tensors size: ${t.length}.`);e.forEach(((e,n)=>this.write(e,t[n])))}gather(e,t){if(t&&t!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but gather requested dtype ${t}`);if(e)e=e.slice(0,this.size());else{e=[];for(let t=0;t<this.size();t++)e.push(t)}if(0===e.length)return m5([],[0].concat(this.elementShape));const n=this.readMany(e);return oie(this.elementShape,n[0].shape,"TensorArray shape mismatch: "),xne(n,0)}concat(e){if(e&&e!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but concat requested dtype ${e}`);if(0===this.size())return m5([],[0].concat(this.elementShape));const t=[];for(let r=0;r<this.size();r++)t.push(r);const n=this.readMany(t);return oie(this.elementShape,n[0].shape,`TensorArray shape mismatch: tensor array shape (${this.elementShape}) vs first tensor shape (${n[0].shape})`),I7(n,0)}scatter(e,t){if(t.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${t.dtype}`);if(e.length!==t.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${e.length} vs. ${t.shape[0]}`);const n=Math.max(...e);if(!this.dynamicSize&&n>=this.maxSize)throw new Error(`Max index must be < array size (${n}  vs. ${this.maxSize})`);this.writeMany(e,Pne(t,0))}split(e,t){if(t.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${t.dtype}`);let n=0;const r=e.map((e=>(n+=e,n)));if(n!==t.shape[0])throw new Error(`Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        ${n}, and tensor's shape is: ${t.shape}`);if(!this.dynamicSize&&e.length!==this.maxSize)throw new Error(`TensorArray's size is not equal to the size of lengths (${this.maxSize} vs. ${e.length}), and the TensorArray is not marked as dynamically resizeable`);const o=0===n?0:t.size/n,a=[];T5((()=>{t=A7(t,[1,n,o]);for(let n=0;n<e.length;++n){const i=[0,0===n?0:r[n-1],0],s=[1,e[n],o];a[n]=A7(N7(t,i,s),this.elementShape)}return a}));const i=[];for(let s=0;s<e.length;s++)i[s]=s;this.writeMany(i,a)}}class uie{get id(){return this.idTensor.id}constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;this.tensors=e,this.elementShape=t,this.elementDtype=n,null!=e&&e.forEach((e=>{if(n!==e.dtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${e.dtype}`);oie(t,e.shape,"TensorList shape mismatch: "),E5(e)})),this.idTensor=a8(0),this.maxNumElements=r,E5(this.idTensor)}copy(){return new uie([...this.tensors],this.elementShape,this.elementDtype)}clearAndClose(e){this.tensors.forEach((t=>{null!=e&&e.has(t.id)||t.dispose()})),this.tensors.length=0,this.idTensor.dispose()}size(){return this.tensors.length}stack(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(t!==this.elementDtype)throw new Error(`Invalid data types; op elements ${t}, but list elements ${this.elementDtype}`);if(-1!==n&&this.tensors.length!==n)throw new Error(`Operation expected a list with ${n} elements but got a list with ${this.tensors.length} elements.`);oie(e,this.elementShape,"TensorList shape mismatch: ");const r=iie(this.elementShape,this.tensors,e);return T5((()=>{const e=this.tensors.map((e=>A7(e,r)));return xne(e,0)}))}popBack(e,t){if(t!==this.elementDtype)throw new Error(`Invalid data types; op elements ${t}, but list elements ${this.elementDtype}`);if(0===this.size())throw new Error("Trying to pop from an empty list.");const n=iie(this.elementShape,this.tensors,e),r=this.tensors.pop();return r.kept=!1,oie(r.shape,e,"TensorList shape mismatch: "),A7(r,n)}pushBack(e){if(e.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${e.dtype}, but list elements ${this.elementDtype}`);if(oie(e.shape,this.elementShape,"TensorList shape mismatch: "),this.maxNumElements===this.size())throw new Error("Trying to push element into a full list.");E5(e),this.tensors.push(e)}resize(e){if(e<0)throw new Error(`TensorListResize expects size to be non-negative. Got: ${e}`);if(-1!==this.maxNumElements&&e>this.maxNumElements)throw new Error(`TensorListResize input size ${e} is greater maxNumElement ${this.maxNumElements}.`);const t=new uie([],this.elementShape,this.elementDtype,this.maxNumElements);t.tensors.length=e;for(let n=0;n<Math.min(this.tensors.length,e);++n)t.tensors[n]=this.tensors[n];return t}getItem(e,t,n){if(n!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${this.elementDtype}`);if(e<0||e>this.tensors.length)throw new Error(`Trying to access element ${e} in a list with ${this.tensors.length} elements.`);if(null==this.tensors[e])throw new Error(`element at index ${e} is null.`);oie(this.tensors[e].shape,t,"TensorList shape mismatch: ");const r=iie(this.elementShape,this.tensors,t);return A7(this.tensors[e],r)}setItem(e,t){if(t.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${t.dtype}, but list elements ${this.elementDtype}`);if(e<0||-1!==this.maxNumElements&&e>=this.maxNumElements)throw new Error(`Trying to set element ${e} in a list with max ${this.maxNumElements} elements.`);oie(this.elementShape,t.shape,"TensorList shape mismatch: "),E5(t),null!=this.tensors[e]&&(this.tensors[e].kept=!1),this.tensors[e]=t}gather(e,t,n){if(t!==this.elementDtype)throw new Error(`Invalid data types; op elements ${t}, but list elements ${this.elementDtype}`);oie(this.elementShape,n,"TensorList shape mismatch: "),e=e.slice(0,this.size());const r=iie(this.elementShape,this.tensors,n);return 0===e.length?m5([],[0].concat(r)):T5((()=>{const t=e.map((e=>A7(this.tensors[e],r)));return xne(t,0)}))}concat(e,t){if(e&&e!==this.elementDtype)throw new Error(`TensorList dtype is ${this.elementDtype} but concat requested dtype ${e}`);oie(this.elementShape,t,"TensorList shape mismatch: ");const n=iie(this.elementShape,this.tensors,t);return 0===this.size()?m5([],[0].concat(n)):T5((()=>{const e=this.tensors.map((e=>A7(e,n)));return I7(e,0)}))}}const cie=async(e,t,n)=>{switch(e.op){case"If":case"StatelessIf":{const r=mae("thenBranch",e,t,n),o=mae("elseBranch",e,t,n),a=mae("cond",e,t,n),i=mae("args",e,t,n);return(await a.data())[0]?n.functionMap[r].executeFunctionAsync(i,n.tensorArrayMap,n.tensorListMap):n.functionMap[o].executeFunctionAsync(i,n.tensorArrayMap,n.tensorListMap)}case"While":case"StatelessWhile":{const r=mae("body",e,t,n),o=mae("cond",e,t,n),a=mae("args",e,t,n),i=await n.functionMap[o].executeFunctionAsync(a,n.tensorArrayMap,n.tensorListMap),s=a.map((e=>e.id));let l=await i[0].data();i.forEach((e=>{e.kept||-1!==s.indexOf(e.id)||e.dispose()}));let u=a;for(;l[0];){const e=u;u=await n.functionMap[r].executeFunctionAsync(u,n.tensorArrayMap,n.tensorListMap);const t=u.map((e=>e.id));e.forEach((e=>{e.kept||-1!==s.indexOf(e.id)||-1!==t.indexOf(e.id)||e.dispose()}));const a=await n.functionMap[o].executeFunctionAsync(u,n.tensorArrayMap,n.tensorListMap);l=await a[0].data(),a.forEach((e=>{e.kept||-1!==s.indexOf(e.id)||-1!==t.indexOf(e.id)||e.dispose()}))}return u}case"LoopCond":return[kae(mae("pred",e,t,n))];case"Switch":{const r=mae("pred",e,t,n);let o=mae("data",e,t,n);return o.kept||(o=kae(o)),(await r.data())[0]?[void 0,o]:[o,void 0]}case"Merge":{const r=e.inputNames.find((e=>void 0!==gae(e,t,n)));if(r){return[kae(gae(r,t,n))]}return}case"Enter":{const r=mae("frameName",e,t,n),o=mae("tensor",e,t,n);return n.enterFrame(r),[kae(o)]}case"Exit":{const r=mae("tensor",e,t,n);return n.exitFrame(),[kae(r)]}case"NextIteration":{const r=mae("tensor",e,t,n);return n.nextIteration(),[kae(r)]}case"TensorArrayV3":{const r=mae("size",e,t,n),o=mae("dtype",e,t,n),a=mae("elementShape",e,t,n),i=mae("dynamicSize",e,t,n),s=mae("clearAfterRead",e,t,n),l=mae("identicalElementShapes",e,t,n),u=mae("name",e,t,n),c=new lie(u,o,r,a,l,i,s);return n.addTensorArray(c),[c.idTensor,a8(1)]}case"TensorArrayWriteV3":{const r=mae("tensorArrayId",e,t,n),o=mae("index",e,t,n),a=mae("tensor",e,t,n),i=n.getTensorArray(r.id);return i.write(o,a),[i.idTensor]}case"TensorArrayReadV3":{const r=mae("tensorArrayId",e,t,n),o=mae("index",e,t,n);return[n.getTensorArray(r.id).read(o)]}case"TensorArrayGatherV3":{const r=mae("tensorArrayId",e,t,n),o=mae("indices",e,t,n),a=mae("dtype",e,t,n);return[n.getTensorArray(r.id).gather(o,a)]}case"TensorArrayScatterV3":{const r=mae("tensorArrayId",e,t,n),o=mae("indices",e,t,n),a=mae("tensor",e,t,n),i=n.getTensorArray(r.id);return i.scatter(o,a),[i.idTensor]}case"TensorArrayConcatV3":{const r=mae("tensorArrayId",e,t,n),o=n.getTensorArray(r.id),a=mae("dtype",e,t,n);return[o.concat(a)]}case"TensorArraySplitV3":{const r=mae("tensorArrayId",e,t,n),o=mae("tensor",e,t,n),a=mae("lengths",e,t,n),i=n.getTensorArray(r.id);return i.split(a,o),[i.idTensor]}case"TensorArraySizeV3":{const r=mae("tensorArrayId",e,t,n);return[a8(n.getTensorArray(r.id).size(),"int32")]}case"TensorArrayCloseV3":{const r=mae("tensorArrayId",e,t,n),o=n.getTensorArray(r.id);return o.clearAndClose(),[o.idTensor]}case"TensorListSetItem":{const r=mae("tensorListId",e,t,n),o=mae("index",e,t,n),a=mae("tensor",e,t,n),i=n.getTensorList(r.id);return i.setItem(o,a),[i.idTensor]}case"TensorListGetItem":{const r=mae("tensorListId",e,t,n),o=mae("index",e,t,n),a=mae("elementShape",e,t,n),i=mae("elementDType",e,t,n);return[n.getTensorList(r.id).getItem(o,a,i)]}case"TensorListScatterV2":case"TensorListScatter":{const r=mae("indices",e,t,n),o=function(e,t,n,r){if(t.length!==e.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${t.length} vs. ${e.shape[0]}`);const o=Math.max(...t);if(null!=r&&-1!==r&&o>=r)throw new Error(`Max index must be < array size (${o}  vs. ${r})`);const a=new uie([],n,e.dtype,r),i=Pne(e,0);return t.forEach(((e,t)=>{a.setItem(e,i[t])})),a}(mae("tensor",e,t,n),r,mae("elementShape",e,t,n),mae("numElements",e,t,n));return n.addTensorList(o),[o.idTensor]}case"TensorListReserve":case"EmptyTensorList":{const r=mae("elementShape",e,t,n),o=mae("elementDType",e,t,n);let a;a="TensorListReserve"===e.op?"numElements":"maxNumElements";const i=mae(a,e,t,n),s=function(e,t,n,r){return new uie([],e,t,r)}(r,o,0,"TensorListReserve"===e.op?-1:i);return n.addTensorList(s),[s.idTensor]}case"TensorListGather":{const r=mae("tensorListId",e,t,n),o=mae("indices",e,t,n),a=mae("elementShape",e,t,n),i=mae("elementDType",e,t,n);return[n.getTensorList(r.id).gather(o,i,a)]}case"TensorListStack":{const r=mae("tensorListId",e,t,n),o=mae("elementShape",e,t,n),a=mae("elementDType",e,t,n),i=mae("numElements",e,t,n);return[n.getTensorList(r.id).stack(o,a,i)]}case"TensorListFromTensor":{const r=function(e,t,n){const r=e.dtype;if(e.shape.length<1)throw new Error(`Tensor must be at least a vector, but saw shape: ${e.shape}`);if(e.dtype!==n)throw new Error(`Invalid data types; op elements ${e.dtype}, but list elements ${n}`);oie(e.shape.slice(1),t,"TensorList shape mismatch: ");const o=Pne(e);return new uie(o,t,r)}(mae("tensor",e,t,n),mae("elementShape",e,t,n),mae("elementDType",e,t,n));return n.addTensorList(r),[r.idTensor]}case"TensorListConcat":case"TensorListConcatV2":{const r=mae("tensorListId",e,t,n),o=n.getTensorList(r.id),a=mae("dtype",e,t,n),i=mae("elementShape",e,t,n);return[o.concat(a,i)]}case"TensorListPushBack":{const r=mae("tensorListId",e,t,n),o=mae("tensor",e,t,n),a=n.getTensorList(r.id);return a.pushBack(o),[a.idTensor]}case"TensorListPopBack":{const r=mae("tensorListId",e,t,n),o=mae("elementShape",e,t,n),a=mae("elementDType",e,t,n);return[n.getTensorList(r.id).popBack(o,a)]}case"TensorListSplit":{const r=mae("tensor",e,t,n),o=mae("elementShape",e,t,n),a=function(e,t,n){let r=0;const o=t.map((e=>(r+=e,r)));if(r!==e.shape[0])throw new Error(`Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        ${r}, and tensor's shape is: ${e.shape}`);const a=sie(e.shape.slice(1),n),i=0===r?0:e.size/r,s=T5((()=>{const n=[];e=A7(e,[1,r,i]);for(let r=0;r<t.length;++r){const s=[0,0===r?0:o[r-1],0],l=[1,t[r],i];n[r]=A7(N7(e,s,l),a)}return e.dispose(),n})),l=new uie([],n,e.dtype,t.length);for(let u=0;u<s.length;u++)l.setItem(u,s[u]);return l}(r,mae("lengths",e,t,n),o);return n.addTensorList(a),[a.idTensor]}case"TensorListLength":{const r=mae("tensorListId",e,t,n);return[a8(n.getTensorList(r.id).size(),"int32")]}case"TensorListResize":{const r=mae("tensorListId",e,t,n),o=mae("size",e,t,n),a=n.getTensorList(r.id).resize(o);return n.addTensorList(a),[a.idTensor]}default:throw TypeError(`Node type ${e.op} is not implemented`)}};function die(e,t,n){const[r,o]=mae("fusedOps",e,t,n),a="biasadd"===r,i=!a,s="prelu"===o,l="fusedbatchnorm"===r,u=mae("numArgs",e,t,n);if(a){if(s&&2!==u)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!s&&a&&1!==u)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd must have one extra argument: bias.")}if(l)throw new Error("FusedConv2d and DepthwiseConv2d with FusedBatchNorm is not supported");const c=mae("strides",e,t,n),d=wae(e,t,n),p=mae("dataFormat",e,t,n).toUpperCase(),h=mae("dilations",e,t,n);let[f,m]=mae("args",e,t,n);i&&(m=f,f=void 0);return{stride:c,pad:d,dataFormat:p,dilations:h,biasArg:f,preluArg:m,activationFunc:o,leakyreluAlpha:mae("leakyreluAlpha",e,t,n)}}function pie(e,t,n){return{boxes:mae("boxes",e,t,n),scores:mae("scores",e,t,n),maxOutputSize:mae("maxOutputSize",e,t,n),iouThreshold:mae("iouThreshold",e,t,n),scoreThreshold:mae("scoreThreshold",e,t,n),softNmsSigma:mae("softNmsSigma",e,t,n)}}class hie{get id(){return this.handle.id}constructor(e,t){this.keyDType=e,this.valueDType=t,this.handle=a8(0),this.tensorMap=new Map,E5(this.handle)}clearAndClose(){this.tensorMap.forEach((e=>e.dispose())),this.tensorMap.clear(),this.handle.dispose()}size(){return this.tensorMap.size}tensorSize(){return a8(this.size(),"int32")}async import(e,t){this.checkKeyAndValueTensor(e,t);const n=await e.data();return this.tensorMap.forEach((e=>e.dispose())),this.tensorMap.clear(),T5((()=>{const e=Pne(t),r=n.length,o=e.length;xJ(r===o,(()=>`The number of elements doesn't match, keys has ${r} elements, the values has ${o} elements.`));for(let t=0;t<r;t++){const r=n[t],o=e[t];E5(o),this.tensorMap.set(r,o)}return this.handle}))}async find(e,t){this.checkKeyAndValueTensor(e,t);const n=await e.data();return T5((()=>{const e=[];for(let r=0;r<n.length;r++){const o=n[r],a=this.findWithDefault(o,t);e.push(a)}return xne(e)}))}findWithDefault(e,t){const n=this.tensorMap.get(e);return null!=n?n:t}checkKeyAndValueTensor(e,t){if(e.dtype!==this.keyDType)throw new Error(`Expect key dtype ${this.keyDType}, but got ${e.dtype}`);if(t.dtype!==this.valueDType)throw new Error(`Expect value dtype ${this.valueDType}, but got ${t.dtype}`)}}function fie(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:T5;const a=((e,t,n)=>{switch(e.category){case"arithmetic":return o((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:L;switch(e.op){case"BiasAdd":case"AddV2":case"Add":return[r.add(mae("a",e,t,n),mae("b",e,t,n))];case"AddN":return[r.addN(mae("tensors",e,t,n))];case"FloorMod":case"Mod":return[r.mod(mae("a",e,t,n),mae("b",e,t,n))];case"Mul":return[r.mul(mae("a",e,t,n),mae("b",e,t,n))];case"RealDiv":case"Div":return[r.div(mae("a",e,t,n),mae("b",e,t,n))];case"DivNoNan":return[r.divNoNan(mae("a",e,t,n),mae("b",e,t,n))];case"FloorDiv":return[r.floorDiv(mae("a",e,t,n),mae("b",e,t,n))];case"Sub":return[r.sub(mae("a",e,t,n),mae("b",e,t,n))];case"Minimum":return[r.minimum(mae("a",e,t,n),mae("b",e,t,n))];case"Maximum":return[r.maximum(mae("a",e,t,n),mae("b",e,t,n))];case"Pow":return[r.pow(mae("a",e,t,n),mae("b",e,t,n))];case"SquaredDifference":return[r.squaredDifference(mae("a",e,t,n),mae("b",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n)));case"basic_math":return o((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:L;switch(e.op){case"Abs":case"ComplexAbs":return[r.abs(mae("x",e,t,n))];case"Acos":return[r.acos(mae("x",e,t,n))];case"Acosh":return[r.acosh(mae("x",e,t,n))];case"Asin":return[r.asin(mae("x",e,t,n))];case"Asinh":return[r.asinh(mae("x",e,t,n))];case"Atan":return[r.atan(mae("x",e,t,n))];case"Atan2":return[r.atan2(mae("x",e,t,n),mae("y",e,t,n))];case"Atanh":return[r.atanh(mae("x",e,t,n))];case"Ceil":return[r.ceil(mae("x",e,t,n))];case"Complex":return[r.complex(mae("real",e,t,n),mae("imag",e,t,n))];case"Cos":return[r.cos(mae("x",e,t,n))];case"Cosh":return[r.cosh(mae("x",e,t,n))];case"Elu":return[r.elu(mae("x",e,t,n))];case"Erf":return[r.erf(mae("x",e,t,n))];case"Exp":return[r.exp(mae("x",e,t,n))];case"Expm1":return[r.expm1(mae("x",e,t,n))];case"Floor":return[r.floor(mae("x",e,t,n))];case"Log":return[r.log(mae("x",e,t,n))];case"Log1p":return[r.log1p(mae("x",e,t,n))];case"Imag":return[r.imag(mae("x",e,t,n))];case"Neg":return[r.neg(mae("x",e,t,n))];case"Reciprocal":return[r.reciprocal(mae("x",e,t,n))];case"Real":return[r.real(mae("x",e,t,n))];case"Relu":return[r.relu(mae("x",e,t,n))];case"Round":return[r.round(mae("x",e,t,n))];case"Selu":return[r.selu(mae("x",e,t,n))];case"Sigmoid":return[r.sigmoid(mae("x",e,t,n))];case"Sin":return[r.sin(mae("x",e,t,n))];case"Sign":return[r.sign(mae("x",e,t,n))];case"Sinh":return[r.sinh(mae("x",e,t,n))];case"Softplus":return[r.softplus(mae("x",e,t,n))];case"Sqrt":return[r.sqrt(mae("x",e,t,n))];case"Square":return[r.square(mae("x",e,t,n))];case"Tanh":return[r.tanh(mae("x",e,t,n))];case"Tan":return[r.tan(mae("x",e,t,n))];case"ClipByValue":return[r.clipByValue(mae("x",e,t,n),mae("clipValueMin",e,t,n),mae("clipValueMax",e,t,n))];case"Relu6":return[r.relu6(mae("x",e,t,n))];case"Rsqrt":return[r.rsqrt(gae(e.inputNames[0],t,n))];case"LeakyRelu":return[r.leakyRelu(mae("x",e,t,n),mae("alpha",e,t,n))];case"Prelu":return[r.prelu(mae("x",e,t,n),mae("alpha",e,t,n))];case"IsNan":return[r.isNaN(gae(e.inputNames[0],t,n))];case"IsInf":return[r.isInf(gae(e.inputNames[0],t,n))];case"IsFinite":return[r.isFinite(gae(e.inputNames[0],t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n)));case"control":return cie(e,t,n);case"convolution":return o((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:L;switch(e.op){case"Conv1D":{const o=mae("stride",e,t,n),a=mae("pad",e,t,n),i=mae("dataFormat",e,t,n).toUpperCase(),s=mae("dilation",e,t,n);return[r.conv1d(mae("x",e,t,n),mae("filter",e,t,n),o,a,i,s)]}case"Conv2D":{const o=mae("strides",e,t,n),a=wae(e,t,n),i=mae("dataFormat",e,t,n).toUpperCase(),s=mae("dilations",e,t,n);return[r.conv2d(mae("x",e,t,n),mae("filter",e,t,n),[o[1],o[2]],a,i,[s[1],s[2]])]}case"_FusedConv2D":{const{stride:o,pad:a,dataFormat:i,dilations:s,biasArg:l,preluArg:u,activationFunc:c,leakyreluAlpha:d}=die(e,t,n);return[r.fused.conv2d({x:mae("x",e,t,n),filter:mae("filter",e,t,n),strides:[o[1],o[2]],pad:a,dataFormat:i,dilations:[s[1],s[2]],bias:l,activation:c,preluActivationWeights:u,leakyreluAlpha:d})]}case"FusedDepthwiseConv2dNative":{const{stride:o,pad:a,dataFormat:i,dilations:s,biasArg:l,preluArg:u,activationFunc:c,leakyreluAlpha:d}=die(e,t,n);return[r.fused.depthwiseConv2d({x:mae("x",e,t,n),filter:mae("filter",e,t,n),strides:[o[1],o[2]],pad:a,dataFormat:i,dilations:[s[1],s[2]],bias:l,activation:c,preluActivationWeights:u,leakyreluAlpha:d})]}case"Conv2DBackpropInput":case"Conv2dTranspose":{const o=mae("outputShape",e,t,n),a=mae("strides",e,t,n),i=wae(e,t,n);return[r.conv2dTranspose(mae("x",e,t,n),mae("filter",e,t,n),o,[a[1],a[2]],i)]}case"DepthwiseConv2dNative":case"DepthwiseConv2d":{const o=mae("strides",e,t,n),a=wae(e,t,n),i=mae("dilations",e,t,n),s=mae("dataFormat",e,t,n).toUpperCase();return[r.depthwiseConv2d(mae("input",e,t,n),mae("filter",e,t,n),[o[1],o[2]],a,s,[i[1],i[2]])]}case"Conv3D":{const o=mae("strides",e,t,n),a=mae("pad",e,t,n),i=mae("dataFormat",e,t,n).toUpperCase(),s=mae("dilations",e,t,n);return[r.conv3d(mae("x",e,t,n),mae("filter",e,t,n),[o[1],o[2],o[3]],a,i,[s[1],s[2],s[3]])]}case"AvgPool":{const o=mae("strides",e,t,n),a=mae("pad",e,t,n),i=mae("kernelSize",e,t,n);return[r.avgPool(mae("x",e,t,n),[i[1],i[2]],[o[1],o[2]],a)]}case"MaxPool":{const o=mae("strides",e,t,n),a=mae("pad",e,t,n),i=mae("kernelSize",e,t,n);return[r.maxPool(mae("x",e,t,n),[i[1],i[2]],[o[1],o[2]],a)]}case"MaxPoolWithArgmax":{const o=mae("strides",e,t,n),a=mae("pad",e,t,n),i=mae("kernelSize",e,t,n),s=mae("includeBatchInIndex",e,t,n),{result:l,indexes:u}=r.maxPoolWithArgmax(mae("x",e,t,n),[i[1],i[2]],[o[1],o[2]],a,s);return[l,u]}case"AvgPool3D":{const o=mae("strides",e,t,n),a=mae("pad",e,t,n),i=mae("kernelSize",e,t,n);return[r.avgPool3d(mae("x",e,t,n),[i[1],i[2],i[3]],[o[1],o[2],o[3]],a)]}case"MaxPool3D":{const o=mae("strides",e,t,n),a=mae("pad",e,t,n),i=mae("kernelSize",e,t,n);return[r.maxPool3d(mae("x",e,t,n),[i[1],i[2],i[3]],[o[1],o[2],o[3]],a)]}case"Dilation2D":{const o=mae("strides",e,t,n),a=mae("pad",e,t,n),i=mae("dilations",e,t,n),s=o[1],l=o[2],u=i[1],c=i[2];return[r.dilation2d(mae("x",e,t,n),mae("filter",e,t,n),[s,l],a,[u,c],"NHWC")]}default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n)));case"creation":return o((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:L;switch(e.op){case"Fill":{const o=mae("shape",e,t,n),a=mae("dtype",e,t,n),i=mae("value",e,t,n);return[r.fill(o,i,a)]}case"LinSpace":{const o=mae("start",e,t,n),a=mae("stop",e,t,n),i=mae("num",e,t,n);return[r.linspace(o,a,i)]}case"Multinomial":{const o=mae("logits",e,t,n),a=mae("numSamples",e,t,n),i=mae("seed",e,t,n);return[r.multinomial(o,a,i)]}case"OneHot":{const o=mae("indices",e,t,n),a=mae("depth",e,t,n),i=mae("onValue",e,t,n),s=mae("offValue",e,t,n),l=mae("dtype",e,t,n);return[r.oneHot(o,a,i,s,l)]}case"Ones":return[r.ones(mae("shape",e,t,n),mae("dtype",e,t,n))];case"OnesLike":return[r.onesLike(mae("x",e,t,n))];case"RandomStandardNormal":return[r.randomStandardNormal(mae("shape",e,t,n),mae("dtype",e,t,n),mae("seed",e,t,n))];case"RandomUniform":return[r.randomUniform(mae("shape",e,t,n),mae("minval",e,t,n),mae("maxval",e,t,n),mae("dtype",e,t,n))];case"RandomUniformInt":return[r.randomUniformInt(mae("shape",e,t,n),mae("minval",e,t,n),mae("maxval",e,t,n),mae("seed",e,t,n))];case"Range":{const o=mae("start",e,t,n),a=mae("stop",e,t,n),i=mae("step",e,t,n);return[r.range(o,a,i,mae("dtype",e,t,n))]}case"TruncatedNormal":{const o=mae("shape",e,t,n),a=mae("mean",e,t,n),i=mae("stdDev",e,t,n),s=mae("seed",e,t,n);return[r.truncatedNormal(o,a,i,mae("dtype",e,t,n),s)]}case"Zeros":return[r.zeros(mae("shape",e,t,n),mae("dtype",e,t,n))];case"ZerosLike":return[r.zerosLike(mae("x",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n)));case"dynamic":return async function(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:L;switch(e.op){case"NonMaxSuppressionV5":{const{boxes:r,scores:a,maxOutputSize:i,iouThreshold:s,scoreThreshold:l,softNmsSigma:u}=pie(e,t,n),c=await o.image.nonMaxSuppressionWithScoreAsync(r,a,i,s,l,u);return[c.selectedIndices,c.selectedScores]}case"NonMaxSuppressionV4":{const{boxes:r,scores:a,maxOutputSize:i,iouThreshold:s,scoreThreshold:l}=pie(e,t,n),u=mae("padToMaxOutputSize",e,t,n),c=await o.image.nonMaxSuppressionPaddedAsync(r,a,i,s,l,u);return[c.selectedIndices,c.validOutputs]}case"NonMaxSuppressionV3":case"NonMaxSuppressionV2":{const{boxes:r,scores:a,maxOutputSize:i,iouThreshold:s,scoreThreshold:l}=pie(e,t,n);return[await o.image.nonMaxSuppressionAsync(r,a,i,s,l)]}case"Where":{const r=o.cast(mae("condition",e,t,n),"bool"),a=[await o.whereAsync(r)];return r.dispose(),a}case"ListDiff":return o.setdiff1dAsync(mae("x",e,t,n),mae("y",e,t,n));default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n);case"evaluation":return o((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:L;switch(e.op){case"LowerBound":{const o=mae("sortedSequence",e,t,n),a=mae("values",e,t,n);return[r.lowerBound(o,a)]}case"TopKV2":{const o=mae("x",e,t,n),a=mae("k",e,t,n),i=mae("sorted",e,t,n),s=r.topk(o,a,i);return[s.values,s.indices]}case"UpperBound":{const o=mae("sortedSequence",e,t,n),a=mae("values",e,t,n);return[r.upperBound(o,a)]}case"Unique":{const o=mae("x",e,t,n),a=r.unique(o);return[a.values,a.indices]}case"UniqueV2":{const o=mae("x",e,t,n),a=mae("axis",e,t,n),i=r.unique(o,a);return[i.values,i.indices]}default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n)));case"image":return o((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:L;switch(e.op){case"ResizeBilinear":{const o=mae("images",e,t,n),a=mae("size",e,t,n),i=mae("alignCorners",e,t,n),s=mae("halfPixelCenters",e,t,n);return[r.image.resizeBilinear(o,[a[0],a[1]],i,s)]}case"ResizeNearestNeighbor":{const o=mae("images",e,t,n),a=mae("size",e,t,n),i=mae("alignCorners",e,t,n),s=mae("halfPixelCenters",e,t,n);return[r.image.resizeNearestNeighbor(o,[a[0],a[1]],i,s)]}case"CropAndResize":{const o=mae("image",e,t,n),a=mae("boxes",e,t,n),i=mae("boxInd",e,t,n),s=mae("cropSize",e,t,n),l=mae("method",e,t,n),u=mae("extrapolationValue",e,t,n);return[r.image.cropAndResize(o,a,i,s,l,u)]}case"ImageProjectiveTransformV3":{const o=mae("images",e,t,n),a=mae("transforms",e,t,n),i=mae("outputShape",e,t,n),s=mae("fillValue",e,t,n),l=mae("interpolation",e,t,n),u=mae("fillMode",e,t,n);return[r.image.transform(o,a,l.toLowerCase(),u.toLowerCase(),s,i)]}default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n)));case"graph":return o((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:L;switch(e.op){case"Const":return t[e.name];case"PlaceholderWithDefault":const o=mae("default",e,t,n);return[gae(e.name,t,n)||o];case"Placeholder":return[gae(e.name,t,n)];case"Identity":case"StopGradient":case"FakeQuantWithMinMaxVars":case"Snapshot":return[kae(mae("x",e,t,n))];case"IdentityN":return mae("x",e,t,n).map((e=>kae(e)));case"Shape":return[r.tensor1d(mae("x",e,t,n).shape,"int32")];case"ShapeN":return mae("x",e,t,n).map((e=>r.tensor1d(e.shape)));case"Size":return[r.scalar(mae("x",e,t,n).size,"int32")];case"Rank":return[r.scalar(mae("x",e,t,n).rank,"int32")];case"NoOp":return[r.scalar(1)];case"Print":const a=mae("x",e,t,n),i=mae("data",e,t,n),s=mae("message",e,t,n),l=mae("summarize",e,t,n);console.warn("The graph has a tf.print() operation,usually used for debugging, which slows down performance."),console.log(s);for(let e=0;e<i.length;e++)console.log(Array.prototype.slice.call(i[e].dataSync()).slice(0,l));return[a];default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n)));case"logical":return o((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:L;switch(e.op){case"Equal":return[r.equal(mae("a",e,t,n),mae("b",e,t,n))];case"NotEqual":return[r.notEqual(mae("a",e,t,n),mae("b",e,t,n))];case"Greater":return[r.greater(mae("a",e,t,n),mae("b",e,t,n))];case"GreaterEqual":return[r.greaterEqual(mae("a",e,t,n),mae("b",e,t,n))];case"Less":return[r.less(mae("a",e,t,n),mae("b",e,t,n))];case"LessEqual":return[r.lessEqual(mae("a",e,t,n),mae("b",e,t,n))];case"LogicalAnd":return[r.logicalAnd(mae("a",e,t,n),mae("b",e,t,n))];case"LogicalNot":return[r.logicalNot(mae("a",e,t,n))];case"LogicalOr":return[r.logicalOr(mae("a",e,t,n),mae("b",e,t,n))];case"Select":case"SelectV2":return[r.where(mae("condition",e,t,n),mae("a",e,t,n),mae("b",e,t,n))];case"BitwiseAnd":return[r.bitwiseAnd(mae("a",e,t,n),mae("b",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n)));case"matrices":return o((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:L;switch(e.op){case"BatchMatMul":case"BatchMatMulV2":case"MatMul":return[r.matMul(mae("a",e,t,n),mae("b",e,t,n),mae("transposeA",e,t,n),mae("transposeB",e,t,n))];case"Einsum":return[r.einsum(mae("equation",e,t,n),...mae("tensors",e,t,n))];case"Transpose":return[r.transpose(mae("x",e,t,n),mae("perm",e,t,n))];case"_FusedMatMul":const[o,a]=mae("fusedOps",e,t,n),i="biasadd"===o,s="prelu"===a,l=mae("numArgs",e,t,n),u=mae("leakyreluAlpha",e,t,n);if(i){if(s&&2!==l)throw new Error("Fused MatMul with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!s&&1!==l)throw new Error("Fused MatMul with BiasAdd must have one extra argument: bias.")}const[c,d]=mae("args",e,t,n);return[r.fused.matMul({a:mae("a",e,t,n),b:mae("b",e,t,n),transposeA:mae("transposeA",e,t,n),transposeB:mae("transposeB",e,t,n),bias:c,activation:a,preluActivationWeights:d,leakyreluAlpha:u})];case"MatrixBandPart":return[r.linalg.bandPart(mae("a",e,t,n),mae("numLower",e,t,n),mae("numUpper",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n)));case"normalization":return o((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:L;switch(e.op){case"EuclideanNorm":return[r.euclideanNorm(mae("x",e,t,n),mae("axis",e,t,n),mae("keepDims",e,t,n))];case"FusedBatchNorm":case"FusedBatchNormV2":case"FusedBatchNormV3":return[r.batchNorm(mae("x",e,t,n),mae("mean",e,t,n),mae("variance",e,t,n),mae("offset",e,t,n),mae("scale",e,t,n),mae("epsilon",e,t,n))];case"LRN":return[r.localResponseNormalization(mae("x",e,t,n),mae("radius",e,t,n),mae("bias",e,t,n),mae("alpha",e,t,n),mae("beta",e,t,n))];case"Softmax":return[r.softmax(mae("x",e,t,n))];case"LogSoftmax":return[r.logSoftmax(mae("x",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n)));case"ragged":return o((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:L;switch(e.op){case"RaggedGather":{const{outputNestedSplits:o,outputDenseValues:a}=r.raggedGather(mae("paramsNestedSplits",e,t,n),mae("paramsDenseValues",e,t,n),mae("indices",e,t,n),mae("outputRaggedRank",e,t,n));return o.concat(a)}case"RaggedRange":{const{rtNestedSplits:o,rtDenseValues:a}=r.raggedRange(mae("starts",e,t,n),mae("limits",e,t,n),mae("splits",e,t,n));return[o,a]}case"RaggedTensorToTensor":return[r.raggedTensorToTensor(mae("shape",e,t,n),mae("values",e,t,n),mae("defaultValue",e,t,n),mae("rowPartitionTensors",e,t,n),mae("rowPartitionTypes",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n)));case"reduction":return o((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:L;switch(e.op){case"Max":{const o=mae("axis",e,t,n),a=mae("keepDims",e,t,n);return[r.max(mae("x",e,t,n),o,a)]}case"Mean":{const o=mae("axis",e,t,n),a=mae("keepDims",e,t,n);return[r.mean(mae("x",e,t,n),o,a)]}case"Min":{const o=mae("axis",e,t,n),a=mae("keepDims",e,t,n);return[r.min(mae("x",e,t,n),o,a)]}case"Sum":{const o=mae("axis",e,t,n),a=mae("keepDims",e,t,n);return[r.sum(mae("x",e,t,n),o,a)]}case"All":{const o=mae("axis",e,t,n),a=mae("keepDims",e,t,n);return[r.all(mae("x",e,t,n),o,a)]}case"Any":{const o=mae("axis",e,t,n),a=mae("keepDims",e,t,n);return[r.any(mae("x",e,t,n),o,a)]}case"ArgMax":{const o=mae("axis",e,t,n);return[r.argMax(mae("x",e,t,n),o)]}case"ArgMin":{const o=mae("axis",e,t,n);return[r.argMin(mae("x",e,t,n),o)]}case"Prod":{const o=mae("axis",e,t,n),a=mae("keepDims",e,t,n);return[r.prod(mae("x",e,t,n),o,a)]}case"Cumprod":{const o=mae("axis",e,t,n),a=mae("exclusive",e,t,n),i=mae("reverse",e,t,n);return[r.cumprod(mae("x",e,t,n),o,a,i)]}case"Cumsum":{const o=mae("axis",e,t,n),a=mae("exclusive",e,t,n),i=mae("reverse",e,t,n);return[r.cumsum(mae("x",e,t,n),o,a,i)]}case"Bincount":const o=mae("x",e,t,n),a=mae("weights",e,t,n),i=mae("size",e,t,n);return[r.bincount(o,a,i)];case"DenseBincount":{const o=mae("x",e,t,n),a=mae("weights",e,t,n),i=mae("size",e,t,n),s=mae("binaryOutput",e,t,n);return[r.denseBincount(o,a,i,s)]}default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n)));case"slice_join":return o((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:L;switch(e.op){case"ConcatV2":case"Concat":{const o=mae("n",e,t,n),a=mae("axis",e,t,n);let i=mae("tensors",e,t,n);return i=i.slice(0,o),[r.concat(i,a)]}case"Gather":{const o=mae("x",e,t,n),a=mae("indices",e,t,n);return[r.gather(o,r.cast(a,"int32"),0)]}case"GatherV2":{const o=mae("axis",e,t,n),a=mae("batchDims",e,t,n),i=mae("x",e,t,n),s=mae("indices",e,t,n);return[r.gather(i,r.cast(s,"int32"),o,a)]}case"Reverse":{const o=mae("dims",e,t,n),a=[];for(let e=0;e<o.length;e++)o[e]&&a.push(e);const i=mae("x",e,t,n);return[r.reverse(i,a)]}case"ReverseV2":{const o=mae("axis",e,t,n),a=mae("x",e,t,n);return[r.reverse(a,o)]}case"Slice":{const o=mae("begin",e,t,n),a=mae("size",e,t,n);return[r.slice(mae("x",e,t,n),o,a)]}case"StridedSlice":{const o=mae("begin",e,t,n),a=mae("end",e,t,n),i=mae("strides",e,t,n),s=mae("beginMask",e,t,n),l=mae("endMask",e,t,n),u=mae("ellipsisMask",e,t,n),c=mae("newAxisMask",e,t,n),d=mae("shrinkAxisMask",e,t,n),p=mae("x",e,t,n);return[r.stridedSlice(p,o,a,i,s,l,u,c,d)]}case"Pack":return T5((()=>{const o=mae("axis",e,t,n),a=mae("tensors",e,t,n),i=a[0].shape,s=r.squeeze(a[0]).shape,l=a.map((e=>{const t=TJ(e.shape,i);if(!t&&!TJ(r.squeeze(e).shape,s))throw new Error("the input tensors shape does not match");return t?e:r.reshape(e,i)}));return[r.stack(l,o)]}));case"Unpack":{const o=mae("axis",e,t,n),a=mae("tensor",e,t,n);return r.unstack(a,o)}case"Tile":{const o=mae("reps",e,t,n);return[r.tile(mae("x",e,t,n),o)]}case"Split":case"SplitV":{const o=mae("axis",e,t,n),a=mae("numOrSizeSplits",e,t,n),i=mae("x",e,t,n);return r.split(i,a,o)}case"ScatterNd":{const o=mae("indices",e,t,n),a=mae("values",e,t,n),i=mae("shape",e,t,n);return[r.scatterND(o,a,i)]}case"GatherNd":{const o=mae("x",e,t,n),a=mae("indices",e,t,n);return[r.gatherND(o,a)]}case"SparseToDense":{const o=mae("sparseIndices",e,t,n),a=mae("outputShape",e,t,n),i=mae("sparseValues",e,t,n),s=mae("defaultValue",e,t,n);return[r.sparseToDense(o,i,a,i.dtype===s.dtype?s:r.cast(s,i.dtype))]}case"TensorScatterUpdate":{const o=mae("indices",e,t,n),a=mae("values",e,t,n),i=mae("tensor",e,t,n);return[r.tensorScatterUpdate(i,o,a)]}default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n)));case"sparse":return o((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:L;switch(e.op){case"SparseFillEmptyRows":{const{outputIndices:o,outputValues:a,emptyRowIndicator:i,reverseIndexMap:s}=r.sparse.sparseFillEmptyRows(mae("indices",e,t,n),mae("values",e,t,n),mae("denseShape",e,t,n),mae("defaultValue",e,t,n));return[o,a,i,s]}case"SparseReshape":{const{outputIndices:o,outputShape:a}=r.sparse.sparseReshape(mae("inputIndices",e,t,n),mae("inputShape",e,t,n),mae("newShape",e,t,n));return[o,a]}case"SparseSegmentMean":return[r.sparse.sparseSegmentMean(mae("data",e,t,n),mae("indices",e,t,n),mae("segmentIds",e,t,n))];case"SparseSegmentSum":return[r.sparse.sparseSegmentSum(mae("data",e,t,n),mae("indices",e,t,n),mae("segmentIds",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n)));case"spectral":return o((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:L;switch(e.op){case"FFT":return[r.fft(mae("x",e,t,n))];case"IFFT":return[r.ifft(mae("x",e,t,n))];case"RFFT":return[r.rfft(mae("x",e,t,n))];case"IRFFT":return[r.irfft(mae("x",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n)));case"string":return o((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:L;switch(e.op){case"StaticRegexReplace":return[r.string.staticRegexReplace(mae("input",e,t,n),mae("pattern",e,t,n),mae("rewrite",e,t,n),mae("replaceGlobal",e,t,n))];case"StringNGrams":{const{nGrams:o,nGramsSplits:a}=r.string.stringNGrams(mae("data",e,t,n),mae("dataSplits",e,t,n),mae("separator",e,t,n),mae("nGramWidths",e,t,n),mae("leftPad",e,t,n),mae("rightPad",e,t,n),mae("padWidth",e,t,n),mae("preserveShortSequences",e,t,n));return[o,a]}case"StringSplit":{const{indices:o,values:a,shape:i}=r.string.stringSplit(mae("input",e,t,n),mae("delimiter",e,t,n),mae("skipEmpty",e,t,n));return[o,a,i]}case"StringToHashBucketFast":return[r.string.stringToHashBucketFast(mae("input",e,t,n),mae("numBuckets",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n)));case"transformation":return o((()=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:L;switch(e.op){case"Cast":return[r.cast(mae("x",e,t,n),mae("dtype",e,t,n))];case"ExpandDims":{const o=mae("axis",e,t,n);return[r.expandDims(mae("x",e,t,n),o)]}case"Squeeze":{const o=mae("axis",e,t,n);return[r.squeeze(mae("x",e,t,n),o)]}case"Reshape":return[r.reshape(mae("x",e,t,n),mae("shape",e,t,n))];case"EnsureShape":return[r.ensureShape(mae("x",e,t,n),mae("shape",e,t,n))];case"MirrorPad":return[r.mirrorPad(mae("x",e,t,n),mae("padding",e,t,n),mae("mode",e,t,n))];case"PadV2":case"Pad":return[r.pad(mae("x",e,t,n),mae("padding",e,t,n),mae("constantValue",e,t,n))];case"SpaceToBatchND":{const o=mae("blockShape",e,t,n),a=mae("paddings",e,t,n);return[r.spaceToBatchND(mae("x",e,t,n),o,a)]}case"BatchToSpaceND":{const o=mae("blockShape",e,t,n),a=mae("crops",e,t,n);return[r.batchToSpaceND(mae("x",e,t,n),o,a)]}case"DepthToSpace":{const o=mae("blockSize",e,t,n),a=mae("dataFormat",e,t,n).toUpperCase();return[r.depthToSpace(mae("x",e,t,n),o,a)]}case"BroadcastTo":return[r.broadcastTo(mae("x",e,t,n),mae("shape",e,t,n))];case"BroadcastArgs":return[r.broadcastArgs(mae("s0",e,t,n),mae("s1",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n)));case"hash_table":return(async(e,t,n,r)=>{switch(e.op){case"HashTable":case"HashTableV2":{const o=r.getHashTableHandleByName(e.name);if(null!=o)return[o];{const o=mae("keyDType",e,t,n),a=mae("valueDType",e,t,n),i=new hie(o,a);return r.addHashTable(e.name,i),[i.handle]}}case"InitializeTable":case"InitializeTableV2":case"LookupTableImport":case"LookupTableImportV2":{const o=mae("tableHandle",e,t,n,r),a=mae("keys",e,t,n),i=mae("values",e,t,n),s=r.getHashTableById(o.id);return[await s.import(a,i)]}case"LookupTableFind":case"LookupTableFindV2":{const o=mae("tableHandle",e,t,n,r),a=mae("keys",e,t,n),i=mae("defaultValue",e,t,n),s=r.getHashTableById(o.id);return[await s.find(a,i)]}case"LookupTableSize":case"LookupTableSizeV2":{const o=mae("tableHandle",e,t,n,r);return[r.getHashTableById(o.id).tensorSize()]}default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n,r);case"custom":const a=fae(e.op);if(a&&a.customExecutor)return a.customExecutor(new rie(e,t,n));throw TypeError(`Custom op ${e.op} is not registered.`);default:throw TypeError(`Unknown op '${e.op}'. File an issue at https://github.com/tensorflow/tfjs/issues so we can add it, or register a custom execution with tf.registerOp()`)}})(e,t,n);return a0(a)?a.then((e=>[].concat(e))):[].concat(a)}class mie{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4?arguments[4]:void 0;this.weightMap=e,this.tensorArrayMap=t,this.tensorListMap=n,this.functionMap=r,this.parseNodeNameCache=o,this.rootContext={id:0,frameName:"",iterationId:0},this.contexts=[this.rootContext],this.lastId=0,this.generateCurrentContextIds()}newFrame(e,t){return{id:e,frameName:t,iterationId:0}}set currentContext(e){this.contexts!==e&&(this.contexts=e,this.generateCurrentContextIds())}get currentContext(){return this.contexts}get currentContextId(){return this._currentContextIds[0]}get currentContextIds(){return this._currentContextIds}generateCurrentContextIds(){const e=[];for(let t=0;t<this.contexts.length-1;t++){const n=this.contexts.slice(0,this.contexts.length-t);e.push(this.contextIdforContexts(n))}e.push(""),this._currentContextIds=e}contextIdforContexts(e){return e?e.map((e=>0===e.id&&0===e.iterationId?"":`${e.frameName}-${e.iterationId}`)).join("/"):""}enterFrame(e){this.contexts&&(this.lastId++,this.contexts=this.contexts.slice(),this.contexts.push(this.newFrame(this.lastId,e)),this._currentContextIds.unshift(this.contextIdforContexts(this.contexts)))}exitFrame(){if(!(this.contexts&&this.contexts.length>1))throw new Error("Cannot exit frame, the context is empty");this.contexts=this.contexts.slice(),this.contexts.splice(-1),this.currentContextIds.shift()}nextIteration(){if(!(this.contexts&&this.contexts.length>0))throw new Error("Cannot increase frame iteration, the context is empty");{this.contexts=this.contexts.slice(),this.lastId++;const e=Object.assign({},this.contexts[this.contexts.length-1]);e.iterationId+=1,e.id=this.lastId,this.contexts.splice(-1,1,e),this._currentContextIds.splice(0,1,this.contextIdforContexts(this.contexts))}}getWeight(e){return this.weightMap[e]}addTensorArray(e){this.tensorArrayMap[e.id]=e}getTensorArray(e){return this.tensorArrayMap[e]}addTensorList(e){this.tensorListMap[e.id]=e}getTensorList(e){return this.tensorListMap[e]}dispose(e){for(const t in this.tensorArrayMap)this.tensorArrayMap[t].clearAndClose(e);for(const t in this.tensorListMap)this.tensorListMap[t].clearAndClose(e)}}function gie(e,t,n,r){const o=new Set,a=[];let i=null,s=null;const l=new Set,u=new Set(Object.keys(e).map((e=>xae(e)[0])));r=r||[];const c=new Set(r.map((e=>xae(e.name)[0]))),d=[...t];for(;d.length>0;){const e=d.pop();(kie(e)||Sie(e)||Aie(e))&&null==i&&(i=e,s=i.children.map((e=>e.name)).filter((e=>o.has(e)))),o.add(e.name),null==n[e.name]&&(u.has(e.name)||c.has(e.name)||(0!==e.inputs.length?e.inputs.forEach((e=>{l.has(e.name)||(l.add(e.name),d.push(e))})):a.push(e.name)))}return{inputs:e,outputs:t,usedNodes:o,missingInputs:a,dynamicNode:i,syncInputs:s}}function yie(e,t){const{usedNodes:n,inputs:r}=t,o=Object.keys(r).map((e=>xae(e)[0])).map((t=>e.nodes[t])),a=e.initNodes||[],i=e=>n.has("string"===typeof e?e:e.name);function s(e){return[...new Map(e.map((e=>[e.name,e]))).values()]}const l=s([...o,...e.weights,...a]).filter(i),u=s([...l,...Object.values(e.nodes)]).filter(i),c=new Map(u.map((e=>[e.name,e]))),d={};for(const m of u){d[m.name]=d[m.name]||0;for(const e of m.children)i(e)||(d[e.name]=Number.POSITIVE_INFINITY),d[e.name]=(d[e.name]||0)+1}const p=Object.entries(d).filter((e=>{let[,t]=e;return 0===t})).map((e=>{let[t]=e;return t})),h=[...p];for(;p.length>0;){const e=p.pop(),t=c.get(e);for(const n of t.children.filter(i))0===--d[n.name]&&(h.push(n.name),p.push(n.name))}const f=function(e,t){const n=new Map(e.map((e=>[e.name,e]))),r=t.map((e=>e.name)),o=new Set(r);for(;r.length>0;){const e=r.pop(),t=n.get(e);for(const a of t.children)n.has(a.name)&&!o.has(a.name)&&(o.add(a.name),r.push(a.name))}const a=e.filter((e=>o.has(e.name)));return a}(h.map((e=>c.get(e))),l);return function(e,t){const n=new Map(e.map(((e,t)=>[e.name,t]))),r=new Set(t.map((e=>e.name))),o=e=>r.has("string"===typeof e?e:e.name),a=new Set(e.map((e=>e.name))),i=e=>a.has("string"===typeof e?e:e.name);for(const s of e){for(const e of s.children.filter(i)){if(!n.has(e.name))throw new vie(`Child ${e.name} of node ${s.name} is unreachable.`);if(n.get(s.name)>n.get(e.name))throw new vie(`Node ${s.name} is scheduled to run after its child ${e.name}.`)}if(!o(s))for(const e of s.inputs){if(!n.has(e.name))throw new vie(`Input ${e.name} of node ${s.name} is unreachable.`);if(n.get(e.name)>n.get(s.name))throw new vie(`Node ${s.name} is scheduled to run before its input ${e.name}.`)}}}(f,l),f}class vie extends Error{constructor(e){super(`NodesExecutionOrderError: ${e}`)}}const bie=new Set(["Switch","Merge","Enter","Exit","NextIteration","StatelessIf","StatelessWhile","if","While"]),xie=new Set(["NonMaxSuppressionV2","NonMaxSuppressionV3","NonMaxSuppressionV5","Where"]),wie=new Set(["HashTable","HashTableV2","LookupTableImport","LookupTableImportV2","LookupTableFind","LookupTableFindV2","LookupTableSize","LookupTableSizeV2"]);function kie(e){return bie.has(e.op)}function Sie(e){return xie.has(e.op)}function Aie(e){return wie.has(e.op)}class Cie{get weightIds(){return this.parent?this.parent.weightIds:this._weightIds}get functionExecutorMap(){return this.parent?this.parent.functionExecutorMap:this._functionExecutorMap}get weightMap(){return this.parent?this.parent.weightMap:this._weightMap}set weightMap(e){const t=Object.keys(e).map((t=>e[t].map((e=>e.id))));this._weightIds=[].concat(...t),this._weightMap=e}set resourceManager(e){this._resourceManager=e}get inputs(){return this._inputs.map((e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0})))}get outputs(){return this._outputs.map((e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0})))}get inputNodes(){return this._inputs.map((e=>e.signatureKey||e.name))}get outputNodes(){return this._outputs.map((e=>{const t=e.signatureKey||e.name;return e.defaultOutput?`${t}:${e.defaultOutput}`:t}))}get functions(){return Object.keys(this._functions).reduce(((e,t)=>(e[t]=this._functions[t].signature,e)),{})}constructor(e,t){this.graph=e,this.parent=t,this.compiledMap=new Map,this.parseNodeNameCache=new Map,this._weightMap={},this.SEPARATOR=",",this._functions={},this._functionExecutorMap={},this.keepIntermediateTensors=!1,this._outputs=e.outputs,this._inputs=e.inputs,this._initNodes=e.initNodes,this._signature=e.signature,this._functions=e.functions,null!=e.functions&&Object.keys(e.functions).forEach((t=>{this._functionExecutorMap[t]=new Cie(e.functions[t],this)}))}getCompilationKey(e,t){const n=e.map((e=>e.name)).sort(),r=t.map((e=>e.name)).sort();return n.join(this.SEPARATOR)+"--"+r.join(this.SEPARATOR)}compile(e,t){const n=gie(e,t,this.weightMap,this._initNodes),{missingInputs:r,dynamicNode:o,syncInputs:a}=n;if(null!=o)throw new Error(`This execution contains the node '${o.name}', which has the dynamic op '${o.op}'. Please use model.executeAsync() instead. Alternatively, to avoid the dynamic ops, specify the inputs [${a}]`);if(r.length>0){const n=t.map((e=>e.name)),o=Object.keys(e);throw new Error(`Cannot compute the outputs [${n}] from the provided inputs [${o}]. Missing the following inputs: [${r}]`)}const i=yie(this.graph,n),s=function(e){const t=new Map(e.map(((e,t)=>[e.name,t]))),n=Number.MAX_SAFE_INTEGER,r=e.map(((e,t)=>kie(e)?n:t)),o=e=>{const n=r[t.get(e.name)];return null==n?-1:n},a=e.map(((e,t)=>e.children.map(o).reduce(((e,t)=>Math.max(e,t)),r[t]))),i=new Map;for(let s=0;s<e.length;++s){const t=a[s];if(t===n)continue;const r=e[s],o=e[t];i.has(o.name)||i.set(o.name,[]),i.get(o.name).push(r)}return i}(i);return{orderedNodes:i,nodeLiveUntilMap:s}}cloneAndKeepTensor(e){if(null==e)return null;const t=e.clone();return E5(t),t}cloneTensorList(e){if(!e)return null;return e.map((e=>this.cloneAndKeepTensor(e)))}cloneTensorMap(e){return Object.fromEntries(Object.entries(e).map((e=>{let[t,n]=e;return[t,this.cloneTensorList(n)]})))}execute(e,t){this.disposeIntermediateTensors(),e=this.mapInputs(e);const n=Object.keys(e).sort();this.checkInputs(e),this.checkInputShapeAndType(e),t=this.mapOutputs(t),this.checkOutputs(t);const r=n.map((e=>this.graph.nodes[xae(e)[0]])),o=t.map((e=>xae(e)[0])),a=new Set(o);let i=o.map((e=>this.graph.nodes[e]));0===i.length&&(i=this._outputs);const s=this.getCompilationKey(r,i);let l=this.compiledMap.get(s);null==l&&(l=this.compile(e,i),this.compiledMap.set(s,l));try{this.keepIntermediateTensors=u0().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(ZBe){this.keepIntermediateTensors=!1,console.warn(ZBe.message)}const u={},c={};return T5((()=>{const n=new mie(this.weightMap,u,c,this.functionExecutorMap,this.parseNodeNameCache),r=Object.assign({},this.weightMap);this.keepIntermediateTensors&&(this.clonedTensorsMap=this.cloneTensorMap(this.weightMap)),Object.keys(e).forEach((t=>{const[o,a]=xae(t,n),i=[];i[a]=e[t],r[o]=i,this.keepIntermediateTensors&&(this.clonedTensorsMap[o]=this.cloneTensorList(i))}));const o=this.getFrozenTensorIds(r),{orderedNodes:i,nodeLiveUntilMap:s}=l;for(const e of i){if(r[e.name])continue;const t=fie(e,r,n,this._resourceManager);if(a0(t))throw new Error(`The execution of the op '${e.op}' returned a promise. Please use model.executeAsync() instead.`);r[e.name]=t,this.keepIntermediateTensors&&(this.clonedTensorsMap[e.name]=this.cloneTensorList(t)),this.checkTensorForDisposalWithNodeLiveUntilInfo(e,r,n,o,a,s.get(e.name))}return null==this.parent&&n.dispose(o),t.map((e=>gae(e,r,n)))}))}getFrozenTensorIds(e){const t=[].concat.apply([],Object.keys(e).map((t=>e[t])).map((e=>e.map((e=>e.id)))));return new Set(t)}checkTensorForDisposal(e,t,n,r,o,a,i){if(!kie(t)&&!a.has(e)){for(const r of n[e])null!=r&&(i[r.id]=(i[r.id]||0)+t.children.length);for(const e of t.inputs){if(kie(e))continue;const t=yae(e.name,n,r);if(null!=t)for(const e of t){if(!e||e.kept||o.has(e.id))continue;const t=i[e.id];1===t?(e.dispose(),delete i[e.id]):null!=t&&i[e.id]--}}}}checkTensorForDisposalWithNodeLiveUntilInfo(e,t,n,r,o,a){function i(e){return kie(e)||o.has(e.name)}if(!kie(e)&&null!=a)for(const s of a){if(i(s))continue;const e=yae(s.name,t,n);for(const t of e)!t||t.kept||r.has(t.id)||t.dispose()}}async executeAsync(e,t){return this._executeAsync(e,t)}disposeIntermediateTensors(){this.clonedTensorsMap&&(Object.values(this.clonedTensorsMap).forEach((e=>{for(const t of e)t&&!t.isDisposed&&t.dispose()})),this.clonedTensorsMap=null)}getIntermediateTensors(){return this.clonedTensorsMap}async _executeAsync(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};this.disposeIntermediateTensors(),n||(e=this.mapInputs(e),this.checkInputs(e),this.checkInputShapeAndType(e),t=this.mapOutputs(t),this.checkOutputs(t));try{this.keepIntermediateTensors=u0().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(ZBe){this.keepIntermediateTensors=!1,console.warn(ZBe.message)}const a=new mie(this.weightMap,r,o,this.functionExecutorMap,this.parseNodeNameCache);this.keepIntermediateTensors&&(this.clonedTensorsMap=this.cloneTensorMap(this.weightMap));const i=await this.executeWithControlFlow(e,a,t,n),s=t.map((e=>gae(e,i,a))),l=s.map((e=>e.id)),u=Object.keys(e).map((t=>e[t].id)),c=new Set([...l,...u,...this.weightIds]);return Object.values(i).forEach((e=>{e.forEach((e=>{!e||e.isDisposed||c.has(e.id)||e.dispose()}))})),null==this.parent&&a.dispose(c),s}async executeFunctionAsync(e,t,n){const r=e.reduce(((e,t,n)=>(e[this.inputs[n].name]=t,e)),{});return this._executeAsync(r,this.outputNodes,!0,t,n)}async executeWithControlFlow(e,t,n,r){const o=Object.keys(e),a=o.map((e=>this.graph.nodes[xae(e)[0]])),i=n.map((e=>xae(e)[0])),s=new Set(i);let l=i.map((e=>this.graph.nodes[e]));0===l.length&&(l=this._outputs);const{usedNodes:u,missingInputs:c,dynamicNode:d,syncInputs:p}=gie(e,l,this.weightMap,this._initNodes),h=[...a,...this.graph.weights,...this._initNodes||[]].map((e=>({node:e,contexts:t.currentContext}))),f=Object.assign({},this.weightMap);Object.keys(e).forEach((t=>{const[n,r]=xae(t),o=[];o[r]=e[t],f[n]=o}));const m={},g=this.getFrozenTensorIds(f),y={};for(;h.length>0;){const e=this.processStack(a,h,t,f,y,g,s,m,u);await Promise.all(e)}null!=d||r||console.warn("This model execution did not contain any nodes with control flow or dynamic output shapes. You can use model.execute() instead.");const v=l.filter((e=>!kie(e)&&!gae(e.name,f,t))).map((e=>e.name));if(v.length>0){let e="";throw null!=d&&(e=`Alternatively, to avoid the dynamic ops, use model.execute() and specify the inputs [${p}]`),new Error(`Cannot compute the outputs [${v}] from the provided inputs [${o}]. Consider providing the following inputs: [${c}]. ${e}`)}return f}processStack(e,t,n,r,o,a,i,s,l){const u=[];for(;t.length>0;){const e=t.pop();n.currentContext=e.contexts;let c="";if("Enter"===e.node.op&&mae("isConstant",e.node,r,n)&&([c]=vae(e.node.name,n)),null==r[e.node.name]){const d=fie(e.node,r,n,this._resourceManager);c||([c]=vae(e.node.name,n));const p=n.currentContext;a0(d)?u.push(d.then((u=>(r[c]=u,this.keepIntermediateTensors&&(this.clonedTensorsMap[c]=this.cloneTensorList(u)),n.currentContext=p,this.checkTensorForDisposal(c,e.node,r,n,a,i,s),this.processChildNodes(e.node,t,n,r,o,l),u)))):(r[c]=d,this.keepIntermediateTensors&&(this.clonedTensorsMap[c]=this.cloneTensorList(d)),this.checkTensorForDisposal(c,e.node,r,n,a,i,s),this.processChildNodes(e.node,t,n,r,o,l))}else this.processChildNodes(e.node,t,n,r,o,l)}return u}processChildNodes(e,t,n,r,o,a){e.children.forEach((e=>{const[i]=vae(e.name,n);!o[i]&&a.has(e.name)&&("Merge"===e.op?e.inputNames.some((e=>!!gae(e,r,n)))&&(o[i]=!0,t.push({contexts:n.currentContext,node:e})):e.inputNames.every((e=>!!gae(e,r,n)))&&(o[i]=!0,t.push({contexts:n.currentContext,node:e})))}))}dispose(){Object.keys(this.weightMap).forEach((e=>this.weightMap[e].forEach((e=>e.dispose()))))}checkInputShapeAndType(e){Object.keys(e).forEach((t=>{const n=e[t],[r]=xae(t),o=this.graph.nodes[r];if(o.attrParams.shape&&o.attrParams.shape.value){const e=o.attrParams.shape.value;xJ(e.length===n.shape.length&&n.shape.every(((t,n)=>-1===e[n]||e[n]===t)),(()=>`The shape of dict['${o.name}'] provided in model.execute(dict) must be [${e}], but was [${n.shape}]`))}o.attrParams.dtype&&o.attrParams.dtype.value&&xJ(n.dtype===o.attrParams.dtype.value,(()=>`The dtype of dict['${o.name}'] provided in model.execute(dict) must be ${o.attrParams.dtype.value}, but was ${n.dtype}`))}))}mapInputs(e){var t,n;const r={};for(const o in e){const a=null===(n=null===(t=this._signature)||void 0===t?void 0:t.inputs)||void 0===n?void 0:n[o];null!=a?r[a.name]=e[o]:r[o]=e[o]}return r}checkInputs(e){const t=Object.keys(e).filter((e=>{const[t]=xae(e);return null==this.graph.nodes[t]}));if(t.length>0)throw new Error(`The dict provided in model.execute(dict) has keys: [${t}] that are not part of graph`)}mapOutputs(e){return e.map((e=>{var t,n;const r=null===(n=null===(t=this._signature)||void 0===t?void 0:t.outputs)||void 0===n?void 0:n[e];return null!=r?r.name:e}),{})}checkOutputs(e){e.forEach((e=>{const[t]=xae(e);if(!this.graph.nodes[t])throw new Error(`The output '${e}' is not found in the graph`)}))}}class Tie{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.hashTableNameToHandle=e,this.hashTableMap=t}addHashTable(e,t){this.hashTableNameToHandle[e]=t.handle,this.hashTableMap[t.id]=t}getHashTableHandleByName(e){return this.hashTableNameToHandle[e]}getHashTableById(e){return this.hashTableMap[e]}dispose(){for(const e in this.hashTableMap)this.hashTableMap[e].clearAndClose(),delete this.hashTableMap[e];for(const e in this.hashTableNameToHandle)this.hashTableNameToHandle[e].dispose(),delete this.hashTableNameToHandle[e]}}const Iie="?tfjs-format=file",Eie="model.json";class Nie{get modelVersion(){return this.version}get inputNodes(){return this.executor.inputNodes}get outputNodes(){return this.executor.outputNodes}get inputs(){return this.executor.inputs}get outputs(){return this.executor.outputs}get weights(){return this.executor.weightMap}get metadata(){return this.artifacts.userDefinedMetadata}get modelSignature(){return this.signature}get modelStructuredOutputKeys(){return this.structuredOutputKeys}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l;this.modelUrl=e,this.loadOptions=t,this.version="n/a",this.io=n,null==t&&(this.loadOptions={}),this.resourceManager=new Tie}findIOHandler(){const e=this.modelUrl;if(null!=e.load)this.handler=e;else if(null!=this.loadOptions.requestInit)this.handler=this.io.browserHTTPRequest(e,this.loadOptions);else{const t=this.io.getLoadHandlers(e,this.loadOptions);if(0===t.length)t.push(this.io.browserHTTPRequest(e,this.loadOptions));else if(t.length>1)throw new Error(`Found more than one (${t.length}) load handlers for URL '${[e]}'`);this.handler=t[0]}}load(){if(this.findIOHandler(),null==this.handler.load)throw new Error("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");const e=this.handler.load();return a0(e)?e.then((e=>null==e.getWeightStream?this.loadSync(e):this.loadStreaming(e))):this.loadSync(e)}loadSync(e){const t=this.io.decodeWeights(e.weightData,e.weightSpecs);return this.loadWithWeightMap(e,t)}async loadStreaming(e){if(null==e.getWeightStream)throw new Error("Model artifacts missing streamWeights function");const t=await G5(e.getWeightStream(),e.weightSpecs);return this.loadWithWeightMap(e,t)}loadWithWeightMap(e,t){this.artifacts=e;const n=this.artifacts.modelTopology;let r=this.artifacts.signature;if(null!=this.artifacts.userDefinedMetadata){const e=this.artifacts.userDefinedMetadata;null!=e.signature&&(r=e.signature),null!=e.structuredOutputKeys&&(this.structuredOutputKeys=e.structuredOutputKeys)}if(this.signature=r,this.version=`${n.versions.producer}.${n.versions.minConsumer}`,this.executor=new Cie(Wae.Instance.transformGraph(n,this.signature)),this.executor.weightMap=this.convertTensorMapToTensorsMap(t),this.executor.resourceManager=this.resourceManager,null!=e.modelInitializer&&null!=e.modelInitializer.node){const t=Wae.Instance.transformGraph(e.modelInitializer);this.initializer=new Cie(t),this.initializer.weightMap=this.executor.weightMap,this.initializer.resourceManager=this.resourceManager,this.initializerSignature=e.initializerSignature}return!0}async save(e,t){if("string"===typeof e){const t=this.io.getSaveHandlers(e);if(0===t.length)throw new Error(`Cannot find any save handlers for URL '${e}'`);if(t.length>1)throw new Error(`Found more than one (${t.length}) save handlers for URL '${e}'`);e=t[0]}if(null==e.save)throw new Error("GraphModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");return e.save(this.artifacts)}addStructuredOutputNames(e){if(this.structuredOutputKeys){const t={};return(e instanceof T4?[e]:e).forEach(((e,n)=>t[this.structuredOutputKeys[n]]=e)),t}return e}predict(e,t){const n=this.execute(e,this.outputNodes);return this.addStructuredOutputNames(n)}async predictAsync(e,t){const n=await this.executeAsync(e,this.outputNodes);return this.addStructuredOutputNames(n)}normalizeInputs(e){var t;if(!(e instanceof T4)&&!Array.isArray(e)){const n=null===(t=this.signature)||void 0===t?void 0:t.inputs;if(null!=n)for(const t in n){const r=n[t];null!=r.resourceId&&(e[t]=this.resourceIdToCapturedInput[r.resourceId])}return e}e=Array.isArray(e)?e:[e];const n=Object.keys(this.resourceIdToCapturedInput).length;if(e.length+n!==this.inputNodes.length)throw new Error(`Input tensor count mismatch, the graph model has ${this.inputNodes.length-n} non-resource placeholders, while there are ${e.length} input tensors provided.`);let r=0;return this.inputNodes.reduce(((t,n)=>{var o,a,i;const s=null===(i=null===(a=null===(o=this.signature)||void 0===o?void 0:o.inputs)||void 0===a?void 0:a[n])||void 0===i?void 0:i.resourceId;return t[n]=null!=s?this.resourceIdToCapturedInput[s]:e[r++],t}),{})}normalizeOutputs(e){return e=e||this.outputNodes,Array.isArray(e)?e:[e]}executeInitializerGraph(){return null==this.initializer?[]:null==this.initializerSignature?this.initializer.execute({},[]):this.initializer.execute({},Object.keys(this.initializerSignature.outputs))}async executeInitializerGraphAsync(){return null==this.initializer?[]:null==this.initializerSignature?this.initializer.executeAsync({},[]):this.initializer.executeAsync({},Object.keys(this.initializerSignature.outputs))}setResourceIdToCapturedInput(e){if(this.resourceIdToCapturedInput={},this.initializerSignature){const t=this.initializerSignature.outputs,n=Object.keys(t);for(let r=0;r<n.length;r++){const o=t[n[r]];this.resourceIdToCapturedInput[o.resourceId]=e[r]}}}execute(e,t){null==this.resourceIdToCapturedInput&&this.setResourceIdToCapturedInput(this.executeInitializerGraph()),e=this.normalizeInputs(e),t=this.normalizeOutputs(t);const n=this.executor.execute(e,t);return n.length>1?n:n[0]}async executeAsync(e,t){null==this.resourceIdToCapturedInput&&this.setResourceIdToCapturedInput(await this.executeInitializerGraphAsync()),e=this.normalizeInputs(e),t=this.normalizeOutputs(t);const n=await this.executor.executeAsync(e,t);return n.length>1?n:n[0]}getIntermediateTensors(){return this.executor.getIntermediateTensors()}disposeIntermediateTensors(){this.executor.disposeIntermediateTensors()}convertTensorMapToTensorsMap(e){return Object.keys(e).reduce(((t,n)=>(t[n]=[e[n]],t)),{})}dispose(){this.executor.dispose(),this.initializer&&(this.initializer.dispose(),this.resourceIdToCapturedInput&&I5(this.resourceIdToCapturedInput)),this.resourceManager.dispose()}}async function Oie(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l;if(null==e)throw new Error("modelUrl in loadGraphModel() cannot be null. Please provide a url or an IOHandler that loads the model");null==t&&(t={}),t.fromTFHub&&"string"===typeof e&&(e=function(e){e.endsWith("/")||(e+="/");return`${e}${Eie}${Iie}`}(e));const r=new Nie(e,t,n);return await r.load(),r}function Mie(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((r=r.apply(e,t||[])).next())}))}function Die(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}var Rie={0:"tench, Tinca tinca",1:"goldfish, Carassius auratus",2:"great white shark, white shark, man-eater, man-eating shark, Carcharodon carcharias",3:"tiger shark, Galeocerdo cuvieri",4:"hammerhead, hammerhead shark",5:"electric ray, crampfish, numbfish, torpedo",6:"stingray",7:"cock",8:"hen",9:"ostrich, Struthio camelus",10:"brambling, Fringilla montifringilla",11:"goldfinch, Carduelis carduelis",12:"house finch, linnet, Carpodacus mexicanus",13:"junco, snowbird",14:"indigo bunting, indigo finch, indigo bird, Passerina cyanea",15:"robin, American robin, Turdus migratorius",16:"bulbul",17:"jay",18:"magpie",19:"chickadee",20:"water ouzel, dipper",21:"kite",22:"bald eagle, American eagle, Haliaeetus leucocephalus",23:"vulture",24:"great grey owl, great gray owl, Strix nebulosa",25:"European fire salamander, Salamandra salamandra",26:"common newt, Triturus vulgaris",27:"eft",28:"spotted salamander, Ambystoma maculatum",29:"axolotl, mud puppy, Ambystoma mexicanum",30:"bullfrog, Rana catesbeiana",31:"tree frog, tree-frog",32:"tailed frog, bell toad, ribbed toad, tailed toad, Ascaphus trui",33:"loggerhead, loggerhead turtle, Caretta caretta",34:"leatherback turtle, leatherback, leathery turtle, Dermochelys coriacea",35:"mud turtle",36:"terrapin",37:"box turtle, box tortoise",38:"banded gecko",39:"common iguana, iguana, Iguana iguana",40:"American chameleon, anole, Anolis carolinensis",41:"whiptail, whiptail lizard",42:"agama",43:"frilled lizard, Chlamydosaurus kingi",44:"alligator lizard",45:"Gila monster, Heloderma suspectum",46:"green lizard, Lacerta viridis",47:"African chameleon, Chamaeleo chamaeleon",48:"Komodo dragon, Komodo lizard, dragon lizard, giant lizard, Varanus komodoensis",49:"African crocodile, Nile crocodile, Crocodylus niloticus",50:"American alligator, Alligator mississipiensis",51:"triceratops",52:"thunder snake, worm snake, Carphophis amoenus",53:"ringneck snake, ring-necked snake, ring snake",54:"hognose snake, puff adder, sand viper",55:"green snake, grass snake",56:"king snake, kingsnake",57:"garter snake, grass snake",58:"water snake",59:"vine snake",60:"night snake, Hypsiglena torquata",61:"boa constrictor, Constrictor constrictor",62:"rock python, rock snake, Python sebae",63:"Indian cobra, Naja naja",64:"green mamba",65:"sea snake",66:"horned viper, cerastes, sand viper, horned asp, Cerastes cornutus",67:"diamondback, diamondback rattlesnake, Crotalus adamanteus",68:"sidewinder, horned rattlesnake, Crotalus cerastes",69:"trilobite",70:"harvestman, daddy longlegs, Phalangium opilio",71:"scorpion",72:"black and gold garden spider, Argiope aurantia",73:"barn spider, Araneus cavaticus",74:"garden spider, Aranea diademata",75:"black widow, Latrodectus mactans",76:"tarantula",77:"wolf spider, hunting spider",78:"tick",79:"centipede",80:"black grouse",81:"ptarmigan",82:"ruffed grouse, partridge, Bonasa umbellus",83:"prairie chicken, prairie grouse, prairie fowl",84:"peacock",85:"quail",86:"partridge",87:"African grey, African gray, Psittacus erithacus",88:"macaw",89:"sulphur-crested cockatoo, Kakatoe galerita, Cacatua galerita",90:"lorikeet",91:"coucal",92:"bee eater",93:"hornbill",94:"hummingbird",95:"jacamar",96:"toucan",97:"drake",98:"red-breasted merganser, Mergus serrator",99:"goose",100:"black swan, Cygnus atratus",101:"tusker",102:"echidna, spiny anteater, anteater",103:"platypus, duckbill, duckbilled platypus, duck-billed platypus, Ornithorhynchus anatinus",104:"wallaby, brush kangaroo",105:"koala, koala bear, kangaroo bear, native bear, Phascolarctos cinereus",106:"wombat",107:"jelly fish",108:"sea anemone, anemone",109:"brain coral",110:"flatworm, platyhelminth",111:"nematode, nematode worm, roundworm",112:"conch",113:"snail",114:"slug",115:"sea slug, nudibranch",116:"chiton, coat-of-mail shell, sea cradle, polyplacophore",117:"chambered nautilus, pearly nautilus, nautilus",118:"Dungeness crab, Cancer magister",119:"rock crab, Cancer irroratus",120:"fiddler crab",121:"king crab, Alaska crab, Alaskan king crab, Alaska king crab, Paralithodes camtschatica",122:"American lobster, Northern lobster, Maine lobster, Homarus americanus",123:"spiny lobster, langouste, rock lobster, crawfish, crayfish, sea crawfish",124:"crayfish, crawfish, crawdad, crawdaddy",125:"hermit crab",126:"isopod",127:"white stork, Ciconia ciconia",128:"black stork, Ciconia nigra",129:"spoonbill",130:"flamingo",131:"little blue heron, Egretta caerulea",132:"American egret, great white heron, Egretta albus",133:"bittern",134:"crane",135:"limpkin, Aramus pictus",136:"European gallinule, Porphyrio porphyrio",137:"American coot, marsh hen, mud hen, water hen, Fulica americana",138:"bustard",139:"ruddy turnstone, Arenaria interpres",140:"red-backed sandpiper, dunlin, Erolia alpina",141:"redshank, Tringa totanus",142:"dowitcher",143:"oystercatcher, oyster catcher",144:"pelican",145:"king penguin, Aptenodytes patagonica",146:"albatross, mollymawk",147:"grey whale, gray whale, devilfish, Eschrichtius gibbosus, Eschrichtius robustus",148:"killer whale, killer, orca, grampus, sea wolf, Orcinus orca",149:"dugong, Dugong dugon",150:"sea lion",151:"Chihuahua",152:"Japanese spaniel",153:"Maltese dog, Maltese terrier, Maltese",154:"Pekinese, Pekingese, Peke",155:"Shih-Tzu",156:"Blenheim spaniel",157:"papillon",158:"toy terrier",159:"Rhodesian ridgeback",160:"Afghan hound, Afghan",161:"basset, basset hound",162:"beagle",163:"bloodhound, sleuthhound",164:"bluetick",165:"black-and-tan coonhound",166:"Walker hound, Walker foxhound",167:"English foxhound",168:"redbone",169:"borzoi, Russian wolfhound",170:"Irish wolfhound",171:"Italian greyhound",172:"whippet",173:"Ibizan hound, Ibizan Podenco",174:"Norwegian elkhound, elkhound",175:"otterhound, otter hound",176:"Saluki, gazelle hound",177:"Scottish deerhound, deerhound",178:"Weimaraner",179:"Staffordshire bullterrier, Staffordshire bull terrier",180:"American Staffordshire terrier, Staffordshire terrier, American pit bull terrier, pit bull terrier",181:"Bedlington terrier",182:"Border terrier",183:"Kerry blue terrier",184:"Irish terrier",185:"Norfolk terrier",186:"Norwich terrier",187:"Yorkshire terrier",188:"wire-haired fox terrier",189:"Lakeland terrier",190:"Sealyham terrier, Sealyham",191:"Airedale, Airedale terrier",192:"cairn, cairn terrier",193:"Australian terrier",194:"Dandie Dinmont, Dandie Dinmont terrier",195:"Boston bull, Boston terrier",196:"miniature schnauzer",197:"giant schnauzer",198:"standard schnauzer",199:"Scotch terrier, Scottish terrier, Scottie",200:"Tibetan terrier, chrysanthemum dog",201:"silky terrier, Sydney silky",202:"soft-coated wheaten terrier",203:"West Highland white terrier",204:"Lhasa, Lhasa apso",205:"flat-coated retriever",206:"curly-coated retriever",207:"golden retriever",208:"Labrador retriever",209:"Chesapeake Bay retriever",210:"German short-haired pointer",211:"vizsla, Hungarian pointer",212:"English setter",213:"Irish setter, red setter",214:"Gordon setter",215:"Brittany spaniel",216:"clumber, clumber spaniel",217:"English springer, English springer spaniel",218:"Welsh springer spaniel",219:"cocker spaniel, English cocker spaniel, cocker",220:"Sussex spaniel",221:"Irish water spaniel",222:"kuvasz",223:"schipperke",224:"groenendael",225:"malinois",226:"briard",227:"kelpie",228:"komondor",229:"Old English sheepdog, bobtail",230:"Shetland sheepdog, Shetland sheep dog, Shetland",231:"collie",232:"Border collie",233:"Bouvier des Flandres, Bouviers des Flandres",234:"Rottweiler",235:"German shepherd, German shepherd dog, German police dog, alsatian",236:"Doberman, Doberman pinscher",237:"miniature pinscher",238:"Greater Swiss Mountain dog",239:"Bernese mountain dog",240:"Appenzeller",241:"EntleBucher",242:"boxer",243:"bull mastiff",244:"Tibetan mastiff",245:"French bulldog",246:"Great Dane",247:"Saint Bernard, St Bernard",248:"Eskimo dog, husky",249:"malamute, malemute, Alaskan malamute",250:"Siberian husky",251:"dalmatian, coach dog, carriage dog",252:"affenpinscher, monkey pinscher, monkey dog",253:"basenji",254:"pug, pug-dog",255:"Leonberg",256:"Newfoundland, Newfoundland dog",257:"Great Pyrenees",258:"Samoyed, Samoyede",259:"Pomeranian",260:"chow, chow chow",261:"keeshond",262:"Brabancon griffon",263:"Pembroke, Pembroke Welsh corgi",264:"Cardigan, Cardigan Welsh corgi",265:"toy poodle",266:"miniature poodle",267:"standard poodle",268:"Mexican hairless",269:"timber wolf, grey wolf, gray wolf, Canis lupus",270:"white wolf, Arctic wolf, Canis lupus tundrarum",271:"red wolf, maned wolf, Canis rufus, Canis niger",272:"coyote, prairie wolf, brush wolf, Canis latrans",273:"dingo, warrigal, warragal, Canis dingo",274:"dhole, Cuon alpinus",275:"African hunting dog, hyena dog, Cape hunting dog, Lycaon pictus",276:"hyena, hyaena",277:"red fox, Vulpes vulpes",278:"kit fox, Vulpes macrotis",279:"Arctic fox, white fox, Alopex lagopus",280:"grey fox, gray fox, Urocyon cinereoargenteus",281:"tabby, tabby cat",282:"tiger cat",283:"Persian cat",284:"Siamese cat, Siamese",285:"Egyptian cat",286:"cougar, puma, catamount, mountain lion, painter, panther, Felis concolor",287:"lynx, catamount",288:"leopard, Panthera pardus",289:"snow leopard, ounce, Panthera uncia",290:"jaguar, panther, Panthera onca, Felis onca",291:"lion, king of beasts, Panthera leo",292:"tiger, Panthera tigris",293:"cheetah, chetah, Acinonyx jubatus",294:"brown bear, bruin, Ursus arctos",295:"American black bear, black bear, Ursus americanus, Euarctos americanus",296:"ice bear, polar bear, Ursus Maritimus, Thalarctos maritimus",297:"sloth bear, Melursus ursinus, Ursus ursinus",298:"mongoose",299:"meerkat, mierkat",300:"tiger beetle",301:"ladybug, ladybeetle, lady beetle, ladybird, ladybird beetle",302:"ground beetle, carabid beetle",303:"long-horned beetle, longicorn, longicorn beetle",304:"leaf beetle, chrysomelid",305:"dung beetle",306:"rhinoceros beetle",307:"weevil",308:"fly",309:"bee",310:"ant, emmet, pismire",311:"grasshopper, hopper",312:"cricket",313:"walking stick, walkingstick, stick insect",314:"cockroach, roach",315:"mantis, mantid",316:"cicada, cicala",317:"leafhopper",318:"lacewing, lacewing fly",319:"dragonfly, darning needle, devil's darning needle, sewing needle, snake feeder, snake doctor, mosquito hawk, skeeter hawk",320:"damselfly",321:"admiral",322:"ringlet, ringlet butterfly",323:"monarch, monarch butterfly, milkweed butterfly, Danaus plexippus",324:"cabbage butterfly",325:"sulphur butterfly, sulfur butterfly",326:"lycaenid, lycaenid butterfly",327:"starfish, sea star",328:"sea urchin",329:"sea cucumber, holothurian",330:"wood rabbit, cottontail, cottontail rabbit",331:"hare",332:"Angora, Angora rabbit",333:"hamster",334:"porcupine, hedgehog",335:"fox squirrel, eastern fox squirrel, Sciurus niger",336:"marmot",337:"beaver",338:"guinea pig, Cavia cobaya",339:"sorrel",340:"zebra",341:"hog, pig, grunter, squealer, Sus scrofa",342:"wild boar, boar, Sus scrofa",343:"warthog",344:"hippopotamus, hippo, river horse, Hippopotamus amphibius",345:"ox",346:"water buffalo, water ox, Asiatic buffalo, Bubalus bubalis",347:"bison",348:"ram, tup",349:"bighorn, bighorn sheep, cimarron, Rocky Mountain bighorn, Rocky Mountain sheep, Ovis canadensis",350:"ibex, Capra ibex",351:"hartebeest",352:"impala, Aepyceros melampus",353:"gazelle",354:"Arabian camel, dromedary, Camelus dromedarius",355:"llama",356:"weasel",357:"mink",358:"polecat, fitch, foulmart, foumart, Mustela putorius",359:"black-footed ferret, ferret, Mustela nigripes",360:"otter",361:"skunk, polecat, wood pussy",362:"badger",363:"armadillo",364:"three-toed sloth, ai, Bradypus tridactylus",365:"orangutan, orang, orangutang, Pongo pygmaeus",366:"gorilla, Gorilla gorilla",367:"chimpanzee, chimp, Pan troglodytes",368:"gibbon, Hylobates lar",369:"siamang, Hylobates syndactylus, Symphalangus syndactylus",370:"guenon, guenon monkey",371:"patas, hussar monkey, Erythrocebus patas",372:"baboon",373:"macaque",374:"langur",375:"colobus, colobus monkey",376:"proboscis monkey, Nasalis larvatus",377:"marmoset",378:"capuchin, ringtail, Cebus capucinus",379:"howler monkey, howler",380:"titi, titi monkey",381:"spider monkey, Ateles geoffroyi",382:"squirrel monkey, Saimiri sciureus",383:"Madagascar cat, ring-tailed lemur, Lemur catta",384:"indri, indris, Indri indri, Indri brevicaudatus",385:"Indian elephant, Elephas maximus",386:"African elephant, Loxodonta africana",387:"lesser panda, red panda, panda, bear cat, cat bear, Ailurus fulgens",388:"giant panda, panda, panda bear, coon bear, Ailuropoda melanoleuca",389:"barracouta, snoek",390:"eel",391:"coho, cohoe, coho salmon, blue jack, silver salmon, Oncorhynchus kisutch",392:"rock beauty, Holocanthus tricolor",393:"anemone fish",394:"sturgeon",395:"gar, garfish, garpike, billfish, Lepisosteus osseus",396:"lionfish",397:"puffer, pufferfish, blowfish, globefish",398:"abacus",399:"abaya",400:"academic gown, academic robe, judge's robe",401:"accordion, piano accordion, squeeze box",402:"acoustic guitar",403:"aircraft carrier, carrier, flattop, attack aircraft carrier",404:"airliner",405:"airship, dirigible",406:"altar",407:"ambulance",408:"amphibian, amphibious vehicle",409:"analog clock",410:"apiary, bee house",411:"apron",412:"ashcan, trash can, garbage can, wastebin, ash bin, ash-bin, ashbin, dustbin, trash barrel, trash bin",413:"assault rifle, assault gun",414:"backpack, back pack, knapsack, packsack, rucksack, haversack",415:"bakery, bakeshop, bakehouse",416:"balance beam, beam",417:"balloon",418:"ballpoint, ballpoint pen, ballpen, Biro",419:"Band Aid",420:"banjo",421:"bannister, banister, balustrade, balusters, handrail",422:"barbell",423:"barber chair",424:"barbershop",425:"barn",426:"barometer",427:"barrel, cask",428:"barrow, garden cart, lawn cart, wheelbarrow",429:"baseball",430:"basketball",431:"bassinet",432:"bassoon",433:"bathing cap, swimming cap",434:"bath towel",435:"bathtub, bathing tub, bath, tub",436:"beach wagon, station wagon, wagon, estate car, beach waggon, station waggon, waggon",437:"beacon, lighthouse, beacon light, pharos",438:"beaker",439:"bearskin, busby, shako",440:"beer bottle",441:"beer glass",442:"bell cote, bell cot",443:"bib",444:"bicycle-built-for-two, tandem bicycle, tandem",445:"bikini, two-piece",446:"binder, ring-binder",447:"binoculars, field glasses, opera glasses",448:"birdhouse",449:"boathouse",450:"bobsled, bobsleigh, bob",451:"bolo tie, bolo, bola tie, bola",452:"bonnet, poke bonnet",453:"bookcase",454:"bookshop, bookstore, bookstall",455:"bottlecap",456:"bow",457:"bow tie, bow-tie, bowtie",458:"brass, memorial tablet, plaque",459:"brassiere, bra, bandeau",460:"breakwater, groin, groyne, mole, bulwark, seawall, jetty",461:"breastplate, aegis, egis",462:"broom",463:"bucket, pail",464:"buckle",465:"bulletproof vest",466:"bullet train, bullet",467:"butcher shop, meat market",468:"cab, hack, taxi, taxicab",469:"caldron, cauldron",470:"candle, taper, wax light",471:"cannon",472:"canoe",473:"can opener, tin opener",474:"cardigan",475:"car mirror",476:"carousel, carrousel, merry-go-round, roundabout, whirligig",477:"carpenter's kit, tool kit",478:"carton",479:"car wheel",480:"cash machine, cash dispenser, automated teller machine, automatic teller machine, automated teller, automatic teller, ATM",481:"cassette",482:"cassette player",483:"castle",484:"catamaran",485:"CD player",486:"cello, violoncello",487:"cellular telephone, cellular phone, cellphone, cell, mobile phone",488:"chain",489:"chainlink fence",490:"chain mail, ring mail, mail, chain armor, chain armour, ring armor, ring armour",491:"chain saw, chainsaw",492:"chest",493:"chiffonier, commode",494:"chime, bell, gong",495:"china cabinet, china closet",496:"Christmas stocking",497:"church, church building",498:"cinema, movie theater, movie theatre, movie house, picture palace",499:"cleaver, meat cleaver, chopper",500:"cliff dwelling",501:"cloak",502:"clog, geta, patten, sabot",503:"cocktail shaker",504:"coffee mug",505:"coffeepot",506:"coil, spiral, volute, whorl, helix",507:"combination lock",508:"computer keyboard, keypad",509:"confectionery, confectionary, candy store",510:"container ship, containership, container vessel",511:"convertible",512:"corkscrew, bottle screw",513:"cornet, horn, trumpet, trump",514:"cowboy boot",515:"cowboy hat, ten-gallon hat",516:"cradle",517:"crane",518:"crash helmet",519:"crate",520:"crib, cot",521:"Crock Pot",522:"croquet ball",523:"crutch",524:"cuirass",525:"dam, dike, dyke",526:"desk",527:"desktop computer",528:"dial telephone, dial phone",529:"diaper, nappy, napkin",530:"digital clock",531:"digital watch",532:"dining table, board",533:"dishrag, dishcloth",534:"dishwasher, dish washer, dishwashing machine",535:"disk brake, disc brake",536:"dock, dockage, docking facility",537:"dogsled, dog sled, dog sleigh",538:"dome",539:"doormat, welcome mat",540:"drilling platform, offshore rig",541:"drum, membranophone, tympan",542:"drumstick",543:"dumbbell",544:"Dutch oven",545:"electric fan, blower",546:"electric guitar",547:"electric locomotive",548:"entertainment center",549:"envelope",550:"espresso maker",551:"face powder",552:"feather boa, boa",553:"file, file cabinet, filing cabinet",554:"fireboat",555:"fire engine, fire truck",556:"fire screen, fireguard",557:"flagpole, flagstaff",558:"flute, transverse flute",559:"folding chair",560:"football helmet",561:"forklift",562:"fountain",563:"fountain pen",564:"four-poster",565:"freight car",566:"French horn, horn",567:"frying pan, frypan, skillet",568:"fur coat",569:"garbage truck, dustcart",570:"gasmask, respirator, gas helmet",571:"gas pump, gasoline pump, petrol pump, island dispenser",572:"goblet",573:"go-kart",574:"golf ball",575:"golfcart, golf cart",576:"gondola",577:"gong, tam-tam",578:"gown",579:"grand piano, grand",580:"greenhouse, nursery, glasshouse",581:"grille, radiator grille",582:"grocery store, grocery, food market, market",583:"guillotine",584:"hair slide",585:"hair spray",586:"half track",587:"hammer",588:"hamper",589:"hand blower, blow dryer, blow drier, hair dryer, hair drier",590:"hand-held computer, hand-held microcomputer",591:"handkerchief, hankie, hanky, hankey",592:"hard disc, hard disk, fixed disk",593:"harmonica, mouth organ, harp, mouth harp",594:"harp",595:"harvester, reaper",596:"hatchet",597:"holster",598:"home theater, home theatre",599:"honeycomb",600:"hook, claw",601:"hoopskirt, crinoline",602:"horizontal bar, high bar",603:"horse cart, horse-cart",604:"hourglass",605:"iPod",606:"iron, smoothing iron",607:"jack-o'-lantern",608:"jean, blue jean, denim",609:"jeep, landrover",610:"jersey, T-shirt, tee shirt",611:"jigsaw puzzle",612:"jinrikisha, ricksha, rickshaw",613:"joystick",614:"kimono",615:"knee pad",616:"knot",617:"lab coat, laboratory coat",618:"ladle",619:"lampshade, lamp shade",620:"laptop, laptop computer",621:"lawn mower, mower",622:"lens cap, lens cover",623:"letter opener, paper knife, paperknife",624:"library",625:"lifeboat",626:"lighter, light, igniter, ignitor",627:"limousine, limo",628:"liner, ocean liner",629:"lipstick, lip rouge",630:"Loafer",631:"lotion",632:"loudspeaker, speaker, speaker unit, loudspeaker system, speaker system",633:"loupe, jeweler's loupe",634:"lumbermill, sawmill",635:"magnetic compass",636:"mailbag, postbag",637:"mailbox, letter box",638:"maillot",639:"maillot, tank suit",640:"manhole cover",641:"maraca",642:"marimba, xylophone",643:"mask",644:"matchstick",645:"maypole",646:"maze, labyrinth",647:"measuring cup",648:"medicine chest, medicine cabinet",649:"megalith, megalithic structure",650:"microphone, mike",651:"microwave, microwave oven",652:"military uniform",653:"milk can",654:"minibus",655:"miniskirt, mini",656:"minivan",657:"missile",658:"mitten",659:"mixing bowl",660:"mobile home, manufactured home",661:"Model T",662:"modem",663:"monastery",664:"monitor",665:"moped",666:"mortar",667:"mortarboard",668:"mosque",669:"mosquito net",670:"motor scooter, scooter",671:"mountain bike, all-terrain bike, off-roader",672:"mountain tent",673:"mouse, computer mouse",674:"mousetrap",675:"moving van",676:"muzzle",677:"nail",678:"neck brace",679:"necklace",680:"nipple",681:"notebook, notebook computer",682:"obelisk",683:"oboe, hautboy, hautbois",684:"ocarina, sweet potato",685:"odometer, hodometer, mileometer, milometer",686:"oil filter",687:"organ, pipe organ",688:"oscilloscope, scope, cathode-ray oscilloscope, CRO",689:"overskirt",690:"oxcart",691:"oxygen mask",692:"packet",693:"paddle, boat paddle",694:"paddlewheel, paddle wheel",695:"padlock",696:"paintbrush",697:"pajama, pyjama, pj's, jammies",698:"palace",699:"panpipe, pandean pipe, syrinx",700:"paper towel",701:"parachute, chute",702:"parallel bars, bars",703:"park bench",704:"parking meter",705:"passenger car, coach, carriage",706:"patio, terrace",707:"pay-phone, pay-station",708:"pedestal, plinth, footstall",709:"pencil box, pencil case",710:"pencil sharpener",711:"perfume, essence",712:"Petri dish",713:"photocopier",714:"pick, plectrum, plectron",715:"pickelhaube",716:"picket fence, paling",717:"pickup, pickup truck",718:"pier",719:"piggy bank, penny bank",720:"pill bottle",721:"pillow",722:"ping-pong ball",723:"pinwheel",724:"pirate, pirate ship",725:"pitcher, ewer",726:"plane, carpenter's plane, woodworking plane",727:"planetarium",728:"plastic bag",729:"plate rack",730:"plow, plough",731:"plunger, plumber's helper",732:"Polaroid camera, Polaroid Land camera",733:"pole",734:"police van, police wagon, paddy wagon, patrol wagon, wagon, black Maria",735:"poncho",736:"pool table, billiard table, snooker table",737:"pop bottle, soda bottle",738:"pot, flowerpot",739:"potter's wheel",740:"power drill",741:"prayer rug, prayer mat",742:"printer",743:"prison, prison house",744:"projectile, missile",745:"projector",746:"puck, hockey puck",747:"punching bag, punch bag, punching ball, punchball",748:"purse",749:"quill, quill pen",750:"quilt, comforter, comfort, puff",751:"racer, race car, racing car",752:"racket, racquet",753:"radiator",754:"radio, wireless",755:"radio telescope, radio reflector",756:"rain barrel",757:"recreational vehicle, RV, R.V.",758:"reel",759:"reflex camera",760:"refrigerator, icebox",761:"remote control, remote",762:"restaurant, eating house, eating place, eatery",763:"revolver, six-gun, six-shooter",764:"rifle",765:"rocking chair, rocker",766:"rotisserie",767:"rubber eraser, rubber, pencil eraser",768:"rugby ball",769:"rule, ruler",770:"running shoe",771:"safe",772:"safety pin",773:"saltshaker, salt shaker",774:"sandal",775:"sarong",776:"sax, saxophone",777:"scabbard",778:"scale, weighing machine",779:"school bus",780:"schooner",781:"scoreboard",782:"screen, CRT screen",783:"screw",784:"screwdriver",785:"seat belt, seatbelt",786:"sewing machine",787:"shield, buckler",788:"shoe shop, shoe-shop, shoe store",789:"shoji",790:"shopping basket",791:"shopping cart",792:"shovel",793:"shower cap",794:"shower curtain",795:"ski",796:"ski mask",797:"sleeping bag",798:"slide rule, slipstick",799:"sliding door",800:"slot, one-armed bandit",801:"snorkel",802:"snowmobile",803:"snowplow, snowplough",804:"soap dispenser",805:"soccer ball",806:"sock",807:"solar dish, solar collector, solar furnace",808:"sombrero",809:"soup bowl",810:"space bar",811:"space heater",812:"space shuttle",813:"spatula",814:"speedboat",815:"spider web, spider's web",816:"spindle",817:"sports car, sport car",818:"spotlight, spot",819:"stage",820:"steam locomotive",821:"steel arch bridge",822:"steel drum",823:"stethoscope",824:"stole",825:"stone wall",826:"stopwatch, stop watch",827:"stove",828:"strainer",829:"streetcar, tram, tramcar, trolley, trolley car",830:"stretcher",831:"studio couch, day bed",832:"stupa, tope",833:"submarine, pigboat, sub, U-boat",834:"suit, suit of clothes",835:"sundial",836:"sunglass",837:"sunglasses, dark glasses, shades",838:"sunscreen, sunblock, sun blocker",839:"suspension bridge",840:"swab, swob, mop",841:"sweatshirt",842:"swimming trunks, bathing trunks",843:"swing",844:"switch, electric switch, electrical switch",845:"syringe",846:"table lamp",847:"tank, army tank, armored combat vehicle, armoured combat vehicle",848:"tape player",849:"teapot",850:"teddy, teddy bear",851:"television, television system",852:"tennis ball",853:"thatch, thatched roof",854:"theater curtain, theatre curtain",855:"thimble",856:"thresher, thrasher, threshing machine",857:"throne",858:"tile roof",859:"toaster",860:"tobacco shop, tobacconist shop, tobacconist",861:"toilet seat",862:"torch",863:"totem pole",864:"tow truck, tow car, wrecker",865:"toyshop",866:"tractor",867:"trailer truck, tractor trailer, trucking rig, rig, articulated lorry, semi",868:"tray",869:"trench coat",870:"tricycle, trike, velocipede",871:"trimaran",872:"tripod",873:"triumphal arch",874:"trolleybus, trolley coach, trackless trolley",875:"trombone",876:"tub, vat",877:"turnstile",878:"typewriter keyboard",879:"umbrella",880:"unicycle, monocycle",881:"upright, upright piano",882:"vacuum, vacuum cleaner",883:"vase",884:"vault",885:"velvet",886:"vending machine",887:"vestment",888:"viaduct",889:"violin, fiddle",890:"volleyball",891:"waffle iron",892:"wall clock",893:"wallet, billfold, notecase, pocketbook",894:"wardrobe, closet, press",895:"warplane, military plane",896:"washbasin, handbasin, washbowl, lavabo, wash-hand basin",897:"washer, automatic washer, washing machine",898:"water bottle",899:"water jug",900:"water tower",901:"whiskey jug",902:"whistle",903:"wig",904:"window screen",905:"window shade",906:"Windsor tie",907:"wine bottle",908:"wing",909:"wok",910:"wooden spoon",911:"wool, woolen, woollen",912:"worm fence, snake fence, snake-rail fence, Virginia fence",913:"wreck",914:"yawl",915:"yurt",916:"web site, website, internet site, site",917:"comic book",918:"crossword puzzle, crossword",919:"street sign",920:"traffic light, traffic signal, stoplight",921:"book jacket, dust cover, dust jacket, dust wrapper",922:"menu",923:"plate",924:"guacamole",925:"consomme",926:"hot pot, hotpot",927:"trifle",928:"ice cream, icecream",929:"ice lolly, lolly, lollipop, popsicle",930:"French loaf",931:"bagel, beigel",932:"pretzel",933:"cheeseburger",934:"hotdog, hot dog, red hot",935:"mashed potato",936:"head cabbage",937:"broccoli",938:"cauliflower",939:"zucchini, courgette",940:"spaghetti squash",941:"acorn squash",942:"butternut squash",943:"cucumber, cuke",944:"artichoke, globe artichoke",945:"bell pepper",946:"cardoon",947:"mushroom",948:"Granny Smith",949:"strawberry",950:"orange",951:"lemon",952:"fig",953:"pineapple, ananas",954:"banana",955:"jackfruit, jak, jack",956:"custard apple",957:"pomegranate",958:"hay",959:"carbonara",960:"chocolate sauce, chocolate syrup",961:"dough",962:"meat loaf, meatloaf",963:"pizza, pizza pie",964:"potpie",965:"burrito",966:"red wine",967:"espresso",968:"cup",969:"eggnog",970:"alp",971:"bubble",972:"cliff, drop, drop-off",973:"coral reef",974:"geyser",975:"lakeside, lakeshore",976:"promontory, headland, head, foreland",977:"sandbar, sand bar",978:"seashore, coast, seacoast, sea-coast",979:"valley, vale",980:"volcano",981:"ballplayer, baseball player",982:"groom, bridegroom",983:"scuba diver",984:"rapeseed",985:"daisy",986:"yellow lady's slipper, yellow lady-slipper, Cypripedium calceolus, Cypripedium parviflorum",987:"corn",988:"acorn",989:"hip, rose hip, rosehip",990:"buckeye, horse chestnut, conker",991:"coral fungus",992:"agaric",993:"gyromitra",994:"stinkhorn, carrion fungus",995:"earthstar",996:"hen-of-the-woods, hen of the woods, Polyporus frondosus, Grifola frondosa",997:"bolete",998:"ear, spike, capitulum",999:"toilet tissue, toilet paper, bathroom tissue"},Pie=224,$ie={"1.00":"module_apply_default/MobilenetV1/Logits/global_pool","2.00":"module_apply_default/MobilenetV2/Logits/AvgPool"},jie={"1.00":{.25:{url:"https://tfhub.dev/google/imagenet/mobilenet_v1_025_224/classification/1",inputRange:[0,1]},"0.50":{url:"https://tfhub.dev/google/imagenet/mobilenet_v1_050_224/classification/1",inputRange:[0,1]},.75:{url:"https://tfhub.dev/google/imagenet/mobilenet_v1_075_224/classification/1",inputRange:[0,1]},"1.00":{url:"https://tfhub.dev/google/imagenet/mobilenet_v1_100_224/classification/1",inputRange:[0,1]}},"2.00":{"0.50":{url:"https://tfhub.dev/google/imagenet/mobilenet_v2_050_224/classification/2",inputRange:[0,1]},.75:{url:"https://tfhub.dev/google/imagenet/mobilenet_v2_075_224/classification/2",inputRange:[0,1]},"1.00":{url:"https://tfhub.dev/google/imagenet/mobilenet_v2_100_224/classification/2",inputRange:[0,1]}}};var _ie=function(){function e(e,t,n,r,o){void 0===r&&(r=-1),void 0===o&&(o=1),this.version=e,this.alpha=t,this.modelUrl=n,this.inputMin=r,this.inputMax=o,this.normalizationConstant=(o-r)/255}return e.prototype.load=function(){return Mie(this,void 0,void 0,(function(){var e,t,n,r,o=this;return Die(this,(function(a){switch(a.label){case 0:return this.modelUrl?(e=this,[4,Oie(this.modelUrl)]):[3,2];case 1:return e.model=a.sent(),[3,4];case 2:return t=jie[this.version][this.alpha].url,n=this,[4,Oie(t,{fromTFHub:!0})];case 3:n.model=a.sent(),a.label=4;case 4:return[4,(r=T5((function(){return o.model.predict(dte([1,Pie,Pie,3]))}))).data()];case 5:return a.sent(),r.dispose(),[2]}}))}))},e.prototype.infer=function(e,t){var n=this;return void 0===t&&(t=!1),T5((function(){e instanceof T4||(e=d9(e));var r=H6(K6(W6(e,"float32"),n.normalizationConstant),n.inputMin),o=r;e.shape[0]===Pie&&e.shape[1]===Pie||(o=Yre.resizeBilinear(r,[Pie,Pie],!0));var a,i=A7(o,[-1,Pie,Pie,3]);if(t){var s=$ie[n.version],l=n.model.execute(i,s);a=bne(l,[1,2])}else{var u=n.model.predict(i);a=N7(u,[0,1],[-1,1e3])}return a}))},e.prototype.classify=function(e,t){return void 0===t&&(t=3),Mie(this,void 0,void 0,(function(){var n,r;return Die(this,(function(o){switch(o.label){case 0:return[4,Fie(n=this.infer(e),t)];case 1:return r=o.sent(),n.dispose(),[2,r]}}))}))},e}();function Fie(e,t){return Mie(this,void 0,void 0,(function(){var n,r,o,a,i,s,l;return Die(this,(function(u){switch(u.label){case 0:return[4,(n=pne(e)).data()];case 1:for(r=u.sent(),n.dispose(),o=[],l=0;l<r.length;l++)o.push({value:r[l],index:l});for(o.sort((function(e,t){return t.value-e.value})),a=new Float32Array(t),i=new Int32Array(t),l=0;l<t;l++)a[l]=o[l].value,i[l]=o[l].index;for(s=[],l=0;l<i.length;l++)s.push({className:Rie[i[l]],probability:a[l]});return[2,s]}}))}))}const Lie={kernelName:f0,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>K6(e,wne(W6(n,"float32"),-1))}}},zie={kernelName:m0,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>{const t=Y6(W6(n,"float32")),r=X6(y8(a8(1),t));return Z8(q6(e,r))}}}},Bie={kernelName:g0,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>{const t=X6(y8(Y6(W6(n,"float32")),1));return q6(e,t)}}}},Wie={kernelName:y0,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,o=k8(n.shape,r.shape);return{a:()=>{let t=e;const r=w8(n.shape,o);return r.length>0&&(t=Iee(t,r)),A7(t,n.shape)},b:()=>{let t=e;const n=w8(r.shape,o);return n.length>0&&(t=Iee(t,n)),A7(t,r.shape)}}}},Vie={kernelName:v0,saveAllInputs:!0,gradFunc:(e,t)=>{const n={};return t.forEach(((t,r)=>{n[r]=()=>e.clone()})),n}},Uie={kernelName:w0,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Q6(n)}}},Hie={kernelName:k0,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Q6(n)}}},Gie={kernelName:S0,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>q6(e,X6(y8(a8(1),Y6(W6(n,"float32")))))}}},qie={kernelName:A0,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>{const t=X6(H6(a8(1),Y6(W6(n,"float32"))));return q6(e,t)}}}},Kie={kernelName:I0,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,o=k8(n.shape,r.shape);return{a:()=>{const t=H6(Y6(n),Y6(r));let a=K6(e,q6(r,t));const i=w8(n.shape,o);return i.length>0&&(a=Iee(a,i)),A7(a,n.shape)},b:()=>{const t=H6(Y6(n),Y6(r));let a=Z8(K6(e,q6(n,t)));const i=w8(r.shape,o);return i.length>0&&(a=Iee(a,i)),A7(a,r.shape)}}}},Xie={kernelName:C0,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>q6(e,H6(Y6(W6(n,"float32")),1))}}},Yie={kernelName:T0,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>q6(e,y8(a8(1),Y6(W6(n,"float32"))))}}};const Qie=p5({avgPool3dGrad_:function(e,t,n,r,o,a){const i=u5(e,"dy","avgPool3dGrad"),s=u5(t,"input","avgPool3dGrad");let l=i,u=s,c=!1;4===s.rank&&(c=!0,l=A7(i,[1,i.shape[0],i.shape[1],i.shape[2],i.shape[3]]),u=A7(s,[1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]])),xJ(5===l.rank,(()=>`Error in avgPool3dGrad: dy must be rank 5 but got rank ${l.rank}.`)),xJ(5===u.rank,(()=>`Error in avgPool3dGrad: input must be rank 5 but got rank ${u.rank}.`)),S7("avgPool3dGrad",o,a);const d={dy:l,input:u},p={filterSize:n,strides:r,pad:o,dimRoundingMode:a},h=J4.runKernel(M0,d,p);return c?A7(h,[h.shape[1],h.shape[2],h.shape[3],h.shape[4]]):h}}),Zie={kernelName:O0,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{filterSize:o,strides:a,pad:i,dimRoundingMode:s}=n;return{x:()=>Qie(e,r,o,a,i,s)}}};const Jie=p5({avgPoolGrad_:function(e,t,n,r,o){const a=u5(e,"dy","avgPoolGrad"),i=u5(t,"input","avgPoolGrad");xJ(i.rank===a.rank,(()=>`Rank of input (${i.rank}) does not match rank of dy (${a.rank})`));let s=i,l=a,u=!1;3===i.rank&&(u=!0,s=A7(i,[1,i.shape[0],i.shape[1],i.shape[2]]),l=A7(a,[1,a.shape[0],a.shape[1],a.shape[2]])),xJ(4===l.rank,(()=>`Error in avgPoolGrad: dy must be rank 4 but got rank ${l.rank}.`)),xJ(4===s.rank,(()=>`Error in avgPoolGrad: input must be rank 4 but got rank ${s.rank}.`));const c={dy:l,input:s},d={filterSize:n,strides:r,pad:o},p=J4.runKernel(N0,c,d);return u?A7(p,[p.shape[1],p.shape[2],p.shape[3]]):p}}),ese={kernelName:E0,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{filterSize:o,strides:a,pad:i}=n;return{x:()=>Jie(e,r,o,a,i)}}},tse={kernelName:D0,inputsToSave:["a","b"],gradFunc:(e,t,n)=>{const[r,o]=t,{transposeA:a,transposeB:i}=n;return a||i?!a&&i?{a:()=>X8(e,o,!1,!1),b:()=>X8(e,r,!0,!1)}:a&&!i?{a:()=>X8(o,e,!1,!0),b:()=>X8(r,e,!1,!1)}:{a:()=>X8(o,e,!0,!0),b:()=>X8(e,r,!0,!0)}:{a:()=>X8(e,o,!1,!0),b:()=>X8(r,e,!0,!1)}}},nse={kernelName:R0,gradFunc:(e,t,n)=>{const{blockShape:r,crops:o}=n;return{x:()=>Ete(e,r,o)}}},rse={kernelName:j0,gradFunc:(e,t,n)=>{const r=n,o=r.inputShape,a=r.shape,i=Array.from(a);for(let l=o.length-1;l>=0;l--)if(o[l]===a[l])i[l]=1;else if(1!==o[l])throw new Error(`broadcastTo(): [${o}] cannot be broadcast to [${a}].`);const s=[];for(let l=0;l<i.length;l++)i[l]>1&&s.push(l);return{x:()=>Iee(e,s,!0)}}},ose={kernelName:F0,gradFunc:e=>({x:()=>e.clone()})},ase={kernelName:L0,gradFunc:e=>({x:()=>Q6(e)})},ise={kernelName:z0,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{clipValueMin:o,clipValueMax:a}=n;return{x:()=>cee(ete(Lee(r,o),Hee(r,a)),e,Q6(e))}}},sse={kernelName:W0,inputsToSave:["x"],gradFunc:Lie.gradFunc},lse={kernelName:V0,saveAllInputs:!0,gradFunc:(e,t,n)=>{const r=t.map((e=>e.shape)),{axis:o}=n,a=PJ(o,t[0].shape)[0],i=r.map((e=>e[a]));return gne(e,i,a).map((e=>()=>e))}},use={kernelName:U0,inputsToSave:["x","filter"],gradFunc:(e,t,n)=>{const[r,o]=t,{dilations:a,strides:i,pad:s,dataFormat:l}=n;return xJ(b7(a),(()=>`Error in gradient of conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${a}'`)),{x:()=>X7(r.shape,e,o,i,s,l),filter:()=>Kne(r,e,o.shape,i,s,l)}}},cse={kernelName:G0,inputsToSave:["dy","filter"],gradFunc:(e,t,n)=>{const[r,o]=t,{strides:a,pad:i,dataFormat:s,dimRoundingMode:l}=n;return{dy:()=>q7(e,o,a,i,s,1,l),filter:()=>Kne(e,r,o.shape,a,i,s,l)}}};const dse=p5({conv3DBackpropFilter_:function(e,t,n,r,o){let a=e;4===e.rank&&(a=A7(e,[1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]]));let i=t;4===i.rank&&(i=A7(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]])),xJ(5===a.rank,(()=>`Error in conv3dDerFilter: input must be rank 5, but got shape ${a.shape}.`)),xJ(5===i.rank,(()=>`Error in conv3dDerFilter: dy must be rank 5, but got shape ${i.shape}.`)),xJ(5===n.length,(()=>`Error in conv3dDerFilter: filterShape must be length 5, but got ${n}.`)),xJ(a.shape[4]===n[3],(()=>`Error in conv3dDerFilter: depth of input ${a.shape[4]}) must match input depth in filter (${n[3]}.`)),xJ(i.shape[4]===n[4],(()=>`Error in conv3dDerFilter: depth of dy (${i.shape[4]}) must match output depth for filter (${n[4]}).`));const s={x:a,dy:i},l={strides:r,pad:o,filterShape:n};return J4.runKernel(K0,s,l)}}),pse={kernelName:q0,inputsToSave:["x","filter"],gradFunc:(e,t,n)=>{const{dilations:r,strides:o,pad:a}=n;xJ(b7(r),(()=>`Error in gradient of conv3D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${r}'`));const[i,s]=t;return{x:()=>Z7(i.shape,e,s,o,a),filter:()=>dse(i,e,s.shape,o,a)}}},hse={kernelName:Y0,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>K6(Z8(ine(W6(n,"float32"))),e)}}},fse={kernelName:Q0,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>K6(sne(W6(n,"float32")),e)}}},mse={kernelName:J0,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{axis:o,exclusive:a,reverse:i}=n;return{x:()=>{const t=kee([o],r.rank);let n=ree(e,o,a,!i);return null!=t&&(n=e9(n,t)),n}}}},gse={kernelName:r1,inputsToSave:["x","filter"],gradFunc:(e,t,n)=>{const{dilations:r,strides:o,pad:a,dimRoundingMode:i}=n,s=null==r?[1,1]:r;xJ(b7(s),(()=>`Error in gradient of depthwiseConv2dNative: dilation rates greater than 1 are not yet supported. Got dilations '${s}'`));const[l,u]=t;return xJ(4===l.rank,(()=>`Error in gradient of depthwiseConv2dNative: input must be rank 4, but got rank ${l.rank}.`)),xJ(4===u.rank,(()=>`Error in gradient of depthwiseConv2dNative: filter must be rank 4, but got rank ${u.rank}.`)),xJ(l.shape[3]===u.shape[2],(()=>`Error in gradient of depthwiseConv2d: number of input channels (${l.shape[3]}) must match the inChannels dimension in filter ${u.shape[2]}.`)),xJ(x7(o,s),(()=>`Error in gradient of depthwiseConv2d: Either strides or dilations must be  1. Got strides ${o} and dilations '${s}'.`)),S7("depthwiseConv2d",a,i),{x:()=>tre(l.shape,e,u,o,a,s,i),filter:()=>ere(l,e,u.shape,o,a,s,i)}}},yse={kernelName:s1,inputsToSave:["x","filter"],gradFunc:(e,t,n)=>{const[r,o]=t,a={x:r,filter:o,dy:e},i={x:r,filter:o,dy:e};return{x:()=>J4.runKernel(l1,a,n),filter:()=>J4.runKernel(u1,i,n)}}},vse={kernelName:h1,outputsToSave:[!0],gradFunc:(e,t)=>{const[n]=t,r={dy:e,y:n};return{x:()=>J4.runKernel(f1,r)}}},bse={kernelName:m1,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t,r=K6(Mee(Z8(Y6(n))),2/Math.sqrt(Math.PI));return{x:()=>K6(e,r)}}},xse={kernelName:y1,outputsToSave:[!0],gradFunc:(e,t)=>{const[n]=t;return{x:()=>K6(e,n)}}},wse={kernelName:v1,inputsToSave:["input"],gradFunc:(e,t)=>{const[n]=t;return{input:()=>A7(e,n.shape)}}},kse={kernelName:b1,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>K6(e,Mee(n))}}},Sse={kernelName:S1,gradFunc:e=>({x:()=>Q6(e)})},Ase={kernelName:A1,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,o=k8(n.shape,r.shape);return{a:()=>{const t=q6(e,W6(r,"float32")),a=w8(n.shape,o);return a.length>0?A7(Iee(t,a),n.shape):t},b:()=>{let t=K6(e,W6(n,"float32"));const a=w8(r.shape,o);a.length>0&&(t=A7(Iee(t,a),r.shape));const i=Y6(r);return Z8(q6(t,W6(i,"float32")))}}}},Cse={kernelName:C1,inputsToSave:["x","mean","variance","scale"],gradFunc:(e,t,n)=>{const{varianceEpsilon:r}=n,[o,a,i,s]=t,l=null==s?a8(1):s,u=w8(a.shape,o.shape),c=[];if(1===a.rank){for(let e=0;e<o.shape.length-1;++e)c.push(o.shape[e]);c.push(1)}const d=y8(o,a),p=K6(e,l),h=tne(H6(i,a8(r))),f=K6(K6(K6(h,h),h),a8(-.5));return{x:()=>1===a.rank?A7(K6(K6(e,Pee(A7(h,[1,1,1,a.shape[0]]),c)),l),o.shape):A7(K6(K6(e,h),l),o.shape),mean:()=>{let e=K6(K6(h,a8(-1)),p);return 1===a.rank&&(e=Iee(e,u)),A7(e,a.shape)},variance:()=>{let e=K6(K6(f,d),p);return 1===a.rank&&(e=Iee(e,u)),A7(e,a.shape)},scale:()=>{const t=K6(d,h);let n=K6(e,t);return 1===a.rank&&(n=Iee(n,u)),A7(n,a.shape)},offset:()=>{let t=e;return 1===a.rank&&(t=Iee(t,u)),A7(t,a.shape)}}}},Tse={kernelName:T1,inputsToSave:["x","indices"],gradFunc:(e,t,n)=>{const[r,o]=t,{axis:a,batchDims:i}=n,s=PJ(a,r.shape)[0],l=(e,t,n)=>()=>{const r=e.shape,o=t.size,i=r.slice(0,s),l=i.length,u=r.slice(a,r.length).slice(1),c=u.length,d=Ise(0,l),p=Ise(l+1,l+1+c),h=Ese([i,[o],u]),f=A7(n,h),m=A7(t,[o]),g=Ese([[l],d,p]),y=e9(f,g);let v=Rne(y,m,e.shape[s]);const b=See(g);return v=e9(v,b),v};if(1===i){const t=r.shape[0],n=r.split(t,0);return{x:()=>{const t=xne(n.map(((t,n)=>l(t,o.slice(n,1),e.slice(n,1))())));return t.reshape(r.shape)},indices:()=>o}}return{x:l(r,o,e),indices:()=>o}}};function Ise(e,t){const n=[];for(let r=e;r<t;++r)n.push(r);return n}function Ese(e){const t=[];for(let n=0;n<e.length;++n)for(let r=0;r<e[n].length;++r)t.push(e[n][r]);return t}const Nse={kernelName:N1,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t;return{a:()=>Q6(n),b:()=>Q6(r)}}},Ose={kernelName:O1,gradFunc:e=>({x:()=>W6(e,"float32")})},Mse={kernelName:R1,gradFunc:e=>({x:()=>Q6(e)})},Dse={kernelName:P1,gradFunc:e=>({x:()=>Q6(e)})},Rse={kernelName:$1,gradFunc:e=>({x:()=>Q6(e)})},Pse={kernelName:j1,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{alpha:o}=n,a=Fee(r,0);return{x:()=>cee(a,e,K6(e,o))}}},$se={kernelName:B1,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>q6(e,H6(n,1))}}},jse={kernelName:z1,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>q6(e,W6(n,"float32"))}}},_se={kernelName:G1,inputsToSave:[],outputsToSave:[!0],gradFunc:(e,t,n)=>{const[r]=t,{axis:o}=n;return{logits:()=>{const t=Mee(r);return y8(e,K6(Iee(e,o,!0),t))}}}};const Fse=p5({localResponseNormalizationBackprop_:function(e,t,n){const r={x:e,y:t,dy:n},o={depthRadius:arguments.length>3&&void 0!==arguments[3]?arguments[3]:5,bias:arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,alpha:arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,beta:arguments.length>6&&void 0!==arguments[6]?arguments[6]:.5};return J4.runKernel(X1,r,o)}}),Lse={kernelName:K1,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const[r,o]=t,{depthRadius:a,bias:i,alpha:s,beta:l}=n;return{x:()=>Fse(r,o,e,a,i,s,l)}}};function zse(e,t,n,r){return t.rank<n.rank&&(t=A7(t,xee(t.shape,r))),e.rank<n.rank&&(e=A7(e,xee(e.shape,r))),{x:()=>K6(e,W6(uee(n,t),e.dtype))}}const Bse={kernelName:Q1,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const r=n,{reductionIndices:o}=r,a=t[0],i=zse(e,t[1],a,PJ(o,a.shape));return{x:()=>i.x()}}},Wse={kernelName:Z1,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t;return{a:()=>K6(e,W6(Lee(n,r),"float32")),b:()=>K6(e,W6(Uee(n,r),"float32"))}}};const Vse=p5({maxPool3dGrad_:function(e,t,n,r,o,a,i){const s=u5(e,"dy","maxPool3dGrad"),l=u5(t,"input","maxPool3dGrad"),u=u5(n,"output","maxPool3dGrad");let c=s,d=l,p=u,h=!1;4===l.rank&&(h=!0,c=A7(s,[1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]]),d=A7(l,[1,l.shape[0],l.shape[1],l.shape[2],l.shape[3]]),p=A7(u,[1,u.shape[0],u.shape[1],u.shape[2],u.shape[3]])),xJ(5===c.rank,(()=>`Error in maxPool3dGrad: dy must be rank 5 but got rank ${c.rank}.`)),xJ(5===d.rank,(()=>`Error in maxPool3dGrad: input must be rank 5 but got rank ${d.rank}.`)),xJ(5===p.rank,(()=>`Error in maxPool3dGrad: output must be rank 5 but got rank ${p.rank}.`)),S7("maxPool3dGrad",a,i);const f={dy:c,input:d,output:p},m={filterSize:r,strides:o,pad:a,dimRoundingMode:i},g=J4.runKernel(n2,f,m);return h?A7(g,[g.shape[1],g.shape[2],g.shape[3],g.shape[4]]):g}}),Use={kernelName:t2,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const[r,o]=t,{filterSize:a,strides:i,pad:s,dimRoundingMode:l}=n;return{x:()=>Vse(e,r,o,a,i,s,l)}}};const Hse=p5({maxPoolGrad_:function(e,t,n,r,o,a,i){const s=u5(e,"dy","maxPoolGrad"),l=u5(t,"input","maxPoolGrad"),u=u5(n,"output","maxPoolGrad");xJ(l.rank===s.rank,(()=>`Rank of input (${l.rank}) does not match rank of dy (${s.rank})`)),xJ(4===s.rank,(()=>`Error in maxPoolGrad: dy must be rank 4 but got rank ${s.rank}.`)),xJ(4===l.rank,(()=>`Error in maxPoolGrad: input must be rank 4 but got rank ${l.rank}.`)),S7("maxPoolGrad",a,i);const c={dy:s,input:l,output:u},d={filterSize:r,strides:o,pad:a,dimRoundingMode:i};return J4.runKernel(e2,c,d)}}),Gse={kernelName:l2,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,o=k8(n.shape,r.shape);return{a:()=>{const t=w8(n.shape,o);return t.length>0?A7(Iee(e,t),n.shape):e},b:()=>{const t=K6(e,Z8(jee(q6(n,r)))),a=w8(r.shape,o);return a.length>0?A7(Iee(t,a),r.shape):t}}}},qse={kernelName:c2,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,o=k8(n.shape,r.shape);return{a:()=>{const t=K6(e,W6(r,"float32")),a=w8(n.shape,o);return a.length>0?A7(Iee(t,a),n.shape):t},b:()=>{const t=K6(e,W6(n,"float32")),a=w8(r.shape,o);return a.length>0?A7(Iee(t,a),r.shape):t}}}},Kse={kernelName:b2,inputsToSave:["x"],gradFunc:(e,t,n)=>{const r=t[0],{paddings:o}=n,a=o.map((e=>e[0]));return{x:()=>N7(e,a,r.shape)}}},Xse={kernelName:w2,inputsToSave:["a","b"],outputsToSave:[!0],gradFunc:(e,t)=>{const[n,r,o]=t,a=n,i=r,s=k8(a.shape,i.shape);return{a:()=>{const t=W6(i,"float32");let n=K6(e,K6(t,g8(a,y8(t,a8(1)))));const r=w8(a.shape,s);return r.length>0&&(n=Iee(n,r)),A7(n,a.shape)},b:()=>{const t=Fee(a,0),n=cee(t,Kee(a),Q6(a));let r=K6(e,K6(o,n));const l=w8(i.shape,s);return l.length>0&&(r=Iee(r,l)),A7(r,i.shape)}}}},Yse={kernelName:k2,inputsToSave:["x","alpha"],gradFunc:(e,t)=>{const[n,r]=t,o=Fee(n,0);return{x:()=>cee(o,e,K6(e,r)),alpha:()=>{let t=cee(o,Q6(e),K6(e,n));const a=w8(r.shape,e.shape);return a.length>0&&(t=Iee(t,a)),A7(t,r.shape)}}}};function Qse(e,t,n){const r=e.shape.length,o=r-n.length,a=kee(n,r);let i=e;null!=a&&(i=e9(e,a));const s=i.shape.slice(),l=s.splice(r-n.length,n.length).reduce(((e,t)=>e*t),1);s.push(l);let u=function(e,t,n){const r=e.shape.slice();r[n]=1;const o=A7(t,r),a=nee(e,n,!0,!1),i=nee(e,n,!0,!0),s=K6(a,i);return K6(o,s)}(i.reshape(s),t,o);if(u=u.reshape(i.shape),null!=a){const e=See(a);u=e9(u,e)}return u}const Zse={kernelName:d1,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,o=k8(n.shape,r.shape);return{a:()=>{const t=q6(e,W6(r,"float32")),a=w8(n.shape,o);return a.length>0?A7(Iee(t,a),n.shape):t},b:()=>{let t=K6(e,W6(n,"float32"));const a=w8(r.shape,o);a.length>0&&(t=A7(Iee(t,a),r.shape));const i=Y6(r);return Z8(q6(t,W6(i,"float32")))}}}},Jse={kernelName:J2,gradFunc:(e,t,n)=>{const{blockShape:r,paddings:o}=n;return{x:()=>D7(e,r,o)}}},ele={kernelName:e3,gradFunc:(e,t,n)=>{const{axis:r}=n;return{x:()=>I7(e,r)}}},tle={kernelName:f3,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,o=k8(n.shape,r.shape);return{a:()=>{let t=e;const r=w8(n.shape,o);return r.length>0&&(t=Iee(t,r)),A7(t,n.shape)},b:()=>{let t=e;const n=w8(r.shape,o);return n.length>0&&(t=Iee(t,n)),A7(Z8(t),r.shape)}}}};const nle=[Lie,zie,Bie,Wie,Vie,Uie,Hie,Gie,qie,Kie,Xie,Yie,Zie,ese,tse,nse,rse,ose,ase,ise,sse,lse,cse,use,pse,hse,fse,mse,gse,yse,Zse,vse,bse,xse,wse,kse,Ase,Sse,Cse,Tse,Nse,Ose,Mse,Dse,Rse,Pse,$se,jse,_se,Lse,Bse,Bse,Wse,Use,{kernelName:J1,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const[r,o]=t,{filterSize:a,strides:i,pad:s}=n;return{x:()=>Hse(e,r,o,a,i,s)}}},{kernelName:o2,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{axis:o}=n,a=PJ(o,r.shape),i=SJ(bee(r.shape,a)[1]);return{x:()=>{const t=r.shape.slice();a.forEach((e=>{t[e]=1}));const n=A7(e,t);return q6(K6(n,pte(r.shape,"float32")),i)}}}},{kernelName:a2,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const r=n,{axis:o}=r,[a,i]=t,s=zse(e,i,a,PJ(o,a.shape));return{x:()=>s.x()}}},{kernelName:i2,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t;return{a:()=>K6(e,W6(Hee(n,r),"float32")),b:()=>K6(e,W6(Fee(n,r),"float32"))}}},{kernelName:s2,inputsToSave:["x"],gradFunc:(e,t,n)=>{const r=t[0],{paddings:o}=n,a=o.map((e=>e[0]));return{x:()=>N7(e,a,r.shape)}}},Gse,qse,{kernelName:d2,gradFunc:e=>({x:()=>Z8(e)})},{kernelName:y2,inputsToSave:["indices"],gradFunc:(e,t)=>{const n=t[0];return{indices:()=>dte(n.shape,"float32")}}},{kernelName:g2,gradFunc:e=>({x:()=>Q6(e)})},{kernelName:v2,saveAllInputs:!0,gradFunc:(e,t,n)=>{const{axis:r}=n;return Pne(e,r).map((e=>()=>e))}},Kse,Kse,Xse,Yse,{kernelName:S2,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{axis:o}=n;let a=[];return a=void 0===o||null===o?r.shape.map(((e,t)=>t)):"number"===typeof o?[o]:o,{x:()=>Qse(r,e,a)}}},{kernelName:N2,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>q6(e,Z8(Y6(n)))}}},{kernelName:j2,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t,r=K6(Hee(n,6),wne(n));return{x:()=>K6(e,W6(r,"float32"))}}},{kernelName:O2,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>K6(e,W6(wne(n),"float32"))}}},{kernelName:M2,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>A7(e,n.shape)}}},{kernelName:P2,inputsToSave:["images"],gradFunc:(e,t,n)=>{const[r]=t,o={dy:e,images:r};return{images:()=>J4.runKernel($2,o,n)}}},{kernelName:D2,inputsToSave:["images"],gradFunc:(e,t,n)=>{const[r]=t,o={dy:e,images:r};return{images:()=>J4.runKernel(R2,o,n)}}},{kernelName:_2,gradFunc:(e,t,n)=>{const{dims:r}=n,o=PJ(r,e.shape);return{x:()=>Xte(e,o)}}},{kernelName:F2,gradFunc:e=>({x:()=>Q6(e)})},{kernelName:L2,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>Z8(q6(e,K6(g8(n,1.5),2)))}}},{kernelName:V2,inputsToSave:["condition"],gradFunc:(e,t)=>{const[n]=t;return{condition:()=>W6(Q6(n),"float32"),t:()=>K6(e,W6(n,e.dtype)),e:()=>K6(e,W6(tte(n),e.dtype))}}},{kernelName:U2,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>{const t=Fee(n,a8(0)),r=a8(xoe),o=a8(woe),a=K6(e,o),i=K6(K6(e,r),Mee(W6(n,"float32")));return cee(t,a,i)}}}},{kernelName:X2,outputsToSave:[!0],gradFunc:(e,t)=>{const[n]=t;return{x:()=>K6(e,K6(n,y8(a8(1),n)))}}},{kernelName:K2,gradFunc:e=>({x:()=>Q6(e)})},{kernelName:G2,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>K6(eee(W6(n,"float32")),e)}}},{kernelName:q2,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>K6(tee(W6(n,"float32")),e)}}},{kernelName:H2,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{begin:o,size:a}=n,i=r.shape,[s,l]=D9(r,o,a),u=[];for(let c=0;c<e.rank;c++)u.push([s[c],i[c]-s[c]-l[c]]);return{x:()=>Ste(e,u)}}},{kernelName:t3,outputsToSave:[!0],gradFunc:(e,t,n)=>{const[r]=t,{dim:o}=n,a=K6(e,r);return{logits:()=>y8(a,K6(Iee(a,[o],true),r))}}},{kernelName:Y2,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>K6(e,E7(n))}}},Jse,Jse,ele,ele,{kernelName:Q2,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>q6(e,K6(X6(W6(n,"float32")),2))}}},{kernelName:s3,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,o=a8(2);return{a:()=>K6(e,K6(o,y8(n,r))),b:()=>K6(e,K6(o,y8(r,n)))}}},{kernelName:l3,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>K6(e,K6(W6(n,"float32"),2))}}},{kernelName:T3,gradFunc:e=>({x:()=>Q6(e)})},tle,{kernelName:Z2,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,o=r.shape.slice(),{axis:a}=n;PJ(a,r.shape).forEach((e=>{o[e]=1}));const i=A7(e,o),s=K6(i,pte(r.shape,"float32"));return{x:()=>s}}},{kernelName:m3,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>q6(e,Y6(eee(n)))}}},{kernelName:g3,outputsToSave:[!0],gradFunc:(e,t)=>{const[n]=t;return{x:()=>K6(y8(a8(1),Y6(n)),e)}}},{kernelName:y3,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{reps:o}=n;return{x:()=>{let t=Q6(r);if(1===r.rank)for(let n=0;n<o[0];++n)t=H6(t,N7(e,[n*r.shape[0]],[r.shape[0]]));else if(2===r.rank)for(let n=0;n<o[0];++n)for(let a=0;a<o[1];++a)t=H6(t,N7(e,[n*r.shape[0],a*r.shape[1]],[r.shape[0],r.shape[1]]));else if(3===r.rank)for(let n=0;n<o[0];++n)for(let a=0;a<o[1];++a)for(let i=0;i<o[2];++i)t=H6(t,N7(e,[n*r.shape[0],a*r.shape[1],i*r.shape[2]],[r.shape[0],r.shape[1],r.shape[2]]));else{if(4!==r.rank)throw new Error(`Gradient for tile operation is not implemented for rank-${r.rank} tensors yet.`);for(let n=0;n<o[0];++n)for(let a=0;a<o[1];++a)for(let i=0;i<o[2];++i)for(let s=0;s<o[3];++s)t=H6(t,N7(e,[n*r.shape[0],a*r.shape[1],i*r.shape[2],s*r.shape[3]],[r.shape[0],r.shape[1],r.shape[2],r.shape[3]]))}return t}}}},{kernelName:x3,gradFunc:(e,t,n)=>{const r=n,{perm:o}=r,a=See(o);return{x:()=>e9(e,a)}}},{kernelName:k3,gradFunc:(e,t,n)=>{const r=n,{axis:o}=r;return{value:()=>xne(e,o)}}},{kernelName:S3,inputsToSave:["segmentIds"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>function(e,t){const n=S8(t,Q6(t)),r=_ee(e,n);let o=Lee(t,a8(0,"int32"));const a=r.rank-o.rank;for(let s=0;s<a;++s)o=Dee(o,s+1);o=ete(o,pte(r.shape,"bool"));const i=Q6(r);return cee(o,r,i)}(e,n)}}},{kernelName:C3,gradFunc:e=>({x:()=>Q6(e)})}];for(const n of nle)z3(n);I4().prototype.abs=function(){return this.throwIfDisposed(),b8(this)},I4().prototype.acos=function(){return this.throwIfDisposed(),Q9(this)},I4().prototype.acosh=function(){return this.throwIfDisposed(),Z9(this)},I4().prototype.add=function(e){return this.throwIfDisposed(),H6(this,e)},I4().prototype.all=function(e,t){return this.throwIfDisposed(),e7(this,e,t)},I4().prototype.any=function(e,t){return this.throwIfDisposed(),t7(this,e,t)},I4().prototype.argMax=function(e){return this.throwIfDisposed(),n7(this,e)},I4().prototype.argMin=function(e){return this.throwIfDisposed(),r7(this,e)},I4().prototype.asScalar=function(){return this.throwIfDisposed(),xJ(1===this.size,(()=>"The array must have only 1 element.")),A7(this,[])},I4().prototype.asType=function(e){return this.throwIfDisposed(),W6(this,e)},I4().prototype.as1D=function(){return this.throwIfDisposed(),A7(this,[this.size])},I4().prototype.as2D=function(e,t){return this.throwIfDisposed(),A7(this,[e,t])},I4().prototype.as3D=function(e,t,n){return this.throwIfDisposed(),A7(this,[e,t,n])},I4().prototype.as4D=function(e,t,n,r){return this.throwIfDisposed(),A7(this,[e,t,n,r])},I4().prototype.as5D=function(e,t,n,r,o){return this.throwIfDisposed(),A7(this,[e,t,n,r,o])},I4().prototype.asin=function(){return this.throwIfDisposed(),o7(this)},I4().prototype.asinh=function(){return this.throwIfDisposed(),a7(this)},I4().prototype.atan=function(){return this.throwIfDisposed(),i7(this)},I4().prototype.atan2=function(e){return this.throwIfDisposed(),s7(this,e)},I4().prototype.atanh=function(){return this.throwIfDisposed(),l7(this)},I4().prototype.avgPool=function(e,t,n,r){return this.throwIfDisposed(),C7(this,e,t,n,r)},I4().prototype.batchToSpaceND=function(e,t){return this.throwIfDisposed(),D7(this,e,t)},I4().prototype.batchNorm=function(e,t,n,r,o){return this.throwIfDisposed(),R7(this,e,t,n,r,o)},I4().prototype.broadcastTo=function(e){return this.throwIfDisposed(),z7(this,e)},I4().prototype.cast=function(e){return this.throwIfDisposed(),W6(this,e)},I4().prototype.ceil=function(){return this.throwIfDisposed(),B7(this)},I4().prototype.clipByValue=function(e,t){return this.throwIfDisposed(),W7(this,e,t)},I4().prototype.concat=function(e,t){return this.throwIfDisposed(),e instanceof T4&&(e=[e]),I7([this,...e],t)},I4().prototype.conv1d=function(e,t,n,r,o,a){return this.throwIfDisposed(),K7(this,e,t,n,r,o,a)},I4().prototype.conv2dTranspose=function(e,t,n,r,o){return this.throwIfDisposed(),Y7(this,e,t,n,r,o)},I4().prototype.conv2d=function(e,t,n,r,o,a){return this.throwIfDisposed(),q7(this,e,t,n,r,o,a)},I4().prototype.cos=function(){return this.throwIfDisposed(),eee(this)},I4().prototype.cosh=function(){return this.throwIfDisposed(),tee(this)},I4().prototype.cumprod=function(e,t,n){return this.throwIfDisposed(),nee(this,e,t,n)},I4().prototype.cumsum=function(e,t,n){return this.throwIfDisposed(),ree(this,e,t,n)},I4().prototype.depthToSpace=function(e,t){return this.throwIfDisposed(),aee(this,e,t)},I4().prototype.depthwiseConv2d=function(e,t,n,r,o,a){return this.throwIfDisposed(),iee(this,e,t,n,r,o,a)},I4().prototype.dilation2d=function(e,t,n,r,o){return this.throwIfDisposed(),lee(this,e,t,n,r,o)},I4().prototype.divNoNan=function(e){return this.throwIfDisposed(),dee(this,e)},I4().prototype.div=function(e){return this.throwIfDisposed(),q6(this,e)},I4().prototype.dot=function(e){return this.throwIfDisposed(),pee(this,e)},I4().prototype.elu=function(){return this.throwIfDisposed(),fee(this)},I4().prototype.equal=function(e){return this.throwIfDisposed(),uee(this,e)},I4().prototype.erf=function(){return this.throwIfDisposed(),gee(this)},I4().prototype.euclideanNorm=function(e,t){return this.throwIfDisposed(),Oee(this,e,t)},I4().prototype.exp=function(){return this.throwIfDisposed(),Mee(this)},I4().prototype.expandDims=function(e){return this.throwIfDisposed(),Dee(this,e)},I4().prototype.expm1=function(){return this.throwIfDisposed(),Ree(this)},I4().prototype.fft=function(){return this.throwIfDisposed(),hne(this)},I4().prototype.flatten=function(){return this.throwIfDisposed(),A7(this,[this.size])},I4().prototype.floor=function(){return this.throwIfDisposed(),jee(this)},I4().prototype.floorDiv=function(e){return this.throwIfDisposed(),G6(this,e)},I4().prototype.gather=function(e,t,n){return this.throwIfDisposed(),_ee(this,e,t,n)},I4().prototype.greaterEqual=function(e){return this.throwIfDisposed(),Lee(this,e)},I4().prototype.greater=function(e){return this.throwIfDisposed(),Fee(this,e)},I4().prototype.ifft=function(){return this.throwIfDisposed(),fne(this)},I4().prototype.irfft=function(){return this.throwIfDisposed(),mne(this)},I4().prototype.isFinite=function(){return this.throwIfDisposed(),zee(this)},I4().prototype.isInf=function(){return this.throwIfDisposed(),Bee(this)},I4().prototype.isNaN=function(){return this.throwIfDisposed(),Wee(this)},I4().prototype.leakyRelu=function(e){return this.throwIfDisposed(),Vee(this,e)},I4().prototype.lessEqual=function(e){return this.throwIfDisposed(),Hee(this,e)},I4().prototype.less=function(e){return this.throwIfDisposed(),Uee(this,e)},I4().prototype.localResponseNormalization=function(e,t,n,r){return this.throwIfDisposed(),qee(this,e,t,n,r)},I4().prototype.logSigmoid=function(){return this.throwIfDisposed(),Qee(this)},I4().prototype.logSoftmax=function(e){return this.throwIfDisposed(),Zee(this,e)},I4().prototype.logSumExp=function(e,t){return this.throwIfDisposed(),Jee(this,e,t)},I4().prototype.log=function(){return this.throwIfDisposed(),Kee(this)},I4().prototype.log1p=function(){return this.throwIfDisposed(),Xee(this)},I4().prototype.logicalAnd=function(e){return this.throwIfDisposed(),ete(this,e)},I4().prototype.logicalNot=function(){return this.throwIfDisposed(),tte(this)},I4().prototype.logicalOr=function(e){return this.throwIfDisposed(),nte(this,e)},I4().prototype.logicalXor=function(e){return this.throwIfDisposed(),rte(this,e)},I4().prototype.matMul=function(e,t,n){return this.throwIfDisposed(),X8(this,e,t,n)},I4().prototype.maxPool=function(e,t,n,r){return this.throwIfDisposed(),ste(this,e,t,n,r)},I4().prototype.max=function(e,t){return this.throwIfDisposed(),Cee(this,e,t)},I4().prototype.maximum=function(e){return this.throwIfDisposed(),S8(this,e)},I4().prototype.mean=function(e,t){return this.throwIfDisposed(),cte(this,e,t)},I4().prototype.min=function(e,t){return this.throwIfDisposed(),Tee(this,e,t)},I4().prototype.minimum=function(e){return this.throwIfDisposed(),fte(this,e)},I4().prototype.mirrorPad=function(e,t){return this.throwIfDisposed(),mte(this,e,t)},I4().prototype.mod=function(e){return this.throwIfDisposed(),gte(this,e)},I4().prototype.mul=function(e){return this.throwIfDisposed(),K6(this,e)},I4().prototype.neg=function(){return this.throwIfDisposed(),Z8(this)},I4().prototype.norm=function(e,t,n){return this.throwIfDisposed(),Nee(this,e,t,n)},I4().prototype.notEqual=function(e){return this.throwIfDisposed(),xte(this,e)},I4().prototype.oneHot=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.throwIfDisposed(),Y8(this,e,t,n)},I4().prototype.onesLike=function(){return this.throwIfDisposed(),wte(this)},I4().prototype.pad=function(e,t){return this.throwIfDisposed(),Ste(this,e,t)},I4().prototype.pool=function(e,t,n,r,o,a){return this.throwIfDisposed(),Nte(this,e,t,n,r,o,a)},I4().prototype.pow=function(e){return this.throwIfDisposed(),g8(this,e)},I4().prototype.prelu=function(e){return this.throwIfDisposed(),Ote(this,e)},I4().prototype.prod=function(e,t){return this.throwIfDisposed(),Mte(this,e,t)},I4().prototype.reciprocal=function(){return this.throwIfDisposed(),Gte(this)},I4().prototype.relu=function(){return this.throwIfDisposed(),qte(this)},I4().prototype.relu6=function(){return this.throwIfDisposed(),Kte(this)},I4().prototype.reshapeAs=function(e){return this.throwIfDisposed(),A7(this,e.shape)},I4().prototype.reshape=function(e){return this.throwIfDisposed(),A7(this,e)},I4().prototype.resizeBilinear=function(e,t,n){return this.throwIfDisposed(),Nre(this,e,t,n)},I4().prototype.resizeNearestNeighbor=function(e,t,n){return this.throwIfDisposed(),Ore(this,e,t,n)},I4().prototype.reverse=function(e){return this.throwIfDisposed(),Xte(this,e)},I4().prototype.rfft=function(){return this.throwIfDisposed(),yne(this)},I4().prototype.round=function(){return this.throwIfDisposed(),ene(this)},I4().prototype.rsqrt=function(){return this.throwIfDisposed(),tne(this)},I4().prototype.selu=function(){return this.throwIfDisposed(),nne(this)},I4().prototype.separableConv2d=function(e,t,n,r,o,a){return this.throwIfDisposed(),rne(this,e,t,n,r,o,a)},I4().prototype.sigmoid=function(){return this.throwIfDisposed(),E7(this)},I4().prototype.sign=function(){return this.throwIfDisposed(),ane(this)},I4().prototype.sin=function(){return this.throwIfDisposed(),ine(this)},I4().prototype.sinh=function(){return this.throwIfDisposed(),sne(this)},I4().prototype.slice=function(e,t){return this.throwIfDisposed(),N7(this,e,t)},I4().prototype.softmax=function(e){return this.throwIfDisposed(),pne(this,e)},I4().prototype.softplus=function(){return this.throwIfDisposed(),Yee(this)},I4().prototype.spaceToBatchND=function(e,t){return this.throwIfDisposed(),Ete(this,e,t)},I4().prototype.split=function(e,t){return this.throwIfDisposed(),gne(this,e,t)},I4().prototype.sqrt=function(){return this.throwIfDisposed(),X6(this)},I4().prototype.square=function(){return this.throwIfDisposed(),Y6(this)},I4().prototype.squaredDifference=function(e){return this.throwIfDisposed(),vne(this,e)},I4().prototype.squeeze=function(e){return this.throwIfDisposed(),bne(this,e)},I4().prototype.stack=function(e,t){this.throwIfDisposed();const n=e instanceof T4?[this,e]:[this,...e];return xne(n,t)},I4().prototype.step=function(e){return this.throwIfDisposed(),wne(this,e)},I4().prototype.stridedSlice=function(e,t,n,r,o,a,i,s){return this.throwIfDisposed(),kne(this,e,t,n,r,o,a,i,s)},I4().prototype.sub=function(e){return this.throwIfDisposed(),y8(this,e)},I4().prototype.sum=function(e,t){return this.throwIfDisposed(),Iee(this,e,t)},I4().prototype.tan=function(){return this.throwIfDisposed(),Sne(this)},I4().prototype.tanh=function(){return this.throwIfDisposed(),O7(this)},I4().prototype.tile=function(e){return this.throwIfDisposed(),Pee(this,e)},I4().prototype.toBool=function(){return this.throwIfDisposed(),W6(this,"bool")},I4().prototype.toFloat=function(){return this.throwIfDisposed(),W6(this,"float32")},I4().prototype.toInt=function(){return this.throwIfDisposed(),W6(this,"int32")},I4().prototype.topk=function(e,t){return this.throwIfDisposed(),One(this,e,t)},I4().prototype.transpose=function(e){return this.throwIfDisposed(),e9(this,e)},I4().prototype.unique=function(e){return this.throwIfDisposed(),Dne(this,e)},I4().prototype.unsortedSegmentSum=function(e,t){return this.throwIfDisposed(),Rne(this,e,t)},I4().prototype.unstack=function(e){return this.throwIfDisposed(),Pne(this,e)},I4().prototype.where=function(e,t){return this.throwIfDisposed(),cee(e,this,t)},I4().prototype.zerosLike=function(){return this.throwIfDisposed(),Q6(this)};class rle extends Error{constructor(e){super(e),Object.setPrototypeOf(this,rle.prototype)}}class ole extends Error{constructor(e){super(e),Object.setPrototypeOf(this,ole.prototype)}}class ale extends Error{constructor(e){super(e),Object.setPrototypeOf(this,ale.prototype)}}class ile extends Error{constructor(e){super(e),Object.setPrototypeOf(this,ile.prototype)}}class sle extends Error{constructor(e){super(e),Object.setPrototypeOf(this,sle.prototype)}}Error;class lle{constructor(e){this.maxEntries=e||100,this.cache=new Map}get(e){let t;return this.cache.has(e)&&(t=this.cache.get(e),this.cache.delete(e),this.cache.set(e,t)),t}put(e,t){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxEntries){const e=this.cache.keys().next().value;this.cache.delete(e)}this.cache.set(e,t)}getMaxEntries(){return this.maxEntries}setMaxEntries(e){if(e<0)throw new Error(`The maxEntries of LRU caches must be at least 0, but got ${e}.`);if(this.maxEntries>e)for(let t=0;t<this.maxEntries-e;t++){const e=this.cache.keys().next().value;this.cache.delete(e)}this.maxEntries=e}}function ule(e,t){if(Array.isArray(e)){let n=[];for(let r=0;r<t;r++)n=n.concat(e);return n}{const n=new Array(t);return n.fill(e),n}}function cle(e,t){if(!e)throw new sle(t)}function dle(e,t){let n=0;for(const r of e)r===t&&n++;return n}function ple(e){return 1===e.length?e[0]:e}function hle(e){return Array.isArray(e)?e:[e]}function fle(e){const t=e.replace(/(.)([A-Z][a-z0-9]+)/g,"$1_$2").replace(/([a-z])([A-Z])/g,"$1_$2").toLowerCase();return"_"!==t[0]?t:"private"+t}function mle(e){return e.length<=1||-1===e.indexOf("_")?e:e.replace(/[_]+(\w|$)/g,((e,t)=>t.toUpperCase()))}let gle={};function yle(e){if(null===e||void 0===e)return null;const t={};return t.className=e.getClassName(),t.config=e.getConfig(),t}function vle(e){if(null!=e&&"object"===typeof e)if(Array.isArray(e))e.forEach((e=>vle(e)));else{const t=Object.keys(e);for(const n of t){const t=e[n];null!=t&&"object"===typeof t&&(Array.isArray(t)||"ndarray"!==t.type||"number"!==typeof t.value?vle(t):e[n]=t.value)}}}function ble(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"object",o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if("string"===typeof e){const o=e;let a;if(o in n)a=n[o];else if(o in gle)a=gle[o];else if(a=t[o],null==a)throw new ale(`Unknown ${r}: ${e}. This may be due to one of the following reasons:\n1. The ${r} is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.\n2. The custom ${r} is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().`);return a}{const a=e;if(null==a.className||null==a.config)throw new ale(`${r}: Improper config format: ${JSON.stringify(a)}.\n'className' and 'config' must set.`);const i=a.className;let s,l;if(i in n?[s,l]=n[i]:i in gle?[s,l]=gle.className:i in t&&([s,l]=t[i]),null==s)throw new ale(`Unknown ${r}: ${i}. This may be due to one of the following reasons:\n1. The ${r} is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.\n2. The custom ${r} is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().`);if(null!=l){const e={};for(const n of Object.keys(gle))e[n]=gle[n];for(const o of Object.keys(n))e[o]=n[o];a.config.customObjects=e;const t=Object.assign({},gle);for(const o of Object.keys(n))gle[o]=n[o];vle(a.config);const r=l(s,a.config,n,o);return gle=Object.assign({},t),r}{const e=Object.assign({},gle);for(const r of Object.keys(n))gle[r]=n[r];const t=new s(a.config);return gle=Object.assign({},e),t}}}function xle(e,t){return-1*function(e,t){return e<t?-1:e>t?1:0}(e,t)}function wle(e){if(null==e)return e;const t=[];for(const n of e)-1===t.indexOf(n)&&t.push(n);return t}function kle(e){if(null==e)throw new ale(`Invalid value in obj: ${JSON.stringify(e)}`);for(const t in e)if(e.hasOwnProperty(t))return!1;return!0}function Sle(e,t,n){if(null!=n&&e.indexOf(n)<0)throw new ale(`${n} is not a valid ${t}.  Valid values are ${e} or null/undefined.`)}function Ale(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;return cle(n>=0),cle(r>=n),Array.isArray(e)&&e.length>=n&&e.length<=r&&e.every((e=>typeof e===t))}function Cle(e,t){Array.isArray(e)?(xJ(e.length>0,(()=>`${t} is unexpectedly an empty array.`)),e.forEach(((e,n)=>Cle(e,`element ${n+1} of ${t}`)))):xJ(Number.isInteger(e)&&e>0,(()=>`Expected ${t} to be a positive integer, but got ${Tle(e)}.`))}function Tle(e){return null===e?"null":Array.isArray(e)?"["+e.map((e=>Tle(e))).join(",")+"]":"string"===typeof e?`"${e}"`:`${e}`}function Ile(e){return"relu"===e?"relu":"linear"===e?"linear":"elu"===e?"elu":null}let Ele=0;function Nle(){return Ele++}const Ole={};function Mle(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e in Ole||(Ole[e]=0),Ole[e]+=1,e+Ole[e].toString()}const Dle=["channelsFirst","channelsLast"],Rle=["nearest","bilinear"],Ple=["valid","same","causal"],$le=["max","avg"],jle=["sum","mul","concat","ave"],_le=new Map;function Fle(e){Sle(Dle,"DataFormat",e)}function Lle(e){Sle(Ple,"PaddingMode",e)}function zle(e){Sle($le,"PoolMode",e)}const Ble=[];function Wle(e,t){Ble.push(e);try{const e=t();return Ble.pop(),e}catch(ZBe){throw Ble.pop(),ZBe}}function Vle(e){if(!Gle(e))throw new Error("Not a valid tensor name: '"+e+"'");return(0===Ble.length?"":Ble.join("/")+"/")+e}function Ule(e){if(!Gle(e))throw new Error("Not a valid tensor name: '"+e+"'");_le.has(e)||_le.set(e,0);const t=_le.get(e);if(_le.set(e,_le.get(e)+1),t>0){const n=`${e}_${t}`;return _le.set(n,1),n}return e}const Hle=new RegExp(/^[A-Za-z0-9][-A-Za-z0-9\._\/]*$/);function Gle(e){return!!e.match(Hle)}function qle(e,t,n){null==t&&(t=0),null==n&&(n=e.length);let r=1;for(let o=t;o<n;++o)r*=e[o];return r}function Kle(e){if(0===e.length)return Number.NaN;let t=Number.POSITIVE_INFINITY;for(let n=0;n<e.length;n++){const r=e[n];r<t&&(t=r)}return t}function Xle(e){if(0===e.length)return Number.NaN;let t=Number.NEGATIVE_INFINITY;for(let n=0;n<e.length;n++){const r=e[n];r>t&&(t=r)}return t}function Yle(e,t){if(t<e)throw new ale(`end (${t}) < begin (${e}) is forbidden.`);const n=[];for(let r=e;r<t;++r)n.push(r);return n}let Qle;function Zle(){return null==Qle&&(Qle=_5().epsilon()),Qle}function Jle(e,t){return W6(e,t)}function eue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;const n=e.shape.slice();return t<0&&(t=n.length+t+1),n.splice(t,0,1),A7(e,n)}function tue(e,t,n){return T5((()=>{switch(e.rank){case 1:return lne(e,t,n);case 2:return une(e,[t,0],[n,e.shape[1]]);case 3:return cne(e,[t,0,0],[n,e.shape[1],e.shape[2]]);case 4:return dne(e,[t,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3]]);case 5:return N7(e,[t,0,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3],e.shape[4]]);case 6:return N7(e,[t,0,0,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3],e.shape[4],e.shape[5]]);default:throw new ale(`sliceAlongFirstAxis() received an unsupported tensor rank: ${e.rank}`)}}))}function nue(e,t,n){return T5((()=>{switch(e.rank){case 1:return lne(e,t,n);case 2:return une(e,[0,t],[e.shape[0],n]);case 3:return cne(e,[0,0,t],[e.shape[0],e.shape[1],n]);case 4:return dne(e,[0,0,0,t],[e.shape[0],e.shape[1],e.shape[2],n]);default:throw new ale(`sliceAlongLastAxis() received an unsupported tensor rank: ${e.rank}`)}}))}function rue(e,t,n,r){return T5((()=>{switch(e.rank){case 1:return lne(e,t,n);case 2:switch(r){case 1:return tue(e,t,n);case 2:return nue(e,t,n);default:throw new ale(`The axis is not within the rank of the tensor ${r}`)}case 3:switch(r){case 1:return tue(e,t,n);case 2:return cne(e,[0,t,0],[e.shape[0],n,e.shape[2]]);case 3:return nue(e,t,n);default:throw new ale(`The axis is not within the rank of the tensor ${r}`)}case 4:switch(r){case 1:return tue(e,t,n);case 2:return dne(e,[0,t,0,0],[e.shape[0],n,e.shape[2],e.shape[3]]);case 3:return dne(e,[0,0,t,0],[e.shape[0],e.shape[1],n,e.shape[3]]);case 4:return nue(e,t,n);default:throw new ale(`The axis is not within the rank of the tensor ${r}`)}default:throw new ale(`sliceAlongLastAxis() received an unsupported tensor rank: ${e.rank}`)}}))}function oue(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return n<0&&(t=e[0].rank,n=0!==t?t:0),n===e[0].rank&&(n=-1),I7(e,n)}function aue(e,t){switch(e.rank){case 1:return V7([e,t]);case 2:return U7([e,t],0);case 3:return H7([e,t],0);case 4:return G7([e,t],0);default:throw new ale(`concatAlongFirstAxis() received an unsupported tensor rank: ${e.rank}`)}}function iue(e,t){if(Array.isArray(t)||(t=[t]),e.rank!==t.length)throw new ale(`The length of input n (${t.length}) does not match the number of dimensions in input x (${e.rank})`);return Pee(e,t)}function sue(e){return Bte(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,arguments.length>3?arguments[3]:void 0,arguments.length>4?arguments[4]:void 0)}function lue(e,t,n,r){if(e.rank<2||t.rank<2)throw new ile(`dot requires both inputs to be rank >= 2 but got x shape = ${e.shape} and y shape = ${t.shape}`);if(t.rank>=3){if(e.shape.slice(-1)[0]!==t.shape.slice(-2)[0])throw new ile(`If rank y >= 3, then the second last dim of y must equal the last dim of x but got x shape = ${e.shape} and  y shape = ${t.shape}`)}if(2===e.rank&&2===t.rank){return rre({a:e,b:t,transposeA:!1,transposeB:!1,bias:r?due(e.rank,r,"channelsLast"):null,activation:n})}{const o=e.shape.slice(),a=o.pop();e=A7(e,[-1,a]);const i=t.shape.slice(),s=i.pop(),l=i.pop(),u=[...i,s],c=Array.from({length:t.rank},((e,n)=>0===n?t.rank-2:n<=t.rank-2?n-1:n));t=A7(e9(t,c),[l,-1]);const d=[...o,...u];return A7(rre({a:e,b:t,transposeA:!1,transposeB:!1,bias:r?due(e.rank,r,"channelsLast"):null,activation:n}),d)}}function uue(e,t,n){return T5((()=>(t=Array.isArray(t)?Ane(t,"int32"):W6(t,"int32"),_ee(e,t,n))))}function cue(e){return K6(e,e)}function due(e,t,n){const r=t.shape;if(1!==t.rank&&t.rank!==e)throw new ale(`Unexpected bias dimensions: ${t.rank}; expected it to be 1 or ${e}`);if(5===e){if("channelsFirst"===n)return 1===r.length?A7(t,[1,r[0],1,1,1]):A7(t,[1,r[3],r[0],r[1],r[2]]);if("channelsLast"===n)return 1===r.length?A7(t,[1,1,1,1,r[0]]):A7(t,[1].concat(r))}else if(4===e){if("channelsFirst"===n)return 1===r.length?A7(t,[1,r[0],1,1]):A7(t,[1,r[2],r[0],r[1]]);if("channelsLast"===n)return 1===r.length?A7(t,[1,1,1,r[0]]):A7(t,[1].concat(r))}else if(3===e){if("channelsFirst"===n)return 1===r.length?A7(t,[1,r[0],1]):A7(t,[1,r[1],r[0]]);if("channelsLast"===n)return 1===r.length?A7(t,[1,1,r[0]]):A7(t,[1].concat(r))}else if(e<3)return t;throw new ale(`Unsupported input rank by biasAdd: ${t.rank}`)}function pue(e,t,n){return T5((()=>(null==n&&(n="channelsLast"),Fle(n),H6(e,due(e.rank,t,n)))))}function hue(e,t,n,r){return T5((()=>Une(e,t,n,r)))}function fue(e,t){return arguments.length>2&&void 0!==arguments[2]&&arguments[2]?e():t()}const mue=["fanIn","fanOut","fanAvg"],gue=["normal","uniform","truncatedNormal"];class yue extends l8{fromConfigUsesCustomObjects(){return!1}getConfig(){return{}}}class vue extends yue{apply(e,t){return dte(e,t)}}vue.className="Zeros",c8(vue);class bue extends yue{apply(e,t){return pte(e,t)}}bue.className="Ones",c8(bue);class xue extends yue{constructor(e){if(super(),"object"!==typeof e)throw new ale(`Expected argument of type ConstantConfig but got ${e}`);if(void 0===e.value)throw new ale(`config must have value set but got ${e}`);this.value=e.value}apply(e,t){return T5((()=>K6(a8(this.value),pte(e,t))))}getConfig(){return{value:this.value}}}xue.className="Constant",c8(xue);class wue extends yue{constructor(e){super(),this.DEFAULT_MINVAL=-.05,this.DEFAULT_MAXVAL=.05,this.minval=e.minval||this.DEFAULT_MINVAL,this.maxval=e.maxval||this.DEFAULT_MAXVAL,this.seed=e.seed}apply(e,t){return Vte(e,this.minval,this.maxval,t,this.seed)}getConfig(){return{minval:this.minval,maxval:this.maxval,seed:this.seed}}}wue.className="RandomUniform",c8(wue);class kue extends yue{constructor(e){super(),this.DEFAULT_MEAN=0,this.DEFAULT_STDDEV=.05,this.mean=e.mean||this.DEFAULT_MEAN,this.stddev=e.stddev||this.DEFAULT_STDDEV,this.seed=e.seed}apply(e,t){if("float32"!==(t=t||"float32")&&"int32"!==t)throw new ile(`randomNormal does not support dType ${t}.`);return sue(e,this.mean,this.stddev,t,this.seed)}getConfig(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}kue.className="RandomNormal",c8(kue);class Sue extends yue{constructor(e){super(),this.DEFAULT_MEAN=0,this.DEFAULT_STDDEV=.05,this.mean=e.mean||this.DEFAULT_MEAN,this.stddev=e.stddev||this.DEFAULT_STDDEV,this.seed=e.seed}apply(e,t){if("float32"!==(t=t||"float32")&&"int32"!==t)throw new ile(`truncatedNormal does not support dType ${t}.`);return Mne(e,this.mean,this.stddev,t,this.seed)}getConfig(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}Sue.className="TruncatedNormal",c8(Sue);class Aue extends yue{constructor(e){super(),this.gain=null!=e.gain?e.gain:1}apply(e,t){return T5((()=>{if(2!==e.length||e[0]!==e[1])throw new ale("Identity matrix initializer can only be used for 2D square matrices.");return K6(this.gain,$ee(e[0]))}))}getConfig(){return{gain:this.gain}}}Aue.className="Identity",c8(Aue);class Cue extends yue{constructor(e){if(super(),e.scale<0)throw new ale(`scale must be a positive float. Got: ${e.scale}`);var t;this.scale=null==e.scale?1:e.scale,this.mode=null==e.mode?"fanIn":e.mode,t=this.mode,Sle(mue,"FanMode",t),this.distribution=null==e.distribution?"normal":e.distribution,function(e){Sle(gue,"Distribution",e)}(this.distribution),this.seed=e.seed}apply(e,t){const n=function(e){let t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"channelsLast";if(Fle(r),2===e.length)t=e[0],n=e[1];else if(-1!==[3,4,5].indexOf(e.length)){if("channelsFirst"===r){const r=qle(e,2);t=e[1]*r,n=e[0]*r}else if("channelsLast"===r){const r=qle(e,0,e.length-2);t=e[e.length-2]*r,n=e[e.length-1]*r}}else{const r=qle(e);t=Math.sqrt(r),n=Math.sqrt(r)}return[t,n]}(e),r=n[0],o=n[1];let a=this.scale;if("fanIn"===this.mode?a/=Math.max(1,r):"fanOut"===this.mode?a/=Math.max(1,o):a/=Math.max(1,(r+o)/2),"normal"===this.distribution){const n=Math.sqrt(a);if("float32"!==(t=t||"float32")&&"int32"!==t)throw new ile(`${this.getClassName()} does not support dType ${t}.`);return Mne(e,0,n,t,this.seed)}{const n=Math.sqrt(3*a);return Vte(e,-n,n,t,this.seed)}}getConfig(){return{scale:this.scale,mode:this.mode,distribution:this.distribution,seed:this.seed}}}Cue.className="VarianceScaling",c8(Cue);class Tue extends Cue{constructor(e){super({scale:1,mode:"fanAvg",distribution:"uniform",seed:null==e?null:e.seed})}getClassName(){return Cue.className}}Tue.className="GlorotUniform",c8(Tue);class Iue extends Cue{constructor(e){super({scale:1,mode:"fanAvg",distribution:"normal",seed:null==e?null:e.seed})}getClassName(){return Cue.className}}Iue.className="GlorotNormal",c8(Iue);class Eue extends Cue{constructor(e){super({scale:2,mode:"fanIn",distribution:"normal",seed:null==e?null:e.seed})}getClassName(){return Cue.className}}Eue.className="HeNormal",c8(Eue);class Nue extends Cue{constructor(e){super({scale:2,mode:"fanIn",distribution:"uniform",seed:null==e?null:e.seed})}getClassName(){return Cue.className}}Nue.className="HeUniform",c8(Nue);class Oue extends Cue{constructor(e){super({scale:1,mode:"fanIn",distribution:"normal",seed:null==e?null:e.seed})}getClassName(){return Cue.className}}Oue.className="LeCunNormal",c8(Oue);class Mue extends Cue{constructor(e){super({scale:1,mode:"fanIn",distribution:"uniform",seed:null==e?null:e.seed})}getClassName(){return Cue.className}}Mue.className="LeCunUniform",c8(Mue);class Due extends yue{constructor(e){super(),this.DEFAULT_GAIN=1,this.ELEMENTS_WARN_SLOW=2e3,this.gain=null==e.gain?this.DEFAULT_GAIN:e.gain,this.seed=e.seed}apply(e,t){return T5((()=>{if(e.length<2)throw new ile("Shape must be at least 2D.");if("int32"!==t&&"float32"!==t&&void 0!==t)throw new TypeError(`Unsupported data type ${t}.`);const n=SJ(e.slice(0,-1)),r=e[e.length-1],o=n*r;o>this.ELEMENTS_WARN_SLOW&&console.warn(`Orthogonal initializer is being called on a matrix with more than ${this.ELEMENTS_WARN_SLOW} (${o}) elements: Slowness may result.`);const a=sue([Math.max(r,n),Math.min(r,n)],0,1,t,this.seed),i=Qre.qr(a,!1);let s=i[0];const l=i[1].flatten().stridedSlice([0],[Math.min(r,n)*Math.min(r,n)],[Math.min(r,n)+1]);return s=K6(s,l.sign()),n<r&&(s=s.transpose()),K6(a8(this.gain),s.reshape(e))}))}getConfig(){return{gain:this.gain,seed:this.seed}}}Due.className="Orthogonal",c8(Due);const Rue={constant:"Constant",glorotNormal:"GlorotNormal",glorotUniform:"GlorotUniform",heNormal:"HeNormal",heUniform:"HeUniform",identity:"Identity",leCunNormal:"LeCunNormal",leCunUniform:"LeCunUniform",ones:"Ones",orthogonal:"Orthogonal",randomNormal:"RandomNormal",randomUniform:"RandomUniform",truncatedNormal:"TruncatedNormal",varianceScaling:"VarianceScaling",zeros:"Zeros"};function Pue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ble(e,u8.getMap().classNameMap,t,"initializer")}function $ue(e){return yle(e)}function jue(e){if("string"===typeof e){const t=e in Rue?Rue[e]:e;if("GlorotNormal"===t)return new Iue;if("GlorotUniform"===t)return new Tue;if("HeNormal"===t)return new Eue;if("HeUniform"===t)return new Nue;if("LeCunNormal"===t)return new Oue;if("LeCunUniform"===t)return new Mue;{const e={};return e.className=t,e.config={},Pue(e)}}return e instanceof yue?e:Pue(e)}function _ue(e){return Array.isArray(e)&&Array.isArray(e[0])}function Fue(e){return 0===e.length?[]:Array.isArray(e[0])?e:[e]}function Lue(e){let t;if(Array.isArray(e)){if(1!==e.length)throw new ale(`Expected Tensor length to be 1; got ${e.length}`);t=e[0]}else t=e;return t}function zue(e){if(Array.isArray(e)&&Array.isArray(e[0])){if(1===e.length)return e[0];throw new ale(`Expected exactly 1 Shape; got ${e.length}`)}return e}function Bue(e){let t=0;for(const n of e)0===n.shape.length?t+=1:t+=n.shape.reduce(((e,t)=>e*t));return t}const Wue="Variable";class Vue{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Wue,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this.dtype=null==t?"float32":t,this.shape=e.shape,this.id=Nle(),n=null==n?Wue:n,this.originalName=Vle(n),this.name=Ule(this.originalName),this.trainable_=r,this.constraint=o,this.val=jne(e,this.trainable_,this.name,this.dtype)}read(){return this.assertNotDisposed(),this.val}write(e){return this.assertNotDisposed(),function(e,t){if(e.shape.toString()!==t.shape.toString())throw new Error("Shape mismatch: "+JSON.stringify(e.shape)+" vs. "+JSON.stringify(t.shape))}(this.val,e),this.val.id!==e.id&&(this.val.assign(e),null!=this.constraint&&this.val.assign(this.constraint.apply(this.val))),this}dispose(){this.assertNotDisposed(),this.val.dispose()}assertNotDisposed(){if(this.val.isDisposed)throw new Error(`LayersVariable ${this.name} is already disposed.`)}get trainable(){return this.trainable_}set trainable(e){this.trainable_=e,this.val.trainable=e}}function Uue(e){return e.map((e=>e.read()))}function Hue(e){e.forEach((e=>{e[0].write(e[1])}))}class Gue{constructor(e){this.dtype=e.dtype,this.shape=e.shape,null!=e.shape?this.ndim=e.shape.length:this.ndim=e.ndim,this.maxNDim=e.maxNDim,this.minNDim=e.minNDim,this.axes=e.axes||{}}}class que{constructor(e,t,n,r,o,a,i){this.dtype=e,this.shape=t,this.sourceLayer=n,this.inputs=r,this.callArgs=o,this.outputTensorIndex=i,this.id=Nle(),null!=a&&(this.originalName=Vle(a),this.name=Ule(this.originalName)),this.rank=t.length}}let Kue=0;class Xue{constructor(e,t){this.callArgs=t,this.id=Kue++,this.outboundLayer=e.outboundLayer,this.inboundLayers=e.inboundLayers,this.nodeIndices=e.nodeIndices,this.tensorIndices=e.tensorIndices,this.inputTensors=e.inputTensors,this.outputTensors=e.outputTensors,this.inputMasks=e.inputMasks,this.outputMasks=e.outputMasks,this.inputShapes=e.inputShapes,this.outputShapes=e.outputShapes;for(const n of e.inboundLayers)null!=n&&n.outboundNodes.push(this);e.outboundLayer.inboundNodes.push(this)}getConfig(){const e=[];for(const t of this.inboundLayers)null!=t?e.push(t.name):e.push(null);return{outboundLayer:this.outboundLayer?this.outboundLayer.name:null,inboundLayers:e,nodeIndices:this.nodeIndices,tensorIndices:this.tensorIndices}}}let Yue=0;class Que extends l8{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this._callHook=null,this._addedWeightNames=[],this._stateful=!1,this.id=Yue++,this.activityRegularizer=null,this.inputSpec=null,this.supportsMasking=!1,this._trainableWeights=[],this._nonTrainableWeights=[],this._losses=[],this._updates=[],this._built=!1,this.inboundNodes=[],this.outboundNodes=[];let t=e.name;if(!t){const e=this.getClassName();t=fle(e)+"_"+Mle(e)}if(this.name=t,this.trainable_=null==e.trainable||e.trainable,null!=e.inputShape||null!=e.batchInputShape){let t;if(null!=e.batchInputShape)t=e.batchInputShape;else if(null!=e.inputShape){let n=null;null!=e.batchSize&&(n=e.batchSize),t=[n].concat(e.inputShape)}this.batchInputShape=t;let n=e.dtype;null==n&&(n=e.inputDType),null==n&&(n="float32"),this.dtype=n}null!=e.weights?this.initialWeights=e.weights:this.initialWeights=null,this._refCount=null,this.fastWeightInitDuringBuild=!1}static nodeKey(e,t){return e.name+"_ib-"+t.toString()}getNodeAtIndex(e,t){if(0===this.inboundNodes.length)throw new ole(`The layer has never been called and thus has no defined ${t}.`);if(this.inboundNodes.length<=e)throw new ale(`Asked to get ${t} at node ${e}, but the layer has only ${this.inboundNodes.length} inbound nodes.`);return this.inboundNodes[e]}getInputAt(e){return ple(this.getNodeAtIndex(e,"input").inputTensors)}getOutputAt(e){return ple(this.getNodeAtIndex(e,"output").outputTensors)}get input(){if(this.inboundNodes.length>1)throw new rle(`Layer ${this.name} has multiple inbound nodes, hence the notion of "layer input" is ill-defined. Use \`getInputAt(nodeIndex)\` instead.`);if(0===this.inboundNodes.length)throw new rle(`Layer ${this.name} is not connected, no input to return.`);return ple(this.getNodeAtIndex(0,"input").inputTensors)}get output(){if(0===this.inboundNodes.length)throw new rle(`Layer ${this.name} has no inbound nodes.`);if(this.inboundNodes.length>1)throw new rle(`Layer ${this.name} has multiple inbound nodes, hence the notion of "layer output" is ill-defined. Use \`getOutputAt(nodeIndex)\` instead.`);return ple(this.getNodeAtIndex(0,"output").outputTensors)}get losses(){return this._losses}calculateLosses(){return this.losses.map((e=>e()))}get updates(){return this._updates}get built(){return this._built}set built(e){this._built=e}get trainable(){return this.trainable_}set trainable(e){this._trainableWeights.forEach((t=>t.trainable=e)),this.trainable_=e}get trainableWeights(){return this.trainable_?this._trainableWeights.filter((e=>e.trainable)):[]}set trainableWeights(e){this._trainableWeights=e}get nonTrainableWeights(){return this.trainable?this._trainableWeights.filter((e=>!e.trainable)).concat(this._nonTrainableWeights):this._trainableWeights.concat(this._nonTrainableWeights)}set nonTrainableWeights(e){this._nonTrainableWeights=e}get weights(){return this.trainableWeights.concat(this.nonTrainableWeights)}get stateful(){return this._stateful}resetStates(){if(!this.stateful)throw new Error("Cannot call the resetStates() method of a non-stateful Layer object.")}assertInputCompatibility(e){const t=hle(e);if(null==this.inputSpec||0===this.inputSpec.length)return;const n=hle(this.inputSpec);if(t.length!==n.length)throw new ale(`Layer ${this.name} expects ${n.length} inputs, but it received ${t.length} input tensors. Input received: ${e}`);for(let r=0;r<t.length;r++){const e=t[r],o=n[r];if(null==o)continue;const a=e.rank;if(null!=o.ndim&&a!==o.ndim)throw new ale(`Input ${r} is incompatible with layer ${this.name}: expected ndim=${o.ndim}, found ndim=${a}`);if(null!=o.maxNDim&&a>o.maxNDim)throw new ale(`Input ${r} is incompatible with layer ${this.name}: expected max_ndim=${o.maxNDim}, found ndim=${a}`);if(null!=o.minNDim&&a<o.minNDim)throw new ale(`Input ${r} is incompatible with layer ${this.name}: expected min_ndim=${o.minNDim}, found ndim=${a}.`);if(null!=o.dtype&&e.dtype!==o.dtype)throw new ale(`Input ${r} is incompatible with layer ${this.name} : expected dtype=${o.dtype}, found dtype=${e.dtype}.`);if(o.axes){const t=e.shape;for(const e in o.axes){const n=Number(e),a=o.axes[e],i=n>=0?t[n]:t[t.length+n];if(null!=a&&-1===[a,null].indexOf(i))throw new ale(`Input ${r} is incompatible with layer ${this.name}: expected axis ${n} of input shape to have value ${a} but got shape ${t}.`)}}if(null!=o.shape)for(let t=0;t<o.shape.length;++t){const n=o.shape[t],a=e.shape[t];if(null!=n&&null!=a&&n!==a)throw new ale(`Input ${r} is incompatible with layer ${this.name}: expected shape=${o.shape}, found shape=${e.shape}.`)}}}call(e,t){return e}invokeCallHook(e,t){null!=this._callHook&&this._callHook(e,t)}setCallHook(e){this._callHook=e}clearCallHook(){this._callHook=null}apply(e,t){t=t||{},this.assertNotDisposed();const n=hle(e),r=function(e){let t=!0;for(const n of hle(e))if(!(n instanceof que)){t=!1;break}return t}(e),o=function(e){let t=!0;for(const n of hle(e))if(n instanceof que){t=!1;break}return t}(e);if(r===o)throw new ale("Arguments to apply() must be all SymbolicTensors or all Tensors");return Wle(this.name,(()=>{if(!this.built){this.assertInputCompatibility(e);const t=[];for(const n of hle(e))t.push(n.shape);this.build(ple(t)),this.built=!0,this.initialWeights&&this.setWeights(this.initialWeights),null===this._refCount&&o&&(this._refCount=1)}if(this.assertInputCompatibility(e),o){let r=this.call(e,t);this.supportsMasking&&this.setMaskMetadata(e,r);const o=hle(r),a=[];for(let e of o)-1!==n.indexOf(e)&&(e=e.clone()),a.push(e);if(r=ple(a),null!=this.activityRegularizer)throw new ile("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return r}{const n=function(e){e=hle(e);const t=[];for(const n of e)t.push(n.shape);return ple(t)}(e),r=this.computeOutputShape(n);let o;const a="float32";if(this.warnOnIncompatibleInputShape(Array.isArray(e)?n[0]:n),o=null!=r&&r.length>0&&Array.isArray(r[0])?r.map(((n,r)=>new que(a,n,this,hle(e),t,this.name,r))):new que(a,r,this,hle(e),t,this.name),this.addInboundNode(e,o,null,null,n,r,t),this._refCount++,null!=this.activityRegularizer)throw new ile("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return o}}))}warnOnIncompatibleInputShape(e){if(null!=this.batchInputShape)if(e.length!==this.batchInputShape.length)console.warn(`The rank of the input tensor provided (shape: ${JSON.stringify(e)}) does not match that of the batchInputShape (${JSON.stringify(this.batchInputShape)}) of the layer ${this.name}`);else{let t=!1;this.batchInputShape.forEach(((n,r)=>{null!=n&&null!=e[r]&&e[r]!==n&&(t=!0)})),t&&console.warn(`The shape of the input tensor (${JSON.stringify(e)}) does not match the expectation of layer ${this.name}: ${JSON.stringify(this.batchInputShape)}`)}}get outputShape(){if(null==this.inboundNodes||0===this.inboundNodes.length)throw new rle(`The layer ${this.name} has never been called and thus has no defined output shape.`);const e=[];for(const t of this.inboundNodes){const n=JSON.stringify(t.outputShapes);-1===e.indexOf(n)&&e.push(n)}if(1===e.length){const e=this.inboundNodes[0].outputShapes;return Array.isArray(e)&&Array.isArray(e[0])&&1===e.length?e[0]:e}throw new rle(`The layer ${this.name} has multiple inbound nodes with different output shapes. Hence the notion of "output shape" is ill-defined for the layer.`)}countParams(){if(!this.built)throw new ole(`You tried to call countParams() on ${this.name}, but the layer is not built yet. Build it first by calling build(batchInputShape).`);return Bue(this.weights)}build(e){this.built=!0}getWeights(){return Uue(arguments.length>0&&void 0!==arguments[0]&&arguments[0]?this.trainableWeights:this.weights)}setWeights(e){T5((()=>{const t=this.weights;if(t.length!==e.length)throw new ale(`You called setWeights(weights) on layer "${this.name}" with a weight list of length ${e.length}, but the layer was expecting ${t.length} weights. Provided weights: ${e}...`);if(0===t.length)return;const n=[],r=Uue(t);for(let o=0;o<r.length;++o){const a=r[o],i=t[o],s=e[o];if(!TJ(a.shape,s.shape))throw new ale(`Layer weight shape ${a.shape} not compatible with provided weight shape ${s.shape}`);n.push([i,s])}Hue(n)}))}addWeight(e,t,n,r,o,a,i,s){if(-1!==this._addedWeightNames.indexOf(e))throw new ale(`Duplicate weight name ${e} for layer ${this.name}`);this._addedWeightNames.push(e),null==n&&(n="float32"),this.fastWeightInitDuringBuild&&(r=null!=s?s():jue("zeros"));const l=r.apply(t,n),u=new Vue(l,n,e,a,i);return l.dispose(),null!=o&&this.addLoss((()=>o.apply(u.read()))),null==a&&(a=!0),a?this._trainableWeights.push(u):this._nonTrainableWeights.push(u),u}setFastWeightInitDuringBuild(e){this.fastWeightInitDuringBuild=e}addLoss(e){null==e||Array.isArray(e)&&0===e.length||(e=hle(e),void 0!==this._losses&&null!==this._losses&&this.losses.push(...e))}computeOutputShape(e){return e}computeMask(e,t){if(!this.supportsMasking){if(null!=t){if(!Array.isArray(t))throw new TypeError(`Layer ${this.name} does not support masking, but was passed an inputMask.`);t.forEach((e=>{if(null!=e)throw new TypeError(`Layer ${this.name} does not support masking, but was passed an inputMask.`)}))}return null}return t}setMaskMetadata(e,t,n){if(!this.supportsMasking)return;const r=this.computeMask(e,n),o=hle(t),a=hle(r);if(o.length!==a.length)throw new Error(`${this.name} outputs ${o.length} tensors but ${o.length} masks for those tensors`);for(let i=0;i<o.length;i++)o[i].kerasMask=a[i]}addInboundNode(e,t,n,r,o,a){let i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;const s=hle(e);t=hle(t),n=hle(n),r=hle(r),o=Fue(o),a=Fue(a);const l=[],u=[],c=[];for(const d of s)l.push(d.sourceLayer),u.push(d.nodeIndex),c.push(d.tensorIndex);new Xue({outboundLayer:this,inboundLayers:l,nodeIndices:u,tensorIndices:c,inputTensors:s,outputTensors:t,inputMasks:n,outputMasks:r,inputShapes:o,outputShapes:a},i);for(let d=0;d<t.length;d++)t[d].sourceLayer=this,t[d].nodeIndex=this.inboundNodes.length-1,t[d].tensorIndex=d}getConfig(){const e={name:this.name,trainable:this.trainable};return null!=this.batchInputShape&&(e.batchInputShape=this.batchInputShape),null!=this.dtype&&(e.dtype=this.dtype),e}disposeWeights(){return this.weights.forEach((e=>e.dispose())),this.weights.length}assertNotDisposed(){if(0===this._refCount)throw new Error(`Layer '${this.name}' is already disposed.`)}dispose(){if(!this.built)throw new Error(`Cannot dispose Layer ${this.name} because it has not been built yet.`);if(null===this._refCount)throw new Error(`Cannot dispose Layer ${this.name} because it has not been used yet.`);this.assertNotDisposed();let e=0;return 0===--this._refCount&&(e=this.disposeWeights()),{refCountAfterDispose:this._refCount,numDisposedVariables:e}}}function Zue(e,t,n){if((null==t||null!=n&&n>0)&&(t=e.sourceLayer,n=e.nodeIndex),0===t.inboundNodes.length)return[e];{const e=t.inboundNodes[n];if(0===e.inboundLayers.length)return e.inputTensors;{const t=[];for(let n=0;n<e.inboundLayers.length;n++){const r=Zue(e.inputTensors[n],e.inboundLayers[n],e.nodeIndices[n]);for(const e of r)-1===t.indexOf(e)&&t.push(e)}return t}}}class Jue extends Que{constructor(e){if(super({dtype:e.dtype,name:null!=e.name?e.name:Mle("input").toString()}),null==e.batchSize&&(e.batchSize=null),null==e.sparse&&(e.sparse=!1),this.trainable=!1,this.built=!0,this.sparse=e.sparse,null!=e.inputShape&&null!=e.batchInputShape)throw new ale("Only provide the inputShape OR batchInputShape argument to inputLayer, not both at the same time.");let t=e.batchInputShape;if(null==t){if(null==e.inputShape)throw new ale("An InputLayer should be passed either a `batchInputShape` or an `inputShape`.");t=[e.batchSize].concat(e.inputShape)}else if(null!=e.batchSize)throw new ale("Cannot specify batchSize if batchInputShape is specified when creating an InputLayer.");const n=e.dtype||"float32";this.batchInputShape=t,this.dtype=n,this.inputSpec=[{shape:t}];const r=new que(this.dtype,this.batchInputShape,this,[],{},this.name);r.nodeIndex=0,r.tensorIndex=0,new Xue({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:[r],outputTensors:[r],inputMasks:[null],outputMasks:[null],inputShapes:[t],outputShapes:[t]})}apply(e,t){throw new ale(`Cannot pass any input to an InputLayer's apply() method. InputLayer name: ${this.name}`)}dispose(){return{refCountAfterDispose:this._refCount,numDisposedVariables:0}}getConfig(){return{batchInputShape:this.batchInputShape,dtype:this.dtype,sparse:this.sparse,name:this.name}}}Jue.className="InputLayer",c8(Jue);class ece{constructor(e){if(this.id2Value={},this.id2Mask={},this.name2Id={},e instanceof ece)for(const t in e.id2Value)this.id2Value[t]=e.id2Value[t],t in e.id2Mask&&(this.id2Mask[t]=e.id2Mask[t]);else{if(null==e)return;for(const t of e)this.add(t.key,t.value)}}add(e,t,n){if(null!=this.id2Value[e.id])throw new ale(`Duplicate key: name=${e.name}, id=${e.id}`);return this.id2Value[e.id]=function(e,t){if(null==e.dtype||e.dtype===t.dtype)return t;try{return W6(t,e.dtype)}catch(JBe){throw new ale(`The dtype of the feed (${t.dtype}) can not be cast to the dtype of the key '${e.name}' (${e.dtype}).`)}}(e,t),this.name2Id[e.name]=e.id,null!=n&&(this.id2Mask[e.id]=n),this}addFeed(e){this.add(e.key,e.value)}hasKey(e){return null!=this.id2Value[e.id]}names(){return Object.keys(this.name2Id)}getValue(e){if(e instanceof que){if(null==this.id2Value[e.id])throw new ale(`Nonexistent key: ${e.name}`);return this.id2Value[e.id]}{const t=this.name2Id[e];if(null==t)throw new ale(`Feed dict has no SymbolicTensor name: ${e}`);return this.id2Value[t]}}getMask(e){if(e instanceof que){if(null==this.id2Value[e.id])throw new ale(`Nonexistent key: ${e.name}`);return this.id2Mask[e.id]}{const t=this.name2Id[e];if(null==t)throw new ale(`Feed dict has no SymbolicTensor name: ${e}`);return this.id2Mask[t]}}disposeMasks(){null!=this.id2Mask&&I5(this.id2Mask)}}const tce=new lle,nce=new lle;function rce(e,t,n,r){const o=null!=n&&n.training,a=Array.isArray(e),i=a?e:[e],s=i.map((e=>e.name)),l=[],u=t.names();for(const f of s)-1!==u.indexOf(f)?l.push(t.getValue(f)):l.push(null);null!=r&&(r.maxNumTensors=-1/0,r.minNumTensors=1/0);const c=s.join(",")+"|"+t.names().sort().join(",");let d,p=tce.get(c);if(null==p){const e=function(e,t){xJ(null!=e&&e.length>0,(()=>"Expected at least one fetch, got none"));let n=[],r={};if(1===e.length){const o=ace(e[0],t);n=o.sorted,r=o.recipientMap}else{const o=new Set;for(const a of e){const{sorted:e,recipientMap:i}=ace(a,t);for(const t of e)o.has(t.name)||(n.push(t),o.add(t.name));for(const t in i)null==r[t]&&(r[t]=new Set),i[t].forEach((e=>r[t].add(e)))}}return{sorted:n,recipientCounts:oce(r)}}(i,t);p=e.sorted,d=e.recipientCounts,tce.put(c,p),nce.put(c,d)}d={},o||Object.assign(d,nce.get(c));const h=new ece(t);for(let f=0;f<p.length;++f){if(null!=r){const e=A5().numTensors;e>r.maxNumTensors&&(r.maxNumTensors=e),e<r.minNumTensors&&(r.minNumTensors=e)}const e=p[f],a=e.sourceLayer;if(a instanceof Jue)continue;const i=[],u=[],c=[];let m=!1;for(const n of e.inputs){const e=h.getValue(n),r=h.getMask(n);i.push(e),u.push(r),null!=r&&(m=!0),o||(d[n.name]--,0!==d[n.name]||t.hasKey(n)||-1!==s.indexOf(n.name)||e.isDisposed||!0===n.sourceLayer.stateful||c.push(e))}m&&((n=n||{}).mask=u[0]);const g=hle(a.apply(i,n));let y=null;a.supportsMasking&&(y=a.computeMask(i,u));const v=ice(e),b=Array.isArray(v)?v:[v];for(let t=0;t<b.length;++t){h.hasKey(b[t])||h.add(b[t],g[t],Array.isArray(y)?y[0]:y);const e=s.indexOf(b[t].name);-1!==e&&(l[e]=g[t])}o||I5(c)}return h.disposeMasks(),a?l:l[0]}function oce(e){const t={};for(const n in e)t[n]=e[n].size;return t}function ace(e,t){const n=new Set,r=[],o={};for(const s of t.names())n.add(s);const a=[],i=[];for(a.push(e);a.length>0;){const e=a[a.length-1];if(n.has(e.name)){a.pop();continue}const t=i[i.length-1]===a.length-1;if(0===e.inputs.length||t)a.pop(),r.push(e),n.add(e.name),t&&i.pop();else{i.push(a.length-1);for(const t of e.inputs)null==o[t.name]&&(o[t.name]=new Set),o[t.name].add(e.name),n.has(t.name)||a.push(t)}}return{sorted:r,recipientMap:o}}function ice(e){let t;if(1===e.sourceLayer.inboundNodes.length)t=e.sourceLayer.output;else{let n=null;for(let t=0;t<e.sourceLayer.inboundNodes.length;++t)for(const r of e.sourceLayer.inboundNodes[t].outputTensors)if(r.id===e.id){n=t;break}t=e.sourceLayer.getOutputAt(n)}return t}function sce(e,t){return T5((()=>X6(Iee(K6(e,e),t,!0))))}u0().registerFlag("TOPOLOGICAL_SORT_CACHE_MAX_ENTRIES",(()=>100),(function(e){null!=tce&&tce.setMaxEntries(e),null!=nce&&nce.setMaxEntries(e)}));class lce extends l8{getConfig(){return{}}}class uce extends lce{constructor(e){super(),this.defaultMaxValue=2,this.defaultAxis=0,this.maxValue=null!=e.maxValue?e.maxValue:this.defaultMaxValue,this.axis=null!=e.axis?e.axis:this.defaultAxis}apply(e){return T5((()=>{const t=sce(e,this.axis),n=W7(t,0,this.maxValue);return K6(e,q6(n,H6(Zle(),t)))}))}getConfig(){return{maxValue:this.maxValue,axis:this.axis}}}uce.className="MaxNorm",c8(uce);class cce extends lce{constructor(e){super(),this.defaultAxis=0,this.axis=null!=e.axis?e.axis:this.defaultAxis}apply(e){return T5((()=>q6(e,H6(Zle(),sce(e,this.axis)))))}getConfig(){return{axis:this.axis}}}cce.className="UnitNorm",c8(cce);class dce extends lce{apply(e){return qte(e)}}dce.className="NonNeg",c8(dce);class pce extends lce{constructor(e){super(),this.defaultMinValue=0,this.defaultMaxValue=1,this.defaultRate=1,this.defaultAxis=0,this.minValue=null!=e.minValue?e.minValue:this.defaultMinValue,this.maxValue=null!=e.maxValue?e.maxValue:this.defaultMaxValue,this.rate=null!=e.rate?e.rate:this.defaultRate,this.axis=null!=e.axis?e.axis:this.defaultAxis}apply(e){return T5((()=>{const t=sce(e,this.axis),n=H6(K6(this.rate,W7(t,this.minValue,this.maxValue)),K6(1-this.rate,t));return K6(e,q6(n,H6(Zle(),t)))}))}getConfig(){return{minValue:this.minValue,maxValue:this.maxValue,rate:this.rate,axis:this.axis}}}pce.className="MinMaxNorm",c8(pce);const hce={maxNorm:"MaxNorm",minMaxNorm:"MinMaxNorm",nonNeg:"NonNeg",unitNorm:"UnitNorm"};function fce(e){return yle(e)}function mce(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ble(e,u8.getMap().classNameMap,t,"constraint")}function gce(e){if(null==e)return null;if("string"===typeof e){return mce({className:e in hce?hce[e]:e,config:{}})}return e instanceof lce?e:mce(e)}async function yce(e){if(null==e)return;const t=[],n=[],r=[];for(const o in e){const a=e[o];if("number"!==typeof a){const e=a;t.push(e.data()),n.push(o),r.push(e)}}if(t.length>0){const o=await Promise.all(t);for(let t=0;t<o.length;++t)e[n[t]]=o[t][0];I5(r)}}function vce(e){if(null!=e)for(const t in e){const n=e[t];"number"!==typeof n&&n.dispose()}}var bce,xce;(xce=bce||(bce={}))[xce.SILENT=0]="SILENT",xce[xce.VERBOSE=1]="VERBOSE";class wce{constructor(){this.validationData=null}setParams(e){this.params=e}async onEpochBegin(e,t){}async onEpochEnd(e,t){}async onBatchBegin(e,t){}async onBatchEnd(e,t){}async onTrainBegin(e){}async onTrainEnd(e){}setModel(e){}}class kce{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;null==e&&(e=[]),this.callbacks=e,this.queueLength=t}append(e){this.callbacks.push(e)}setParams(e){for(const t of this.callbacks)t.setParams(e)}setModel(e){for(const t of this.callbacks)t.setModel(e)}async onEpochBegin(e,t){null==t&&(t={});for(const n of this.callbacks)await n.onEpochBegin(e,t)}async onEpochEnd(e,t){null==t&&(t={});for(const n of this.callbacks)await n.onEpochEnd(e,t)}async onBatchBegin(e,t){null==t&&(t={});for(const n of this.callbacks)await n.onBatchBegin(e,t)}async onBatchEnd(e,t){null==t&&(t={});for(const n of this.callbacks)await n.onBatchEnd(e,t)}async onTrainBegin(e){null==e&&(e={});for(const t of this.callbacks)await t.onTrainBegin(e)}async onTrainEnd(e){null==e&&(e={});for(const t of this.callbacks)await t.onTrainEnd(e)}}class Sce extends wce{constructor(){super()}async onEpochBegin(e){this.seen=0,this.totals={}}async onBatchEnd(e,t){null==t&&(t={});const n=null==t.size?0:t.size;this.seen+=n;for(const r in t){const e=t[r];if("number"===typeof e)this.totals.hasOwnProperty(r)||(this.totals[r]=0),this.totals[r]=this.totals[r]+e*n;else{let t;r in this.totals?t=this.totals[r]:this.totals[r]=0;const o=T5((()=>H6(this.totals[r],K6(e,n))));this.totals[r]=o,null!=t&&t.dispose()}}}async onEpochEnd(e,t){if(null!=t)for(const n of this.params.metrics)null!=this.totals[n]&&("number"===typeof this.totals[n]?t[n]=this.totals[n]/this.seen:T5((()=>{const e=K6(q6(1,this.seen),this.totals[n]);t[n]=e,this.totals[n].dispose(),E5(t[n])})))}}class Ace extends wce{async onTrainBegin(e){this.epoch=[],this.history={}}async onEpochEnd(e,t){null==t&&(t={}),this.epoch.push(e);for(const n in t)null==this.history[n]&&(this.history[n]=[]),this.history[n].push(t[n])}async syncData(){const e=[],t=[],n=[];for(const o in this.history){const r=this.history[o];for(let a=0;a<r.length;++a)if("number"!==typeof r[a]){const i=r[a];e.push(i.data()),t.push(o),n.push(a)}}const r=await Promise.all(e);for(let o=0;o<r.length;++o){this.history[t[o]][n[o]].dispose(),this.history[t[o]][n[o]]=r[o][0]}}}class Cce extends wce{constructor(e,t){if(super(),this.currentEpoch=0,this.nowFunc=e.nowFunc,this.nextFrameFunc=e.nextFrameFunc||roe,this.yieldEvery=t||"auto","auto"===this.yieldEvery&&(this.yieldEvery=125),"never"===this.yieldEvery&&null!=e.onYield)throw new Error("yieldEvery is `never` but you provided an `onYield` callback. Either change `yieldEvery` or remove the callback");HJ(this.yieldEvery)&&(this.maybeWait=function(e,t,n){let r,o=null!=n?n():l4();return function(){const a=null!=n?n():l4();return a-o<t||(o=a,r=e(...arguments)),r}}(this.maybeWait.bind(this),this.yieldEvery,this.nowFunc)),this.trainBegin=e.onTrainBegin,this.trainEnd=e.onTrainEnd,this.epochBegin=e.onEpochBegin,this.epochEnd=e.onEpochEnd,this.batchBegin=e.onBatchBegin,this.batchEnd=e.onBatchEnd,this.yield=e.onYield}async maybeWait(e,t,n){const r=[];null!=this.yield&&(await yce(n),r.push(this.yield(e,t,n))),r.push(this.nextFrameFunc()),await Promise.all(r)}async onEpochBegin(e,t){this.currentEpoch=e,null!=this.epochBegin&&(await yce(t),await this.epochBegin(e,t))}async onEpochEnd(e,t){const n=[];null!=this.epochEnd&&(await yce(t),n.push(this.epochEnd(e,t))),"epoch"===this.yieldEvery&&n.push(this.nextFrameFunc()),await Promise.all(n)}async onBatchBegin(e,t){null!=this.batchBegin&&(await yce(t),await this.batchBegin(e,t))}async onBatchEnd(e,t){const n=[];null!=this.batchEnd&&(await yce(t),n.push(this.batchEnd(e,t))),"batch"===this.yieldEvery?n.push(this.nextFrameFunc()):HJ(this.yieldEvery)&&n.push(this.maybeWait(this.currentEpoch,e,t)),await Promise.all(n)}async onTrainBegin(e){null!=this.trainBegin&&(await yce(e),await this.trainBegin(e))}async onTrainEnd(e){null!=this.trainEnd&&(await yce(e),await this.trainEnd(e))}}function Tce(e,t){if(null==e&&(e={}),e instanceof wce)return[e];if(Array.isArray(e)&&e[0]instanceof wce)return e;return hle(e).map((e=>new Cce(e,t)))}class Ice{constructor(){}static registerCallbackConstructor(e,t){xJ(e>=0&&Number.isInteger(e),(()=>`Verbosity level is expected to be an integer >= 0, but got ${e}`)),Ice.checkForDuplicate(t),null==Ice.constructors[e]&&(Ice.constructors[e]=[]),Ice.constructors[e].push(t)}static checkForDuplicate(e){for(const t in Ice.constructors){Ice.constructors[+t].forEach((t=>{if(t===e)throw new ale("Duplicate callback constructor.")}))}}static clear(){Ice.constructors={}}static createCallbacks(e){const t=[];for(const n in Ice.constructors){const r=+n;e>=r&&t.push(...Ice.constructors[r])}return t.map((e=>new e))}}function Ece(e,t,n,r,o,a,i,s,l){const u=new Ace,c=[new Sce,...Ice.createCallbacks(t)];null!=e&&c.push(...e),c.push(u);const d=new kce(c);return d.setParams({epochs:n,initialEpoch:r,samples:o,steps:a,batchSize:i,verbose:t,doValidation:s,metrics:l}),{callbackList:d,history:u}}function Nce(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return ble(e,u8.getMap().classNameMap,t,"layer",n)}function Oce(e,t){return T5((()=>{"float32"!==e.dtype&&(e=W6(e,"float32"));const n=Iee(cue(e),t,!0),r=f8(n.shape,Zle()),o=X6(S8(n,r));return q6(e,o)}))}function Mce(e,t){return T5((()=>cte(cue(y8(t,e)),-1)))}function Dce(e,t){return T5((()=>cte(b8(y8(t,e)),-1)))}function Rce(e,t){return T5((()=>{const n=y8(e,t),r=W7(b8(e),Zle(),Number.MAX_VALUE),o=b8(q6(n,r));return K6(100,cte(o,-1))}))}function Pce(e,t){return T5((()=>{const n=W7(t,Zle(),Number.MAX_VALUE),r=Kee(H6(1,n)),o=W7(e,Zle(),Number.MAX_VALUE),a=Kee(H6(1,o));return cte(cue(y8(r,a)),-1)}))}function $ce(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return T5((()=>{if(n)t=pne(t);else{const e=Iee(t,t.shape.length-1,!0);t=q6(t,e)}return t=W7(t,Zle(),1-Zle()),Z8(Iee(K6(W6(e,"float32"),Kee(t)),t.shape.length-1))}))}function jce(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return T5((()=>{const r=W6(jee(function(e){const t=[qle(e.shape)];return A7(e,t)}(e)),"int32"),o=(t=W7(t,Zle(),1-Zle())).shape;return $ce(A7(Y8(r,o[o.length-1]),o),t,n)}))}function _ce(e,t){return T5((()=>{let n;return n=W7(t,Zle(),1-Zle()),n=Kee(q6(n,y8(1,n))),cte(function(e,t){if(!TJ(e.shape,t.shape))throw new ale(`logits and labels must have the same shape, but got shapes ${JSON.stringify(e.shape)} and ${JSON.stringify(t.shape)}`);return T5((()=>{const n=qte(t),r=Z8(b8(t));return H6(y8(n,K6(t,e)),Xee(Mee(r)))}))}(e,n),-1)}))}function Fce(e,t){return T5((()=>{const n=W7(e,Zle(),1),r=W7(t,Zle(),1);return Iee(K6(e,Kee(q6(n,r))),-1)}))}function Lce(e,t){return T5((()=>{const n=Oce(e,-1),r=Oce(t,-1),o=K6(n,r);return Z8(Iee(o,-1))}))}Ice.constructors={};const zce={meanSquaredError:Mce,meanAbsoluteError:Dce,meanAbsolutePercentageError:Rce,meanSquaredLogarithmicError:Pce,squaredHinge:function(e,t){return T5((()=>{const n=S8(0,y8(1,K6(e,t)));return cte(cue(n),-1)}))},hinge:function(e,t){return T5((()=>{const n=S8(0,y8(1,K6(e,t)));return cte(n,-1)}))},categoricalHinge:function(e,t){return T5((()=>{const n=Iee(K6(e,t),-1),r=Cee(K6(y8(1,e),t),-1);return S8(0,H6(1,y8(r,n)))}))},logcosh:function(e,t){return T5((()=>{const n=Math.log(2),r=y8(t,e),o=y8(H6(r,Yee(K6(-2,r))),n);return cte(o,-1)}))},categoricalCrossentropy:$ce,sparseCategoricalCrossentropy:jce,binaryCrossentropy:_ce,kullbackLeiblerDivergence:Fce,poisson:function(e,t){return T5((()=>{const n=Kee(H6(Zle(),t));return cte(y8(t,K6(e,n)),-1)}))},cosineProximity:Lce};function Bce(e){if("string"===typeof e){if(e in zce)return zce[e];let t=`Unknown loss ${e}`;throw e.toLowerCase().includes("softmaxcrossentropy")&&(t=`Unknown loss ${e}. Use "categoricalCrossentropy" as the string name for tf.losses.softmaxCrossEntropy`),new ale(t)}return e}function Wce(e,t){return T5((()=>{const n=K6(.5,wte(t)),r=Jle(Fee(t,n),e.dtype);return cte(uee(e,r),-1)}))}function Vce(e,t){return T5((()=>Jle(uee(n7(e,-1),n7(t,-1)),"float32")))}function Uce(e,t){return T5((()=>W6(Iee(ete(uee(e,1),uee(t,1))),"float32")))}function Hce(e,t){return _ce(e,t)}function Gce(e,t){return e.rank===t.rank&&(e=bne(e,[e.rank-1])),(t=n7(t,-1)).dtype!==e.dtype&&(t=W6(t,e.dtype)),W6(uee(e,t),"float32")}const qce=$ce,Kce=jce,Xce={binaryAccuracy:Wce,categoricalAccuracy:Vce,precision:function(e,t){return T5((()=>{const n=Uce(e,t),r=function(e,t){return T5((()=>W6(Iee(ete(uee(e,0),uee(t,1))),"float32")))}(e,t),o=H6(n,r);return W6(cee(Fee(o,0),q6(n,o),0),"float32")}))},categoricalCrossentropy:qce,sparseCategoricalCrossentropy:Kce,mse:Mce,MSE:Mce,mae:Dce,MAE:Dce,mape:Rce,MAPE:Rce,cosine:Lce};function Yce(e){if("string"===typeof e&&e in Xce)return Xce[e];if("string"!==typeof e&&null!=e)return e;throw new ale(`Unknown metric ${e}`)}function Qce(e){if(cle(null!==e,`Unknown LossOrMetricFn ${e}`),"string"===typeof e)return e;{let t;for(const n of Object.keys(zce))if(zce[n]===e){t=n;break}if(void 0!==t)return t;for(const n of Object.keys(Xce))if(Xce[n]===e){t=n;break}return void 0!==t?t:e.name}}const Zce=1048576;function Jce(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==e||"object"!==typeof e||Object.getPrototypeOf(e)!==Object.prototype||!ede(e))throw new Error("User-defined metadata is expected to be a JSON object, but is not.");if(n){const n=JSON.stringify(e);n.length>Zce&&console.warn(`User-defined metadata of model "${t}" is too large in size (length=${n.length} when serialized). It is not recommended to store such large objects in user-defined metadata. Please make sure its serialized length is <= 1048576.`)}}function ede(e){if(null===e)return!0;if("object"===typeof e){if(Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);for(const n of t){if("string"!==typeof n)return!1;if(!ede(e[n]))return!1}return!0}if(Array.isArray(e)){for(const t of e)if(!ede(t))return!1;return!0}return!1}{const t=typeof e;return"string"===t||"number"===t||"boolean"===t}}function tde(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:console.log;const o=function(e){let t=!0;const n=[],r=[];for(const o in e.nodesByDepth)n.push(e.nodesByDepth[o]);for(const o of n){if(o.length>1||1===o.length&&o[0].inboundLayers.length>1){t=!1;break}r.push(...o)}if(t)for(const o of e.layers){let e=!1;for(const n of o.inboundNodes)if(-1!==r.indexOf(n)){if(e){t=!1;break}e=!0}if(!t)break}return t}(e),a=["Layer (type)","Input Shape","Output shape","Param #"];let i;if(o?(t=t||90,n=n||[.32,.61,.89,1]):(t=t||115,n=n||[.24,.48,.7,.8,1]),n[n.length-1]<=1&&(n=n.map((e=>Math.floor(t*e)))),!o){a.push("Receives inputs"),i=[];for(const t in e.nodesByDepth)i.push(...e.nodesByDepth[t])}r("_".repeat(t)),nde(a,n,r),r("=".repeat(t));const s=e.layers;for(let c=0;c<s.length;++c)o?rde(s[c],n,r):ode(s[c],n,i,r),r((c===s.length-1?"=":"_").repeat(t));e.checkTrainableWeightsConsistency();const l=function(e){let t;t=null!=e.collectedTrainableWeights?Bue(e.collectedTrainableWeights):Bue(e.trainableWeights);return t}(e),u=Bue(e.nonTrainableWeights);r(`Total params: ${l+u}`),r(`Trainable params: ${l}`),r(`Non-trainable params: ${u}`),r("_".repeat(t))}function nde(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console.log,r="";for(let o=0;o<e.length;++o)o>0&&(r=r.slice(0,r.length-1)+" "),r+=e[o],r=r.slice(0,t[o]),r+=" ".repeat(t[o]-r.length);n(r)}function rde(e,t,n){let r,o;try{o=e.inboundNodes.map((e=>JSON.stringify(e.inputShapes))).join(",")}catch(JBe){o="multiple"}try{r=JSON.stringify(e.outputShape)}catch(JBe){r="multiple"}nde([`${e.name} (${e.getClassName()})`,o,r,e.countParams().toString()],t,n)}function ode(e,t,n,r){let o,a;try{a=e.inboundNodes.map((e=>JSON.stringify(e.inputShapes))).join(",")}catch(JBe){a="multiple"}try{o=JSON.stringify(e.outputShape)}catch(JBe){o="multiple"}const i=[];for(const c of e.inboundNodes)if(!(null!=n&&n.length>0&&-1===n.indexOf(c)))for(let e=0;e<c.inboundLayers.length;++e){const t=c.inboundLayers[e].name,n=c.nodeIndices[e],r=c.tensorIndices[e];i.push(`${t}[${n}][${r}]`)}const s=e.name,l=e.getClassName(),u=0===i.length?"":i[0];nde([`${s} (${l})`,a,o,e.countParams().toString(),u],t,r);for(let c=1;c<i.length;++c)nde(["","","","",i[c]],t,r)}function ade(e,t,n){return("inboundNodes"===e||"outputLayers"===e||"inputLayers"===e)&&0===t&&"string"===typeof n}function ide(e,t){if(null===e)return null;if("string"===typeof e)return mle(e);if("number"===typeof e||"boolean"===typeof e)return e;if(e instanceof Array){const n=[],r=e.length;for(let o=0;o<r;++o){const r=e[o];ade(t,o,r)?n.push(r):n.push(ide(r,t))}return n}{const t={};for(const n of Object.keys(e)){const r=e[n];if("name"===n&&"string"===typeof r)t[n]=r;else{const e=mle(n);t[e]=ide(r,e)}}return t}}function sde(e,t){if(null===e||void 0===e)return null;if("string"===typeof e)return fle(e);if("number"===typeof e||"boolean"===typeof e)return e;if(e instanceof Array){const n=[],r=e.length;for(let o=0;o<r;++o){const r=e[o];ade(t,o,r)?n.push(r):n.push(sde(r,t))}return n}{const t={};for(const n of Object.keys(e)){const r=e[n],o=fle(n);t[o]="name"!==n&&"className"!==n||"string"!==typeof r?sde(r,n):r}return t}}const lde="4.22.0";class ude extends Que{constructor(e){if(super({}),this.containerNodes=new Set,this.name=e.name,null==this.name){const e=this.getClassName().toLowerCase();this.name=Mle(e)}if(this.supportsMasking=!1,this.trainable_=!0,Array.isArray(e.inputs)?this.inputs=e.inputs.slice():this.inputs=[e.inputs],Array.isArray(e.outputs)?this.outputs=e.outputs.slice():this.outputs=[e.outputs],wle(this.inputs).length!==this.inputs.length)throw new ale(`The list of inputs passed to the model is redundant. All inputs should only appear once. Found: ${this.inputs.map((e=>e.name))}`);wle(this.outputs).length!==this.outputs.length&&console.warn(`The list of outputs passed to the model is redundant. All outputs should only appear once. Found: ${this.outputs.map((e=>e.name))}`),this.inputLayers=[],this.inputLayersNodeIndices=[],this.inputLayersTensorIndices=[],this.outputLayers=[],this.outputLayersNodeIndices=[],this.outputLayersTensorIndices=[],this.layers=[],this.internalContainerRefs=[];for(const y of this.outputs){const e=y.sourceLayer,t=y.nodeIndex,n=y.tensorIndex;this.outputLayers.push(e),this.outputLayersNodeIndices.push(t),this.outputLayersTensorIndices.push(n)}for(const y of this.inputs){const e=y.sourceLayer,t=y.nodeIndex,n=y.tensorIndex;cle(0===t,"input layer has >1 nodes"),cle(0===n,"input layer has >1 tensors"),this.inputLayers.push(e),this.inputLayersNodeIndices.push(t),this.inputLayersTensorIndices.push(n)}this.inputNames=[],this.outputNames=[],this.feedInputShapes=[],this.feedInputNames=[],this.feedOutputNames=[];for(let y=0;y<this.inputLayers.length;y++){const t=this.inputLayers[y];if(!(t instanceof Jue))throw new TypeError(`Input layers to a LayersModel must be InputLayer objects. Received inputs: ${e.inputs}. Input ${y} (0-based) originates from layer type ${t.getClassName()}.`);this.inputNames.push(t.name),this.feedInputShapes.push(t.batchInputShape),this.feedInputNames.push(t.name)}for(const y of this.outputLayers)this.outputNames.push(y.name);this.internalInputShapes=this.inputs.map((e=>e.shape)),this.internalOutputShapes=this.outputs.map((e=>e.shape));const t={},n={},r={},o={},a={},i=[],s=(e,t,n,r,o,l)=>{null!=r&&null!=o&&null!=l||(r=e.sourceLayer,o=e.nodeIndex,l=e.tensorIndex);const u=r.inboundNodes[o];if(-1!==n.indexOf(u))throw new ole(`The tensor ${e.name} at layer "${r.name}" is part of a cycle.`);if(-1!==t.indexOf(u))return;this.containerNodes.add(ude.nodeKey(r,o)),r.id in a||(a[r.id]=Object.keys(a).length),-1===n.indexOf(u)&&n.push(u);const c=u.inboundLayers.length;for(let a=0;a<c;a++){const e=u.inputTensors[a],r=u.inboundLayers[a],o=u.nodeIndices[a],i=u.tensorIndices[a];s(e,t,n,r,o,i)}for(t.push(u);n.indexOf(u)>=0;)n.splice(n.indexOf(u),1);i.push(u)},l=[],u=[];for(const y of this.outputs)s(y,l,u);const c=i.slice().reverse();for(const y of c){n[y.id]=y,y.id in t||(t[y.id]=0);let e=t[y.id];const a=null==r[y.outboundLayer.id]?0:r[y.outboundLayer.id];e=Math.max(e,a),r[y.outboundLayer.id]=e,o[y.outboundLayer.id]=y.outboundLayer,t[y.id]=e;for(let r=0;r<y.inboundLayers.length;r++){const o=y.inboundLayers[r],a=y.nodeIndices[r],i=o.inboundNodes[a],s=null==t[i.id]?0:t[i.id];t[i.id]=Math.max(e+1,s),n[i.id]=i}}const d={};for(const y in t){const e=t[y];e in d||(d[e]=[]),d[e].push(n[y])}const p={};for(const y in r){const e=r[y];e in p||(p[e]=[]),p[e].push(o[y])}let h=Object.keys(p).map((e=>parseInt(e,10))).sort(xle);this.layers=[];for(const y of h){const e=p[y];e.sort(((e,t)=>{const n=a[e.id],r=a[t.id];return n<r?-1:n>r?1:0}));for(const t of e)t instanceof ude&&this.internalContainerRefs.push(t),this.layers.push(t)}this.layersByDepth=p,h=Object.keys(d).map((e=>parseInt(e,10))).sort(xle);const f=this.inputs.slice(),m=[];for(const y of h)for(const e of d[y]){const t=e.outboundLayer;if(null!=t){for(const n of e.inputTensors)if(-1===f.indexOf(n))throw new ole(`Graph disconnected: cannot obtain value for tensor ${n} at layer "${t.name}". The following previous layers were accessed without issue: ${m}`);for(const t of e.outputTensors)f.push(t);m.push(t.name)}}this.nodesByDepth=d;const g=this.layers.map((e=>e.name));for(const y of g){const e=g.filter((e=>e===y)).length;if(1!==e)throw new ole(`The name "${y}" is used ${e} times in the model. All layer names should be unique. Layer names: `+JSON.stringify(g))}this.outboundNodes=[],this.inboundNodes=[],new Xue({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:this.inputs.map((e=>null)),outputMasks:this.outputs.map((e=>null)),inputShapes:this.inputs.map((e=>e.shape)),outputShapes:this.outputs.map((e=>e.shape))}),this.built=!0,this._refCount=1}assertNotDisposed(){if(0===this._refCount)throw new Error(`Container '${this.name}' is already disposed.`)}dispose(){this.assertNotDisposed();const e={refCountAfterDispose:null,numDisposedVariables:0};if(0===--this._refCount){for(const t of this.layers)e.numDisposedVariables+=t.dispose().numDisposedVariables;for(const t of this.internalContainerRefs)e.numDisposedVariables+=t.dispose().numDisposedVariables}return e.refCountAfterDispose=this._refCount,e}get trainable(){return this.trainable_}set trainable(e){this.layers.forEach((t=>{t._trainableWeights.forEach((t=>t.trainable=e))})),this.trainable_=e}get trainableWeights(){if(this._trainableWeights.length>0)throw new ale("Container instance unexpectedly contains _trainableWeights.The trainable weights of a Container are a union of the trainable weights of its consituent Layers. Its own _trainableWeights must remain an empty Array.");if(!this.trainable)return[];let e=[];for(const t of this.layers)e=e.concat(t.trainableWeights);return e}get nonTrainableWeights(){const e=[];for(const t of this.layers)e.push(...t.nonTrainableWeights);if(!this.trainable){const t=[];for(const e of this.layers)t.push(...e.trainableWeights);return t.concat(e)}return e}get weights(){return this.trainableWeights.concat(this.nonTrainableWeights)}loadWeights(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n={};let r=0;const o=(e=>{const t=Object.keys(e);if(0===t.length)return!1;const n=t[0].split("/");return!isNaN(parseInt(n[n.length-1],10))})(e);o&&this.parseWeights(e);for(const i of this.layers)for(const[e,t]of i.weights.entries()){const a=o?`${t.name.split("/").slice(0,-1).join("/")+"/"}${e}`:t.originalName;if(null!=n[a])throw new ale(`Duplicate weight name: ${a}`);n[a]=t,r++}const a=[];for(const i in e){let r=i;if(null==n[i]){const e=i.split("/");r=e.slice(0,-2).concat([e[e.length-1]]).join("/")}if(null!=n[r])a.push([n[r],e[i]]);else if(t)throw new ale(`Provided weight data has no target variable: ${i}`);delete n[r]}if(t){const e=[];for(const t in n)e.push(t);if(e.length>0)throw new ale(`${e.length} of ${r} weights are not set: ${e}`)}Hue(a)}parseWeights(e){for(const t in Object.keys(e)){const n=t.split("/"),r=["vars","layer_checkpoint_dependencies"],o=n.map((e=>e.startsWith("_")?e.slice(1):e)).filter((e=>!r.includes(e))).join("/");o!==t&&(e[o]=e[t],delete e[t])}}updatedConfig(){const e=this.getConfig(),t={};return t.className=this.getClassName(),t.config=e,t.kerasVersion=`tfjs-layers ${lde}`,t.backend="TensorFlow.js",t}toJSON(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=sde(this.updatedConfig());return t?JSON.stringify(n):n}call(e,t){return T5((()=>{e=hle(e);const n=new ece;for(let t=0;t<this.inputs.length;++t)n.add(this.inputs[t],e[t]);return rce(this.outputs,n,t)}))}computeMask(e,t){return T5((()=>{let n;return e=hle(e),n=null==t?ule(null,e.length):hle(t),this.runInternalGraph(e,n)[1]}))}computeOutputShape(e){const t=Fue(e);if(t.length!==this.inputLayers.length)throw new ale(`Invalid inputShape argument ${e}: model has ${this.inputLayers.length} tensor inputs.`);const n={};for(let i=0;i<t.length;i++){const e=this.inputLayers[i],r=t[i];n[e.name+"_0_0"]=r}const r=Object.keys(this.nodesByDepth).map((e=>parseInt(e,10))).sort(xle);if(r.length>1)for(const i of r){const e=this.nodesByDepth[i];for(const t of e){const e=t.outboundLayer;if(-1!==this.inputLayers.map((e=>e.id)).indexOf(e.id))continue;const r=[];for(let i=0;i<t.inboundLayers.length;i++){const e=t.inboundLayers[i],o=t.nodeIndices[i],a=t.tensorIndices[i],s=n[`${e.name}_${o}_${a}`];r.push(s)}const o=Fue(e.computeOutputShape(ple(r))),a=e.inboundNodes.indexOf(t);for(let t=0;t<o.length;t++){n[`${e.name}_${a}_${t}`]=o[t]}}}const o=[],a=[];for(let i=0;i<this.outputLayers.length;i++){const e=this.outputLayers[i],t=this.outputLayersNodeIndices[i],n=this.outputLayersTensorIndices[i],r=`${e.name}_${t}_${n}`;a.push(r)}for(let i=0;i<a.length;i++){const e=a[i];cle(e in n),o.push(n[e])}return ple(o)}runInternalGraph(e,t){null==t&&(t=ule(null,e.length));const n={};for(let s=0;s<this.inputs.length;++s){const r=this.inputs[s],o=e[s],a=t[s];n[r.id]=[o,a]}const r=Object.keys(this.nodesByDepth).map((e=>parseInt(e,10))).sort(xle);for(const s of r){const e=this.nodesByDepth[s];for(const t of e){const e=t.outboundLayer,r=t.inputTensors,o=t.outputTensors,a=new Array;for(const t of r)t.id in n&&a.push(n[t.id]);if(a.length===r.length){let r,i,s,l,u={};if(null!=t.callArgs&&(u=t.callArgs),1===a.length){const[t,n]=a[0];null==u.mask&&(u.mask=n),s=hle(e.call(t,u)),l=hle(e.computeMask(t,n)),r=[t],i=[n]}else r=a.map((e=>e[0])),i=a.map((e=>e[1])),null==u.mask&&(u.mask=i),s=hle(e.call(r,u)),l=hle(e.computeMask(r,i));if(e.activityRegularizer)throw new ile("LayersModel invocation with concrete Tensor value(s) in the presence of activity regularizer(s) is not supported yet.");for(let e=0;e<o.length;++e){const t=o[e],r=s[e],a=l[e];n[t.id]=[r,a]}}}}const o=[],a=[],i=[];for(const s of this.outputs){cle(s.id in n,`Could not compute output ${s.name} : ${s.id}`);const[e,t]=n[s.id];i.push(e.shape),o.push(e),a.push(t)}return[o,a,i]}buildNodeConversionMap(e){const t={};let n;for(const r of this.layers){n=r instanceof ude?1:0;for(let e=0;e<r.inboundNodes.length;e++){const o=ude.nodeKey(r,e);this.containerNodes.has(o)&&(t[o]=n,n+=1)}}return t}getLayer(e,t){if(null!=t)return this.findLayer(t);if(null==e)throw new ale("Provide either a layer name or layer index");if("number"===typeof e)return this.findLayer(e);for(const n of this.layers)if(n.name===e)return n;throw new ale(`No such layer: ${e}`)}findLayer(e){if(this.layers.length<=e)throw new ale(`Was asked to retrieve layer at index ${e}, but model only has ${this.layers.length} layer(s).`);return this.layers[e]}calculateLosses(){return T5((()=>{const e=[];for(const t of this.layers)for(let n=0;n<t.inboundNodes.length;++n){const r=ude.nodeKey(t,n);this.containerNodes.has(r)&&e.push(...t.calculateLosses())}return e}))}getConfig(){const e={name:this.name},t=this.buildNodeConversionMap(this.layers),n=[];for(const a of this.layers){const e=a.getClassName(),r=a.getConfig(),o=[];for(let n=0;n<a.inboundNodes.length;n++){const e=a.inboundNodes[n],r=ude.nodeKey(a,n);let i={};if(this.containerNodes.has(r)){if(e.callArgs)try{JSON.stringify(e.callArgs),i=e.callArgs}catch(JBe){console.warn(`Layer ${a.name} was passed non-serializable keyword arguments: ${e.callArgs}. They will not be included in the serialized model (and thus will be missing at deserialization time).`),i={}}if(e.inboundLayers.length>0){const n=[];for(let r=0;r<e.inboundLayers.length;r++){const o=e.inboundLayers[r],a=e.nodeIndices[r],s=e.tensorIndices[r];let l=t[ude.nodeKey(o,a)];null==l&&(l=0),n.push([o.name,l,s,i])}o.push(n)}}}const i={};i.name=a.name,i.className=e,i.config=r,i.inboundNodes=o,n.push(i)}e.layers=n;const r=[];for(let a=0;a<this.inputLayers.length;a++){const e=this.inputLayers[a],n=this.inputLayersNodeIndices[a],o=ude.nodeKey(e,n);if(!this.containerNodes.has(o))continue;let i=t[o];null!==i&&void 0!==i||(i=0);const s=this.inputLayersTensorIndices[a];r.push([e.name,i,s])}e.inputLayers=r;const o=[];for(let a=0;a<this.outputLayers.length;a++){const e=this.outputLayers[a],n=this.outputLayersNodeIndices[a],r=ude.nodeKey(e,n);if(!this.containerNodes.has(r))continue;let i=t[r];null!==i&&void 0!==i||(i=0);const s=this.outputLayersTensorIndices[a];o.push([e.name,i,s])}return e.outputLayers=o,e}static fromConfig(e,t){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r={},o={};function a(e,t){e.name in o?o[e.name].push(t):o[e.name]=[t]}function i(e,t){const n=[];let o;for(const i of t){const s=i[0],l=i[1],u=i[2];if(o=null==i[3]?{}:i[3],!(s in r))return void a(e,t);const c=r[s];if(c.inboundNodes.length<=l)return void a(e,t);const d=c.inboundNodes[l];n.push(d.outputTensors[u])}n.length>0&&e.apply(ple(n),o)}function s(e){const o=e.name,i=Nce(e,null!=t.customObjects?t.customObjects:{});i.setFastWeightInitDuringBuild(n),r[o]=i;e.inboundNodes.forEach((e=>{if(!(e instanceof Array))throw new ale(`Corrupted configuration, expected array for nodeData: ${e}`);a(i,e)}))}const l=t.name,u=t.layers;for(const f of u)s(f);for(;!kle(o);)for(const e of u){const t=r[e.name];if(t.name in o){const e=o[t.name];delete o[t.name];for(const n of e)i(t,n)}}const c=[],d=[],p=t.inputLayers;for(const f of p){const e=f[0],t=f[1],n=f[2];cle(e in r);const o=r[e].inboundNodes[t].outputTensors;c.push(o[n])}const h=t.outputLayers;for(const f of h){const e=f[0],t=f[1],n=f[2];cle(e in r);const o=r[e].inboundNodes[t].outputTensors;d.push(o[n])}return new e({inputs:c,outputs:d,name:l})}get stateful(){if(this._stateful)throw new ale("Container instance unexpectedly has _stateful = true. The statefulness of a Container is determined by the Layers it contains. Its _stateful property must remain the default false.");for(const e of this.layers)if(e.stateful)return!0;return!1}resetStates(){T5((()=>{this.layers.forEach((e=>{e.stateful&&e.resetStates()}))}))}}function cde(e,t,n){const r=t.length;if(null==e||Array.isArray(e)&&0===e.length)return t.map((e=>null));if(1===r)return Array.isArray(e)&&1===e.length?e:"object"===typeof e&&t[0]in e?[e[t[0]]]:[e];if(Array.isArray(e)){if(e.length!==r)throw new Error(`Provided ${n} is an array of ${e.length} element(s), but the model has ${r} outputs. Make sure a set of weights is provided for each model output.`);return e}if("object"===typeof e&&Object.keys(e).length>0&&"object"===typeof e[Object.keys(e)[0]]){const n=[];return t.forEach((t=>{t in e?n.push(e[t]):n.push(null)})),n}throw new Error(`The model has multiple (${r}) outputs, so ${n} must be either an array with ${r} elements or an object with ${t} keys. Provided ${n} not understood: ${JSON.stringify(e)}`)}function dde(e,t){return cde(e,t,"classWeight")}async function pde(e,t,n,r){if(null!=t||null!=r)throw new Error("Support sampleWeight is not implemented yet");if(null!=n){const t=T5((()=>{if(1===e.shape.length)return V6(e);if(2===e.shape.length){if(e.shape[1]>1){return n7(e,1)}if(1===e.shape[1])return A7(e,[e.shape[0]]);throw new Error(`Encountered unexpected last-dimension size (${e.shape[1]}) during handling of class weights. The size is expected to be >= 1.`)}throw new Error(`Unexpected rank of target (y) tensor (${e.rank}) during handling of class weights. The rank is expected to be 1 or 2.`)})),r=Array.from(await t.data());I5(t);const o=[];return r.forEach((e=>{if(null==n[e])throw new Error(`classWeight must contain all classes in the training data. The class ${e} exists in the data but not in classWeight`);o.push(n[e])})),Ane(o,"float32")}return null}function hde(e,t){return K6(e,t)}function fde(e,t){let n,r;const o=t;n=o.xs,r=o.ys,xJ(null!=n&&null!=r,(()=>`A Dataset iterator for fitDataset() is expected to generate objects of the form \`{xs: xVal, ys: yVal}\`, where the two values may be \`tf.Tensor\`, an array of Tensors, or a map of string to Tensor.  The provided Dataset instead generates ${t}`));const a=mde("input",e.inputNames,n),i=mde("output",e.outputNames,r),s=a[0].shape[0];xJ(a.length===e.inputs.length,(()=>`LayersModel has ${e.inputs.length} inputs, but the dataset provides ${a.length} inputs.  (Expected input keys: ${JSON.stringify(e.inputNames)})`)),xJ(i.length===e.outputs.length,(()=>`LayersModel has ${e.outputs.length} outputs, but the dataset provides ${i.length} outputs.  (Expected output keys: ${JSON.stringify(e.outputNames)})`));for(let l=0;l<a.length;l++)xJ(a[l].shape[0]===s,(()=>`Batch size mismatch: input ${e.inputNames[l]} has ${a[l].shape[0]}; expected  ${s} based on input ${e.inputNames[0]}.`));for(let l=0;l<i.length;l++)xJ(i[l].shape[0]===s,(()=>`Batch size mismatch: output ${e.outputNames[l]} has ${i[l].shape[0]}; expected  ${s} based on input ${e.inputNames[0]}.`));return{xs:a,ys:i}}function mde(e,t,n){if(n instanceof T4)return[n];if(Array.isArray(n))return xJ(n.length===t.length,(()=>`Received an array of ${n.length} Tensors, but expected ${t.length} to match the ${e} keys ${t}.`)),n;{const r=[];for(const o of t){if(null==n[o])throw new ale(`The feature data generated by the dataset lacks the required ${e} key '${o}'.`);r.push(n[o])}return r}}async function gde(e,t,n){const r=null!=n.batchesPerEpoch;if(xJ(null!=e.optimizer,(()=>"You must compile a model before training/testing. Use LayersModel.compile(modelCompileConfig).")),xJ(null!=n,(()=>"For fitDataset(), the 2nd argument (config) is required, but it is not provided in this call.")),xJ(null!=n.epochs&&n.epochs>0&&Number.isInteger(n.epochs),(()=>`For fitDataset(), config.epochs is expected to be a positive integer, but got ${n.epochs}`)),xJ(!r||n.batchesPerEpoch>0&&Number.isInteger(n.batchesPerEpoch),(()=>`For fitDataset(), config.batchesPerEpoch is expected to be a positive integer if specified, but got ${n.batchesPerEpoch}`)),xJ(null==n.validationSplit,(()=>"`validationSplit` is not supported by `fitDataset()`. Use validationData instead.")),e.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");e.isTraining=!0;try{const o=null!=n.validationData;let a,i;if(o)if(yde(n.validationData))xJ(null==n.validationBatches||n.validationBatches>0&&Number.isInteger(n.validationBatches),(()=>`For fitDataset() with dataset-based validation, config.validationBatches is expected not to be provided, or to be a positive integer, but got ${n.validationBatches}`));else{const e=function(e){if(3===e.length)throw new ile("Validation with sample weights is not implemented yet.");return{xs:e[0],ys:e[1]}}(n.validationData);a=e.xs,i=e.ys}const s=e.makeTrainFunction(),l=e.getDedupedMetricsNames();let u;u=o?l.slice().concat(l.map((e=>"val_"+e))):l.slice();const c=Tce(n.callbacks,n.yieldEvery),d=null==n.verbose?1:n.verbose,{callbackList:p,history:h}=Ece(c,d,n.epochs,null,null,function(e,t){let n=null;null!=t.batchesPerEpoch?n=t.batchesPerEpoch:Number.isFinite(e.size)&&(n=e.size);return n}(t,n),null,o,u);p.setModel(e),e.history=h,await p.onTrainBegin(),e.stopTraining_=!1;let f=null==n.initialEpoch?0:n.initialEpoch,m=await t.iterator();for(;f<n.epochs;){const u={};await p.onEpochBegin(f);let c=0,d=0;for(r||(m=await t.iterator());!r||c<n.batchesPerEpoch;){const t=await m.next();if(r&&t.done){console.warn(`You provided \`batchesPerEpoch\` as ${n.batchesPerEpoch}, but your dataset iterator ran out of data after ${c} batches; interrupting training. Make sure that your dataset can generate at least \`batchesPerEpoch * epochs\` batches (in this case, `+n.batchesPerEpoch*n.epochs+" batches). You may need to use the repeat() function when building your dataset.");break}if(null!=t.value){const{xs:r,ys:o}=fde(e,t.value),a={};a.batch=d,a.size=r[0].shape[0],await p.onBatchBegin(d,a);const i=[];if(null!=n.classWeight){const t=dde(n.classWeight,e.outputNames);for(let e=0;e<t.length;++e)i.push(await pde(o[e],null,t[e]))}const u=r.concat(o).concat(i),h=s(u);I5(u);for(let e=0;e<l.length;++e){const t=l[e],n=h[e];a[t]=n,E5(n)}await p.onBatchEnd(d,a),vce(a),d++,c++}if(r?c>=n.batchesPerEpoch:t.done){if(o){let t;t=yde(n.validationData)?hle(await e.evaluateDataset(n.validationData,{batches:n.validationBatches})):hle(e.evaluate(a,i,{batchSize:null==n.validationBatchSize?32:n.validationBatchSize,verbose:0}));for(let n=0;n<e.metricsNames.length;++n)u[`val_${e.metricsNames[n]}`]=t[n]}break}if(e.stopTraining_)break}if(await p.onEpochEnd(f,u),f++,e.stopTraining_)break}return await p.onTrainEnd(),await e.history.syncData(),e.history}finally{e.isTraining=!1}}function yde(e){return"function"===typeof e.iterator}function vde(e){xJ(e>0&&Number.isInteger(e),(()=>`batchSize is required to be a positive integer, but got ${e}`))}function bde(e,t,n){return null==e?[null]:Array.isArray(e)?e.map((e=>tue(e,t,n-t))):tue(e,t,n-t)}function xde(e,t){return T5((()=>null==e?null:Array.isArray(e)?e.map((e=>xde(e,t))):uue(e,"int32"===t.dtype?t:W6(t,"int32"))))}function wde(e,t){const n=[];let r=0,o=null;for(;r<e;)o=r+t,o>=e&&(o=e),n.push([r,o]),r=o;return n}function kde(e){const t=[];e instanceof T4&&(e=[e]);for(let n=0;n<e.length;++n){const r=e[n];if(1===r.rank)t.push(eue(r,1));else{if(0===r.rank)throw new Error("Expected tensor to be at least 1D, but received a 0D tensor (scalar).");t.push(r)}}return t}function Sde(e,t){if(null==e)return;const n=[];if(t instanceof T4)n.push(t.id);else if(Array.isArray(t))t.forEach((e=>n.push(e.id)));else if(null!=t)for(const o in t){const e=t[o];n.push(e.id)}const r=[];if(e instanceof T4)-1===n.indexOf(e.id)&&r.push(e);else if(Array.isArray(e))e.forEach((e=>{-1===n.indexOf(e.id)&&r.push(e)}));else if(null!=e)for(const o in e){const t=e[o];-1===n.indexOf(t.id)&&r.push(t)}r.forEach((e=>{e.isDisposed||e.dispose()}))}function Ade(e){return Array.isArray(e)}function Cde(e){return!function(e){return e instanceof T4}(e)&&!Ade(e)}function Tde(e,t,n){let r,o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";if(null==t||0===t.length){if(null!=e){let t=!1;if(Ade(e)&&e.length>0)t=!0;else if(Cde(e)){for(const n in e)if(e.hasOwnProperty(n)){t=!0;break}}else t=!0;if(t)throw new ale(`Error when checking model ${a} expected no data, but got ${e}`)}return[]}if(null==e)return t.map((e=>null));if(Cde(e)){r=[];for(const n of t){if(null==e[n])throw new ale(`No data provided for "${n}". Need data for each key in: ${t}`);r.push(e[n])}}else if(Ade(e)){if(e.length!==t.length)throw new ale(`Error when checking model ${a}: the Array of Tensors that you are passing to your model is not the size the model expected. Expected to see ${t.length} Tensor(s), but instead got the following list of Tensor(s): ${e}`);r=e}else{if(t.length>1)throw new ale(`The model ${a} expects ${t.length} Tensor(s), but only received one Tensor. Found: Tensor with shape ${e.shape}`);r=[e]}if(r=kde(r),null!=n)for(let i=0;i<t.length;++i){if(null==n[i])continue;const e=r[i];if(e.shape.length!==n[i].length)throw new ale(`Error when checking ${a}: expected ${t[i]} to have ${n[i].length} dimension(s). but got array with shape ${e.shape}`);for(let t=0;t<n[i].length;++t){if(0===t&&!o)continue;const r=e.shape[t],s=n[i][t];if(null!=s&&s>=0&&r!==s)throw new ale(`${a} expected a batch of elements where each example has shape [${n[i].slice(1,n[i].length)}] (i.e.,tensor shape [*,${n[i].slice(1,n[i].length)}]) but the ${a} received an input with ${e.shape[0]} examples, each with shape [${e.shape.slice(1,e.shape.length)}] (tensor shape [${e.shape}])`)}}return r}function Ide(e,t,n){let r,o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";if(Array.isArray(e)){if(e.length!==t.length)throw new ale(`Error when checking model ${a}: the Array of Tensors that you are passing to your model is not the size the the model expected. Expected to see ${t.length} Tensor(s), but instead got ${e.length} Tensors(s).`);r=e}else{if(t.length>1)throw new ale(`The model expects ${t.length} ${a} Tensors, but only received one Tensor. Found: array with shape ${JSON.stringify(e.shape)}.`);r=[e]}if(null!=n)for(let i=0;i<t.length;++i){if(null==n[i])continue;const e=r[i];if(e.shape.length!==n[i].length)throw new ale(`Error when checking ${a}: expected ${t[i]} to have ${n[i].length} dimension(s), but got array with shape ${JSON.stringify(e.shape)}`);for(let r=0;r<n[i].length;++r){if(0===r&&!o)continue;const s=e.shape[r],l=n[i][r];if(null!=l&&l!==s)throw new ale(`Error when checking ${a}: expected ${t[i]} to have shape ${JSON.stringify(n[i])} but got array with shape ${JSON.stringify(e.shape)}.`)}}}class Ede extends ude{constructor(e){super(e),this.isTraining=!1}summary(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console.log;if(!this.built)throw new ale("This model has never been called, thus its weights have not been created yet. So no summary can be displayed. Build the model first (e.g., by calling it on some test data).");tde(this,e,t,n)}compile(e){if(null==e.loss&&(e.loss=[]),this.loss=e.loss,"string"===typeof e.optimizer)this.optimizer_=function(e){const t={Adagrad:()=>toe.adagrad(.01),Adadelta:()=>toe.adadelta(1,.95,Zle()),Adam:()=>toe.adam(.001,.9,.999,Zle()),Adamax:()=>toe.adamax(.002,.9,.999,Zle(),0),RMSProp:()=>toe.rmsprop(.001,.9,0,Zle()),SGD:()=>toe.sgd(.01)};if(t.adagrad=t.Adagrad,t.adadelta=t.Adadelta,t.adam=t.Adam,t.adamax=t.Adamax,t.rmsprop=t.RMSProp,t.sgd=t.SGD,e in t)return t[e]();throw new ale(`Unknown Optimizer ${e}`)}(e.optimizer),this.isOptimizerOwned=!0;else{if(!(e.optimizer instanceof p8))throw new ale("User-defined optimizer must be an instance of tf.Optimizer.");this.optimizer_=e.optimizer,this.isOptimizerOwned=!1}let t=[];if(Array.isArray(e.loss)||"string"===typeof e.loss||"function"===typeof e.loss)if(Array.isArray(e.loss)){if(e.loss.length!==this.outputs.length)throw new ale(`When passing an Array as loss, it should have one entry per model output. The model has ${this.outputs.length} output(s), but you passed loss=${e.loss}.`);const n=e.loss;t=n.map((e=>Bce(e)))}else{const n=Bce(e.loss);this.outputs.forEach((e=>{t.push(n)}))}else{e.loss=e.loss;for(const t in e.loss)if(-1===this.outputNames.indexOf(t))throw new ale(`Unknown entry in loss dictionary: "${t}". Only expected the following keys: ${this.outputNames}`);for(const n of this.outputNames)null==e.loss[n]&&console.warn(`Output "${n}" is missing from loss dictionary. We assume this was done on purpose, and we will not be expecting data to be passed to ${n} during training`),t.push(Bce(e.loss[n]))}this.lossFunctions=t,this.feedOutputNames=[],this.feedOutputShapes=[],this.feedLossFns=[];for(let a=0;a<this.outputs.length;++a){const e=this.internalOutputShapes[a],t=this.outputNames[a];this.feedOutputNames.push(t),this.feedOutputShapes.push(e),this.feedLossFns.push(this.lossFunctions[a])}const n=[];this.metrics=e.metrics,this.metricsNames=["loss"],this.metricsTensors=[],Wle("loss",(()=>{for(let e=0;e<this.outputs.length;++e){if(-1!==n.indexOf(e))continue;const t=this.lossFunctions[e];this.outputs.length>1&&(this.metricsTensors.push([t,e]),this.metricsNames.push(this.outputNames[e]+"_loss"))}}));const r=function(e,t){if(null==e||Array.isArray(e)&&0===e.length)return t.map((e=>[]));let n;if("string"===typeof e||"function"===typeof e)n=[e];else{if(!Array.isArray(e)&&"object"!==typeof e)throw new TypeError(`Type of metrics argument not understood. Expected an string,function, Array, or Object, found: ${e}`);n=e}if(Array.isArray(n))return t.map((e=>n));{const e=[];for(const r of t){let t=n.hasOwnProperty(r)?n[r]:[];Array.isArray(t)||(t=[t]),e.push(t)}return e}}(e.metrics,this.outputNames),o=(e,t,n)=>{this.outputNames.length>1&&(t=this.outputNames[e]+"_"+t),this.metricsNames.push(t),this.metricsTensors.push([n,e])};Wle("metric",(()=>{for(let e=0;e<this.outputs.length;++e){if(-1!==n.indexOf(e))continue;(t=>{let n,r,a;for(const i of t){if("string"===typeof i&&-1!==["accuracy","acc","crossentropy","ce"].indexOf(i)){const t=this.internalOutputShapes[e];let o;1===t[t.length-1]||this.lossFunctions[e]===_ce?-1!==["accuracy","acc"].indexOf(i)?r=Wce:-1!==["crossentropy","ce"].indexOf(i)&&(r=Hce):this.lossFunctions[e]===jce?-1!==["accuracy","acc"].indexOf(i)?r=Gce:-1!==["crossentropy","ce"].indexOf(i)&&(r=Kce):-1!==["accuracy","acc"].indexOf(i)?r=Vce:-1!==["crossentropy","ce"].indexOf(i)&&(r=qce),-1!==["accuracy","acc"].indexOf(i)?o="acc":-1!==["crossentropy","ce"].indexOf(i)&&(o="ce"),a=r,n=""+o}else{const e=Yce(i);a=e,n=""+Qce(i)}let t;Wle(n,(()=>{t=a})),o(e,n,t)}})(r[e])}})),this.collectedTrainableWeights=this.trainableWeights}checkTrainableWeightsConsistency(){null!=this.collectedTrainableWeights&&this.trainableWeights.length!==this.collectedTrainableWeights.length&&console.warn("Discrepancy between trainableweights and collected trainable weights. Did you set `model.trainable` without calling `model.compile()` afterwards?")}evaluate(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=null==n.batchSize?32:n.batchSize;vde(r);const o=this.standardizeUserDataXY(e,t,!0,r);try{const e=o[0].concat(o[1]);this.makeTestFunction();const t=this.testFunction;return ple(this.testLoop(t,e,r,n.verbose,n.steps))}finally{Sde(o[0],e),Sde(o[1],t)}}async evaluateDataset(e,t){return this.makeTestFunction(),async function(e,t,n){const r=null!=(n=n||{}).batches,o=e.testFunction;let a=[];if(n.verbose>0)throw new ile("Verbose mode is not implemented yet.");xJ(!r||n.batches>0&&Number.isInteger(n.batches),(()=>`Test loop expects \`batches\` to be a positive integer, but received ${JSON.stringify(n.batches)}`));const i="function"===typeof t.next?t:await t.iterator();let s=0,l=0;for(;!r||l<n.batches;){const t=await i.next();if(a=T5((()=>{if(t.value){const{xs:n,ys:r}=fde(e,t.value),i=n.concat(r),u=T5((()=>o(i)));if(I5(i),0===l)for(let e=0;e<u.length;++e)a.push(a8(0));const c=i[0].shape[0];for(let e=0;e<u.length;++e){const t=u[e],n=a[e];a[e]=T5((()=>H6(a[e],K6(c,t)))),l>0&&I5(n)}I5(u),s+=c,++l}return a})),t.done){r&&console.warn(`Your dataset iterator ran out of data during evaluateDataset(). Interrupting evalution. Make sure that your dataset can generate at least \`batches\` batches (in this case, ${n.batches} batches). You may need to use the repeat() function when building your dataset.`);break}}for(let u=0;u<a.length;++u){const e=a[u];a[u]=q6(a[u],s),I5(e)}return ple(a)}(this,e,t)}checkNumSamples(e,t,n){let r,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"steps";if(null!=n){if(r=null,null!=t)throw new ale(`If ${o} is set, batchSize must be null or undefined.Got batchSize = ${t}`)}else{if(null==e)throw new ale(`Either the input data should have a defined shape, or ${o} shoud be specified.`);r=Array.isArray(e)?e[0].shape[0]:e.shape[0]}return r}execute(e,t){if(Array.isArray(t)&&0===t.length)throw new ale("`outputs` is an empty Array, which is not allowed.");const n=Array.isArray(t),r=n?t:[t],o=this.retrieveSymbolicTensors(r),a=new ece;if(e instanceof T4&&(e=[e]),Array.isArray(e)){if(e.length!==this.inputs.length)throw new ale(`The number of inputs provided (${e.length}) does not match the number of inputs of this model (${this.inputs.length}).`);for(let t=0;t<this.inputs.length;++t)a.add(this.inputs[t],e[t])}else for(const s of this.inputs){const t=e[s.name];if(null==t)throw new ale(`No value is provided for the model's input ${s.name}`);a.add(s,t)}const i=rce(o,a);return n?i:i[0]}retrieveSymbolicTensors(e){const t=ule(null,e.length);let n=e.length;for(const r of this.layers){const o=Array.isArray(r.output)?r.output:[r.output],a=o.map((e=>e.name));for(let r=0;r<e.length;++r){const i=a.indexOf(e[r]);if(-1!==i&&(t[r]=o[i],n--),0===n)break}if(0===n)break}if(n>0){const n=[];throw t.forEach(((t,r)=>{null==t&&n.push(e[r])})),new ale(`Cannot find SymbolicTensors for output name(s): ${JSON.stringify(n)}`)}return t}predictLoop(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return T5((()=>{const r=this.checkNumSamples(e);if(n)throw new ile("Verbose predictLoop() is not implemented yet.");const o=wde(r,t),a=this.outputs.map((e=>[]));for(let t=0;t<o.length;++t){T5((()=>{const n=o[t][0],r=o[t][1],a=bde(e,n,r),i=[];if(Array.isArray(a))for(let e=0;e<a.length;++e)i.push({key:this.inputs[e],value:a[e]});else i.push({key:this.inputs[0],value:a});const s=new ece(i);return rce(this.outputs,s)})).forEach(((e,t)=>a[t].push(e)))}return ple(a.map((e=>I7(e,0))))}))}predict(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=kde(e);Ide(n,this.inputNames,this.feedInputShapes,!1);try{const e=null==t.batchSize?32:t.batchSize;return vde(e),this.predictLoop(n,e)}finally{Sde(n,e)}}predictOnBatch(e){Ide(e,this.inputNames,this.feedInputShapes,!0);const t=(Array.isArray(e)?e[0]:e).shape[0];return this.predictLoop(e,t)}standardizeUserDataXY(e,t){let n=arguments.length>3?arguments[3]:void 0;if(null==this.optimizer_)throw new ole("You must compile a model before training/testing. Use LayersModel.compile(modelCompileArgs).");const r=[];for(let o=0;o<this.feedOutputShapes.length;++o){const e=this.feedOutputShapes[o];this.feedLossFns[o]===jce?r.push(e.slice(0,e.length-1).concat([1])):r.push(e)}if(function(e,t){const n=wle(e.map((e=>e.shape[0])));n.sort();const r=wle(t.map((e=>e.shape[0])));if(r.sort(),n.length>1)throw new ale(`All input Tensors (x) should have the same number of samples. Got array shapes: ${JSON.stringify(e.map((e=>e.shape)))}`);if(r.length>1)throw new ale(`All target Tensors (y) should have the same number of samples. Got array shapes: ${JSON.stringify(t.map((e=>e.shape)))}`);if(n.length>0&&r.length>0&&!TJ(n,r))throw new ale(`Input Tensors should have the same number of samples as target Tensors. Found ${n[0]} input sample(s) and ${r[0]} target sample(s).`)}(e=Tde(e,this.feedInputNames,this.feedInputShapes,!1,"input"),t=Tde(t,this.feedOutputNames,r,!1,"target")),function(e,t,n){const r=[Mce,_ce,$ce];for(let o=0;o<e.length;++o){const a=e[o],i=t[o],s=n[o];if(null!=i){if(i===$ce&&1===a.shape[a.shape.length-1])throw new ale(`You are passing a target array of shape ${a.shape} while using a loss 'categorical_crossentropy'. 'categorical_crossentropy'expects targets to be binary matrices (1s and 0s) of shape [samples, classes].`);if(-1!==r.indexOf(i)){const e=a.shape.slice(1),t=s.slice(1);for(let n=0;n<e.length;++n){const r=e[n],o=t[n];if(null!=o&&r!==o)throw new ale(`A target Tensor with shape ${a.shape} was passed for an output of shape ${s}, while using a loss function that expects targets to have the same shape as the output.`)}}}}}(t,this.feedLossFns,this.feedOutputShapes),this.stateful&&null!=n&&n>0&&e[0].shape[0]%n!==0)throw new ale(`In a stateful network, you should only pass inputs with a number of samples that is divisible by the batch size ${n}. Found: ${e[0].shape[0]} sample(s).`);return[e,t]}async standardizeUserData(e,t,n,r){let o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=arguments.length>5?arguments[5]:void 0;const[i,s]=this.standardizeUserDataXY(e,t,o,a);if(null!=n)throw new Error("sample weight is not supported yet.");let l=null;if(null!=r){const e=dde(r,this.outputNames);l=[];for(let t=0;t<e.length;++t)l.push(await pde(s[t],null,e[t]))}return[i,s,l]}testLoop(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4?arguments[4]:void 0;return T5((()=>{const a=this.checkNumSamples(t,n,o,"steps"),i=[];if(r>0)throw new ile("Verbose mode is not implemented yet.");if(null!=o)throw new ile("steps mode in testLoop() is not implemented yet");{const r=wde(a,n),o=Ane(Yle(0,a));for(let n=0;n<r.length;++n){const a=r[n][0],s=r[n][1],l=tue(o,a,s-a),u=xde(t,l),c=e(u);if(0===n)for(let e=0;e<c.length;++e)i.push(a8(0));for(let e=0;e<c.length;++e){const t=c[e];i[e]=H6(i[e],K6(s-a,t))}}for(let e=0;e<i.length;++e)i[e]=q6(i[e],a)}return i}))}getDedupedMetricsNames(){const e=this.metricsNames,t=[];for(let n=0;n<e.length;++n){const r=e[n];let o=r;if(dle(e,r)>1){o+=`_${dle(e.slice(0,n),r)}`}t.push(o)}return t}makeTrainFunction(){return e=>{const t=[],n=e.slice(0,this.inputs.length),r=e.slice(this.inputs.length,this.inputs.length+this.outputs.length),o=e.slice(this.inputs.length+this.outputs.length,this.inputs.length+2*this.outputs.length),a=[],i=this.collectedTrainableWeights.map((e=>e.read()));return[this.optimizer_.minimize((()=>{const e=[];for(let t=0;t<this.inputs.length;++t)e.push({key:this.inputs[t],value:n[t]});const i=new ece(e),s=rce(this.outputs,i,{training:!0});let l;for(let n=0;n<this.lossFunctions.length;++n){let e=(0,this.lossFunctions[n])(r[n],s[n]);null!=o[n]&&(e=hde(e,o[n]));const a=cte(e);t.push(a),l=0===n?e:H6(l,e)}for(let n=0;n<this.metricsTensors.length;++n){let e;if(this.outputs.length>1&&n<this.outputs.length)e=t[n];else{const t=this.metricsTensors[n][0],o=this.metricsTensors[n][1];e=cte(t(r[o],s[o]))}E5(e),a.push(e)}return l=cte(l),this.calculateLosses().forEach((e=>{l=H6(l,e)})),l}),!0,i)].concat(a)}}makeTestFunction(){this.testFunction=e=>T5((()=>{const t=[];let n;const r=e.slice(0,this.inputs.length),o=e.slice(this.inputs.length,this.inputs.length+this.outputs.length),a=[];for(let e=0;e<this.inputs.length;++e)a.push({key:this.inputs[e],value:r[e]});const i=new ece(a),s=rce(this.outputs,i);for(let e=0;e<this.lossFunctions.length;++e){const r=this.lossFunctions[e],a=cte(r(o[e],s[e]));n=0===e?a:H6(n,a),t.push(n)}for(let e=0;e<this.metricsTensors.length;++e){const n=this.metricsTensors[e][0],r=this.metricsTensors[e][1],a=cte(n(o[r],s[r]));t.push(a)}return t}))}async fit(e,t){let n,r,o,a,i,s,l,u,c,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");this.isTraining=!0;try{const p=null==d.batchSize?32:d.batchSize;vde(p);const h=!1,f=await this.standardizeUserData(e,t,d.sampleWeight,d.classWeight,h,p);n=f[0],r=f[1],c=f[2];let m,g=!1;if(null!=d.validationData&&d.validationData.length>0){if(g=!0,2!==d.validationData.length)throw 3===d.validationData.length?new ile("validationData including sample weights is not supported yet."):new ale(`When passing validation data, it must contain 2 (valX, valY) or 3 (valX, valY, valSampleWeight) items; ${d.validationData} is invalid.`);i=d.validationData[0],s=d.validationData[1];const e=!0,t=await this.standardizeUserData(i,s,null,null,e,p);l=t[0],u=t[1],m=l.concat(u)}else if(null!=d.validationSplit&&d.validationSplit>0&&d.validationSplit<1){g=!0;const e=Math.floor(n[0].shape[0]*(1-d.validationSplit)),t=n[0].shape[0];l=bde(n,e,t),o=n,n=bde(n,0,e),u=bde(r,e,t),a=r,r=bde(r,0,e),m=l.concat(u)}else null!=d.validationSteps&&(g=!0);const y=n.concat(r).concat(c);this.checkTrainableWeightsConsistency();const v=this.makeTrainFunction(),b=this.getDedupedMetricsNames();let x,w;g?(this.makeTestFunction(),x=this.testFunction,w=b.slice().concat(b.map((e=>"val_"+e)))):(x=null,m=[],w=b.slice());const k=Tce(d.callbacks,d.yieldEvery);return await this.fitLoop(v,y,b,p,d.epochs,d.verbose,k,x,m,d.shuffle,w,d.initialEpoch,null,null)}finally{this.isTraining=!1,Sde(n,e),Sde(r,t),Sde(o,e),Sde(a,t),Sde(l,i),Sde(u,s),null!=c&&I5(c)}}async fitLoop(e,t,n,r,o,a,i,s,l,u,c,d,p,h){null==r&&(r=32),null==o&&(o=1),null==u&&(u=!0),null==d&&(d=0);let f=!1;if(null!=s&&null!=l&&(f=!0),null!=h&&(f=!0,null==p))throw new ale("Can only use `validationSteps` when doing step-wise training, i.e., `stepsPerEpoch` must be set.");const m=this.checkNumSamples(t,r,p,"steps_per_epoch");let g;null!=m&&(g=Yle(0,m)),null==a&&(a=1);const{callbackList:y,history:v}=Ece(i,a,o,d,m,p,r,f,c);y.setModel(this),this.history=v,await y.onTrainBegin(),this.stopTraining_=!1;for(let b=d;b<o;++b){await y.onEpochBegin(b);const o={};if(null!=p)throw new ile("stepsPerEpoch mode is not implemented yet.");{if("batch"===u)throw new ile("batch shuffling is not implemneted yet");u&&pJ(g);const a=Ane(g),i=wde(m,r);for(let u=0;u<i.length;++u){const c={};if(await y.onBatchBegin(u,c),T5((()=>{const d=i[u][0],p=i[u][1],h=tue(a,d,p-d);c.batch=u,c.size=p-d;const m=xde(t,h),g=e(m);for(let e=0;e<n.length;++e){const t=n[e],r=g[e];c[t]=r,E5(r)}if(u===i.length-1&&f){const e=this.testLoop(s,l,r);for(let t=0;t<n.length;++t){const r=n[t],a=e[t];E5(a),o["val_"+r]=a}}})),await y.onBatchEnd(u,c),vce(c),this.stopTraining_)break}a.dispose()}if(await y.onEpochEnd(b,o),this.stopTraining_)break}return await y.onTrainEnd(),await this.history.syncData(),this.history}async fitDataset(e,t){return gde(this,e,t)}async trainOnBatch(e,t){const n=await this.standardizeUserData(e,t),r=n[0],o=n[1],a=this.makeTrainFunction()(r.concat(o)),i=[];for(const s of a){const e=await s.data();i.push(e[0])}return I5(a),Sde(n[0],e),Sde(n[1],t),ple(i)}getNamedWeights(e){const t=[],n=null!=e&&e.trainableOnly,r=n?this.trainableWeights:this.weights,o=this.getWeights(n);for(let a=0;a<r.length;++a)n&&!r[a].trainable||t.push({name:r[a].originalName,tensor:o[a]});return t}set stopTraining(e){this.stopTraining_=e}get stopTraining(){return this.stopTraining_}get optimizer(){return this.optimizer_}set optimizer(e){this.optimizer_!==e&&(this.optimizer_=e,this.isOptimizerOwned=!1)}dispose(){const e=super.dispose();if(0===e.refCountAfterDispose&&null!=this.optimizer&&this.isOptimizerOwned){const t=A5().numTensors;this.optimizer_.dispose(),e.numDisposedVariables+=t-A5().numTensors}return e}getLossIdentifiers(){let e;if("string"===typeof this.loss)e=fle(this.loss);else if(Array.isArray(this.loss)){for(const e of this.loss)if("string"!==typeof e)throw new Error("Serialization of non-string loss is not supported.");e=this.loss.map((e=>fle(e)))}else{const t=Object.keys(this.loss);e={};const n=this.loss;for(const r of t){if("string"!==typeof n[r])throw new Error("Serialization of non-string loss is not supported.");e[r]=fle(n[r])}}return e}getMetricIdentifiers(){if("string"===typeof this.metrics||"function"===typeof this.metrics)return[fle(Qce(this.metrics))];if(Array.isArray(this.metrics))return this.metrics.map((e=>fle(Qce(e))));{const e={};for(const t in this.metrics)e[t]=fle(Qce(this.metrics[t]));return e}}getTrainingConfig(){return{loss:this.getLossIdentifiers(),metrics:this.getMetricIdentifiers(),optimizer_config:{class_name:this.optimizer.getClassName(),config:this.optimizer.getConfig()}}}loadTrainingConfig(e){if(null!=e.weighted_metrics)throw new Error("Loading weight_metrics is not supported yet.");if(null!=e.loss_weights)throw new Error("Loading loss_weights is not supported yet.");if(null!=e.sample_weight_mode)throw new Error("Loading sample_weight_mode is not supported yet.");const t=Nce(ide(e.optimizer_config));let n,r;if("string"===typeof e.loss)n=mle(e.loss);else if(Array.isArray(e.loss))n=e.loss.map((e=>mle(e)));else if(null!=e.loss){n={};for(const t in e.loss)n[t]=mle(e.loss[t])}if(Array.isArray(e.metrics))r=e.metrics.map((e=>mle(e)));else if(null!=e.metrics){r={};for(const t in e.metrics)r[t]=mle(e.metrics[t])}this.compile({loss:n,metrics:r,optimizer:t})}async save(e,t){if("string"===typeof e){const t=i6(e);if(0===t.length)throw new ale(`Cannot find any save handlers for URL '${e}'`);if(t.length>1)throw new ale(`Found more than one (${t.length}) save handlers for URL '${e}'`);e=t[0]}if(null==e.save)throw new ale("LayersModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");const n=await z5(this.getNamedWeights(t)),r={modelTopology:this.toJSON(null,!1),format:"layers-model",generatedBy:`TensorFlow.js tfjs-layers v${lde}`,convertedBy:null};if(null!=t&&t.includeOptimizer&&null!=this.optimizer){r.trainingConfig=this.getTrainingConfig();const e="optimizer",{data:t,specs:o}=await z5(await this.optimizer.getWeights(),e);n.specs.push(...o),n.data=Y5([n.data,t])}if(null!=this.userDefinedMetadata){const e=!0;Jce(this.userDefinedMetadata,this.name,e),r.userDefinedMetadata=this.userDefinedMetadata}return r.weightData=n.data,r.weightSpecs=n.specs,e.save(r)}setUserDefinedMetadata(e){Jce(e,this.name),this.userDefinedMetadata=e}getUserDefinedMetadata(){return this.userDefinedMetadata}}Ede.className="Model",c8(Ede);class Nde extends Ede{}Nde.className="Functional",c8(Nde);class Ode extends Ede{constructor(e){if(super({inputs:[],outputs:[]}),e=e||{},this.trainable=!0,this.built=!1,this.name=null!=e.name?e.name:Mle("sequential_"),null!=e.layers)for(const t of e.layers)this.add(t)}checkShape(e){if(e.inboundNodes[0].outputTensors[0].shape.some((e=>e<0)))throw new ale(`Negative dimension size caused by adding layer ${e.name} with input shape [${e.inboundNodes[0].inputTensors[0].shape}]`)}add(e){const t=e instanceof Ode||e instanceof Ede;let n;if(t){if(n=e,1!==n.outputs.length)throw new ale("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");if(1!==n.inputs.length)throw new ale("All layers in a Sequential model should have a single input tensor. For multi-input layers, use the functional API.")}if(0===this.outputs.length){if(0===e.inboundNodes.length){if(null==e.batchInputShape)throw new ale("The first layer in a Sequential model must get an `inputShape` or `batchInputShape` argument.");const t=function(e){if(null==e.batchShape&&null==e.shape)throw new Error("Please provide to Input either a `shape` or a `batchShape` argument. Note that `shape` does not include the batch dimension.");if(null!=e.batchShape&&null!=e.shape)throw new ale("Please provide either a `shape` or `batchShape` argument to Input, but not both.");let t=e.batchShape;null!=e.shape&&null==t&&(t=[null].concat(e.shape));let n=e.dtype;return null==n&&(n="float32"),new Jue({batchInputShape:t,name:e.name,dtype:n,sparse:e.sparse}).inboundNodes[0].outputTensors[0]}({batchShape:e.batchInputShape,dtype:e.dtype,name:e.name+"_input"});e.apply(t)}if(t)this.outputs=n.outputs,this.inputs=n.inputs;else{if(1!==e.inboundNodes.length)throw new ale(`A layer added to a Sequential model must not already be connected somewhere else. LayersModel received layer ${e.name} which has ${e.inboundNodes.length} pre-existing inbound connections.`);if(1!==e.inboundNodes[0].outputTensors.length)throw new ale("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[e.inboundNodes[0].outputTensors[0]],this.inputs=Zue(this.outputs[0])}this.inboundNodes=[],new Xue({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:ule(null,this.inputs.length),outputMasks:[null],inputShapes:this.inputs.map((e=>e.shape)),outputShapes:this.outputs[0].shape})}else{const t=e.apply(this.outputs[0]);if(Array.isArray(t))throw new TypeError("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[t],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}this.layers.push(e),this.built=!1}pop(){if(0===this.layers.length)throw new TypeError("There are no layers in the model.");if(this.layers.pop(),0===this.layers.length)this.outputs=[],this.inboundNodes=[],this.outboundNodes=[];else{const e=this.layers.length-1;this.layers[e].outboundNodes=[],this.outputs=[this.layers[e].output],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}}call(e,t){return null==this.model&&this.build(),this.model.call(e,t)}build(e){if(zue(e),0===this.inputs.length||0===this.outputs.length)throw new TypeError("Sequential model cannot be built: model is empty. Add some layers first.");this.model=new Ede({inputs:this.inputs,outputs:this.outputs[0],name:this.name+"_model"}),this.model.trainable=this.trainable,this.supportsMasking=this.model.supportsMasking,this.inputLayers=this.model.inputLayers,this.inputLayersNodeIndices=this.model.inputLayersNodeIndices,this.inputLayersTensorIndices=this.model.inputLayersTensorIndices,this.outputLayers=this.model.outputLayers,this.outputLayersNodeIndices=this.model.outputLayersNodeIndices,this.outputLayersTensorIndices=this.model.outputLayersTensorIndices,this.nodesByDepth=this.model.nodesByDepth,this.containerNodes=this.model.containerNodes,this.outputNames=this.model.outputNames,this.inputNames=this.model.inputNames,this.built=!0}countParams(){return this.built||this.build(),super.countParams()}summary(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console.log;this.built||this.build(),super.summary(e,t,n)}setWeights(e){null==this.model&&this.build(),this.model.setWeights(e)}evaluate(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!this.built)throw new ole("The model needs to be compiled before being used.");return this.model.evaluate(e,t,n)}async evaluateDataset(e,t){if(!this.built)throw new ole("The model needs to be compiled before being used.");return this.model.evaluateDataset(e,t)}predict(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==this.model&&this.build(),this.model.predict(e,t)}predictOnBatch(e){return null==this.model&&this.build(),this.model.predictOnBatch(e)}compile(e){this.build(),this.model.compile(e),this.optimizer_=this.model.optimizer,this.isOptimizerOwned=this.model.isOptimizerOwned,this.loss=this.model.loss,this.metrics=this.model.metrics,this.metricsTensors=this.model.metricsTensors,this.metricsNames=this.model.metricsNames}get optimizer(){return null==this.model?void 0:this.model.optimizer}set optimizer(e){this.model.optimizer=e}async fit(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!this.built)throw new ole("The model needs to be compiled before being used.");return this.model.fit(e,t,n)}async fitDataset(e,t){if(!this.built)throw new ole("The model needs to be compiled before being used.");return this.model.fitDataset(e,t)}async trainOnBatch(e,t){return this.model.trainOnBatch(e,t)}static fromConfig(e,t){let n,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o={};if(t instanceof Array){if(null==t[0].className||"Merge"===t[0].className)throw new ale("Legacy serialization format not supported yet.");n=t}else xJ(null!=t.layers,(()=>"When the config data for a Sequential model is not an Array, it must be an Object that contains the 'layers' field.")),n=t.layers,delete t.layers,o=t;const a=new e(o);if(!(a instanceof Ode))throw new ile(`Sequential.fromConfig called on non-Sequential input: ${a}`);for(const i of n){const e=Nce(i,void 0,r);r&&e.setFastWeightInitDuringBuild(!0),a.add(e)}return a}set stopTraining(e){if(null==this.model)throw new ale("Cannot set the stopTraining property of a sequential model before it is compiled.");this.model.stopTraining=e}get stopTraining(){if(null==this.model)throw new ale("Cannot get the stopTraining property of a sequential model before it is compiled.");return this.model.stopTraining}getConfig(){const e=[];for(const t of this.layers){const n={};n.className=t.getClassName(),n.config=t.getConfig(),e.push(n)}return{name:this.name,layers:e}}}Ode.className="Sequential",c8(Ode);class Mde extends l8{getConfig(){return{}}}class Dde extends Mde{apply(e){return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(1!==t)throw new ile(`Support for alpha values other than 1 (${t}) is not implemented yet.`);return fee(e)}(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1)}}Dde.className="elu",c8(Dde);class Rde extends Mde{apply(e){return nne(e)}}Rde.className="selu",c8(Rde);class Pde extends Mde{apply(e){return qte(e)}}Pde.className="relu",c8(Pde);class $de extends Mde{apply(e){return T5((()=>fte(6,qte(e))))}}$de.className="relu6",c8($de);class jde extends Mde{apply(e){return e}}jde.className="linear",c8(jde);class _de extends Mde{apply(e){return E7(e)}}_de.className="sigmoid",c8(_de);class Fde extends Mde{apply(e){return function(e){return T5((()=>{const t=H6(.5,K6(.2,e));return W7(t,0,1)}))}(e)}}Fde.className="hardSigmoid",c8(Fde);class Lde extends Mde{apply(e){return Yee(e)}}Lde.className="softplus",c8(Lde);class zde extends Mde{apply(e){return function(e){return T5((()=>q6(e,H6(b8(e),1))))}(e)}}zde.className="softsign",c8(zde);class Bde extends Mde{apply(e){return O7(e)}}Bde.className="tanh",c8(Bde);class Wde extends Mde{apply(e){return pne(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1)}}Wde.className="softmax",c8(Wde);class Vde extends Mde{apply(e){return Zee(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1)}}Vde.className="logSoftmax",c8(Vde);class Ude extends Mde{apply(e){return T5((()=>T5((()=>{const t=Math.sqrt(2),n=K6(.5,H6(1,gee(q6(e,t))));return K6(e,n)}))))}}Ude.className="gelu",c8(Ude);class Hde extends Mde{apply(e){return T5((()=>K6(.5,K6(e,H6(1,O7(K6(X6(q6(2,Math.PI)),H6(e,K6(.044715,g8(e,3))))))))))}}Hde.className="gelu_new",c8(Hde);class Gde extends Mde{apply(e){return T5((()=>K6(e,O7(Yee(e)))))}}Gde.className="mish",c8(Gde);class qde extends Mde{apply(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return T5((()=>K6(E7(K6(e,t)),e)))}}function Kde(e){return e.getClassName()}function Xde(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ble(e,u8.getMap().classNameMap,t,"activation")}function Yde(e){if(null==e){const e={className:"linear",config:{}};return Xde(e)}if("string"===typeof e){const t={};return t.className=e,t.config={},Xde(t)}return e instanceof Mde?e:Xde(e)}function Qde(e){if(null!=e&&"object"!==typeof e)throw new Error(`Argument to L1L2 regularizer's constructor is expected to be an object, but received: ${e}`)}qde.className="swish",c8(qde);class Zde extends l8{}class Jde extends Zde{constructor(e){super(),Qde(e),this.l1=null==e||null==e.l1?.01:e.l1,this.l2=null==e||null==e.l2?.01:e.l2,this.hasL1=0!==this.l1,this.hasL2=0!==this.l2}apply(e){return T5((()=>{let t=dte([1]);return this.hasL1&&(t=H6(t,Iee(K6(this.l1,b8(e))))),this.hasL2&&(t=H6(t,Iee(K6(this.l2,cue(e))))),A7(t,[])}))}getConfig(){return{l1:this.l1,l2:this.l2}}static fromConfig(e,t){return new e({l1:t.l1,l2:t.l2})}}Jde.className="L1L2",c8(Jde);const epe={l1l2:"L1L2"};function tpe(e){return yle(e)}function npe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ble(e,u8.getMap().classNameMap,t,"regularizer")}function rpe(e){if(null==e)return null;if("string"===typeof e){return npe({className:e in epe?epe[e]:e,config:{}})}return e instanceof Zde?e:npe(e)}class ope extends Que{constructor(e){super(null==e?{}:e),this.supportsMasking=!0,null!=e&&(this.maxValue=e.maxValue)}call(e,t){e=Lue(e);let n=qte(e);return null!=this.maxValue&&(n=W7(n,0,this.maxValue)),n}computeOutputShape(e){return e}getConfig(){const e={maxValue:this.maxValue},t=super.getConfig();return Object.assign(e,t),e}}ope.className="ReLU",c8(ope);class ape extends Que{constructor(e){super(null==e?{}:e),this.DEFAULT_ALPHA=.3,null==e&&(e={}),this.alpha=null==e.alpha?this.DEFAULT_ALPHA:e.alpha}call(e,t){const n=Lue(e);return Vee(n,this.alpha)}computeOutputShape(e){return e}getConfig(){const e={alpha:this.alpha},t=super.getConfig();return Object.assign(e,t),e}}ape.className="LeakyReLU",c8(ape);class ipe extends Que{constructor(e){if(super(null==e?{}:e),this.DEFAULT_ALPHA_INITIALIZER="zeros",null==e&&(e={}),this.supportsMasking=!0,this.alphaInitializer=jue(e.alphaInitializer||this.DEFAULT_ALPHA_INITIALIZER),this.alphaRegularizer=rpe(e.alphaRegularizer),this.alphaConstraint=gce(e.alphaConstraint),null==e.sharedAxes)this.sharedAxes=null;else if(Array.isArray(e.sharedAxes))this.sharedAxes=e.sharedAxes;else{if("number"!==typeof e.sharedAxes)throw new ale(`Expected sharedAxes to be a number or an array of numbers, but got ${e.sharedAxes}`);this.sharedAxes=[e.sharedAxes]}}build(e){const t=(e=zue(e)).slice(1);if(null!=this.sharedAxes)for(const r of this.sharedAxes)t[r-1]=1;this.alpha=this.addWeight("alpha",t,"float32",this.alphaInitializer,this.alphaRegularizer,!0,this.alphaConstraint);const n={};if(null!=this.sharedAxes)for(let r=1;r<e.length;++r)n[r]=e[r];this.inputSpec=[new Gue({ndim:e.length,axes:n})],this.built=!0}call(e,t){return e=Lue(e),Ote(e,this.alpha.read())}getConfig(){const e={alphaInitializer:$ue(this.alphaInitializer),alphaRegularizer:tpe(this.alphaRegularizer),alphaConstraint:fce(this.alphaConstraint),sharedAxes:this.sharedAxes},t=super.getConfig();return Object.assign(e,t),e}}ipe.className="PReLU",c8(ipe);class spe extends Que{constructor(e){if(super(null==e?{}:e),this.DEFAULT_ALPHA=1,null==e&&(e={}),null!=e.alpha&&e.alpha!==this.DEFAULT_ALPHA)throw new ile(`Non-default alpha value (${e.alpha}) is not supported by the ELU layer yet.`);this.alpha=null==e.alpha?this.DEFAULT_ALPHA:e.alpha}call(e,t){const n=Lue(e);return fee(n)}computeOutputShape(e){return e}getConfig(){const e={alpha:this.alpha},t=super.getConfig();return Object.assign(e,t),e}}spe.className="ELU",c8(spe);class lpe extends Que{constructor(e){super(null==e?{}:e),this.DEFAULT_THETA=1,null==e&&(e={}),this.theta=null==e.theta?this.DEFAULT_THETA:e.theta}call(e,t){const n=Lue(e);return K6(n,W6(Fee(n,this.theta),"float32"))}computeOutputShape(e){return e}getConfig(){const e={theta:this.theta},t=super.getConfig();return Object.assign(e,t),e}}lpe.className="ThresholdedReLU",c8(lpe);class upe extends Que{constructor(e){super(null==e?{}:e),this.DEFAULT_AXIS=1,null==e&&(e={}),this.softmax=(new Wde).apply,this.axis=null==e.axis?this.DEFAULT_AXIS:e.axis}call(e,t){return T5((()=>{let n=Lue(e);const r=t.mask;if(null!=r){const e=K6(y8(pte(n.shape),W6(r,n.dtype)),a8(-1e9));n=H6(n,e)}return this.axis instanceof Array?this.axis.length>1?Mee(y8(n,Jee(n,this.axis,!0))):this.softmax(n,this.axis[0]):this.softmax(n,this.axis)}))}computeOutputShape(e){return e}getConfig(){const e={axis:this.axis},t=super.getConfig();return Object.assign(e,t),e}}function cpe(e,t,n){if("number"===typeof e)return ule(e,t);if(e.length!==t)throw new ale(`The ${n} argument must be an integer or tuple of ${t} integers. Received: ${e.length} elements.`);for(let o=0;o<t;++o){const a=e[o];if((r=a)!==parseInt(r.toString(),10))throw new ale(`The ${n} argument must be an integer or tuple of ${t} integers. Received: ${JSON.stringify(e)} including a non-integer number ${a}`)}return e;var r}function dpe(e,t,n,r){if(null==e)return e;let o;return o="same"===n?e:e-(t+(t-1)*((arguments.length>4&&void 0!==arguments[4]?arguments[4]:1)-1))+1,Math.floor((o+r-1)/r)}function ppe(e,t,n,r){if(null==e)return null;if("valid"===r)e=e*t+Xle([n-t,0]);else{if("same"!==r)throw new ale(`Unsupport padding mode: ${r}.`);e*=t}return e}function hpe(e,t){return T5((()=>(Fle(t),"channelsFirst"===t?e9(e,[0,2,3,1]):e)))}function fpe(e,t){return T5((()=>(Fle(t),"channelsFirst"===t?e9(e,[0,2,3,4,1]):e)))}function mpe(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"valid",a=arguments.length>5?arguments[5]:void 0,i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1;return T5((()=>{if(null==a&&(a="channelsLast"),Fle(a),3!==e.shape.length)throw new ale(`The input of a conv1dWithBias operation should be 3, but is ${e.shape.length} instead.`);if(3!==t.shape.length)throw new ale(`The kernel for a conv1dWithBias operation should be 3, but is ${t.shape.length} instead`);if(null!=n&&1!==n.shape.length)throw new ale(`The bias for a conv1dWithBias operation should be 1, but is ${n.shape.length} instead`);if("channelsFirst"===a&&(e=e9(e,[0,2,1])),"causal"===o)throw new ile("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");let s=K7(e,t,r,"same"===o?"same":"valid","NWC",i);return null!=n&&(s=pue(s,n)),s}))}function gpe(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[1,1],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"valid",a=arguments.length>5?arguments[5]:void 0,i=arguments.length>6?arguments[6]:void 0,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;return T5((()=>{if(null==a&&(a="channelsLast"),Fle(a),3!==e.rank&&4!==e.rank)throw new ale(`conv2dWithBiasActivation expects input to be of rank 3 or 4, but received ${e.rank}.`);if(3!==t.rank&&4!==t.rank)throw new ale(`conv2dWithBiasActivation expects kernel to be of rank 3 or 4, but received ${e.rank}.`);let l=hpe(e,a);if("causal"===o)throw new ile("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");return l=Jne({x:l,filter:t,strides:r,pad:"same"===o?"same":"valid",dilations:i,dataFormat:"NHWC",bias:n,activation:s}),"channelsFirst"===a&&(l=e9(l,[0,3,1,2])),l}))}function ype(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[1,1,1],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"valid",a=arguments.length>5?arguments[5]:void 0,i=arguments.length>6?arguments[6]:void 0;return T5((()=>{if(null==a&&(a="channelsLast"),Fle(a),4!==e.rank&&5!==e.rank)throw new ale(`conv3dWithBias expects input to be of rank 4 or 5, but received ${e.rank}.`);if(4!==t.rank&&5!==t.rank)throw new ale(`conv3dWithBias expects kernel to be of rank 4 or 5, but received ${e.rank}.`);let s=fpe(e,a);if("causal"===o)throw new ile("The support for CAUSAL padding mode in conv3dWithBias is not implemented yet.");return s=Q7(s,t,r,"same"===o?"same":"valid","NDHWC",i),null!=n&&(s=pue(s,n)),"channelsFirst"===a&&(s=e9(s,[0,4,1,2,3])),s}))}upe.className="Softmax",c8(upe);class vpe extends Que{constructor(e,t){if(super(t),this.bias=null,this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_BIAS_INITIALIZER="zeros",vpe.verifyArgs(t),this.rank=e,Cle(this.rank,"rank"),1!==this.rank&&2!==this.rank&&3!==this.rank)throw new ile(`Convolution layer for rank other than 1, 2, or 3 (${this.rank}) is not implemented yet.`);if(this.kernelSize=cpe(t.kernelSize,e,"kernelSize"),this.strides=cpe(null==t.strides?1:t.strides,e,"strides"),this.padding=null==t.padding?"valid":t.padding,Lle(this.padding),this.dataFormat=null==t.dataFormat?"channelsLast":t.dataFormat,Fle(this.dataFormat),this.activation=Yde(t.activation),this.useBias=null==t.useBias||t.useBias,this.biasInitializer=jue(t.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.biasConstraint=gce(t.biasConstraint),this.biasRegularizer=rpe(t.biasRegularizer),this.activityRegularizer=rpe(t.activityRegularizer),this.dilationRate=cpe(null==t.dilationRate?1:t.dilationRate,e,"dilationRate"),1===this.rank&&Array.isArray(this.dilationRate)&&1!==this.dilationRate.length)throw new ale(`dilationRate must be a number or an array of a single number for 1D convolution, but received ${JSON.stringify(this.dilationRate)}`);if(2===this.rank){if("number"===typeof this.dilationRate)this.dilationRate=[this.dilationRate,this.dilationRate];else if(2!==this.dilationRate.length)throw new ale(`dilationRate must be a number or array of two numbers for 2D convolution, but received ${JSON.stringify(this.dilationRate)}`)}else if(3===this.rank)if("number"===typeof this.dilationRate)this.dilationRate=[this.dilationRate,this.dilationRate,this.dilationRate];else if(3!==this.dilationRate.length)throw new ale(`dilationRate must be a number or array of three numbers for 3D convolution, but received ${JSON.stringify(this.dilationRate)}`)}static verifyArgs(e){if(cle("kernelSize"in e,"required key 'kernelSize' not in config"),"number"!==typeof e.kernelSize&&!Ale(e.kernelSize,"number",1,3))throw new ale(`BaseConv expects config.kernelSize to be number or number[] with length 1, 2, or 3, but received ${JSON.stringify(e.kernelSize)}.`)}getConfig(){const e={kernelSize:this.kernelSize,strides:this.strides,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,activation:Kde(this.activation),useBias:this.useBias,biasInitializer:$ue(this.biasInitializer),biasRegularizer:tpe(this.biasRegularizer),activityRegularizer:tpe(this.activityRegularizer),biasConstraint:fce(this.biasConstraint)},t=super.getConfig();return Object.assign(e,t),e}}class bpe extends vpe{constructor(e,t){super(e,t),this.kernel=null,bpe.verifyArgs(t),this.filters=t.filters,Cle(this.filters,"filters"),this.kernelInitializer=jue(t.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.kernelConstraint=gce(t.kernelConstraint),this.kernelRegularizer=rpe(t.kernelRegularizer)}build(e){e=zue(e);const t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t])throw new ale(`The channel dimension of the input should be defined. Found ${e[t]}`);const n=e[t],r=this.kernelSize.concat([n,this.filters]);this.kernel=this.addWeight("kernel",r,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[{ndim:this.rank+2,axes:{[t]:n}}],this.built=!0}call(e,t){return T5((()=>{let t;e=Lue(e);const n=null==this.bias?null:this.bias.read(),r=Ile(this.activation.getClassName());if(null!=r&&2===this.rank)t=gpe(e,this.kernel.read(),n,this.strides,this.padding,this.dataFormat,this.dilationRate,r);else{if(1===this.rank)t=mpe(e,this.kernel.read(),n,this.strides[0],this.padding,this.dataFormat,this.dilationRate[0]);else if(2===this.rank)t=gpe(e,this.kernel.read(),n,this.strides,this.padding,this.dataFormat,this.dilationRate);else{if(3!==this.rank)throw new ile("convolutions greater than 3D are not implemented yet.");t=ype(e,this.kernel.read(),n,this.strides,this.padding,this.dataFormat,this.dilationRate)}null!=this.activation&&(t=this.activation.apply(t))}return t}))}computeOutputShape(e){e=zue(e);const t=[],n="channelsLast"===this.dataFormat?e.slice(1,e.length-1):e.slice(2);for(let o=0;o<n.length;++o){const e=dpe(n[o],this.kernelSize[o],this.padding,this.strides[o],"number"===typeof this.dilationRate?this.dilationRate:this.dilationRate[o]);t.push(e)}let r=[e[0]];return"channelsLast"===this.dataFormat?(r=r.concat(t),r.push(this.filters)):(r.push(this.filters),r=r.concat(t)),r}getConfig(){const e={filters:this.filters,kernelInitializer:$ue(this.kernelInitializer),kernelRegularizer:tpe(this.kernelRegularizer),kernelConstraint:fce(this.kernelConstraint)},t=super.getConfig();return Object.assign(e,t),e}static verifyArgs(e){if(!("filters"in e)||"number"!==typeof e.filters||e.filters<1)throw new ale(`Convolution layer expected config.filters to be a 'number' > 0 but got ${JSON.stringify(e.filters)}`)}}class xpe extends bpe{constructor(e){super(2,e),xpe.verifyArgs(e)}getConfig(){const e=super.getConfig();return delete e.rank,e}static verifyArgs(e){if("number"!==typeof e.kernelSize&&!Ale(e.kernelSize,"number",1,2))throw new ale(`Conv2D expects config.kernelSize to be number or number[] with length 1 or 2, but received ${JSON.stringify(e.kernelSize)}.`)}}xpe.className="Conv2D",c8(xpe);class wpe extends bpe{constructor(e){super(3,e),wpe.verifyArgs(e)}getConfig(){const e=super.getConfig();return delete e.rank,e}static verifyArgs(e){if("number"!==typeof e.kernelSize&&(!Array.isArray(e.kernelSize)||1!==e.kernelSize.length&&3!==e.kernelSize.length))throw new ale(`Conv3D expects config.kernelSize to be number or [number, number, number], but received ${JSON.stringify(e.kernelSize)}.`)}}wpe.className="Conv3D",c8(wpe);class kpe extends xpe{constructor(e){if(super(e),this.inputSpec=[new Gue({ndim:4})],"same"!==this.padding&&"valid"!==this.padding)throw new ale(`Conv2DTranspose currently supports only padding modes 'same' and 'valid', but received padding mode ${this.padding}`)}build(e){if(4!==(e=zue(e)).length)throw new ale("Input should have rank 4; Received input shape: "+JSON.stringify(e));const t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t])throw new ale("The channel dimension of the inputs should be defined. Found `None`.");const n=e[t],r=this.kernelSize.concat([this.filters,n]);this.kernel=this.addWeight("kernel",r,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new Gue({ndim:4,axes:{[t]:n}})],this.built=!0}call(e,t){return T5((()=>{let t=Lue(e);if(4!==t.shape.length)throw new ale(`Conv2DTranspose.call() expects input tensor to be rank-4, but received a tensor of rank-${t.shape.length}`);const n=t.shape,r=n[0];let o,a;"channelsFirst"===this.dataFormat?(o=2,a=3):(o=1,a=2);const i=n[o],s=n[a],l=this.kernelSize[0],u=this.kernelSize[1],c=this.strides[0],d=this.strides[1],p=[r,ppe(i,c,l,this.padding),ppe(s,d,u,this.padding),this.filters];"channelsLast"!==this.dataFormat&&(t=e9(t,[0,2,3,1]));let h=Y7(t,this.kernel.read(),p,this.strides,this.padding);return"channelsLast"!==this.dataFormat&&(h=e9(h,[0,3,1,2])),null!=this.bias&&(h=pue(h,this.bias.read(),this.dataFormat)),null!=this.activation&&(h=this.activation.apply(h)),h}))}computeOutputShape(e){const t=(e=zue(e)).slice();let n,r,o;"channelsFirst"===this.dataFormat?(n=1,r=2,o=3):(n=3,r=1,o=2);const a=this.kernelSize[0],i=this.kernelSize[1],s=this.strides[0],l=this.strides[1];return t[n]=this.filters,t[r]=ppe(t[r],s,a,this.padding),t[o]=ppe(t[o],l,i,this.padding),t}getConfig(){const e=super.getConfig();return delete e.dilationRate,e}}kpe.className="Conv2DTranspose",c8(kpe);class Spe extends wpe{constructor(e){if(super(e),this.inputSpec=[new Gue({ndim:5})],"same"!==this.padding&&"valid"!==this.padding)throw new ale(`Conv3DTranspose currently supports only padding modes 'same' and 'valid', but received padding mode ${this.padding}`)}build(e){if(5!==(e=zue(e)).length)throw new ale("Input should have rank 5; Received input shape: "+JSON.stringify(e));const t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t])throw new ale("The channel dimension of the inputs should be defined. Found `None`.");const n=e[t],r=this.kernelSize.concat([this.filters,n]);this.kernel=this.addWeight("kernel",r,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new Gue({ndim:5,axes:{[t]:n}})],this.built=!0}call(e,t){return T5((()=>{let t=Lue(e);if(5!==t.shape.length)throw new ale(`Conv3DTranspose.call() expects input tensor to be rank-4, but received a tensor of rank-${t.shape.length}`);const n=t.shape,r=n[0];let o,a,i;"channelsFirst"===this.dataFormat?(i=2,o=3,a=4):(i=1,o=2,a=3);const s=n[i],l=n[o],u=n[a],c=this.kernelSize[0],d=this.kernelSize[1],p=this.kernelSize[2],h=this.strides[0],f=this.strides[1],m=this.strides[2],g=[r,ppe(s,h,c,this.padding),ppe(l,f,d,this.padding),ppe(u,m,p,this.padding),this.filters];"channelsLast"!==this.dataFormat&&(t=e9(t,[0,2,3,4,1]));let y=J7(t,this.kernel.read(),g,this.strides,this.padding);return"channelsLast"!==this.dataFormat&&(y=e9(y,[0,4,1,2,3])),null!==this.bias&&(y=pue(y,this.bias.read(),this.dataFormat)),null!==this.activation&&(y=this.activation.apply(y)),y}))}computeOutputShape(e){const t=(e=zue(e)).slice();let n,r,o,a;"channelsFirst"===this.dataFormat?(n=1,r=2,o=3,a=4):(n=4,r=1,o=2,a=3);const i=this.kernelSize[0],s=this.kernelSize[1],l=this.kernelSize[2],u=this.strides[0],c=this.strides[1],d=this.strides[2];return t[n]=this.filters,t[r]=ppe(t[r],u,i,this.padding),t[o]=ppe(t[o],c,s,this.padding),t[a]=ppe(t[a],d,l,this.padding),t}getConfig(){const e=super.getConfig();return delete e.dilationRate,e}}Spe.className="Conv3DTranspose",c8(Spe);class Ape extends bpe{constructor(e,t){if(super(e,t),this.DEFAULT_DEPTHWISE_INITIALIZER="glorotUniform",this.DEFAULT_POINTWISE_INITIALIZER="glorotUniform",this.depthwiseKernel=null,this.pointwiseKernel=null,null==t.filters)throw new ale("The `filters` configuration field is required by SeparableConv, but is unspecified.");if(null!=t.kernelInitializer||null!=t.kernelRegularizer||null!=t.kernelConstraint)throw new ale("Fields kernelInitializer, kernelRegularizer and kernelConstraint are invalid for SeparableConv2D. Use depthwiseInitializer, depthwiseRegularizer, depthwiseConstraint, pointwiseInitializer, pointwiseRegularizer and pointwiseConstraint instead.");if(null!=t.padding&&"same"!==t.padding&&"valid"!==t.padding)throw new ale(`SeparableConv${this.rank}D supports only padding modes: 'same' and 'valid', but received ${JSON.stringify(t.padding)}`);this.depthMultiplier=null==t.depthMultiplier?1:t.depthMultiplier,this.depthwiseInitializer=jue(t.depthwiseInitializer||this.DEFAULT_DEPTHWISE_INITIALIZER),this.depthwiseRegularizer=rpe(t.depthwiseRegularizer),this.depthwiseConstraint=gce(t.depthwiseConstraint),this.pointwiseInitializer=jue(t.depthwiseInitializer||this.DEFAULT_POINTWISE_INITIALIZER),this.pointwiseRegularizer=rpe(t.pointwiseRegularizer),this.pointwiseConstraint=gce(t.pointwiseConstraint)}build(e){if((e=zue(e)).length<this.rank+2)throw new ale(`Inputs to SeparableConv${this.rank}D should have rank ${this.rank+2}, but received input shape: ${JSON.stringify(e)}`);const t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t]||e[t]<0)throw new ale(`The channel dimension of the inputs should be defined, but found ${JSON.stringify(e[t])}`);const n=e[t],r=this.kernelSize.concat([n,this.depthMultiplier]),o=[];for(let i=0;i<this.rank;++i)o.push(1);o.push(n*this.depthMultiplier,this.filters);const a=!0;this.depthwiseKernel=this.addWeight("depthwise_kernel",r,"float32",this.depthwiseInitializer,this.depthwiseRegularizer,a,this.depthwiseConstraint),this.pointwiseKernel=this.addWeight("pointwise_kernel",o,"float32",this.pointwiseInitializer,this.pointwiseRegularizer,a,this.pointwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,a,this.biasConstraint):this.bias=null,this.inputSpec=[new Gue({ndim:this.rank+2,axes:{[t]:n}})],this.built=!0}call(e,t){return T5((()=>{let t;if(e=Lue(e),1===this.rank)throw new ile("1D separable convolution is not implemented yet.");return 2===this.rank&&("channelsFirst"===this.dataFormat&&(e=e9(e,[0,2,3,1])),t=rne(e,this.depthwiseKernel.read(),this.pointwiseKernel.read(),this.strides,this.padding,this.dilationRate,"NHWC")),this.useBias&&(t=pue(t,this.bias.read(),this.dataFormat)),null!=this.activation&&(t=this.activation.apply(t)),"channelsFirst"===this.dataFormat&&(t=e9(t,[0,3,1,2])),t}))}getConfig(){const e=super.getConfig();return delete e.rank,delete e.kernelInitializer,delete e.kernelRegularizer,delete e.kernelConstraint,e.depthwiseInitializer=$ue(this.depthwiseInitializer),e.pointwiseInitializer=$ue(this.pointwiseInitializer),e.depthwiseRegularizer=tpe(this.depthwiseRegularizer),e.pointwiseRegularizer=tpe(this.pointwiseRegularizer),e.depthwiseConstraint=fce(this.depthwiseConstraint),e.pointwiseConstraint=fce(this.pointwiseConstraint),e}}Ape.className="SeparableConv";class Cpe extends Ape{constructor(e){super(2,e)}}Cpe.className="SeparableConv2D",c8(Cpe);class Tpe extends bpe{constructor(e){super(1,e),Tpe.verifyArgs(e),this.inputSpec=[{ndim:3}]}getConfig(){const e=super.getConfig();return delete e.rank,delete e.dataFormat,e}static verifyArgs(e){if("number"!==typeof e.kernelSize&&!Ale(e.kernelSize,"number",1,1))throw new ale(`Conv1D expects config.kernelSize to be number or number[] with length 1, but received ${JSON.stringify(e.kernelSize)}.`)}}Tpe.className="Conv1D",c8(Tpe);class Ipe extends Que{constructor(e){super(e),"number"===typeof e.cropping?this.cropping=[[e.cropping,e.cropping],[e.cropping,e.cropping]]:"number"===typeof e.cropping[0]?this.cropping=[[e.cropping[0],e.cropping[0]],[e.cropping[1],e.cropping[1]]]:this.cropping=e.cropping,this.dataFormat=void 0===e.dataFormat?"channelsLast":e.dataFormat,this.inputSpec=[{ndim:4}]}computeOutputShape(e){return"channelsFirst"===this.dataFormat?[e[0],e[1],e[2]-this.cropping[0][0]-this.cropping[0][1],e[3]-this.cropping[1][0]-this.cropping[1][1]]:[e[0],e[1]-this.cropping[0][0]-this.cropping[0][1],e[2]-this.cropping[1][0]-this.cropping[1][1],e[3]]}call(e,t){return T5((()=>{if(e=Lue(e),"channelsLast"===this.dataFormat){const t=rue(e,this.cropping[0][0],e.shape[1]-this.cropping[0][0]-this.cropping[0][1],2);return rue(t,this.cropping[1][0],e.shape[2]-this.cropping[1][1]-this.cropping[1][0],3)}{const t=rue(e,this.cropping[0][0],e.shape[2]-this.cropping[0][0]-this.cropping[0][1],3);return rue(t,this.cropping[1][0],e.shape[3]-this.cropping[1][1]-this.cropping[1][0],4)}}))}getConfig(){const e={cropping:this.cropping,dataFormat:this.dataFormat},t=super.getConfig();return Object.assign(e,t),e}}Ipe.className="Cropping2D",c8(Ipe);class Epe extends Que{constructor(e){var t;super(e),this.DEFAULT_SIZE=[2,2],this.inputSpec=[{ndim:4}],this.size=null==e.size?this.DEFAULT_SIZE:e.size,this.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,Fle(this.dataFormat),this.interpolation=null==e.interpolation?"nearest":e.interpolation,t=this.interpolation,Sle(Rle,"InterpolationFormat",t)}computeOutputShape(e){if("channelsFirst"===this.dataFormat){const t=null==e[2]?null:this.size[0]*e[2],n=null==e[3]?null:this.size[1]*e[3];return[e[0],e[1],t,n]}{const t=null==e[1]?null:this.size[0]*e[1],n=null==e[2]?null:this.size[1]*e[2];return[e[0],t,n,e[3]]}}call(e,t){return T5((()=>{let t=Lue(e);const n=t.shape;if("channelsFirst"===this.dataFormat){t=e9(t,[0,2,3,1]);const e=this.size[0]*n[2],r=this.size[1]*n[3],o="nearest"===this.interpolation?Yre.resizeNearestNeighbor(t,[e,r]):Yre.resizeBilinear(t,[e,r]);return e9(o,[0,3,1,2])}{const e=this.size[0]*n[1],r=this.size[1]*n[2];return"nearest"===this.interpolation?Yre.resizeNearestNeighbor(t,[e,r]):Yre.resizeBilinear(t,[e,r])}}))}getConfig(){const e={size:this.size,dataFormat:this.dataFormat,interpolation:this.interpolation},t=super.getConfig();return Object.assign(e,t),e}}Epe.className="UpSampling2D",c8(Epe);class Npe extends vpe{constructor(e){super(2,e),this.depthwiseKernel=null,this.depthMultiplier=null==e.depthMultiplier?1:e.depthMultiplier,this.depthwiseInitializer=jue(e.depthwiseInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.depthwiseConstraint=gce(e.depthwiseConstraint),this.depthwiseRegularizer=rpe(e.depthwiseRegularizer)}build(e){if((e=zue(e)).length<4)throw new ale(`Inputs to DepthwiseConv2D should have rank 4. Received input shape: ${JSON.stringify(e)}.`);const t="channelsFirst"===this.dataFormat?1:3;if(null==e[t]||e[t]<0)throw new ale(`The channel dimension of the inputs to DepthwiseConv2D should be defined, but is not (${e[t]}).`);const n=e[t],r=[this.kernelSize[0],this.kernelSize[1],n,this.depthMultiplier];this.depthwiseKernel=this.addWeight("depthwise_kernel",r,null,this.depthwiseInitializer,this.depthwiseRegularizer,!0,this.depthwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[n*this.depthMultiplier],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,t){return T5((()=>{let t=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[1,1],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"valid",o=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0;return T5((()=>{null==o&&(o="channelsLast"),Fle(o);let i=hpe(e,o);if(4!==e.rank)throw new ale(`Input for depthwiseConv2d is required to be 4-D, but is instead ${e.rank}-D`);if(4!==t.rank)throw new ale(`depthwiseKernel is required to be 4-D, but is instead ${t.rank}-D`);return i=iee(i,t,n,"same"===r?"same":"valid","NHWC",a),"channelsFirst"===o&&(i=e9(i,[0,3,1,2])),i}))}(e=Lue(e),this.depthwiseKernel.read(),this.strides,this.padding,this.dataFormat,null);return this.useBias&&(t=pue(t,this.bias.read(),this.dataFormat)),null!=this.activation&&(t=this.activation.apply(t)),t}))}computeOutputShape(e){e=zue(e);const t="channelsFirst"===this.dataFormat?e[2]:e[1],n="channelsFirst"===this.dataFormat?e[3]:e[2],r="channelsFirst"===this.dataFormat?e[1]*this.depthMultiplier:e[3]*this.depthMultiplier,o=dpe(t,this.kernelSize[0],this.padding,this.strides[0]),a=dpe(n,this.kernelSize[1],this.padding,this.strides[1]);return"channelsFirst"===this.dataFormat?[e[0],r,o,a]:[e[0],o,a,r]}getConfig(){const e=super.getConfig();return e.depthMultiplier=this.depthMultiplier,e.depthwiseInitializer=$ue(this.depthwiseInitializer),e.depthwiseRegularizer=tpe(this.depthwiseRegularizer),e.depthwiseConstraint=fce(this.depthwiseRegularizer),e}}function Ope(e,t,n,r){if(Array.isArray(e)){if(null!=t||null!=n)throw new ale("When inputs is an array, neither initialState or constants should be provided");null!=r&&(n=e.slice(e.length-r,e.length),e=e.slice(0,e.length-r)),e.length>1&&(t=e.slice(1,e.length)),e=e[0]}function o(e){return null==e||Array.isArray(e)?e:[e]}return{inputs:e,initialState:t=o(t),constants:n=o(n)}}function Mpe(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0,i=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return T5((()=>{const l=t.shape.length;if(l<3)throw new ale(`Input should be at least 3D, but is ${l}D.`);const u=[1,0].concat(Yle(2,l));if(t=e9(t,u),null!=a)throw new ile("The rnn() functoin of the deeplearn.js backend does not support constants yet.");i&&console.warn("Backend rnn(): the unroll = true option is not applicable to the imperative deeplearn.js backend."),null!=o&&(o=W6(W6(o,"bool"),"float32"),o.rank===l-1&&(o=Dee(o,-1)),o=e9(o,u)),r&&(t=Xte(t,0),null!=o&&(o=Xte(o,0)));const c=[];let d,p=n;const h=t.shape[0],f=Pne(t);let m,g;null!=o&&(m=Pne(o));for(let t=0;t<h;++t){const n=f[t],r=T5((()=>e(n,p)));if(null==o)d=r[0],p=r[1];else{const e=T5((()=>{const e=m[t],n=y8(wte(e),e);return{output:H6(K6(r[0],e),K6(p[0],n)),newStates:p.map(((t,o)=>H6(K6(r[1][o],e),K6(t,n))))}}));d=e.output,p=e.newStates}s&&c.push(d)}if(s){g=xne(c,1)}return[d,g,p]}))}Npe.className="DepthwiseConv2D",c8(Npe);class Dpe extends Que{constructor(e){let t;if(super(e),null==e.cell)throw new ale("cell property is missing for the constructor of RNN.");if(t=Array.isArray(e.cell)?new zpe({cells:e.cell}):e.cell,null==t.stateSize)throw new ale("The RNN cell should have an attribute `stateSize` (tuple of integers, one integer per RNN state).");this.cell=t,this.returnSequences=null!=e.returnSequences&&e.returnSequences,this.returnState=null!=e.returnState&&e.returnState,this.goBackwards=null!=e.goBackwards&&e.goBackwards,this._stateful=null!=e.stateful&&e.stateful,this.unroll=null!=e.unroll&&e.unroll,this.supportsMasking=!0,this.inputSpec=[new Gue({ndim:3})],this.stateSpec=null,this.states_=null,this.numConstants=null,this.keptStates=[]}getStates(){if(null==this.states_){return Yle(0,Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1).map((e=>null))}return this.states_}setStates(e){this.states_=e}computeOutputShape(e){_ue(e)&&(e=e[0]);let t=this.cell.stateSize;Array.isArray(t)||(t=[t]);const n=t[0];let r;if(r=this.returnSequences?[e[0],e[1],n]:[e[0],n],this.returnState){const n=[];for(const r of t)n.push([e[0],r]);return[r].concat(n)}return r}computeMask(e,t){return T5((()=>{Array.isArray(t)&&(t=t[0]);const e=this.returnSequences?t:null;if(this.returnState){const t=this.states.map((e=>null));return[e].concat(t)}return e}))}get states(){if(null==this.states_){const e=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1,t=[];for(let n=0;n<e;++n)t.push(null);return t}return this.states_}set states(e){this.states_=e}build(e){if(null!=this.numConstants)throw new ile("Constants support is not implemented in RNN yet.");_ue(e)&&(e=e[0]);const t=this.stateful?e[0]:null,n=e.slice(2);this.inputSpec[0]=new Gue({shape:[t,null,...n]});const r=[e[0]].concat(e.slice(2));let o;if(this.cell.build(r),o=Array.isArray(this.cell.stateSize)?this.cell.stateSize:[this.cell.stateSize],null!=this.stateSpec){if(!TJ(this.stateSpec.map((e=>e.shape[e.shape.length-1])),o))throw new ale(`An initialState was passed that is not compatible with cell.stateSize. Received stateSpec=${this.stateSpec}; However cell.stateSize is ${this.cell.stateSize}`)}else this.stateSpec=o.map((e=>new Gue({shape:[null,e]})));this.stateful&&this.resetStates()}resetStates(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];T5((()=>{if(!this.stateful)throw new rle("Cannot call resetStates() on an RNN Layer that is not stateful.");const n=this.inputSpec[0].shape[0];if(null==n)throw new ale("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(null==this.states_)Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map((e=>dte([n,e]))):this.states_=[dte([n,this.cell.stateSize])];else if(null==e)I5(this.states_),null!=this.keptStates&&(I5(this.keptStates),this.keptStates=[]),Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map((e=>dte([n,e]))):this.states_[0]=dte([n,this.cell.stateSize]);else{if(Array.isArray(e)||(e=[e]),e.length!==this.states_.length)throw new ale(`Layer ${this.name} expects ${this.states_.length} state(s), but it received ${e.length} state value(s). Input received: ${e}`);!0===t?this.keptStates.push(this.states_.slice()):I5(this.states_);for(let t=0;t<this.states_.length;++t){const r=e[t],o=Array.isArray(this.cell.stateSize)?this.cell.stateSize[t]:this.cell.stateSize,a=[n,o];if(!TJ(r.shape,a))throw new ale(`State ${t} is incompatible with layer ${this.name}: expected shape=${a}, received shape=${r.shape}`);this.states_[t]=r}}this.states_=this.states_.map((e=>E5(e.clone())))}))}apply(e,t){let n=null==t?null:t.initialState,r=null==t?null:t.constants;null==t&&(t={});const o=Ope(e,n,r,this.numConstants);e=o.inputs,n=o.initialState,r=o.constants;let a=[],i=[];if(null!=n){t.initialState=n,a=a.concat(n),this.stateSpec=[];for(const e of n)this.stateSpec.push(new Gue({shape:e.shape}));i=i.concat(this.stateSpec)}null!=r&&(t.constants=r,a=a.concat(r),this.numConstants=r.length);if(a[0]instanceof que){const n=[e].concat(a),r=this.inputSpec.concat(i),o=this.inputSpec;this.inputSpec=r;const s=super.apply(n,t);return this.inputSpec=o,s}return super.apply(e,t)}call(e,t){return T5((()=>{const n=null==t?null:t.mask,r=null==t?null:t.training;let o=null==t?null:t.initialState;e=Lue(e),null==o&&(o=this.stateful?this.states_:this.getInitialState(e));const a=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1;if(o.length!==a)throw new ale(`RNN Layer has ${a} state(s) but was passed ${o.length} initial state(s).`);this.unroll&&console.warn("Ignoring unroll = true for RNN layer, due to imperative backend.");const i={training:r},s=Mpe(((e,t)=>{const n=this.cell.call([e].concat(t),i);return[n[0],n.slice(1)]}),e,o,this.goBackwards,n,null,this.unroll,this.returnSequences),l=s[0],u=s[1],c=s[2];this.stateful&&this.resetStates(c,r);const d=this.returnSequences?u:l;return this.returnState?[d].concat(c):d}))}getInitialState(e){return T5((()=>{let t=dte(e.shape);return t=Iee(t,[1,2]),t=eue(t),Array.isArray(this.cell.stateSize)?this.cell.stateSize.map((e=>e>1?iue(t,[1,e]):t)):this.cell.stateSize>1?[iue(t,[1,this.cell.stateSize])]:[t]}))}get trainableWeights(){return this.trainable?this.cell.trainableWeights:[]}get nonTrainableWeights(){return this.trainable?this.cell.nonTrainableWeights:this.cell.weights}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),null!=this.cell&&this.cell.setFastWeightInitDuringBuild(e)}getConfig(){const e=super.getConfig(),t={returnSequences:this.returnSequences,returnState:this.returnState,goBackwards:this.goBackwards,stateful:this.stateful,unroll:this.unroll};null!=this.numConstants&&(t.numConstants=this.numConstants);const n=this.cell.getConfig();return this.getClassName()===Dpe.className&&(t.cell={className:this.cell.getClassName(),config:n}),Object.assign(Object.assign(Object.assign({},n),e),t)}static fromConfig(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=Nce(t.cell,n);return new e(Object.assign(t,{cell:r}))}}Dpe.className="RNN",c8(Dpe);class Rpe extends Que{}class Ppe extends Rpe{constructor(e){super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",this.units=e.units,Cle(this.units,"units"),this.activation=Yde(null==e.activation?this.DEFAULT_ACTIVATION:e.activation),this.useBias=null==e.useBias||e.useBias,this.kernelInitializer=jue(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=jue(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=jue(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelRegularizer=rpe(e.kernelRegularizer),this.recurrentRegularizer=rpe(e.recurrentRegularizer),this.biasRegularizer=rpe(e.biasRegularizer),this.kernelConstraint=gce(e.kernelConstraint),this.recurrentConstraint=gce(e.recurrentConstraint),this.biasConstraint=gce(e.biasConstraint),this.dropout=Kle([1,Xle([0,null==e.dropout?0:e.dropout])]),this.recurrentDropout=Kle([1,Xle([0,null==e.recurrentDropout?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.stateSize=this.units,this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){e=zue(e),this.kernel=this.addWeight("kernel",[e[e.length-1],this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,t){return T5((()=>{if(2!==e.length)throw new ale(`SimpleRNNCell expects 2 input Tensors, got ${e.length}.`);let n=e[1];e=e[0];const r=null!=t.training&&t.training;let o;0<this.dropout&&this.dropout<1&&null==this.dropoutMask&&(this.dropoutMask=Bpe({ones:()=>wte(e),rate:this.dropout,training:r,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&null==this.recurrentDropoutMask&&(this.recurrentDropoutMask=Bpe({ones:()=>wte(n),rate:this.recurrentDropout,training:r,dropoutFunc:this.dropoutFunc}));const a=this.dropoutMask,i=this.recurrentDropoutMask;o=lue(null!=a?K6(e,a):e,this.kernel.read()),null!=this.bias&&(o=pue(o,this.bias.read())),null!=i&&(n=K6(n,i));let s=H6(o,lue(n,this.recurrentKernel.read()));return null!=this.activation&&(s=this.activation.apply(s)),[s,s]}))}getConfig(){const e=super.getConfig(),t={units:this.units,activation:Kde(this.activation),useBias:this.useBias,kernelInitializer:$ue(this.kernelInitializer),recurrentInitializer:$ue(this.recurrentInitializer),biasInitializer:$ue(this.biasInitializer),kernelRegularizer:tpe(this.kernelRegularizer),recurrentRegularizer:tpe(this.recurrentRegularizer),biasRegularizer:tpe(this.biasRegularizer),activityRegularizer:tpe(this.activityRegularizer),kernelConstraint:fce(this.kernelConstraint),recurrentConstraint:fce(this.recurrentConstraint),biasConstraint:fce(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout};return Object.assign(Object.assign({},e),t)}}Ppe.className="SimpleRNNCell",c8(Ppe);class $pe extends Dpe{constructor(e){e.cell=new Ppe(e),super(e)}call(e,t){return T5((()=>{null!=this.cell.dropoutMask&&(I5(this.cell.dropoutMask),this.cell.dropoutMask=null),null!=this.cell.recurrentDropoutMask&&(I5(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const n=null==t?null:t.mask,r=null==t?null:t.training,o=null==t?null:t.initialState;return super.call(e,{mask:n,training:r,initialState:o})}))}static fromConfig(e,t){return new e(t)}}$pe.className="SimpleRNN",c8($pe);class jpe extends Rpe{constructor(e){if(super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",e.resetAfter)throw new ale("GRUCell does not support reset_after parameter set to true.");this.units=e.units,Cle(this.units,"units"),this.activation=Yde(void 0===e.activation?this.DEFAULT_ACTIVATION:e.activation),this.recurrentActivation=Yde(void 0===e.recurrentActivation?this.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),this.useBias=null==e.useBias||e.useBias,this.kernelInitializer=jue(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=jue(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=jue(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelRegularizer=rpe(e.kernelRegularizer),this.recurrentRegularizer=rpe(e.recurrentRegularizer),this.biasRegularizer=rpe(e.biasRegularizer),this.kernelConstraint=gce(e.kernelConstraint),this.recurrentConstraint=gce(e.recurrentConstraint),this.biasConstraint=gce(e.biasConstraint),this.dropout=Kle([1,Xle([0,null==e.dropout?0:e.dropout])]),this.recurrentDropout=Kle([1,Xle([0,null==e.recurrentDropout?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.implementation=e.implementation,this.stateSize=this.units,this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){const t=(e=zue(e))[e.length-1];this.kernel=this.addWeight("kernel",[t,3*this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,3*this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[3*this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,t){return T5((()=>{if(2!==e.length)throw new ale(`GRUCell expects 2 input Tensors (inputs, h, c), got ${e.length}.`);const n=null!=t.training&&t.training;let r=e[1];e=e[0],0<this.dropout&&this.dropout<1&&null==this.dropoutMask&&(this.dropoutMask=Bpe({ones:()=>wte(e),rate:this.dropout,training:n,count:3,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&null==this.recurrentDropoutMask&&(this.recurrentDropoutMask=Bpe({ones:()=>wte(r),rate:this.recurrentDropout,training:n,count:3,dropoutFunc:this.dropoutFunc}));const o=this.dropoutMask,a=this.recurrentDropoutMask;let i,s,l;0<this.dropout&&this.dropout<1&&(e=K6(e,o[0]));let u=lue(e,this.kernel.read());this.useBias&&(u=pue(u,this.bias.read())),0<this.recurrentDropout&&this.recurrentDropout<1&&(r=K6(r,a[0]));const c=this.recurrentKernel.read(),[d,p]=gne(c,[2*this.units,this.units],c.rank-1),h=lue(r,d),[f,m,g]=gne(u,3,u.rank-1),[y,v]=gne(h,2,h.rank-1);i=this.recurrentActivation.apply(H6(f,y)),s=this.recurrentActivation.apply(H6(m,v));const b=lue(K6(s,r),p);l=this.activation.apply(H6(g,b));const x=H6(K6(i,r),K6(H6(1,Z8(i)),l));return[x,x]}))}getConfig(){const e=super.getConfig(),t={units:this.units,activation:Kde(this.activation),recurrentActivation:Kde(this.recurrentActivation),useBias:this.useBias,kernelInitializer:$ue(this.kernelInitializer),recurrentInitializer:$ue(this.recurrentInitializer),biasInitializer:$ue(this.biasInitializer),kernelRegularizer:tpe(this.kernelRegularizer),recurrentRegularizer:tpe(this.recurrentRegularizer),biasRegularizer:tpe(this.biasRegularizer),activityRegularizer:tpe(this.activityRegularizer),kernelConstraint:fce(this.kernelConstraint),recurrentConstraint:fce(this.recurrentConstraint),biasConstraint:fce(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation,resetAfter:!1};return Object.assign(Object.assign({},e),t)}}jpe.className="GRUCell",c8(jpe);class _pe extends Dpe{constructor(e){0===e.implementation&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new jpe(e),super(e)}call(e,t){return T5((()=>{null!=this.cell.dropoutMask&&(I5(this.cell.dropoutMask),this.cell.dropoutMask=null),null!=this.cell.recurrentDropoutMask&&(I5(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const n=null==t?null:t.mask,r=null==t?null:t.training,o=null==t?null:t.initialState;return super.call(e,{mask:n,training:r,initialState:o})}))}static fromConfig(e,t){return 0===t.implmentation&&(t.implementation=1),new e(t)}}_pe.className="GRU",c8(_pe);class Fpe extends Rpe{constructor(e){super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",this.units=e.units,Cle(this.units,"units"),this.activation=Yde(void 0===e.activation?this.DEFAULT_ACTIVATION:e.activation),this.recurrentActivation=Yde(void 0===e.recurrentActivation?this.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),this.useBias=null==e.useBias||e.useBias,this.kernelInitializer=jue(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=jue(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=jue(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.unitForgetBias=e.unitForgetBias,this.kernelRegularizer=rpe(e.kernelRegularizer),this.recurrentRegularizer=rpe(e.recurrentRegularizer),this.biasRegularizer=rpe(e.biasRegularizer),this.kernelConstraint=gce(e.kernelConstraint),this.recurrentConstraint=gce(e.recurrentConstraint),this.biasConstraint=gce(e.biasConstraint),this.dropout=Kle([1,Xle([0,null==e.dropout?0:e.dropout])]),this.recurrentDropout=Kle([1,Xle([0,null==e.recurrentDropout?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.implementation=e.implementation,this.stateSize=[this.units,this.units],this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){var t;const n=(e=zue(e))[e.length-1];let r;if(this.kernel=this.addWeight("kernel",[n,4*this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,4*this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){if(this.unitForgetBias){const e=this.biasInitializer,n=this.units;r=new((t=class extends yue{apply(t,r){const o=e.apply([n]),a=(new bue).apply([n]),i=e.apply([2*n]);return aue(aue(o,a),i)}}).className="CustomInit",t)}else r=this.biasInitializer;this.bias=this.addWeight("bias",[4*this.units],null,r,this.biasRegularizer,!0,this.biasConstraint)}else this.bias=null;this.built=!0}call(e,t){return T5((()=>{const n=null!=t.training&&t.training;if(3!==e.length)throw new ale(`LSTMCell expects 3 input Tensors (inputs, h, c), got ${e.length}.`);let r=e[1];const o=e[2];e=e[0],0<this.dropout&&this.dropout<1&&null==this.dropoutMask&&(this.dropoutMask=Bpe({ones:()=>wte(e),rate:this.dropout,training:n,count:4,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&null==this.recurrentDropoutMask&&(this.recurrentDropoutMask=Bpe({ones:()=>wte(r),rate:this.recurrentDropout,training:n,count:4,dropoutFunc:this.dropoutFunc}));const a=this.dropoutMask,i=this.recurrentDropoutMask;let s,l,u,c;0<this.dropout&&this.dropout<1&&(e=K6(e,a[0]));let d=lue(e,this.kernel.read());0<this.recurrentDropout&&this.recurrentDropout<1&&(r=K6(r,i[0])),d=H6(d,lue(r,this.recurrentKernel.read())),this.useBias&&(d=pue(d,this.bias.read()));const[p,h,f,m]=gne(d,4,d.rank-1);s=this.recurrentActivation.apply(p),l=this.recurrentActivation.apply(h),u=H6(K6(l,o),K6(s,this.activation.apply(f))),c=this.recurrentActivation.apply(m);const g=K6(c,this.activation.apply(u));return[g,g,u]}))}getConfig(){const e=super.getConfig(),t={units:this.units,activation:Kde(this.activation),recurrentActivation:Kde(this.recurrentActivation),useBias:this.useBias,kernelInitializer:$ue(this.kernelInitializer),recurrentInitializer:$ue(this.recurrentInitializer),biasInitializer:$ue(this.biasInitializer),unitForgetBias:this.unitForgetBias,kernelRegularizer:tpe(this.kernelRegularizer),recurrentRegularizer:tpe(this.recurrentRegularizer),biasRegularizer:tpe(this.biasRegularizer),activityRegularizer:tpe(this.activityRegularizer),kernelConstraint:fce(this.kernelConstraint),recurrentConstraint:fce(this.recurrentConstraint),biasConstraint:fce(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation};return Object.assign(Object.assign({},e),t)}}Fpe.className="LSTMCell",c8(Fpe);class Lpe extends Dpe{constructor(e){0===e.implementation&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new Fpe(e),super(e)}call(e,t){return T5((()=>{null!=this.cell.dropoutMask&&(I5(this.cell.dropoutMask),this.cell.dropoutMask=null),null!=this.cell.recurrentDropoutMask&&(I5(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const n=null==t?null:t.mask,r=null==t?null:t.training,o=null==t?null:t.initialState;return super.call(e,{mask:n,training:r,initialState:o})}))}static fromConfig(e,t){return 0===t.implmentation&&(t.implementation=1),new e(t)}}Lpe.className="LSTM",c8(Lpe);class zpe extends Rpe{constructor(e){super(e),this.cells=e.cells}get stateSize(){const e=[];for(const t of this.cells.slice().reverse())Array.isArray(t.stateSize)?e.push(...t.stateSize):e.push(t.stateSize);return e}call(e,t){return T5((()=>{let n=e.slice(1);const r=[];for(const e of this.cells.slice().reverse())Array.isArray(e.stateSize)?r.push(n.splice(0,e.stateSize.length)):r.push(n.splice(0,1));r.reverse();const o=[];let a;for(let i=0;i<this.cells.length;++i){const s=this.cells[i];n=r[i],a=0===i?[e[0]].concat(n):[a[0]].concat(n),a=s.call(a,t),o.push(a.slice(1))}n=[];for(const e of o.slice().reverse())n.push(...e);return[a[0]].concat(n)}))}build(e){let t;_ue(e)&&(e=e[0]),this.cells.forEach(((n,r)=>{Wle(`RNNCell_${r}`,(()=>{n.build(e),t=Array.isArray(n.stateSize)?n.stateSize[0]:n.stateSize,e=[e[0],t]}))})),this.built=!0}getConfig(){const e=super.getConfig(),t={cells:this.cells.map((e=>({className:e.getClassName(),config:e.getConfig()})))};return Object.assign(Object.assign({},e),t)}static fromConfig(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=[];for(const o of t.cells)r.push(Nce(o,n));return new e({cells:r})}get trainableWeights(){if(!this.trainable)return[];const e=[];for(const t of this.cells)e.push(...t.trainableWeights);return e}get nonTrainableWeights(){const e=[];for(const t of this.cells)e.push(...t.nonTrainableWeights);if(!this.trainable){const t=[];for(const e of this.cells)t.push(...e.trainableWeights);return t.concat(e)}return e}getWeights(){const e=[];for(const t of this.cells)e.push(...t.weights);return Uue(e)}setWeights(e){const t=[];for(const n of this.cells){const r=n.weights.length,o=e.splice(r);for(let e=0;e<n.weights.length;++e)t.push([n.weights[e],o[e]])}Hue(t)}}function Bpe(e){const{ones:t,rate:n,training:r=!1,count:o=1,dropoutFunc:a}=e,i=()=>null!=a?a(t(),n):hue(t(),n),s=()=>fue(i,t,r);if(!o||o<=1)return E5(s().clone());return Array(o).fill(void 0).map(s).map((e=>E5(e.clone())))}zpe.className="StackedRNNCells",c8(zpe);var Wpe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};class Vpe extends Dpe{constructor(e){if(e.unroll)throw new ile("Unrolling is not possible with convolutional RNNs.");if(Array.isArray(e.cell))throw new ile("It is not possible at the moment to stack convolutional cells.");super(e),this.inputSpec=[new Gue({ndim:5})]}call(e,t){return T5((()=>{if(null!=this.cell.dropoutMask&&(I5(this.cell.dropoutMask),this.cell.dropoutMask=null),null!=this.cell.recurrentDropoutMask&&(I5(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null),t&&t.constants)throw new ale("ConvRNN2D cell does not support constants");const n=null==t?null:t.mask,r=null==t?null:t.training,o=null==t?null:t.initialState;return super.call(e,{mask:n,training:r,initialState:o})}))}computeOutputShape(e){let t=this.computeSingleOutputShape(e);return this.returnSequences||(t=[t[0],...t.slice(2)]),this.returnState&&(t=[t,...Array(2).fill([e[0],...t.slice(-3)])]),t}getInitialState(e){return T5((()=>{const{stateSize:t}=this.cell,n=e.shape,r=this.computeSingleOutputShape(n),o=dte([r[0],...r.slice(2)]);return Array.isArray(t)?Array(t.length).fill(o):[o]}))}resetStates(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];T5((()=>{if(!this.stateful)throw new rle("Cannot call resetStates() on an RNN Layer that is not stateful.");const n=this.inputSpec[0].shape,r=this.computeSingleOutputShape(n),o=[r[0],...r.slice(2)];if(null==n[0])throw new ale("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(null==this.getStates())Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map((()=>dte(o))):this.states_=[dte(o)];else if(null==e)I5(this.states_),null!=this.keptStates&&(I5(this.keptStates),this.keptStates=[]),Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map((()=>dte(o))):this.states_[0]=dte(o);else{if(Array.isArray(e)||(e=[e]),e.length!==this.states_.length)throw new ale(`Layer ${this.name} expects ${this.states_.length} state(s), but it received ${e.length} state value(s). Input received: ${e}`);t?this.keptStates.push(this.states_.slice()):I5(this.states_);for(let t=0;t<this.states_.length;++t){const n=e[t],r=o;if(!TJ(n.shape,r))throw new ale(`State ${t} is incompatible with layer ${this.name}: expected shape=${r}, received shape=${n.shape}`);this.states_[t]=n}}this.states_=this.states_.map((e=>E5(e.clone())))}))}computeSingleOutputShape(e){const{dataFormat:t,filters:n,kernelSize:r,padding:o,strides:a,dilationRate:i}=this.cell,s="channelsFirst"===t,l=e[s?3:2],u=e[s?4:3],c=dpe(l,r[0],o,a[0],i[0]),d=dpe(u,r[1],o,a[1],i[1]);return[...e.slice(0,2),...s?[n,c,d]:[c,d,n]]}}Vpe.className="ConvRNN2D";class Upe extends Fpe{constructor(e){const{filters:t,kernelSize:n,strides:r,padding:o,dataFormat:a,dilationRate:i}=e;super(Object.assign(Object.assign({},e),{units:t})),this.filters=t,Cle(this.filters,"filters"),this.kernelSize=cpe(n,2,"kernelSize"),this.kernelSize.forEach((e=>Cle(e,"kernelSize"))),this.strides=cpe(r||1,2,"strides"),this.strides.forEach((e=>Cle(e,"strides"))),this.padding=o||"valid",Lle(this.padding),this.dataFormat=a||"channelsLast",Fle(this.dataFormat),this.dilationRate=cpe(i||1,2,"dilationRate"),this.dilationRate.forEach((e=>Cle(e,"dilationRate")))}build(e){var t;e=zue(e);const n="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[n])throw new ale(`The channel dimension of the input should be defined. Found ${e[n]}`);const r=e[n],o=this.kernelSize.concat([r,4*this.filters]);this.kernel=this.addWeight("kernel",o,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint);const a=this.kernelSize.concat([this.filters,4*this.filters]);if(this.recurrentKernel=this.addWeight("recurrent_kernel",a,null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){let e;if(this.unitForgetBias){const n=this.biasInitializer,r=this.filters;e=new((t=class extends yue{apply(e,t){return oue([n.apply([r]),pte([r]),n.apply([2*r])])}}).className="CustomInit",t)}else e=this.biasInitializer;this.bias=this.addWeight("bias",[4*this.filters],null,e,this.biasRegularizer,!0,this.biasConstraint)}this.built=!0}call(e,t){return T5((()=>{if(3!==e.length)throw new ale(`ConvLSTM2DCell expects 3 input Tensors (inputs, h, c), got ${e.length}.`);const n=t.training||!1,r=e[0],o=e[1],a=e[2];0<this.dropout&&this.dropout<1&&null==this.dropoutMask&&(this.dropoutMask=Bpe({ones:()=>wte(r),rate:this.dropout,training:n,count:4,dropoutFunc:this.dropoutFunc}));const i=this.dropoutMask,s=(e,t,n)=>t&&t[n]?K6(t[n],e):e;let l=s(r,i,0),u=s(r,i,1),c=s(r,i,2),d=s(r,i,3);0<this.recurrentDropout&&this.recurrentDropout<1&&null==this.recurrentDropoutMask&&(this.recurrentDropoutMask=Bpe({ones:()=>wte(o),rate:this.recurrentDropout,training:n,count:4,dropoutFunc:this.dropoutFunc}));const p=this.recurrentDropoutMask;let h=s(o,p,0),f=s(o,p,1),m=s(o,p,2),g=s(o,p,3);const[y,v,b,x]=gne(this.kernel.read(),4,3),[w,k,S,A]=this.useBias?gne(this.bias.read(),4):[null,null,null,null];l=this.inputConv(l,y,w,this.padding),u=this.inputConv(u,v,k,this.padding),c=this.inputConv(c,b,S,this.padding),d=this.inputConv(d,x,A,this.padding);const[C,T,I,E]=gne(this.recurrentKernel.read(),4,3);h=this.recurrentConv(h,C),f=this.recurrentConv(f,T),m=this.recurrentConv(m,I),g=this.recurrentConv(g,E);const N=this.recurrentActivation.apply(H6(l,h)),O=this.recurrentActivation.apply(H6(u,f)),M=H6(K6(O,a),K6(N,this.activation.apply(H6(c,m)))),D=K6(this.recurrentActivation.apply(H6(d,g)),this.activation.apply(M));return[D,D,M]}))}getConfig(){const e=super.getConfig(),{units:t}=e,n=Wpe(e,["units"]),r={filters:this.filters,kernelSize:this.kernelSize,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,strides:this.strides};return Object.assign(Object.assign({},n),r)}inputConv(e,t,n,r){const o=q7(e,t,this.strides,r||"valid","channelsFirst"===this.dataFormat?"NCHW":"NHWC",this.dilationRate);return n?pue(o,n,this.dataFormat):o}recurrentConv(e,t){return q7(e,t,1,"same","channelsFirst"===this.dataFormat?"NCHW":"NHWC")}}Upe.className="ConvLSTM2DCell",c8(Upe);class Hpe extends Vpe{constructor(e){const t=new Upe(e);super(Object.assign(Object.assign({},e),{cell:t}))}static fromConfig(e,t){return new e(t)}}Hpe.className="ConvLSTM2D",c8(Hpe);class Gpe extends Que{constructor(e){super(e),this.rate=Math.max(Math.min(e.rate,1),0),this.noiseShape=e.noiseShape,this.seed=e.seed,this.supportsMasking=!0}getNoiseShape(e){if(null==this.noiseShape)return this.noiseShape;const t=e.shape,n=[];for(let r=0;r<this.noiseShape.length;++r)n.push(null==this.noiseShape[r]?t[r]:this.noiseShape[r]);return n}call(e,t){return T5((()=>{this.invokeCallHook(e,t);const n=Lue(e);if(0<this.rate&&this.rate<1){const e=null!=t.training&&t.training,r=this.getNoiseShape(n);return fue((()=>hue(n,this.rate,r,this.seed)),(()=>n),e)}return e}))}getConfig(){const e={rate:this.rate,noiseShape:this.noiseShape,seed:this.seed},t=super.getConfig();return Object.assign(e,t),e}dispose(){return super.dispose()}}Gpe.className="Dropout",c8(Gpe);class qpe extends Gpe{constructor(e){super(e),this.inputSpec=[{ndim:3}]}getNoiseShape(e){const t=e.shape;return[t[0],1,t[2]]}}qpe.className="SpatialDropout1D",c8(qpe);class Kpe extends Que{constructor(e){if(super(e),this.activation=null,this.useBias=!0,this.kernel=null,this.bias=null,this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_BIAS_INITIALIZER="zeros",null==e.batchInputShape&&null==e.inputShape&&null!=e.inputDim){let t=null;null!=e.batchSize&&(t=e.batchSize),this.batchInputShape=[t,e.inputDim]}this.units=e.units,Cle(this.units,"units"),this.activation=Yde(e.activation),null!=e.useBias&&(this.useBias=e.useBias),this.kernelInitializer=jue(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.biasInitializer=jue(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelConstraint=gce(e.kernelConstraint),this.biasConstraint=gce(e.biasConstraint),this.kernelRegularizer=rpe(e.kernelRegularizer),this.biasRegularizer=rpe(e.biasRegularizer),this.activityRegularizer=rpe(e.activityRegularizer),this.supportsMasking=!0,this.inputSpec=[{minNDim:2}]}build(e){const t=(e=zue(e))[e.length-1];null==this.kernel&&(this.kernel=this.addWeight("kernel",[t,this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint))),this.inputSpec=[{minNDim:2,axes:{[-1]:t}}],this.built=!0}computeOutputShape(e){const t=(e=zue(e)).slice();return t[t.length-1]=this.units,t}call(e,t){return T5((()=>{this.invokeCallHook(e,t);const n=Lue(e),r=Ile(this.activation.getClassName());let o;return null!=r?o=lue(n,this.kernel.read(),r,this.bias?this.bias.read():null):(o=lue(n,this.kernel.read()),null!=this.bias&&(o=pue(o,this.bias.read())),null!=this.activation&&(o=this.activation.apply(o))),o}))}getConfig(){const e={units:this.units,activation:Kde(this.activation),useBias:this.useBias,kernelInitializer:$ue(this.kernelInitializer),biasInitializer:$ue(this.biasInitializer),kernelRegularizer:tpe(this.kernelRegularizer),biasRegularizer:tpe(this.biasRegularizer),activityRegularizer:tpe(this.activityRegularizer),kernelConstraint:fce(this.kernelConstraint),biasConstraint:fce(this.biasConstraint)},t=super.getConfig();return Object.assign(e,t),e}}Kpe.className="Dense",c8(Kpe);class Xpe extends Que{constructor(e){super(e=e||{}),this.inputSpec=[{minNDim:3}],this.dataFormat=e.dataFormat}computeOutputShape(e){e=zue(e);for(const t of e.slice(1))if(null==t)throw new ale(`The shape of the input to "Flatten" is not fully defined (got ${e.slice(1)}). Make sure to pass a complete "input_shape" or "batch_input_shape" argument to the first layer in your model.`);return[e[0],qle(e,1)]}call(e,t){return T5((()=>{this.invokeCallHook(e,t);let n=Lue(e);if("channelsFirst"===this.dataFormat&&n.rank>1){const e=[0];for(let t=2;t<n.rank;++t)e.push(t);e.push(1),n=e9(n,e)}return function(e){if(e.rank<=1)throw new ale(`batchFlatten requires a minimum rank of 2. Got rank: ${e.rank}.`);const t=[e.shape[0],qle(e.shape,1)];return A7(e,t)}(n)}))}getConfig(){const e={};null!=this.dataFormat&&(e.dataFormat=this.dataFormat);const t=super.getConfig();return Object.assign(e,t),e}}Xpe.className="Flatten",c8(Xpe);class Ype extends Que{constructor(e){super(e),this.supportsMasking=!0,this.activation=Yde(e.activation)}call(e,t){return T5((()=>{this.invokeCallHook(e,t);const n=Lue(e);return this.activation.apply(n)}))}getConfig(){const e={activation:Kde(this.activation)},t=super.getConfig();return Object.assign(e,t),e}}Ype.className="Activation",c8(Ype);class Qpe extends Que{constructor(e){super(e),this.n=e.n,this.inputSpec=[{ndim:2}]}computeOutputShape(e){return[e[0],this.n,e[1]]}call(e,t){return T5((()=>{return e=Lue(e),t=e,n=this.n,T5((()=>{if(2!==t.shape.length)throw new ale(`repeat() expects a rank-2 tensor, but received a rank-${t.shape.length} tensor.`);return iue(eue(t,1),[1,n,1])}));var t,n}))}getConfig(){const e={n:this.n},t=super.getConfig();return Object.assign(e,t),e}}Qpe.className="RepeatVector",c8(Qpe);class Zpe extends Que{constructor(e){super(e),this.targetShape=e.targetShape;for(let t=0;t<this.targetShape.length;++t)this.isUnknown(this.targetShape[t])&&(this.targetShape[t]=null)}isUnknown(e){return e<0||null==e}fixUnknownDimension(e,t){const n="Total size of new array must be unchanged.",r=t.slice();let o=1,a=null;for(let s=0;s<r.length;++s){const e=r[s];if(this.isUnknown(e)){if(null!==a)throw new ale("Can only specifiy one unknown dimension.");a=s}else o*=e}const i=qle(e);if(null!==a){if(0===o||i%o!==0)throw new ale(n);r[a]=i/o}else if(i!==o)throw new ale(n);return r}computeOutputShape(e){let t=!1;for(let n=0;n<e.length;++n)if(this.isUnknown(e[n])){t=!0;break}return t?e.slice(0,1).concat(this.targetShape):e.slice(0,1).concat(this.fixUnknownDimension(e.slice(1),this.targetShape))}call(e,t){return T5((()=>{this.invokeCallHook(e,t);const n=Lue(e),r=n.shape,o=r.slice(0,1).concat(this.fixUnknownDimension(r.slice(1),this.targetShape));return A7(n,o)}))}getConfig(){const e={targetShape:this.targetShape},t=super.getConfig();return Object.assign(e,t),e}}Zpe.className="Reshape",c8(Zpe);class Jpe extends Que{constructor(e){if(super(e),null==e.dims)throw new Error("Required configuration field `dims` is missing during Permute constructor call.");if(!Array.isArray(e.dims))throw new Error(`Permute constructor requires \`dims\` to be an Array, but received ${e.dims} instead.`);const t=Yle(1,e.dims.length+1);if(!TJ(e.dims.slice().sort(),t))throw new Error("Invalid permutation `dims`: "+JSON.stringify(e.dims)+" `dims` must contain consecutive integers starting from 1.");this.dims=e.dims,this.dimsIncludingBatch=[0].concat(this.dims),this.inputSpec=[new Gue({ndim:this.dims.length+1})]}computeOutputShape(e){const t=(e=zue(e)).slice();return this.dims.forEach(((n,r)=>{t[r+1]=e[n]})),t}call(e,t){return e9(Lue(e),this.dimsIncludingBatch)}getConfig(){const e={dims:this.dims},t=super.getConfig();return Object.assign(e,t),e}}Jpe.className="Permute",c8(Jpe);class ehe extends Que{constructor(e){super(null==e?{}:e),this.supportsMasking=!0,this.maskValue=null!=e?null==e.maskValue?0:e.maskValue:0}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),t={maskValue:this.maskValue};return Object.assign(t,e),t}computeMask(e,t){const n=Lue(e);return t7(xte(n,this.maskValue),-1)}call(e,t){return T5((()=>{this.invokeCallHook(e,t);const n=Lue(e),r=t7(xte(n,this.maskValue),-1,!0);return K6(n,W6(r,n.dtype))}))}}ehe.className="Masking",c8(ehe);class the extends Que{constructor(e){if(super(e),this.embeddings=null,this.DEFAULT_EMBEDDINGS_INITIALIZER="randomUniform",null==e.batchInputShape&&null==e.inputShape){let t=null;null!=e.batchSize&&(t=e.batchSize),null==e.inputLength?this.batchInputShape=[t,null]:this.batchInputShape=[t].concat(hle(e.inputLength))}this.inputDim=e.inputDim,Cle(this.inputDim,"inputDim"),this.outputDim=e.outputDim,Cle(this.outputDim,"outputDim"),this.embeddingsInitializer=jue(e.embeddingsInitializer||this.DEFAULT_EMBEDDINGS_INITIALIZER),this.embeddingsRegularizer=rpe(e.embeddingsRegularizer),this.activityRegularizer=rpe(e.activityRegularizer),this.embeddingsConstraint=gce(e.embeddingsConstraint),this.maskZero=e.maskZero,this.supportsMasking=e.maskZero,this.inputLength=e.inputLength}build(e){this.embeddings=this.addWeight("embeddings",[this.inputDim,this.outputDim],this.dtype,this.embeddingsInitializer,this.embeddingsRegularizer,!0,this.embeddingsConstraint),this.built=!0}warnOnIncompatibleInputShape(e){}computeMask(e,t){return T5((()=>this.maskZero?(e=Lue(e),xte(e,Q6(e))):null))}computeOutputShape(e){if(e=zue(e),null==this.inputLength)return[...e,this.outputDim];const t=hle(this.inputLength);if(t.length!==e.length-1)throw new ale(`"inputLength" is ${this.inputLength}, but received input shape has shape ${e}`);{let n=0;for(let r=0;r<t.length;++r){const o=t[r],a=e[r+1];if(null!=o&&null!=a&&o!==a)throw new ale(`"inputLength" is ${this.inputLength}, but received input shape has shape ${e}`);null==o&&(t[n]=a),n++}}return[e[0],...t,this.outputDim]}call(e,t){return T5((()=>{this.invokeCallHook(e,t);let n=Lue(e);"int32"!==n.dtype&&(n=Jle(n,"int32"));const r=uue(this.embeddings.read(),A7(n,[n.size]));return A7(r,zue(this.computeOutputShape(n.shape)))}))}getConfig(){const e={inputDim:this.inputDim,outputDim:this.outputDim,embeddingsInitializer:$ue(this.embeddingsInitializer),embeddingsRegularizer:tpe(this.embeddingsRegularizer),activityRegularizer:tpe(this.activityRegularizer),embeddingsConstraint:fce(this.embeddingsConstraint),maskZero:this.maskZero,inputLength:this.inputLength},t=super.getConfig();return Object.assign(e,t),e}}the.className="Embedding",c8(the);class nhe extends Que{constructor(e){super(e||{}),this.supportsMasking=!0}mergeFunction(e){throw new ile}computeElementwiseOpOutputShape(e,t){if(null==e||null==t)return null;if(e.length<t.length)return this.computeElementwiseOpOutputShape(t,e);if(0===t.length)return e;const n=e.slice(0,e.length-t.length);for(let r=0;r<t.length;++r){const o=e[e.length-t.length+r],a=t[r];if(null==o||null==a||o<0||a<0)n.push(null);else if(1===o)n.push(a);else if(1===a)n.push(o);else{if(o!==a)throw new ale("Operands could not be broadcast together with shapes "+JSON.stringify(e)+" "+JSON.stringify(t));n.push(o)}}return n}build(e){if(Array.isArray(e)&&!Array.isArray(e[0])&&(e=[zue(e)]),e.length<2)throw new ale(`A merge layer should be called on an Array of at least 2 inputs. Got ${e.length} input(s).`);let t=[];for(const o of e)null!=o&&null!==o[0]&&t.push(o[0]);if(t=wle(t),t.length>1)throw new ale(`Can not merge tensors with different batch sizes. Got tensors with shapes: ${JSON.stringify(e)}.`);let n=null==e[0]?null:e[0].slice(1);for(let o=1;o<e.length;++o){const t=null==e[o]?null:e[o].slice(1);n=this.computeElementwiseOpOutputShape(n,t)}const r=e.map((e=>e.length));-1===e.indexOf(null)&&1===wle(r).length?this.reshapeRequired=!1:this.reshapeRequired=!0}call(e,t){return T5((()=>{if(this.reshapeRequired){const t=[],n=e.map((e=>e.rank));if(-1===n.indexOf(null)){const r=Xle(n);for(let n of e){const e=n.rank;for(let t=0;t<r-e;++t)n=eue(n,1);t.push(n)}return this.mergeFunction(t)}{let n=!1;for(const a of e){const e=a.rank;if(null==e){const e=a.shape,r=e[0],o=e.slice(1).concat([r]);let i=A7(a,[r].concat(qle(e.slice(1))));i=e9(i,[1,0]),i=A7(i,o),t.push(i),n=!0}else if(e>1){const r=Yle(1,e).concat([0]);t.push(e9(a,r)),n=!0}else t.push(a)}let r=this.mergeFunction(t);const o=r.rank;if(n)if(null==o){const e=r.shape,t=e[e.length-1],n=[t].concat(e.slice(0,e.length-1));r=A7(e9(A7(r,[-1,t]),[1,0]),n)}else if(o>1){const e=[o-1].concat(Yle(0,o-1));r=e9(r,e)}return r}}return this.mergeFunction(e)}))}computeOutputShape(e){let t;t=null==e[0]?null:e[0].slice(1);for(let r=1;r<e.length;++r){const n=null==e[r]?null:e[r].slice(1);t=this.computeElementwiseOpOutputShape(t,n)}let n=[];for(const r of e)null!=r&&null!==r[0]&&n.push(r[0]);return n=wle(n),t=1===n.length?n.concat(t):[null].concat(t),t}computeMask(e,t){return T5((()=>{if(null==t)return null;if(!Array.isArray(t))throw new ale("`mask` should be an Array");if(!Array.isArray(e))throw new ale("`inputs` should be an Array");if(t.length!==e.length)throw new ale(`The Array 'inputs' and 'mask' are expected to have the same length, but have different lengths (${e.length} vs ${t.length})`);if(t.every((e=>null==e)))return null;let n=(t=t.map((e=>null==e?e:Dee(e,0))))[0];for(let e=1;e<t.length-1;++e)n=ete(n,t[e]);return n}))}}class rhe extends nhe{constructor(e){super(e)}mergeFunction(e){return T5((()=>{let t=e[0].clone();for(let n=1;n<e.length;++n)t=H6(t,e[n]);return t}))}}rhe.className="Add",c8(rhe);class ohe extends nhe{constructor(e){super(e)}mergeFunction(e){return T5((()=>{let t=e[0].clone();for(let n=1;n<e.length;++n)t=K6(t,e[n]);return t}))}}ohe.className="Multiply",c8(ohe);class ahe extends nhe{constructor(e){super(e)}mergeFunction(e){return T5((()=>{let t=e[0].clone();for(let n=1;n<e.length;++n)t=H6(t,e[n]);return K6(1/e.length,t)}))}}ahe.className="Average",c8(ahe);class ihe extends nhe{constructor(e){super(e)}mergeFunction(e){return T5((()=>{let t=e[0];for(let n=1;n<e.length;++n)t=S8(t,e[n]);return t}))}}ihe.className="Maximum",c8(ihe);class she extends nhe{constructor(e){super(e)}mergeFunction(e){return T5((()=>{let t=e[0];for(let n=1;n<e.length;++n)t=fte(t,e[n]);return t}))}}she.className="Minimum",c8(she);class lhe extends nhe{constructor(e){super(e),this.DEFAULT_AXIS=-1,null==e&&(e={}),this.axis=null==e.axis?this.DEFAULT_AXIS:e.axis,this.supportsMasking=!0,this.reshapeRequired=!1}build(e){if(!Array.isArray(e)||!Array.isArray(e[0])||1===e.length)throw new ale("A `Concatenate` layer should be called on a list of at least 2 inputs");let t=!0;for(const r of e)if(null!=r){t=!1;break}if(t)return;const n=[];for(let r=0;r<e.length;++r){const t=e[r].slice();t.splice(this.axis,1);let o=!1;for(const e of n)if(TJ(e,t)){o=!0;break}o||n.push(t)}if(n.length>1)throw new ale("A `Concatenate` layer requires inputs with matching shapes except for the concat axis. Got input shapes: "+JSON.stringify(e))}mergeFunction(e){return T5((()=>oue(e,this.axis)))}computeOutputShape(e){if(!Array.isArray(e)||!Array.isArray(e[0]))throw new ale("A `Concatenate` layer should be called on a list of inputs.");const t=e,n=t[0].slice(),r=this.axis<0?n.length+this.axis:this.axis;for(const o of t.slice(1)){if(null==n[r]||null==o[r]){n[r]=null;break}n[r]+=o[r]}return n}computeMask(e,t){if(null==t)return null;if(!Array.isArray(t))throw new ale("`mask` should be an array for Concatenate");if(!Array.isArray(e))throw new ale("`inputs` should be an array for Concatenate");if(t.length!==e.length)throw new ale(`Mismatch in the length of mask (${t.length}) and the legnth of inputs (${e.length})`);return T5((()=>{let n=!0;if(t.forEach((e=>{null==e||(n=!1)})),n)return null;const r=[];for(let a=0;a<e.length;++a)null==t[a]?r.push(W6(wte(e[a]),"bool")):t[a].rank<e[a].rank?r.push(Dee(t[a],-1)):r.push(t[a]);const o=I7(r,this.axis);return e7(o,-1,!1)}))}getConfig(){const e={axis:this.axis},t=super.getConfig();return Object.assign(e,t),e}}function uhe(e,t){for(;e<0;)e+=t;return e}lhe.className="Concatenate",c8(lhe);class che extends nhe{constructor(e){super(e),this.axes=e.axes,this.normalize=null!=e.normalize&&e.normalize,this.supportsMasking=!0,this.reshapeRequired=!1}build(e){xJ(Array.isArray(e)&&2===e.length&&Array.isArray(e[0])&&Array.isArray(e[1]),(()=>"A `Dot` layer should be called on a list of exactly 2 inputs."));const t=e[0],n=e[1];if(t.length>3||n.length>3)throw new ile("Dot layer does not support tensors of 4D or higher rank yet.");const r=this.interpretAxes(t,n);if(t[r[0]]!==n[r[1]])throw new ale(`Dimension incompatibility: ${t[r[0]]} !== ${n[r[1]]}`)}mergeFunction(e){if(2!==e.length)throw new ale(`A \`Dot\` layer must be called on exactly 2 inputs, but received ${e.length} input(s).`);let t,n=e[0],r=e[1];return t=Array.isArray(this.axes)?this.axes.map(((t,n)=>uhe(t,e[n].shape.length))):[uhe(this.axes,n.shape.length),uhe(this.axes,r.shape.length)],this.normalize&&(n=Oce(n,t[0]),r=Oce(r,t[1])),function(e,t,n){if(e.shape.length>3||t.shape.length>3)throw new ile("batchDot is not implemented for tensors of 4D or higher rank yet");if(xJ(e.shape.length>=2,(()=>`batchDot requires the rank of x to be >= 2, but got ${e.shape.length}`)),xJ(e.shape.length>=2,(()=>`batchDot requires the rank of y to be >= 2, but got ${t.shape.length}`)),"number"===typeof n&&(n=[n,n]),"complex64"===e.dtype||"complex64"===t.dtype)throw new ile("batchDot is not implemented for complex64-type Tensors yet.");const r=e.shape.length,o=t.shape.length;null==n&&(n=[r-1,o-2]);const a=n;return T5((()=>{let n,i;if(r>o){n=r-o;const e=[];for(let t=0;t<n;++t)e.push(1);t=A7(t,t.shape.concat(e))}else if(o>r){n=o-r;const t=[];for(let e=0;e<n;++e)t.push(1);e=A7(e,e.shape.concat(t))}else n=0;if(2===e.shape.length&&2===t.shape.length)i=a[0]===a[1]?Iee(K6(e,t),a[0]):Iee(K6(e9(e,[1,0]),t),a[1]);else{const n=a[0]!==e.shape.length-1,r=a[1]===t.shape.length-1;i=X8(e,t,n,r)}if(n>0){let e;e=r>o?r+o-3:r-1;const t=[];for(let r=e;r<e+n;++r)t.push(r);i=bne(i,t)}return 1===i.shape.length&&(i=Dee(i,1)),i}))}(n,r,t)}interpretAxes(e,t){let n;return n=Array.isArray(this.axes)?this.axes:[uhe(this.axes,e.length),uhe(this.axes,t.length)],n}computeOutputShape(e){xJ(Array.isArray(e)&&2===e.length&&Array.isArray(e[0])&&Array.isArray(e[1]),(()=>"A `Dot` layer should be called on a list of exactly 2 inputs."));const t=e[0].slice(),n=e[1].slice();if(t.length>3||n.length>3)throw new ile("Dot layer does not support tensors of 4D or higher rank yet.");const r=this.interpretAxes(t,n);t.splice(r[0],1),n.splice(r[1],1),n.splice(0,1);const o=t.concat(n);return 1===o.length&&o.push(1),o}computeMask(e,t){return null}getConfig(){const e={axes:this.axes,normalize:this.normalize},t=super.getConfig();return Object.assign(e,t),e}}che.className="Dot",c8(che);class dhe extends Que{constructor(e){super(e),this.supportsMasking=!0,this.stddev=e.stddev}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),t={stddev:this.stddev};return Object.assign(t,e),t}call(e,t){return T5((()=>{this.invokeCallHook(e,t);const n=Lue(e);return fue((()=>H6(sue(n.shape,0,this.stddev),n)),(()=>n),t.training||!1)}))}}dhe.className="GaussianNoise",c8(dhe);class phe extends Que{constructor(e){super(e),this.supportsMasking=!0,this.rate=e.rate}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),t={rate:this.rate};return Object.assign(t,e),t}call(e,t){return T5((()=>{this.invokeCallHook(e,t);const n=Lue(e);if(this.rate>0&&this.rate<1){return fue((()=>{const e=Math.sqrt(this.rate/(1-this.rate));return K6(n,sue(n.shape,1,e))}),(()=>n),t.training||!1)}return n}))}}phe.className="GaussianDropout",c8(phe);class hhe extends Que{constructor(e){super(e),this.supportsMasking=!0,this.rate=e.rate,this.noiseShape=e.noiseShape}_getNoiseShape(e){return this.noiseShape||Lue(e).shape}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),t={rate:this.rate};return Object.assign(t,e),t}call(e,t){return T5((()=>{if(this.rate<1&&this.rate>0){const n=this._getNoiseShape(e);return fue((()=>{const t=Lue(e),r=-1.7580993408473766;let o=Lee(Vte(n),this.rate);o=Jle(o,"float32");const a=((1-this.rate)*(1+this.rate*r**2))**-.5,i=-a*r*this.rate,s=H6(K6(t,o),K6(H6(o,-1),r));return H6(K6(s,a),i)}),(()=>Lue(e)),t.training||!1)}return e}))}}function fhe(e,t,n,r,o){let a,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:.001;if(2===e.rank)a=P7(e,t,n,r,o,i);else if(3===e.rank)a=$7(e,t,n,r,o,i);else{if(4!==e.rank)throw new ile(`batchNormalization is not implemented for array of rank ${e.rank} yet`);a=j7(e,t,n,r,o,i)}return a}function mhe(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.001;return TJ(r.slice().sort(),Yle(0,e.rank-1))?function(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.001;return T5((()=>{const a=yte(e,r),i=a.mean,s=a.variance;return[fhe(e,i,s,n,t,o),i,s]}))}(e,t,n,r,o):function(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.001;return T5((()=>{const a=yte(e,r),i=a.mean,s=a.variance,l=[];for(const t of Yle(0,e.rank))-1!==r.indexOf(t)?l.push(1):l.push(e.shape[t]);const u=A7(i,l),c=A7(s,l),d=null==t?null:A7(t,l),p=null==n?null:A7(n,l);return[fhe(e,u,c,p,d,o),i,s]}))}(e,t,n,r,o)}hhe.className="AlphaDropout",c8(hhe);class ghe extends Que{constructor(e){null==e&&(e={}),super(e),this.supportsMasking=!0,this.axis=null==e.axis?-1:e.axis,this.momentum=null==e.momentum?.99:e.momentum,this.epsilon=null==e.epsilon?.001:e.epsilon,this.center=null==e.center||e.center,this.scale=null==e.scale||e.scale,this.betaInitializer=jue(e.betaInitializer||"zeros"),this.gammaInitializer=jue(e.gammaInitializer||"ones"),this.movingMeanInitializer=jue(e.movingMeanInitializer||"zeros"),this.movingVarianceInitializer=jue(e.movingVarianceInitializer||"ones"),this.betaConstraint=gce(e.betaConstraint),this.gammaConstraint=gce(e.gammaConstraint),this.betaRegularizer=rpe(e.betaRegularizer),this.gammaRegularizer=rpe(e.gammaRegularizer)}build(e){e=zue(e);const t=this.axis>=0?this.axis:this.axis+e.length,n=e[t];if(null==n)throw new ale(`Axis ${t} of input tensor should have a defined dimension but the layer received an input with shape ${JSON.stringify(e)}.`);this.inputSpec=[new Gue({ndim:e.length,axes:{[t]:n}})];const r=[n];this.scale&&(this.gamma=this.addWeight("gamma",r,null,this.gammaInitializer,this.gammaRegularizer,!0,this.gammaConstraint)),this.center&&(this.beta=this.addWeight("beta",r,null,this.betaInitializer,this.betaRegularizer,!0,this.betaConstraint)),this.movingMean=this.addWeight("moving_mean",r,null,this.movingMeanInitializer,null,!1),this.movingVariance=this.addWeight("moving_variance",r,null,this.movingVarianceInitializer,null,!1),this.built=!0}call(e,t){return T5((()=>{const n=null!=t.training&&t.training,r=Lue(e),o=r.shape,a=o.length,i=Yle(0,a),s=this.axis>=0?this.axis:this.axis+a;i.splice(s,1);const l=ule(1,a);l[s]=o[s];const u=i.slice();u.sort();const c=!TJ(u,Yle(0,a).slice(0,a-1));if(!n)return(()=>{if(c){const e=A7(this.movingMean.read(),l),t=A7(this.movingVariance.read(),l),n=this.center?A7(this.beta.read(),l):null,o=this.scale?A7(this.gamma.read(),l):null;return fhe(r,e,t,n,o,this.epsilon)}return fhe(r,this.movingMean.read(),this.movingVariance.read(),null==this.beta?null:this.beta.read(),null==this.gamma?null:this.gamma.read(),this.epsilon)})();const[d,p,h]=mhe(r,this.gamma.read(),this.beta.read(),i,this.epsilon),f=(e,t,n)=>{T5((()=>{const r=1-n,o=e.read(),a=K6(y8(o,t),r);e.write(y8(o,a))}))};return(()=>{f(this.movingMean,p,this.momentum),f(this.movingVariance,h,this.momentum)})(),d}))}getConfig(){const e={axis:this.axis,momentum:this.momentum,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:$ue(this.betaInitializer),gammaInitializer:$ue(this.gammaInitializer),movingMeanInitializer:$ue(this.movingMeanInitializer),movingVarianceInitializer:$ue(this.movingVarianceInitializer),betaRegularizer:tpe(this.betaRegularizer),gammaRegularizer:tpe(this.gammaRegularizer),betaConstraint:fce(this.betaConstraint),gammaConstraint:fce(this.gammaConstraint)},t=super.getConfig();return Object.assign(e,t),e}}ghe.className="BatchNormalization",c8(ghe);class yhe extends Que{constructor(e){if(null==e&&(e={}),super(e),this.axis=null==e.axis?-1:e.axis,"number"===typeof this.axis){if(!Number.isInteger(this.axis))throw new Error(`Expected axis to be an integer, but received ${this.axis}`)}else{if(!Array.isArray(this.axis))throw new Error(`Expected axis to be an integer or an array of integers, but received ${JSON.stringify(this.axis)}`);for(const e of this.axis)if(!Number.isInteger(e))throw new Error(`Expected axis to be an array of integers, but received ${JSON.stringify(this.axis)}`)}this.epsilon=null==e.epsilon?.001:e.epsilon,this.center=null==e.center||e.center,this.scale=null==e.scale||e.scale,this.betaInitializer=jue(e.betaInitializer||"zeros"),this.gammaInitializer=jue(e.gammaInitializer||"ones"),this.betaRegularizer=rpe(e.betaRegularizer),this.gammaRegularizer=rpe(e.gammaRegularizer),this.supportsMasking=!0}build(e){const t=(e=zue(e)).length;"number"===typeof this.axis&&(this.axis=[this.axis]);for(let o=0;o<this.axis.length;++o)this.axis[o]<0&&(this.axis[o]+=t);for(const o of this.axis)if(o<0||o>=t)throw new Error(`Invalid axis: ${o}`);if(this.axis.length!==wle(this.axis).length)throw new Error(`Found duplicate axes in: ${this.axis}`);const n=this.axis.map((t=>e[t])),r=!0;this.scale?this.gamma=this.addWeight("gamma",n,"float32",this.gammaInitializer,this.gammaRegularizer,r):this.gamma=null,this.center?this.beta=this.addWeight("beta",n,"float32",this.betaInitializer,this.betaRegularizer,r):this.beta=null,this.built=!0}call(e,t){const n=Lue(e),r=n.shape,o=r.length;return T5((()=>{let{mean:e,variance:t}=yte(n,this.axis,!0);const a=ule(1,o);for(const n of this.axis)a[n]=r[n];const i=e=>null!=e&&e.shape.length!==o?A7(e,a):e;let s=this.scale?i(this.gamma.read()):null,l=this.center?i(this.beta.read()):null;const u=[],c=[];for(let n=0;n<o;++n)-1!==this.axis.indexOf(n)?(u.push(r[n]),c.push(1)):(u.push(1),c.push(r[n]));return e=Pee(e,u),t=Pee(t,u),null!=s&&(s=Pee(s,c)),null!=l&&(l=Pee(l,c)),fhe(n,e,t,l,s,this.epsilon)}))}getConfig(){const e={axis:this.axis,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:$ue(this.betaInitializer),gammaInitializer:$ue(this.gammaInitializer),betaRegularizer:tpe(this.betaRegularizer),gammaRegularizer:tpe(this.gammaRegularizer)},t=super.getConfig();return Object.assign(e,t),e}}yhe.className="LayerNormalization",c8(yhe);class vhe extends Que{constructor(e){if(null==e&&(e={}),super(e),this.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,null==e.padding)this.padding=[[1,1],[1,1]];else if("number"===typeof e.padding)this.padding=[[e.padding,e.padding],[e.padding,e.padding]];else{if(e.padding=e.padding,2!==e.padding.length)throw new ale(`ZeroPadding2D expects padding to be a length-2 array, but received a length-${e.padding.length} array.`);let t,n;if("number"===typeof e.padding[0])t=[e.padding[0],e.padding[0]],n=[e.padding[1],e.padding[1]];else{if(e.padding=e.padding,2!==e.padding[0].length)throw new ale(`ZeroPadding2D expects height padding to be a length-2 array, but received a length-${e.padding[0].length} array.`);if(t=e.padding[0],2!==e.padding[1].length)throw new ale(`ZeroPadding2D expects width padding to be a length-2 array, but received a length-${e.padding[1].length} array.`);n=e.padding[1]}this.padding=[t,n]}this.inputSpec=[new Gue({ndim:4})]}computeOutputShape(e){let t,n;return e=zue(e),"channelsFirst"===this.dataFormat?(t=null!=e[2]&&e[2]>=0?e[2]+this.padding[0][0]+this.padding[0][1]:null,n=null!=e[3]&&e[3]>=0?e[3]+this.padding[1][0]+this.padding[1][1]:null,[e[0],e[1],t,n]):(t=null!=e[1]&&e[1]>=0?e[1]+this.padding[0][0]+this.padding[0][1]:null,n=null!=e[2]&&e[2]>=0?e[2]+this.padding[1][0]+this.padding[1][1]:null,[e[0],t,n,e[3]])}call(e,t){return T5((()=>{return t=Lue(e),n=this.padding,r=this.dataFormat,T5((()=>{if(4!==t.rank)throw new ale(`temporalPadding expects input tensor to be 4-D, but received a ${t.rank}-D tensor.`);if(null==n&&(n=[[1,1],[1,1]]),2!==n.length||2!==n[0].length||2!==n[1].length)throw new ale("spatial2dPadding expects `padding` to be an Array of two Arrays, each of which is an Array of two integers.");if(null==r&&(r="channelsLast"),"channelsLast"!==r&&"channelsFirst"!==r)throw new ale(`Unknown data format: ${r}. Supported data formats are 'channelsLast' and 'channelsFirst.`);let e;return e="channelsFirst"===r?[[0,0],[0,0],n[0],n[1]]:[[0,0],n[0],n[1],[0,0]],Ste(t,e)}));var t,n,r}))}getConfig(){const e={padding:this.padding,dataFormat:this.dataFormat},t=super.getConfig();return Object.assign(e,t),e}}function bhe(e,t,n,r,o,a){return T5((()=>{let i;Fle(o),zle(a),Lle(r),null==n&&(n=[1,1]),null==r&&(r="valid"),null==o&&(o="channelsLast"),null==a&&(a="max"),e=hpe(e,o);const s="same"===r?"same":"valid";return i="max"===a?ste(e,t,n,s):C7(e,t,n,s),"channelsFirst"===o&&(i=e9(i,[0,3,1,2])),i}))}function xhe(e,t,n,r,o,a){return T5((()=>{let i;Fle(o),zle(a),Lle(r),null==n&&(n=[1,1,1]),null==r&&(r="valid"),null==o&&(o="channelsLast"),null==a&&(a="max"),e=fpe(e,o);const s="same"===r?"same":"valid";return i="max"===a?lte(e,t,n,s):T7(e,t,n,s),"channelsFirst"===o&&(i=e9(i,[0,4,1,2,3])),i}))}vhe.className="ZeroPadding2D",c8(vhe);class whe extends Que{constructor(e){if(null==e.poolSize&&(e.poolSize=2),super(e),"number"===typeof e.poolSize)this.poolSize=[e.poolSize];else{if(!Array.isArray(e.poolSize)||1!==e.poolSize.length||"number"!==typeof e.poolSize[0])throw new ale(`poolSize for 1D convolutional layer must be a number or an Array of a single number, but received ${JSON.stringify(e.poolSize)}`);this.poolSize=e.poolSize}if(Cle(this.poolSize,"poolSize"),null==e.strides)this.strides=this.poolSize;else if("number"===typeof e.strides)this.strides=[e.strides];else{if(!Array.isArray(e.strides)||1!==e.strides.length||"number"!==typeof e.strides[0])throw new ale(`strides for 1D convolutional layer must be a number or an Array of a single number, but received ${JSON.stringify(e.strides)}`);this.strides=e.strides}Cle(this.strides,"strides"),this.padding=null==e.padding?"valid":e.padding,Lle(this.padding),this.inputSpec=[new Gue({ndim:3})]}computeOutputShape(e){const t=dpe((e=zue(e))[1],this.poolSize[0],this.padding,this.strides[0]);return[e[0],t,e[2]]}call(e,t){return T5((()=>{this.invokeCallHook(e,t),e=eue(Lue(e),2);const n=this.poolingFunction(Lue(e),[this.poolSize[0],1],[this.strides[0],1],this.padding,"channelsLast");return bne(n,[2])}))}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides},t=super.getConfig();return Object.assign(e,t),e}}class khe extends whe{constructor(e){super(e)}poolingFunction(e,t,n,r,o){return Fle(o),Lle(r),bhe(e,t,n,r,o,"max")}}khe.className="MaxPooling1D",c8(khe);class She extends whe{constructor(e){super(e)}poolingFunction(e,t,n,r,o){return Fle(o),Lle(r),bhe(e,t,n,r,o,"avg")}}She.className="AveragePooling1D",c8(She);class Ahe extends Que{constructor(e){if(null==e.poolSize&&(e.poolSize=[2,2]),super(e),this.poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize],null==e.strides)this.strides=this.poolSize;else if(Array.isArray(e.strides)){if(2!==e.strides.length)throw new ale(`If the strides property of a 2D pooling layer is an Array, it is expected to have a length of 2, but received length ${e.strides.length}.`);this.strides=e.strides}else this.strides=[e.strides,e.strides];Cle(this.poolSize,"poolSize"),Cle(this.strides,"strides"),this.padding=null==e.padding?"valid":e.padding,this.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,Fle(this.dataFormat),Lle(this.padding),this.inputSpec=[new Gue({ndim:4})]}computeOutputShape(e){e=zue(e);let t="channelsFirst"===this.dataFormat?e[2]:e[1],n="channelsFirst"===this.dataFormat?e[3]:e[2];return t=dpe(t,this.poolSize[0],this.padding,this.strides[0]),n=dpe(n,this.poolSize[1],this.padding,this.strides[1]),"channelsFirst"===this.dataFormat?[e[0],e[1],t,n]:[e[0],t,n,e[3]]}call(e,t){return T5((()=>(this.invokeCallHook(e,t),this.poolingFunction(Lue(e),this.poolSize,this.strides,this.padding,this.dataFormat))))}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},t=super.getConfig();return Object.assign(e,t),e}}class Che extends Ahe{constructor(e){super(e)}poolingFunction(e,t,n,r,o){return Fle(o),Lle(r),bhe(e,t,n,r,o,"max")}}Che.className="MaxPooling2D",c8(Che);class The extends Ahe{constructor(e){super(e)}poolingFunction(e,t,n,r,o){return Fle(o),Lle(r),bhe(e,t,n,r,o,"avg")}}The.className="AveragePooling2D",c8(The);class Ihe extends Que{constructor(e){if(null==e.poolSize&&(e.poolSize=[2,2,2]),super(e),this.poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize,e.poolSize],null==e.strides)this.strides=this.poolSize;else if(Array.isArray(e.strides)){if(3!==e.strides.length)throw new ale(`If the strides property of a 3D pooling layer is an Array, it is expected to have a length of 3, but received length ${e.strides.length}.`);this.strides=e.strides}else this.strides=[e.strides,e.strides,e.strides];Cle(this.poolSize,"poolSize"),Cle(this.strides,"strides"),this.padding=null==e.padding?"valid":e.padding,this.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,Fle(this.dataFormat),Lle(this.padding),this.inputSpec=[new Gue({ndim:5})]}computeOutputShape(e){e=zue(e);let t="channelsFirst"===this.dataFormat?e[2]:e[1],n="channelsFirst"===this.dataFormat?e[3]:e[2],r="channelsFirst"===this.dataFormat?e[4]:e[3];return t=dpe(t,this.poolSize[0],this.padding,this.strides[0]),n=dpe(n,this.poolSize[1],this.padding,this.strides[1]),r=dpe(r,this.poolSize[2],this.padding,this.strides[2]),"channelsFirst"===this.dataFormat?[e[0],e[1],t,n,r]:[e[0],t,n,r,e[4]]}call(e,t){return T5((()=>(this.invokeCallHook(e,t),this.poolingFunction(Lue(e),this.poolSize,this.strides,this.padding,this.dataFormat))))}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},t=super.getConfig();return Object.assign(e,t),e}}class Ehe extends Ihe{constructor(e){super(e)}poolingFunction(e,t,n,r,o){return Fle(o),Lle(r),xhe(e,t,n,r,o,"max")}}Ehe.className="MaxPooling3D",c8(Ehe);class Nhe extends Ihe{constructor(e){super(e)}poolingFunction(e,t,n,r,o){return Fle(o),Lle(r),xhe(e,t,n,r,o,"avg")}}Nhe.className="AveragePooling3D",c8(Nhe);class Ohe extends Que{constructor(e){super(e),this.inputSpec=[new Gue({ndim:3})]}computeOutputShape(e){return[e[0],e[2]]}call(e,t){throw new ile}}class Mhe extends Ohe{constructor(e){super(e||{})}call(e,t){return T5((()=>{const t=Lue(e);return cte(t,1)}))}}Mhe.className="GlobalAveragePooling1D",c8(Mhe);class Dhe extends Ohe{constructor(e){super(e||{})}call(e,t){return T5((()=>{const t=Lue(e);return Cee(t,1)}))}}Dhe.className="GlobalMaxPooling1D",c8(Dhe);class Rhe extends Que{constructor(e){super(e),this.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,Fle(this.dataFormat),this.inputSpec=[new Gue({ndim:4})]}computeOutputShape(e){return"channelsLast"===this.dataFormat?[e[0],e[3]]:[e[0],e[1]]}call(e,t){throw new ile}getConfig(){const e={dataFormat:this.dataFormat},t=super.getConfig();return Object.assign(e,t),e}}class Phe extends Rhe{call(e,t){return T5((()=>{const t=Lue(e);return"channelsLast"===this.dataFormat?cte(t,[1,2]):cte(t,[2,3])}))}}Phe.className="GlobalAveragePooling2D",c8(Phe);class $he extends Rhe{call(e,t){return T5((()=>{const t=Lue(e);return"channelsLast"===this.dataFormat?Cee(t,[1,2]):Cee(t,[2,3])}))}}$he.className="GlobalMaxPooling2D",c8($he);class jhe extends Que{constructor(e){super(e),this.layer=e.layer}build(e){this.built=!0}get trainable(){return null!=this.layer&&this.layer.trainable}set trainable(e){null!=this.layer&&(this.layer.trainable=e)}get trainableWeights(){return this.layer.trainableWeights}get nonTrainableWeights(){return this.layer.nonTrainableWeights}get updates(){return this.layer._updates}get losses(){return this.layer.losses}getWeights(){return this.layer.getWeights()}setWeights(e){this.layer.setWeights(e)}getConfig(){const e={layer:{className:this.layer.getClassName(),config:this.layer.getConfig()}},t=super.getConfig();return Object.assign(e,t),e}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),null!=this.layer&&this.layer.setFastWeightInitDuringBuild(e)}static fromConfig(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=Nce(t.layer,n);delete t.layer;const o={layer:r};return Object.assign(o,t),new e(o)}}class _he extends jhe{constructor(e){super(e),this.supportsMasking=!0}build(e){if((e=zue(e)).length<3)throw new ale(`TimeDistributed layer expects an input shape >= 3D, but received input shape ${JSON.stringify(e)}`);this.inputSpec=[{shape:e}];const t=[e[0]].concat(e.slice(2));this.layer.built||(this.layer.build(t),this.layer.built=!0),super.build(e)}computeOutputShape(e){const t=[(e=zue(e))[0]].concat(e.slice(2)),n=this.layer.computeOutputShape(t),r=e[1];return[n[0],r].concat(n.slice(1))}call(e,t){return T5((()=>Mpe(((e,n)=>[Lue(this.layer.call(e,t)),[]]),e=Lue(e),[],!1,null,null,!1,!0)[1]))}}_he.className="TimeDistributed",c8(_he);class Fhe extends jhe{constructor(e){super(e);const t=e.layer.getConfig(),n={};n.className=e.layer.getClassName(),n.config=t,this.forwardLayer=Nce(n),t.goBackwards=!0!==t.goBackwards;const r={};var o;if(r.className=e.layer.getClassName(),r.config=t,this.backwardLayer=Nce(r),this.forwardLayer.name="forward_"+this.forwardLayer.name,this.backwardLayer.name="backward_"+this.backwardLayer.name,this.mergeMode=void 0===e.mergeMode?"concat":e.mergeMode,o=this.mergeMode,Sle(jle,"BidirectionalMergeMode",o),e.weights)throw new ile("weights support is not implemented for Bidirectional layer yet.");this._stateful=e.layer.stateful,this.returnSequences=e.layer.returnSequences,this.returnState=e.layer.returnState,this.supportsMasking=!0,this._trainable=!0,this.inputSpec=e.layer.inputSpec,this.numConstants=null}get trainable(){return this._trainable}set trainable(e){this._trainable=e,null!=this.forwardLayer&&(this.forwardLayer.trainable=e),null!=this.backwardLayer&&(this.backwardLayer.trainable=e)}getWeights(){return this.forwardLayer.getWeights().concat(this.backwardLayer.getWeights())}setWeights(e){const t=e.length,n=Math.floor(t/2);this.forwardLayer.setWeights(e.slice(0,n)),this.backwardLayer.setWeights(e.slice(n))}computeOutputShape(e){let t,n,r,o=this.forwardLayer.computeOutputShape(e);return Array.isArray(o)&&Array.isArray(o[0])||(o=[o]),this.returnState?(r=o.slice(1),t=o[0]):t=o[0],"concat"===this.mergeMode?(t[t.length-1]*=2,n=[t]):n=null==this.mergeMode?[t,t.slice()]:[t],this.returnState?null==this.mergeMode?n.concat(r).concat(r.slice()):[t].concat(r).concat(r.slice()):ple(n)}apply(e,t){let n=null==t?null:t.initialState,r=null==t?null:t.constants;null==t&&(t={});const o=Ope(e,n,r,this.numConstants);if(e=o.inputs,n=o.initialState,r=o.constants,Array.isArray(e)&&(n=e.slice(1),e=e[0]),(null==n||0===n.length)&&null==r)return super.apply(e,t);const a=[],i=[];if(null!=n){const e=n.length;if(e%2>0)throw new ale("When passing `initialState` to a Bidrectional RNN, the state should be an Array containing the states of the underlying RNNs.");t.initialState=n,a.push(...n);const r=n.map((e=>new Gue({shape:e.shape})));this.forwardLayer.stateSpec=r.slice(0,e/2),this.backwardLayer.stateSpec=r.slice(e/2),i.push(...r)}if(null!=r)throw new ile("Support for constants in Bidirectional layers is not implemented yet.");const s=a[0]instanceof que;for(const l of a)if(l instanceof que!==s)throw new ale("The initial state of a Bidirectional layer cannot be specified as a mix of symbolic and non-symbolic tensors");if(s){const n=[e].concat(a),r=this.inputSpec.concat(i),o=this.inputSpec;this.inputSpec=r;const s=super.apply(n,t);return this.inputSpec=o,s}return super.apply(e,t)}call(e,t){return T5((()=>{const n=t.initialState;let r,o,a,i;if(null==n)r=this.forwardLayer.call(e,t),o=this.backwardLayer.call(e,t);else{const a=n.slice(0,n.length/2),i=n.slice(n.length/2);r=this.forwardLayer.call(e,Object.assign(t,{initialState:a})),o=this.backwardLayer.call(e,Object.assign(t,{initialState:i}))}return this.returnState&&(Array.isArray(r)&&(a=r.slice(1).concat(o.slice(1))),r=r[0],o=o[0]),this.returnSequences&&(o=Xte(o,1)),"concat"===this.mergeMode?i=oue([r,o]):"sum"===this.mergeMode?i=H6(r,o):"ave"===this.mergeMode?i=K6(.5,H6(r,o)):"mul"===this.mergeMode?i=K6(r,o):null==this.mergeMode&&(i=[r,o]),this.returnState?null==this.mergeMode?i.concat(a):[i].concat(a):i}))}resetStates(e){this.forwardLayer.resetStates(),this.backwardLayer.resetStates()}build(e){Wle(this.forwardLayer.name,(()=>{this.forwardLayer.build(e)})),Wle(this.backwardLayer.name,(()=>{this.backwardLayer.build(e)})),this.built=!0}computeMask(e,t){let n;if(Array.isArray(t)&&(t=t[0]),n=this.returnSequences?null==this.mergeMode?[t,t]:t:null==this.mergeMode?[null,null]:null,this.returnState){const e=this.forwardLayer.states.map((e=>null));return Array.isArray(n)?n.concat(e).concat(e):[n].concat(e).concat(e)}return n}get trainableWeights(){return this.forwardLayer.trainableWeights.concat(this.backwardLayer.trainableWeights)}get nonTrainableWeights(){return this.forwardLayer.nonTrainableWeights.concat(this.backwardLayer.nonTrainableWeights)}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),null!=this.forwardLayer&&this.forwardLayer.setFastWeightInitDuringBuild(e),null!=this.backwardLayer&&this.backwardLayer.setFastWeightInitDuringBuild(e)}getConfig(){const e={mergeMode:this.mergeMode},t=super.getConfig();return Object.assign(e,t),e}static fromConfig(e,t){const n=Nce(t.layer);if(delete t.layer,null!=t.numConstants)throw new ile("Deserialization of a Bidirectional layer with numConstants present is not supported yet.");const r=t;return r.layer=n,new e(r)}}Fhe.className="Bidirectional",c8(Fhe);class Lhe extends Que{constructor(e){super(e),this.scale=e.scale,e.offset?this.offset=e.offset:this.offset=0}getConfig(){const e={scale:this.scale,offset:this.offset},t=super.getConfig();return Object.assign(e,t),e}call(e,t){return T5((()=>("float32"!==(e=Lue(e)).dtype&&(e=Jle(e,"float32")),H6(K6(e,this.scale),this.offset))))}}Lhe.className="Rescaling",c8(Lhe);const{resizeBilinear:zhe,cropAndResize:Bhe}=Yre;class Whe extends Que{constructor(e){super(e),this.height=e.height,this.width=e.width}centerCrop(e,t,n,r,o,a,i,s){return T5((()=>{let l,u=!1;const c=[t/a,n/i,(r+t)/a,(o+n)/i],d=[];3===e.rank?(u=!0,l=xne([e])):l=e;for(let e=0;e<l.shape[0];e++)d.push(c);const p=m5(d,[d.length,4]),h=Hte(0,d.length,1,"int32"),f=Bhe(l,p,h,[r,o],"nearest");return Jle(u?Lue(Pne(f)):f,s)}))}upsize(e,t,n,r){return T5((()=>Jle(zhe(e,[t,n]),r)))}call(e,t){return T5((()=>{const t=Lue(e),n=t.dtype,r=t.shape,o=r[r.length-3],a=r[r.length-2];let i=0;o!==this.height&&(i=Math.floor((o-this.height)/2));let s=0;return a!==this.width&&(s=Math.floor((a-this.width)/2),0===s&&(s=1)),i>=0&&s>=0?this.centerCrop(t,i,s,this.height,this.width,o,a,n):this.upsize(e,this.height,this.width,n)}))}getConfig(){const e={height:this.height,width:this.width},t=super.getConfig();return Object.assign(e,t),e}computeOutputShape(e){const t=(e=zue(e)).length-3,n=e.length-2;return e[t]=this.height,e[n]=this.width,e}}Whe.className="CenterCrop",c8(Whe);class Vhe extends Que{constructor(e){super(e),this.numTokens=e.numTokens,e.outputMode?this.outputMode=e.outputMode:this.outputMode="multiHot"}getConfig(){const e={numTokens:this.numTokens,outputMode:this.outputMode},t=super.getConfig();return Object.assign(e,t),e}computeOutputShape(e){return null==(e=zue(e))?[this.numTokens]:"oneHot"===this.outputMode&&1!==e[e.length-1]?(e.push(this.numTokens),e):(e[e.length-1]=this.numTokens,e)}call(e,t){return T5((()=>{let n;if("int32"!==(e=Lue(e)).dtype&&(e=Jle(e,"int32")),"undefined"!==typeof t.countWeights){if("count"!==this.outputMode)throw new ale(`countWeights is not used when outputMode !== count.\n              Received countWeights=${t.countWeights}`);n=Lue(t.countWeights)}const r=Cee(e),o=Tee(e),a=Fee(this.numTokens,r).bufferSync().get(0),i=Lee(o,0).bufferSync().get(0);if(!a||!i)throw new ale(`Input values must be between 0 < values <= numTokens with numTokens=${this.numTokens}`);return function(e,t,n,r){let o=Lue(e);if("int32"!==o.dtype&&(o=Jle(o,"int32")),"int"===t)return o;const a=o.shape;if(0===o.rank&&(o=Dee(o,-1)),"oneHot"===t&&1!==o.shape[o.shape.length-1]&&(o=Dee(o,-1)),o.rank>2)throw new ale(`When outputMode is not int, maximum output rank is 2 Received outputMode ${t} and input shape ${a} which would result in output rank ${o.rank}.`);const i=["multiHot","oneHot"].includes(t);let s;if(s=oee(o,"undefined"!==typeof r&&"count"===t?r:[],n,i),"tfIdf"!==t)return s;if(r)return K6(s,r);throw new ale("When outputMode is 'tfIdf', weights must be provided.")}(e,this.outputMode,this.numTokens,n)}))}}Vhe.className="CategoryEncoding",c8(Vhe);const Uhe=new Set(["bilinear","nearest"]);class Hhe extends Que{constructor(e){if(super(e),this.height=e.height,this.width=e.width,e.interpolation){if(!Uhe.has(e.interpolation))throw new ale(`Invalid interpolation parameter: ${e.interpolation} is not implemented`);this.interpolation=e.interpolation}else this.interpolation="bilinear";this.cropToAspectRatio=Boolean(e.cropToAspectRatio)}computeOutputShape(e){const t=(e=zue(e))[2];return[this.height,this.width,t]}getConfig(){const e={height:this.height,width:this.width,interpolation:this.interpolation,cropToAspectRatio:this.cropToAspectRatio},t=super.getConfig();return Object.assign(e,t),e}call(e,t){return T5((()=>{const t=[this.height,this.width];if("bilinear"===this.interpolation)return Yre.resizeBilinear(e,t,!this.cropToAspectRatio);if("nearest"===this.interpolation)return Yre.resizeNearestNeighbor(e,t,!this.cropToAspectRatio);throw new Error(`Interpolation is ${this.interpolation} but only ${[...Uhe]} are supported`)}))}}Hhe.className="Resizing",c8(Hhe);class Ghe{constructor(e){this.seed=e}next(){if(void 0!==this.seed)return this.seed++}}Ghe.className="RandomSeed";class qhe extends Que{constructor(e){super(e),this.randomGenerator=new Ghe(e.seed)}getConfig(){const e={seed:this.randomGenerator.seed},t=super.getConfig();return Object.assign(e,t),e}}qhe.className="BaseRandomLayer";const Khe=new Set(["bilinear","nearest"]);class Xhe extends qhe{constructor(e){super(e);const{factor:t,interpolation:n="bilinear"}=e;if(this.factor=t,Array.isArray(this.factor)&&2===this.factor.length)this.widthLower=this.factor[0],this.widthUpper=this.factor[1];else{if(Array.isArray(this.factor)||!(this.factor>0))throw new ale(`Invalid factor: ${this.factor}. Must be positive number or tuple of 2 numbers`);this.widthLower=-this.factor,this.widthUpper=this.factor}if(this.widthLower<-1||this.widthUpper<-1)throw new ale(`factor must have values larger than -1. Got: ${this.factor}`);if(this.widthUpper<this.widthLower)throw new ale(`factor cannot have upper bound less than lower bound.\n        Got upper bound: ${this.widthUpper}.\n        Got lower bound: ${this.widthLower}\n      `);if(n){if(!Khe.has(n))throw new ale(`Invalid interpolation parameter: ${n} is not implemented`);this.interpolation=n}}getConfig(){const e={factor:this.factor,interpolation:this.interpolation},t=super.getConfig();return Object.assign(e,t),e}computeOutputShape(e){const t=(e=zue(e))[2];return[this.imgHeight,-1,t]}call(e,t){return T5((()=>{const t=Lue(e);this.imgHeight=t.shape[t.shape.length-3];const n=t.shape[t.shape.length-2];this.widthFactor=Vte([1],1+this.widthLower,1+this.widthUpper,"float32",this.randomGenerator.next());let r=this.widthFactor.dataSync()[0]*n;r=Math.round(r);const o=[this.imgHeight,r];switch(this.interpolation){case"bilinear":return Yre.resizeBilinear(e,o);case"nearest":return Yre.resizeNearestNeighbor(e,o);default:throw new Error(`Interpolation is ${this.interpolation}\n          but only ${[...Khe]} are supported`)}}))}}Xhe.className="RandomWidth",c8(Xhe);function Yhe(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Map,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Set;if(null==e)return null;if("function"===typeof Blob&&e instanceof Blob)return e.slice();if(r.has(e))throw new Error("Circular references are not supported.");if(n.has(e))return n.get(e);const o=t(e);if(o.recurse&&null!==o.value)throw new Error("A deep map function may not return both a value and recurse=true.");if(o.recurse){if(efe(e)){const o=Array.isArray(e)?[]:{};r.add(e);for(const a in e){const i=Yhe(e[a],t,n,r);o[a]=i}return r.delete(e),e.__proto__&&(o.__proto__=e.__proto__),o}throw new Error(`Can't recurse into non-iterable type: ${e}`)}return n.set(e,o.value),o.value}function Qhe(e){return Zhe(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Jhe)}function Zhe(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Set;const r=e[0];if(n.has(r))throw new Error("Circular references are not supported.");const o=t(e);if(o.recurse&&null!==o.value)throw new Error("A deep zip function may not return both a value and recurse=true.");if(o.recurse){if(efe(r)){const o=Array.isArray(r)?[]:{};n.add(r);for(const a in r){const r=Zhe(e.map((e=>e[a])),t,n);o[a]=r}return n.delete(r),o}throw new Error(`Can't recurse into non-iterable type: ${r}`)}return o.value}function Jhe(e){return null===e?null:efe(e[0])?{value:null,recurse:!0}:{value:e,recurse:!1}}function efe(e){let t=!1;if(u0().get("IS_BROWSER"))t=e instanceof TextDecoder;else{const{StringDecoder:r}=n(551);t=e instanceof r}return null!=e&&!ArrayBuffer.isView(e)&&(Array.isArray(e)||"object"===typeof e&&!(e instanceof T4)&&!(e instanceof Promise)&&!t)}function tfe(e){return Yhe(e,nfe)}function nfe(e){return e instanceof T4?{value:e.clone(),recurse:!1}:efe(e)?{value:null,recurse:!0}:{value:e,recurse:!1}}class rfe{constructor(e){if(this.capacity=e,this.begin=0,this.end=0,null==e)throw new RangeError("Can't create a ring buffer of unknown capacity.");if(e<1)throw new RangeError("Can't create ring buffer of capacity < 1.");this.data=new Array(e),this.doubledCapacity=2*e}wrap(e){for(;e<0;)e+=this.doubledCapacity;return e%this.doubledCapacity}get(e){if(e<0)throw new RangeError("Can't get item at a negative index.");return this.data[e%this.capacity]}set(e,t){if(e<0)throw new RangeError("Can't set item at a negative index.");this.data[e%this.capacity]=t}length(){let e=this.end-this.begin;return e<0&&(e=this.doubledCapacity+e),e}isFull(){return this.length()===this.capacity}isEmpty(){return 0===this.length()}push(e){if(this.isFull())throw new RangeError("Ring buffer is full.");this.set(this.end,e),this.end=this.wrap(this.end+1)}pushAll(e){for(const t of e)this.push(t)}pop(){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");this.end=this.wrap(this.end-1);const e=this.get(this.end);return this.set(this.end,void 0),e}unshift(e){if(this.isFull())throw new RangeError("Ring buffer is full.");this.begin=this.wrap(this.begin-1),this.set(this.begin,e)}shift(){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");const e=this.get(this.begin);return this.set(this.begin,void 0),this.begin=this.wrap(this.begin+1),e}shuffleExcise(e){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");const t=this.wrap(this.begin+e),n=this.get(t);return this.set(t,this.pop()),n}}class ofe extends rfe{constructor(){super(ofe.INITIAL_CAPACITY)}isFull(){return!1}push(e){super.isFull()&&this.expand(),super.push(e)}unshift(e){super.isFull()&&this.expand(),super.unshift(e)}expand(){const e=2*this.capacity,t=new Array(e),n=this.length();for(let r=0;r<n;r++)t[r]=this.get(this.wrap(this.begin+r));this.data=t,this.capacity=e,this.doubledCapacity=2*this.capacity,this.begin=0,this.end=n}}function afe(e){return new ufe(e)}function ife(e,t){return new xfe(e,t)}ofe.INITIAL_CAPACITY=32;class sfe{async toArray(){const e=[];let t=await this.next();for(;!t.done;)e.push(t.value),t=await this.next();return e}async toArrayForTest(){const e=this.prefetch(100),t=[];let n=await e.next();for(;!n.done;)t.push(n.value),n=await e.next();return t}async resolveFully(){let e=await this.next();for(;!e.done;)e=await this.next()}async resolveWhile(e){let t=await this.next(),n=e(t.value);for(;!t.done&&n;)t=await this.next(),n=e(t.value)}handleErrors(e){return new gfe(this,e)}filter(e){return new ffe(this,e)}map(e){return new mfe(this,e)}mapAsync(e){return new yfe(this,e)}serialMapAsync(e){return new yfe(this,e).serial()}flatmap(e){return new bfe(this,e)}async forEachAsync(e){return this.map(e).resolveFully()}async serialForEach(e){return this.serialMapAsync(e).resolveWhile((e=>!0===e))}rowMajorBatch(e){return new hfe(this,e,!(arguments.length>1&&void 0!==arguments[1])||arguments[1])}columnMajorBatch(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Jhe;return this.rowMajorBatch(e,t).map((e=>Qhe(e,n)))}concatenate(e,t){return new xfe(new lfe([this,e]),t)}take(e){return e<0||null==e?this:new pfe(this,e)}skip(e){return e<0||null==e?this:new dfe(this,e)}prefetch(e){return new kfe(this,e)}shuffle(e,t){return new Sfe(this,e,t)}serial(){return new cfe(this)}}class lfe extends sfe{constructor(e){super(),this.items=e,this.trav=0}summary(){return`Array of ${this.items.length} items`}async next(){if(this.trav>=this.items.length)return{value:null,done:!0};const e=this.items[this.trav];return this.trav++,{value:tfe(e),done:!1}}}class ufe extends sfe{constructor(e){super(),this.nextFn=e}summary(){return"Function call"}async next(){try{return this.nextFn()}catch(ZBe){throw ZBe.message=`Error thrown while iterating through a dataset: ${ZBe.message}`,ZBe}}}class cfe extends sfe{constructor(e){super(),this.upstream=e,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return`${this.upstream.summary()} -> Serial`}async next(){return this.lastRead=this.lastRead.then((()=>this.serialNext())),this.lastRead}async serialNext(){return this.upstream.next()}}class dfe extends sfe{constructor(e,t){super(),this.upstream=e,this.maxCount=t,this.count=0,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return`${this.upstream.summary()} -> Skip`}async next(){return this.lastRead=this.lastRead.then((()=>this.serialNext())),this.lastRead}async serialNext(){for(;this.count++<this.maxCount;){const e=await this.upstream.next();if(e.done)return e;I5(e.value)}return this.upstream.next()}}class pfe extends sfe{constructor(e,t){super(),this.upstream=e,this.maxCount=t,this.count=0}summary(){return`${this.upstream.summary()} -> Take`}async next(){return this.count++>=this.maxCount?{value:null,done:!0}:this.upstream.next()}}class hfe extends sfe{constructor(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];super(),this.upstream=e,this.batchSize=t,this.enableSmallLastBatch=n,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return`${this.upstream.summary()} -> RowMajorBatch`}async next(){return this.lastRead=this.lastRead.then((()=>this.serialNext())),this.lastRead}async serialNext(){const e=[];for(;e.length<this.batchSize;){const t=await this.upstream.next();if(t.done)return this.enableSmallLastBatch&&e.length>0?{value:e,done:!1}:{value:null,done:!0};e.push(t.value)}return{value:e,done:!1}}}class ffe extends sfe{constructor(e,t){super(),this.upstream=e,this.predicate=t,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return`${this.upstream.summary()} -> Filter`}async next(){return this.lastRead=this.lastRead.then((()=>this.serialNext())),this.lastRead}async serialNext(){for(;;){const e=await this.upstream.next();if(e.done||this.predicate(e.value))return e;I5(e.value)}}}class mfe extends sfe{constructor(e,t){super(),this.upstream=e,this.transform=t}summary(){return`${this.upstream.summary()} -> Map`}async next(){const e=await this.upstream.next();if(e.done)return{value:null,done:!0};const t=q4(e.value),n=this.transform(e.value),r=q4(n);for(const o of t)G4(o,r)||o.dispose();return{value:n,done:!1}}}class gfe extends sfe{constructor(e,t){super(),this.upstream=e,this.handler=t,this.count=0,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return`${this.upstream.summary()} -> handleErrors`}async next(){return this.lastRead=this.lastRead.then((()=>this.serialNext())),this.lastRead}async serialNext(){for(;;)try{return await this.upstream.next()}catch(ZBe){if(!this.handler(ZBe))return{value:null,done:!0}}}}class yfe extends sfe{constructor(e,t){super(),this.upstream=e,this.transform=t}summary(){return`${this.upstream.summary()} -> AsyncMap`}async next(){const e=await this.upstream.next();if(e.done)return{value:null,done:!0};const t=q4(e.value),n=await this.transform(e.value),r=q4(n);for(const o of t)G4(o,r)||o.dispose();return{value:n,done:!1}}}class vfe extends sfe{constructor(){super(),this.outputQueue=new ofe,this.lastRead=Promise.resolve({value:null,done:!1})}async next(){return this.lastRead=this.lastRead.then((()=>this.serialNext())),this.lastRead}async serialNext(){for(;0===this.outputQueue.length();)if(!await this.pump())return{value:null,done:!0};return{value:this.outputQueue.shift(),done:!1}}}class bfe extends vfe{constructor(e,t){super(),this.upstream=e,this.transform=t}summary(){return`${this.upstream.summary()} -> Flatmap`}async pump(){const e=await this.upstream.next();if(e.done)return!1;const t=q4(e.value),n=this.transform(e.value),r=q4(n);this.outputQueue.pushAll(n);for(const o of t)G4(o,r)||o.dispose();return!0}}class xfe extends sfe{constructor(e,t){super(),this.baseErrorHandler=t,this.lastRead=null,this.iterator=null,this.moreIterators=e}summary(){return"TODO: fill in upstream of chained summaries -> Chained"}async next(){return this.lastRead=this.readFromChain(this.lastRead),this.lastRead}async readFromChain(e){if(await e,null==this.iterator){const e=await this.moreIterators.next();if(e.done)return{value:null,done:!0};this.iterator=e.value,null!=this.baseErrorHandler&&(this.iterator=this.iterator.handleErrors(this.baseErrorHandler))}const t=await this.iterator.next();return t.done?(this.iterator=null,this.readFromChain(e)):t}}var wfe;!function(e){e[e.FAIL=0]="FAIL",e[e.SHORTEST=1]="SHORTEST",e[e.LONGEST=2]="LONGEST"}(wfe||(wfe={}));class kfe extends sfe{constructor(e,t){super(),this.upstream=e,this.bufferSize=t,this.buffer=new rfe(t)}summary(){return`${this.upstream.summary()} -> Prefetch`}refill(){for(;!this.buffer.isFull();){const e=this.upstream.next();this.buffer.push(e)}}next(){return this.refill(),this.buffer.shift()}}class Sfe extends kfe{constructor(e,t,n){super(e,t),this.upstream=e,this.windowSize=t,this.upstreamExhausted=!1,this.random=jte.alea(n||l4().toString()),this.lastRead=Promise.resolve({value:null,done:!1})}async next(){return this.lastRead=this.lastRead.then((()=>this.serialNext())),this.lastRead}randomInt(e){return Math.floor(this.random()*e)}chooseIndex(){return this.randomInt(this.buffer.length())}async serialNext(){for(this.upstreamExhausted||this.refill();!this.buffer.isEmpty();){const e=this.chooseIndex(),t=await this.buffer.shuffleExcise(e);if(!t.done)return this.refill(),t;this.upstreamExhausted=!0}return{value:null,done:!0}}}class Afe{constructor(){this.size=null}batch(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this;let r;return xJ(e>0,(()=>`batchSize needs to be positive, but it is\n      ${e}`)),r=this.size===1/0||null==this.size?this.size:t?Math.ceil(this.size/e):Math.floor(this.size/e),Cfe((async()=>(await n.iterator()).columnMajorBatch(e,t,Tfe)),r)}concatenate(e){const t=this;let n;return n=this.size===1/0||e.size===1/0?1/0:null!=this.size&&null!=e.size?this.size+e.size:null,Cfe((async()=>(await t.iterator()).concatenate(await e.iterator())),n)}filter(e){const t=this;let n;return n=this.size===1/0?1/0:null,Cfe((async()=>(await t.iterator()).filter((t=>T5((()=>e(t)))))),n)}async forEachAsync(e){return(await this.iterator()).forEachAsync(e)}map(e){const t=this;return Cfe((async()=>(await t.iterator()).map((t=>T5((()=>e(t)))))),this.size)}mapAsync(e){const t=this;return Cfe((async()=>(await t.iterator()).mapAsync(e)),this.size)}prefetch(e){if(null==e)throw new RangeError("`Dataset.prefetch()` requires bufferSize to be specified.");const t=this;return Cfe((async()=>(await t.iterator()).prefetch(e)),this.size)}repeat(e){const t=this;let n;return n=null!=this.size&&e>0?this.size*e:0===e?0:null!=this.size&&(void 0===e||e<0)?1/0:null,Cfe((async()=>ife(afe((async()=>({value:await t.iterator(),done:!1}))).take(e))),n)}skip(e){const t=this;let n;return n=null!=this.size&&e>=0&&this.size>=e?this.size-e:null!=this.size&&(this.size<e||void 0===e||e<0)?0:null,Cfe((async()=>(await t.iterator()).skip(e)),n)}shuffle(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(null==e||e<0)throw null==this.size?new RangeError("`Dataset.shuffle()` requires bufferSize to be specified."):new RangeError(`\`Dataset.shuffle()\` requires bufferSize to be specified.  If your data fits in main memory (for regular JS objects), and/or GPU memory (for \`tf.Tensor\`s), consider setting bufferSize to the dataset size (${this.size} elements)`);const r=this,o=jte.alea(t||l4().toString());return Cfe((async()=>{let t=o.int32();return n&&(t+=o.int32()),(await r.iterator()).shuffle(e,t.toString())}),this.size)}take(e){const t=this;let n;return n=null!=this.size&&this.size>e?e:null!=this.size&&this.size<=e?this.size:null,Cfe((async()=>(await t.iterator()).take(e)),n)}async toArray(){if(this.size===1/0)throw new Error("Can not convert infinite data stream to array.");return(await this.iterator()).toArray()}async toArrayForTest(){if(this.size===1/0)throw new Error("Can not convert infinite data stream to array.");return(await this.iterator()).toArrayForTest()}}function Cfe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new class extends Afe{constructor(){super(...arguments),this.size=t}async iterator(){return e()}}}function Tfe(e){if(null===e)return null;if(function(e){return null==e||null===(t=e)||"object"!==typeof t&&"function"!==typeof t||Array.isArray(e)||"object"===typeof e&&e instanceof T4||p4(e);var t}(e[0])){return{value:function(e){if(0===e.length)throw new Error("Can't make a batch of zero elements.");return e[0]instanceof T4?xne(e):m5(e)}(e),recurse:!1}}return{value:null,recurse:!0}}Afe.MAX_BUFFER_SIZE=1e4;Symbol("out"),Symbol("field"),Symbol("quote"),Symbol("quoteafterquote"),Symbol("quoteinquote");function Ife(e,t){Array.isArray(e)||(e=[e]),e.forEach((e=>{null!=e&&xJ("complex64"!==e.dtype,(()=>`${t} does not support complex64 tensors in the CPU backend.`))}))}const Efe=_ne;class Nfe extends cJ{nextDataId(){return Nfe.nextDataId++}constructor(){super(),this.blockSize=48,this.firstUse=!0,this.data=new uJ(this,S5())}write(e,t,n){this.firstUse&&(this.firstUse=!1,u0().get("IS_NODE")&&D3("\n============================\nHi, looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, visit https://github.com/tensorflow/tfjs-node for more details. \n============================"));const r={id:this.nextDataId()};return this.data.set(r,{values:e,dtype:n,refCount:1}),r}makeTensorInfo(e,t,n){let r;if("string"===t&&null!=n&&n.length>0&&VJ(n[0])){const o=n.map((e=>c4(e)));r=this.write(o,e,t)}else r=this.write(n,e,t);return{dataId:r,shape:e,dtype:t}}refCount(e){if(this.data.has(e)){return this.data.get(e).refCount}return 0}incRef(e){this.data.get(e).refCount++}decRef(e){if(this.data.has(e)){this.data.get(e).refCount--}}move(e,t,n,r,o){this.data.set(e,{values:t,dtype:r,refCount:o})}numDataIds(){return this.data.numDataIds()}async read(e){return this.readSync(e)}readSync(e){const{dtype:t,complexTensorInfos:n}=this.data.get(e);if("complex64"===t){return Eoe(this.readSync(n.real.dataId),this.readSync(n.imag.dataId))}return ZJ(this.data.get(e).values,t)}bufferSync(e){const t=this.readSync(e.dataId);if("string"===e.dtype)try{const n=t.map((e=>d4(e)));return B6(e.shape,e.dtype,n)}catch(n){throw new Error("Failed to decode encoded string bytes into utf-8")}return B6(e.shape,e.dtype,t)}makeOutput(e,t,n){return S5().makeTensorFromTensorInfo(this.makeTensorInfo(t,n,e),this)}disposeData(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.data.has(e)){if(this.data.get(e).refCount--,!t&&this.data.get(e).refCount>0)return!1;const{complexTensorInfos:n}=this.data.get(e);null!=n&&(this.disposeData(n.real.dataId,!0),this.disposeData(n.imag.dataId,!0)),this.data.delete(e)}return!0}disposeIntermediateTensorInfo(e){this.disposeData(e.dataId)}async time(e){const t=l4();e();return{kernelMs:l4()-t}}memory(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}}where(e){Ife([e],"where");const t=this.readSync(e.dataId);return Efe(e.shape,t)}dispose(){}floatPrecision(){return 32}epsilon(){return super.epsilon()}}Nfe.nextDataId=0;function Ofe(e){return(t,n,r)=>{const o=_J(n,t.length);for(let a=0;a<t.length;++a)o[a]=e(t[a],r);return o}}function Mfe(e,t,n){return Dfe(e,Ofe(t),n)}function Dfe(e,t,n){return r=>{let{inputs:o,attrs:a,backend:i}=r;const{x:s}=o;Ife(s,e);const l=i,u=l.data.get(s.dataId).values;let c;if("string"===s.dtype){if(!Array.isArray(u))throw new Error("String tensor's value was not an instance of Array");c=lae(u)}else c=u;const d=n||s.dtype,p=t(c,d,a);return l.makeTensorInfo(s.shape,d,p)}}j5("cpu",(()=>new Nfe),1);const Rfe=Mfe(h1,(e=>e>=0?e:Math.exp(e)-1)),Pfe={kernelName:h1,backendName:"cpu",kernelFunc:Rfe};function $fe(e){const{inputs:t,backend:n}=e,{x:r}=t;return n.incRef(r.dataId),{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}const jfe={kernelName:O1,backendName:"cpu",kernelFunc:$fe};function _fe(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{alpha:a}=r;Ife([o],"leakyRelu");const i=SJ(o.shape),s=n.data.get(o.dataId).values,l=jJ("float32",i);for(let u=0;u<s.length;u++)l[u]=s[u]<0?a*s[u]:s[u];return n.makeTensorInfo(o.shape,"float32",l)}const Ffe={kernelName:j1,backendName:"cpu",kernelFunc:_fe};function Lfe(e){return(t,n,r,o,a)=>{const i=k8(t,n),s=i.length,l=XJ(i),u=jJ(a,SJ(i)),c=t.length,d=n.length,p=XJ(t),h=XJ(n),f=x8(t,i),m=x8(n,i);if(f.length+m.length===0)for(let g=0;g<u.length;++g)u[g]=e(r[g%r.length],o[g%o.length]);else for(let g=0;g<u.length;++g){const t=o0(g,s,l),n=t.slice(-c);f.forEach((e=>n[e]=0));const a=r0(n,c,p),i=t.slice(-d);m.forEach((e=>i[e]=0));const y=r0(i,d,h);u[g]=e(r[a],o[y])}return[u,i]}}const zfe=Lfe(((e,t)=>e<0?t*e:e));function Bfe(e){const{inputs:t,backend:n}=e,{x:r,alpha:o}=t;Ife([r,o],"prelu");const a=n.data.get(r.dataId).values,i=n.data.get(o.dataId).values,[s,l]=zfe(r.shape,o.shape,a,i,"float32");return n.makeTensorInfo(l,"float32",s)}const Wfe={kernelName:k2,backendName:"cpu",kernelFunc:Bfe},Vfe=Mfe(O2,(e=>Math.max(0,e))),Ufe={kernelName:O2,backendName:"cpu",kernelFunc:Vfe},Hfe=Mfe(j2,(e=>Math.min(Math.max(0,e),6))),Gfe={kernelName:j2,backendName:"cpu",kernelFunc:Hfe},qfe=Ofe((e=>1/(1+Math.exp(-e)))),Kfe=Mfe(X2,(e=>1/(1+Math.exp(-e)))),Xfe={kernelName:X2,backendName:"cpu",kernelFunc:Kfe};function Yfe(e,t,n,r,o){if("linear"===n)return $fe({inputs:{x:t},backend:e});if("relu"===n)return Vfe({inputs:{x:t},backend:e});if("elu"===n)return Rfe({inputs:{x:t},backend:e});if("relu6"===n)return Hfe({inputs:{x:t},backend:e});if("prelu"===n)return Bfe({inputs:{x:t,alpha:r},backend:e});if("leakyrelu"===n)return _fe({inputs:{x:t},backend:e,attrs:{alpha:o}});if("sigmoid"===n)return Kfe({inputs:{x:t},backend:e});throw new Error(`Activation ${n} has not been implemented for the CPU backend.`)}function Qfe(e){const{inputs:t,backend:n}=e,{real:r,imag:o}=t,a=n.data.get(r.dataId).values,i=n.data.get(o.dataId).values,s=n.makeTensorInfo(r.shape,"complex64");return n.data.get(s.dataId).complexTensorInfos={real:n.makeTensorInfo(r.shape,"float32",a),imag:n.makeTensorInfo(o.shape,"float32",i)},s}const Zfe={kernelName:B0,backendName:"cpu",kernelFunc:Qfe};function Jfe(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"float32";if("complex64"===n){return Qfe({inputs:{real:Jfe(e,t,"float32"),imag:Jfe(e,t,"float32")},backend:e})}const r=e0(SJ(t),n);return e.makeTensorInfo(t,n,r)}function eme(e){const{inputs:t,backend:n}=e,{input:r}=t,o=n.data.get(r.dataId).complexTensorInfos.real,a=n.data.get(o.dataId).values;return n.makeTensorInfo(o.shape,o.dtype,a)}const tme={kernelName:E2,backendName:"cpu",kernelFunc:eme};function nme(e,t,n,r){if("int32"===r){return[t,"int32",Int32Array.from(e)]}if("bool"===r){const r=s4([0],n),[o,a]=Lfe(((e,t)=>e!==t?1:0))(t,[],e,r,"bool");return[a,"bool",o]}throw new Error(`Error in Cast: failed to cast ${n} to ${r}`)}function rme(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{dtype:a}=r;if("complex64"===a){if("complex64"===o.dtype)return $fe({inputs:{x:o},backend:n});const e=Jfe(n,o.shape,o.dtype),t=rme({inputs:{x:o},backend:n,attrs:{dtype:"float32"}}),r=Qfe({inputs:{real:t,imag:e},backend:n});return n.disposeIntermediateTensorInfo(e),n.disposeIntermediateTensorInfo(t),r}if("complex64"===o.dtype){const e=eme({inputs:{input:o},backend:n}),t=rme({inputs:{x:e},backend:n,attrs:{dtype:a}});return n.disposeIntermediateTensorInfo(e),t}if(!zJ(o.dtype,a)){const e=$fe({inputs:{x:o},backend:n});return{dataId:e.dataId,shape:e.shape,dtype:a}}const i=n.data.get(o.dataId).values,[s,l,u]=nme(i,o.shape,o.dtype,a);return n.makeTensorInfo(s,l,u)}const ome={kernelName:F0,backendName:"cpu",kernelFunc:rme};function ame(e,t,n,r){return null==n?n=>{let{inputs:o,backend:a}=n;const{a:i,b:s}=o,l=a;Ife([i,s],e);const u=l.data.get(i.dataId).values,c=l.data.get(s.dataId).values,d="string"===i.dtype?lae(u):u,p="string"===i.dtype?lae(c):c,h=r||i.dtype,[f,m]=t(i.shape,s.shape,d,p,h);return l.makeTensorInfo(m,h,f)}:e=>{let{inputs:o,backend:a}=e;const{a:i,b:s}=o,l=a;if("complex64"===i.dtype||"complex64"===s.dtype){const e=rme({inputs:{x:i},backend:l,attrs:{dtype:"complex64"}}),t=l.data.get(e.dataId),r=t.complexTensorInfos.real,o=t.complexTensorInfos.imag,a=l.data.get(r.dataId).values,u=l.data.get(o.dataId).values,c=rme({inputs:{x:s},backend:l,attrs:{dtype:"complex64"}}),d=l.data.get(c.dataId),p=d.complexTensorInfos.real,h=d.complexTensorInfos.imag,f=l.data.get(p.dataId).values,m=l.data.get(h.dataId).values,[g,y,v]=n(i.shape,s.shape,a,u,f,m),b=l.makeTensorInfo(v,"float32",g),x=l.makeTensorInfo(v,"float32",y),w=Qfe({inputs:{real:b,imag:x},backend:l});return l.disposeIntermediateTensorInfo(e),l.disposeIntermediateTensorInfo(c),l.disposeIntermediateTensorInfo(b),l.disposeIntermediateTensorInfo(x),w}{const e=l.data.get(i.dataId).values,n=l.data.get(s.dataId).values,o=r||i.dtype,[a,u]=t(i.shape,s.shape,e,n,o);return l.makeTensorInfo(u,o,a)}}}function ime(e){return(t,n,r,o,a,i)=>{const s=k8(t,n),l=SJ(s),u=s.length,c=XJ(s),d=jJ("float32",l),p=jJ("float32",l),h=x8(t,s),f=x8(n,s),m=Eoe(r,o),g=Eoe(a,i),y=t.length,v=XJ(t),b=n.length,x=XJ(n);if(h.length+f.length===0)for(let w=0;w<d.length;w++){const t=w%m.length,n=w%g.length,r=e(m[2*t],m[2*t+1],g[2*n],g[2*n+1]);d[w]=r.real,p[w]=r.imag}else for(let w=0;w<d.length;w++){const t=o0(w,u,c),n=t.slice(-y);h.forEach((e=>n[e]=0));const r=r0(n,y,v),o=t.slice(-b);f.forEach((e=>o[e]=0));const a=r0(o,b,x),i=e(m[2*r],m[2*r+1],g[2*a],g[2*a+1]);d[w]=i.real,p[w]=i.imag}return[d,p,s]}}const sme=Lfe(((e,t)=>e+t)),lme=ime(((e,t,n,r)=>({real:e+n,imag:t+r}))),ume=ame(y0,sme,lme),cme={kernelName:y0,backendName:"cpu",kernelFunc:ume};function dme(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{shape:a}=r,i=SJ(o.shape),s=RJ(a,i),l=SJ(s);xJ(i===l,(()=>`The new shape (${s}) has ${l} elements and the old shape (${o.shape}) has ${i} elements. The new shape and old shape must have the same number of elements.`)),n.incRef(o.dataId);const u=n.data.get(o.dataId);if(null!=u.complexTensorInfos){const e=u.complexTensorInfos.real,t=u.complexTensorInfos.imag;e.shape=s,t.shape=s}return{dataId:o.dataId,shape:s,dtype:o.dtype}}const pme={kernelName:M2,backendName:"cpu",kernelFunc:dme};function hme(e){const{inputs:t,backend:n,attrs:r}=e,{a:o,b:a}=t,{transposeA:i,transposeB:s}=r;Ife([o,a],"matMul");const l=o.shape.length,u=a.shape.length,c=i?o.shape[l-2]:o.shape[l-1],d=s?a.shape[u-1]:a.shape[u-2],p=i?o.shape[l-1]:o.shape[l-2],h=s?a.shape[u-2]:a.shape[u-1],f=o.shape.slice(0,-2),m=a.shape.slice(0,-2),g=SJ(f),y=SJ(m),v=k8(o.shape.slice(0,-2),a.shape.slice(0,-2)).concat([p,h]);xJ(c===d,(()=>`Error in matMul: inner shapes (${c}) and (${d}) of Tensors with shapes ${o.shape} and ${a.shape} and transposeA=${i} and transposeB=${s} must match.`));const b=s?[y,h,d]:[y,d,h],x=dme({inputs:{x:o},backend:n,attrs:{shape:i?[g,c,p]:[g,p,c]}}),w=dme({inputs:{x:a},backend:n,attrs:{shape:b}}),k=i?x.shape[1]:x.shape[2],S=i?x.shape[2]:x.shape[1],A=s?w.shape[1]:w.shape[2],C=Math.max(g,y),T=n.data.get(x.dataId).values,I=n.data.get(w.dataId).values,E=XJ(x.shape),N=XJ(w.shape),[O,M,D]=i?[E[0],1,E[1]]:[E[0],E[1],1],[R,P,$]=s?[1,N[1],N[0]]:[N[1],1,N[0]],j=S*A,_=B6([C,S,A],x.dtype),F=_.values,L=n.blockSize;for(let z=0;z<C;z++){const e=z%g,t=z%y;for(let n=0;n<S;n+=L){const r=Math.min(n+L,S);for(let o=0;o<A;o+=L){const a=Math.min(o+L,A);for(let i=0;i<k;i+=L){const s=Math.min(i+L,k);for(let l=n;l<r;l++)for(let n=o;n<a;n++){let r=0;for(let o=i;o<s;o++){r+=T[e*O+l*M+o*D]*I[o*R+n*P+t*$]}F[z*j+(l*A+n)]+=r}}}}}return n.disposeIntermediateTensorInfo(x),n.disposeIntermediateTensorInfo(w),n.makeTensorInfo(v,_.dtype,_.values)}const fme={kernelName:D0,backendName:"cpu",kernelFunc:hme};const mme={kernelName:N3,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{a:o,b:a,bias:i,preluActivationWeights:s}=t,{transposeA:l,transposeB:u,activation:c,leakyreluAlpha:d}=r;let p,h,f;const m=[];p=hme({inputs:{a:o,b:a},attrs:{transposeA:l,transposeB:u},backend:n}),i&&(h=ume({inputs:{a:p,b:i},backend:n}),m.push(p),p=h),c&&(f=Yfe(n,p,c,s,d),m.push(p),p=f);for(const g of m)n.disposeIntermediateTensorInfo(g);return p}};function gme(e){const t=new Float32Array(e.length);for(let n=0;n<e.length;++n)t[n]=Math.abs(e[n]);return t}const yme={kernelName:f0,backendName:"cpu",kernelFunc:e=>{const{x:t}=e.inputs,n=e.backend;Ife(t,"abs");let r=new Float32Array(SJ(t.shape));return r=gme(n.data.get(t.dataId).values),n.makeOutput(r,t.shape,t.dtype)}},vme=Mfe(m0,(e=>Math.acos(e))),bme={kernelName:m0,backendName:"cpu",kernelFunc:vme},xme=Mfe(g0,(e=>Math.acosh(e))),wme={kernelName:g0,backendName:"cpu",kernelFunc:xme};const kme={kernelName:v0,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,r=t;Ife(t,"addN");const o=r.map((e=>n.data.get(e.dataId).values)),a=B6(r[0].shape,r[0].dtype),i=a.values;for(let s=0;s<r.length;s++){const e=o[s];for(let t=0;t<i.length;t++)i[t]+=e[t]}return n.makeTensorInfo(a.shape,a.dtype,a.values)}};function Sme(e,t,n,r,o){const a=t.length,i=SJ(t),s=XJ(t),l=XJ(o),u=jJ(n,SJ(o));for(let c=0;c<i;++c){const t=o0(c,a,s),n=new Array(t.length);for(let e=0;e<n.length;e++)n[e]=t[r[e]];u[r0(n,a,l)]=e[c]}return u}function Ame(e){const{inputs:t,attrs:n,backend:r}=e,{x:o}=t,{perm:a}=n;Ife(o,"transpose");const i=o.shape.length,s=new Array(i);for(let u=0;u<s.length;u++)s[u]=o.shape[a[u]];const l=Sme(r.data.get(o.dataId).values,o.shape,o.dtype,a,s);return{dataId:r.write(l,s,o.dtype),shape:s,dtype:o.dtype}}const Cme={kernelName:x3,backendName:"cpu",kernelFunc:Ame};const Tme={kernelName:b0,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:a,keepDims:i}=r;Ife(o,"all");const s=PJ(a,o.shape);let l=s;const u=kee(l,o.shape.length);let c=o;null!=u&&(c=Ame({inputs:{x:o},backend:n,attrs:{perm:u}}),l=Aee(l.length,o.shape.length)),wee("all",l,c.shape.length);const[d,p]=bee(c.shape,l),h=SJ(p),f=e0(SJ(d),c.dtype),m=n.data.get(c.dataId).values;for(let y=0;y<f.length;++y){const e=y*h;let t=m[e];for(let n=0;n<h;++n){const r=m[e+n];t=t&&r}f[y]=t}null!=u&&n.disposeIntermediateTensorInfo(c);const g=n.makeTensorInfo(d,c.dtype,f);if(i){const e=dme({inputs:{x:g},backend:n,attrs:{shape:xee(d,s)}});return n.disposeIntermediateTensorInfo(g),e}return g}};const Ime={kernelName:x0,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:a,keepDims:i}=r;Ife(o,"any");const s=PJ(a,o.shape);let l=s;const u=kee(l,o.shape.length);let c=o;null!=u&&(c=Ame({inputs:{x:o},backend:n,attrs:{perm:u}}),l=Aee(l.length,o.shape.length)),wee("any",l,c.shape.length);const[d,p]=bee(c.shape,l),h=SJ(p),f=e0(SJ(d),c.dtype),m=n.data.get(c.dataId).values;for(let y=0;y<f.length;++y){const e=y*h;let t=m[e];for(let n=0;n<h;++n){const r=m[e+n];t=t||r}f[y]=t}null!=u&&n.disposeIntermediateTensorInfo(c);const g=n.makeTensorInfo(d,c.dtype,f);if(i){const e=dme({inputs:{x:g},backend:n,attrs:{shape:xee(d,s)}});return n.disposeIntermediateTensorInfo(g),e}return g}};const Eme={kernelName:w0,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:a}=r;Ife(o,"argMax");let i=PJ(a,o.shape);const s=kee(i,o.shape.length);let l=o;const u=[];null!=s&&(l=Ame({inputs:{x:o},backend:n,attrs:{perm:s}}),u.push(l),i=Aee(i.length,l.shape.length)),i=[i[0]],wee("argMax",i,l.shape.length);const[c,d]=bee(l.shape,i),p=e0(SJ(c),"int32"),h=SJ(d),f=n.data.get(l.dataId).values;for(let m=0;m<p.length;++m){const e=m*h;let t=f[e],n=0;for(let r=0;r<h;++r){const o=f[e+r];o>t&&(t=o,n=r)}p[m]=n}return u.forEach((e=>n.disposeIntermediateTensorInfo(e))),n.makeTensorInfo(c,"int32",p)}};const Nme={kernelName:k0,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:a}=r;Ife(o,"argMin");let i=PJ(a,o.shape);const s=kee(i,o.shape.length);let l=o;const u=[];null!=s&&(l=Ame({inputs:{x:o},backend:n,attrs:{perm:s}}),u.push(l),i=Aee(i.length,l.shape.length)),i=[i[0]],wee("argMin",i,l.shape.length);const[c,d]=bee(l.shape,i),p=e0(SJ(c),"int32"),h=SJ(d),f=n.data.get(l.dataId).values;for(let m=0;m<p.length;++m){const e=m*h;let t=f[e],n=0;for(let r=0;r<h;++r){const o=f[e+r];o<t&&(t=o,n=r)}p[m]=n}return u.forEach((e=>n.disposeIntermediateTensorInfo(e))),n.makeTensorInfo(c,"int32",p)}},Ome=Mfe(S0,(e=>Math.asin(e))),Mme={kernelName:S0,backendName:"cpu",kernelFunc:Ome},Dme=Mfe(A0,(e=>Math.asinh(e))),Rme={kernelName:A0,backendName:"cpu",kernelFunc:Dme},Pme=Mfe(C0,(e=>Math.atan(e))),$me={kernelName:C0,backendName:"cpu",kernelFunc:Pme},jme=Lfe(((e,t)=>Math.atan2(e,t))),_me=ame(I0,jme),Fme={kernelName:I0,backendName:"cpu",kernelFunc:_me},Lme=Mfe(T0,(e=>Math.atanh(e))),zme={kernelName:T0,backendName:"cpu",kernelFunc:Lme};function Bme(e,t,n,r,o,a){const i=o.strideHeight,s=o.strideWidth,l=o.dilationHeight,u=o.dilationWidth,c=o.effectiveFilterHeight,d=o.effectiveFilterWidth,p=o.padInfo.top,h=o.padInfo.left,f="max"===a?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,m=B6(o.outShape,n),g=m.values,y=o.outShape[1]*o.outShape[2]*o.outShape[3],v=o.outShape[2]*o.outShape[3],b=o.outShape[3];for(let x=0;x<o.batchSize;++x){const t=x*y,n=x*r[0];for(let m=0;m<o.inChannels;++m)for(let y=0;y<o.outHeight;++y){const x=y*i-p,w=Math.max(0,x),k=Math.min(o.inHeight,c+x),S=t+y*v;for(let t=0;t<o.outWidth;++t){const i=t*s-h,c=Math.max(0,i),p=Math.min(o.inWidth,d+i);let y=f,v=0,x=0;for(let t=w;t<k;t+=l){const o=n+t*r[1];for(let t=c;t<p;t+=u){const n=e[o+t*r[2]+m];"max"===a&&n>y?y=n:"avg"===a&&(v+=n,x++)}if(isNaN(y))break}g[S+t*b+m]="avg"===a?v/x:y}}}return m}function Wme(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];const i=B6(r.outShape,"int32"),s=r.strideHeight,l=r.strideWidth,u=r.dilationHeight,c=r.dilationWidth,d=r.effectiveFilterHeight,p=r.effectiveFilterWidth,h=r.padInfo.top,f=r.padInfo.left,m=B6(t,n,e);for(let g=0;g<r.batchSize;++g)for(let e=0;e<r.inChannels;++e)for(let t=0;t<r.outHeight;++t){const n=t*s-h;let y=n;for(;y<0;)y+=u;const v=Math.min(r.inHeight,d+n);for(let s=0;s<r.outWidth;++s){const d=s*l-f;let h=d;for(;h<0;)h+=c;const b=Math.min(r.inWidth,p+d);let x=Number.NEGATIVE_INFINITY,w=-1;for(let t=y;t<v;t+=u){const i=t-n;for(let n=h;n<b;n+=c){const s=n-d,l=m.get(g,t,n,e);l>x&&(x=l,w=o?a?((g*r.inHeight+t)*r.inWidth+n)*r.inChannels+e:(t*r.inWidth+n)*r.inChannels+e:i*p+s)}}i.set(w,g,t,s,e)}}return i}function Vme(e,t,n,r,o,a){const i=o.strideDepth,s=o.strideHeight,l=o.strideWidth,u=o.dilationDepth,c=o.dilationHeight,d=o.dilationWidth,p=o.effectiveFilterDepth,h=o.effectiveFilterHeight,f=o.effectiveFilterWidth,m=o.padInfo.front,g=o.padInfo.top,y=o.padInfo.left,v="max"===a?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,b=B6(o.outShape,n),x=b.values,w=o.outShape[1]*o.outShape[2]*o.outShape[3]*o.outShape[4],k=o.outShape[2]*o.outShape[3]*o.outShape[4],S=o.outShape[3]*o.outShape[4],A=o.outShape[4];for(let C=0;C<o.batchSize;++C){const t=C*w,n=C*r[0];for(let b=0;b<o.inChannels;++b)for(let w=0;w<o.outDepth;++w){const C=w*i-m;let T=C;for(;T<0;)T+=u;const I=Math.min(o.inDepth,p+C),E=t+w*k;for(let t=0;t<o.outHeight;++t){const i=t*s-g;let p=i;for(;p<0;)p+=c;const m=Math.min(o.inHeight,h+i),w=E+t*S;for(let t=0;t<o.outWidth;++t){const i=t*l-y;let s=i;for(;s<0;)s+=d;const h=Math.min(o.inWidth,f+i),g=w+t*A;let k=v,S=0,C=0;for(let t=T;t<I;t+=u){const o=n+t*r[1];for(let t=p;t<m;t+=c){const n=o+t*r[2];for(let t=s;t<h;t+=d){const o=e[n+t*r[3]+b];if("max"===a&&o>k?k=o:"avg"===a&&(S+=o,C++),isNaN(k))break}if(isNaN(k))break}if(isNaN(k))break}x[g+b]="avg"===a?S/Math.max(C,1):k}}}}return b}const Ume={kernelName:E0,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t;Ife(o,"avgPool");const{filterSize:a,strides:i,pad:s,dimRoundingMode:l}=r;xJ(x7(i,1),(()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${i} and dilations '1'`));const u=c7(o.shape,a,i,1,s,l);let c;if(1===u.filterWidth&&1===u.filterHeight&&TJ(u.inShape,u.outShape))c=$fe({inputs:{x:o},backend:n});else{const e=n.data.get(o.dataId).values,t=XJ(o.shape),r=Bme(e,o.shape,o.dtype,t,u,"avg");c=n.makeTensorInfo(u.outShape,o.dtype,r.values)}return c}};const Hme={kernelName:O0,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{filterSize:a,strides:i,pad:s,dimRoundingMode:l,dataFormat:u}=r;Ife(o,"avgPool3d");const c=d7(o.shape,a,i,1,s,l,u),d=Vme(n.data.get(o.dataId).values,o.shape,o.dtype,XJ(o.shape),c,"avg");return n.makeTensorInfo(d.shape,"float32",d.values)}};const Gme={kernelName:M0,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:o,input:a}=t,{filterSize:i,strides:s,pad:l,dimRoundingMode:u}=r;Ife([o,a],"avgPool3DGrad");const c=d7(a.shape,i,s,1,l,u),d=c.strideDepth,p=c.strideHeight,h=c.strideWidth,f=c.filterDepth,m=c.filterHeight,g=c.filterWidth,y=c.dilationDepth,v=c.dilationHeight,b=c.dilationWidth,x=c.effectiveFilterDepth,w=c.effectiveFilterHeight,k=c.effectiveFilterWidth,S=x-1-c.padInfo.front,A=k-1-c.padInfo.left,C=w-1-c.padInfo.top,T=B6(a.shape,"float32"),I=1/(f*m*g),E=n.bufferSync(o);for(let N=0;N<c.batchSize;++N)for(let e=0;e<c.inChannels;++e)for(let t=0;t<c.inDepth;++t)for(let n=0;n<c.inHeight;++n)for(let r=0;r<c.inWidth;++r){const o=t-S,a=n-C,i=r-A;let s=0;for(let t=0;t<x;t+=y){const n=(o+t)/d;if(!(n<0||n>=c.outDepth||Math.floor(n)!==n))for(let t=0;t<w;t+=v){const r=(a+t)/p;if(!(r<0||r>=c.outHeight||Math.floor(r)!==r))for(let t=0;t<k;t+=b){const o=(i+t)/h;if(o<0||o>=c.outWidth||Math.floor(o)!==o)continue;s+=E.get(N,n,r,o,e)}}}T.set(s*I,N,t,n,r,e)}return n.makeTensorInfo(T.shape,T.dtype,T.values)}};const qme={kernelName:N0,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:o,input:a}=t,i=a;Ife([o,a],"avgPoolGrad");const{filterSize:s,strides:l,pad:u}=r,c=c7(i.shape,s,l,1,u),d=c.strideHeight,p=c.strideWidth,h=c.filterHeight,f=c.filterWidth,m=c.dilationHeight,g=c.dilationWidth,y=c.effectiveFilterHeight,v=c.effectiveFilterWidth,b=v-1-c.padInfo.left,x=y-1-c.padInfo.top,w=B6(i.shape,"float32"),k=1/(h*f),S=n.data.get(o.dataId).values,A=B6(o.shape,"float32",S);for(let C=0;C<c.batchSize;++C)for(let e=0;e<c.inChannels;++e)for(let t=0;t<c.inHeight;++t)for(let n=0;n<c.inWidth;++n){const r=t-x,o=n-b;let a=0;for(let t=0;t<y;t+=m){const n=(r+t)/d;if(!(n<0||n>=c.outHeight||Math.floor(n)!==n))for(let t=0;t<v;t+=g){const r=(o+t)/p;if(r<0||r>=c.outWidth||Math.floor(r)!==r)continue;a+=A.get(C,n,r,e)}}w.set(a*k,C,t,n,e)}return n.makeTensorInfo(w.shape,w.dtype,w.values)}};const Kme={kernelName:C1,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,scale:a,offset:i,mean:s,variance:l}=t;xJ(s.shape.length===l.shape.length,(()=>"Batch normalization gradient requires mean and variance to have equal ranks.")),xJ(null==i||s.shape.length===i.shape.length,(()=>"Batch normalization gradient requires mean and offset to have equal ranks.")),xJ(null==a||s.shape.length===a.shape.length,(()=>"Batch normalization gradient requires mean and scale to have equal ranks.")),Ife([o,s,l,a,i],"batchNorm");let{varianceEpsilon:u}=r;null==u&&(u=.001);const c=n.data.get(o.dataId).values,d=n.data.get(s.dataId).values,p=n.data.get(l.dataId).values,h=a?n.data.get(a.dataId).values:new Float32Array([1]),f=i?n.data.get(i.dataId).values:new Float32Array([0]),m=new Float32Array(c.length),g=f.length,y=h.length,v=p.length,b=d.length;let x=0,w=0,k=0,S=0;for(let A=0;A<c.length;++A)m[A]=f[x++]+(c[A]-d[w++])*h[k++]/Math.sqrt(p[S++]+u),x>=g&&(x=0),w>=b&&(w=0),k>=y&&(k=0),S>=v&&(S=0);return n.makeTensorInfo(o.shape,o.dtype,m)}};function Xme(e,t,n,r,o){const a=O9(r,t,n),i=SJ(n),s=XJ(r);if(a){const n=M9(t,s);return"string"===o?e.slice(n,n+i):e.subarray(n,n+i)}const l=B6(r,o,"string"===o?lae(e):e),u=B6(n,o);for(let c=0;c<u.size;++c){const e=u.indexToLoc(c),n=e.map(((e,n)=>e+t[n]));u.set(l.get(...n),...e)}return"string"===o?uae(u.values):u.values}function Yme(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{begin:a,size:i}=r;Ife(o,"slice");const[s,l]=D9(o,a,i);v9(o,s,l);const u=Xme(n.data.get(o.dataId).values,s,l,o.shape,o.dtype);return n.makeTensorInfo(l,o.dtype,u)}const Qme={kernelName:H2,backendName:"cpu",kernelFunc:Yme};const Zme={kernelName:R0,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{blockShape:a,crops:i}=r;Ife([o],"batchToSpaceND");const s=a.reduce(((e,t)=>e*t)),l=moe(o.shape,a,s),u=goe(l.length,a.length),c=yoe(o.shape,a,s),d=voe(i,a.length),p=boe(c,i,a.length),h=dme({inputs:{x:o},backend:n,attrs:{shape:l}}),f=Ame({inputs:{x:h},backend:n,attrs:{perm:u}}),m=dme({inputs:{x:f},backend:n,attrs:{shape:c}}),g=Yme({inputs:{x:m},backend:n,attrs:{begin:d,size:p}});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),g}};function Jme(e,t,n,r,o){const a=SJ(r),i=e0(o,n);for(let s=0;s<e.length;s++){const n=e[s];if(n<0)throw new Error("Input x must be non-negative!");n>=o||(i[n]+=a>0?t[s]:1)}return i}function ege(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=e.shape[0],a=e.shape[1],i=B6([o,n],t.dtype);for(let s=0;s<o;s++)for(let o=0;o<a;o++){const a=e.get(s,o);if(a<0)throw new Error("Input x must be non-negative!");a>=n||(r?i.set(1,s,a):t.size>0?i.set(i.get(s,a)+t.get(s,o),s,a):i.set(i.get(s,a)+1,s,a))}return i}const tge={kernelName:P0,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,weights:a}=t,{size:i}=r,s=Jme(n.data.get(o.dataId).values,n.data.get(a.dataId).values,a.dtype,a.shape,i);return n.makeTensorInfo([i],a.dtype,s)}},nge=Lfe(((e,t)=>e&t)),rge=ame($0,nge),oge={kernelName:$0,backendName:"cpu",kernelFunc:rge};const age={kernelName:_0,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{s0:r,s1:o}=t,a=n.data.get(r.dataId).values,i=n.data.get(o.dataId).values,s=k8(Array.from(a),Array.from(i));return n.makeTensorInfo([s.length],"int32",Int32Array.from(s))}},ige=Ofe((e=>Math.ceil(e))),sge=Dfe(L0,ige),lge={kernelName:L0,backendName:"cpu",kernelFunc:sge},uge=Mfe(z0,((e,t)=>{const n=t;return e>n.clipValueMax?n.clipValueMax:e<n.clipValueMin?n.clipValueMin:e})),cge={kernelName:z0,backendName:"cpu",kernelFunc:uge},dge={kernelName:W0,backendName:"cpu",kernelFunc:e=>{const{x:t}=e.inputs,n=e.backend,r=new Float32Array(SJ(t.shape)),o=n.data.get(t.dataId),a=o.complexTensorInfos.real,i=o.complexTensorInfos.imag,s=n.data.get(a.dataId).values,l=n.data.get(i.dataId).values;for(let u=0;u<s.length;u++){const e=s[u],t=l[u];r[u]=Math.hypot(e,t)}return n.makeOutput(r,t.shape,"float32")}};function pge(e,t,n,r){const o=_J(n,SJ(t));if(r&&"string"!==n){let t=0;e.forEach((e=>{const n=SJ(e.shape);o.set(e.vals,t),t+=n}))}else{let r=0;e.forEach((e=>{const a="string"===n?lae(e.vals):e.vals;let i=0;for(let n=0;n<e.shape[0];++n){const s=n*t[1]+r;for(let t=0;t<e.shape[1];++t)o[s+t]=a[i++]}r+=e.shape[1]}))}return o}function hge(e){const{inputs:t,backend:n}=e,{input:r}=t,o=n.data.get(r.dataId).complexTensorInfos.imag,a=n.data.get(o.dataId).values;return n.makeTensorInfo(o.shape,o.dtype,a)}const fge={kernelName:D1,backendName:"cpu",kernelFunc:hge};function mge(e){const{inputs:t,backend:n,attrs:r}=e,{axis:o}=r,a=PJ(o,t[0].shape)[0];ooe(t.map((e=>e.shape)),a);let i=aoe(t.map((e=>e.shape)),a);if(0===SJ(i))return n.makeTensorInfo(i,t[0].dtype,[]);const s=t.filter((e=>SJ(e.shape)>0));if(1===s.length)return $fe({inputs:{x:s[0]},backend:n});if("complex64"===s[0].dtype){const e=s.map((e=>eme({inputs:{input:e},backend:n}))),t=s.map((e=>hge({inputs:{input:e},backend:n}))),r=mge({inputs:e,backend:n,attrs:{axis:a}}),o=mge({inputs:t,backend:n,attrs:{axis:a}}),i=Qfe({inputs:{real:r,imag:o},backend:n});return e.forEach((e=>n.disposeIntermediateTensorInfo(e))),t.forEach((e=>n.disposeIntermediateTensorInfo(e))),n.disposeIntermediateTensorInfo(r),n.disposeIntermediateTensorInfo(o),i}const l=s.map((e=>{const t=SJ(e.shape.slice(a));return dme({inputs:{x:e},backend:n,attrs:{shape:[-1,t]}})})),u=l.map((e=>({vals:n.data.get(e.dataId).values,shape:e.shape})));i=aoe(l.map((e=>e.shape)),1);const c=1===l[0].shape[0],d=pge(u,i,t[0].dtype,c),p=aoe(s.map((e=>e.shape)),a),h=n.makeTensorInfo(p,t[0].dtype,d);return l.forEach((e=>n.disposeIntermediateTensorInfo(e))),h}const gge={kernelName:V0,backendName:"cpu",kernelFunc:mge};function yge(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,filter:a}=t,{strides:i,pad:s,dataFormat:l,dilations:u,dimRoundingMode:c}=r;Ife([o,a],"conv2d");const d=k7(l),p=p7(o.shape,a.shape,i,u,s,c,!1,d),h=p.filterHeight,f=p.filterWidth,m=p.dilationHeight,g=p.dilationWidth,y=p.padInfo.left,v=p.padInfo.top,b="channelsLast"===p.dataFormat,x=new k4(p.outShape,o.dtype),w=XJ(o.shape),k=XJ(a.shape),S=w[0],A=b?w[1]:w[2],C=b?w[2]:1,T=b?1:w[1],I=x.strides[0],E=b?x.strides[1]:x.strides[2],N=b?x.strides[2]:1,O=b?1:x.strides[1],M=n.data.get(o.dataId).values,D=n.data.get(a.dataId).values,R=x.values;for(let P=0;P<p.batchSize;++P){const e=P*S,t=P*I;for(let n=0;n<p.outHeight;++n){const r=t+n*E,o=n*p.strideHeight-v;for(let t=0;t<h;++t){const n=o+t*m;if(n<0||n>=p.inHeight)continue;const a=t*k[0],i=e+n*A;for(let e=0;e<p.outWidth;++e){const t=r+e*N,n=e*p.strideWidth-y;for(let e=0;e<f;++e){const r=n+e*g;if(r<0||r>=p.inWidth)continue;const o=i+r*C;let s=a+e*k[1];for(let e=0;e<p.inChannels;++e){const n=M[o+e*T];for(let e=0;e<p.outChannels;++e)R[t+e*O]+=n*D[s+e];s+=p.outChannels}}}}}}return n.makeTensorInfo(x.shape,x.dtype,R)}const vge={kernelName:U0,backendName:"cpu",kernelFunc:yge};const bge={kernelName:H0,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,dy:a}=t,{strides:i,pad:s,dataFormat:l,dimRoundingMode:u,filterShape:c}=r;Ife([o,a],"conv2dBackpropFilter");const d=k7(l),p=p7(o.shape,c,i,1,s,u,!1,d),{strideHeight:h,strideWidth:f,filterHeight:m,filterWidth:g}=p,y="channelsLast"===p.dataFormat,v=new k4(p.filterShape,"float32"),b=p.padInfo.left,x=p.padInfo.top,w=n.data.get(o.dataId).values,k=n.data.get(a.dataId).values,S=new k4(o.shape,o.dtype,w),A=new k4(a.shape,a.dtype,k);for(let C=0;C<m;++C){const e=Math.max(0,Math.ceil((x-C)/h)),t=Math.min(p.outHeight,(p.inHeight+x-C)/h);for(let n=0;n<g;++n){const r=Math.max(0,Math.ceil((b-n)/f)),o=Math.min(p.outWidth,(p.inWidth+b-n)/f);for(let a=0;a<p.inChannels;++a)for(let i=0;i<p.outChannels;++i){let s=0;for(let l=0;l<p.batchSize;++l)for(let u=e;u<t;++u){const e=C+u*h-x;for(let t=r;t<o;++t){const r=n+t*f-b;s+=y?S.get(l,e,r,a)*A.get(l,u,t,i):S.get(l,a,e,r)*A.get(l,i,u,t)}}v.set(s,C,n,a,i)}}}return n.makeTensorInfo(v.shape,v.dtype,v.values)}};const xge={kernelName:G0,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:o,filter:a}=t,{inputShape:i,strides:s,pad:l,dataFormat:u,dimRoundingMode:c}=r;Ife([o,a],"conv2dBackpropInput");const d=XJ(a.shape),p=XJ(o.shape);let h=k7(u);const f=p7(i,a.shape,s,1,l,c,!1,h),m=new k4(f.inShape,"float32"),g=m.values,y=n.data.get(o.dataId).values,v=n.data.get(a.dataId).values,[b,x,w]=d,{batchSize:k,filterHeight:S,filterWidth:A,inChannels:C,inHeight:T,inWidth:I,outChannels:E,outHeight:N,outWidth:O,strideHeight:M,strideWidth:D}=f;h=f.dataFormat;const R=S-1-f.padInfo.top,P=A-1-f.padInfo.left,$="channelsLast"===h,j=m.strides[0],_=$?m.strides[1]:m.strides[2],F=$?m.strides[2]:1,L=$?1:m.strides[1],z=p[0],B=$?p[1]:p[2],W=$?p[2]:1,V=$?1:p[1];for(let U=0;U<k;++U)for(let e=0;e<C;++e)for(let t=0;t<T;++t){const n=t-R,r=Math.max(0,Math.ceil(n/M)),o=Math.min(N,(S+n)/M);for(let a=0;a<I;++a){const i=a-P,s=Math.max(0,Math.ceil(i/D)),l=Math.min(O,(A+i)/D);let u=0;for(let t=r;t<o;++t){const r=t*M-n;for(let n=s;n<l;++n){const o=z*U+B*t+W*n,a=b*(S-1-r)+x*(A-1-(n*D-i))+w*e;for(let e=0;e<E;++e){u+=y[o+V*e]*v[a+e]}}}g[j*U+_*t+F*a+L*e]=u}}return n.makeTensorInfo(m.shape,m.dtype,m.values)}};const wge={kernelName:q0,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,filter:a}=t,{strides:i,pad:s,dilations:l}=r;Ife([o,a],"conv3d");const u=h7(o.shape,a.shape,i,l,s),{filterDepth:c,filterHeight:d,filterWidth:p,dilationDepth:h,dilationHeight:f,dilationWidth:m,padInfo:g}=u,y=g.front,v=g.left,b=g.top,x=new k4(u.outShape,o.dtype),w=n.data.get(o.dataId).values,k=n.data.get(a.dataId).values,S=x.values,A=XJ(o.shape),C=XJ(a.shape);for(let T=0;T<u.batchSize;++T){const e=T*A[0],t=T*x.strides[0];for(let n=0;n<u.outDepth;++n){const r=t+n*x.strides[1],o=n*u.strideDepth-y;for(let t=0;t<c;++t){const n=o+t*h;if(n<0||n>=u.inDepth)continue;const a=t*C[0],i=e+n*A[1];for(let e=0;e<u.outHeight;++e){const t=r+e*x.strides[2],n=e*u.strideHeight-b;for(let e=0;e<d;++e){const r=n+e*f;if(r<0||r>=u.inHeight)continue;const o=a+e*C[1],s=i+r*A[2];for(let e=0;e<u.outWidth;++e){const n=t+e*u.outChannels,r=e*u.strideWidth-v;for(let e=0;e<p;++e){const t=r+e*m;if(t<0||t>=u.inWidth)continue;const a=o+e*C[2],i=s+t*u.inChannels;let l=a;for(let e=0;e<u.inChannels;++e){const t=w[i+e];for(let e=0;e<u.outChannels;++e)S[n+e]+=t*k[l+e];l+=u.outChannels}}}}}}}}return n.makeTensorInfo(x.shape,x.dtype,x.values)}};const kge={kernelName:K0,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,dy:a}=t,{strides:i,pad:s,filterShape:l}=r;Ife([o,a],"conv3dBackpropFilterV2");const u=XJ(o.shape),c=XJ(a.shape),d=h7(o.shape,l,i,1,s),p=d.strideDepth,h=d.strideHeight,f=d.strideWidth,m=d.filterDepth,g=d.filterHeight,y=d.filterWidth,v=new k4(d.filterShape,"float32"),b=v.values,[x,w,k,S]=v.strides,A=n.data.get(a.dataId).values,[C,T,I,E]=c,N=n.data.get(o.dataId).values,[O,M,D,R]=u,P=d.padInfo.front,$=d.padInfo.left,j=d.padInfo.top;for(let _=0;_<m;++_){const e=Math.max(0,Math.ceil((P-_)/p)),t=Math.min(d.outDepth,(d.inDepth+P-_)/p),n=_*x;for(let r=0;r<g;++r){const o=Math.max(0,Math.ceil((j-r)/h)),a=Math.min(d.outHeight,(d.inHeight+j-r)/h),i=r*w+n;for(let n=0;n<y;++n){const s=Math.max(0,Math.ceil(($-n)/f)),l=Math.min(d.outWidth,(d.inWidth+$-n)/f),u=n*k+i;for(let i=0;i<d.inChannels;++i){const c=i*S+u;for(let u=0;u<d.outChannels;++u){let m=0;for(let c=0;c<d.batchSize;++c){const d=c*O,g=c*C;for(let c=e;c<t;++c){const e=(_+c*p-P)*M+d,t=c*T+g;for(let c=o;c<a;++c){const o=(r+c*h-j)*D+e,a=c*I+t;for(let e=s;e<l;++e){const t=e*E+a;m+=N[(n+e*f-$)*R+o+i]*A[t+u]}}}}b[c+u]=m}}}}}return n.makeTensorInfo(v.shape,v.dtype,v.values)}};const Sge={kernelName:X0,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:o,filter:a}=t,{pad:i,strides:s,inputShape:l}=r;Ife([o],"conv3dBackpropInputV2");const u=XJ(o.shape),c=XJ(a.shape),d=h7(l,a.shape,s,1,i),p=new k4(d.inShape,"float32"),h=p.values,[f,m,g,y]=p.strides,v=n.data.get(o.dataId).values,[b,x,w,k]=u,S=n.data.get(a.dataId).values,[A,C,T,I]=c,{batchSize:E,filterDepth:N,filterHeight:O,filterWidth:M,inChannels:D,inDepth:R,inHeight:P,inWidth:$,outChannels:j,outDepth:_,outHeight:F,outWidth:L,strideDepth:z,strideHeight:B,strideWidth:W}=d,V=N-1-d.padInfo.front,U=O-1-d.padInfo.top,H=M-1-d.padInfo.left;for(let G=0;G<E;++G)for(let e=0;e<D;++e)for(let t=0;t<R;++t){const n=t-V,r=Math.max(0,Math.ceil(n/z)),o=Math.min(_,(N+n)/z);for(let a=0;a<P;++a){const i=a-U,s=Math.max(0,Math.ceil(i/B)),l=Math.min(F,(O+i)/B);for(let u=0;u<$;++u){const c=u-H,d=Math.max(0,Math.ceil(c/W)),p=Math.min(L,(M+c)/W);let E=0;for(let t=r;t<o;++t){const r=t*z-n;for(let n=s;n<l;++n){const o=n*B-i;for(let a=d;a<p;++a){const i=b*G+x*t+w*n+k*a,s=A*(N-1-r)+C*(O-1-o)+T*(M-1-(a*W-c))+I*e;for(let e=0;e<j;++e){E+=v[i+e]*S[s+e]}}}}h[f*G+m*t+g*a+y*u+e]=E}}}return n.makeTensorInfo(p.shape,p.dtype,p.values)}},Age=Mfe(Y0,(e=>Math.cos(e))),Cge={kernelName:Y0,backendName:"cpu",kernelFunc:Age},Tge=Mfe(Q0,(e=>Math.cosh(e))),Ige={kernelName:Q0,backendName:"cpu",kernelFunc:Tge};const Ege={kernelName:e1,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{image:o,boxes:a,boxInd:i}=t,{cropSize:s,method:l,extrapolationValue:u}=r,[c,d,p,h]=o.shape,f=a.shape[0],[m,g]=s,y=B6([f,m,g,h],"float32"),v=n.data.get(a.dataId).values,b=n.data.get(i.dataId).values,x=n.data.get(o.dataId).values,w=XJ(o.shape),k=XJ(y.shape);for(let S=0;S<f;S++){const e=4*S,t=v[e],n=v[e+1],r=v[e+2],o=v[e+3],a=b[S];if(a>=c)continue;const i=m>1?(r-t)*(d-1)/(m-1):0,s=g>1?(o-n)*(p-1)/(g-1):0;for(let c=0;c<m;c++){const e=m>1?t*(d-1)+c*i:.5*(t+r)*(d-1);if(e<0||e>d-1)for(let t=0;t<g;t++)for(let e=0;e<h;e++){const n=e+t*k[2]+c*k[1]+S*k[0];y.values[n]=u}else if("bilinear"===l){const t=Math.floor(e),r=Math.ceil(e),i=e-t;for(let e=0;e<g;e++){const l=g>1?n*(p-1)+e*s:.5*(n+o)*(p-1);if(l<0||l>p-1){for(let t=0;t<h;t++){const n=t+e*k[2]+c*k[1]+S*k[0];y.values[n]=u}continue}const d=Math.floor(l),f=Math.ceil(l),m=l-d;for(let n=0;n<h;n++){let o=n+d*w[2]+t*w[1]+a*w[0];const s=x[o];o=n+f*w[2]+t*w[1]+a*w[0];const l=x[o];o=n+d*w[2]+r*w[1]+a*w[0];const u=x[o];o=n+f*w[2]+r*w[1]+a*w[0];const p=s+(l-s)*m,h=u+(x[o]-u)*m;o=n+e*k[2]+c*k[1]+S*k[0],y.values[o]=p+(h-p)*i}}}else for(let t=0;t<g;++t){const r=g>1?n*(p-1)+t*s:.5*(n+o)*(p-1);if(r<0||r>p-1){for(let e=0;e<h;e++){const n=e+t*k[2]+c*k[1]+S*k[0];y.values[n]=u}continue}const i=Math.round(r),l=Math.round(e);for(let e=0;e<h;e++){const n=e+i*w[2]+l*w[1]+a*w[0],r=e+t*k[2]+c*k[1]+S*k[0];y.values[r]=x[n]}}}}return n.makeTensorInfo(y.shape,y.dtype,y.values)}};const Nge={kernelName:Z0,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:a,exclusive:i,reverse:s}=r;Ife(o,"cumprod");const l=kee([a],o.shape.length);let u=o;null!=l&&(u=Ame({inputs:{x:o},backend:n,attrs:{perm:l}}));const c=Aee(1,o.shape.length)[0];if(c!==u.shape.length-1)throw new Error(`backend.cumprod in CPU expects an inner-most axis=${u.shape.length-1} but got axis=${c}`);const d=z4(u.dtype,"int32"),p=JJ(SJ(u.shape),d),h=n.data.get(u.dataId).values,f=u.shape[u.shape.length-1],m=s?(e,t)=>e+f-t-1:(e,t)=>e+t;for(let y=0;y<h.length;y+=f)for(let e=0;e<f;e++){const t=m(y,e);if(0===e)p[t]=i?1:h[t];else{const n=m(y,e-1);p[t]=i?h[n]*p[n]:h[t]*p[n]}}const g=n.makeTensorInfo(u.shape,d,p);if(null!=l){const e=Ame({inputs:{x:g},backend:n,attrs:{perm:See(l)}});return n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(u),e}return g}};const Oge={kernelName:J0,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:a,exclusive:i,reverse:s}=r;Ife(o,"cumsum");const l=kee([a],o.shape.length);let u=o;null!=l&&(u=Ame({inputs:{x:o},backend:n,attrs:{perm:l}}));const c=Aee(1,o.shape.length)[0];if(c!==u.shape.length-1)throw new Error(`backend.cumsum in CPU expects an inner-most axis=${u.shape.length-1} but got axis=${c}`);const d=z4(u.dtype,"int32"),p=e0(SJ(u.shape),d),h=n.data.get(u.dataId).values,f=u.shape[u.shape.length-1],m=s?(e,t)=>e+f-t-1:(e,t)=>e+t;for(let y=0;y<h.length;y+=f)for(let e=0;e<f;e++){const t=m(y,e);if(0===e)p[t]=i?0:h[t];else{const n=m(y,e-1);p[t]=i?h[n]+p[n]:h[t]+p[n]}}const g=n.makeTensorInfo(u.shape,d,p);if(null!=l){const e=Ame({inputs:{x:g},backend:n,attrs:{perm:See(l)}});return n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(u),e}return g}};const Mge={kernelName:t1,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,weights:a}=t,{size:i,binaryOutput:s}=r;if(1===o.shape.length){const e=Jme(n.data.get(o.dataId).values,n.data.get(a.dataId).values,a.dtype,a.shape,i);return n.makeTensorInfo([i],a.dtype,e)}if(2===o.shape.length){const e=ege(n.bufferSync(o),n.bufferSync(a),i,s);return n.makeTensorInfo(e.shape,a.dtype,e.values)}throw new Error(`Error in denseBincount: input must be at most rank 2, but got rank${o.shape.length}.`)}};const Dge={kernelName:n1,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{blockSize:a,dataFormat:i}=r;xJ("NHWC"===i,(()=>`Only NHWC dataFormat supported on CPU for depthToSpace. Got ${i}`));const s=o.shape[0],l=o.shape[1],u=o.shape[2],c=o.shape[3],d=l*a,p=u*a,h=c/(a*a),f=n.data.get(o.dataId).values,m=new Float32Array(s*d*p*h);let g=0;for(let y=0;y<s;++y)for(let e=0;e<d;++e){const t=Math.floor(e/a),n=e%a;for(let e=0;e<p;++e){const r=Math.floor(e/a),o=(n*a+e%a)*h;for(let e=0;e<h;++e){const n=e+o+c*(r+u*(t+l*y));m[g++]=f[n]}}}return n.makeTensorInfo([s,d,p,h],o.dtype,m)}};function Rge(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,filter:a}=t,{strides:i,pad:s,dilations:l,dimRoundingMode:u}=r;Ife([o,a],"depthwiseConv2DNative");const c=XJ(o.shape),d=XJ(a.shape);let p=l;null==p&&(p=[1,1]),xJ(x7(i,p),(()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${i} and dilations '${p}'`));const h=p7(o.shape,a.shape,i,p,s,u,!0),{filterHeight:f,filterWidth:m,dilationHeight:g,dilationWidth:y,padInfo:v}=h,b=v.left,x=v.top,w=h.outChannels/h.inChannels,k=new k4(h.outShape,o.dtype),S=n.data.get(o.dataId).values,A=n.data.get(a.dataId).values,C=k.values;for(let T=0;T<h.batchSize;++T){const e=T*c[0],t=T*k.strides[0];for(let n=0;n<h.outHeight;++n){const r=t+n*k.strides[1],o=n*h.strideHeight-x;for(let t=0;t<f;++t){const n=o+t*g;if(n<0||n>=h.inHeight)continue;const a=t*d[0],i=e+n*c[1];for(let e=0;e<h.outWidth;++e){const t=r+e*k.strides[2],n=e*h.strideWidth-b;for(let e=0;e<m;++e){const r=n+e*y;if(r<0||r>=h.inWidth)continue;const o=a+e*d[1],s=i+r*h.inChannels;let l=t,u=o;for(let e=0;e<h.inChannels;++e){const t=S[s+e];for(let e=0;e<w;++e)C[l+e]+=t*A[u+e];l+=w,u+=w}}}}}}return n.makeTensorInfo(k.shape,k.dtype,k.values)}const Pge={kernelName:r1,backendName:"cpu",kernelFunc:Rge};const $ge={kernelName:o1,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,dy:a}=t,{strides:i,dilations:s,pad:l,dimRoundingMode:u,filterShape:c}=r;Ife([o,a],"depthwiseConv2dNativeBackpropFilter");const d=p7(o.shape,c,i,s,l,u,!0),{strideHeight:p,strideWidth:h,filterHeight:f,filterWidth:m}=d,g=new k4(d.filterShape,"float32"),y=d.padInfo.left,v=d.padInfo.top,b=d.outChannels/d.inChannels,x=n.data.get(o.dataId).values,w=new k4(o.shape,o.dtype,x),k=n.data.get(a.dataId).values,S=new k4(a.shape,a.dtype,k);for(let A=0;A<f;++A){const e=Math.max(0,Math.ceil((v-A)/p)),t=Math.min(d.outHeight,(d.inHeight+v-A)/p);for(let n=0;n<m;++n){const r=Math.max(0,Math.ceil((y-n)/h)),o=Math.min(d.outWidth,(d.inWidth+y-n)/h);for(let a=0;a<d.outChannels;++a){const i=Math.trunc(a/b),s=a%b;let l=0;for(let u=0;u<d.batchSize;++u)for(let s=e;s<t;++s){const e=A+s*p-v;for(let t=r;t<o;++t){const r=n+t*h-y;l+=w.get(u,e,r,i)*S.get(u,s,t,a)}}g.set(l,A,n,i,s)}}}return n.makeTensorInfo(g.shape,g.dtype,g.values)}};const jge={kernelName:a1,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:o,filter:a}=t,{strides:i,dilations:s,pad:l,dimRoundingMode:u,inputShape:c}=r;Ife([o,a],"depthwiseConv2DNativeBackpropInput");const d=XJ(o.shape),p=XJ(a.shape),h=p7(c,a.shape,i,s,l,u,!0),f=new k4(h.inShape,"float32"),m=f.values,[g,y,v]=f.strides,b=n.data.get(o.dataId).values,[x,w,k]=d,S=n.data.get(a.dataId).values,[A,C,T]=p,{batchSize:I,filterHeight:E,filterWidth:N,inChannels:O,inHeight:M,inWidth:D,outChannels:R,outHeight:P,outWidth:$,strideHeight:j,strideWidth:_}=h,F=E-1-h.padInfo.top,L=N-1-h.padInfo.left,z=R/O;for(let B=0;B<I;++B)for(let e=0;e<O;++e)for(let t=0;t<M;++t){const n=t-F,r=Math.max(0,Math.ceil(n/j)),o=Math.min(P,(E+n)/j);for(let a=0;a<D;++a){const i=a-L,s=Math.max(0,Math.ceil(i/_)),l=Math.min($,(N+i)/_);let u=0;for(let t=r;t<o;++t){const r=t*j-n;for(let n=s;n<l;++n){const o=x*B+w*t+k*n,a=A*(E-1-r)+C*(N-1-(n*_-i))+T*e;for(let t=0;t<z;++t){u+=b[o+(e*z+t)]*S[a+t]}}}m[g*B+y*t+v*a+e]=u}}return n.makeTensorInfo(f.shape,f.dtype,f.values)}};const _ge={kernelName:i1,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:r}=t,o=SJ(r.shape),a=n.data.get(r.dataId).values,i=B6([o,o],r.dtype),s=i.values;for(let u=0;u<a.length;u++)s[u*o+u]=a[u];const l=[...r.shape,...r.shape];return n.makeTensorInfo(l,i.dtype,i.values)}},Fge={kernelName:s1,backendName:"cpu",kernelFunc:e=>{let{inputs:t,backend:n,attrs:r}=e;const{x:o,filter:a}=t,{strides:i,pad:s,dilations:l}=r,u=n,c=u.data.get(o.dataId).values,d=o.shape.length,p=u.data.get(a.dataId).values,h=a.shape.length,{batchSize:f,inHeight:m,inWidth:g,inChannels:y,outHeight:v,outWidth:b,padInfo:x,strideHeight:w,strideWidth:k,filterHeight:S,filterWidth:A,dilationHeight:C,dilationWidth:T,outShape:I}=u7(o.shape,a.shape,i,s,"NHWC",l),E=SJ(I),N=I.length,O=_J(o.dtype,E);for(let M=0;M<f;++M)for(let e=0;e<v;++e){const t=e*w-x.top;for(let n=0;n<b;++n){const r=n*k-x.left;for(let i=0;i<y;++i){let s=Number.MIN_SAFE_INTEGER;for(let e=0;e<S;++e){const n=t+e*C;if(n>=0&&n<m)for(let t=0;t<A;++t){const l=r+t*T;if(l>=0&&l<g){const r=r0([M,n,l,i],d,XJ(o.shape)),u=r0([e,t,i],h,XJ(a.shape)),f=c[r]+p[u];f>s&&(s=f)}}}O[r0([M,e,n,i],N,XJ(I))]=s}}}return{dataId:u.write(s4(O,o.dtype),I,o.dtype),shape:I,dtype:o.dtype}}},Lge={kernelName:u1,backendName:"cpu",kernelFunc:e=>{let{inputs:t,backend:n,attrs:r}=e;const{x:o,filter:a,dy:i}=t,{strides:s,pad:l,dilations:u}=r,c=n,d=QJ(o.shape,c.data.get(o.dataId).values),p=QJ(a.shape,c.data.get(a.dataId).values),{batchSize:h,inHeight:f,inWidth:m,inChannels:g,outHeight:y,outWidth:v,padInfo:b,strideHeight:x,strideWidth:w,filterHeight:k,filterWidth:S,dilationHeight:A,dilationWidth:C,outShape:T}=u7(o.shape,a.shape,s,l,"NHWC",u);xJ(i.rank===T.length,(()=>`Error in ${u1}, dy must have the same rank as output ${T.length}, but got ${i.rank}`));const I=QJ(T,c.data.get(i.dataId).values),E=t0(a.shape,a.dtype);for(let N=0;N<h;++N)for(let e=0;e<y;++e){const t=e*x-b.top;for(let n=0;n<v;++n){const r=n*w-b.left;for(let o=0;o<g;++o){let a=Number.MIN_SAFE_INTEGER,i=0,s=0;for(let e=0;e<k;++e){const n=t+e*A;if(n>=0&&n<f)for(let t=0;t<S;++t){const l=r+t*C;if(l>=0&&l<m){const r=d[N][n][l][o]+p[e][t][o];r>a&&(a=r,i=e,s=t)}}}E[i][s][o]+=I[N][e][n][o]}}}return{dataId:c.write(s4(E,o.dtype),a.shape,a.dtype),shape:a.shape,dtype:a.dtype}}},zge={kernelName:l1,backendName:"cpu",kernelFunc:e=>{let{inputs:t,backend:n,attrs:r}=e;const{x:o,filter:a,dy:i}=t,{strides:s,pad:l,dilations:u}=r,c=n,d=QJ(o.shape,c.data.get(o.dataId).values),p=QJ(a.shape,c.data.get(a.dataId).values),{batchSize:h,inHeight:f,inWidth:m,inChannels:g,outHeight:y,outWidth:v,padInfo:b,strideHeight:x,strideWidth:w,filterHeight:k,filterWidth:S,dilationHeight:A,dilationWidth:C,outShape:T}=u7(o.shape,a.shape,s,l,"NHWC",u);xJ(i.rank===T.length,(()=>`Error in ${l1}, dy must have the same rank as output ${T.length}, but got ${i.rank}`));const I=QJ(T,c.data.get(i.dataId).values),E=t0(o.shape,o.dtype);for(let N=0;N<h;++N)for(let e=0;e<y;++e){const t=e*x-b.top;for(let n=0;n<v;++n){const r=n*w-b.left;for(let o=0;o<g;++o){let a=Number.MIN_SAFE_INTEGER,i=t<0?0:t,s=r<0?0:r;for(let e=0;e<k;++e){const n=t+e*A;if(n>=0&&n<f)for(let t=0;t<S;++t){const l=r+t*C;if(l>=0&&l<m){const r=d[N][n][l][o]+p[e][t][o];r>a&&(a=r,i=n,s=l)}}}E[N][i][s][o]+=I[N][e][n][o]}}}return{dataId:c.write(s4(E,o.dtype),o.shape,o.dtype),shape:o.shape,dtype:o.dtype}}};const Bge={kernelName:c1,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{image:o}=t,{canvas:a,options:i}=r,{contextOptions:s,imageOptions:l}=i||{},u=(null===l||void 0===l?void 0:l.alpha)||1,c=(null===s||void 0===s?void 0:s.contextType)||"2d";if("2d"!==c)throw new Error(`Context type ${s.contextType} is not supported by the CPU backend.`);const d=a.getContext(c,(null===s||void 0===s?void 0:s.contextAttributes)||{});if(null==d)throw new Error(`Could not get the context with ${c} type.`);const[p,h]=o.shape.slice(0,2),f=2===o.shape.length?1:o.shape[2],m=n.data.get(o.dataId).values,g="float32"===o.dtype?255:1,y=new Uint8ClampedArray(h*p*4);for(let b=0;b<p*h;++b){const e=[0,0,0,255*u];for(let n=0;n<f;n++){const t=m[b*f+n];if("float32"===o.dtype){if(t<0||t>1)throw new Error(`Tensor values for a float32 Tensor must be in the range [0 - 1] but encountered ${t}.`)}else if("int32"===o.dtype&&(t<0||t>255))throw new Error(`Tensor values for a int32 Tensor must be in the range [0 - 255] but encountered ${t}.`);1===f?(e[0]=t*g,e[1]=t*g,e[2]=t*g):e[n]=t*g}const t=4*b;y[t+0]=Math.round(e[0]),y[t+1]=Math.round(e[1]),y[t+2]=Math.round(e[2]),y[t+3]=Math.round(e[3])}a.width=h,a.height=p;const v=new ImageData(y,h,p);return d.putImageData(v,0,0),o}},Wge=Lfe(((e,t)=>e*t)),Vge=ime(((e,t,n,r)=>({real:e*n-t*r,imag:e*r+t*n}))),Uge=ame(c2,Wge,Vge),Hge={kernelName:c2,backendName:"cpu",kernelFunc:Uge};function Gge(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:a,keepDims:i}=r;let s;Ife(o,"sum"),s="bool"===o.dtype?rme({inputs:{x:o},backend:n,attrs:{dtype:"int32"}}):$fe({inputs:{x:o},backend:n});const l=s.shape.length,u=PJ(a,s.shape),c=kee(u,l);let d=u,p=s;null!=c&&(p=Ame({inputs:{x:s},backend:n,attrs:{perm:c}}),d=Aee(d.length,l)),wee("sum",d,p.shape.length);const[h,f]=bee(p.shape,d);let m=Jfe(n,h,z4(p.dtype,"int32"));const g=SJ(f),y=n.data.get(m.dataId).values,v=n.data.get(p.dataId).values;for(let b=0;b<y.length;++b){const e=b*g;let t=0;for(let n=0;n<g;++n)t+=v[e+n];y[b]=t}if(i){const e=m;m=dme({inputs:{x:m},backend:n,attrs:{shape:xee(m.shape,u)}}),n.disposeIntermediateTensorInfo(e)}return n.disposeIntermediateTensorInfo(s),null!=c&&n.disposeIntermediateTensorInfo(p),m}const qge={kernelName:Z2,backendName:"cpu",kernelFunc:Gge};const Kge={kernelName:p1,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{equation:o}=r,a=t,{allDims:i,summedDims:s,idDims:l}=zoe(o,a.length);Woe(i.length,l,a);const{path:u,steps:c}=Voe(s,l),d=c.length;let p=null,h=i.length;const f=[];for(let m=0;m<d;++m){for(const e of c[m]){const{permutationIndices:t,expandDims:r}=Boe(h,l[e]);let o;Uoe(t)?o=a[e]:(o=Ame({inputs:{x:a[e]},backend:n,attrs:{perm:t}}),f.push(o));const i=o.shape.slice();for(let e=0;e<r.length;++e)i.splice(r[e],0,1);TJ(o.shape,i)||(o=dme({inputs:{x:o},backend:n,attrs:{shape:i}}),f.push(o)),null===p?p=o:(p=Uge({inputs:{a:o,b:p},backend:n}),f.push(p))}m<d-1&&(u[m]>=0&&(p=Gge({inputs:{x:p},backend:n,attrs:{axis:u[m]-(i.length-h),keepDims:!1}}),f.push(p)),h--)}for(const m of f)m!==p&&n.disposeIntermediateTensorInfo(m);return p}};const Xge={kernelName:f1,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{dy:r,y:o}=t;Ife([r,o],"eluGrad");const a=new Float32Array(SJ(o.shape)),i=n.data.get(o.dataId).values,s=n.data.get(r.dataId).values;for(let l=0;l<i.length;++l){const e=i[l];a[l]=e>=0?s[l]:s[l]*(e+1)}return n.makeTensorInfo(o.shape,"float32",a)}},Yge=Lfe(((e,t)=>e===t?1:0)),Qge=ame(g1,Yge,null,"bool"),Zge={kernelName:g1,backendName:"cpu",kernelFunc:Qge},Jge=koe,eye=Soe,tye=Aoe,nye=Coe,rye=Toe,oye=Ioe,aye=Mfe(m1,(e=>{const t=Math.sign(e),n=Math.abs(e),r=1/(1+Jge*n);return t*(1-((((oye*r+rye)*r+nye)*r+tye)*r+eye)*r*Math.exp(-n*n))})),iye={kernelName:m1,backendName:"cpu",kernelFunc:aye},sye=Ofe((e=>Math.exp(e))),lye=Dfe(y1,sye,"float32"),uye={kernelName:y1,backendName:"cpu",kernelFunc:lye};function cye(e){const{inputs:t,backend:n,attrs:r}=e,{input:o}=t,{dim:a}=r,i=o.shape.length,s=o.shape.slice();let l=a;return a<0&&(xJ(-(i+1)<=a,(()=>`Axis must be in the interval [${-(i+1)}, ${i}]`)),l=i+a+1),s.splice(l,0,1),dme({inputs:{x:o},backend:n,attrs:{shape:s}})}const dye={kernelName:v1,backendName:"cpu",kernelFunc:cye},pye=Ofe((e=>Math.expm1(e))),hye=Dfe(b1,pye),fye={kernelName:b1,backendName:"cpu",kernelFunc:hye},mye=Lfe(((e,t)=>e/t)),gye=ame(d1,mye),yye={kernelName:d1,backendName:"cpu",kernelFunc:gye},vye=Lfe(((e,t)=>e-t)),bye=ime(((e,t,n,r)=>({real:e-n,imag:t-r}))),xye=ame(f3,vye,bye),wye={kernelName:f3,backendName:"cpu",kernelFunc:xye};function kye(e,t,n){const r=e.shape,o=r[0],a=r[1],i=n.data.get(e.dataId),s=i.complexTensorInfos.real,l=i.complexTensorInfos.imag,u=[o,a],c=SJ(u),d=jJ("float32",c),p=jJ("float32",c);for(let g=0;g<o;g++){const e=Yme({inputs:{x:s},backend:n,attrs:{begin:[g,0],size:[1,a]}}),r=Yme({inputs:{x:l},backend:n,attrs:{begin:[g,0],size:[1,a]}}),o=Qfe({inputs:{real:e,imag:r},backend:n}),{real:i,imag:u}=Sye(o,t,n),c=Eoe(i,u);for(let t=0;t<a;t++){const e=Doe(c,t);d[g*a+t]=e.real,p[g*a+t]=e.imag}n.disposeIntermediateTensorInfo(e),n.disposeIntermediateTensorInfo(r),n.disposeIntermediateTensorInfo(o)}const h=n.makeTensorInfo(u,"float32",d),f=n.makeTensorInfo(u,"float32",p),m=Qfe({inputs:{real:h,imag:f},backend:n});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(f),m}function Sye(e,t,n){const r=SJ(e.shape),o=n.data.get(e.dataId),a=n.data.get(o.complexTensorInfos.real.dataId).values,i=n.data.get(o.complexTensorInfos.imag.dataId).values;if(0===((s=r)&s-1)){const o=Aye(a,i,r,t,n),s=[e.shape[0],e.shape[1]];if(t){const e=n.makeTensorInfo(s,"float32",o.real),t=n.makeTensorInfo(s,"float32",o.imag),a=n.makeTensorInfo([],"float32",i4(r,"float32")),i=$fe({inputs:{x:a},backend:n}),l=yye.kernelFunc({inputs:{a:e,b:a},backend:n}),u=yye.kernelFunc({inputs:{a:t,b:i},backend:n}),c=n.data.get(l.dataId).values,d=n.data.get(u.dataId).values;return n.disposeIntermediateTensorInfo(e),n.disposeIntermediateTensorInfo(t),n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(l),n.disposeIntermediateTensorInfo(u),{real:c,imag:d}}return o}{const e=function(e,t,n){const r=new Float32Array(2*t);for(let o=0;o<t;o++){let a=0,i=0;for(let r=0;r<t;r++){const s=$oe(o*r,t,n),l=Doe(e,r);a+=l.real*s.real-l.imag*s.imag,i+=l.real*s.imag+l.imag*s.real}n&&(a/=t,i/=t),Roe(r,a,i,o)}return r}(Eoe(a,i),r,t);return Noe(e)}var s}function Aye(e,t,n,r,o){if(1===n)return{real:e,imag:t};const a=Eoe(e,t),i=n/2,s=Ooe(a),l=s.real,u=s.imag,c=[l.length],d=o.makeTensorInfo(c,"float32",l),p=o.makeTensorInfo(c,"float32",u),h=Qfe({inputs:{real:d,imag:p},backend:o}),f=Moe(a),m=f.real,g=f.imag,y=[m.length],v=o.makeTensorInfo(y,"float32",m),b=o.makeTensorInfo(y,"float32",g),x=Qfe({inputs:{real:v,imag:b},backend:o}),w=Aye(l,u,i,r,o),k=w.real,S=w.imag,A=[k.length],C=o.makeTensorInfo(A,"float32",k),T=o.makeTensorInfo(A,"float32",S),I=Qfe({inputs:{real:C,imag:T},backend:o}),E=Aye(m,g,i,r,o),N=E.real,O=E.imag,M=[N.length],D=o.makeTensorInfo(M,"float32",N),R=o.makeTensorInfo(M,"float32",O),P=Qfe({inputs:{real:D,imag:R},backend:o}),$=Poe(n,r),j=[$.real.length],_=o.makeTensorInfo(j,"float32",$.real),F=o.makeTensorInfo(j,"float32",$.imag),L=Qfe({inputs:{real:_,imag:F},backend:o}),z=Uge({inputs:{a:L,b:P},backend:o}),B=ume({inputs:{a:I,b:z},backend:o}),W=xye({inputs:{a:I,b:z},backend:o}),V=eme({inputs:{input:B},backend:o}),U=eme({inputs:{input:W},backend:o}),H=hge({inputs:{input:B},backend:o}),G=hge({inputs:{input:W},backend:o}),q=mge({inputs:[V,U],backend:o,attrs:{axis:0}}),K=mge({inputs:[H,G],backend:o,attrs:{axis:0}}),X=o.data.get(q.dataId).values,Y=o.data.get(K.dataId).values;return o.disposeIntermediateTensorInfo(d),o.disposeIntermediateTensorInfo(p),o.disposeIntermediateTensorInfo(h),o.disposeIntermediateTensorInfo(v),o.disposeIntermediateTensorInfo(b),o.disposeIntermediateTensorInfo(x),o.disposeIntermediateTensorInfo(C),o.disposeIntermediateTensorInfo(T),o.disposeIntermediateTensorInfo(I),o.disposeIntermediateTensorInfo(D),o.disposeIntermediateTensorInfo(R),o.disposeIntermediateTensorInfo(P),o.disposeIntermediateTensorInfo(_),o.disposeIntermediateTensorInfo(F),o.disposeIntermediateTensorInfo(L),o.disposeIntermediateTensorInfo(z),o.disposeIntermediateTensorInfo(B),o.disposeIntermediateTensorInfo(W),o.disposeIntermediateTensorInfo(V),o.disposeIntermediateTensorInfo(H),o.disposeIntermediateTensorInfo(U),o.disposeIntermediateTensorInfo(G),o.disposeIntermediateTensorInfo(q),o.disposeIntermediateTensorInfo(K),{real:X,imag:Y}}const Cye={kernelName:x1,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{input:r}=t,o=SJ(r.shape),a=r.shape[r.shape.length-1],i=dme({inputs:{x:r},backend:n,attrs:{shape:[o/a,a]}}),s=kye(i,!1,n),l=dme({inputs:{x:s},backend:n,attrs:{shape:r.shape}});return n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(s),l}};function Tye(e){const{backend:t,attrs:n}=e,{shape:r,value:o,dtype:a}=n,i=a||GJ(o),s=_J(i,SJ(r));return function(e,t){e.fill(t)}(s,o),t.makeTensorInfo(r,i,s)}const Iye={kernelName:w1,backendName:"cpu",kernelFunc:Tye};const Eye={kernelName:k1,backendName:"cpu",kernelFunc:e=>{let{inputs:t,attrs:n,backend:r}=e;const{image:o}=t,a=r,i=jJ(o.dtype,SJ(o.shape)),[s,l,u,c]=o.shape,d=a.data.get(o.dataId).values;for(let p=0;p<s;p++){const e=p*u*l*c;for(let t=0;t<l;t++){const n=t*(u*c);for(let t=0;t<u;t++){const r=t*c;for(let o=0;o<c;o++){const a=Math.round(u-t-1),s=e+n+r+o;let l=d[s];if(a>=0&&a<u){l=d[e+n+a*c+o]}i[s]=l}}}}return{dataId:a.write(i,o.shape,o.dtype),shape:o.shape,dtype:o.dtype}}},Nye=Ofe((e=>Math.floor(e))),Oye=Dfe(S1,Nye),Mye={kernelName:S1,backendName:"cpu",kernelFunc:Oye},Dye=Lfe(((e,t)=>Math.floor(e/t))),Rye=ame(A1,Dye,null,"int32"),Pye={kernelName:A1,backendName:"cpu",kernelFunc:Rye};const $ye={kernelName:O3,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,filter:a,bias:i,preluActivationWeights:s}=t,{strides:l,pad:u,dataFormat:c,dilations:d,dimRoundingMode:p,activation:h,leakyreluAlpha:f}=r;let m=yge({inputs:{x:o,filter:a},backend:n,attrs:{strides:l,pad:u,dataFormat:c,dilations:d,dimRoundingMode:p}});if(i){const e=m;if("NCHW"===c&&1===i.shape.length&&1!==i.shape[0]){const e=dme({inputs:{x:i},backend:n,attrs:{shape:[i.shape[0],1,1]}});m=ume({inputs:{a:m,b:e},backend:n}),n.disposeIntermediateTensorInfo(e)}else m=ume({inputs:{a:m,b:i},backend:n});n.disposeIntermediateTensorInfo(e)}if(h){const e=m;if("NCHW"===c&&"prelu"===h&&1===s.shape.length&&1!==s.shape[0]){const e=dme({inputs:{x:s},backend:n,attrs:{shape:[s.shape[0],1,1]}});m=Yfe(n,m,h,e,f),n.disposeIntermediateTensorInfo(e)}else m=Yfe(n,m,h,s,f);n.disposeIntermediateTensorInfo(e)}return m}};const jye={kernelName:M3,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,filter:a,bias:i,preluActivationWeights:s}=t,{strides:l,pad:u,dataFormat:c,dilations:d,dimRoundingMode:p,activation:h,leakyreluAlpha:f}=r;let m=Rge({inputs:{x:o,filter:a},backend:n,attrs:{strides:l,pad:u,dataFormat:c,dilations:d,dimRoundingMode:p}});if(i){const e=m;m=ume({inputs:{a:m,b:i},backend:n}),n.disposeIntermediateTensorInfo(e)}if(h){const e=m;m=Yfe(n,m,h,s,f),n.disposeIntermediateTensorInfo(e)}return m}};function _ye(e,t,n,r,o,a,i,s,l){const u=B6([r,a],n);for(let c=0;c<r;c++){const n=[];let r=0;for(let t=0;t<o;t++){const a=e[c*o+t];r+=a*i[t],n.push(a)}if(r<0||r>=l/a)throw new Error(`Invalid indices: ${n} does not index into ${s}`);for(let e=0;e<a;e++)u.values[c*a+e]=t.get(...t.indexToLoc(r*a+e))}return u}const Fye={kernelName:I1,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{params:r,indices:o}=t,a=SJ(r.shape),i=o.shape,s=i[i.length-1],[l,u,c,d]=p9(r,o);if(0===u)return n.makeTensorInfo(l,r.dtype,[]);const p=_ye(n.data.get(o.dataId).values,n.bufferSync(r),r.dtype,u,s,c,d,r.shape,a);return n.makeTensorInfo(l,r.dtype,p.values)}};function Lye(e,t,n){const r=B6(n,e.dtype);for(let o=0;o<r.size;++o){const n=r.indexToLoc(o).slice(),a=n[0],i=n[2],s=t.locToIndex([a,i]);n[2]=t.values[s];const l=e.locToIndex(n);0<=l&&l<e.values.length&&(r.values[o]=e.values[l])}return r}const zye={kernelName:T1,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,indices:a}=t,{axis:i,batchDims:s}=r;Ife([o,a],"gatherV2");const l=PJ(i,o.shape)[0],u=n.data.get(a.dataId).values,c=o.shape[l];for(let b=0;b<u.length;++b){const e=u[b];xJ(e<=c-1&&e>=0,(()=>`GatherV2: the index value ${e} is not in [0, ${c-1}]`))}let d=s;null==s&&(d=0);const p=SJ(a.shape),h=sae(o,a,l,d),f=dme({inputs:{x:o},backend:n,attrs:{shape:[h.batchSize,h.outerSize,h.dimSize,h.sliceSize]}}),m=dme({inputs:{x:a},backend:n,attrs:{shape:[h.batchSize,p/h.batchSize]}}),g=[h.batchSize,h.outerSize,p/h.batchSize,h.sliceSize],y=n.bufferSync(m),v=Lye(n.bufferSync(f),y,g);return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),n.makeTensorInfo(h.outputShape,v.dtype,v.values)}},Bye=Lfe(((e,t)=>e>t?1:0)),Wye=ame(E1,Bye,null,"bool"),Vye={kernelName:E1,backendName:"cpu",kernelFunc:Wye},Uye=Lfe(((e,t)=>e>=t?1:0)),Hye=ame(N1,Uye,null,"bool"),Gye={kernelName:N1,backendName:"cpu",kernelFunc:Hye};const qye={kernelName:M1,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{input:r}=t,o=SJ(r.shape),a=r.shape[r.shape.length-1],i=dme({inputs:{x:r},backend:n,attrs:{shape:[o/a,a]}}),s=kye(i,!0,n),l=dme({inputs:{x:s},backend:n,attrs:{shape:r.shape}});return n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(s),l}},Kye=Mfe(R1,(e=>Number.isFinite(e)?1:0),"bool"),Xye={kernelName:R1,backendName:"cpu",kernelFunc:Kye},Yye=Mfe(P1,(e=>Math.abs(e)===1/0?1:0),"bool"),Qye={kernelName:P1,backendName:"cpu",kernelFunc:Yye},Zye=Mfe($1,(e=>Number.isNaN(e)?1:0),"bool"),Jye={kernelName:$1,backendName:"cpu",kernelFunc:Zye},eve=Lfe(((e,t)=>e<t?1:0)),tve=ame(_1,eve,null,"bool"),nve={kernelName:_1,backendName:"cpu",kernelFunc:tve},rve=Lfe(((e,t)=>e<=t?1:0)),ove=ame(F1,rve,null,"bool"),ave={kernelName:F1,backendName:"cpu",kernelFunc:ove};function ive(e,t,n){const r=(t-e)/(n-1),o=e0(n,"float32");o[0]=e;for(let a=1;a<o.length;a++)o[a]=o[a-1]+r;return o}const sve={kernelName:L1,backendName:"cpu",kernelFunc:function(e){const{backend:t,attrs:n}=e,{start:r,stop:o,num:a}=n,i=ive(r,o,a);return t.makeTensorInfo([i.length],"float32",i)}},lve=Ofe((e=>Math.log(e))),uve=Dfe(z1,lve),cve={kernelName:z1,backendName:"cpu",kernelFunc:uve},dve=Mfe(B1,(e=>Math.log1p(e))),pve={kernelName:B1,backendName:"cpu",kernelFunc:dve},hve=Lfe(((e,t)=>e&&t)),fve=ame(W1,hve,null,"bool"),mve={kernelName:W1,backendName:"cpu",kernelFunc:fve},gve=Mfe(V1,(e=>e?0:1),"bool"),yve={kernelName:V1,backendName:"cpu",kernelFunc:gve},vve=Lfe(((e,t)=>e||t)),bve=ame(U1,vve,null,"bool"),xve={kernelName:U1,backendName:"cpu",kernelFunc:bve};const wve={kernelName:K1,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{depthRadius:a,bias:i,alpha:s,beta:l}=r;Ife(o,"LRN");const u=o.shape[3],c=u-1,d=n.data.get(o.dataId).values,p=SJ(o.shape),h=new Float32Array(p);function f(e){const t=e%u;let n=e-t+Math.max(0,t-a);const r=e-t+Math.min(t+a,c);let o=0;for(;n<=r;n++){const e=d[n];o+=e*e}return o}for(let m=0;m<p;m++){const e=f(m),t=d[m]*Math.pow(i+s*e,-l);h[m]=t}return n.makeTensorInfo(o.shape,o.dtype,h)}};const kve={kernelName:X1,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,y:a,dy:i}=t,{depthRadius:s,bias:l,alpha:u,beta:c}=r;Ife(i,"LRNGrad");const d=SJ(i.shape),p=i.shape[3],h=n.data.get(i.dataId).values,f=n.data.get(o.dataId).values,m=n.data.get(a.dataId).values,g=new Float32Array(d),y=d;for(let v=0;v<y;v++){const e=v%p,t=v-e+Math.max(0,e-s),n=v-e+Math.min(p,e+s+1);let r=0;for(let o=t;o<n;o++)r+=Math.pow(f[o],2);r=u*r+l;for(let o=t;o<n;o++){let e=-2*u*c*f[o]*m[v]/r;v===o&&(e+=Math.pow(r,-c)),e*=h[v],g[o]+=e}}return n.makeTensorInfo(i.shape,o.dtype,g)}};function Sve(e,t,n,r){const o=jJ(r,SJ(n));for(let a=0;a<o.length;++a){const n=a*t;let r=e[n];for(let o=0;o<t;++o){const t=e[n+o];(Number.isNaN(t)||t>r)&&(r=t)}o[a]=r}return o}function Ave(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{reductionIndices:a,keepDims:i}=r,s=n;let l=o.shape;const u=l.length,c=PJ(a,l);let d=c;const p=kee(d,u);let h=s.data.get(o.dataId).values;if(null!=p){const e=new Array(u);for(let t=0;t<e.length;t++)e[t]=l[p[t]];h=Sme(h,l,o.dtype,p,e),d=Aee(d.length,u),l=e}Ife(o,"max"),wee("max",d,u);const[f,m]=bee(l,d),g=Sve(h,SJ(m),f,o.dtype),y=s.write(g,f,o.dtype);let v=f;if(i){v=xee(f,c)}return{dataId:y,shape:v,dtype:o.dtype}}const Cve={kernelName:Q1,backendName:"cpu",kernelFunc:Ave},Tve=Lfe(((e,t)=>Math.max(e,t))),Ive=ame(Z1,Tve),Eve={kernelName:Z1,backendName:"cpu",kernelFunc:Ive};const Nve={kernelName:J1,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t;Ife(o,"maxPool");const{filterSize:a,strides:i,pad:s,dimRoundingMode:l}=r;xJ(x7(i,1),(()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${i} and dilations '1'`));const u=c7(o.shape,a,i,1,s,l);let c;if(1===u.filterWidth&&1===u.filterHeight&&TJ(u.inShape,u.outShape))c=$fe({inputs:{x:o},backend:n});else{const e=n.data.get(o.dataId).values,t=XJ(o.shape),r=Bme(e,o.shape,o.dtype,t,u,"max");c=n.makeTensorInfo(u.outShape,o.dtype,r.values)}return c}};const Ove={kernelName:t2,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{filterSize:a,strides:i,pad:s,dimRoundingMode:l,dataFormat:u}=r;Ife(o,"maxPool3d");const c=d7(o.shape,a,i,1,s,l,u),d=Vme(n.data.get(o.dataId).values,o.shape,o.dtype,XJ(o.shape),c,"max");return n.makeTensorInfo(d.shape,"float32",d.values)}};const Mve={kernelName:n2,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:o,input:a}=t,{filterSize:i,strides:s,pad:l,dimRoundingMode:u}=r;Ife([o,a],"maxPool3DGrad");const c=d7(a.shape,i,s,1,l,u),d=function(e,t){const n=B6(t.outShape,"int32"),r=t.strideDepth,o=t.strideHeight,a=t.strideWidth,i=t.dilationDepth,s=t.dilationHeight,l=t.dilationWidth,u=t.effectiveFilterDepth,c=t.effectiveFilterHeight,d=t.effectiveFilterWidth,p=t.padInfo.front,h=t.padInfo.top,f=t.padInfo.left;for(let m=0;m<t.batchSize;++m)for(let g=0;g<t.inChannels;++g)for(let y=0;y<t.outDepth;++y){const v=y*r-p;let b=v;for(;b<0;)b+=i;const x=Math.min(t.inDepth,u+v);for(let r=0;r<t.outHeight;++r){const u=r*o-h;let p=u;for(;p<0;)p+=s;const w=Math.min(t.inHeight,c+u);for(let o=0;o<t.outWidth;++o){const h=o*a-f;let k=h;for(;k<0;)k+=l;const S=Math.min(t.inWidth,d+h);let A=Number.NEGATIVE_INFINITY,C=-1;for(let t=b;t<x;t+=i){const n=t-v;for(let r=p;r<w;r+=s){const o=r-u;for(let a=k;a<S;a+=l){const i=a-h,s=e.get(m,t,r,a,g);s>=A&&(A=s,C=n*c*d+o*c+i)}}}n.set(C,m,y,r,o,g)}}}return n}(n.bufferSync(a),c),p=c.strideDepth,h=c.strideHeight,f=c.strideWidth,m=c.dilationDepth,g=c.dilationHeight,y=c.dilationWidth,v=c.effectiveFilterDepth,b=c.effectiveFilterHeight,x=c.effectiveFilterWidth,w=v-1-c.padInfo.front,k=x-1-c.padInfo.left,S=b-1-c.padInfo.top,A=B6(a.shape,"float32"),C=n.bufferSync(o);for(let T=0;T<c.batchSize;++T)for(let e=0;e<c.inChannels;++e)for(let t=0;t<c.inDepth;++t)for(let n=0;n<c.inHeight;++n)for(let r=0;r<c.inWidth;++r){const o=t-w,a=n-S,i=r-k;let s=0;for(let t=0;t<v;t+=m){const n=(o+t)/p;if(!(n<0||n>=c.outDepth||Math.floor(n)!==n))for(let r=0;r<b;r+=g){const o=(a+r)/h;if(!(o<0||o>=c.outHeight||Math.floor(o)!==o))for(let a=0;a<x;a+=y){const l=(i+a)/f;if(l<0||l>=c.outWidth||Math.floor(l)!==l)continue;const u=v*b*x-1-d.get(T,n,o,l,e)===t*b*x+r*x+a?1:0;if(0===u)continue;s+=C.get(T,n,o,l,e)*u}}}A.set(s,T,t,n,r,e)}return n.makeTensorInfo(A.shape,A.dtype,A.values)}};const Dve={kernelName:e2,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:o,input:a,output:i}=t,s=a;Ife([a,i],"maxPoolGrad");const{filterSize:l,strides:u,pad:c,dimRoundingMode:d}=r,p=c7(s.shape,l,u,1,c,d),h=n.data.get(s.dataId).values,f=B6(p.outShape,s.dtype,Wme(h,s.shape,s.dtype,p).values),m=p.strideHeight,g=p.strideWidth,y=p.dilationHeight,v=p.dilationWidth,b=p.effectiveFilterHeight,x=p.effectiveFilterWidth,w=x-1-p.padInfo.left,k=b-1-p.padInfo.top,S=B6(s.shape,"float32"),A=n.data.get(o.dataId).values,C=B6(o.shape,"float32",A);for(let T=0;T<p.batchSize;++T)for(let e=0;e<p.inChannels;++e)for(let t=0;t<p.inHeight;++t)for(let n=0;n<p.inWidth;++n){const r=t-k,o=n-w;let a=0;for(let t=0;t<b;t+=y){const n=(r+t)/m;if(!(n<0||n>=p.outHeight||Math.floor(n)!==n))for(let r=0;r<x;r+=v){const i=(o+r)/g;if(i<0||i>=p.outWidth||Math.floor(i)!==i)continue;const s=b*x-1-f.get(T,n,i,e)===t*x+r?1:0;if(0===s)continue;a+=C.get(T,n,i,e)*s}}S.set(a,T,t,n,e)}return n.makeTensorInfo(S.shape,S.dtype,S.values)}};const Rve={kernelName:r2,backendName:"cpu",kernelFunc:e=>{let{inputs:t,attrs:n,backend:r}=e;const{x:o}=t,{filterSize:a,strides:i,pad:s,includeBatchInIndex:l}=n,u=r;Ife(o,"MaxPoolWithArgmax");const c=u.data.get(o.dataId).values,d=c7(o.shape,a,i,[1,1],s),[p,h]=function(e,t,n,r,o){const a=Bme(e,0,n,XJ(t),o,"max"),i=Wme(e,t,n,o,!0,r);return[a.values,i.values]}(c,o.shape,o.dtype,l,d),f=u.write(p,d.outShape,o.dtype),m=u.write(h,d.outShape,o.dtype);return[{dataId:f,shape:d.outShape,dtype:o.dtype},{dataId:m,shape:d.outShape,dtype:"int32"}]}};const Pve={kernelName:o2,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:a,keepDims:i}=r,s=PJ(a,o.shape),l=SJ(bee(o.shape,s)[1]),u=[],c=n.makeTensorInfo([],"float32",new Float32Array([l]));u.push(c);const d=rme({inputs:{x:o},backend:n,attrs:{dtype:"float32"}});u.push(d);const p=gye({inputs:{a:d,b:c},backend:n});u.push(p);const h=Gge({inputs:{x:p},backend:n,attrs:{axis:a,keepDims:i}});return u.forEach((e=>n.disposeIntermediateTensorInfo(e))),h}};const $ve={kernelName:a2,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:a,keepDims:i}=r;Ife(o,"min");const s=PJ(a,o.shape);let l=s;const u=kee(l,o.shape.length);let c=o;null!=u&&(c=Ame({inputs:{x:o},backend:n,attrs:{perm:u}}),l=Aee(l.length,o.shape.length)),wee("min",l,c.shape.length);const[d,p]=bee(c.shape,l),h=SJ(p),f=e0(SJ(d),c.dtype),m=n.data.get(c.dataId).values;for(let y=0;y<f.length;++y){const e=y*h;let t=m[e];for(let n=0;n<h;++n){const r=m[e+n];(Number.isNaN(r)||r<t)&&(t=r)}f[y]=t}null!=u&&n.disposeIntermediateTensorInfo(c);const g=n.makeTensorInfo(d,c.dtype,f);if(i){const e=dme({inputs:{x:g},backend:n,attrs:{shape:xee(d,s)}});return n.disposeIntermediateTensorInfo(g),e}return g}},jve=Lfe(((e,t)=>Math.min(e,t))),_ve=ame(i2,jve),Fve={kernelName:i2,backendName:"cpu",kernelFunc:_ve};const Lve={kernelName:s2,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{paddings:a,mode:i}=r;Ife(o,"mirrorPad");const s=a.map(((e,t)=>e[0]+o.shape[t]+e[1])),l=a.map((e=>e[0])),u=a.map(((e,t)=>e[0]+o.shape[t])),c="reflect"===i?0:1,d=n.data.get(o.dataId).values,p=o.shape.length,h=XJ(o.shape),f=SJ(s),m=s.length,g=XJ(s),y=jJ(o.dtype,f);for(let v=0;v<f;v++){let e=o0(v,m,g);for(let n=0;n<m;n++)e[n]<l[n]?e[n]=2*l[n]-e[n]-c:e[n]>=u[n]&&(e[n]=2*(u[n]-1)-e[n]+c);e=e.map(((e,t)=>e-l[t]));const t=r0(e,p,h);y[v]=d[t]}return{dataId:n.write(y,s,o.dtype),shape:s,dtype:o.dtype}}},zve=Lfe(((e,t)=>{const n=e%t;return e<0&&t<0||e>=0&&t>=0?n:(n+t)%t})),Bve=ame(l2,zve),Wve={kernelName:l2,backendName:"cpu",kernelFunc:Bve};function Vve(e){const{inputs:t,backend:n,attrs:r}=e,{logits:o}=t,{dim:a}=r,i=o.shape.length;let s=a;if(-1===s&&(s=i-1),s!==i-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${i} and dim was ${s}`);const l=PJ([s],o.shape),u=Ave({inputs:{x:o},backend:n,attrs:{reductionIndices:l,keepDims:!1}}),c=xee(u.shape,l),d=dme({inputs:{x:u},backend:n,attrs:{shape:c}}),p=xye({inputs:{a:o,b:d},backend:n}),h=lye({inputs:{x:p},backend:n}),f=Gge({inputs:{x:h},backend:n,attrs:{axis:l,keepDims:!1}}),m=dme({inputs:{x:f},backend:n,attrs:{shape:c}}),g=gye({inputs:{a:h,b:m},backend:n});return n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),g}const Uve={kernelName:t3,backendName:"cpu",kernelFunc:Vve};const Hve={kernelName:u2,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{logits:o}=t,{numSamples:a,seed:i,normalized:s}=r;Ife(o,"multinomial");const l=s?o:Vve({inputs:{logits:o},backend:n,attrs:{dim:-1}}),u=l.shape[0],c=l.shape[1],d=n.data.get(l.dataId).values,p=[u,a],h=e0(SJ(p),"int32");for(let f=0;f<u;++f){const e=f*c,t=new Float32Array(c-1);t[0]=d[e];for(let o=1;o<t.length;++o)t[o]=t[o-1]+d[e+o];const n=jte.alea(i.toString()),r=f*a;for(let o=0;o<a;++o){const e=n();h[r+o]=t.length;for(let n=0;n<t.length;n++)if(e<t[n]){h[r+o]=n;break}}}return s||n.disposeIntermediateTensorInfo(l),n.makeTensorInfo(p,"int32",h)}};function Gve(e,t,n){const r=i4(-1,n);return Wge([],t,r,e,n)}const qve={kernelName:d2,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:r}=t;Ife(r,"neg");const o=n.data.get(r.dataId).values,[a,i]=Gve(o,r.shape,r.dtype);return n.makeTensorInfo(i,r.dtype,a)}},Kve=yre;const Xve={kernelName:h2,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{boxes:o,scores:a}=t,{maxOutputSize:i,iouThreshold:s,scoreThreshold:l}=r;Ife(o,"NonMaxSuppression");const u=n.data.get(o.dataId).values,c=n.data.get(a.dataId).values,{selectedIndices:d}=Kve(u,c,i,s,l);return n.makeTensorInfo([d.length],"int32",new Int32Array(d))}},Yve=vre;const Qve={kernelName:f2,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{boxes:o,scores:a}=t,{maxOutputSize:i,iouThreshold:s,scoreThreshold:l,padToMaxOutputSize:u}=r;Ife(o,"NonMaxSuppressionPadded");const c=n.data.get(o.dataId).values,d=n.data.get(a.dataId).values,{selectedIndices:p,validOutputs:h}=Yve(c,d,i,s,l,u);return[n.makeTensorInfo([p.length],"int32",new Int32Array(p)),n.makeTensorInfo([],"int32",new Int32Array([h]))]}},Zve=bre;const Jve={kernelName:m2,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{boxes:o,scores:a}=t,{maxOutputSize:i,iouThreshold:s,scoreThreshold:l,softNmsSigma:u}=r;Ife(o,"NonMaxSuppressionWithScore");const c=n.data.get(o.dataId).values,d=n.data.get(a.dataId).values,p=i,h=s,f=l,m=u,{selectedIndices:g,selectedScores:y}=Zve(c,d,p,h,f,m);return[n.makeTensorInfo([g.length],"int32",new Int32Array(g)),n.makeTensorInfo([y.length],"float32",new Float32Array(y))]}},ebe=Lfe(((e,t)=>e!==t?1:0)),tbe=ame(p2,ebe,null,"bool"),nbe={kernelName:p2,backendName:"cpu",kernelFunc:tbe};const rbe={kernelName:y2,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{indices:o}=t,{dtype:a,depth:i,onValue:s,offValue:l}=r;Ife(o,"oneHot");const u=SJ(o.shape),c=new Float32Array(u*i);c.fill(l);const d=n.data.get(o.dataId).values;for(let p=0;p<u;++p)d[p]>=0&&d[p]<i&&(c[p*i+d[p]]=s);return n.makeTensorInfo([...o.shape,i],a,c)}};function obe(e){const{inputs:t,backend:n}=e,{x:r}=t;if("string"===r.dtype)throw new Error("zerosLike is not supported for string tensors");if("complex64"===r.dtype){const e=eme({inputs:{input:r},backend:n}),t=obe({inputs:{x:e},backend:n}),o=hge({inputs:{input:r},backend:n}),a=obe({inputs:{x:o},backend:n}),i=Qfe({inputs:{real:t,imag:a},backend:n});return n.disposeIntermediateTensorInfo(e),n.disposeIntermediateTensorInfo(t),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(a),i}return Tye({backend:n,attrs:{shape:r.shape,value:0,dtype:r.dtype}})}const abe={kernelName:C3,backendName:"cpu",kernelFunc:obe};const ibe={kernelName:g2,backendName:"cpu",kernelFunc:function e(t){const{inputs:n,backend:r}=t,{x:o}=n;if("string"===o.dtype)throw new Error("onesLike is not supported for string tensors");if("complex64"===o.dtype){const t=eme({inputs:{input:o},backend:r}),n=e({inputs:{x:t},backend:r}),a=hge({inputs:{input:o},backend:r}),i=obe({inputs:{x:a},backend:r}),s=Qfe({inputs:{real:n,imag:i},backend:r});return r.disposeIntermediateTensorInfo(t),r.disposeIntermediateTensorInfo(n),r.disposeIntermediateTensorInfo(a),r.disposeIntermediateTensorInfo(i),s}return Tye({backend:r,attrs:{shape:o.shape,value:1,dtype:o.dtype}})}};function sbe(e){const{inputs:t,backend:n,attrs:r}=e,{axis:o}=r;if(1===t.length)return cye({inputs:{input:t[0]},backend:n,attrs:{dim:o}});const a=t[0].shape,i=t[0].dtype;t.forEach((e=>{wJ(a,e.shape,"All tensors passed to stack must have matching shapes"),xJ(i===e.dtype,(()=>"All tensors passed to stack must have matching dtypes"))}));const s=[],l=mge({inputs:t.map((e=>{const t=cye({inputs:{input:e},backend:n,attrs:{dim:o}});return s.push(t),t})),backend:n,attrs:{axis:o}});return s.forEach((e=>n.disposeIntermediateTensorInfo(e))),l}const lbe={kernelName:v2,backendName:"cpu",kernelFunc:sbe};const ube={kernelName:b2,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{paddings:a,constantValue:i}=r;Ife(o,"pad");const s=a.map(((e,t)=>e[0]+o.shape[t]+e[1])),l=a.map((e=>e[0])),u=n.data.get(o.dataId).values,c=SJ(o.shape),d=o.shape.length,p=XJ(o.shape),h=SJ(s),f=s.length,m=XJ(s),g=jJ(o.dtype,h);0!==i&&g.fill(i);for(let y=0;y<c;y++){g[r0(o0(y,d,p).map(((e,t)=>e+l[t])),f,m)]=u[y]}return{dataId:n.write(g,s,o.dtype),shape:s,dtype:o.dtype}}},cbe=Lfe(((e,t)=>Math.pow(e,t))),dbe=ame(w2,cbe),pbe={kernelName:w2,backendName:"cpu",kernelFunc:dbe};function hbe(e,t,n,r){const[o,a]=bee(e,r),i=z4(t,"int32"),s=e0(SJ(o),i),l=SJ(a);for(let u=0;u<s.length;++u){const e=u*l;let t=1;for(let r=0;r<l;++r)t*=n[e+r];s[u]=t}return{outVals:s,outShape:o,outDtype:i}}const fbe={kernelName:S2,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:a,keepDims:i}=r;Ife(o,"prod");const s=o.shape.length,l=PJ(a,o.shape),u=kee(l,s);let c=l,d=o;const p=[];null!=u&&(d=Ame({inputs:{x:o},backend:n,attrs:{perm:u}}),p.push(d),c=Aee(c.length,s));const h=n.data.get(d.dataId).values,{outVals:f,outShape:m,outDtype:g}=hbe(d.shape,d.dtype,h,c);let y=m;return i&&(y=xee(m,l)),p.forEach((e=>n.disposeIntermediateTensorInfo(e))),n.makeTensorInfo(y,g,f)}};function mbe(e,t,n,r){const o=[];let a=0;const i=t.length-1+n.length,s=new Array(i).fill(null).map((()=>[0]));!function(e,t){for(let n=0;n<e.length;++n){const r=e[n],o=n===e.length-1?t:e[n+1].length;if(0===r.length)throw new Error("Ragged splits may not be empty");if(r[0]<0)throw new Error("Ragged splits must be non-negative");if(r[r.length-1]>o)throw new Error("Ragged splits must not point past values");for(let e=1;e<r.length;++e)if(r[e-1]>r[e])throw new Error("Ragged splits must be sorted in ascending order")}}(n,r);let l=1;for(let u=0;u<t.length-1;++u){l*=t[u];const e=t[u+1];for(let t=1;t<l+1;++t)s[u].push(t*e)}for(let u=0;u<e.length;++u){let r=e[u],i=e[u]+1;for(let e=0;e<n.length;++e){const o=n[e],a=e+t.length-1;if(a>=0){const e=s[a],t=e[e.length-1]-o[r];for(let n=r;n<i;++n)s[a].push(o[n+1]+t)}r=o[r],i=o[i]}i!==r&&(o.push([r,i]),a+=i-r)}return{outSplits:s,valueSlices:o,numValues:a}}function gbe(e,t){const n=e.slice(0,t);for(;n.length<t;)n.push(1);for(let r=t;r<e.length;r++)n[t-1]*=e[r];return n}function ybe(e,t,n,r,o){const a=t.slice();a[0]=o;const i=_J(n,SJ(a)),s=e.length;return function(e,t,n,r,o,a){const i=gbe(t,2)[1],s=gbe(a,2)[1];let l=0;for(const u of n)for(let t=u[0];t<u[1];++t){for(let n=0;n<r;++n)o[l*s+n]=e[t*i+n];++l}}(e,t,r,0===s?0:s/t[0],i,a),[i,a]}function vbe(e,t,n,r,o,a,i,s){if(0===e.length)throw new Error("paramsNestedSplits must be non empty");if(0===t[0].length)throw new Error("Split tensors must not be scalars");if(function(e,t,n){e.forEach(((e,r)=>{if(e<0||e>=n){const o=o0(r,t.length,XJ(t)).join(",");throw new Error(`indices[${o}] = ${e} is not in [0, ${n})`)}}))}(a,i,t[0][0]-1),0===r.length)throw new Error("params.rank must be nonzero");const l=r[0],{outSplits:u,valueSlices:c,numValues:d}=mbe(a,i,e,l),p=function(e){const t=[];for(let n=0;n<e.length;++n){const r=_J("int32",e[n].length);t.push(r),e[n].forEach(((e,t)=>r[t]=e))}return t}(u),h=ybe(n,r,o,c,d);return[p,h[0],h[1]]}const bbe={kernelName:A2,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{paramsNestedSplits:o,paramsDenseValues:a,indices:i}=t,{outputRaggedRank:s}=r,l=o.map((e=>n.data.get(e.dataId).values)),u=o.map((e=>e.shape)),c=n.data.get(a.dataId).values,d=n.data.get(i.dataId).values,[p,h,f]=vbe(l,u,c,a.shape,a.dtype,d,i.shape),m=p.map((e=>n.makeTensorInfo([e.length],"int32",e))),g=n.makeTensorInfo(f,a.dtype,h);return m.concat([g])}},xbe=2147483647;function wbe(e,t,n,r,o,a,i){if(t.length>1)throw new Error("starts must be a scalar or vector");if(o.length>1)throw new Error("limits must be a scalar or vector");if(i.length>1)throw new Error("deltas must be a scalar or vector");const s=0===t.length,l=0===o.length,u=0===i.length,c=[];s||c.push(t[0]),l||c.push(o[0]),u||c.push(i[0]);for(let m=1;m<c.length;++m)if(c[m]!==c[m-1])throw new Error("starts, limits, and deltas must have the same shape");const d=0===c.length?1:c[0],p=_J("int32",d+1);p[0]=0;for(let m=0;m<d;++m){const t=s?e[0]:e[m],n=l?r[0]:r[m],o=u?a[0]:a[m];if(0===o)throw new Error("Requires delta != 0");let i;if(o>0&&n<t||o<0&&n>t)i=0;else if(i=Math.ceil(Math.abs((n-t)/o)),i>xbe)throw new Error(`Requires ((limit - start) / delta) <= ${xbe}`);p[m+1]=p[m]+i}const h=_J(n,p[d]);let f=0;for(let m=0;m<d;++m){const t=p[m+1]-p[m];let n=s?e[0]:e[m];const r=u?a[0]:a[m];for(let e=0;e<t;++e)h[f++]=n,n+=r}return[p,h]}const kbe={kernelName:C2,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{starts:r,limits:o,deltas:a}=t,i=n.data.get(r.dataId).values,s=n.data.get(o.dataId).values,l=n.data.get(a.dataId).values,[u,c]=wbe(i,r.shape,r.dtype,s,o.shape,l,a.shape);return[n.makeTensorInfo([u.length],"int32",u),n.makeTensorInfo([c.length],r.dtype,c)]}};var Sbe=ioe;class Abe{constructor(e,t,n,r,o,a,i,s,l,u){this.shape=e,this.shapeShape=t,this.values=n,this.valuesShape=r,this.valuesDType=o,this.defaultValue=a,this.defaultValueShape=i,this.rowPartitionValues=s,this.rowPartitionValuesShapes=l,this.rowPartitionTypes=uoe(u),this.raggedRank=coe(this.rowPartitionTypes)}getRowPartitionTypeByDimension(e){return this.rowPartitionTypes[0]===Sbe.FIRST_DIM_SIZE?this.rowPartitionTypes[e+1]:this.rowPartitionTypes[e]}getRowPartitionTensor(e){return this.rowPartitionTypes[0]===Sbe.FIRST_DIM_SIZE?this.rowPartitionValues[e+1]:this.rowPartitionValues[e]}getMaxWidth(e){const t=this.getRowPartitionTensor(e-1);switch(this.getRowPartitionTypeByDimension(e-1)){case Sbe.VALUE_ROWIDS:return Abe.getMaxWidthValueRowID(t);case Sbe.ROW_SPLITS:return Abe.getMaxWidthRowSplit(t);default:throw new Error(`Cannot handle partition type ${Sbe[this.getRowPartitionTypeByDimension(e-1)]}`)}}static getMaxWidthRowSplit(e){const t=e.length;if(0===t||1===t)return 0;let n=0;for(let r=0;r<t-1;++r){const t=e[r+1]-e[r];t>n&&(n=t)}return n}static getMaxWidthValueRowID(e){const t=e.length;if(0===t)return 0;let n=0,r=e[0],o=0;for(let a=1;a<t;++a){const t=e[a];t!==r&&(r=t,o=Math.max(a-n,o),n=a)}return Math.max(t-n,o)}tensorShapeFromTensor(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(0===t.length){if(-1===e[0])return[];throw new Error("The only valid scalar shape tensor is the fully unknown shape specified as -1.")}return Tbe(e,n)}calculateOutputSize(e){const t=this.valuesShape;doe(this.defaultValueShape,t);const n=this.tensorShapeFromTensor(this.shape,this.shapeShape),r=loe(this.raggedRank,n,t);r[0]<0&&(r[0]=e);for(let o=1;o<=this.raggedRank;++o)r[o]<0&&(r[o]=this.getMaxWidth(o));return r}calculateFirstParentOutputIndex(e,t,n){const r=Math.min(e,n),o=[];let a=0;for(let i=0;i<r;++i,a+=t)o.push(a);for(let i=r;i<e;++i)o.push(-1);return xJ(o.length===e,(()=>"Final length of result must be equal to firstDimension.")),o}calculateOutputIndexRowSplit(e,t,n,r){const o=e.length,a=[];for(let i=0;i<o-1;++i){const o=e[i+1]-e[i];let s=Math.min(r,o),l=t[i];-1===l&&(s=0);for(let e=0;e<s;++e)a.push(l),l+=n;for(let e=0;e<o-s;++e)a.push(-1)}if(o>0&&a.length!==e[o-1])throw new Error("Invalid row split size.");return a}calculateOutputIndexValueRowID(e,t,n,r){const o=e.length,a=[];if(0===o)return[];let i=0,s=e[0];if(s>=t.length)throw new Error(`Got currentValueRowId=${s}, which is not less than ${t.length}`);let l=t[s];a.push(l);for(let u=1;u<o;++u){const o=e[u];if(o===s)l>=0&&(++i,i<r?l+=n:l=-1);else{if(i=0,s=o,o>=t.length)throw new Error(`Got nextValueRowId=${o} which is not less than ${t.length}`);l=t[o]}a.push(l)}if(a.length!==e.length)throw new Error("Invalid row ids.");return a}calculateOutputIndex(e,t,n,r){const o=this.getRowPartitionTensor(e),a=this.getRowPartitionTypeByDimension(e);switch(a){case Sbe.VALUE_ROWIDS:return this.calculateOutputIndexValueRowID(o,t,n,r);case Sbe.ROW_SPLITS:if(o.length-1>t.length)throw new Error(`Row partition size is greater than output size: ${o.length-1} > ${t.length}`);return this.calculateOutputIndexRowSplit(o,t,n,r);default:throw new Error(`Unsupported partition type: ${Sbe[a]}`)}}getFirstDimensionSize(){const e=this.rowPartitionValues[0];if(0===this.rowPartitionTypes.length)throw new Error("No row_partition_types given.");const t=this.rowPartitionTypes[0];switch(t){case Sbe.FIRST_DIM_SIZE:return e[0];case Sbe.VALUE_ROWIDS:throw new Error("Cannot handle VALUE_ROWIDS in first dimension.");case Sbe.ROW_SPLITS:return this.rowPartitionValuesShapes[0][0]-1;default:throw new Error(`Cannot handle type ${Sbe[t]}`)}}compute(){if(this.rowPartitionValues[0].length<=0)throw new Error("Invalid first partition input. Tensor requires at least one element.");const e=this.getFirstDimensionSize(),t=this.calculateOutputSize(e),n=new Array(this.raggedRank+1);n[n.length-1]=1;for(let a=n.length-2;a>=0;--a)n[a]=n[a+1]*t[a+1];const r=Tbe(t,!1),o=_J(this.valuesDType,SJ(r));if(n[0]*t[0]>0){let a=this.calculateFirstParentOutputIndex(e,n[0],t[0]);for(let e=1;e<=this.raggedRank;++e){a=this.calculateOutputIndex(e-1,a,n[e],t[e])}this.setOutput(this.raggedRank,a,o,r)}return[r,o]}setOutput(e,t,n,r){if(0===n.length)return;const o=this.values,a=n;let i=r.slice();i=i.slice(e+1);const s=SJ(i),l=t.length;let u=this.defaultValue;if(u.length!==s&&1!==u.length){const e=this.defaultValueShape;T5((()=>{const t=A7(u,e),n=z7(t,i);u=n.dataSync()}))}let c=0,d=0,p=0;for(let h=0;h<=l;++h){let e=h<l?t[h]:-1;if(e!==p){if(d<p){const e=o.subarray(c*s);Cbe(a.subarray(d*s),e,(p-d)*s)}if(h>=l){const t=n.length;e=Math.floor(t/s)}if(e>p)if(1===this.defaultValue.length)a.subarray(p*s,e*s).fill(this.defaultValue[0]),p=e;else for(;e>p;){Cbe(a.slice(p*s),u,s),++p}e<0?(c=h+1,d=p):(c=h,d=p,p=d+1)}else++p}}}function Cbe(e,t,n){for(let r=0;r<n;r++)e[r]=t[r]}function Tbe(e,t){const n=[];for(let r of e){if(r<0){if(!t)throw new Error(`Dimension ${r} must be >= 0`);if(r<-1)throw new Error(`Dimension ${r} must be >= -1`);r=-1}n.push(r)}return n}function Ibe(e,t,n,r,o,a,i,s,l,u){return new Abe(e,t,n,r,o,a,i,s,l,u).compute()}const Ebe={kernelName:T2,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{shape:o,values:a,defaultValue:i,rowPartitionTensors:s}=t,{rowPartitionTypes:l}=r,u=n.data.get(o.dataId).values,c=n.data.get(a.dataId).values,d=n.data.get(i.dataId).values,p=s.map((e=>n.data.get(e.dataId).values)),h=s.map((e=>e.shape)),[f,m]=Ibe(u,o.shape,c,a.shape,a.dtype,d,i.shape,p,h,l);return n.makeTensorInfo(f,a.dtype,m)}};function Nbe(e,t,n,r){if(e===t||e<t&&n<0||t<e&&n>1)return e0(0,r);const o=e0(Math.abs(Math.ceil((t-e)/n)),r);t<e&&1===n&&(n=-1),o[0]=e;for(let a=1;a<o.length;a++)o[a]=o[a-1]+n;return o}const Obe={kernelName:I2,backendName:"cpu",kernelFunc:function(e){const{backend:t,attrs:n}=e,{start:r,stop:o,dtype:a,step:i}=n,s=Nbe(r,o,i,a);return t.makeTensorInfo([s.length],a,s)}},Mbe=Mfe(N2,(e=>1/e)),Dbe={kernelName:N2,backendName:"cpu",kernelFunc:Mbe};const Rbe={kernelName:P2,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:o}=t,{alignCorners:a,halfPixelCenters:i,size:s}=r;Ife(o,"resizeBilinear");const l=XJ(o.shape),[u,c]=s,[d,p,h,f]=o.shape,m=n.data.get(o.dataId).values,g=new Float32Array(SJ([d,u,c,f])),y=[a&&u>1?p-1:p,a&&c>1?h-1:h],v=[a&&u>1?u-1:u,a&&c>1?c-1:c];let b=0;const x=y[0]/v[0],w=y[1]/v[1];for(let k=0;k<d;k++)for(let e=0;e<u;e++){let t;t=i?x*(e+.5)-.5:x*e;const n=Math.max(0,Math.floor(t)),r=t-n,o=Math.min(p-1,Math.ceil(t)),a=k*l[0]+n*l[1],s=k*l[0]+o*l[1];for(let e=0;e<c;e++){let t;t=i?w*(e+.5)-.5:w*e;const n=Math.max(0,Math.floor(t)),o=t-n,u=Math.min(h-1,Math.ceil(t)),c=a+n*l[2],d=s+n*l[2],p=a+u*l[2],y=s+u*l[2];for(let e=0;e<f;e++){const t=m[c+e],n=m[d+e],a=t+(m[p+e]-t)*o,i=a+(n+(m[y+e]-n)*o-a)*r;g[b++]=i}}}return n.makeTensorInfo([d,u,c,f],"float32",g)}};const Pbe={kernelName:$2,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:o,dy:a}=t,{alignCorners:i}=r;Ife([a,o],"resizeBilinearGrad");const s=XJ(o.shape),[l,u,c,d]=o.shape,[,p,h]=a.shape,f=new Float32Array(l*u*c*d),m=[i&&p>1?u-1:u,i&&h>1?c-1:c],g=[i&&p>1?p-1:p,i&&h>1?h-1:h],y=m[0]/g[0],v=m[1]/g[1],b=n.data.get(a.dataId).values;let x=0;for(let w=0;w<l;w++){const e=w*s[0];for(let t=0;t<p;t++){const n=t*y,r=Math.floor(n),o=Math.min(Math.ceil(n),u-1),a=e+r*s[1],i=e+o*s[1],l=n-r,p=1-l;for(let e=0;e<h;e++){const t=e*v,n=Math.floor(t),r=Math.min(Math.ceil(t),c-1),o=t-n,u=1-o,h=a+n*s[2],m=a+r*s[2],g=i+n*s[2],y=i+r*s[2],w=p*u,k=p*o,S=l*u,A=l*o;for(let e=0;e<d;e++){const t=b[x++];f[h+e]+=t*w,f[m+e]+=t*k,f[g+e]+=t*S,f[y+e]+=t*A}}}}return n.makeTensorInfo([l,c,u,d],"float32",f)}};const $be={kernelName:D2,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:o}=t,{alignCorners:a,halfPixelCenters:i,size:s}=r;Ife(o,"resizeNearestNeighbor");const l=XJ(o.shape),[u,c]=s,[d,p,h,f]=o.shape,m=n.data.get(o.dataId).values,g=new Float32Array(d*u*c*f),y=[a&&u>1?p-1:p,a&&c>1?h-1:h],v=[a&&u>1?u-1:u,a&&c>1?c-1:c],b=y[0]/v[0],x=y[1]/v[1];let w=0;for(let k=0;k<d;k++){const e=k*l[0];for(let t=0;t<u;t++){const n=i?b*(t+.5):b*t;let r=Math.min(p-1,a?Math.round(n):Math.floor(n));i&&(r=Math.max(0,r));const o=e+r*l[1];for(let e=0;e<c;e++){const t=i?x*(e+.5):x*e;let n=Math.min(h-1,a?Math.round(t):Math.floor(t));i&&(n=Math.max(0,n));const r=o+n*l[2];for(let e=0;e<f;e++){const t=m[r+e];g[w++]=t}}}}return n.makeTensorInfo([d,u,c,f],o.dtype,g)}};const jbe={kernelName:R2,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:o,dy:a}=t,{alignCorners:i}=r;Ife([a,o],"resizeNearestNeighborGrad");const s=XJ(o.shape),l=XJ(a.shape),[u,c,d,p]=o.shape,[,h,f]=a.shape,m=new Float32Array(u*c*d*p),g=n.data.get(a.dataId).values,y=[i&&h>1?c-1:c,i&&f>1?d-1:d],v=[i&&h>1?h-1:h,i&&f>1?f-1:f],b=y[0]/v[0],x=y[1]/v[1],w=1/b,k=1/x,S=2*Math.ceil(w)+2,A=2*Math.ceil(k)+2;for(let C=0;C<u;C++){const e=C*s[0];for(let t=0;t<c;t++){const n=e+t*s[1],r=Math.floor(t*w),o=Math.floor(r-S/2);for(let a=0;a<d;a++){const r=n+a*s[2],u=Math.floor(a*k),y=Math.floor(u-A/2);for(let n=0;n<p;n++){let s=0;for(let r=0;r<S;r++){const u=r+o;if(u<0||u>=h)continue;const p=e+u*l[1],m=u*b;if(t===Math.min(c-1,i?Math.round(m):Math.floor(m)))for(let e=0;e<A;e++){const t=e+y;if(t<0||t>=f)continue;const r=p+t*l[2],o=t*x;a===Math.min(d-1,i?Math.round(o):Math.floor(o))&&(s+=g[r+n])}}m[r+n]=s}}}}return n.makeTensorInfo(o.shape,o.dtype,m)}};const _be={kernelName:_2,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{dims:a}=r;Ife(o,"reverse");const i=o.shape.length,s=PJ(a,o.shape);if(0===i)return $fe({inputs:{x:o},backend:n});const l=new k4(o.shape,o.dtype),u=n.bufferSync(o);for(let c=0;c<l.size;c++){const e=l.indexToLoc(c),t=e.slice();s.forEach((e=>t[e]=o.shape[e]-1-t[e])),l.set(u.get(...t),...e)}return n.makeTensorInfo(l.shape,l.dtype,l.values)}},Fbe={kernelName:E3,backendName:"cpu",kernelFunc:e=>{let{inputs:t,attrs:n,backend:r}=e;const{image:o}=t,{radians:a,fillValue:i,center:s}=n,l=r,u=jJ(o.dtype,SJ(o.shape)),[c,d,p,h]=o.shape,[f,m]=foe(s,d,p),g=Math.sin(a),y=Math.cos(a),v=l.data.get(o.dataId).values;for(let b=0;b<c;b++){const e=b*p*d*h;for(let t=0;t<d;t++){const n=t*(p*h);for(let r=0;r<p;r++){const o=r*h;for(let a=0;a<h;a++){const s=[c,t,r,a],l=s[2],b=s[1];let x=(l-f)*y-(b-m)*g,w=(l-f)*g+(b-m)*y;x=Math.round(x+f),w=Math.round(w+m);let k=i;if("number"!==typeof i&&(k=3===a?255:i[a]),x>=0&&x<p&&w>=0&&w<d){k=v[e+w*(p*h)+x*h+a]}u[e+n+o+a]=k}}}}return{dataId:l.write(u,o.shape,o.dtype),shape:o.shape,dtype:o.dtype}}},Lbe=Mfe(F2,(e=>{const t=Math.floor(e);return e-t<.5?Math.floor(e):e-t>.5?Math.ceil(e):t%2===0?t:t+1})),zbe={kernelName:F2,backendName:"cpu",kernelFunc:Lbe},Bbe=Ofe((e=>1/Math.sqrt(e))),Wbe=Dfe(L2,Bbe),Vbe={kernelName:L2,backendName:"cpu",kernelFunc:Wbe};function Ube(e,t,n,r,o,a,i,s,l,u){const c=[r/o,o],d=e.values,p=t.values;if(0===r)return B6(n,t.dtype);const h=l instanceof k4?l:B6(c,t.dtype);"string"===typeof l||"number"===typeof l?h.values.fill(l):"boolean"===typeof l&&h.values.fill(+l);for(let f=0;f<a;f++){const e=[];let a=0;for(let t=0;t<i;t++){const n=d[f*i+t];e.push(n),a+=n*s[t]}if(a<0||a>=r/o)throw new Error(`Invalid indices: ${e} does not index into ${n}`);for(let n=0;n<o;n++)u?h.values[a*o+n]+=p[f*o+n]:h.values[a*o+n]=0===t.rank?p[0]:p[f*o+n]}return h}const Hbe={kernelName:z2,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{indices:o,updates:a}=t,{shape:i}=r,{sliceRank:s,numUpdates:l,sliceSize:u,strides:c,outputSize:d}=m9(0,o,i),p=Ube(n.bufferSync(o),n.bufferSync(a),i,d,u,l,s,c,0,!0);return n.makeTensorInfo(i,p.dtype,p.values)}};function Gbe(e,t){let n=0,r=e.length,o=0;for(;n<r;)o=Math.floor((n+r)/2),e[o]<t?n=o+1:r=o;return r}function qbe(e,t){let n=0,r=e.length,o=0;for(;n<r;)o=Math.floor((n+r)/2),e[o]<=t?n=o+1:r=o;return r}const Kbe={kernelName:W2,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{sortedSequence:o,values:a}=t,{side:i}=r,s=function(e,t,n,r,o,a){const i=_J("int32",n*o);for(let s=0;s<n;++s){const n=e.slice(s*r,(s+1)*r),l=s*o;for(let e=0;e<o;++e)i[l+e]="left"===a?Gbe(n,t[e+l]):qbe(n,t[e+l])}return i}(n.data.get(o.dataId).values,n.data.get(a.dataId).values,o.shape[0],o.shape[1],a.shape[1],i);return n.makeTensorInfo(a.shape,"int32",s)}};const Xbe={kernelName:V2,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{condition:r,t:o,e:a}=t;Ife([r,o,a],"select");const i=r.shape.length,s=n.data.get(r.dataId).values,l=n.data.get(o.dataId).values,u=n.data.get(a.dataId).values,c=z4(o.dtype,a.dtype),d=e0(SJ(o.shape),c);let p=0;const h=0===i||i>1||1===o.shape.length?1:SJ(o.shape.slice(1));for(let f=0;f<s.length;f++)for(let e=0;e<h;e++)1===s[f]?d[p++]=l[f]:d[p++]=u[f];return n.makeTensorInfo(o.shape,c,d)}},Ybe=xoe,Qbe=woe,Zbe=Mfe(U2,(e=>e>=0?Qbe*e:Ybe*(Math.exp(e)-1))),Jbe={kernelName:U2,backendName:"cpu",kernelFunc:Zbe},exe=Mfe(K2,(e=>e<0?-1:e>0?1:0)),txe={kernelName:K2,backendName:"cpu",kernelFunc:exe},nxe=Mfe(G2,(e=>Math.sin(e))),rxe={kernelName:G2,backendName:"cpu",kernelFunc:nxe},oxe=Mfe(q2,(e=>Math.sinh(e))),axe={kernelName:q2,backendName:"cpu",kernelFunc:oxe},ixe=Math.log(1.1920928955078125e-7)+2,sxe=Mfe(Y2,(e=>{const t=e>-ixe,n=e<ixe,r=Math.exp(e);let o;return o=n?r:t?e:Math.log(1+r),o})),lxe={kernelName:Y2,backendName:"cpu",kernelFunc:sxe};const uxe={kernelName:J2,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{blockShape:a,paddings:i}=r;Ife([o],"spaceToBatchND");const s=SJ(a),l=[[0,0]];l.push(...i);for(let g=1+a.length;g<o.shape.length;++g)l.push([0,0]);const u=ube.kernelFunc({inputs:{x:o},backend:n,attrs:{paddings:l,constantValue:0}}),c=moe(u.shape,a,s,!1),d=goe(c.length,a.length,!1),p=yoe(u.shape,a,s,!1),h=dme({inputs:{x:u},backend:n,attrs:{shape:c}}),f=Ame({inputs:{x:h},backend:n,attrs:{perm:d}}),m=dme({inputs:{x:f},backend:n,attrs:{shape:p}});return n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(f),m}};function cxe(e,t,n,r,o,a,i){const s=t[0],l=a[0],u=new Array(l),c=new Array(s),d=t[1];if(0===l){if(0!==s)throw new Error(qoe(s));return[_J(n,0),[0,d],_J(o,0),u,c]}let p=!0,h=0;const f=new Array(l).fill(0);for(let g=0;g<s;++g){const t=e[g*d];if(t<0)throw new Error(Koe(g,t));if(t>=l)throw new Error(Xoe(g,t,l));++f[t],p=p&&t>=h,h=t}let m=!0;for(let g=0;g<l;++g){const e=0===f[g];u[g]=e,m=m&&!e,f[g]=Math.max(f[g],1),g>0&&(f[g]+=f[g-1])}if(m&&p){const t=e,n=r;for(let e=0;e<s;++e)c[e]=e;return[t,[s,d],n,u,c]}{const t=f[l-1],a=_J(n,t*d),p=_J(o,t),h=new Array(l).fill(0);for(let n=0;n<s;++n){const t=e[n*d],o=h[t],i=(0===t?0:f[t-1])+o;h[t]++;for(let r=0;r<d;++r)a[i*d+r]=e[n*d+r];p[i]=r[n],c[n]=i}for(let e=0;e<l;++e){if(0===h[e]){const t=0===e?0:f[e-1];a[t*d+0]=e;for(let e=1;e<d;++e)a[t*d+e]=0;p[t]=i}}return[a,[t,d],p,u,c]}}const dxe={kernelName:n3,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{indices:r,values:o,denseShape:a,defaultValue:i}=t;if(1!==a.shape.length)throw new Error(`Dense shape must be a vector, saw:\n        ${a.shape}`);if(2!==r.shape.length)throw new Error(`Indices must be a matrix, saw:\n        ${r.shape}`);if(1!==o.shape.length)throw new Error(`Values must be a vector, saw:\n        ${o.shape}`);if(0!==i.shape.length)throw new Error(`Default value must be a scalar, saw:\n        ${i.shape}`);const s=n.data.get(r.dataId).values,l=n.data.get(o.dataId).values,u=n.data.get(a.dataId).values,c=n.data.get(i.dataId).values[0],[d,p,h,f,m]=cxe(s,r.shape,r.dtype,l,o.dtype,u,c);return[n.makeTensorInfo(p,r.dtype,d),n.makeTensorInfo([p[0]],o.dtype,h),n.makeTensorInfo([f.length],"bool",new Uint8Array(f.map((e=>Number(e))))),n.makeTensorInfo([m.length],r.dtype,new Int32Array(m))]}};function pxe(e,t,n,r,o){const a=SJ(r),i=t[0],s=o.length,l=[];let u=1,c=-1;for(let m=0;m<s;++m){const e=o[m];if(-1===e){if(-1!==c)throw new Error(Yoe(c,m));c=m,l.push(1)}else{if(e<0)throw new Error(Qoe(m,e));u*=e,l.push(e)}}if(-1!==c){if(u<=0)throw new Error("reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero");const e=Math.trunc(a/u);if(u*e!==a)throw new Error(Joe(r,l));l[c]=e}if(SJ(l)!==a)throw new Error(eae(r,l));const d=r.length,p=[];if(d>0){p[d-1]=1;for(let e=d-2;e>=0;--e)p[e]=p[e+1]*r[e+1]}const h=[];if(s>0){h[s-1]=1;for(let e=s-2;e>=0;--e)h[e]=h[e+1]*l[e+1]}const f=_J(n,i*s);for(let m=0;m<i;++m){let t=0;for(let n=0;n<d;++n)t+=e[m*d+n]*p[n];for(let e=0;e<s;++e)f[m*s+e]=Math.trunc(t/h[e]),t%=h[e]}return[f,[i,s],l]}const hxe={kernelName:r3,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{inputIndices:r,inputShape:o,newShape:a}=t;if(2!==r.shape.length)throw new Error(`Input indices should be a matrix but received shape\n        ${r.shape}`);if(1!==o.shape.length)throw new Error(`Input shape should be a vector but received shape\n        ${o.shape}`);if(1!==a.shape.length)throw new Error(`Target shape should be a vector but received shape ${a.shape}`);const i=Array.from(n.data.get(o.dataId).values),s=n.data.get(r.dataId).values,l=Array.from(n.data.get(a.dataId).values),[u,c,d]=pxe(s,r.shape,r.dtype,i,l);return[n.makeTensorInfo(c,r.dtype,u),n.makeTensorInfo([d.length],a.dtype,new Int32Array(d))]}};function fxe(e,t,n,r,o){let a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;const s=r.length,l=[t[0],e.length/t[0]],u=l[1],c=s>0?o[s-1]+1:0;if(c<0)throw new Error("segment ids must be >= 0");const d=t.slice();d[0]=c;const p=_J(n,d.reduce(((e,t)=>e*t),1));if(0===s)return c>0&&p.fill(i),[p,d];if(c<=0)throw new Error("segment ids must be >= 0");let h=0,f=1,m=0,g=o[h];for(;;){let t=0;if(f<s){if(t=o[f],g===t){++f;continue}if(g>=t)throw new Error("segment ids are not increasing")}if(g<0||g>=c)throw new Error(rae(g,c));g>m&&p.fill(i,m*u,g*u);for(let n=h;n<f;++n){const t=r[n];if(t<0||t>=l[0])throw new Error(oae(n,r[n],l[0]));for(let n=0;n<u;n++)p[g*u+n]+=e[t*u+n]}if(a)for(let e=0;e<u;e++)p[g*u+e]/=f-h;if(h=f,++f,m=g+1,g=t,f>s)break}return m<c&&p.fill(i,m*u,c*u),[p,d]}const mxe={kernelName:o3,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{data:r,indices:o,segmentIds:a}=t;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==o.shape.length)throw new Error(`Indices should be a vector but received shape\n          ${o.shape}`);if(1!==a.shape.length)throw new Error(`Segment ids should be a vector but received shape\n          ${a.shape}`);if(o.shape[0]!==a.shape[0])throw new Error("segmentIds and indices should have same size.");const i=n.data.get(r.dataId).values,s=n.data.get(o.dataId).values,l=n.data.get(a.dataId).values,[u,c]=fxe(i,r.shape,r.dtype,s,l,!0);return n.makeTensorInfo(c,r.dtype,u)}};const gxe={kernelName:a3,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{data:r,indices:o,segmentIds:a}=t;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==o.shape.length)throw new Error(`Indices should be a vector but received shape\n         ${o.shape}`);if(1!==a.shape.length)throw new Error(`Segment ids should be a vector but received shape\n         ${a.shape}`);if(o.shape[0]!==a.shape[0])throw new Error("segmentIds and indices should have same size.");const i=n.data.get(r.dataId).values,s=n.data.get(o.dataId).values,l=n.data.get(a.dataId).values,[u,c]=fxe(i,r.shape,r.dtype,s,l);return n.makeTensorInfo(c,r.dtype,u)}};const yxe={kernelName:i3,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{sparseIndices:o,sparseValues:a,defaultValue:i}=t,{outputShape:s}=r,{sliceRank:l,numUpdates:u,sliceSize:c,strides:d,outputSize:p}=m9(0,o,s),h=!1,f=n.bufferSync(o);let m;switch(a.dtype){case"bool":m=Ube(f,n.bufferSync(a),s,p,c,u,l,d,Boolean(n.data.get(i.dataId).values[0]),h);break;case"float32":m=Ube(f,n.bufferSync(a),s,p,c,u,l,d,n.data.get(i.dataId).values[0],h);break;case"int32":m=Ube(f,n.bufferSync(a),s,p,c,u,l,d,n.data.get(i.dataId).values[0],h);break;case"string":m=Ube(f,n.bufferSync(a),s,p,c,u,l,d,d4(n.data.get(i.dataId).values[0]),h);break;default:throw new Error(`Unsupported type ${a.dtype}`)}return n.makeTensorInfo(s,m.dtype,m.values)}};const vxe={kernelName:e3,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{numOrSizeSplits:a,axis:i}=r,s=PJ(i,o.shape)[0],l=Goe(o,a,s),u=new Array(o.shape.length).fill(0),c=o.shape.slice();return l.map((e=>{const t=[...c];t[s]=e;const r=Yme({inputs:{x:o},backend:n,attrs:{begin:u,size:t}});return u[s]+=e,r}))}},bxe=Ofe((e=>Math.sqrt(e))),xxe=Mfe(Q2,(e=>Math.sqrt(e))),wxe={kernelName:Q2,backendName:"cpu",kernelFunc:xxe},kxe={kernelName:l3,backendName:"cpu",kernelFunc:e=>{let{inputs:t,backend:n}=e;const{x:r}=t,o=n;Ife(r,"square");const a=o.data.get(r.dataId).values,i=new Float32Array(a.length);for(let s=0;s<a.length;++s){const e=a[s];i[s]=e*e}return{dataId:o.write(i,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}},Sxe=Lfe(((e,t)=>{const n=e-t;return n*n})),Axe=ame(s3,Sxe),Cxe={kernelName:s3,backendName:"cpu",kernelFunc:Axe},Txe=Ofe(((e,t)=>{const{pattern:n,replaceGlobal:r,rewrite:o}=t;return e.replace(new RegExp(n,r?"g":""),o)})),Ixe=Dfe(u3,Txe),Exe={kernelName:u3,backendName:"cpu",kernelFunc:Ixe},Nxe=Mfe(T3,((e,t)=>{const n=t;return isNaN(e)?NaN:e>0?1:n.alpha})),Oxe={kernelName:T3,backendName:"cpu",kernelFunc:Nxe};function Mxe(e,t,n,r){const o=B6(e,t.dtype);for(let a=0;a<o.size;a++){const e=o.indexToLoc(a),i=new Array(e.length);for(let t=0;t<i.length;t++)i[t]=e[t]*n[t]+r[t];o.set(t.get(...i),...e)}return o}const Dxe={kernelName:c3,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{begin:a,end:i,strides:s,beginMask:l,endMask:u,ellipsisMask:c,newAxisMask:d,shrinkAxisMask:p}=r;Ife(o,"stridedSlice");const{finalShapeSparse:h,finalShape:f,isIdentity:m,sliceDim0:g,isSimpleSlice:y,begin:v,end:b,strides:x}=R9(o.shape,a,i,s,l,u,c,d,p);let w;if(m)w=dme({inputs:{x:o},backend:n,attrs:{shape:f}});else if(g||y){xJ(o.shape.length>=1,(()=>`Input must have rank at least 1, got: ${o.shape.length}`));const e=x9(v,b,x),t=Yme({inputs:{x:o},backend:n,attrs:{begin:v,size:e}});w=dme({inputs:{x:t},backend:n,attrs:{shape:f}}),n.disposeIntermediateTensorInfo(t)}else{const e=Mxe(h,n.bufferSync(o),x,v);w=n.makeTensorInfo(f,e.dtype,e.values)}return w}};class Rxe{constructor(e,t,n,r,o,a){this.separator=c4(e),this.nGramWidths=t,this.leftPad=c4(n),this.rightPad=c4(r),this.padWidth=o,this.preserveShort=a}getPadWidth(e){return Math.min(this.padWidth<0?e-1:this.padWidth,e-1)}getNumNGrams(e,t){const n=this.getPadWidth(t);return Math.max(0,e+2*n-t+1)}createNGrams(e,t,n,r,o,a){for(let i=0;i<o;++i){const s=this.getPadWidth(a),l=Math.max(0,s-i),u=Math.max(0,s-(o-(i+1))),c=a-(l+u),d=t+(l>0?0:i-s);let p=0;p+=l*this.leftPad.length;for(let t=0;t<c;++t)p+=e[d+t].length;p+=u*this.rightPad.length;p+=(l+u+c-1)*this.separator.length,n[r+i]=new Uint8Array(p);const h=n[r+i];let f=0;const m=e=>e.forEach((e=>h[f++]=e));for(let e=0;e<l;++e)m(this.leftPad),m(this.separator);for(let t=0;t<c-1;++t)m(e[d+t]),m(this.separator);if(c>0){m(e[d+c-1]);for(let e=0;e<u;++e)m(this.separator),m(this.rightPad)}else{for(let e=0;e<u-1;++e)m(this.rightPad),m(this.separator);m(this.rightPad)}}}compute(e,t){const n=e.length,r=t.length;if(r>0){let e=t[0];if(0!==e)throw new Error(`First split value must be 0, got ${e}`);for(let o=1;o<r;++o){let r=t[o]>=e;if(r=r&&t[o]<=n,!r)throw new Error(`Invalid split value ${t[o]}, must be in [${e}, ${n}]`);e=t[o]}if(e!==n)throw new Error(`Last split value must be data size. Expected ${n}, got ${e}`)}const o=r-1,a=_J("int32",r);if(0===n||0===r){const e=new Array(n);for(let t=0;t<=o;++t)a[t]=0;return[e,a]}a[0]=0;for(let s=1;s<=o;++s){const e=t[s]-t[s-1];let n=0;this.nGramWidths.forEach((t=>{n+=this.getNumNGrams(e,t)})),this.preserveShort&&e>0&&0===n&&(n=1),a[s]=a[s-1]+n}const i=new Array(a[o]);for(let s=0;s<o;++s){const n=t[s];let r=a[s];if(this.nGramWidths.forEach((o=>{const a=t[s+1]-t[s],l=this.getNumNGrams(a,o);this.createNGrams(e,n,i,r,l,o),r+=l})),this.preserveShort&&r===a[s]){const o=t[s+1]-t[s];if(0===o)continue;const a=o+2*this.padWidth,l=1;this.createNGrams(e,n,i,r,l,a)}}return[i,a]}}function Pxe(e,t,n,r,o,a,i,s){return new Rxe(n,r,o,a,i,s).compute(e,t)}const $xe={kernelName:d3,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{separator:o,nGramWidths:a,leftPad:i,rightPad:s,padWidth:l,preserveShortSequences:u}=r,{data:c,dataSplits:d}=t,p=n.data.get(c.dataId).values,h=n.data.get(d.dataId).values,[f,m]=Pxe(p,h,o,a,i,s,l,u);return[n.makeTensorInfo([f.length],"string",f),n.makeTensorInfo(d.shape,"int32",m)]}};function jxe(e,t,n,r){if(!e.length)return;if(0===t.length){for(let t=0;t<e.length;++t)r.push(e.subarray(t,t+1));return}if(1===t.length){const o=t[0];let a=e.indexOf(o);for(;-1!==a;){const t=e.subarray(0,a);n&&0===t.length||r.push(t),a=(e=e.subarray(a+1)).indexOf(o)}return void(n&&0===e.length||r.push(e))}let o=0;for(let a=0;a<e.length+1;a++)if(a===e.length||-1!==t.indexOf(e[a])){const t=e.subarray(o,a);n&&0===t.length||r.push(t),o=a+1}}function _xe(e,t,n){const r=e.length,o=[];let a=0,i=0;const s=new Array(r);for(let p=0;p<r;++p){const r=o.length;jxe(e[p],t,n,o);const l=o.length-r;s[p]=l,a+=l,i=Math.max(i,l)}const l=_J("int32",2*a),u=new Array(a),c=[r,i];let d=0;for(let p=0;p<r;++p)for(let e=0;e<s[p];++e)l[2*d]=p,l[2*d+1]=e,u[d]=o[d],++d;return[l,u,c]}const Fxe={kernelName:p3,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{skipEmpty:o}=r,{input:a,delimiter:i}=t;if("string"!==a.dtype)throw new Error("Input must be of datatype string");if(1!==a.shape.length)throw new Error(`Input must be a vector, got shape: ${a.shape}`);if(0!==i.shape.length)throw new Error(`Delimiter must be a scalar, got shape: ${i.shape}`);const s=n.data.get(a.dataId).values,l=n.data.get(i.dataId).values[0],[u,c,d]=_xe(s,l,o),p=c.length;return[n.makeTensorInfo([p,2],"int32",u),n.makeTensorInfo([p],"string",c),n.makeTensorInfo([2],"int32",new Int32Array(d))]}};function Lxe(e,t){const n=_J("int32",e.length);for(let r=0;r<e.length;++r)n[r]=a4(e[r]).modulo(t).getLowBitsUnsigned();return n}const zxe={kernelName:h3,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{numBuckets:o}=r,{input:a}=t;if("string"!==a.dtype)throw new Error("Input must be of datatype string");if(o<=0)throw new Error("Number of buckets must be at least 1");const i=Lxe(n.data.get(a.dataId).values,o);return n.makeTensorInfo(a.shape,"int32",i)}},Bxe=Mfe(m3,(e=>Math.tan(e))),Wxe={kernelName:m3,backendName:"cpu",kernelFunc:Bxe},Vxe=Mfe(g3,(e=>Math.tanh(e)));function Uxe(e,t){const n=new Array(e.rank);for(let o=0;o<n.length;o++)n[o]=e.shape[o]*t[o];const r=B6(n,e.dtype);for(let o=0;o<r.values.length;++o){const t=r.indexToLoc(o),n=new Array(e.rank);for(let r=0;r<n.length;r++)n[r]=t[r]%e.shape[r];const a=e.locToIndex(n);r.values[o]=e.values[a]}return r}const Hxe=(e,t)=>{const n=t.value-e.value;return 0===n?e.index-t.index:n};function Gxe(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length-1;for(;r>n;){if(r-n>600){const o=r-n+1,a=t-n+1,i=Math.log(o),s=.5*Math.exp(2*i/3),l=.5*Math.sqrt(i*s*(o-s)/o)*Math.sign(a-o/2);Gxe(e,t,Math.max(n,Math.floor(t-a*s/o+l)),Math.min(r,Math.floor(t+(o-a)*s/o+l)))}const o=e[t];let a=n,i=r;for(gJ(e,n,t),Hxe(e[r],o)>0&&gJ(e,n,r);a<i;){for(gJ(e,a,i),a++,i--;Hxe(e[a],o)<0;)a+=1;for(;Hxe(e[i],o)>0;)i-=1}0===Hxe(e[n],o)?gJ(e,n,i):(i+=1,gJ(e,i,r)),i<=t&&(n=i+1),t<=i&&(r=i-1)}}function qxe(e,t,n,r,o){const a=t[t.length-1],[i,s]=[e.length/a,a],l=jJ(n,i*r),u=jJ("int32",i*r);for(let d=0;d<i;d++){const t=d*s,n=e.subarray(t,t+s);let a=new Array(n.length);n.forEach(((e,t)=>a[t]={value:e,index:t})),r<a.length&&(Gxe(a,r),a=a.slice(0,r)),o&&a.sort(Hxe);const i=d*r,c=l.subarray(i,i+r),p=u.subarray(i,i+r);for(let e=0;e<r;e++)c[e]=a[e].value,p[e]=a[e].index}const c=t.slice();return c[c.length-1]=r,[B6(c,n,l),B6(c,"int32",u)]}function Kxe(e,t,n){switch(n){case"reflect":return function(e,t){let n=e;if(n<0)if(t<=1)n=0;else{const e=2*t;n<e&&(n=e*Math.trunc(-n/e)+n),n=n<-t?n+e:-n-1}else if(n>t-1)if(t<=1)n=0;else{const e=2*t;n-=e*Math.trunc(n/e),n>=t&&(n=e-n-1)}return fJ(0,n,t-1)}(e,t);case"wrap":return function(e,t){let n=e;if(n<0)if(t<=1)n=0;else{const e=t-1;n+=t*(Math.trunc(-n/e)+1)}else if(n>t-1)if(t<=1)n=0;else{const e=t-1;n-=t*Math.trunc(n/e)}return fJ(0,n,t-1)}(e,t);case"nearest":return function(e,t){return fJ(0,e,t-1)}(e,t);default:return function(e){return e}(e)}}function Xxe(e,t,n,r,o,a,i,s,l,u,c){return 0<=s&&s<t&&0<=l&&l<n?e[i*r+s*o+l*a+u]:c}function Yxe(e,t,n,r,o,a,i,s,l,u,c){return Xxe(e,t,n,r,o,a,i,Math.round(s),Math.round(l),u,c)}function Qxe(e,t,n,r,o,a,i,s,l,u,c){const d=Math.floor(s),p=Math.floor(l),h=d+1,f=p+1;return(h-s)*((f-l)*Xxe(e,t,n,r,o,a,i,d,p,u,c)+(l-p)*Xxe(e,t,n,r,o,a,i,d,f,u,c))+(s-d)*((f-l)*Xxe(e,t,n,r,o,a,i,h,p,u,c)+(l-p)*Xxe(e,t,n,r,o,a,i,h,f,u,c))}function Zxe(e,t,n,r){const o=PJ(t,n)[0],a=[1,n[0],1];for(let f=0;f<o;f++)a[0]*=n[f];a[1]=n[o];for(let f=o+1;f<n.length;f++)a[2]*=n[f];const i=new Map,s=new Int32Array(n[o]),l=new k4(a,r,e),u=[],c=1===a[0]&&1===a[2];for(let f=0;f<n[o];f++){let t;if(c)t=e[f].toString();else{const e=[];for(let t=0;t<a[0];t++)for(let n=0;n<a[2];n++)e.push(l.get(t,f,n));t=e.join(",")}const n=i.get(t);if(null!=n)s[f]=n;else{const e=i.size;i.set(t,e),s[f]=e,u.push(f)}}const d=a.slice();d[1]=i.size;const p=new k4(d,r);u.forEach(((e,t)=>{for(let n=0;n<a[0];n++)for(let r=0;r<a[2];r++)p.set(l.get(n,e,r),n,t,r)}));const h=n.slice();return h[o]=d[1],{outputValues:p.values,outputShape:h,indices:s}}const Jxe={kernelName:k3,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{value:o}=t;let{axis:a}=r;a<0&&(a+=o.shape.length);const i=o.shape.length,s=o.shape[a],l=new Array(i-1);let u=0;for(let h=0;h<i;h++)h!==a&&(l[u++]=o.shape[h]);const c=new Array(i).fill(0),d=o.shape.slice();d[a]=1;const p=new Array(s);for(let h=0;h<p.length;h++){c[a]=h;const e=Yme({inputs:{x:o},backend:n,attrs:{begin:c,size:d}});p[h]=dme({inputs:{x:e},backend:n,attrs:{shape:l}}),n.disposeIntermediateTensorInfo(e)}return p}};const ewe={kernelName:S3,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,segmentIds:a}=t,{numSegments:i}=r;Ife(o,"unsortedSegmentSum");const s=[],l=[],u=o.shape.length-a.shape.length;let c=a;for(let p=0;p<u;++p){const e=cye({inputs:{input:c},backend:n,attrs:{dim:p+1}});c=e,l.push(e)}for(let p=0;p<i;++p){const e=i4(p,"int32"),t=n.makeTensorInfo([],"int32",e),r=Qge({inputs:{a:t,b:c},backend:n}),a=rme({inputs:{x:r},backend:n,attrs:{dtype:"float32"}}),i=Uge({inputs:{a:a,b:o},backend:n}),u=Gge({inputs:{x:i},backend:n,attrs:{axis:0,keepDims:!1}});s.push(u),l.push(t),l.push(r),l.push(a),l.push(i),l.push(u)}const d=sbe({inputs:s,backend:n,attrs:{axis:0}});return l.forEach((e=>n.disposeIntermediateTensorInfo(e))),d}},twe=[mme,yme,bme,wme,cme,kme,Tme,Ime,Eme,Nme,Mme,Rme,$me,Fme,zme,Ume,Hme,Gme,qme,fme,Kme,Zme,tge,oge,age,ome,lge,cge,Zfe,dge,gge,vge,bge,xge,wge,kge,Sge,Cge,Ige,Ege,Nge,Oge,Mge,Dge,Pge,$ge,jge,_ge,Fge,Lge,zge,Bge,Kge,Pfe,Xge,Zge,iye,uye,dye,fye,Cye,Iye,Eye,Mye,Pye,$ye,jye,Fye,zye,Vye,Gye,jfe,qye,fge,Xye,Qye,Jye,Ffe,nve,ave,sve,cve,pve,mve,yve,xve,wve,kve,Cve,Eve,Nve,Ove,Mve,Dve,Rve,Pve,$ve,Fve,Lve,Wve,Hve,Hge,qve,Xve,Qve,Jve,nbe,rbe,ibe,lbe,ube,pbe,Wfe,fbe,bbe,kbe,Ebe,Obe,tme,yye,Dbe,Ufe,Gfe,pme,Rbe,Pbe,$be,jbe,_be,Fbe,zbe,Vbe,Hbe,Kbe,Xbe,Jbe,Xfe,txe,rxe,axe,Qme,Uve,lxe,uxe,dxe,hxe,mxe,gxe,yxe,vxe,wxe,kxe,Cxe,Exe,Oxe,Dxe,$xe,Fxe,zxe,wye,qge,Wxe,{kernelName:g3,backendName:"cpu",kernelFunc:Vxe},{kernelName:B2,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{tensor:r,indices:o,updates:a}=t,{sliceRank:i,numUpdates:s,sliceSize:l,strides:u,outputSize:c}=m9(0,o,r.shape),d=n.bufferSync(o),p=n.bufferSync(a),h=n.bufferSync(r),f=Ube(d,p,r.shape,c,l,s,i,u,h,!1);return n.makeTensorInfo(r.shape,f.dtype,f.values)}},{kernelName:y3,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{reps:a}=r;Ife(o,"tile");const i=Uxe(n.bufferSync(o),a);return n.makeTensorInfo(i.shape,i.dtype,i.values)}},{kernelName:v3,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{k:a,sorted:i}=r;Ife(o,"topk");const s=n.data.get(o.dataId).values,[l,u]=qxe(s,o.shape,o.dtype,a,i);return[n.makeTensorInfo(l.shape,l.dtype,l.values),n.makeTensorInfo(u.shape,u.dtype,u.values)]}},{kernelName:b3,backendName:"cpu",kernelFunc:function(e){const{inputs:t,attrs:n,backend:r}=e,{image:o,transforms:a}=t,{interpolation:i,fillMode:s,fillValue:l,outputShape:u}=n,[c,d,p,h]=o.shape,[f,m]=null!=u?u:[d,p],g=[c,f,m,h],y=XJ(o.shape),v=y[0],b=y[1],x=y[2],w=XJ(g),k=w[0],S=w[1],A=w[2],C=jJ(o.dtype,SJ(g));C.fill(l);const T=r.data.get(o.dataId).values,I=r.data.get(a.dataId).values;for(let E=0;E<c;++E){const e=1===a.shape[0]?I:I.subarray(8*E,8*E+8);for(let t=0;t<f;++t)for(let n=0;n<m;++n)for(let r=0;r<h;++r){let o;const a=e[6]*n+e[7]*t+1;if(0===a)continue;const u=(e[0]*n+e[1]*t+e[2])/a,c=(e[3]*n+e[4]*t+e[5])/a,h=Kxe(u,p,s),f=Kxe(c,d,s);switch(i){case"nearest":o=Yxe(T,d,p,v,b,x,E,f,h,r,l);break;case"bilinear":o=Qxe(T,d,p,v,b,x,E,f,h,r,l);break;default:throw new Error(`Error in Transform: Expect 'nearest' or 'bilinear', but got ${i}`)}C[E*k+t*S+n*A+r]=o}return r.makeTensorInfo(g,o.dtype,C)}return{dataId:r.write(C,g,o.dtype),shape:o.shape,dtype:o.dtype}}},Cme,{kernelName:w3,backendName:"cpu",kernelFunc:function(e){const{inputs:t,attrs:n,backend:r}=e,{axis:o}=n,{x:a}=t;Ife(a,"unique");const i=r.data.get(a.dataId).values,{outputValues:s,outputShape:l,indices:u}=Zxe(i,o,a.shape,a.dtype);return[r.makeTensorInfo(l,a.dtype,s),r.makeTensorInfo([u.length],"int32",u)]}},Jxe,ewe,abe];for(const n of twe)L3(n);const nwe={},rwe={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function owe(e,t){if(!(e in nwe)||null!=t){const n=function(e,t){if(1!==e&&2!==e)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");const n=null==t?function(e){if(u0().getBool("IS_SAFARI")||"undefined"===typeof OffscreenCanvas||2!==e){if("undefined"!==typeof document)return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}return new OffscreenCanvas(300,150)}(e):t;n.addEventListener("webglcontextlost",(t=>{t.preventDefault(),delete nwe[e]}),!1),u0().getBool("SOFTWARE_WEBGL_ENABLED")&&(rwe.failIfMajorPerformanceCaveat=!1);if(1===e)return n.getContext("webgl",rwe)||n.getContext("experimental-webgl",rwe);return n.getContext("webgl2",rwe)}(e,t);if(null===n)return console.log("Could not get context for WebGL version",e),null;nwe[e]=n}const n=nwe[e];return null==n||n.isContextLost()?(delete nwe[e],owe(e)):(n.disable(n.DEPTH_TEST),n.disable(n.STENCIL_TEST),n.disable(n.BLEND),n.disable(n.DITHER),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SAMPLE_COVERAGE),n.enable(n.SCISSOR_TEST),n.enable(n.CULL_FACE),n.cullFace(n.BACK),nwe[e])}var awe,iwe,swe,lwe,uwe,cwe;function dwe(e,t){return[t,e]}function pwe(e){const t=SJ(e);return NJ(Math.ceil(t/4))}function hwe(e,t){return[Math.max(1,Math.ceil(t/2)),Math.max(1,Math.ceil(e/2))]}function fwe(e,t){const n=e;let r,o,a,i,s,l,u,c,d,p;return 2===u0().getNumber("WEBGL_VERSION")?(r=n.R32F,o=n.R16F,a=n.RGBA16F,i=n.RGBA32F,s=n.RED,u=4,c=1,d=n.HALF_FLOAT,p=n.FLOAT,l=n.RGBA8):(r=e.RGBA,o=e.RGBA,a=e.RGBA,i=n.RGBA,s=e.RGBA,u=4,c=4,d=null!=t?t.HALF_FLOAT_OES:null,p=e.FLOAT,l=e.RGBA),{internalFormatFloat:r,internalFormatHalfFloat:o,internalFormatPackedHalfFloat:a,internalFormatPackedFloat:i,textureFormatFloat:s,downloadTextureFormat:l,downloadUnpackNumChannels:u,defaultNumChannels:c,textureTypeHalfFloat:d,textureTypeFloat:p}}function mwe(e,t){const n=t();return u0().getBool("DEBUG")&&function(e){const t=e.getError();if(t!==e.NO_ERROR)throw new Error("WebGL Error: "+function(e,t){switch(t){case e.NO_ERROR:return"NO_ERROR";case e.INVALID_ENUM:return"INVALID_ENUM";case e.INVALID_VALUE:return"INVALID_VALUE";case e.INVALID_OPERATION:return"INVALID_OPERATION";case e.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case e.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case e.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return`Unknown error code ${t}`}}(e,t))}(e),n}(iwe=awe||(awe={}))[iwe.DENSE=0]="DENSE",iwe[iwe.SHARED_BATCH=1]="SHARED_BATCH",(lwe=swe||(swe={}))[lwe.RENDER=0]="RENDER",lwe[lwe.UPLOAD=1]="UPLOAD",lwe[lwe.PIXELS=2]="PIXELS",lwe[lwe.DOWNLOAD=3]="DOWNLOAD",(cwe=uwe||(uwe={}))[cwe.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",cwe[cwe.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",cwe[cwe.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",cwe[cwe.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",cwe[cwe.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16";function gwe(e){return!!(u0().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||0===e||5.96e-8<Math.abs(e)&&Math.abs(e)<65504)}function ywe(e,t){return Twe(e,(()=>e.getExtension(t)),'Extension "'+t+'" not supported on this browser.')}const vwe=/ERROR: [0-9]+:([0-9]+):/g;function bwe(e,t){const n=vwe.exec(t);if(null==n)return console.log(`Couldn't parse line number in error: ${t}`),void console.log(e);const r=+n[1],o=e.split("\n"),a=o.length.toString().length+2,i=o.map(((e,t)=>MJ((t+1).toString(),a)+e));let s=0;for(let d=0;d<i.length;d++)s=Math.max(i[d].length,s);const l=i.slice(0,r-1),u=i.slice(r-1,r),c=i.slice(r);console.log(l.join("\n")),console.log(t.split("\n")[0]),console.log(`%c ${MJ(u[0],s)}`,"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(c.join("\n"))}function xwe(e,t){if(mwe(e,(()=>e.validateProgram(t))),!1===e.getProgramParameter(t,e.VALIDATE_STATUS))throw console.log(e.getProgramInfoLog(t)),new Error("Shader program validation failed.")}function wwe(e,t,n,r,o,a,i){const s=e.getAttribLocation(t,n);return-1!==s&&(mwe(e,(()=>e.bindBuffer(e.ARRAY_BUFFER,r))),mwe(e,(()=>e.vertexAttribPointer(s,o,e.FLOAT,!1,a,i))),mwe(e,(()=>e.enableVertexAttribArray(s))),!0)}function kwe(e,t,n,r){mwe(e,(()=>function(e,t,n){Iwe(e,n),mwe(e,(()=>e.activeTexture(e.TEXTURE0+n))),mwe(e,(()=>e.bindTexture(e.TEXTURE_2D,t)))}(e,t,r))),mwe(e,(()=>e.uniform1i(n,r)))}function Swe(e,t,n){mwe(e,(()=>e.bindFramebuffer(e.FRAMEBUFFER,n))),mwe(e,(()=>e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0)))}function Awe(e,t){mwe(e,(()=>e.bindFramebuffer(e.FRAMEBUFFER,t))),mwe(e,(()=>e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,null,0)))}function Cwe(e){const t=e.checkFramebufferStatus(e.FRAMEBUFFER);if(t!==e.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+function(e,t){switch(t){case e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case e.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return`unknown error ${t}`}}(e,t))}function Twe(e,t,n){const r=mwe(e,(()=>t()));if(null==r)throw new Error(n);return r}function Iwe(e,t){const n=e.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,r=t+e.TEXTURE0;if(r<e.TEXTURE0||r>n){throw new Error(`textureUnit must be in ${`[gl.TEXTURE0, gl.TEXTURE${n}]`}.`)}}function Ewe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return SJ(e.slice(0,e.length-t))}function Nwe(e){if(0===e.length)throw Error("Cannot get rows and columns of an empty shape array.");return[e.length>1?e[e.length-2]:1,e[e.length-1]]}function Owe(e){let t=[1,1,1];return 0===e.length||1===e.length&&1===e[0]||(t=[Ewe(e),...Nwe(e)]),t}function Mwe(e){return e%2===0}function Dwe(e,t){if(TJ(e=e.slice(-2),t=t.slice(-2)))return!0;if(!e.length||!t.length)return!0;if(0===e[0]||0===e[1]||0===t[0]||0===t[1])return!0;if(e.length!==t.length){const n=e[e.length-1],r=t[t.length-1];if(n===r)return!0;if(Mwe(n)&&Mwe(r)&&(1===e[0]||1===t[0]))return!0}return e[1]===t[1]&&Mwe(e[0])&&Mwe(t[0])}let Rwe,Pwe;function $we(e,t){return null!=e.getExtension(t)}function jwe(e){try{if(null!=owe(e))return!0}catch(ZBe){return console.log("Error when getting WebGL context: ",ZBe),!1}return!1}function _we(e){if(0===e)return!1;const t=owe(e);if(1!==e){if($we(t,"EXT_color_buffer_float"))return Fwe(t);const e="EXT_color_buffer_half_float";if($we(t,e)){const n=t.getExtension(e);return function(e,t){const n=fwe(e,t),r=e.createTexture();e.bindTexture(e.TEXTURE_2D,r);const o=1,a=1;e.texImage2D(e.TEXTURE_2D,0,n.internalFormatHalfFloat,o,a,0,n.textureFormatFloat,n.textureTypeHalfFloat,null);const i=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,i),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0);const s=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(r),e.deleteFramebuffer(i),s}(t,n)}return!1}if(!$we(t,"OES_texture_float"))return!1;if(!$we(t,"WEBGL_color_buffer_float"))return!1;return Fwe(t)}function Fwe(e){const t=fwe(e),n=e.createTexture();e.bindTexture(e.TEXTURE_2D,n);e.texImage2D(e.TEXTURE_2D,0,t.internalFormatFloat,1,1,0,t.textureFormatFloat,t.textureTypeFloat,null);const r=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,r),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0);const o=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(n),e.deleteFramebuffer(r),o}function Lwe(e,t){Array.isArray(e)||(e=[e]),e.forEach((e=>{null!=e&&xJ("complex64"!==e.dtype,(()=>`${t} does not support complex64 tensors in the WebGL backend.`))}))}const zwe=u0();function Bwe(){let e,t,n,r,o,a,i,s,l,u;return 2===u0().getNumber("WEBGL_VERSION")?(e="#version 300 es",t="in",n="out",r="in",o="texture",a="outputColor",i="out vec4 outputColor;",s=u0().getBool("WEBGL2_ISNAN_CUSTOM")?"\n      bool isnan_custom(float val) {\n        uint floatToUint = floatBitsToUint(val);\n        return (floatToUint & 0x7fffffffu) > 0x7f800000u;\n      }\n\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan_custom(val.x),\n          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));\n      }\n\n      #define isnan(value) isnan_custom(value)\n    ":"",l="",u="\n      #define round(value) newRound(value)\n      int newRound(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 newRound(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "):(e="",t="attribute",n="varying",r="varying",o="texture2D",a="gl_FragColor",i="",s="\n      #define isnan(value) isnan_custom(value)\n      bool isnan_custom(float val) {\n        return (val > 0. || val < 1. || val == 0.) ? false : true;\n      }\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));\n      }\n    ",l="\n      uniform float INFINITY;\n\n      bool isinf(float val) {\n        return abs(val) == INFINITY;\n      }\n      bvec4 isinf(vec4 val) {\n        return equal(abs(val), vec4(INFINITY));\n      }\n    ",u="\n      int round(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 round(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "),{version:e,attribute:t,varyingVs:n,varyingFs:r,texture2D:o,output:a,defineOutput:i,defineSpecialNaN:s,defineSpecialInf:l,defineRound:u}}function Wwe(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"index";const r=XJ(t);return r.map(((t,o)=>`${`int ${e[o]} = ${n} / ${t}`}; ${o===r.length-1?`int ${e[o+1]} = ${n} - ${e[o]} * ${t}`:`index -= ${e[o]} * ${t}`};`)).join("")}function Vwe(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"index";const r=XJ(t);return r.map(((t,o)=>`${`int ${e[o]} = ${n} / outShapeStrides[${o}]`}; ${o===r.length-1?`int ${e[o+1]} = ${n} - ${e[o]} * outShapeStrides[${o}]`:`index -= ${e[o]} * outShapeStrides[${o}]`};`)).join("")}function Uwe(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"index";const r=function(e,t){const n=e.length,r=e.map((e=>`${t}[${e}]`)),o=new Array(n-1);o[n-2]=r[n-1];for(let a=n-3;a>=0;--a)o[a]=`(${o[a+1]} * ${r[a+1]})`;return o}(e.map(((e,t)=>t)),t);return r.map(((t,o)=>`${`int ${e[o]} = ${n} / ${r[o]}`}; ${o===r.length-1?`int ${e[o+1]} = ${n} - ${e[o]} * ${r[o]}`:`index -= ${e[o]} * ${r[o]}`};`)).join("")}function Hwe(e){const t=XJ(e).map((e=>e.toString()));return`\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * ${t[0]} + coords.y * ${t[1]} + coords.z;\n  }\n`}zwe.registerFlag("HAS_WEBGL",(()=>zwe.getNumber("WEBGL_VERSION")>0)),zwe.registerFlag("WEBGL_VERSION",(()=>jwe(2)?2:jwe(1)?1:0)),zwe.registerFlag("WEBGL_CHECK_NUMERICAL_PROBLEMS",(()=>!1)),zwe.registerFlag("WEBGL_BUFFER_SUPPORTED",(()=>2===zwe.get("WEBGL_VERSION"))),zwe.registerFlag("WEBGL_CPU_FORWARD",(()=>!0)),zwe.registerFlag("WEBGL_FORCE_F16_TEXTURES",(()=>!1)),zwe.registerFlag("WEBGL_PACK",(()=>zwe.getBool("HAS_WEBGL"))),zwe.registerFlag("WEBGL_PACK_NORMALIZATION",(()=>zwe.getBool("WEBGL_PACK"))),zwe.registerFlag("WEBGL_PACK_CLIP",(()=>zwe.getBool("WEBGL_PACK"))),zwe.registerFlag("WEBGL_PACK_DEPTHWISECONV",(()=>zwe.getBool("WEBGL_PACK"))),zwe.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",(()=>zwe.getBool("WEBGL_PACK"))),zwe.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",(()=>zwe.getBool("WEBGL_PACK"))),zwe.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",(()=>zwe.getBool("WEBGL_PACK"))),zwe.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",(()=>zwe.getBool("WEBGL_PACK"))),zwe.registerFlag("WEBGL_PACK_REDUCE",(()=>zwe.getBool("WEBGL_PACK"))),zwe.registerFlag("WEBGL_LAZILY_UNPACK",(()=>zwe.getBool("WEBGL_PACK"))),zwe.registerFlag("WEBGL_CONV_IM2COL",(()=>zwe.getBool("WEBGL_PACK"))),zwe.registerFlag("WEBGL_PACK_CONV2DTRANSPOSE",(()=>zwe.getBool("WEBGL_PACK"))),zwe.registerFlag("WEBGL_MAX_TEXTURE_SIZE",(()=>function(e){if(null==Rwe){const t=owe(e);Rwe=t.getParameter(t.MAX_TEXTURE_SIZE)}return Rwe}(zwe.getNumber("WEBGL_VERSION")))),zwe.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",(()=>function(e){if(null==Pwe){const t=owe(e);Pwe=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,Pwe)}(zwe.getNumber("WEBGL_VERSION")))),zwe.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",(()=>{const e=zwe.getNumber("WEBGL_VERSION");return 0===e?0:function(e){if(0===e)return 0;let t;const n=owe(e);return t=$we(n,"EXT_disjoint_timer_query_webgl2")&&2===e?2:$we(n,"EXT_disjoint_timer_query")?1:0,t}(e)})),zwe.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",(()=>zwe.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&!r5())),zwe.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",(()=>function(e){if(0===e)return!1;const t=owe(e);if(1===e){if(!$we(t,"OES_texture_float"))return!1}else if(!$we(t,"EXT_color_buffer_float"))return!1;return Fwe(t)}(zwe.getNumber("WEBGL_VERSION")))),zwe.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",(()=>!zwe.getBool("WEBGL_FORCE_F16_TEXTURES")&&zwe.getBool("WEBGL_RENDER_FLOAT32_CAPABLE"))),zwe.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",(()=>_we(zwe.getNumber("WEBGL_VERSION")))),zwe.registerFlag("WEBGL_FENCE_API_ENABLED",(()=>{return 2===(e=zwe.getNumber("WEBGL_VERSION"))&&null!=owe(e).fenceSync;var e})),zwe.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",(()=>zwe.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0)),zwe.registerFlag("WEBGL_DELETE_TEXTURE_THRESHOLD",(()=>-1),(e=>{if("number"!==typeof e)throw new Error(`WEBGL_DELETE_TEXTURE_THRESHOLD must be a number but got ${e}.`);if(e<0&&-1!==e)throw new Error(`WEBGL_DELETE_TEXTURE_THRESHOLD must be -1 (indicating never delete) or at least 0, but got ${e}.`)})),zwe.registerFlag("WEBGL_FLUSH_THRESHOLD",(()=>r5()?1:-1),(e=>{if("number"!==typeof e)throw new Error(`WEBGL_FLUSH_THRESHOLD must be a number but got ${e}.`);if(e<0&&-1!==e)throw new Error(`WEBGL_FLUSH_THRESHOLD must be -1 (indicating never manual flush) or at least 0, but got ${e}.`)})),zwe.registerFlag("CPU_HANDOFF_SIZE_THRESHOLD",(()=>128)),zwe.registerFlag("WEBGL_USE_SHAPES_UNIFORMS",(()=>!1)),zwe.registerFlag("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD",(()=>1e5)),zwe.registerFlag("TOPK_K_CPU_HANDOFF_THRESHOLD",(()=>128)),zwe.registerFlag("WEBGL_EXP_CONV",(()=>!1)),zwe.registerFlag("SOFTWARE_WEBGL_ENABLED",(()=>zwe.getBool("IS_TEST"))),zwe.registerFlag("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE",(()=>1/0)),zwe.registerFlag("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE",(()=>!1)),zwe.registerFlag("WEBGL2_ISNAN_CUSTOM",(()=>!1)),zwe.registerFlag("ENGINE_COMPILE_ONLY",(()=>!1));const Gwe="\n  const float FLOAT_MAX = 1.70141184e38;\n  const float FLOAT_MIN = 1.17549435e-38;\n\n  lowp vec4 encode_float(highp float v) {\n    if (isnan(v)) {\n      return vec4(255, 255, 255, 255);\n    }\n\n    highp float av = abs(v);\n\n    if(av < FLOAT_MIN) {\n      return vec4(0.0, 0.0, 0.0, 0.0);\n    } else if(v > FLOAT_MAX) {\n      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n    } else if(v < -FLOAT_MAX) {\n      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\n    }\n\n    highp vec4 c = vec4(0,0,0,0);\n\n    highp float e = floor(log2(av));\n    highp float m = exp2(fract(log2(av))) - 1.0;\n\n    c[2] = floor(128.0 * m);\n    m -= c[2] / 128.0;\n    c[1] = floor(32768.0 * m);\n    m -= c[1] / 32768.0;\n    c[0] = floor(8388608.0 * m);\n\n    highp float ebias = e + 127.0;\n    c[3] = floor(ebias / 2.0);\n    ebias -= c[3] * 2.0;\n    c[2] += floor(ebias) * 128.0;\n\n    c[3] += 128.0 * step(0.0, -v);\n\n    return c / 255.0;\n  }\n",{getBroadcastDims:qwe}=y;function Kwe(e,t,n){const r=[];if(e.forEach((e=>{const t=SJ(e.shapeInfo.logicalShape);if(e.shapeInfo.isUniform?r.push(`uniform float ${e.name}${t>1?`[${t}]`:""};`):(r.push(`uniform sampler2D ${e.name};`),r.push(`uniform int offset${e.name};`)),n.enableShapeUniforms){const{uniformShape:t}=ake(n.packedInputs,e.shapeInfo.logicalShape,e.shapeInfo.texShape);switch(t.length){case 1:r.push(`uniform int ${e.name}Shape;`);break;case 2:r.push(`uniform ivec2 ${e.name}Shape;`);break;case 3:r.push(`uniform ivec3 ${e.name}Shape;`);break;case 4:r.push(`uniform ivec4 ${e.name}Shape;`)}r.push(`uniform ivec2 ${e.name}TexShape;`)}})),n.enableShapeUniforms){switch(t.logicalShape.length){case 1:r.push("uniform int outShape;");break;case 2:r.push("uniform ivec2 outShape;"),r.push("uniform int outShapeStrides;");break;case 3:r.push("uniform ivec3 outShape;"),r.push("uniform ivec2 outShapeStrides;");break;case 4:r.push("uniform ivec4 outShape;"),r.push("uniform ivec3 outShapeStrides;")}r.push("uniform ivec2 outTexShape;")}n.customUniforms&&n.customUniforms.forEach((e=>{r.push(`uniform ${e.type} ${e.name}${e.arrayIndex?`[${e.arrayIndex}]`:""};`)}));const o=r.join("\n"),a=e.map((e=>function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,o="";o+=n?Ywe(e,r):Xwe(e,r);const a=e.shapeInfo.logicalShape,i=t.logicalShape;a.length<=i.length&&(o+=n?function(e,t){const n=e.name,r=n.charAt(0).toUpperCase()+n.slice(1),o="get"+r+"AtOutCoords",a=e.shapeInfo.logicalShape.length,i=t.logicalShape.length,s=qwe(e.shapeInfo.logicalShape,t.logicalShape),l=oke(i),u=i-a;let c;const d=["x","y","z","w","u","v"];c=0===a?"":i<2&&s.length>=1?"coords = 0;":s.map((e=>`coords.${d[e+u]} = 0;`)).join("\n");let p="";p=i<2&&a>0?"coords":e.shapeInfo.logicalShape.map(((e,t)=>`coords.${d[t+u]}`)).join(", ");let h="return outputValue;";const f=1===SJ(e.shapeInfo.logicalShape),m=SJ(t.logicalShape),g=1===m;if(1!==a||f||g){if(f&&!g)h=1===i?"\n        return vec4(outputValue.x, outputValue.x, 0., 0.);\n      ":"\n        return vec4(outputValue.x);\n      ";else if(s.length){const e=a-2,t=a-1;s.indexOf(e)>-1&&s.indexOf(t)>-1?h="return vec4(outputValue.x);":s.indexOf(e)>-1?h="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":s.indexOf(t)>-1&&(h="return vec4(outputValue.xx, outputValue.zz);")}}else h="\n      return vec4(outputValue.xy, outputValue.xy);\n    ";return`\n    vec4 ${o}() {\n      ${l} coords = getOutputCoords();\n      ${c}\n      vec4 outputValue = get${r}(${p});\n      ${h}\n    }\n  `}(e,t):function(e,t){const n=e.name,r=n.charAt(0).toUpperCase()+n.slice(1),o="get"+r+"AtOutCoords",a=t.texShape,i=e.shapeInfo.texShape,s=e.shapeInfo.logicalShape.length,l=t.logicalShape.length;if(!e.shapeInfo.isUniform&&s===l&&null==e.shapeInfo.flatOffset&&TJ(i,a))return`\n      float ${o}() {\n        return sampleTexture(${n}, resultUV);\n      }\n    `;const u=oke(l),c=qwe(e.shapeInfo.logicalShape,t.logicalShape),d=l-s;let p;const h=["x","y","z","w","u","v"];p=0===s?"":l<2&&c.length>=1?"coords = 0;":c.map((e=>`coords.${h[e+d]} = 0;`)).join("\n");let f="";f=l<2&&s>0?"coords":e.shapeInfo.logicalShape.map(((e,t)=>`coords.${h[t+d]}`)).join(", ");return`\n    float ${o}() {\n      ${u} coords = getOutputCoords();\n      ${p}\n      return get${r}(${f});\n    }\n  `}(e,t));return o}(e,t,n.packedInputs,n.enableShapeUniforms))).join("\n"),i=t.texShape,s=Bwe(),l=function(e){return`\n    float sampleTexture(sampler2D textureSampler, vec2 uv) {\n      return ${e.texture2D}(textureSampler, uv).r;\n    }\n  `}(s);let u,c,d=function(e){const t=`${e.version}\n    precision highp float;\n    precision highp int;\n    precision highp sampler2D;\n    ${e.varyingFs} vec2 resultUV;\n    ${e.defineOutput}\n    const vec2 halfCR = vec2(0.5, 0.5);\n\n    struct ivec5\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n    };\n\n    struct ivec6\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n      int v;\n    };\n\n    uniform float NAN;\n    ${e.defineSpecialNaN}\n    ${e.defineSpecialInf}\n    ${e.defineRound}\n\n    int imod(int x, int y) {\n      return x - y * (x / y);\n    }\n\n    int idiv(int a, int b, float sign) {\n      int res = a / b;\n      int mod = imod(a, b);\n      if (sign < 0. && mod != 0) {\n        res -= 1;\n      }\n      return res;\n    }\n\n    //Based on the work of Dave Hoskins\n    //https://www.shadertoy.com/view/4djSRW\n    #define HASHSCALE1 443.8975\n    float random(float seed){\n      vec2 p = resultUV * seed;\n      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);\n      p3 += dot(p3, p3.yzx + 19.19);\n      return fract((p3.x + p3.y) * p3.z);\n    }\n\n    ${Qwe}\n    ${Zwe}\n    ${Jwe}\n  `;return t}(s);t.isPacked?(u=function(e,t,n){switch(e.length){case 0:return tke();case 1:return function(e,t,n){const r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];if(1===r[0])return n?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * ceil(float(outTexShape[1]) / 2.0));\n      }\n    ":`\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * ${r[1]}.0);\n      }\n    `;if(1===r[1])return n?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * ceil(float(outTexShape[0]) / 2.0));\n      }\n    ":`\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * ${r[0]}.0);\n      }\n    `;if(n)return"\n    int getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      return 2 * (resTexRC.x * packedTexShape[1] + resTexRC.y);\n    }\n  ";return`\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${r[0]}, ${r[1]}));\n      return 2 * (resTexRC.x * ${r[1]} + resTexRC.y);\n    }\n  `}(0,t,n);case 2:return function(e,t,n){const r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];if(TJ(e,t))return n?"\n      ivec2 getOutputCoords() {\n        ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n        return 2 * ivec2(resultUV.yx * vec2(packedTexShape[0], packedTexShape[1]));\n      }\n    ":`\n      ivec2 getOutputCoords() {\n        return 2 * ivec2(resultUV.yx * vec2(${r[0]}, ${r[1]}));\n      }\n    `;const o=Math.ceil(e[1]/2);if(n)return"\n    ivec2 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      int texelsInLogicalRow = int(ceil(float(outShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec2(r, c);\n    }\n  ";return`\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${r[0]}, ${r[1]}));\n\n      int index = resTexRC.x * ${r[1]} + resTexRC.y;\n      int r = 2 * (index / ${o});\n      int c = imod(index, ${o}) * 2;\n\n      return ivec2(r, c);\n    }\n  `}(e,t,n);case 3:return function(e,t,n){if(n)return"\n    ivec3 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      int texelsInLogicalRow = int(ceil(float(outShape[2]) / 2.0));\n      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n\n      int b = index / texelsInBatch;\n      index -= b * texelsInBatch;\n\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec3(b, r, c);\n    }\n  ";const r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],o=Math.ceil(e[2]/2),a=o*Math.ceil(e[1]/2);return`\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${r[0]}, ${r[1]}));\n      int index = resTexRC.x * ${r[1]} + resTexRC.y;\n\n      int b = index / ${a};\n      index -= b * ${a};\n\n      int r = 2 * (index / ${o});\n      int c = imod(index, ${o}) * 2;\n\n      return ivec3(b, r, c);\n    }\n  `}(e,t,n);default:return function(e,t,n){if(n)return"\n    ivec4 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n\n      int texelsInLogicalRow = int(ceil(float(outShape[3]) / 2.0));\n      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[2]) / 2.0));\n      int texelsInBatchN = texelsInBatch * outShape[1];\n\n      int b2 = index / texelsInBatchN;\n      index -= b2 * texelsInBatchN;\n\n      int b = index / texelsInBatch;\n      index -= b * texelsInBatch;\n\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec4(b2, b, r, c);\n    }\n  ";const r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],o=Math.ceil(e[e.length-1]/2),a=o*Math.ceil(e[e.length-2]/2);let i=a,s="",l="b, r, c";for(let u=2;u<e.length-1;u++)i*=e[e.length-u-1],s=`\n      int b${u} = index / ${i};\n      index -= b${u} * ${i};\n    `+s,l=`b${u}, `+l;return`\n    ivec${e.length} getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${r[0]}, ${r[1]}));\n      int index = resTexRC.x * ${r[1]} + resTexRC.y;\n\n      ${s}\n\n      int b = index / ${a};\n      index -= b * ${a};\n\n      int r = 2 * (index / ${o});\n      int c = imod(index, ${o}) * 2;\n\n      return ivec${e.length}(${l});\n    }\n  `}(e,t,n)}}(t.logicalShape,i,n.enableShapeUniforms),c=function(e){return`\n    void setOutput(vec4 val) {\n      ${e.output} = val;\n    }\n  `}(s)):(u=function(e,t,n){switch(e.length){case 0:return tke();case 1:return function(e,t,n){if(1===t[0])return n?"\n      int getOutputCoords() {\n        return int(resultUV.x * float(outTexShape[1]));\n      }\n    ":`\n      int getOutputCoords() {\n        return int(resultUV.x * ${t[1]}.0);\n      }\n    `;if(1===t[1])return n?"\n      int getOutputCoords() {\n        return int(resultUV.y * float(outTexShape[0]));\n      }\n    ":`\n      int getOutputCoords() {\n        return int(resultUV.y * ${t[0]}.0);\n      }\n    `;if(n)return"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(outTexShape[0], outTexShape[1]));\n      return resTexRC.x * outTexShape[1] + resTexRC.y;\n    }\n  ";return`\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${t[0]}, ${t[1]}));\n      return resTexRC.x * ${t[1]} + resTexRC.y;\n    }\n  `}(0,t,n);case 2:return function(e,t,n){if(TJ(e,t))return n?"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2(outTexShape[0], outTexShape[1]));\n      }\n    ":`\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2(${t[0]}, ${t[1]}));\n      }\n    `;if(1===e[1])return n?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(outTexShape[0], outTexShape[1]));\n        int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    ":`\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(${t[0]}, ${t[1]}));\n        int index = resTexRC.x * ${t[1]} + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    `;if(1===e[0])return n?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(outTexShape[0], outTexShape[1]));\n        int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n        return ivec2(0, index);\n      }\n    ":`\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(${t[0]}, ${t[1]}));\n        int index = resTexRC.x * ${t[1]} + resTexRC.y;\n        return ivec2(0, index);\n      }\n    `;if(n)return"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(outTexShape[0], outTexShape[1]));\n      int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n      int r = index / outShape[1];\n      int c = index - r * outShape[1];\n      return ivec2(r, c);\n    }\n  ";return`\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${t[0]}, ${t[1]}));\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n      int r = index / ${e[1]};\n      int c = index - r * ${e[1]};\n      return ivec2(r, c);\n    }\n  `}(e,t,n);case 3:return function(e,t,n){if(n){return`\n  ivec3 getOutputCoords() {\n    ivec2 resTexRC = ivec2(resultUV.yx *\n                           vec2(outTexShape[0], outTexShape[1]));\n    int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n    ${Vwe(["r","c","d"],e)}\n    return ivec3(r, c, d);\n  }\n`}const r=Wwe(["r","c","d"],e);return`\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${t[0]}, ${t[1]}));\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n      ${r}\n      return ivec3(r, c, d);\n    }\n  `}(e,t,n);case 4:return function(e,t,n){if(n){return`\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(outTexShape[0], outTexShape[1]));\n      int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n      ${Vwe(["r","c","d","d2"],e)}\n      return ivec4(r, c, d, d2);\n    }\n  `}const r=Wwe(["r","c","d","d2"],e);return`\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(${t[0]}, ${t[1]}));\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n      ${r}\n      return ivec4(r, c, d, d2);\n    }\n  `}(e,t,n);case 5:return function(e,t){const n=Wwe(["r","c","d","d2","d3"],e);return`\n    ivec5 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx * vec2(${t[0]},\n                             ${t[1]}));\n\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n\n      ${n}\n\n      ivec5 outShape = ivec5(r, c, d, d2, d3);\n      return outShape;\n    }\n  `}(e,t);case 6:return function(e,t){const n=Wwe(["r","c","d","d2","d3","d4"],e);return`\n    ivec6 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(${t[0]}, ${t[1]}));\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n\n      ${n}\n\n      ivec6 result = ivec6(r, c, d, d2, d3, d4);\n      return result;\n    }\n  `}(e,t);default:throw new Error(`${e.length}-D output sampling is not yet supported`)}}(t.logicalShape,i,n.enableShapeUniforms),c=function(e){return`\n    void setOutput(float val) {\n      ${e.output} = vec4(val, 0, 0, 0);\n    }\n  `}(s)),n.packedInputs&&(d+=eke);return[d,l,c,o,u,a,n.userCode].join("\n")}function Xwe(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e.shapeInfo.logicalShape;switch(n.length){case 0:return function(e,t){const n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1);if(e.shapeInfo.isUniform)return`float ${r}() {return ${n};}`;const[o,a]=e.shapeInfo.texShape;if(1===o&&1===a)return`\n      float ${r}() {\n        return sampleTexture(${n}, halfCR);\n      }\n    `;const i=nke(n);if(t)return`\n    float ${r}() {\n      vec2 uv = uvFromFlat(${n}TexShape[0], ${n}TexShape[1], ${i});\n      return sampleTexture(${n}, uv);\n    }\n  `;const[s,l]=e.shapeInfo.texShape;return`\n    float ${r}() {\n      vec2 uv = uvFromFlat(${s}, ${l}, ${i});\n      return sampleTexture(${n}, uv);\n    }\n  `}(e,t);case 1:return function(e,t){const n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1);if(e.shapeInfo.isUniform)return`\n      float ${r}(int index) {\n        ${rke(e)}\n      }\n    `;const o=e.shapeInfo.texShape,a=o[0],i=o[1];if(1===i&&1===a)return`\n      float ${r}(int index) {\n        return sampleTexture(${n}, halfCR);\n      }\n    `;const s=nke(n);if(1===i)return t?`\n      float ${r}(int index) {\n        vec2 uv = vec2(0.5, (float(index + ${s}) + 0.5) / float(${n}TexShape[0]));\n        return sampleTexture(${n}, uv);\n      }\n    `:`\n      float ${r}(int index) {\n        vec2 uv = vec2(0.5, (float(index + ${s}) + 0.5) / ${a}.0);\n        return sampleTexture(${n}, uv);\n      }\n    `;if(1===a)return t?`\n      float ${r}(int index) {\n        vec2 uv = vec2((float(index + ${s}) + 0.5) / float(${n}TexShape[1]), 0.5);\n        return sampleTexture(${n}, uv);\n      }\n    `:`\n      float ${r}(int index) {\n        vec2 uv = vec2((float(index + ${s}) + 0.5) / ${i}.0, 0.5);\n        return sampleTexture(${n}, uv);\n      }\n    `;if(t)return`\n    float ${r}(int index) {\n      vec2 uv = uvFromFlat(${n}TexShape[0], ${n}TexShape[1], index + ${s});\n      return sampleTexture(${n}, uv);\n    }\n  `;return`\n    float ${r}(int index) {\n      vec2 uv = uvFromFlat(${a}, ${i}, index + ${s});\n      return sampleTexture(${n}, uv);\n    }\n  `}(e,t);case 2:return function(e,t){const n=e.shapeInfo.logicalShape,r=e.name,o="get"+r.charAt(0).toUpperCase()+r.slice(1),a=e.shapeInfo.texShape;if(null!=a&&TJ(n,a)){if(t)return`\n      float ${o}(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(${r}TexShape[1], ${r}TexShape[0]);\n        return sampleTexture(${r}, uv);\n      }\n    `;const e=a[0];return`\n    float ${o}(int row, int col) {\n      vec2 uv = (vec2(col, row) + halfCR) / vec2(${a[1]}.0, ${e}.0);\n      return sampleTexture(${r}, uv);\n    }\n  `}const{newShape:i,keptDims:s}=$J(n),l=i;if(l.length<n.length){const n=["row","col"];return`\n      ${Xwe(ike(e,l),t)}\n      float ${o}(int row, int col) {\n        return ${o}(${ske(n,s)});\n      }\n    `}if(e.shapeInfo.isUniform)return`\n      float ${o}(int row, int col) {\n        int index = round(dot(vec2(row, col), vec2(${n[1]}, 1)));\n        ${rke(e)}\n      }\n    `;const u=a[0],c=a[1],d=nke(r);if(1===c)return t?`\n      float ${o}(int row, int col) {\n        float index = dot(vec3(row, col, ${d}), vec3(${r}Shape[1], 1, 1));\n        vec2 uv = vec2(0.5, (index + 0.5) / float(${r}TexShape[0]));\n        return sampleTexture(${r}, uv);\n      }\n    `:`\n    float ${o}(int row, int col) {\n      float index = dot(vec3(row, col, ${d}), vec3(${n[1]}, 1, 1));\n      vec2 uv = vec2(0.5, (index + 0.5) / ${u}.0);\n      return sampleTexture(${r}, uv);\n    }\n  `;if(1===u)return t?`\n      float ${o}(int row, int col) {\n        float index = dot(vec3(row, col, ${d}), vec3(${r}Shape[1], 1, 1));\n        vec2 uv = vec2((index + 0.5) / float(${r}TexShape[1]), 0.5);\n        return sampleTexture(${r}, uv);\n      }\n    `:`\n    float ${o}(int row, int col) {\n      float index = dot(vec3(row, col, ${d}), vec3(${n[1]}, 1, 1));\n      vec2 uv = vec2((index + 0.5) / ${c}.0, 0.5);\n      return sampleTexture(${r}, uv);\n    }\n  `;if(t)return`\n      float ${o}(int row, int col) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * ${r}Shape[1] + col + ${d};\n        vec2 uv = uvFromFlat(${r}TexShape[0], ${r}TexShape[1], index);\n        return sampleTexture(${r}, uv);\n      }\n    `;return`\n  float ${o}(int row, int col) {\n    // Explicitly use integer operations as dot() only works on floats.\n    int index = row * ${n[1]} + col + ${d};\n    vec2 uv = uvFromFlat(${u}, ${c}, index);\n    return sampleTexture(${r}, uv);\n  }\n`}(e,t);case 3:return function(e,t){const n=e.shapeInfo.logicalShape,r=e.name,o="get"+r.charAt(0).toUpperCase()+r.slice(1),a=n[1]*n[2],i=n[2],{newShape:s,keptDims:l}=$J(n),u=s;if(u.length<n.length){const n=["row","col","depth"];return`\n        ${Xwe(ike(e,u),t)}\n        float ${o}(int row, int col, int depth) {\n          return ${o}(${ske(n,l)});\n        }\n      `}if(e.shapeInfo.isUniform)return`\n      float ${o}(int row, int col, int depth) {\n        int index = round(dot(vec3(row, col, depth),\n                          vec3(${a}, ${i}, 1)));\n        ${rke(e)}\n      }\n    `;const c=e.shapeInfo.texShape,d=c[0],p=c[1],h=e.shapeInfo.flatOffset;if(p===a&&null==h)return t?`\n      float ${o}(int row, int col, int depth) {\n        int stride1 = ${r}Shape[2];\n        float texR = float(row);\n        float texC = dot(vec2(col, depth), vec2(stride1, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${r}TexShape[1], ${r}TexShape[0]);\n        return sampleTexture(${r}, uv);\n      }\n    `:`\n        float ${o}(int row, int col, int depth) {\n          float texR = float(row);\n          float texC = dot(vec2(col, depth), vec2(${i}, 1));\n          vec2 uv = (vec2(texC, texR) + halfCR) /\n                     vec2(${p}.0, ${d}.0);\n          return sampleTexture(${r}, uv);\n        }\n      `;if(p===i&&null==h)return t?`\n      float ${o}(int row, int col, int depth) {\n        float texR = dot(vec2(row, col), vec2(${r}Shape[1], 1));\n        float texC = float(depth);\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${r}TexShape[1], ${r}TexShape[0]);\n        return sampleTexture(${r}, uv);\n      }\n    `:`\n    float ${o}(int row, int col, int depth) {\n      float texR = dot(vec2(row, col), vec2(${n[1]}, 1));\n      float texC = float(depth);\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${p}.0, ${d}.0);\n      return sampleTexture(${r}, uv);\n    }\n  `;const f=nke(r);if(t)return`\n    float ${o}(int row, int col, int depth) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int stride0 = ${r}Shape[1] * ${r}Shape[2];\n      int stride1 = ${r}Shape[2];\n      int index = row * stride0 + col * stride1 + depth + ${f};\n      vec2 uv = uvFromFlat(${r}TexShape[0], ${r}TexShape[1], index);\n      return sampleTexture(${r}, uv);\n    }\n    `;return`\n      float ${o}(int row, int col, int depth) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * ${a} + col * ${i} + depth + ${f};\n        vec2 uv = uvFromFlat(${d}, ${p}, index);\n        return sampleTexture(${r}, uv);\n      }\n  `}(e,t);case 4:return function(e,t){const n=e.shapeInfo.logicalShape,r=e.name,o="get"+r.charAt(0).toUpperCase()+r.slice(1),a=n[3],i=n[2]*a,s=n[1]*i,{newShape:l,keptDims:u}=$J(n);if(l.length<n.length){const n=["row","col","depth","depth2"];return`\n      ${Xwe(ike(e,l),t)}\n      float ${o}(int row, int col, int depth, int depth2) {\n        return ${o}(${ske(n,u)});\n      }\n    `}if(e.shapeInfo.isUniform)return`\n      float ${o}(int row, int col, int depth, int depth2) {\n        int index = round(dot(vec4(row, col, depth, depth2),\n                          vec4(${s}, ${i}, ${a}, 1)));\n        ${rke(e)}\n      }\n    `;const c=e.shapeInfo.flatOffset,d=e.shapeInfo.texShape,p=d[0],h=d[1],f=`int stride2 = ${r}Shape[3];`,m=`int stride1 = ${r}Shape[2] * stride2;`,g=`int stride0 = ${r}Shape[1] * stride1;`;if(h===s&&null==c)return t?`\n      float ${o}(int row, int col, int depth, int depth2) {\n        ${f}\n        ${m}\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3(stride1, stride2, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${r}TexShape[1], ${r}TexShape[0]);\n        return sampleTexture(${r}, uv);\n      }\n    `:`\n      float ${o}(int row, int col, int depth, int depth2) {\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3(${i}, ${a}, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${h}.0, ${p}.0);\n        return sampleTexture(${r}, uv);\n      }\n    `;if(h===a&&null==c)return t?`\n      float ${o}(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3(${r}Shape[1] * ${r}Shape[2], ${r}Shape[2], 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(${r}TexShape[1], ${r}TexShape[0]);\n        return sampleTexture(${r}, uv);\n      }\n    `:`\n      float ${o}(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3(${n[1]*n[2]}, ${n[2]}, 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(${h}.0, ${p}.0);\n        return sampleTexture(${r}, uv);\n      }\n    `;const y=nke(r);if(t)return`\n    float ${o}(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      ${f}\n      ${m}\n      ${g}\n      int index = row * stride0 + col * stride1 +\n          depth * stride2 + depth2;\n      vec2 uv = uvFromFlat(${r}TexShape[0], ${r}TexShape[1], index + ${y});\n      return sampleTexture(${r}, uv);\n    }\n  `;return`\n    float ${o}(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ${s} + col * ${i} +\n          depth * ${a} + depth2;\n      vec2 uv = uvFromFlat(${p}, ${h}, index + ${y});\n      return sampleTexture(${r}, uv);\n    }\n  `}(e,t);case 5:return function(e){const t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),o=t[4],a=t[3]*o,i=t[2]*a,s=t[1]*i,{newShape:l,keptDims:u}=$J(t);if(l.length<t.length){const t=["row","col","depth","depth2","depth3"];return`\n      ${Xwe(ike(e,l))}\n      float ${r}(int row, int col, int depth, int depth2, int depth3) {\n        return ${r}(${ske(t,u)});\n      }\n    `}if(e.shapeInfo.isUniform)return`\n      float ${r}(int row, int col, int depth, int depth2, int depth3) {\n        float index = dot(\n          vec4(row, col, depth, depth2),\n          vec4(${s}, ${i}, ${a}, ${o})) +\n          depth3;\n        ${rke(e)}\n      }\n    `;const c=e.shapeInfo.flatOffset,d=e.shapeInfo.texShape,p=d[0],h=d[1];if(h===s&&null==c)return`\n      float ${r}(int row, int col, int depth, int depth2, int depth3) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n                         vec4(${i}, ${a}, ${o}, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${h}.0, ${p}.0);\n        return sampleTexture(${n}, uv);\n      }\n    `;if(h===o&&null==c)return`\n      float ${r}(int row, int col, int depth, int depth2, int depth3) {\n        float texR = dot(\n          vec4(row, col, depth, depth2),\n          vec4(${t[1]*t[2]*t[3]},\n               ${t[2]*t[3]}, ${t[3]}, 1));\n        int texC = depth3;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(${h}.0, ${p}.0);\n        return sampleTexture(${n}, uv);\n      }\n    `;const f=nke(n);return`\n    float ${r}(int row, int col, int depth, int depth2, int depth3) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ${s} + col * ${i} + depth * ${a} +\n          depth2 * ${o} + depth3 + ${f};\n      vec2 uv = uvFromFlat(${p}, ${h}, index);\n      return sampleTexture(${n}, uv);\n    }\n  `}(e);case 6:return function(e){const t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),{newShape:o,keptDims:a}=$J(t);if(o.length<t.length){const t=["row","col","depth","depth2","depth3","depth4"];return`\n      ${Xwe(ike(e,o))}\n      float ${r}(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        return ${r}(${ske(t,a)});\n      }\n    `}const i=t[5],s=t[4]*i,l=t[3]*s,u=t[2]*l,c=t[1]*u;if(e.shapeInfo.isUniform)return`\n      float ${r}(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n        int index = round(dot(\n          vec4(row, col, depth, depth2),\n          vec4(${c}, ${u}, ${l}, ${s})) +\n          dot(\n            vec2(depth3, depth4),\n            vec2(${i}, 1)));\n        ${rke(e)}\n      }\n    `;const d=e.shapeInfo.flatOffset,p=e.shapeInfo.texShape,h=p[0],f=p[1];if(f===c&&null==d)return`\n      float ${r}(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n          vec4(${u}, ${l}, ${s}, ${i})) +\n               float(depth4);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${f}.0, ${h}.0);\n        return sampleTexture(${n}, uv);\n      }\n    `;if(f===i&&null==d)return`\n      float ${r}(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        float texR = dot(vec4(row, col, depth, depth2),\n          vec4(${t[1]*t[2]*t[3]*t[4]},\n               ${t[2]*t[3]*t[4]},\n               ${t[3]*t[4]},\n               ${t[4]})) + float(depth3);\n        int texC = depth4;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(${f}.0, ${h}.0);\n        return sampleTexture(${n}, uv);\n      }\n    `;const m=nke(n);return`\n    float ${r}(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ${c} + col * ${u} + depth * ${l} +\n          depth2 * ${s} + depth3 * ${i} + depth4 + ${m};\n      vec2 uv = uvFromFlat(${h}, ${f}, index);\n      return sampleTexture(${n}, uv);\n    }\n  `}(e);default:throw new Error(`${n.length}-D input sampling is not yet supported`)}}function Ywe(e,t){switch(e.shapeInfo.logicalShape.length){case 0:return function(e){const t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1),r=Bwe();return`\n    vec4 ${n}() {\n      return ${r.texture2D}(${t}, halfCR);\n    }\n  `}(e);case 1:return function(e,t){const n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),o=e.shapeInfo.texShape,a=Bwe();if(t)return`\n    vec4 ${r}(int index) {\n      ivec2 packedTexShape = ivec2(ceil(float(${n}TexShape[0]) / 2.0), ceil(float(${n}TexShape[1]) / 2.0));\n      vec2 uv = packedUVfrom1D(\n        packedTexShape[0], packedTexShape[1], index);\n      return ${a.texture2D}(${n}, uv);\n    }\n  `;const i=[Math.ceil(o[0]/2),Math.ceil(o[1]/2)];return`\n    vec4 ${r}(int index) {\n      vec2 uv = packedUVfrom1D(\n        ${i[0]}, ${i[1]}, index);\n      return ${a.texture2D}(${n}, uv);\n    }\n  `}(e,t);case 2:return function(e,t){const n=e.shapeInfo.logicalShape,r=e.name,o="get"+r.charAt(0).toUpperCase()+r.slice(1),a=e.shapeInfo.texShape,i=a[0],s=a[1],l=Bwe();if(null!=a&&TJ(n,a))return t?`\n      vec4 ${o}(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(${r}TexShape[1], ${r}TexShape[0]);\n\n        return ${l.texture2D}(${r}, uv);\n      }\n    `:`\n      vec4 ${o}(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(${s}.0, ${i}.0);\n\n        return ${l.texture2D}(${r}, uv);\n      }\n    `;if(t)return`\n    vec4 ${o}(int row, int col) {\n      ivec2 packedTexShape = ivec2(ceil(float(${r}TexShape[0]) / 2.0), ceil(float(${r}TexShape[1]) / 2.0));\n      int valuesPerRow = int(ceil(float(${r}Shape[1]) / 2.0));\n      vec2 uv = packedUVfrom2D(valuesPerRow, packedTexShape[0], packedTexShape[1], row, col);\n      return ${l.texture2D}(${r}, uv);\n    }\n  `;const u=[Math.ceil(a[0]/2),Math.ceil(a[1]/2)],c=Math.ceil(n[1]/2);return`\n    vec4 ${o}(int row, int col) {\n      vec2 uv = packedUVfrom2D(${c}, ${u[0]}, ${u[1]}, row, col);\n      return ${l.texture2D}(${r}, uv);\n    }\n  `}(e,t);case 3:return function(e,t){const n=e.shapeInfo.logicalShape,r=e.name,o="get"+r.charAt(0).toUpperCase()+r.slice(1),a=e.shapeInfo.texShape,i=[Math.ceil(a[0]/2),Math.ceil(a[1]/2)];if(1===n[0]){const r=[1,2],a=["b","row","col"];return`\n        ${Ywe(ike(e,n.slice(1)),t)}\n        vec4 ${o}(int b, int row, int col) {\n          return ${o}(${ske(a,r)});\n        }\n      `}const s=Bwe();if(t)return`\n    vec4 ${o}(int b, int row, int col) {\n      ivec2 packedTexShape = ivec2(ceil(float(${r}TexShape[0]) / 2.0), ceil(float(${r}TexShape[1]) / 2.0));\n      int valuesPerRow = int(ceil(float(${r}Shape[2]) / 2.0));\n      int texelsInBatch = valuesPerRow * int(ceil(float(${r}Shape[1]) / 2.0));\n      vec2 uv = packedUVfrom3D(\n        packedTexShape[0], packedTexShape[1], texelsInBatch, valuesPerRow, b, row, col);\n      return ${s.texture2D}(${r}, uv);\n    }\n  `;const l=i[0],u=i[1],c=Math.ceil(n[2]/2),d=c*Math.ceil(n[1]/2);return`\n    vec4 ${o}(int b, int row, int col) {\n      vec2 uv = packedUVfrom3D(\n        ${l}, ${u}, ${d}, ${c}, b, row, col);\n      return ${s.texture2D}(${r}, uv);\n    }\n  `}(e,t);default:return function(e,t){const n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),o=Bwe();if(t)return`\n    vec4 ${r}(int b2, int b, int row, int col) {\n      int valuesPerRow = int(ceil(float(${n}Shape[3]) / 2.0));\n      int texelsInBatch = valuesPerRow * int(ceil(float(${n}Shape[2]) / 2.0));\n      int index = b * texelsInBatch + (row / 2) * valuesPerRow + (col / 2);\n      texelsInBatch *= ${n}Shape[1];\n      index = b2 * texelsInBatch + index;\n      ivec2 packedTexShape = ivec2(ceil(float(${n}TexShape[0]) / 2.0), ceil(float(${n}TexShape[1]) / 2.0));\n      int texR = index / packedTexShape[1];\n      int texC = index - texR * packedTexShape[1];\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(packedTexShape[1], packedTexShape[0]); return ${o.texture2D}(${n}, uv);\n    }\n  `;const a=e.shapeInfo.logicalShape,i=a.length,s=e.shapeInfo.texShape,l=[Math.ceil(s[0]/2),Math.ceil(s[1]/2)],u=l[0],c=l[1],d=Math.ceil(a[i-1]/2);let p=d*Math.ceil(a[i-2]/2),h="int b, int row, int col",f=`b * ${p} + (row / 2) * ${d} + (col / 2)`;for(let m=2;m<i-1;m++)h=`int b${m}, `+h,p*=a[i-m-1],f=`b${m} * ${p} + `+f;return`\n    vec4 ${r}(${h}) {\n      int index = ${f};\n      int texR = index / ${c};\n      int texC = index - texR * ${c};\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${c}, ${u});\n      return ${o.texture2D}(${n}, uv);\n    }\n  `}(e,t)}}const Qwe="\nvec2 uvFromFlat(int texNumR, int texNumC, int index) {\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\nvec2 packedUVfrom1D(int texNumR, int texNumC, int index) {\n  int texelIndex = index / 2;\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",Zwe="\nvec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,\n  int texNumC, int row, int col) {\n  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",Jwe="\nvec2 packedUVfrom3D(int texNumR, int texNumC,\n    int texelsInBatch, int texelsInLogicalRow, int b,\n    int row, int col) {\n  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",eke="\n  float getChannel(vec4 frag, vec2 innerDims) {\n    vec2 modCoord = mod(innerDims, 2.);\n    return modCoord.x == 0. ?\n      (modCoord.y == 0. ? frag.r : frag.g) :\n      (modCoord.y == 0. ? frag.b : frag.a);\n  }\n  float getChannel(vec4 frag, int dim) {\n    float modCoord = mod(float(dim), 2.);\n    return modCoord == 0. ? frag.r : frag.g;\n  }\n";function tke(){return"\n    int getOutputCoords() {\n      return 0;\n    }\n  "}function nke(e){return`offset${e}`}function rke(e){const t=e.name,n=SJ(e.shapeInfo.logicalShape);return n<2?`return ${t};`:`\n    for (int i = 0; i < ${n}; i++) {\n      if (i == index) {\n        return ${t}[i];\n      }\n    }\n  `}function oke(e){if(e<=1)return"int";if(2===e)return"ivec2";if(3===e)return"ivec3";if(4===e)return"ivec4";if(5===e)return"ivec5";if(6===e)return"ivec6";throw Error(`GPU for rank ${e} is not yet supported`)}function ake(e,t,n){const{newShape:r,keptDims:o}=$J(t),a=t.length,i=e&&3===a&&1===t[0],s=i?t.slice(1):r,l=!e&&a>1&&!TJ(t,n)&&r.length<a||i;return{useSqueezeShape:l,uniformShape:l?s:t,keptDims:o}}function ike(e,t){const n=JSON.parse(JSON.stringify(e));return n.shapeInfo.logicalShape=t,n}function ske(e,t){return t.map((t=>e[t])).join(", ")}function lke(e,t,n,r){const o=n.map(((e,n)=>{const r={logicalShape:e.shape,texShape:e.isUniform?null:e.texData.texShape,isUniform:e.isUniform,isPacked:!e.isUniform&&e.texData.isPacked,flatOffset:null};return null!=e.texData&&null!=e.texData.slice&&e.texData.slice.flatOffset>0&&(r.flatOffset=e.texData.slice.flatOffset),{name:t.variableNames[n],shapeInfo:r}})),a=o.map((e=>e.shapeInfo)),i={logicalShape:r.shape,texShape:r.texData.texShape,isUniform:!1,isPacked:r.texData.isPacked,flatOffset:null},s=Kwe(o,i,t),l=function(e,t){const n=Twe(e,(()=>e.createShader(e.FRAGMENT_SHADER)),"Unable to create fragment WebGLShader.");if(mwe(e,(()=>e.shaderSource(n,t))),mwe(e,(()=>e.compileShader(n))),u0().get("ENGINE_COMPILE_ONLY"))return n;if(!1===e.getShaderParameter(n,e.COMPILE_STATUS))throw bwe(t,e.getShaderInfoLog(n)),new Error("Failed to compile fragment shader.");return n}(e.gl,s),u=e.createProgram(l);return u0().get("ENGINE_COMPILE_ONLY")?{program:t,fragmentShader:l,source:s,webGLProgram:u,inShapeInfos:a,outShapeInfo:i,variablesLocations:null,customUniformLocations:null,infLoc:null,nanLoc:null,outShapeLocation:null,outShapeStridesLocation:null,outTexShapeLocation:null}:(e.buildVao(u),Object.assign({program:t,fragmentShader:l,source:s,webGLProgram:u,inShapeInfos:a,outShapeInfo:i},uke(e,t,u)))}function uke(e,t,n){const r=[],o=[];let a,i,s,l=null,u=null;u=e.getUniformLocation(n,"NAN",!1),1===u0().getNumber("WEBGL_VERSION")&&(l=e.getUniformLocation(n,"INFINITY",!1));const c=!1;for(const d of t.variableNames){const o={name:d,uniform:e.getUniformLocation(n,d,c),offset:e.getUniformLocation(n,`offset${d}`,c)};t.enableShapeUniforms&&(o.shape=e.getUniformLocation(n,`${d}Shape`,c),o.texShape=e.getUniformLocation(n,`${d}TexShape`,c)),r.push(o)}if(t.enableShapeUniforms&&(a=e.getUniformLocation(n,"outShape",c),s=e.getUniformLocation(n,"outShapeStrides",c),i=e.getUniformLocation(n,"outTexShape",c)),t.customUniforms)for(const d of t.customUniforms)o.push(e.getUniformLocation(n,d.name,c));return{variablesLocations:r,customUniformLocations:o,infLoc:l,nanLoc:u,outShapeLocation:a,outShapeStridesLocation:s,outTexShapeLocation:i}}function cke(e,t){if(e.length!==t.length)throw Error(`Binary was compiled with ${e.length} inputs, but was executed with ${t.length} inputs`);e.forEach(((e,n)=>{const r=e.logicalShape,o=t[n],a=o.shape;if(!TJ(r,a))throw Error(`Binary was compiled with different shapes than the current args. Shapes ${r} and ${a} must match`);if(e.isUniform&&o.isUniform)return;const i=e.texShape,s=o.isUniform?null:o.texData.texShape;if(!TJ(i,s))throw Error(`Binary was compiled with different texture shapes than the current args. Shape ${i} and ${s} must match`)}))}function dke(e){return u0().getBool("WEBGL_USE_SHAPES_UNIFORMS")&&e<=4}class pke{constructor(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=awe.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const t=Bwe();this.outputShape=e,this.enableShapeUniforms=dke(this.outputShape.length),this.userCode=`\n      ivec3 outCoordsFromFlatIndex(int index) {\n        ${this.enableShapeUniforms?Vwe(["r","c","d"],e):Wwe(["r","c","d"],e)}\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));\n        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getA(rc.x, rc.y, rc.z);\n        }\n\n        ${t.output} = result;\n      }\n    `}}class hke{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=awe.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const t=Bwe();this.outputShape=e,this.enableShapeUniforms=dke(this.outputShape.length),this.userCode=`\n      ivec3 outCoordsFromFlatIndex(int index) {\n        ${this.enableShapeUniforms?Vwe(["r","c","d"],e):Wwe(["r","c","d"],e)}\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));\n        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));\n        }\n\n        ${t.output} = result;\n      }\n    `}}class fke{constructor(e){this.variableNames=["A"],this.outTexUsage=swe.DOWNLOAD;const t=Bwe();this.outputShape=e,this.userCode=`\n      ${Gwe}\n\n      void main() {\n        float x = getAAtOutCoords();\n        ${t.output} = encode_float(x);\n      }\n    `}}class mke{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=swe.DOWNLOAD;const t=Bwe();this.outputShape=e,this.userCode=`\n      ${Gwe}\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));\n        ${t.output} = encode_float(x);\n      }\n    `}}const gke={R:0,G:1,B:2,A:3};class yke{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"RGBA";this.variableNames=["A"],this.customUniforms=[{name:"texShape",type:"ivec2"}];const r=Bwe();this.outputShape=e,this.enableShapeUniforms=dke(this.outputShape.length);let o="result";t&&(o="floor(result * 255. + 0.5)");let a="";for(let i=0;i<n.length;i++){const e=n[i];a+=`\n          if(offset == ${i}) {\n            result = values[${gke[e]}];\n          }`}this.userCode=`\n      ${this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":Hwe(e)}\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int flatIndex = getFlatIndex(coords);\n        float result = 0.;\n        int offset = imod(flatIndex, ${n.length});\n\n        flatIndex = idiv(flatIndex, ${n.length}, 1.);\n\n        int r = flatIndex / texShape[1];\n        if (r < texShape[0]) {\n          int c = imod(flatIndex, texShape[1]);\n          vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);\n          vec4 values = ${r.texture2D}(A, uv);\n          ${a}\n        }\n        ${r.output} = vec4(${o}, 0., 0., 0.);\n      }\n    `}}class vke{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.customUniforms=[{name:"texShape",type:"ivec2"}];const n=Bwe();this.outputShape=e,this.enableShapeUniforms=dke(this.outputShape.length);let r="",o="result";t&&(o="floor(result * 255. + 0.5)");for(let a=0;a<=1;a++)for(let t=0;t<=1;t++){const o=2*a+t;r+=`\n          localCoords = coords;\n          if(localCoords[2] + ${t} < ${this.enableShapeUniforms?"outShape[2]":`${e[2]}`}) {\n          localCoords[2] += ${t};\n          if (localCoords[1] + ${a} < ${this.enableShapeUniforms?"outShape[1]":`${e[1]}`}) {\n            localCoords[1] += ${a};\n\n            flatIndex = getFlatIndex(localCoords);\n            offset = imod(flatIndex, 4);\n\n            flatIndex = idiv(flatIndex, 4, 1.);\n\n            int r = flatIndex / texShape[1];\n            int c = imod(flatIndex, texShape[1]);\n            vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);\n            values = ${n.texture2D}(A, uv);\n\n            if (offset == 0) {\n              result[${o}] = values[0];\n            } else if (offset == 1) {\n              result[${o}] = values[1];\n            } else if (offset == 2) {\n              result[${o}] = values[2];\n            } else {\n              result[${o}] = values[3];\n            }\n          }\n        }\n        `}this.userCode=`\n        ${this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":Hwe(e)}\n\n        void main() {\n          ivec3 coords = getOutputCoords();\n\n          vec4 result = vec4(0.);\n          int flatIndex, r, c, offset;\n          ivec3 localCoords;\n          vec2 uv;\n          vec4 values;\n\n          ${r}\n\n          ${n.output} = ${o};\n        }\n    `}}function bke(e){const t=Bwe();return function(e,t){const n=Twe(e,(()=>e.createShader(e.VERTEX_SHADER)),"Unable to create vertex WebGLShader.");if(mwe(e,(()=>e.shaderSource(n,t))),mwe(e,(()=>e.compileShader(n))),!1===e.getShaderParameter(n,e.COMPILE_STATUS))throw console.log(e.getShaderInfoLog(n)),new Error("Failed to compile vertex shader.");return n}(e,`${t.version}\n    precision highp float;\n    ${t.attribute} vec3 clipSpacePos;\n    ${t.attribute} vec2 uv;\n    ${t.varyingVs} vec2 resultUV;\n\n    void main() {\n      gl_Position = vec4(clipSpacePos, 1);\n      resultUV = uv;\n    }`)}function xke(e){return function(e,t){const n=Twe(e,(()=>e.createBuffer()),"Unable to create WebGLBuffer");return mwe(e,(()=>e.bindBuffer(e.ARRAY_BUFFER,n))),mwe(e,(()=>e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW))),n}(e,new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]))}function wke(e){return function(e,t){const n=Twe(e,(()=>e.createBuffer()),"Unable to create WebGLBuffer");return mwe(e,(()=>e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,n))),mwe(e,(()=>e.bufferData(e.ELEMENT_ARRAY_BUFFER,t,e.STATIC_DRAW))),n}(e,new Uint16Array([0,1,2,2,1,3]))}function kke(e,t,n,r,o,a){!function(e,t){const n=u0().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(e<=0||t<=0)throw new Error(`Requested texture size [${e}x${t}] is invalid.`);if(e>n||t>n)throw new Error(`Requested texture size [${e}x${t}] greater than WebGL maximum on this browser / GPU [${n}x${n}].`)}(t,n);const i=function(e){return Twe(e,(()=>e.createTexture()),"Unable to create WebGLTexture.")}(e),s=e.TEXTURE_2D;return mwe(e,(()=>e.bindTexture(s,i))),mwe(e,(()=>e.texParameteri(s,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE))),mwe(e,(()=>e.texParameteri(s,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE))),mwe(e,(()=>e.texParameteri(s,e.TEXTURE_MIN_FILTER,e.NEAREST))),mwe(e,(()=>e.texParameteri(s,e.TEXTURE_MAG_FILTER,e.NEAREST))),1===u0().getNumber("WEBGL_VERSION")?mwe(e,(()=>e.texImage2D(s,0,r,t,n,0,o,a,null))):mwe(e,(()=>e.texStorage2D(s,1,r,t,n))),mwe(e,(()=>e.bindTexture(e.TEXTURE_2D,null))),{texture:i,texShape:[n,t]}}function Ske(e){return e.internalFormatFloat}function Ake(e){return e.internalFormatHalfFloat}function Cke(e){return e.downloadTextureFormat}function Tke(e){return e.internalFormatPackedFloat}function Ike(e){return e.internalFormatPackedHalfFloat}function Eke(e,t,n,r,o,a,i,s){const l=e,u=new Float32Array(function(e,t){const[n,r]=hwe(e,t);return n*r*4}(a,i));return l.bindBuffer(l.PIXEL_PACK_BUFFER,t),l.getBufferSubData(l.PIXEL_PACK_BUFFER,0,u),l.bindBuffer(l.PIXEL_PACK_BUFFER,null),u}class Nke{constructor(e){this.outputTexture=null,this.program=null,this.disposed=!1,this.itemsToPoll=[];const t=u0().getNumber("WEBGL_VERSION");if(null!=e?(this.gl=e,function(e,t){nwe[e]=t}(t,e)):this.gl=owe(t),e=this.gl,2===u0().getNumber("WEBGL_VERSION")){const t=e;this.createVertexArray=()=>mwe(t,(()=>t.createVertexArray())),this.bindVertexArray=e=>mwe(t,(()=>t.bindVertexArray(e))),this.deleteVertexArray=e=>mwe(t,(()=>t.deleteVertexArray(e))),this.getVertexArray=()=>mwe(t,(()=>t.getParameter(t.VERTEX_ARRAY_BINDING)))}else if(null!=e){const t=e.getExtension("OES_vertex_array_object");if(null==t)throw new Error("All WebGL1 implementations are expected to offer OES_vertex_array_object.");this.createVertexArray=()=>mwe(e,(()=>t.createVertexArrayOES())),this.bindVertexArray=n=>mwe(e,(()=>t.bindVertexArrayOES(n))),this.deleteVertexArray=n=>mwe(e,(()=>t.deleteVertexArrayOES(n))),this.getVertexArray=()=>mwe(e,(()=>e.getParameter(t.VERTEX_ARRAY_BINDING_OES)))}let n="WEBGL_color_buffer_float";const r="EXT_color_buffer_half_float";if(this.parallelCompilationExtension=this.gl.getExtension("KHR_parallel_shader_compile"),1===u0().getNumber("WEBGL_VERSION")){const e="OES_texture_float",t="OES_texture_half_float";if(this.textureFloatExtension=ywe(this.gl,e),$we(this.gl,t))this.textureHalfFloatExtension=ywe(this.gl,t);else if(u0().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(n),$we(this.gl,r))this.colorBufferHalfFloatExtension=ywe(this.gl,r);else if(u0().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(n="EXT_color_buffer_float",$we(this.gl,n))this.colorBufferFloatExtension=this.gl.getExtension(n);else{if(!$we(this.gl,r))throw new Error("GL context does not support color renderable floats");this.colorBufferHalfFloatExtension=this.gl.getExtension(r)}this.vertexBuffer=xke(this.gl),this.indexBuffer=wke(this.gl),this.framebuffer=function(e){return Twe(e,(()=>e.createFramebuffer()),"Unable to create WebGLFramebuffer.")}(this.gl),this.textureConfig=fwe(this.gl,this.textureHalfFloatExtension)}get debug(){return u0().getBool("DEBUG")}dispose(){if(this.disposed)return;null!=this.program&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),null!=this.outputTexture&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");const e=this.gl;mwe(e,(()=>e.finish())),mwe(e,(()=>e.bindFramebuffer(e.FRAMEBUFFER,null))),mwe(e,(()=>e.deleteFramebuffer(this.framebuffer))),mwe(e,(()=>e.bindBuffer(e.ARRAY_BUFFER,null))),mwe(e,(()=>e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null))),mwe(e,(()=>e.deleteBuffer(this.indexBuffer))),this.disposed=!0}createFloat32MatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,n,r){const[o,a]=dwe(t,n);return kke(e,o,a,Ske(r),r.textureFormatFloat,e.FLOAT)}(this.gl,e,t,this.textureConfig)}createFloat16MatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,n,r){const[o,a]=dwe(t,n);return kke(e,o,a,Ake(r),r.textureFormatFloat,r.textureTypeHalfFloat)}(this.gl,e,t,this.textureConfig)}createUnsignedBytesMatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,n,r){const[o,a]=dwe(t,n);return kke(e,o,a,Cke(r),e.RGBA,e.UNSIGNED_BYTE)}(this.gl,e,t,this.textureConfig)}uploadPixelDataToTexture(e,t){this.throwIfDisposed(),function(e,t,n){mwe(e,(()=>e.bindTexture(e.TEXTURE_2D,t))),n.data instanceof Uint8Array?2===u0().getNumber("WEBGL_VERSION")?mwe(e,(()=>e.texSubImage2D(e.TEXTURE_2D,0,0,0,n.width,n.height,e.RGBA,e.UNSIGNED_BYTE,n.data))):mwe(e,(()=>e.texImage2D(e.TEXTURE_2D,0,e.RGBA,n.width,n.height,0,e.RGBA,e.UNSIGNED_BYTE,n.data))):2===u0().getNumber("WEBGL_VERSION")?mwe(e,(()=>e.texSubImage2D(e.TEXTURE_2D,0,0,0,e.RGBA,e.UNSIGNED_BYTE,n))):mwe(e,(()=>e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n))),mwe(e,(()=>e.bindTexture(e.TEXTURE_2D,null)))}(this.gl,e,t)}uploadDenseMatrixToTexture(e,t,n,r){this.throwIfDisposed(),function(e,t,n,r,o,a){let i,s,l;mwe(e,(()=>e.bindTexture(e.TEXTURE_2D,t))),o instanceof Uint8Array?(i=new Uint8Array(n*r*4),s=e.UNSIGNED_BYTE,l=e.RGBA):(i=new Float32Array(n*r*4),s=e.FLOAT,l=a.internalFormatPackedFloat),i.set(o),2===u0().getNumber("WEBGL_VERSION")?mwe(e,(()=>e.texSubImage2D(e.TEXTURE_2D,0,0,0,n,r,e.RGBA,s,i))):mwe(e,(()=>e.texImage2D(e.TEXTURE_2D,0,l,n,r,0,e.RGBA,s,i))),mwe(e,(()=>e.bindTexture(e.TEXTURE_2D,null)))}(this.gl,e,t,n,r,this.textureConfig)}createFloat16PackedMatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,n,r){const[o,a]=hwe(t,n);return kke(e,o,a,Ike(r),e.RGBA,r.textureTypeHalfFloat)}(this.gl,e,t,this.textureConfig)}createPackedMatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,n,r){const[o,a]=hwe(t,n);return kke(e,o,a,Tke(r),e.RGBA,e.FLOAT)}(this.gl,e,t,this.textureConfig)}deleteMatrixTexture(e){this.throwIfDisposed(),this.outputTexture===e&&(Awe(this.gl,this.framebuffer),this.outputTexture=null),mwe(this.gl,(()=>this.gl.deleteTexture(e)))}downloadByteEncodedFloatMatrixFromOutputTexture(e,t,n){return this.downloadMatrixDriver(e,(()=>function(e,t,n,r){const[o,a]=dwe(t,n),i=new Uint8Array(t*n*4);return mwe(e,(()=>e.readPixels(0,0,o,a,r.downloadTextureFormat,e.UNSIGNED_BYTE,i))),new Float32Array(i.buffer)}(this.gl,t,n,this.textureConfig)))}downloadPackedMatrixFromBuffer(e,t,n,r,o,a){return Eke(this.gl,e,0,0,0,o,a,this.textureConfig)}downloadFloat32MatrixFromBuffer(e,t){return function(e,t,n){const r=e,o=new Float32Array(n);return r.bindBuffer(r.PIXEL_PACK_BUFFER,t),r.getBufferSubData(r.PIXEL_PACK_BUFFER,0,o),r.bindBuffer(r.PIXEL_PACK_BUFFER,null),o}(this.gl,e,t)}createBufferFromTexture(e,t,n){this.bindTextureToFrameBuffer(e);const r=function(e,t,n){const r=e.createBuffer();mwe(e,(()=>e.bindBuffer(e.PIXEL_PACK_BUFFER,r)));const o=16*t*n;return mwe(e,(()=>e.bufferData(e.PIXEL_PACK_BUFFER,o,e.STREAM_READ))),mwe(e,(()=>e.readPixels(0,0,n,t,e.RGBA,e.FLOAT,0))),mwe(e,(()=>e.bindBuffer(e.PIXEL_PACK_BUFFER,null))),r}(this.gl,t,n,this.textureConfig);return this.unbindTextureToFrameBuffer(),r}createAndWaitForFence(){const e=this.createFence(this.gl);return this.pollFence(e)}createFence(e){let t,n;if(u0().getBool("WEBGL_FENCE_API_ENABLED")){const r=e,o=r.fenceSync(r.SYNC_GPU_COMMANDS_COMPLETE,0);e.flush(),n=()=>{const e=r.clientWaitSync(o,0,0);return e===r.ALREADY_SIGNALED||e===r.CONDITION_SATISFIED},t=o}else u0().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(t=this.beginQuery(),this.endQuery(),n=()=>this.isQueryAvailable(t,u0().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))):n=()=>!0;return{query:t,isFencePassed:n}}downloadMatrixFromPackedTexture(e,t,n){return this.downloadMatrixDriver(e,(()=>function(e,t,n){const r=new Float32Array(t*n*4);return mwe(e,(()=>e.readPixels(0,0,n,t,e.RGBA,e.FLOAT,r))),r}(this.gl,t,n)))}createProgram(e){this.throwIfDisposed();const t=this.gl;null==this.vertexShader&&(this.vertexShader=bke(t));const n=function(e){return Twe(e,(()=>e.createProgram()),"Unable to create WebGLProgram.")}(t);mwe(t,(()=>t.attachShader(n,this.vertexShader))),mwe(t,(()=>t.attachShader(n,e))),function(e,t){if(mwe(e,(()=>e.linkProgram(t))),!u0().get("ENGINE_COMPILE_ONLY")&&!1===e.getProgramParameter(t,e.LINK_STATUS))throw console.log(e.getProgramInfoLog(t)),new Error("Failed to link vertex and fragment shaders.")}(t,n);const r=Object.assign(n,{vao:this.createVertexArray()});return this.debug&&xwe(t,r),r}buildVao(e){this.setProgram(e),this.bindVertexArray(e.vao);const t=this.gl;mwe(t,(()=>t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer))),function(e,t,n){mwe(e,(()=>e.bindBuffer(e.ARRAY_BUFFER,n))),wwe(e,t,"clipSpacePos",n,3,20,0)&&wwe(e,t,"uv",n,2,20,12)}(t,e,this.vertexBuffer)}deleteProgram(e){this.throwIfDisposed(),e===this.program&&(this.program=null),null!=e&&(mwe(this.gl,(()=>this.gl.deleteProgram(e))),this.deleteVertexArray(e.vao))}setProgram(e){this.throwIfDisposed(),this.program=e,null!=this.program&&this.debug&&xwe(this.gl,this.program),mwe(this.gl,(()=>this.gl.useProgram(e)))}getUniformLocation(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.throwIfDisposed(),n?function(e,t,n){return Twe(e,(()=>e.getUniformLocation(t,n)),'uniform "'+n+'" not present in program.')}(this.gl,e,t):function(e,t,n){return e.getUniformLocation(t,n)}(this.gl,e,t)}getAttributeLocation(e,t){return this.throwIfDisposed(),mwe(this.gl,(()=>this.gl.getAttribLocation(e,t)))}getUniformLocationNoThrow(e,t){return this.throwIfDisposed(),this.gl.getUniformLocation(e,t)}setInputMatrixTexture(e,t,n){this.throwIfDisposed(),this.throwIfNoProgram(),kwe(this.gl,e,t,n)}setOutputMatrixTexture(e,t,n){this.setOutputMatrixTextureDriver(e,n,t)}setOutputPackedMatrixTexture(e,t,n){this.throwIfDisposed();const[r,o]=hwe(t,n);this.setOutputMatrixTextureDriver(e,r,o)}setOutputMatrixWriteRegion(e,t,n,r){this.setOutputMatrixWriteRegionDriver(n,e,r,t)}setOutputPackedMatrixWriteRegion(e,t,n,r){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")}debugValidate(){null!=this.program&&xwe(this.gl,this.program),Cwe(this.gl)}executeProgram(){this.throwIfDisposed(),this.throwIfNoProgram();const e=this.gl;if(this.debug){const e=this.getVertexArray();console.assert(e===this.program.vao,"VAO changed between setProgram and executeProgram!"),this.debugValidate()}mwe(e,(()=>e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0)))}blockUntilAllProgramsCompleted(){this.throwIfDisposed(),mwe(this.gl,(()=>this.gl.finish()))}getQueryTimerExtension(){return null==this.disjointQueryTimerExtension&&(this.disjointQueryTimerExtension=ywe(this.gl,2===u0().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension}getQueryTimerExtensionWebGL2(){return this.getQueryTimerExtension()}getQueryTimerExtensionWebGL1(){return this.getQueryTimerExtension()}beginQuery(){if(2===u0().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){const e=this.gl,t=this.getQueryTimerExtensionWebGL2(),n=e.createQuery();return e.beginQuery(t.TIME_ELAPSED_EXT,n),n}const e=this.getQueryTimerExtensionWebGL1(),t=e.createQueryEXT();return e.beginQueryEXT(e.TIME_ELAPSED_EXT,t),t}endQuery(){if(2===u0().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){const e=this.gl,t=this.getQueryTimerExtensionWebGL2();return void e.endQuery(t.TIME_ELAPSED_EXT)}const e=this.getQueryTimerExtensionWebGL1();e.endQueryEXT(e.TIME_ELAPSED_EXT)}async waitForQueryAndGetTime(e){return await DJ((()=>this.disposed||this.isQueryAvailable(e,u0().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")))),this.getQueryTime(e,u0().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}getQueryTime(e,t){if(0===t)return null;if(2===t){const t=this.gl;return t.getQueryParameter(e,t.QUERY_RESULT)/1e6}{const t=this.getQueryTimerExtensionWebGL1();return t.getQueryObjectEXT(e,t.QUERY_RESULT_EXT)/1e6}}isQueryAvailable(e,t){if(0===t)return!0;if(2===t){const t=this.gl,n=this.getQueryTimerExtensionWebGL2(),r=t.getQueryParameter(e,t.QUERY_RESULT_AVAILABLE);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(n.GPU_DISJOINT_EXT)),r&&!this.disjoint}{const t=this.getQueryTimerExtensionWebGL1(),n=t.getQueryObjectEXT(e,t.QUERY_RESULT_AVAILABLE_EXT);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(t.GPU_DISJOINT_EXT)),n&&!this.disjoint}}pollFence(e){return new Promise((t=>{this.addItemToPoll((()=>e.isFencePassed()),(()=>t()))}))}pollItems(){const e=function(e){let t=0;for(;t<e.length;++t){if(!e[t]())break}return t-1}(this.itemsToPoll.map((e=>e.isDoneFn)));for(let t=0;t<=e;++t){const{resolveFn:e}=this.itemsToPoll[t];e()}this.itemsToPoll=this.itemsToPoll.slice(e+1)}addItemToPoll(e,t){if(this.itemsToPoll.push({isDoneFn:e,resolveFn:t}),this.itemsToPoll.length>1)return;let n;"setTimeoutCustom"in u0().platform&&(n=u0().platform.setTimeoutCustom.bind(u0().platform)),DJ((()=>(this.pollItems(),0===this.itemsToPoll.length)),(()=>0),null,n)}bindTextureToFrameBuffer(e){this.throwIfDisposed(),Swe(this.gl,e,this.framebuffer),this.debug&&Cwe(this.gl)}unbindTextureToFrameBuffer(){null!=this.outputTexture?(Swe(this.gl,this.outputTexture,this.framebuffer),this.debug&&Cwe(this.gl)):Awe(this.gl,this.framebuffer)}downloadMatrixDriver(e,t){this.bindTextureToFrameBuffer(e);const n=t();return this.unbindTextureToFrameBuffer(),n}setOutputMatrixTextureDriver(e,t,n){this.throwIfDisposed();const r=this.gl;Swe(r,e,this.framebuffer),this.debug&&Cwe(r),this.outputTexture=e,mwe(r,(()=>r.viewport(0,0,t,n))),mwe(r,(()=>r.scissor(0,0,t,n)))}setOutputMatrixWriteRegionDriver(e,t,n,r){this.throwIfDisposed(),mwe(this.gl,(()=>this.gl.scissor(e,t,n,r)))}throwIfDisposed(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")}throwIfNoProgram(){if(null==this.program)throw new Error("No GPU program is currently set.")}}const{mx:Oke,XI:Mke,Nk:Dke,f6:Rke,ct:Pke,YG:$ke,hH:jke,z3:_ke,sG:Fke,uM:Lke,vS:zke,qB:Bke,GG:Wke,rq:Vke,lg:Uke,WR:Hke,cu:Gke,GE:qke,px:Kke,jC:Xke,He:Yke,hE:Qke,BF:Zke,Dk:Jke,cl:eSe,_B:tSe,ub:nSe,_f:rSe,Ku:oSe,qy:aSe,Zy:iSe,bu:sSe,zv:lSe,dH:uSe,HS:cSe,yH:dSe,l3:pSe,z9:hSe,x6:fSe,_m:mSe,eW:gSe,GK:ySe,SP:vSe,yr:bSe,dl:xSe,Dw:wSe,xT:kSe,_X:SSe,wz:ASe}=z;function CSe(e,t){return["x","y","z","w","u","v"].slice(0,t).map((t=>`${e}.${t}`))}function TSe(e,t){return 1===t?[e]:CSe(e,t)}class ISe{constructor(e){if(this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=e,this.rank=e.length,this.enableShapeUniforms=dke(this.outputShape.length),0===this.rank)this.userCode="\n        void main() {\n          setOutput(vec4(getA(), 0., 0., 0.));\n        }\n      ";else{const e=TSe("rc",this.rank),t=oke(this.rank),n=this.getOutOfBoundsCondition(e),r=this.getSetup(e),o=this.getOutput(e);this.userCode=`\n        void main() {\n          ${t} rc = getOutputCoords();\n\n          if(${n}) {\n            setOutput(vec4(0));\n          } else {\n            ${r}\n\n            setOutput(vec4(${o}));\n          }\n        }\n      `}}getSourceCoordsArr(e){const t=[];for(let n=0;n<=1;n++)for(let r=0;r<=1;r++){let o=`${0===n?"r":"rp1"}, ${0===r?"c":"cp1"}`;for(let t=2;t<this.rank;t++)o=`${e[e.length-1-t]},`+o;t.push(o)}return t}getOutOfBoundsCondition(e){if(1===this.rank)return`rc > ${this.enableShapeUniforms?"outShape":this.outputShape[0]}`;let t="";for(let n=this.rank-2;n<this.rank;n++)t+=`${e[n]} >= ${this.enableShapeUniforms?`outShape[${n}]`:this.outputShape[n]}`,n<this.rank-1&&(t+="||");return t}getSetup(e){if(1===this.rank)return"";const t=e.slice(-2),n=this.enableShapeUniforms?`outShape[${this.rank} - 1]`:this.outputShape[this.rank-1],r=this.enableShapeUniforms?`outShape[${this.rank} - 2]`:this.outputShape[this.rank-2];return`\n      int r = ${t[0]};\n      int c = ${t[1]};\n      int rp1 = r + 1;\n      int cp1 = c + 1;\n\n      bool cEdge = cp1 >= ${n};\n      bool rEdge = rp1 >= ${r};\n    `}getOutput(e){const t=this.getSourceCoordsArr(e);if(1===this.rank){return`getA(rc), (rc + 1 >= ${this.enableShapeUniforms?"outShape":this.outputShape[0]} ? 0. : getA(rc + 1)), 0, 0`}return`getA(${t[0]}),\n            cEdge ? 0. : getA(${t[1]}),\n            rEdge ? 0. : getA(${t[2]}),\n            rEdge || cEdge ? 0. : getA(${t[3]})`}}class ESe{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec3"}],this.outputShape=e,this.enableShapeUniforms=dke(this.outputShape.length);let n="";for(let a=0;a<4;a++){let e="thisRC = rc;";a%2===1&&(e+="thisRC.z += 1;"),a>1&&(e+="thisRC.y += 1;"),n+=`\n        ${e}\n        ${a>0?"if(thisRC.y < rows && thisRC.z < cols){":""}\n          int flatIndex = getFlatIndex(thisRC);\n\n          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);\n          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));\n\n          result[${a}] =\n            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);\n        ${a>0?"}":""}\n      `}var r,o;this.userCode=`\n      ${r=t,o=this.enableShapeUniforms,`\n    ivec3 inputCoordsFromReshapedOutCoords(int index) {\n      ${o?Uwe(["r","c","d"],"inputShape"):Wwe(["r","c","d"],r)}\n      return ivec3(r, c, d);\n    }\n  `}\n      ${this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":Hwe(e)}\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0.);\n\n        ivec3 thisRC;\n        int rows = ${this.enableShapeUniforms?"outShape[1]":e[1]};\n        int cols = ${this.enableShapeUniforms?"outShape[2]":e[2]};\n\n        ${n}\n\n        setOutput(result);\n      }\n    `}}class NSe{constructor(e){this.gpgpu=e,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0,this.freeTextures={},this.usedTextures={},this.logEnabled=!1}acquireTexture(e,t,n){const r=MSe(t,n),o=DSe(e,r,n);o in this.freeTextures||(this.freeTextures[o]=[]),o in this.usedTextures||(this.usedTextures[o]=[]);const a=OSe(e,r,this.gpgpu.gl,this.gpgpu.textureConfig,n);if(this.freeTextures[o].length>0){this.numFreeTextures--,this.numUsedTextures++,this._numBytesFree-=a,this.log();const e=this.freeTextures[o].pop();return this.usedTextures[o].push(e),e}let i;return r===uwe.PACKED_2X2_FLOAT32?i=this.gpgpu.createPackedMatrixTexture(e[0],e[1]):r===uwe.PACKED_2X2_FLOAT16?i=this.gpgpu.createFloat16PackedMatrixTexture(e[0],e[1]):r===uwe.UNPACKED_FLOAT32?i=this.gpgpu.createFloat32MatrixTexture(e[0],e[1]):r===uwe.UNPACKED_FLOAT16?i=this.gpgpu.createFloat16MatrixTexture(e[0],e[1]):r===uwe.PACKED_4X1_UNSIGNED_BYTE&&(i=this.gpgpu.createUnsignedBytesMatrixTexture(e[0],e[1])),this.usedTextures[o].push(i),this.numUsedTextures++,this._numBytesAllocated+=a,this.log(),i}releaseTexture(e,t,n,r){if(null==this.freeTextures)return;const o=MSe(n,r),a=DSe(t,o,r);a in this.freeTextures||(this.freeTextures[a]=[]);const i=OSe(t,o,this.gpgpu.gl,this.gpgpu.textureConfig,r),s=u0().getNumber("WEBGL_DELETE_TEXTURE_THRESHOLD");-1!==s&&this._numBytesAllocated>s?(this.gpgpu.deleteMatrixTexture(e.texture),this._numBytesAllocated-=i):(this.freeTextures[a].push(e),this.numFreeTextures++,this._numBytesFree+=i),this.numUsedTextures--;const l=this.usedTextures[a],u=l&&l.indexOf(e);if(null==u||u<0)throw new Error("Cannot release a texture that was never provided by this texture manager");l[u]=l[l.length-1],l.pop(),this.log()}log(){if(!this.logEnabled)return;const e=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used",`${this.numFreeTextures} / ${this.numUsedTextures}`,`(${e})`);const t=this._numBytesFree/this._numBytesAllocated;console.log(`Bytes allocated: ${this._numBytesAllocated}`),console.log(`Bytes unused: ${this._numBytesFree} (${Math.round(100*t)}%)`)}get numBytesAllocated(){return this._numBytesAllocated}get numBytesFree(){return this._numBytesFree}getNumUsedTextures(){return this.numUsedTextures}getNumFreeTextures(){return this.numFreeTextures}dispose(){if(null!=this.freeTextures){for(const e in this.freeTextures)this.freeTextures[e].forEach((e=>{this.gpgpu.deleteMatrixTexture(e.texture)}));for(const e in this.usedTextures)this.usedTextures[e].forEach((e=>{this.gpgpu.deleteMatrixTexture(e.texture)}));this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0}}}function OSe(e,t,n,r,o){const a=function(e,t){switch(e){case uwe.PACKED_2X2_FLOAT32:return Tke(t);case uwe.PACKED_2X2_FLOAT16:return Ike(t);case uwe.UNPACKED_FLOAT32:return Ske(t);case uwe.UNPACKED_FLOAT16:return Ake(t);case uwe.PACKED_4X1_UNSIGNED_BYTE:return Cke(t);default:throw new Error(`Unknown physical texture type ${e}`)}}(t,r);let i;if(o){const[t,n]=hwe(e[0],e[1]);i=t*n}else{const[t,n]=dwe(e[0],e[1]);i=t*n}const s=function(e,t){const n=e;if(t===n.R32F)return 4;if(t===n.R16F)return 2;if(t===n.RGBA32F)return 16;if(t===e.RGBA)return 16;if(t===n.RGBA16F)return 8;if(t===n.RGBA8)return 4;throw new Error(`Unknown internal format ${t}`)}(n,a);return i*s}function MSe(e,t){if(e===swe.UPLOAD)return uwe.PACKED_2X2_FLOAT32;if(e===swe.RENDER||null==e)return function(e){return u0().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?e?uwe.PACKED_2X2_FLOAT32:uwe.UNPACKED_FLOAT32:e?uwe.PACKED_2X2_FLOAT16:uwe.UNPACKED_FLOAT16}(t);if(e===swe.DOWNLOAD||e===swe.PIXELS)return uwe.PACKED_4X1_UNSIGNED_BYTE;throw new Error(`Unknown logical texture type ${e}`)}function DSe(e,t,n){return`${e[0]}_${e[1]}_${t}_${n}`}class RSe{constructor(e,t){this.variableNames=["A"],this.outputShape=e,this.enableShapeUniforms=dke(this.outputShape.length),this.userCode=`\n      float unaryOperation(float x) {\n        ${t}\n      }\n\n      void main() {\n        float x = getAAtOutCoords();\n        float y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    `}}const PSe="if (isnan(x)) return x;",$Se="return abs(x);";const jSe=PSe+"\n  return (x < 0.0) ? 0.0 : x;\n",_Se=PSe+"\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",FSe="return x;";class LSe{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.enableShapeUniforms=dke(this.outputShape.length),this.userCode=`\n      vec4 unaryOperation(vec4 x) {\n        ${t}\n      }\n\n      void main() {\n        vec4 x = getAAtOutCoords();\n        vec4 y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    `}}class zSe{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=e,this.enableShapeUniforms=dke(this.outputShape.length);const t=e.length,n=TSe("rc",t),r=oke(t),o=function(e,t){if(1===e)return"rc";let n="";for(let r=0;r<e;r++)n+=t[r],r<e-1&&(n+=",");return n}(t,n),a=n.slice(-2),i=t<=1?"rc":`vec2(${a.join(",")})`;this.userCode=`\n      void main() {\n        ${r} rc = getOutputCoords();\n        vec4 packedInput = getA(${o});\n\n        setOutput(getChannel(packedInput, ${i}));\n      }\n    `}}const BSe=_ne,WSe={};const VSe=u0().getNumber("CPU_HANDOFF_SIZE_THRESHOLD");class USe extends cJ{nextDataId(){return USe.nextDataId++}constructor(e){if(super(),this.pendingRead=new WeakMap,this.pendingDisposal=new WeakSet,this.dataRefCount=new WeakMap,this.numBytesInGPU=0,this.uploadWaitMs=0,this.downloadWaitMs=0,this.lastGlFlushTime=0,this.warnedAboutMemory=!1,this.pendingDeletes=0,this.disposed=!1,!u0().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");let t;if(null!=e){if(e instanceof Nke)t=e;else{const n=owe(u0().getNumber("WEBGL_VERSION"),e);t=new Nke(n)}this.binaryCache={},this.gpgpuCreatedLocally=!1}else{const e=owe(u0().getNumber("WEBGL_VERSION"));t=new Nke(e),this.binaryCache=((n=u0().getNumber("WEBGL_VERSION"))in WSe||(WSe[n]={}),WSe[n]),this.gpgpuCreatedLocally=!0}var n;this.gpgpu=t,this.canvas=this.gpgpu.gl.canvas,this.textureManager=new NSe(this.gpgpu),this.numMBBeforeWarning=null==u0().global.screen?1024:u0().global.screen.height*u0().global.screen.width*window.devicePixelRatio*600/1024/1024,this.texData=new uJ(this,S5())}numDataIds(){return this.texData.numDataIds()-this.pendingDeletes}writeTexture(e,t,n,r,o,a){const i=this.makeTensorInfo(t,n),s=this.texData.get(i.dataId);s.isPacked=!1,s.texture={texture:e,texShape:[r,o]},s.texShape=[r,o];const l=Owe(t),u=new yke(l,!1,a),c=this.runWebGLProgram(u,[i],n,[[r,o]]);return c.shape=t,s.texture=null,this.disposeIntermediateTensorInfo(i),c.dataId}write(e,t,n){if((u0().getBool("WEBGL_CHECK_NUMERICAL_PROBLEMS")||u0().getBool("DEBUG"))&&this.checkNumericalProblems(e),"complex64"===n&&null!=e)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");const r={id:this.nextDataId()};return this.texData.set(r,{shape:t,dtype:n,values:e,usage:swe.UPLOAD,refCount:1}),r}refCount(e){if(this.texData.has(e)){return this.texData.get(e).refCount}return 0}incRef(e){this.texData.get(e).refCount++}decRef(e){if(this.texData.has(e)){this.texData.get(e).refCount--}}move(e,t,n,r,o){if(u0().getBool("DEBUG")&&this.checkNumericalProblems(t),"complex64"===r)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(e,{shape:n,dtype:r,values:t,usage:swe.UPLOAD,refCount:o})}disposeIntermediateTensorInfo(e){this.disposeData(e.dataId)}readSync(e){const t=this.texData.get(e),{values:n,dtype:r,complexTensorInfos:o,slice:a,shape:i,isPacked:s}=t;if(null!=a){let t;t=s?new LSe(i,FSe):new RSe(i,FSe);const n=this.runWebGLProgram(t,[{dataId:e,shape:i,dtype:r}],r),o=this.readSync(n.dataId);return this.disposeIntermediateTensorInfo(n),o}if(null!=n)return this.convertAndCacheOnCPU(e);if("string"===r)return n;const l=null!=this.activeTimers;let u,c;if(l&&(u=l4()),"complex64"===r){c=Eoe(this.readSync(o.real.dataId),this.readSync(o.imag.dataId))}else c=this.getValuesFromTexture(e);return l&&(this.downloadWaitMs+=l4()-u),this.convertAndCacheOnCPU(e,c)}async read(e){if(this.pendingRead.has(e)){const t=this.pendingRead.get(e);return new Promise((e=>t.push(e)))}const t=this.texData.get(e),{values:n,shape:r,slice:o,dtype:a,complexTensorInfos:i,isPacked:s}=t;if(null!=o){let t;t=s?new LSe(r,FSe):new RSe(r,FSe);const n=this.runWebGLProgram(t,[{dataId:e,shape:r,dtype:a}],a),o=this.read(n.dataId);return this.disposeIntermediateTensorInfo(n),o}if(null!=n)return this.convertAndCacheOnCPU(e);if(u0().getBool("DEBUG")&&!u0().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&2===u0().getNumber("WEBGL_VERSION"))throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");let l,u,c=null;if("complex64"!==a&&u0().get("WEBGL_BUFFER_SUPPORTED")){l=this.decode(e);const t=this.texData.get(l.dataId);c=this.gpgpu.createBufferFromTexture(t.texture.texture,...pwe(r))}if(this.pendingRead.set(e,[]),"complex64"!==a&&await this.gpgpu.createAndWaitForFence(),"complex64"===a){const e=await Promise.all([this.read(i.real.dataId),this.read(i.imag.dataId)]);u=Eoe(e[0],e[1])}else if(null==c)u=this.getValuesFromTexture(e);else{const e=SJ(r);u=this.gpgpu.downloadFloat32MatrixFromBuffer(c,e)}if(null!=l&&this.disposeIntermediateTensorInfo(l),null!=c){const e=this.gpgpu.gl;mwe(e,(()=>e.deleteBuffer(c)))}const d=this.convertAndCacheOnCPU(e,u),p=this.pendingRead.get(e);return this.pendingRead.delete(e),p.forEach((e=>e(d))),this.pendingDisposal.has(e)&&(this.pendingDisposal.delete(e),this.disposeData(e)&&S5().removeDataId(e,this),this.pendingDeletes--),d}readToGPU(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.texData.get(e),{values:r,shape:o,slice:a,dtype:i,isPacked:s,texture:l}=n;if("complex64"===i)throw new Error("Does not support reading texture for complex64 dtype.");if(null!=a){let n;n=s?new LSe(o,FSe):new RSe(o,FSe);const r=this.runWebGLProgram(n,[{dataId:e,shape:o,dtype:i}],i),a=this.readToGPU(r,t);return this.disposeIntermediateTensorInfo(r),a}if(null==l)throw null!=r?new Error("Data is not on GPU but on CPU."):new Error("There is no data on GPU or CPU.");const u=this.decode(e,t.customTexShape),c=S5().makeTensorFromTensorInfo(u),d=this.texData.get(u.dataId);return Object.assign({tensorRef:c},d.texture)}bufferSync(e){const t=this.readSync(e.dataId);if("string"===e.dtype)try{const n=t.map((e=>d4(e)));return B6(e.shape,e.dtype,n)}catch(n){throw new Error("Failed to decode encoded string bytes into utf-8")}return B6(e.shape,e.dtype,t)}checkNumericalProblems(e){if(null!=e)for(let t=0;t<e.length;t++){const n=e[t];if(!gwe(n)){if(u0().getBool("WEBGL_RENDER_FLOAT32_CAPABLE"))throw Error(`The value ${n} cannot be represented with your current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'`);throw Error(`The value ${n} cannot be represented on this device.`)}}}getValuesFromTexture(e){const{shape:t,dtype:n,isPacked:r}=this.texData.get(e),o=SJ(t);if(u0().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){const n=this.decode(e),r=this.texData.get(n.dataId),a=this.gpgpu.downloadMatrixFromPackedTexture(r.texture.texture,...pwe(t)).subarray(0,o);return this.disposeIntermediateTensorInfo(n),a}const a=u0().getBool("WEBGL_PACK")&&!0===r,i=a?Owe(t):t,s=a?new mke(i):new fke(i),l=this.runWebGLProgram(s,[{shape:i,dtype:n,dataId:e}],"float32"),u=this.texData.get(l.dataId),c=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(u.texture.texture,u.texShape[0],u.texShape[1]).subarray(0,o);return this.disposeIntermediateTensorInfo(l),c}timerAvailable(){return u0().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0}time(e){const t=this.activeTimers,n=[];let r=!1;null==this.programTimersStack?(this.programTimersStack=n,r=!0):this.activeTimers.push(n),this.activeTimers=n,e();const o=h4(this.activeTimers.map((e=>e.query))).filter((e=>null!=e)),a=h4(this.activeTimers.map((e=>e.name))).filter((e=>null!=e));this.activeTimers=t,r&&(this.programTimersStack=null);const i={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null};return(async()=>{if(u0().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0){const e=await Promise.all(o);i.kernelMs=yJ(e),i.getExtraProfileInfo=()=>e.map(((e,t)=>({name:a[t],ms:e}))).map((e=>`${e.name}: ${e.ms}`)).join(", ")}else i.kernelMs={error:"WebGL query timers are not supported in this environment."};return this.uploadWaitMs=0,this.downloadWaitMs=0,i})()}memory(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU,numBytesInGPUAllocated:this.textureManager.numBytesAllocated,numBytesInGPUFree:this.textureManager.numBytesFree}}startTimer(){return u0().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:l4(),endMs:null}}endTimer(e){return u0().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),e):(e.endMs=l4(),e)}async getQueryTime(e){if(u0().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0)return this.gpgpu.waitForQueryAndGetTime(e);const t=e;return t.endMs-t.startMs}disposeData(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.pendingDisposal.has(e))return!1;if(!this.texData.has(e))return!0;if(t?this.texData.get(e).refCount=0:this.texData.get(e).refCount--,!t&&this.texData.get(e).refCount>0)return!1;if(this.pendingRead.has(e))return this.pendingDisposal.add(e),this.pendingDeletes++,!1;this.releaseGPUData(e);const{complexTensorInfos:n}=this.texData.get(e);return null!=n&&(this.disposeData(n.real.dataId,t),this.disposeData(n.imag.dataId,t)),this.texData.delete(e),!0}releaseGPUData(e){const{texture:t,dtype:n,texShape:r,usage:o,isPacked:a,slice:i}=this.texData.get(e),s=i&&i.origDataId||e,l=this.dataRefCount.get(s);l>1?this.dataRefCount.set(s,l-1):(this.dataRefCount.delete(s),null!=t&&(this.numBytesInGPU-=this.computeBytes(r,n),this.textureManager.releaseTexture(t,r,o,a)));const u=this.texData.get(e);u.texture=null,u.texShape=null,u.isPacked=!1,u.slice=null}getTexture(e){return this.uploadToGPU(e),this.texData.get(e).texture.texture}getDataInfo(e){return this.texData.get(e)}shouldExecuteOnCPU(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:VSe;return u0().getBool("WEBGL_CPU_FORWARD")&&e.every((e=>null==this.texData.get(e.dataId).texture&&SJ(e.shape)<t))}getGPGPUContext(){return this.gpgpu}where(e){D3("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");const t=e.dataSync();return BSe(e.shape,t)}packedUnaryOp(e,t,n){const r=new LSe(e.shape,t),o=this.compileAndRun(r,[e],n);return S5().makeTensorFromTensorInfo(o)}abs(e){if(this.shouldExecuteOnCPU([e])&&"complex64"!==e.dtype){const t=uSe(this.texData.get(e.dataId).values);return this.makeOutput(e.shape,e.dtype,t)}if(u0().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,$Se,e.dtype);const t=new RSe(e.shape,$Se),n=this.compileAndRun(t,[e]);return S5().makeTensorFromTensorInfo(n)}makeTensorInfo(e,t,n){let r;if("string"===t&&null!=n&&n.length>0&&VJ(n[0])){const o=n.map((e=>c4(e)));r=this.write(o,e,t)}else r=this.write(n,e,t);return this.texData.get(r).usage=null,{dataId:r,shape:e,dtype:t}}makeOutput(e,t,n){return S5().makeTensorFromTensorInfo(this.makeTensorInfo(e,t,n),this)}unpackTensor(e){const t=new zSe(e.shape);return this.runWebGLProgram(t,[e],e.dtype)}packTensor(e){const t=new ISe(e.shape);return this.runWebGLProgram(t,[e],e.dtype,null,!0)}packedReshape(e,t){const n=[Ewe(e.shape),...Nwe(e.shape)],r={dtype:e.dtype,shape:n,dataId:e.dataId},o=[Ewe(t),...Nwe(t)],a=new ESe(o,n),i=[n],s=this.runWebGLProgram(a,[r],e.dtype,i,!0);return{dataId:s.dataId,shape:t,dtype:s.dtype}}decode(e,t){const n=this.texData.get(e),{isPacked:r,shape:o,dtype:a}=n;if(null!=t){xJ(SJ(o)<=t[0]*t[1]*4,(()=>"customTexShape is too small. Row * Column * 4 should be equal or larger than the size of the tensor data."))}const i=Owe(o);let s;s=r?new hke(i):new pke(i);const l=[null!=t?t:pwe(i)];return{dtype:a,shape:o,dataId:this.runWebGLProgram(s,[{shape:i,dtype:a,dataId:e}],a,l,!0,t).dataId}}runWebGLProgram(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5?arguments[5]:void 0;const i=this.makeTensorInfo(e.outputShape,n),s=this.texData.get(i.dataId);if(e.packedOutput&&(s.isPacked=!0),e.outPackingScheme===awe.DENSE){const t=null!=a?a:pwe(e.outputShape);s.texShape=t.map((e=>2*e))}if(null!=e.outTexUsage&&(s.usage=e.outTexUsage),0===SJ(i.shape))return s.values=jJ(i.dtype,0),i;const l=[],u=t.map((t=>{if("complex64"===t.dtype)throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");let n=this.texData.get(t.dataId);if(null==n.texture){if(!e.packedInputs&&SJ(t.shape)<=u0().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:t.shape,texData:null,isUniform:!0,uniformValues:n.values};e.packedInputs&&(n.isPacked=!0,n.shape=t.shape)}if(this.uploadToGPU(t.dataId),!!n.isPacked!==!!e.packedInputs)t=n.isPacked?this.unpackTensor(t):this.packTensor(t),l.push(t),n=this.texData.get(t.dataId);else if(n.isPacked&&!Dwe(n.shape,t.shape)){const e=t,r=t.shape;t.shape=n.shape,t=this.packedReshape(t,r),l.push(t),n=this.texData.get(t.dataId),e.shape=r}return{shape:t.shape,texData:n,isUniform:!1}}));this.uploadToGPU(i.dataId);const c={shape:i.shape,texData:s,isUniform:!1},d=function(e,t,n){let r="";t.concat(n).forEach((t=>{const o=null!=t.texData&&null!=t.texData.slice&&t.texData.slice.flatOffset>0;if(e.enableShapeUniforms&&!t.isUniform){const a=t.texData.texShape,{useSqueezeShape:i,uniformShape:s,keptDims:l}=ake(e.packedInputs,t.shape,a);let u="",c="",d="";if(1===s.length&&e.packedInputs){const e=[Math.ceil(a[0]/2),Math.ceil(a[1]/2)];u=`${e[0]>1}_${e[1]>1}`}else if(2!==s.length||e.packedInputs){if(s.length>2&&!e.packedInputs){const e=XJ(s);d=`${e[0]===a[1]}_${e[e.length-1]===a[1]}`}}else c=`${s[0]>1}_${s[1]>1}`;const p=t.shape.length,h=2===s.length&&TJ(t.shape,a),f=1===SJ(t.shape),m=x8(t.shape,n.shape),g=!e.packedInputs&&p===n.shape.length&&TJ(a,n.texData.texShape),y=e.packedInputs||s.length>2?"":`${a[0]>1}_${a[1]>1}`;r+=`${p}_${g}_${i?l:""}_${s.length}_${f}_${m}_${h}_${u}_${c}_${d}_${y}_${o}`}else{const e=t.isUniform?"uniform":t.texData.texShape;r+=`${t.shape}_${e}_${o}`}}));const o=e.userCode;let a=e.constructor.name;return a+="_"+r+"_"+o+`${u0().getNumber("WEBGL_VERSION")}`,a}(e,u,c),p=this.getAndSaveBinary(d,(()=>lke(this.gpgpu,e,u,c))),h=null!=this.activeTimers;let f;h&&(f=this.startTimer()),u0().get("ENGINE_COMPILE_ONLY")||function(e,t,n,r,o){t.program.enableShapeUniforms||(cke(t.inShapeInfos,n),cke([t.outShapeInfo],[r]));const a=r.texData.texture,i=r.texData.texShape;r.texData.isPacked?e.setOutputPackedMatrixTexture(a.texture,i[0],i[1]):e.setOutputMatrixTexture(a.texture,i[0],i[1]),e.setProgram(t.webGLProgram),e.bindVertexArray(t.webGLProgram.vao),1===u0().getNumber("WEBGL_VERSION")&&null!==t.infLoc&&e.gl.uniform1f(t.infLoc,1/0),null!==t.nanLoc&&e.gl.uniform1f(t.nanLoc,NaN);for(let l=0;l<n.length;++l){const r=n[l],{uniform:o,offset:a,shape:i,texShape:s}=t.variablesLocations[l];if(i){const{uniformShape:n}=ake(t.program.packedInputs,r.shape,r.texData.texShape);switch(n.length){case 1:e.gl.uniform1iv(i,new Int32Array(n));break;case 2:e.gl.uniform2iv(i,new Int32Array(n));break;case 3:e.gl.uniform3iv(i,new Int32Array(n));break;case 4:e.gl.uniform4iv(i,new Int32Array(n))}}if(s&&e.gl.uniform2i(s,r.texData.texShape[0],r.texData.texShape[1]),null!=o)if(r.isUniform)if(SJ(r.shape)<2)e.gl.uniform1f(o,r.uniformValues[0]);else{let t=r.uniformValues;t instanceof Float32Array||(t=new Float32Array(t)),e.gl.uniform1fv(o,t)}else null!=r.texData.slice&&null!=a&&e.gl.uniform1i(a,r.texData.slice.flatOffset),e.setInputMatrixTexture(r.texData.texture.texture,o,l)}const s=t.outShapeLocation;if(s)switch(r.shape.length){case 1:e.gl.uniform1iv(s,new Int32Array(r.shape));break;case 2:e.gl.uniform2iv(s,new Int32Array(r.shape));break;case 3:e.gl.uniform3iv(s,new Int32Array(r.shape));break;case 4:e.gl.uniform4iv(s,new Int32Array(r.shape))}if(t.outShapeStridesLocation){const n=XJ(r.shape);switch(r.shape.length){case 2:e.gl.uniform1iv(t.outShapeStridesLocation,new Int32Array(n));break;case 3:e.gl.uniform2iv(t.outShapeStridesLocation,new Int32Array(n));break;case 4:e.gl.uniform3iv(t.outShapeStridesLocation,new Int32Array(n))}}if(t.outTexShapeLocation&&e.gl.uniform2i(t.outTexShapeLocation,r.texData.texShape[0],r.texData.texShape[1]),t.program.customUniforms&&o)for(let l=0;l<t.program.customUniforms.length;++l){const n=t.program.customUniforms[l],r=t.customUniformLocations[l],a=o[l];if("float"===n.type)e.gl.uniform1fv(r,a);else if("vec2"===n.type)e.gl.uniform2fv(r,a);else if("vec3"===n.type)e.gl.uniform3fv(r,a);else if("vec4"===n.type)e.gl.uniform4fv(r,a);else if("int"===n.type)e.gl.uniform1iv(r,a);else if("ivec2"===n.type)e.gl.uniform2iv(r,a);else if("ivec3"===n.type)e.gl.uniform3iv(r,a);else{if("ivec4"!==n.type)throw Error(`uniform type ${n.type} is not supported yet.`);e.gl.uniform4iv(r,a)}}e.executeProgram()}(this.gpgpu,p,u,c,r),l.forEach((e=>this.disposeIntermediateTensorInfo(e))),h&&(f=this.endTimer(f),this.activeTimers.push({name:e.constructor.name,query:this.getQueryTime(f)}));const m=u0().getNumber("WEBGL_FLUSH_THRESHOLD");if(m>0){const e=l4();e-this.lastGlFlushTime>m&&(this.gpgpu.gl.flush(),this.lastGlFlushTime=e)}if(!u0().getBool("WEBGL_LAZILY_UNPACK")&&s.isPacked&&!1===o){const e=this.unpackTensor(i);return this.disposeIntermediateTensorInfo(i),e}return i}compileAndRun(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];n=n||t[0].dtype;return this.runWebGLProgram(e,t,n,r,o)}getAndSaveBinary(e,t){return e in this.binaryCache||(this.binaryCache[e]=t()),this.binaryCache[e]}getTextureManager(){return this.textureManager}dispose(){if(!this.disposed){if(!u0().getBool("IS_TEST")){Object.keys(this.binaryCache).forEach((e=>{this.gpgpu.deleteProgram(this.binaryCache[e].webGLProgram),delete this.binaryCache[e]}))}this.textureManager.dispose(),null!=this.canvas&&"undefined"!==typeof HTMLCanvasElement&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0}}floatPrecision(){return null==this.floatPrecisionValue&&(this.floatPrecisionValue=T5((()=>{if(!u0().get("WEBGL_RENDER_FLOAT32_ENABLED")){const e=u0().getBool("DEBUG");u0().set("DEBUG",!1);const t=this.abs(a8(1e-8)).dataSync()[0];if(u0().set("DEBUG",e),t>0)return 32}return 16}))),this.floatPrecisionValue}epsilon(){return 32===this.floatPrecision()?1e-7:1e-4}uploadToGPU(e){const t=this.texData.get(e),{shape:n,dtype:r,values:o,texture:a,usage:i,isPacked:s}=t;if(null!=a)return;const l=null!=this.activeTimers;let u;l&&(u=l4());let c=t.texShape;if(null==c&&(c=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=u0().getNumber("WEBGL_MAX_TEXTURE_SIZE"),r=u0().getNumber("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE");if(r===1/0&&u0().getBool("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE")&&(r=n/2),t&&(n*=2,r*=2,1===(e=e.map(((t,n)=>n>=e.length-2?mJ(e[n]):e[n]))).length&&(e=[2,e[0]])),2!==e.length){const t=$J(e);e=t.newShape}let o=SJ(e),a=null;e.length<=1&&o<=n?a=[1,o]:2===e.length&&e[0]<=n&&e[1]<=n?a=e:3===e.length&&e[0]*e[1]<=n&&e[2]<=n?a=[e[0]*e[1],e[2]]:3===e.length&&e[0]<=n&&e[1]*e[2]<=n?a=[e[0],e[1]*e[2]]:4===e.length&&e[0]*e[1]*e[2]<=n&&e[3]<=n?a=[e[0]*e[1]*e[2],e[3]]:4===e.length&&e[0]<=n&&e[1]*e[2]*e[3]<=n&&(a=[e[0],e[1]*e[2]*e[3]]);const i=null!=a&&Math.max(...a)>r&&Math.min(...a)<=(t?2:1)&&Math.min(...a)>0;if(null==a||i)if(t){const t=Ewe(e);let n=2,r=2;e.length&&([n,r]=Nwe(e)),o=t*(n/2)*(r/2),a=NJ(o).map((e=>2*e))}else a=NJ(o);return a}(n,s),t.texShape=c),null!=o){const e=Owe(n);let a,i=c[1],d=c[0];const p=o instanceof Uint8Array||o instanceof Uint8ClampedArray;!s&&p||([i,d]=hwe(c[0],c[1])),a=s?new vke(e,p):new yke(e,p);const h=p?[d,i]:c,f=this.makeTensorInfo(h,r),m=this.texData.get(f.dataId);m.usage=p?swe.PIXELS:swe.UPLOAD,m.texShape=h,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(f.dataId),i,d,o);const g=[[d,i]],y=!0,v=this.runWebGLProgram(a,[f],r,g,y),b=this.texData.get(v.dataId);t.texShape=b.texShape,t.isPacked=b.isPacked,t.usage=b.usage,u0().get("ENGINE_COMPILE_ONLY")?this.disposeData(v.dataId):(t.texture=b.texture,t.values=null,this.texData.delete(v.dataId)),this.disposeIntermediateTensorInfo(f),l&&(this.uploadWaitMs+=l4()-u)}else{const e=this.acquireTexture(c,i,r,s);t.texture=e}}convertAndCacheOnCPU(e,t){const n=this.texData.get(e),{dtype:r}=n;return null!=t&&(n.values=function(e,t){if("float32"===t||"complex64"===t)return e;if("int32"===t||"bool"===t){const n="int32"===t?new Int32Array(e.length):new Uint8Array(e.length);for(let t=0;t<n.length;++t)n[t]=Math.round(e[t]);return n}throw new Error(`Unknown dtype ${t}`)}(t,r)),n.values}acquireTexture(e,t,n,r){if(this.numBytesInGPU+=this.computeBytes(e,n),!this.warnedAboutMemory&&this.numBytesInGPU>1024*this.numMBBeforeWarning*1024){const e=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn(`High memory usage in GPU: ${e} MB, most likely due to a memory leak`)}return this.textureManager.acquireTexture(e,t,r)}computeBytes(e,t){return e[0]*e[1]*BJ(t)}checkCompileCompletion(){for(const[,e]of Object.entries(this.binaryCache))this.checkCompletion_(e)}async checkCompileCompletionAsync(){const e=[];if(this.gpgpu.parallelCompilationExtension){for(const[,t]of Object.entries(this.binaryCache))e.push(this.checkCompletionAsync_(t));return Promise.all(e)}for(const[,t]of Object.entries(this.binaryCache)){const n=new Promise((e=>{try{this.checkCompletion_(t),e(!0)}catch(n){throw n}}));e.push(n)}return Promise.all(e)}async checkCompletionAsync_(e){return this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.parallelCompilationExtension.COMPLETION_STATUS_KHR)?this.checkCompletion_(e):(await roe(),this.checkCompletionAsync_(e))}checkCompletion_(e){if(!1===this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.gl.LINK_STATUS)){if(console.log(this.gpgpu.gl.getProgramInfoLog(e.webGLProgram)),!1===this.gpgpu.gl.getShaderParameter(e.fragmentShader,this.gpgpu.gl.COMPILE_STATUS))throw bwe(e.source,this.gpgpu.gl.getShaderInfoLog(e.fragmentShader)),new Error("Failed to compile fragment shader.");throw new Error("Failed to link vertex and fragment shaders.")}return!0}getUniformLocations(){for(const e of Object.values(this.binaryCache)){this.gpgpu.buildVao(e.webGLProgram);const{variablesLocations:t,customUniformLocations:n,infLoc:r,nanLoc:o,outShapeLocation:a,outShapeStridesLocation:i,outTexShapeLocation:s}=uke(this.gpgpu,e.program,e.webGLProgram);e.variablesLocations=t,e.customUniformLocations=n,e.infLoc=r,e.nanLoc=o,e.outShapeLocation=a,e.outShapeStridesLocation=i,e.outTexShapeLocation=s}}createTensorFromGPUData(e,t,n){e.channels=e.channels||"RGBA";const{texture:r,height:o,width:a,channels:i}=e,s=S5().backend;if(!s.gpgpu.gl.isTexture(r))throw new Error("The texture is invalid. Also, please make sure the texture and the TFJS WebGL backend are using the same canvas. If you want to use your own custom canvas, you have to create and use the custom TFJS WebGL backend created from the canvas through 'new tf.MathBackendWebGL(customCanvas)'.");const l=s.writeTexture(r,t,n,o,a,i);return S5().makeTensorFromDataId(l,t,n,s)}}USe.nextDataId=0;o5()&&j5("webgl",(()=>new USe),2);const HSe="\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n";class GSe{constructor(e,t,n){this.variableNames=["A","B"],this.outputShape=k8(t,n),this.enableShapeUniforms=dke(this.outputShape.length),this.userCode=`\n      float binaryOperation(float a, float b) {\n        ${e}\n      }\n\n      void main() {\n        float a = getAAtOutCoords();\n        float b = getBAtOutCoords();\n        setOutput(binaryOperation(a, b));\n      }\n    `}}const qSe="\n  result.r = isNaN.r ? NAN : result.r;\n  result.g = isNaN.g ? NAN : result.g;\n  result.b = isNaN.b ? NAN : result.b;\n  result.a = isNaN.a ? NAN : result.a;\n";class KSe{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=k8(t,n);const o=this.outputShape.length;this.enableShapeUniforms=dke(o);let a="";if(r)if(0===o||1===SJ(this.outputShape))a="\n          result.y = 0.;\n          result.z = 0.;\n          result.w = 0.;\n        ";else{if(a=`\n          ${oke(o)} coords = getOutputCoords();\n        `,1===o)this.enableShapeUniforms?a+="\n            result.y = (coords + 1) >= outShape ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          ":a+=`\n            result.y = (coords + 1) >= ${this.outputShape[0]} ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          `;else{const e=TSe("coords",o);this.enableShapeUniforms?a+=`\n            bool nextRowOutOfBounds =\n              (${e[o-2]} + 1) >= outShape[${o} - 2];\n            bool nextColOutOfBounds =\n              (${e[o-1]} + 1) >= outShape[${o} - 1];\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          `:a+=`\n            bool nextRowOutOfBounds =\n              (${e[o-2]} + 1) >= ${this.outputShape[o-2]};\n            bool nextColOutOfBounds =\n              (${e[o-1]} + 1) >= ${this.outputShape[o-1]};\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          `}}this.userCode=`\n      vec4 binaryOperation(vec4 a, vec4 b) {\n        ${e}\n      }\n\n      void main() {\n        vec4 a = getAAtOutCoords();\n        vec4 b = getBAtOutCoords();\n\n        vec4 result = binaryOperation(a, b);\n        ${a}\n\n        setOutput(result);\n      }\n    `}}function XSe(e){const{inputs:t,backend:n}=e,{x:r}=t;return n.incRef(r.dataId),{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}const YSe={kernelName:O1,backendName:"webgl",kernelFunc:XSe};function QSe(e){const{inputs:t,backend:n}=e,{real:r,imag:o}=t,a=n.makeTensorInfo(r.shape,"complex64"),i=n.texData.get(a.dataId),s=XSe({inputs:{x:r},backend:n}),l=XSe({inputs:{x:o},backend:n});return i.complexTensorInfos={real:s,imag:l},a}const ZSe={kernelName:B0,backendName:"webgl",kernelFunc:QSe},JSe="return (a < 0.) ? b * a : a;",eAe="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n";const tAe={kernelName:j1,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{alpha:a}=r,i=n.makeTensorInfo([],"float32",i4(a,"float32")),s=u0().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new KSe(eAe,o.shape,i.shape):new GSe(JSe,o.shape,i.shape),l=n.runWebGLProgram(s,[o,i],"float32");return n.disposeIntermediateTensorInfo(i),l}},nAe="return (a < 0.) ? b * a : a;",rAe="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n";const oAe={kernelName:k2,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:r,alpha:o}=t,a=u0().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new KSe(rAe,r.shape,o.shape):new GSe(nAe,r.shape,o.shape);return n.runWebGLProgram(a,[r,o],"float32")}},aAe="if (isnan(x)) return x;";function iAe(e){let{opSnippet:t,packedOpSnippet:n,cpuKernelImpl:r,dtype:o}=e;return e=>{let{inputs:a,backend:i}=e;const{x:s}=a,l=i,u=o||s.dtype;if(l.shouldExecuteOnCPU([s])&&null!=r){const e=l.texData.get(s.dataId),t=r(e.values,u);return l.makeTensorInfo(s.shape,u,t)}let c;return c=u0().getBool("WEBGL_PACK_UNARY_OPERATIONS")&&null!=n?new LSe(s.shape,n):new RSe(s.shape,t),l.runWebGLProgram(c,[s],u)}}function sAe(e){let{opSnippet:t,packedOpSnippet:n,checkOutOfBounds:r=!1,supportsComplex:o=!1,cpuKernelImpl:a,dtype:i}=e;return e=>{let{inputs:s,backend:l}=e;const{a:u,b:c}=s,d=l;if(o&&"complex64"===u.dtype){const e=d.texData.get(u.dataId),n=d.texData.get(c.dataId),[r,o]=[[e.complexTensorInfos.real,n.complexTensorInfos.real],[e.complexTensorInfos.imag,n.complexTensorInfos.imag]].map((e=>{const[n,r]=e,o={dataId:n.dataId,dtype:n.dtype,shape:u.shape},a={dataId:r.dataId,dtype:r.dtype,shape:c.shape},i=new GSe(t,u.shape,c.shape);return d.runWebGLProgram(i,[o,a],z4(n.dtype,r.dtype))})),a=QSe({inputs:{real:r,imag:o},backend:d});return d.disposeIntermediateTensorInfo(r),d.disposeIntermediateTensorInfo(o),a}const p=i||z4(u.dtype,c.dtype);if(("string"===u.dtype||"string"===c.dtype||d.shouldExecuteOnCPU([u,c]))&&null!=a){const e=d.texData.get(u.dataId).values,t=d.texData.get(c.dataId).values,n="string"===u.dtype?lae(e):e,r="string"===u.dtype?lae(t):t,[o,i]=a(u.shape,c.shape,n,r,p),s=d.makeTensorInfo(i,p);return d.texData.get(s.dataId).values=o,s}let h;return h=u0().getBool("WEBGL_PACK_BINARY_OPERATIONS")&&null!=n?new KSe(n,u.shape,c.shape,r):new GSe(t,u.shape,c.shape),d.runWebGLProgram(h,[u,c],p)}}function lAe(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("linear"===e)return"return x;";if("relu"===e)return t?"\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n":jSe;if("elu"===e)return t?"\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n":"return (x >= 0.0) ? x : (exp(x) - 1.0);";if("relu6"===e)return t?"\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n":_Se;if("prelu"===e)return t?rAe:nAe;if("leakyrelu"===e)return t?eAe:JSe;if("sigmoid"===e)return"return 1.0 / (1.0 + exp(-1.0 * x));";throw new Error(`Activation ${e} has not been implemented for the WebGL backend.`)}class uAe{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=arguments.length>8&&void 0!==arguments[8]&&arguments[8];this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=n,this.enableShapeUniforms=dke(this.outputShape.length);const u=r?e[1]:e[2],c=Math.ceil(u/2),d=r?"i * 2, rc.y":"rc.y, i * 2",p=o?"rc.z, i * 2":"i * 2, rc.z",h=r?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],f=o?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"];let m="",g="";i&&(m=s?`vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          ${i}\n        }`:l?`vec4 activation(vec4 a) {\n          vec4 b = getLeakyreluAlphaAtOutCoords();\n          ${i}\n        }`:`vec4 activation(vec4 x) {\n          ${i}\n        }`,g="result = activation(result);");const y=a?"result += getBiasAtOutCoords();":"";a&&this.variableNames.push("bias"),s&&this.variableNames.push("preluActivationWeights"),l&&this.variableNames.push("leakyreluAlpha");let v="rc.x",b="rc.x";e[0]<t[0]?v=`imod(rc.x, ${e[0]})`:t[0]<e[0]&&(b=`imod(rc.x, ${t[0]})`),this.userCode=`\n      ${m}\n      // Don't use uniform for sharedDimensionPacked for performance.\n      const float sharedDimension = ${c}.0;\n\n      vec4 dot2x2ARowBCol(ivec3 rc) {\n        vec4 result = vec4(0);\n        int batchA = ${v};\n        int batchB = ${b};\n        for (int i = 0; i < ${c}; i++) {\n          vec4 a = getMatrixA(batchA, ${d});\n          vec4 b = getMatrixB(batchB, ${p});\n\n          // These swizzled products need to be separately added.\n          // See: https://github.com/tensorflow/tfjs/issues/1735\n          result += (${h[0]} * ${f[0]});\n          result += (${h[1]} * ${f[1]});\n        }\n        return result;\n      }\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n        vec4 result = dot2x2ARowBCol(rc);\n\n        ${y}\n\n        ${g}\n\n        setOutput(result);\n      }\n    `}}const cAe="return areal * breal - aimag * bimag;",dAe="return areal * bimag + aimag * breal;";class pAe{constructor(e,t,n){this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=k8(t,n),this.userCode=`\n      float binaryOpComplex(\n          float areal, float aimag, float breal, float bimag) {\n        ${e}\n      }\n\n      void main() {\n        float areal = getARealAtOutCoords();\n        float aimag = getAImagAtOutCoords();\n        float breal = getBRealAtOutCoords();\n        float bimag = getBImagAtOutCoords();\n        setOutput(binaryOpComplex(areal, aimag, breal, bimag));\n      }\n    `}}const hAe="return a * b;";function fAe(e){const{inputs:t,backend:n}=e,{a:r,b:o}=t,a=z4(r.dtype,o.dtype);if("complex64"===r.dtype){const e=n.texData.get(r.dataId),t=n.texData.get(o.dataId),a=new pAe(cAe,r.shape,o.shape),i=new pAe(dAe,r.shape,o.shape),s=[{dataId:e.complexTensorInfos.real.dataId,dtype:e.complexTensorInfos.real.dtype,shape:r.shape},{dataId:e.complexTensorInfos.imag.dataId,dtype:e.complexTensorInfos.imag.dtype,shape:r.shape},{dataId:t.complexTensorInfos.real.dataId,dtype:t.complexTensorInfos.real.dtype,shape:o.shape},{dataId:t.complexTensorInfos.imag.dataId,dtype:t.complexTensorInfos.imag.dtype,shape:o.shape}],l=n.runWebGLProgram(a,s,"float32"),u=n.runWebGLProgram(i,s,"float32"),c=QSe({inputs:{real:l,imag:u},backend:n});return n.disposeIntermediateTensorInfo(l),n.disposeIntermediateTensorInfo(u),c}if(n.shouldExecuteOnCPU([r,o])){const e=n.texData.get(r.dataId),t=n.texData.get(o.dataId),[i,s]=Zke(r.shape,o.shape,e.values,t.values,a),l=n.makeTensorInfo(s,a);return n.texData.get(l.dataId).values=i,l}let i;return i=u0().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new KSe(hAe,r.shape,o.shape):new GSe(hAe,r.shape,o.shape),n.runWebGLProgram(i,[r,o],a)}const mAe={kernelName:c2,backendName:"webgl",kernelFunc:fAe};function gAe(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{shape:a}=r,i=n,s=SJ(o.shape),l=RJ(a,s),u=SJ(l);xJ(s===u,(()=>`The new shape (${l}) has ${u} elements and the old shape (${o.shape}) has ${s} elements. The new shape and old shape must have the same number of elements.`));const c=i.texData.get(o.dataId);return!c.isPacked||Dwe(o.shape,l)||null!==c.texture&&Dwe(c.shape,l)?(i.incRef(o.dataId),{dataId:o.dataId,shape:l,dtype:o.dtype}):function(e,t,n){const r=[Ewe(e.shape),...Nwe(e.shape)],o={dtype:e.dtype,shape:r,dataId:e.dataId},a=[Ewe(t),...Nwe(t)],i=new ESe(a,r),s=[r],l=n.runWebGLProgram(i,[o],e.dtype,s,!0);return{dataId:l.dataId,shape:t,dtype:l.dtype}}(o,l,i)}const yAe={kernelName:M2,backendName:"webgl",kernelFunc:gAe};class vAe{constructor(e,t){this.variableNames=["x"];const{windowSize:n,batchSize:r,inSize:o,outSize:a}=e;this.outputShape=[r,a];const i=4*Math.floor(n/4),s=n%4;let l="sumValue += dot(values, ones);";if(null!=t){const e=1/t;l=`sumValue += dot(values * ${IJ(e)?e.toPrecision(2):e}, ones);`}let u="";o%n>0&&(u=`\n        if (inIdx < 0 || inIdx >= ${o}) {\n          return 0.0;\n        }\n      `),this.userCode=`\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        ${u}\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ${n};\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < ${i}; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          ${l}\n        }\n\n        int inIdx = inOffset + ${i};\n        if (${1===s}) {\n          vec4 values = vec4(getValue(batch, inIdx), 0.0, 0.0, 0.0);\n\n          ${l}\n        } else if (${2===s}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1), 0.0, 0.0);\n\n          ${l}\n        } else if (${3===s}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2), 0.0);\n\n          ${l}\n        }\n        setOutput(sumValue);\n      }\n    `}}class bAe{constructor(e,t){this.variableNames=["x"];const{windowSize:n,batchSize:r,inSize:o,outSize:a}=e;this.outputShape=[r,a];let i="0.0",s="";"prod"===t?i="1.0":"min"===t?(i="1.0 / 1e-20",s="min"):"max"===t&&(i="-1.0 / 1e-20",s="max");let l=`${t}(${t}(${t}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;"sum"===t?l="sumValue":"prod"===t?l="prodValue":"all"===t?l="allValue":"any"===t&&(l="anyValue");const u=4*Math.floor(n/4),c=n%4;let d=`\n      if (${"sum"===t}) {\n        sumValue += dot(values, ones);\n      } else if (${"prod"===t}) {\n        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);\n        prodValue *= tmp[0] * tmp[1];\n      } else {\n        minMaxValue = ${s}(values, minMaxValue);\n        if (${"min"===t} || ${"max"===t}) {\n          minMaxValue = ${s}(values, minMaxValue);\n          bvec4 isNaN = isnan(values);\n          if (isNaN.r || isNaN.g || isNaN.b || isNaN.a) {\n            minMaxValue = vec4(NAN);\n          }\n        }\n      }\n    `,p="vec4";"all"===t?(i="1.0",d="\n        bool reducedAllValue = all(values);\n        float floatedReducedAllValue = float(reducedAllValue);\n        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);\n      ",p="bvec4"):"any"===t&&(i="0.0",d="\n        bool reducedAnyValue = any(values);\n        float floatedReducedAnyValue = float(reducedAnyValue);\n        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);\n      ",p="bvec4");let h="";o%n>0&&(h=`\n        if (inIdx < 0 || inIdx >= ${o}) {\n          return initializationValue;\n        }\n      `),this.userCode=`\n      const float initializationValue = ${i};\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        ${h}\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ${n};\n\n        vec4 minMaxValue = vec4(${i});\n        float prodValue = 1.0;\n        float sumValue = 0.0;\n        float allValue = 1.0;\n        float anyValue = 0.0;\n\n        for (int i = 0; i < ${u}; i += 4) {\n          int inIdx = inOffset + i;\n          ${p} values = ${p}(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          ${d}\n        }\n\n        int inIdx = inOffset + ${u};\n        if (${1===c}) {\n          ${p} values = ${p}(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          ${d}\n        } else if (${2===c}) {\n          ${p} values = ${p}(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          ${d}\n        } else if (${3===c}) {\n          ${p} values = ${p}(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          ${d}\n        }\n        setOutput(${l});\n      }\n    `}}function xAe(e,t,n,r){const o=function(e){const t=[];for(;0===t.length||1!==t[t.length-1].outSize;){const n=t.length?t[t.length-1].outSize:e[1],r=hoe(n);t.push({inSize:n,windowSize:r,outSize:Math.ceil(n/r)})}return t}(e.shape);let a=e;for(let i=0;i<o.length;i++){const{inSize:s,windowSize:l,outSize:u}=o[i];let c,d;c="mean"===n?0===i?new vAe({windowSize:l,inSize:s,batchSize:e.shape[0],outSize:u},s):new vAe({windowSize:l,inSize:s,batchSize:e.shape[0],outSize:u}):new bAe({windowSize:l,inSize:s,batchSize:e.shape[0],outSize:u},n),d=a,a=r.runWebGLProgram(c,[a],t),d.dataId!==e.dataId&&r.disposeIntermediateTensorInfo(d)}return a}class wAe{constructor(e,t){this.variableNames=["A"];const n=new Array(e.length);for(let a=0;a<n.length;a++)n[a]=e[t[a]];this.outputShape=n,this.rank=n.length;const r=oke(this.rank),o=function(e){const t=e.length;if(t>6)throw Error(`Transpose for rank ${t} is not yet supported`);const n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],r=new Array(t);for(let o=0;o<e.length;o++)r[e[o]]=n[o];return r.join()}(t);this.userCode=`\n    void main() {\n      ${r} resRC = getOutputCoords();\n      setOutput(getA(${o}));\n    }\n    `}}class kAe{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;const n=new Array(e.length);for(let u=0;u<n.length;u++)n[u]=e[t[u]];if(this.outputShape=n,this.rank=n.length,this.rank>6)throw Error(`Packed transpose for rank ${this.rank} is not yet supported.`);const r=oke(this.rank),o=CSe("rc",this.rank),a=new Array(this.rank);for(let u=0;u<t.length;u++)a[t[u]]=o[u];const i=`vec2(${a.slice(-2).join()})`,s=`++${o[this.rank-1]} < ${n[this.rank-1]}`,l=`getChannel(getA(${a.join()}), ${i})`;this.userCode=`\n    void main() {\n      ${r} rc = getOutputCoords();\n      vec4 result = vec4(0.);\n      result[0] = ${l};\n      if(${s}) {\n        result[1] = ${l};\n      }\n      --${o[this.rank-1]};\n      if(++${o[this.rank-2]} < ${n[this.rank-2]}) {\n        result[2] = ${l};\n        if(${s}) {\n          result[3] = ${l};\n        }\n      }\n      setOutput(result);\n    }\n    `}}function SAe(e,t,n){const r=u0().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new kAe(e.shape,t):new wAe(e.shape,t);return n.runWebGLProgram(r,[e],e.dtype)}function AAe(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:a,keepDims:i}=r;return function(e,t,n,r){const o=t,a=e.shape.length,i=PJ(o,e.shape);let s=i;const l=kee(s,a),u=null!=l;let c=e;u&&(c=SAe(e,l,r),s=Aee(s.length,a)),wee("sum",s,a);const[d,p]=bee(c.shape,s);let h=d;n&&(h=xee(d,i));const f=SJ(p),m=gAe({inputs:{x:c},attrs:{shape:[SJ(e.shape)/f,f]},backend:r}),g=xAe(m,B4(e.dtype),"sum",r),y=gAe({inputs:{x:g},attrs:{shape:h},backend:r});return r.disposeIntermediateTensorInfo(m),r.disposeIntermediateTensorInfo(g),u&&r.disposeIntermediateTensorInfo(c),y}(o,a,i,n)}const CAe={kernelName:Z2,backendName:"webgl",kernelFunc:AAe};function TAe(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{perm:a}=r,i=n,s=o.shape.length,l=new Array(s);for(let c=0;c<l.length;c++)l[c]=o.shape[a[c]];let u;if(i.shouldExecuteOnCPU([o])){const e=i.texData.get(o.dataId).values,t=SSe(e,o.shape,o.dtype,a,l);u=i.makeTensorInfo(l,o.dtype);i.texData.get(u.dataId).values=t}else u=SAe(o,a,i);return u}const IAe={kernelName:x3,backendName:"webgl",kernelFunc:TAe};function EAe(e){let{a:t,b:n,transposeA:r,transposeB:o,backend:a,bias:i=null,preluActivationWeights:s=null,leakyreluAlpha:l=0,activation:u=null}=e;const c=t.shape.length,d=n.shape.length,p=r?t.shape[c-2]:t.shape[c-1],h=o?n.shape[d-1]:n.shape[d-2],f=r?t.shape[c-1]:t.shape[c-2],m=o?n.shape[d-2]:n.shape[d-1],g=t.shape.slice(0,-2),y=n.shape.slice(0,-2),v=SJ(g),b=SJ(y),x=k8(t.shape.slice(0,-2),n.shape.slice(0,-2)).concat([f,m]);xJ(p===h,(()=>`Error in matMul: inner shapes (${p}) and (${h}) of Tensors with shapes ${t.shape} and ${n.shape} and transposeA=${r} and transposeB=${o} must match.`));const w=r?[v,p,f]:[v,f,p],k=o?[b,m,h]:[b,h,m],S=gAe({inputs:{x:t},backend:a,attrs:{shape:w}}),A=gAe({inputs:{x:n},backend:a,attrs:{shape:k}}),C=[S,A],T=Math.max(v,b),I=r?S.shape[1]:S.shape[2],E=null!=i,N=null!=s,O="leakyrelu"===u,M=null!=u?lAe(u,!0):null;let D;if((1===f||1===m)&&I>1e3&&!1===(E||N||O||null!=M)){let e=S,t=A;r&&(e=TAe({inputs:{x:S},backend:a,attrs:{perm:[0,2,1]}}),C.push(e)),o&&(t=TAe({inputs:{x:A},backend:a,attrs:{perm:[0,2,1]}}),C.push(t));const n=1===m;let i=e;1!==m&&(i=gAe({inputs:{x:e},backend:a,attrs:{shape:[T,I,1]}}),C.push(i));const s=1===m?2:1;let l=t;n&&(l=gAe({inputs:{x:t},backend:a,attrs:{shape:[T,1,I]}}),C.push(l));const u=fAe({inputs:{a:i,b:l},backend:a});D=AAe({inputs:{x:u},backend:a,attrs:{axis:s,keepDims:!0}}),C.push(u)}else{const e=z4(t.dtype,n.dtype),u=new uAe(w,k,[T,f,m],r,o,E,M,N,O),c=[S,A];if(null!=i&&c.push(i),N&&c.push(s),O){const e=a.makeTensorInfo([],"float32",i4(l,"float32"));c.push(e),C.push(e)}D=a.runWebGLProgram(u,c,e)}const R=gAe({inputs:{x:D},backend:a,attrs:{shape:x}});C.push(D);for(const P of C)a.disposeIntermediateTensorInfo(P);return R}const NAe={kernelName:N3,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{a:o,b:a,bias:i,preluActivationWeights:s}=t,{transposeA:l,transposeB:u,activation:c,leakyreluAlpha:d}=r;return EAe({a:o,b:a,transposeA:l,transposeB:u,backend:n,bias:i,preluActivationWeights:s,leakyreluAlpha:d,activation:c})}},OAe="return abs(x);";const MAe={kernelName:f0,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:r}=t;if(n.shouldExecuteOnCPU([r])&&"complex64"!==r.dtype){const e=n.texData.get(r.dataId),t=uSe(e.values);return n.makeTensorInfo(r.shape,r.dtype,t)}let o;return o=u0().getBool("WEBGL_PACK_UNARY_OPERATIONS")?new LSe(r.shape,OAe):new RSe(r.shape,OAe),n.runWebGLProgram(o,[r],r.dtype)}},DAe=iAe({opSnippet:PSe+"\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return acos(x);\n"}),RAe={kernelName:m0,backendName:"webgl",kernelFunc:DAe},PAe=iAe({opSnippet:PSe+"\n  if (x < 1.0) return NAN;\nreturn log(x + sqrt(x * x - 1.0));"}),$Ae={kernelName:g0,backendName:"webgl",kernelFunc:PAe},jAe="return a + b;",_Ae=sAe({opSnippet:jAe,packedOpSnippet:jAe,supportsComplex:!0,cpuKernelImpl:Oke}),FAe={kernelName:y0,backendName:"webgl",kernelFunc:_Ae};class LAe{constructor(e,t){this.outputShape=[],this.outputShape=e,this.variableNames=t.map(((e,t)=>`T${t}`));const n=[];this.variableNames.forEach((e=>{n.push(`float v${e} = get${e}AtOutCoords();`)}));const r=this.variableNames.map((e=>`v${e}`)).join(" + ");this.userCode=`\n      void main() {\n        ${n.join("\n        ")}\n\n        float result = ${r};\n        setOutput(result);\n      }\n    `}}class zAe{constructor(e,t){this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.variableNames=t.map(((e,t)=>`T${t}`));const n=[];this.variableNames.forEach((e=>{n.push(`vec4 v${e} = get${e}AtOutCoords();`)}));const r=this.variableNames.map((e=>`v${e}`)).join(" + ");this.userCode=`\n      void main() {\n        ${n.join("\n        ")}\n\n        vec4 result = ${r};\n        setOutput(result);\n      }\n    `}}const BAe={kernelName:v0,backendName:"webgl",kernelFunc:function e(t){const{inputs:n,backend:r}=t,o=n;if(1===o.length)return XSe({inputs:{x:o[0]},backend:r});if(o.length>u0().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")){const t=Math.floor(o.length/2),n=e({inputs:o.slice(0,t),backend:r}),a=e({inputs:o.slice(t),backend:r});return e({inputs:[n,a],backend:r})}const a=o.map((e=>e.dtype)).reduce(((e,t)=>z4(e,t))),i=o.map((e=>e.shape)),s=u0().getBool("WEBGL_PACK")?new zAe(o[0].shape,i):new LAe(o[0].shape,i);return r.runWebGLProgram(s,o,a)}};const WAe={kernelName:b0,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:a,keepDims:i}=r,s=o.shape.length,l=PJ(a,o.shape);let u=l;const c=kee(u,s);let d=o;null!=c&&(d=TAe({inputs:{x:o},backend:n,attrs:{perm:c}}),u=Aee(u.length,s)),wee("all",u,s);const[p,h]=bee(d.shape,u),f=gAe({inputs:{x:d},backend:n,attrs:{shape:[-1,SJ(h)]}}),m=xAe(f,f.dtype,"all",n);let g;if(i){g=gAe({inputs:{x:m},backend:n,attrs:{shape:xee(p,l)}})}else g=gAe({inputs:{x:m},backend:n,attrs:{shape:p}});return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),null!=c&&n.disposeIntermediateTensorInfo(d),g}};const VAe={kernelName:x0,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:a,keepDims:i}=r,s=o.shape.length,l=PJ(a,o.shape);let u=l;const c=kee(u,s);let d=o;null!=c&&(d=TAe({inputs:{x:o},backend:n,attrs:{perm:c}}),u=Aee(u.length,s)),wee("any",u,s);const[p,h]=bee(d.shape,u),f=gAe({inputs:{x:d},backend:n,attrs:{shape:[-1,SJ(h)]}}),m=xAe(f,f.dtype,"any",n);let g;if(i){g=gAe({inputs:{x:m},backend:n,attrs:{shape:xee(p,l)}})}else g=gAe({inputs:{x:m},backend:n,attrs:{shape:p}});return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),null!=c&&n.disposeIntermediateTensorInfo(d),g}};class UAe{constructor(e,t,n){this.variableNames=["A"];const{windowSize:r,batchSize:o,outSize:a}=e;n||this.variableNames.push("bestIndicesA"),this.outputShape=[o,a];const i="max"===t?">":"<",s=n?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode=`\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ${r};\n\n        int bestIndex = inOffset;\n        float bestValue = getA(batch, bestIndex);\n\n        for (int i = 0; i < ${r}; i++) {\n          int inIdx = ${s};\n          float candidate = getA(batch, inIdx);\n          if (candidate ${i} bestValue) {\n            bestValue = candidate;\n            bestIndex = inIdx;\n          }\n        }\n        setOutput(float(bestIndex));\n      }\n    `}}class HAe{constructor(e,t,n,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,xJ(e.length>2,(()=>`Packed arg${n.charAt(0).toUpperCase()+n.slice(1)} supports only inputs with rank above 2.`));const o=e[e.length-1],a=Math.ceil(o/t);this.outputShape=e.slice(0,-1),a>1&&this.outputShape.push(a),r||this.variableNames.push("bestIndicesA");const i=this.outputShape,s=i.length,l=oke(s),u=TSe("coords",s);let c,d;if(1===a){d=s+1;const e=oke(d);c=`\n        ${e} sourceLocR = ${e}(${u.join()}, 0);\n        ++${u[s-1]};\n        ${e} sourceLocG = ${e}(${u.join()}, 0);\n        ++${u[s-2]};\n        ${e} sourceLocA = ${e}(${u.join()}, 0);\n        --${u[s-1]};\n        ${e} sourceLocB = ${e}(${u.join()}, 0);\n        --${u[s-2]};`}else d=s,c=`\n        ${l} sourceLocR = coords;\n        ++${u[s-1]};\n        ${l} sourceLocG = coords;\n        ++${u[s-2]};\n        ${l} sourceLocA = coords;\n        --${u[s-1]};\n        ${l} sourceLocB = coords;\n        --${u[s-2]};`;const p=["x","y","z","w","u","v"].slice(0,d),h="."+p[d-1],f=p.map((e=>"int "+e)),m=TSe("sourceLocR",d-1).concat("inIdx.r"),g=TSe("sourceLocG",d-1).concat("inIdx.g"),y=TSe("sourceLocB",d-1).concat("inIdx.b"),v=TSe("sourceLocA",d-1).concat("inIdx.a"),b="max"===n?"greaterThan":"lessThan",x=r?"":`\n          inIdx = round(vec4(getBestIndicesAChannel(${m.join()}),\n                             getBestIndicesAChannel(${g.join()}),\n                             getBestIndicesAChannel(${y.join()}),\n                             getBestIndicesAChannel(${v.join()})));`,w=`vec4(\n            getAChannel(${m.join()}),\n            hasNextCol ? getAChannel(${g.join()}) : 0.,\n            hasNextRow ? getAChannel(${y.join()}) : 0.,\n            hasNextRow && hasNextCol ? getAChannel(${v.join()}) : 0.)`,k=r?"":`\n      float getBestIndicesAChannel(${f.join()}) {\n        return getChannel(getBestIndicesA(${p.join()}),\n                                          vec2(${p.slice(-2).join()}));\n      }`;this.userCode=`\n      float getAChannel(${f.join()}) {\n        return getChannel(getA(${p.join()}),\n                               vec2(${p.slice(-2).join()}));\n      }\n      ${k}\n      void main() {\n        ${l} coords = getOutputCoords();\n        bool hasNextCol = ${u[s-1]} < ${i[s-1]-1};\n        bool hasNextRow = ${u[s-2]} < ${i[s-2]-1};\n        ${c}\n        ivec4 srcIdx = ivec4(sourceLocR${h}, sourceLocG${h},\n          sourceLocB${h}, sourceLocA${h}) * ${t};\n        ivec4 inIdx = srcIdx;\n        vec4 bestIndex = vec4(inIdx);\n        vec4 bestValue = ${w};\n\n        for (int i = 0; i < ${t}; i++) {\n          inIdx = srcIdx;\n          ${x}\n          vec4 candidate = ${w};\n          bvec4 nan = isnan(candidate);\n          bvec4 replace = bvec4(\n            vec4(${b}(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));\n\n          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,\n                           replace.y  ? candidate.y : bestValue.y,\n                           replace.z  ? candidate.z : bestValue.z,\n                           replace.w  ? candidate.w : bestValue.w);\n          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));\n          srcIdx++;\n        }\n        setOutput(bestIndex);\n      }\n    `}}function GAe(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=t.shape[0],a=t.shape[1];null!=r&&(o=r.shape[0],a=r.shape[1]);const i=hoe(a),s={windowSize:i,inSize:a,batchSize:o,outSize:Math.ceil(a/i)},l=new UAe(s,n,null==r),u=[t];null!=r&&u.push(r);const c=e.runWebGLProgram(l,u,"int32");if(1===c.shape[1])return c;const d=GAe(e,t,n,c);return e.disposeIntermediateTensorInfo(c),d}function qAe(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const o=null!=r?r.shape:t.shape,a=hoe(o[o.length-1]),i=new HAe(o,a,n,null==r),s=null==r?[t]:[t,r],l=e.runWebGLProgram(i,s,"int32");if(l.shape.length===t.shape.length){const r=qAe(e,t,n,l);return e.disposeIntermediateTensorInfo(l),r}return l}function KAe(e,t,n,r){const o=[n];if(wee("arg"+r.charAt(0).toUpperCase()+r.slice(1),o,t.shape.length),!u0().getBool("WEBGL_PACK_REDUCE")||t.shape.length<=2){const n=[],a=e.texData.get(t.dataId);let i=t;null!==a&&a.isPacked&&(i=e.unpackTensor(t),n.push(i));const[s,l]=bee(i.shape,o),u=SJ(l),c=gAe({inputs:{x:i},backend:e,attrs:{shape:[-1,u]}});n.push(c);const d=GAe(e,c,r);n.push(d);const p=gAe({inputs:{x:d},backend:e,attrs:{shape:s}});return n.forEach((t=>e.disposeIntermediateTensorInfo(t))),p}return qAe(e,t,r)}const XAe={kernelName:w0,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:a}=r;let i=PJ(a,o.shape);const s=kee(i,o.shape.length);let l=o;const u=[];null!=s&&(l=TAe({inputs:{x:o},backend:n,attrs:{perm:s}}),u.push(l),i=Aee(i.length,l.shape.length)),wee("argMax",[i[0]],l.shape.length);const c=KAe(n,l,i[0],"max");return u.forEach((e=>n.disposeIntermediateTensorInfo(e))),c}};const YAe={kernelName:k0,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:a}=r;let i=PJ(a,o.shape);const s=kee(i,o.shape.length);let l=o;const u=[];null!=s&&(l=TAe({inputs:{x:o},backend:n,attrs:{perm:s}}),u.push(l),i=Aee(i.length,l.shape.length)),wee("argMin",[i[0]],l.shape.length);const c=KAe(n,l,i[0],"min");return u.forEach((e=>n.disposeIntermediateTensorInfo(e))),c}},QAe=iAe({opSnippet:PSe+"\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return asin(x);\n"}),ZAe={kernelName:S0,backendName:"webgl",kernelFunc:QAe},JAe=iAe({opSnippet:PSe+"return log(x + sqrt(x * x + 1.0));"}),eCe={kernelName:A0,backendName:"webgl",kernelFunc:JAe},tCe=iAe({opSnippet:PSe+"\n  return atan(x);\n"}),nCe={kernelName:C0,backendName:"webgl",kernelFunc:tCe},rCe=sAe({opSnippet:HSe+"\n  return atan(a, b);\n",packedOpSnippet:"\n  vec4 result = atan(a, b);\n  bvec4 isNaNA = isnan(a);\n  bvec4 isNaNB = isnan(b);\n  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);\n  "+qSe+"\n  return result;\n"}),oCe={kernelName:I0,backendName:"webgl",kernelFunc:rCe},aCe=iAe({opSnippet:PSe+"\n  if ((x < -1.0) || (x > 1.0)) return NAN;\nreturn (log(1.0 + x) - log(1.0 - x)) / 2.0;"}),iCe={kernelName:T0,backendName:"webgl",kernelFunc:aCe};class sCe{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(this.variableNames=["x"],"avg"===t&&n)throw new Error("Cannot compute positions for average pool.");const a=e.filterWidth,i=e.strideHeight,s=e.strideWidth,l=e.dilationHeight,u=e.dilationWidth,c=e.effectiveFilterHeight,d=e.effectiveFilterWidth,p=e.padInfo.top,h=e.padInfo.left;this.outputShape=e.outShape;const f="avg"===t,m=`((batch  * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + d`,g=`(xR * ${e.inWidth} + xC) * ${e.inChannels} + d`;let y="0.0";if(f||(y="-1.0 / 1e-20"),n){const t=">=";return void(this.userCode=`\n        const ivec2 strides = ivec2(${i}, ${s});\n        const ivec2 pads = ivec2(${p}, ${h});\n\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int batch = coords[0];\n          int d = coords[3];\n\n          ivec2 xRCCorner = coords.yz * strides - pads;\n          int xRCorner = xRCCorner.x;\n          int xCCorner = xRCCorner.y;\n\n          // max/min x(?, ?, d) to get y(yR, yC, d).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n          float avgValue = 0.0;\n\n          for (int wR = 0; wR < ${c};\n              wR += ${l}) {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= ${e.inHeight}) {\n              continue;\n            }\n\n            for (int wC = 0; wC < ${d};\n                wC += ${u}) {\n              int xC = xCCorner + wC;\n\n              if (xC < 0 || xC >= ${e.inWidth}) {\n                continue;\n              }\n\n              float value = getX(batch, xR, xC, d);\n\n              // If a min / max value has already been found, use it. If not,\n              // use the current value.\n              float currMinMaxValue = mix(\n                  value, minMaxValue, minMaxValueFound);\n              if (value ${t} currMinMaxValue) {\n                minMaxValue = value;\n                minMaxValueFound = 1.0;\n                minMaxPosition = ${r?o?m:g:`wR * ${d} + wC`};\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      `)}let v=`${t}(${t}(${t}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;"avg"===t&&(v="avgValue / max(count, 1.0)");const b=4*Math.floor(a/4),x=a%4,w=`\n      if (${f}) {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = max(values, minMaxValue);\n      }\n    `;this.userCode=`\n      const ivec2 strides = ivec2(${i}, ${s});\n      const ivec2 pads = ivec2(${p}, ${h});\n      const float initializationValue = ${y};\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xR, int xC, int d) {\n        if (xC < 0 || xC >= ${e.inWidth}) {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xR, xC, d);\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d = coords[3];\n\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // max/min x(?, ?, d) to get y(yR, yC, d).\n        // ? = to be determined\n        vec4 minMaxValue = vec4(${y});\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wR = 0; wR < ${c};\n            wR += ${l}) {\n          int xR = xRCorner + wR;\n\n          if (xR < 0 || xR >= ${e.inHeight}) {\n            continue;\n          }\n\n          for (int wC = 0; wC < ${b}; wC += 4) {\n            int xC = xCCorner + wC * ${u};\n\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ${u}, d),\n              getValue(batch, xR, xC + 2 * ${u}, d),\n              getValue(batch, xR, xC + 3 * ${u}, d)\n            );\n\n            ${w}\n          }\n\n          int xC = xCCorner + ${b};\n          if (${1===x}) {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              initializationValue,\n              initializationValue,\n              initializationValue\n            );\n\n            ${w}\n          } else if (${2===x}) {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ${u}, d),\n              initializationValue,\n              initializationValue\n            );\n\n            ${w}\n          } else if (${3===x}) {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ${u}, d),\n              getValue(batch, xR, xC + 2 * ${u}, d),\n              initializationValue\n            );\n\n            ${w}\n          }\n        }\n        setOutput(${v});\n      }\n    `}}class lCe{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(this.variableNames=["x"],"avg"===t&&n)throw new Error("Cannot compute positions for average pool.");const a=e.filterWidth,i=e.strideDepth,s=e.strideHeight,l=e.strideWidth,u=e.dilationDepth,c=e.dilationHeight,d=e.dilationWidth,p=e.effectiveFilterDepth,h=e.effectiveFilterHeight,f=e.effectiveFilterWidth,m=e.padInfo.front,g=e.padInfo.top,y=e.padInfo.left;this.outputShape=e.outShape;const v="avg"===t;let b="0.0";if(v||(b="-1.0 / 1e-20"),n){const t=">=";return void(this.userCode=`\n        const ivec3 strides =\n            ivec3(${i}, ${s}, ${l});\n        const ivec3 pads = ivec3(${m}, ${g}, ${y});\n\n        void main() {\n          ivec5 coords = getOutputCoords();\n          int batch = coords.x;\n          int ch = coords.u;\n\n          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n          int xDCorner = xCorner.x;\n          int xRCorner = xCorner.y;\n          int xCCorner = xCorner.z;\n\n          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n\n          for (int wD = 0; wD < ${p};\n              wD += ${u}) {\n            int xD = xDCorner + wD;\n\n            if (xD < 0 || xD >= ${e.inDepth}) {\n              continue;\n            }\n\n            for (int wR = 0; wR < ${h};\n                wR += ${c}) {\n              int xR = xRCorner + wR;\n\n              if (xR < 0 || xR >= ${e.inHeight}) {\n                continue;\n              }\n\n              for (int wC = 0; wC < ${f};\n                  wC += ${d}) {\n                int xC = xCCorner + wC;\n\n                if (xC < 0 || xC >= ${e.inWidth}) {\n                  continue;\n                }\n\n                float value = getX(batch, xD, xR, xC, ch);\n\n                // If a min / max value has already been found, use it. If not,\n                // use the current value.\n                float currMinMaxValue = mix(\n                    value, minMaxValue, minMaxValueFound);\n                if (value ${t} currMinMaxValue) {\n                  minMaxValue = value;\n                  minMaxValueFound = 1.0;\n                  minMaxPosition = ${r?o?`(((batch * ${e.inDepth} + xD) * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + ch`:`((xD * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + ch`:`wD * ${h} * ${f} +\n                      wR * ${f} + wC`};\n                }\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      `)}let x=`${t}(${t}(${t}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;"avg"===t&&(x="avgValue / max(count, 1.0)");const w=4*Math.floor(a/4),k=a%4,S=`\n      if (${v}) {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = max(values, minMaxValue);\n      }\n    `;this.userCode=`\n      const ivec3 strides =\n        ivec3(${i}, ${s}, ${l});\n      const ivec3 pads = ivec3(${m}, ${g}, ${y});\n      const float initializationValue = ${b};\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xD, int xR, int xC, int ch) {\n        if (xC < 0 || xC >= ${e.inWidth}) {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xD, xR, xC, ch);\n      }\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xDCorner = xCorner.x;\n        int xRCorner = xCorner.y;\n        int xCCorner = xCorner.z;\n\n        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).\n        // ? = to be determined\n        vec4 minMaxValue = vec4(${b});\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wD = 0; wD < ${p};\n            wD += ${u}) {\n          int xD = xDCorner + wD;\n\n          if (xD < 0 || xD >= ${e.inDepth}) {\n            continue;\n          }\n\n          for (int wR = 0; wR < ${h};\n            wR += ${c}) {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= ${e.inHeight}) {\n              continue;\n            }\n\n            for (int wC = 0; wC < ${w}; wC += 4) {\n              int xC = xCCorner + wC * ${d};\n\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ${d}, ch),\n                getValue(batch, xD, xR, xC + 2 * ${d}, ch),\n                getValue(batch, xD, xR, xC + 3 * ${d}, ch)\n              );\n\n              ${S}\n            }\n\n            int xC = xCCorner + ${w};\n            if (${1===k}) {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                initializationValue,\n                initializationValue,\n                initializationValue\n              );\n\n              ${S}\n            } else if (${2===k}) {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ${d}, ch),\n                initializationValue,\n                initializationValue\n              );\n\n              ${S}\n            } else if (${3===k}) {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ${d}, ch),\n                getValue(batch, xD, xR, xC + 2 * ${d}, ch),\n                initializationValue\n              );\n\n              ${S}\n            }\n          }\n        }\n        setOutput(${x});\n      }\n    `}}const uCe={kernelName:E0,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t;Lwe(o,"avgPool");const{filterSize:a,strides:i,pad:s,dimRoundingMode:l}=r;xJ(x7(i,1),(()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${i} and dilations '1'`));const u=c7(o.shape,a,i,1,s,l);if(1===u.filterWidth&&1===u.filterHeight&&TJ(u.inShape,u.outShape))return XSe({inputs:{x:o},backend:n});const c=new sCe(u,"avg",!1);return n.runWebGLProgram(c,[o],"float32")}};const cCe={kernelName:O0,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{filterSize:a,strides:i,pad:s,dimRoundingMode:l,dataFormat:u}=r,c=d7(o.shape,a,i,[1,1,1],s,l,u),d=new lCe(c,"avg",!1);return n.runWebGLProgram(d,[o],"float32")}};class dCe{constructor(e){this.variableNames=["dy"],this.outputShape=e.inShape;const t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,o=e.strideWidth,a=e.dilationHeight,i=e.dilationWidth,s=e.effectiveFilterHeight,l=e.effectiveFilterWidth,u=s-1-e.padInfo.top,c=l-1-e.padInfo.left,d=1/(t*n);this.userCode=`\n      const ivec2 pads = ivec2(${u}, ${c});\n      const float avgMultiplier = float(${d});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ${s};\n            wR += ${a}) {\n          float dyR = float(dyRCorner + wR) / ${r}.0;\n\n          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < ${l};\n            wC+= ${i}) {\n            float dyC = float(dyCCorner + wC) / ${o}.0;\n\n            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n\n            dotProd += dyValue * avgMultiplier;\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class pCe{constructor(e){this.variableNames=["dy"],this.outputShape=e.inShape;const t=e.filterDepth,n=e.filterHeight,r=e.filterWidth,o=e.strideDepth,a=e.strideHeight,i=e.strideWidth,s=e.dilationDepth,l=e.dilationHeight,u=e.dilationWidth,c=e.effectiveFilterDepth,d=e.effectiveFilterHeight,p=e.effectiveFilterWidth,h=c-1-e.padInfo.front,f=d-1-e.padInfo.top,m=p-1-e.padInfo.left,g=1/(t*n*r);this.userCode=`\n      const ivec3 pads = ivec3(${h}, ${f}, ${m});\n      const float avgMultiplier = float(${g});\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < ${c};\n            wD += ${s}) {\n          float dyD = float(dyDCorner + wD) / ${o}.0;\n\n          if (dyD < 0.0 || dyD >= ${e.outDepth}.0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < ${d};\n              wR += ${l}) {\n            float dyR = float(dyRCorner + wR) / ${a}.0;\n\n            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < ${p};\n                wC += ${u}) {\n              float dyC = float(dyCCorner + wC) / ${i}.0;\n\n              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n\n              dotProd += dyValue * avgMultiplier;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}const hCe={kernelName:M0,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:o,input:a}=t,i=a,{filterSize:s,strides:l,pad:u,dimRoundingMode:c}=r,d=d7(i.shape,s,l,[1,1,1],u,c),p=new pCe(d);return n.runWebGLProgram(p,[o],i.dtype)}};const fCe={kernelName:N0,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:o,input:a}=t,i=a;Lwe([o,a],"avgPoolGrad");const{filterSize:s,strides:l,pad:u}=r,c=c7(i.shape,s,l,1,u),d=new dCe(c);return n.runWebGLProgram(d,[o],i.dtype)}};const mCe={kernelName:D0,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{a:o,b:a}=t,{transposeA:i,transposeB:s}=r;return EAe({a:o,b:a,transposeA:i,transposeB:s,backend:n})}};class gCe{constructor(e,t,n,r,o,a){this.outputShape=[],this.variableNames=["x","mean","variance"],k8(e,t),k8(e,n);let i="0.0";null!=r&&(k8(e,r),this.variableNames.push("offset"),i="getOffsetAtOutCoords()");let s="1.0";null!=o&&(k8(e,o),this.variableNames.push("scale"),s="getScaleAtOutCoords()"),this.outputShape=e,this.userCode=`\n      void main() {\n        float x = getXAtOutCoords();\n        float mean = getMeanAtOutCoords();\n        float variance = getVarianceAtOutCoords();\n        float offset = ${i};\n        float scale = ${s};\n        float inv = scale * inversesqrt(variance + float(${a}));\n        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));\n      }\n    `}}class yCe{constructor(e,t,n,r,o,a){this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],k8(e,t),k8(e,n);let i="vec4(0.0)";null!=r&&(k8(e,r),this.variableNames.push("offset"),i="getOffsetAtOutCoords()");let s="vec4(1.0)";null!=o&&(k8(e,o),this.variableNames.push("scale"),s="getScaleAtOutCoords()"),this.outputShape=e,this.userCode=`\n      void main() {\n        vec4 offset = ${i};\n        vec4 scale = ${s};\n\n        vec4 x = getXAtOutCoords();\n        vec4 mean = getMeanAtOutCoords();\n        vec4 variance = getVarianceAtOutCoords();\n\n        vec4 inv = scale * inversesqrt(variance + vec4(${a}));\n\n        setOutput((x - mean) * inv + offset);\n      }\n    `}}const vCe={kernelName:C1,backendName:"webgl",kernelFunc:e=>{let{inputs:t,backend:n,attrs:r}=e;const{x:o,mean:a,variance:i,offset:s,scale:l}=t;xJ(a.shape.length===i.shape.length,(()=>"Batch normalization gradient requires mean and variance to have equal ranks.")),xJ(null==s||a.shape.length===s.shape.length,(()=>"Batch normalization gradient requires mean and offset to have equal ranks.")),xJ(null==l||a.shape.length===l.shape.length,(()=>"Batch normalization gradient requires mean and scale to have equal ranks."));let{varianceEpsilon:u}=r;null==u&&(u=.001);const c=[o,a,i];let d=null;null!=s&&(d=s.shape,c.push(s));let p=null;null!=l&&(p=l.shape,c.push(l));const h=u0().getBool("WEBGL_PACK_NORMALIZATION")?new yCe(o.shape,a.shape,i.shape,d,p,u):new gCe(o.shape,a.shape,i.shape,d,p,u);return n.runWebGLProgram(h,c,c[0].dtype)}};class bCe{constructor(e){this.variableNames=["source"],this.outputShape=e,this.rank=e.length;const t=oke(this.rank);this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];const n=function(e){if(1===e)return"sourceLoc";if(e<=6)return xCe.slice(0,e).map((e=>"sourceLoc."+e)).join(",");throw Error(`Slicing for rank ${e} is not yet supported`)}(this.rank);let r;r=`\n        ${t} sourceLoc;\n        ${t} coords = getOutputCoords();\n        ${e.map(((e,t)=>`sourceLoc.${xCe[t]} = start[${t}] + coords.${xCe[t]};`)).join("\n")}\n      `,this.userCode=`\n      void main() {\n        ${r}\n        setOutput(getSource(${n}));\n      }\n    `}}const xCe=["x","y","z","w","u","v"];class wCe{constructor(e){this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.rank=e.length,this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];const t=oke(this.rank),n=TSe("coords",this.rank),r=TSe("sourceLoc",this.rank),o=1===this.rank?"sourceLoc":`vec2(${r.slice(-2).join()})`,a=`getChannel(getSource(${r.join()}), ${o})`,i=`\n      result.x = ${a};\n      if (++${n[this.rank-1]} < ${e[this.rank-1]}) {\n        ++${r[this.rank-1]};\n        result.y = ${a};\n        --${r[this.rank-1]};\n      }\n    `,s=1===this.rank?"":`\n      --${n[this.rank-1]};\n      if (++${n[this.rank-2]} < ${e[this.rank-2]}) {\n        ++${r[this.rank-2]};\n        result.z = ${a};\n        if (++${n[this.rank-1]} < ${e[this.rank-1]}) {\n          ++${r[this.rank-1]};\n          result.w = ${a};\n        }\n      }\n    `,l=this.rank<=4?`sourceLoc = coords +\n            ${t}(${e.map(((e,t)=>`start[${t}]`)).join()});`:e.map(((e,t)=>`${r[t]} = ${n[t]} + start[${t}];`)).join("\n");this.userCode=`\n      void main() {\n        ${t} coords = getOutputCoords();\n        ${t} sourceLoc;\n        ${l}\n        vec4 result = vec4(0.);\n        ${i}\n        ${s}\n        setOutput(result);\n      }\n    `}}function kCe(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{begin:a,size:i}=r,[s,l]=D9(o,a,i);if(v9(o,s,l),0===SJ(l))return n.makeTensorInfo(l,o.dtype,[]);if(n.shouldExecuteOnCPU([o])||"string"===o.dtype){const e=n.texData.get(o.dataId),t=cSe(e.values,s,l,o.shape,o.dtype);return n.makeTensorInfo(l,o.dtype,t)}const{isPacked:u}=n.texData.get(o.dataId),c=O9(o.shape,s,l);if(u||!c){const e=u0().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new wCe(l):new bCe(l),t=[s];return n.runWebGLProgram(e,[o],o.dtype,t)}return n.uploadToGPU(o.dataId),function(e,t,n,r){const o=r.texData.get(e.dataId),a=r.makeTensorInfo(n,e.dtype),i=r.texData.get(a.dataId);Object.assign(i,o),i.refCount=1,i.shape=n,i.dtype=e.dtype;let s=M9(t,XJ(e.shape));o.slice&&(s+=o.slice.flatOffset),i.slice={flatOffset:s,origDataId:o.slice&&o.slice.origDataId||e.dataId};const l=r.dataRefCount.get(i.slice.origDataId)||1;return r.dataRefCount.set(i.slice.origDataId,l+1),a}(o,s,l,n)}const SCe={kernelName:H2,backendName:"webgl",kernelFunc:kCe},ACe={kernelName:R0,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{blockShape:a,crops:i}=r;xJ(o.shape.length<=4,(()=>"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet"));const s=a.reduce(((e,t)=>e*t)),l=moe(o.shape,a,s),u=goe(l.length,a.length),c=yoe(o.shape,a,s),d=voe(i,a.length),p=boe(c,i,a.length),h=[],f=gAe({inputs:{x:o},backend:n,attrs:{shape:l}}),m=TAe({inputs:{x:f},backend:n,attrs:{perm:u}}),g=gAe({inputs:{x:m},backend:n,attrs:{shape:c}}),y=kCe({inputs:{x:g},backend:n,attrs:{begin:d,size:p}});return h.push(f),h.push(m),h.push(g),h.forEach((e=>n.disposeIntermediateTensorInfo(e))),y}};const CCe={kernelName:P0,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,weights:a}=t,{size:i}=r,s=n.readSync(o.dataId),l=n.readSync(a.dataId),u=Mke(s,l,a.dtype,a.shape,i);return n.makeTensorInfo([i],a.dtype,u)}};const TCe={kernelName:$0,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{a:r,b:o}=t,a=u0().getBool("WEBGL_PACK_BINARY_OPERATIONS"),i=u0().getNumber("WEBGL_VERSION");if(n.shouldExecuteOnCPU([r,o])||1===i){const e=n.texData.get(r.dataId).values,t=n.texData.get(o.dataId).values,[a,i]=Rke(r.shape,o.shape,e,t,r.dtype),s=n.makeTensorInfo(i,r.dtype);return n.texData.get(s.dataId).values=a,s}let s;return s=a?new KSe("\n  int r = int(a.r) & int(b.r);\n  int g = int(a.g) & int(b.g);\n  int rb = int(a.b) & int(b.b);\n  int ra = int(a.a) & int(b.a);\n  return vec4(r, g, rb, ra);\n",r.shape,o.shape,!1):new GSe("\n  return float(int(a.r) & int(b.r));\n",r.shape,o.shape),n.runWebGLProgram(s,[r,o],r.dtype)}};const ICe={kernelName:_0,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{s0:r,s1:o}=t,a=n.readSync(r.dataId),i=n.readSync(o.dataId),s=k8(Array.from(a),Array.from(i));return n.makeTensorInfo([s.length],"int32",Int32Array.from(s))}},ECe=sAe({opSnippet:"return float(a != b);",cpuKernelImpl:eSe,dtype:"bool"}),NCe={kernelName:p2,backendName:"webgl",kernelFunc:ECe};function OCe(e){const{inputs:t,backend:n}=e,{input:r}=t;return XSe({inputs:{x:n.texData.get(r.dataId).complexTensorInfos.real},backend:n})}const MCe={kernelName:E2,backendName:"webgl",kernelFunc:OCe};const DCe={kernelName:F0,backendName:"webgl",kernelFunc:function e(t){const{inputs:n,backend:r,attrs:o}=t,{x:a}=n,{dtype:i}=o;if("complex64"===i){if("complex64"===a.dtype)return XSe({inputs:{x:a},backend:r});const t=dte(a.shape),n=e({inputs:{x:a},backend:r,attrs:{dtype:"float32"}}),o=QSe({inputs:{real:n,imag:t},backend:r});return t.dispose(),r.disposeIntermediateTensorInfo(n),o}if("complex64"===a.dtype){const t=OCe({inputs:{input:a},backend:r}),n=e({inputs:{x:t},backend:r,attrs:{dtype:i}});return r.disposeIntermediateTensorInfo(t),n}if(!zJ(a.dtype,i)){const e=XSe({inputs:{x:a},backend:r});return{dataId:e.dataId,shape:e.shape,dtype:i}}if(r.shouldExecuteOnCPU([a])){const e=r.texData.get(a.dataId).values,[t,n,o]=Pke(e,a.shape,a.dtype,i);return r.makeTensorInfo(t,n,o)}if("int32"===i)return function(e,t){const n=new RSe(e.shape,"return float(int(x));"),r=t.runWebGLProgram(n,[e],"int32");return{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}(a,r);if("bool"===i){const e=r.makeTensorInfo([],"bool",jJ("bool",1)),t=ECe({inputs:{a:a,b:e},backend:r});return r.disposeIntermediateTensorInfo(e),t}throw new Error(`Error in Cast: failed to cast ${a.dtype} to ${i}`)}},RCe="return ceil(x);",PCe=iAe({opSnippet:RCe,packedOpSnippet:RCe,cpuKernelImpl:$ke}),$Ce={kernelName:L0,backendName:"webgl",kernelFunc:PCe};class jCe{constructor(e){this.variableNames=["A"],this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=e,this.userCode="\n\n      void main() {\n        float value = getAAtOutCoords();\n        if (isnan(value)) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, minVal, maxVal));\n      }\n    "}}class _Ce{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=e,this.userCode="\n      void main() {\n        vec4 value = getAAtOutCoords();\n\n        if (any(isnan(value))) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));\n      }\n    "}}const FCe={kernelName:z0,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{clipValueMin:a,clipValueMax:i}=r;let s;s=u0().getBool("WEBGL_PACK_CLIP")?new _Ce(o.shape):new jCe(o.shape);const l=[[a],[i]];return n.runWebGLProgram(s,[o],o.dtype,l)}};class LCe{constructor(e){this.variableNames=["real","imag"],this.outputShape=e,this.userCode="\n      void main() {\n        float re = abs(getRealAtOutCoords());\n        float im = abs(getImagAtOutCoords());\n        float mx = max(re, im);\n\n        // sadly the length function in glsl is not underflow-safe\n        // (at least not on Intel GPUs). So the safe solution is\n        // to ensure underflow-safety in all cases.\n        setOutput(\n          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))\n        );\n      }\n    "}}function zCe(e,t){return{dataId:t.dataId,dtype:t.dtype,shape:e.shape}}const BCe={kernelName:W0,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:r}=t,o=n.texData.get(r.dataId),a=new LCe(r.shape),i=[zCe(r,o.complexTensorInfos.real),zCe(r,o.complexTensorInfos.imag)];return n.runWebGLProgram(a,i,i[0].dtype)}};class WCe{constructor(e){this.outputShape=[],this.outputShape=aoe(e,1),this.variableNames=e.map(((e,t)=>`T${t}`));const t=new Array(e.length-1);t[0]=e[0][1];for(let a=1;a<t.length;a++)t[a]=t[a-1]+e[a][1];const n=[`if (yC < ${t[0]}) setOutput(getT0(yR, yC));`];for(let a=1;a<t.length;a++){const e=t[a-1];n.push(`else if (yC < ${t[a]}) setOutput(getT${a}(yR, yC-${e}));`)}const r=t.length,o=t[t.length-1];n.push(`else setOutput(getT${r}(yR, yC-${o}));`),this.userCode=`\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int yR = coords.x;\n        int yC = coords.y;\n\n        ${n.join("\n        ")}\n      }\n    `}}class VCe{constructor(e,t){this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=aoe(e,t);const n=this.outputShape,r=n.length,o=oke(r),a=TSe("coords",r),i=["x","y","z","w","u","v"].slice(0,r);this.variableNames=e.map(((e,t)=>`T${t}`));const s=new Array(e.length-1);s[0]=e[0][t];for(let f=1;f<s.length;f++)s[f]=s[f-1]+e[f][t];const l=i[t],u=i.slice(-2),c=i.join();let d=`if (${l} < ${s[0]}) {\n        return getChannel(\n            getT0(${c}), vec2(${u.join()}));\n        }`;for(let f=1;f<s.length;f++){const e=s[f-1];d+=`\n        if (${l} < ${s[f]}  && ${l} >= ${s[f-1]}) {\n          return getChannel(\n            getT${f}(${UCe(i,l,e)}),\n            vec2(${UCe(u,l,e)}));\n        }`}const p=s.length,h=s[s.length-1];d+=`\n        return getChannel(\n          getT${p}(${UCe(i,l,h)}),\n          vec2(${UCe(u,l,h)}));`,this.userCode=`\n      float getValue(${i.map((e=>"int "+e))}) {\n        ${d}\n      }\n\n      void main() {\n        ${o} coords = getOutputCoords();\n        vec4 result = vec4(getValue(${a}), 0., 0., 0.);\n\n        ${a[r-1]} = ${a[r-1]} + 1;\n        if (${a[r-1]} < ${n[r-1]}) {\n          result.g = getValue(${a});\n        }\n\n        ${a[r-2]} = ${a[r-2]} + 1;\n        if (${a[r-2]} < ${n[r-2]}) {\n          result.a = getValue(${a});\n        }\n\n        ${a[r-1]} = ${a[r-1]} - 1;\n        if (${a[r-2]} < ${n[r-2]} &&\n            ${a[r-1]} < ${n[r-1]}) {\n          result.b = getValue(${a});\n        }\n        setOutput(result);\n      }\n    `}}function UCe(e,t,n){const r=e.indexOf(t);return e.map(((e,t)=>t===r?`${e} - ${n}`:e)).join()}function HCe(e){const{inputs:t,backend:n}=e,{input:r}=t;return XSe({inputs:{x:n.texData.get(r.dataId).complexTensorInfos.imag},backend:n})}const GCe={kernelName:D1,backendName:"webgl",kernelFunc:HCe};function qCe(e,t,n){const r=e[0].dtype;if("complex64"===r){const r=e.map((e=>OCe({inputs:{input:e},backend:n}))),o=e.map((e=>HCe({inputs:{input:e},backend:n}))),a=qCe(r,t,n),i=qCe(o,t,n),s=QSe({inputs:{real:a,imag:i},backend:n});return r.forEach((e=>n.disposeIntermediateTensorInfo(e))),o.forEach((e=>n.disposeIntermediateTensorInfo(e))),n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(i),s}let o=n.shouldExecuteOnCPU(e);if("string"===r&&(o=!0),o){const o=e.map((e=>{const r=SJ(e.shape.slice(t));return gAe({inputs:{x:e},backend:n,attrs:{shape:[-1,r]}})})),a=o.map((e=>({vals:n.readSync(e.dataId),shape:e.shape}))),i=aoe(o.map((e=>e.shape)),1),s=1===o[0].shape[0],l=jke(a,i,r,s),u=aoe(e.map((e=>e.shape)),t),c=n.makeTensorInfo(u,r,l);return o.forEach((e=>n.disposeIntermediateTensorInfo(e))),c}const a=e.filter((e=>SJ(e.shape)>0)),i=u0().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&a[0].shape.length>1;if(1===a.length){const t=i?new RSe(e[0].shape,FSe):new LSe(e[0].shape,FSe);return n.runWebGLProgram(t,e,r)}const s=u0().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER");if(a.length>s){const e=[];for(let o=0;o<a.length;o+=s){const r=a.slice(o,o+s);e.push(qCe(r,t,n))}const r=qCe(e,t,n);for(const t of e)n.disposeIntermediateTensorInfo(t);return r}if(i){const e=new VCe(a.map((e=>e.shape)),t);return n.runWebGLProgram(e,a,r)}const{tensors2D:l,outShape:u}=function(e,t,n){const r=aoe(e.map((e=>e.shape)),t),o=e.map((e=>gAe({inputs:{x:e},attrs:{shape:[-1,SJ(e.shape.slice(t))]},backend:n})));return{tensors2D:o,outShape:r}}(a,t,n),c=new WCe(l.map((e=>e.shape))),d=n.runWebGLProgram(c,l,r);l.forEach((e=>n.disposeIntermediateTensorInfo(e)));const p=gAe({inputs:{x:d},attrs:{shape:u},backend:n});return n.disposeIntermediateTensorInfo(d),p}function KCe(e){const{inputs:t,backend:n,attrs:r}=e,{axis:o}=r,a=PJ(o,t[0].shape)[0];ooe(t.map((e=>e.shape)),a);const i=aoe(t.map((e=>e.shape)),a);if(0===SJ(i))return n.makeTensorInfo(i,t[0].dtype,[]);const s=t.filter((e=>SJ(e.shape)>0));return 1===s.length?XSe({inputs:{x:s[0]},backend:n}):qCe(s,a,n)}const XCe={kernelName:V0,backendName:"webgl",kernelFunc:KCe};class YCe{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.variableNames=["x","W"],this.outputShape=e.outShape;const a=e.padInfo.top,i=e.padInfo.left,s=e.strideHeight,l=e.strideWidth,u=e.dilationHeight,c=e.dilationWidth,d=e.filterHeight,p=e.filterWidth,h=4*Math.floor(e.inChannels/4),f=e.inChannels%4,m="channelsLast"===e.dataFormat,g=m?1:2,y=m?2:3,v=m?3:1;let b="",x="";n&&(b=r?`float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          ${n}\n        }`:o?`float activation(float a) {\n          float b = getLeakyreluAlphaAtOutCoords();\n          ${n}\n        }`:`\n          float activation(float x) {\n            ${n}\n          }\n        `,x="result = activation(result);");const w=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),o&&this.variableNames.push("leakyreluAlpha"),this.userCode=`\n      ${b}\n\n      const ivec2 strides = ivec2(${s}, ${l});\n      const ivec2 pads = ivec2(${a}, ${i});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d2 = coords[${v}];\n\n        ivec2 xRCCorner =\n            ivec2(coords[${g}], coords[${y}]) * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ${d}; wR++) {\n          int xR = xRCorner + wR * ${u};\n\n          if (xR < 0 || xR >= ${e.inHeight}) {\n            continue;\n          }\n\n          for (int wC = 0; wC < ${p}; wC++) {\n            int xC = xCCorner + wC * ${c};\n\n            if (xC < 0 || xC >= ${e.inWidth}) {\n              continue;\n            }\n\n            for (int d1 = 0; d1 < ${h}; d1 += 4) {\n              vec4 wValues = vec4(\n                getW(wR, wC, d1, d2),\n                getW(wR, wC, d1 + 1, d2),\n                getW(wR, wC, d1 + 2, d2),\n                getW(wR, wC, d1 + 3, d2)\n              );\n\n              if (${m}) {\n                vec4 xValues = vec4(\n                  getX(batch, xR, xC, d1),\n                  getX(batch, xR, xC, d1 + 1),\n                  getX(batch, xR, xC, d1 + 2),\n                  getX(batch, xR, xC, d1 + 3)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec4 xValues = vec4(\n                  getX(batch, d1, xR, xC),\n                  getX(batch, d1 + 1, xR, xC),\n                  getX(batch, d1 + 2, xR, xC),\n                  getX(batch, d1 + 3, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n\n            if (${1===f}) {\n\n              if (${m}) {\n                dotProd +=\n                    getX(batch, xR, xC, ${h}) *\n                    getW(wR, wC, ${h}, d2);\n              } else {\n                dotProd +=\n                    getX(batch, ${h}, xR, xC) *\n                    getW(wR, wC, ${h}, d2);\n              }\n\n            } else if (${2===f}) {\n              vec2 wValues = vec2(\n                getW(wR, wC, ${h}, d2),\n                getW(wR, wC, ${h} + 1, d2)\n              );\n\n              if (${m}) {\n                vec2 xValues = vec2(\n                  getX(batch, xR, xC, ${h}),\n                  getX(batch, xR, xC, ${h} + 1)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec2 xValues = vec2(\n                  getX(batch, ${h}, xR, xC),\n                  getX(batch, ${h} + 1, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            } else if (${3===f}) {\n              vec3 wValues = vec3(\n                getW(wR, wC, ${h}, d2),\n                getW(wR, wC, ${h} + 1, d2),\n                getW(wR, wC, ${h} + 2, d2)\n              );\n\n              if (${m}) {\n                vec3 xValues = vec3(\n                  getX(batch, xR, xC, ${h}),\n                  getX(batch, xR, xC, ${h} + 1),\n                  getX(batch, xR, xC, ${h} + 2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec3 xValues = vec3(\n                  getX(batch, ${h}, xR, xC),\n                  getX(batch, ${h} + 1, xR, xC),\n                  getX(batch, ${h} + 2, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            }\n          }\n        }\n\n        float result = dotProd;\n        ${w}\n        ${x}\n        setOutput(result);\n      }\n    `}}class QCe{constructor(e){this.variableNames=["x","W"],this.outputShape=e.outShape;const t=e.padInfo.front,n=e.padInfo.top,r=e.padInfo.left,o=e.strideDepth,a=e.strideHeight,i=e.strideWidth,s=e.dilationDepth,l=e.dilationHeight,u=e.dilationWidth,c=e.filterDepth,d=e.filterHeight,p=e.filterWidth,h=4*Math.floor(e.inChannels/4),f=e.inChannels%4;this.userCode=`\n      const ivec3 strides = ivec3(${o}, ${a}, ${i});\n      const ivec3 pads = ivec3(${t}, ${n}, ${r});\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d2 = coords.u;\n\n        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xFCorner = xFRCCorner.x;\n        int xRCorner = xFRCCorner.y;\n        int xCCorner = xFRCCorner.z;\n\n        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get\n        // y(yF, yR, yC, d2). ? = to be determined. : = across all\n        // values in that axis.\n        float dotProd = 0.0;\n        for (int wF = 0; wF < ${c}; wF++) {\n          int xF = xFCorner + wF * ${s};\n\n          if (xF < 0 || xF >= ${e.inDepth}) {\n            continue;\n          }\n\n          for (int wR = 0; wR < ${d}; wR++) {\n            int xR = xRCorner + wR * ${l};\n\n            if (xR < 0 || xR >= ${e.inHeight}) {\n              continue;\n            }\n\n            for (int wC = 0; wC < ${p}; wC++) {\n              int xC = xCCorner + wC * ${u};\n\n              if (xC < 0 || xC >= ${e.inWidth}) {\n                continue;\n              }\n\n              for (int d1 = 0; d1 < ${h}; d1 += 4) {\n                vec4 xValues = vec4(\n                  getX(batch, xF, xR, xC, d1),\n                  getX(batch, xF, xR, xC, d1 + 1),\n                  getX(batch, xF, xR, xC, d1 + 2),\n                  getX(batch, xF, xR, xC, d1 + 3)\n                );\n                vec4 wValues = vec4(\n                  getW(wF, wR, wC, d1, d2),\n                  getW(wF, wR, wC, d1 + 1, d2),\n                  getW(wF, wR, wC, d1 + 2, d2),\n                  getW(wF, wR, wC, d1 + 3, d2)\n                );\n\n                dotProd += dot(xValues, wValues);\n              }\n\n              if (${1===f}) {\n                dotProd +=\n                  getX(batch, xF, xR, xC, ${h}) *\n                  getW(wF, wR, wC, ${h}, d2);\n              } else if (${2===f}) {\n                vec2 xValues = vec2(\n                  getX(batch, xF, xR, xC, ${h}),\n                  getX(batch, xF, xR, xC, ${h} + 1)\n                );\n                vec2 wValues = vec2(\n                  getW(wF, wR, wC, ${h}, d2),\n                  getW(wF, wR, wC, ${h} + 1, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else if (${3===f}) {\n                vec3 xValues = vec3(\n                  getX(batch, xF, xR, xC, ${h}),\n                  getX(batch, xF, xR, xC, ${h} + 1),\n                  getX(batch, xF, xR, xC, ${h} + 2)\n                );\n                vec3 wValues = vec3(\n                  getW(wF, wR, wC, ${h}, d2),\n                  getW(wF, wR, wC, ${h} + 1, d2),\n                  getW(wF, wR, wC, ${h} + 2, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class ZCe{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=dke(this.outputShape.length);const a=e.padInfo.left,i=e.strideWidth,s=e.dilationWidth,l=e.filterHeight,u=e.filterWidth,c=u;let d="\n       int xR; int xC; int xCOffset;\n       vec4 wTexel; vec4 previous; vec4 final;";for(let m=0;m<u;m++)d+=`\n           vec4 xTexelC${2*m};\n           int xTexelC${2*m}Ready;\n           vec4 xTexelC${2*m+1};\n           int xTexelC${2*m+1}Ready;\n           vec4 xC${m};`;d+=`\n     for (int r = 0; r < ${l}; r++) {\n      for (int d1 = 0; d1 < ${e.inChannels}; d1 += 2) {\n       `;for(let m=0;m<u;m++)d+=`\n           xTexelC${2*m} = vec4(0.0);\n           xTexelC${2*m}Ready = 0;\n           xTexelC${2*m+1} = vec4(0.0);\n           xTexelC${2*m+1}Ready = 0;\n           xC${m} = vec4(0.0);`;d+="\n         xR = xRCorner + r * dilations[0];\n         if (xR >=0 && xR < inDims[0]) {\n       ";for(let m=0;m<(c+1)/2;m++){const t=2*m;if(d+=`\n           xC = xCCorner + ${t*s};\n           `,1===i){if(t<u&&(a%2===1?(d+=`\n                 xCOffset = xC + 1;\n                 if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${t}Ready == 0) {\n                   xTexelC${t} = getX(batch, xR, xCOffset, d1);\n\n                   // Need to manually clear unused channels in case\n                   // we're reading from recycled texture.\n                   if (xCOffset + 1 >= inDims[1]) {\n                     xTexelC${t}.zw = vec2(0.0);\n                   }\n                   xTexelC${t}Ready = 1;\n                 }\n               `,d+=1===s&&t>0?`\n                 xC${t} = vec4(xTexelC${t-2}.zw, xTexelC${t}.xy);\n                 `:`\n                   xCOffset = xC + 1 - 2;\n\n                   if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                     previous = getX(batch, xR, xCOffset, d1);\n\n                     // Need to manually clear unused channels in case\n                     // we're reading from recycled texture.\n                     if (xCOffset + 1 >= inDims[1]) {\n                       previous.zw = vec2(0.0);\n                     }\n\n                     xC${t} = vec4(previous.zw, xTexelC${t}.xy);\n                   } else {\n                     xC${t} = vec4(0.0, 0.0, xTexelC${t}.xy);\n                   }\n                   `):d+=`\n                 if (xC >= 0 && xC < inDims[1] && xTexelC${t}Ready == 0) {\n                   xTexelC${t} = getX(batch, xR, xC, d1);\n                   if (xC + 1 >= inDims[1]) {\n                     xTexelC${t}.zw = vec2(0.0);\n                   }\n                   xTexelC${t}Ready = 1;\n                 }\n\n                 xC${t} = xTexelC${t};\n                 `,t+1<u)){const e=a%2===0?mJ(s):s;s%2===0&&a%2===1||s%2!==0&&a%2!==1?(d+=`\n                   xCOffset = xC + imod(pads[1], 2) + ${e};\n\n                   if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${t+1}Ready == 0) {\n                     xTexelC${t+1} = getX(batch, xR, xCOffset, d1);\n\n                     // Need to manually clear unused channels in case\n                     // we're reading from recycled texture.\n                     if (xCOffset + 1 >= inDims[1]) {\n                       xTexelC${t+1}.zw = vec2(0.0);\n                     }\n                     xTexelC${t+1}Ready = 1;\n                   }\n                   `,d+=s>1?`\n                     xCOffset -= 2;\n                     if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                      previous = getX(batch, xR, xCOffset, d1);\n                      xC${t+1} = vec4(previous.zw, xTexelC${t+1}.xy);\n                     } else {\n                      xC${t+1} = vec4(0.0, 0.0, xTexelC${t+1}.xy);\n                     }\n                     `:`\n                     xC${t+1} = vec4(xTexelC${t}.zw, xTexelC${t+1}.xy);\n                     `):d+=1===e?`\n                     xC${t+1} = xTexelC${t};\n                     `:`\n                     xCOffset = xC + ${e};\n\n                     if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${t+1}Ready == 0) {\n                       xTexelC${t+1} = getX(batch, xR, xCOffset, d1);\n                       if (xCOffset + 1 >= inDims[1]) {\n                         xTexelC${t+1}.zw = vec2(0.0);\n                       }\n                       xTexelC${t+1}Ready = 1;\n                     }\n\n                     xC${t+1} = xTexelC${t+1};\n                     `}}else t<u&&(a%2===1?(d+=`\n                 xCOffset = xC + 1 - strides[1];\n                 if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${t}Ready == 0) {\n                   xTexelC${t} = getX(batch, xR, xCOffset, d1);\n                   // Need to manually clear unused channels in case\n                   // we're reading from recycled texture.\n                   if (xCOffset + 1 >= inDims[1]) {\n                     xTexelC${t}.zw = vec2(0.0);\n                   }\n                   xTexelC${t}Ready = 1;\n                 }\n\n                 if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC${t+1}Ready == 0) {\n                   xTexelC${t+1} = getX(batch, xR, xC + 1, d1);\n                   // Need to manually clear unused channels in case\n                   // we're reading from recycled texture.\n                   if (xC + 2 >= inDims[1]) {\n                     xTexelC${t+1}.zw = vec2(0.0);\n                   }\n                   xTexelC${t+1}Ready = 1;\n                 }\n\n                 xC${t} = vec4(xTexelC${t}.zw, xTexelC${t+1}.zw);\n               `,t+1<u&&(d+=`\n                   final = vec4(0.0);\n                   xCOffset = xC + 1 + strides[1];\n                   if(xCOffset >= 0 && xCOffset < inDims[1]) {\n                     final = getX(batch, xR, xCOffset, d1);\n                   }\n                   xC${t+1} = vec4(xTexelC${t+1}.xy, final.xy);\n                 `)):(d+=`\n                 if(xC >= 0 && xC < inDims[1] && xTexelC${t}Ready == 0) {\n                   xTexelC${t} = getX(batch, xR, xC, d1);\n                   if (xC + 1 >= inDims[1]) {\n                     xTexelC${t}.zw = vec2(0.0);\n                   }\n                   xTexelC${t}Ready = 1;\n                 }\n\n                 xCOffset = xC + strides[1];\n                 if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${t+1}Ready == 0) {\n                   xTexelC${t+1} = getX(batch, xR, xCOffset, d1);\n                   if (xCOffset + 1 >= inDims[1]) {\n                     xTexelC${t+1}.zw = vec2(0.);\n                   }\n                   xTexelC${t+1}Ready = 1;\n                 }\n\n                 xC${t} = vec4(\n                   xTexelC${t}.xy, xTexelC${t+1}.xy);\n               `,t+1<u&&(d+=`\n                   xC${t+1} = vec4(xTexelC${t}.zw, xTexelC${t+1}.zw);\n                 `)));t<u&&(d+=`\n             wTexel = getW(r, ${t}, d1, d2);\n             dotProd += xC${t}.xxzz * vec4(wTexel.xy, wTexel.xy);\n             if(d1 + 1 < ${e.inChannels}) {\n               dotProd += xC${t}.yyww * vec4(wTexel.zw, wTexel.zw);\n             }\n           `,t+1<u&&(d+=`\n               wTexel = getW(r, ${t+1}, d1, d2);\n               dotProd += xC${t+1}.xxzz * vec4(wTexel.xy, wTexel.xy);\n               if(d1 + 1 < ${e.inChannels}) {\n                 dotProd += xC${t+1}.yyww * vec4(wTexel.zw, wTexel.zw);\n               }\n             `))}d+="\n     }\n   ",d+="\n     }\n   ",d+="\n     }\n   ";let p="",h="";n&&(p=r?`vec4 activation(vec4 a) {\n           vec4 b = getPreluActivationWeightsAtOutCoords();\n           ${n}\n         }`:o?`vec4 activation(vec4 a) {\n           vec4 b = getLeakyreluAlphaAtOutCoords();\n           ${n}\n         }`:`vec4 activation(vec4 x) {\n           ${n}\n         }`,h="result = activation(result);");const f=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),o&&this.variableNames.push("leakyreluAlpha"),this.userCode=`\n       ${p}\n\n       void main() {\n         ivec4 coords = getOutputCoords();\n         int batch = coords.x;\n         ivec2 xRCCorner = coords.yz * strides - pads;\n         int d2 = coords.w;\n         int xRCorner = xRCCorner.x;\n         int xCCorner = xRCCorner.y;\n\n         //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.\n         vec4 dotProd = vec4(0.000000000000001);\n\n         ${d}\n\n         vec4 result = dotProd - vec4(0.000000000000001);\n         ${f}\n         ${h}\n         setOutput(result);\n       }\n     `}}class JCe{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec4"},{name:"pad",type:"ivec2"},{name:"stride",type:"ivec2"},{name:"dilation",type:"ivec2"},{name:"inChannels",type:"int"},{name:"itemsPerBlockRow",type:"int"},{name:"outWidth",type:"int"}],this.outputShape=e,this.enableShapeUniforms=dke(this.outputShape.length);const{dataFormat:n}=t,r=Bwe(),o="channelsLast"===n,a=o?1:2,i=o?2:3,s=this.enableShapeUniforms?"if(blockIndex < outShape[2] && pos < outShape[1]) {":`if(blockIndex < ${e[2]} && pos < ${e[1]}) {`;let l="";for(let u=0;u<=1;u++)for(let e=0;e<=1;e++)l+=`\n          blockIndex = rc.z + ${e};\n          pos = rc.y + ${u};\n\n          ${s}\n            offsetY = int(blockIndex / outWidth) * stride[0] - pad[0];\n            d0 = offsetY + dilation[0] * (pos / itemsPerBlockRow);\n\n            if(d0 < inputShape[${a}] && d0 >= 0) {\n              // Use custom imod instead mod. On Intel GPU, mod may generate\n              // unexpected value.\n              // https://github.com/tensorflow/tfjs/issues/5447\n              offsetX = imod(blockIndex, outWidth) * stride[1] - pad[1];\n              d1 = offsetX + dilation[1] * (imod(pos, itemsPerBlockRow) /\n                  inChannels);\n\n              if(d1 < inputShape[${i}] && d1 >= 0) {\n\n                ch = imod(pos, inChannels);\n\n                if (${o}) {\n                  innerDims = vec2(d1, ch);\n                  result[${2*u+e}] = getChannel(\n                    getA(rc.x, d0, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                } else {\n                  innerDims = vec2(d0, d1);\n                  result[${2*u+e}] = getChannel(\n                    getA(rc.x, ch, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                }\n              }\n            }\n          }\n        `;this.userCode=`\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0);\n\n        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;\n        vec2 innerDims;\n\n        ${l}\n\n        ${r.output} = result;\n      }\n    `}}function eTe(e,t){const n=e.length;return n>=3?t?[...e.slice(0,-3),e[n-3]*e[n-2],e[n-1]]:[...e.slice(0,-3),e[n-3],e[n-2]*e[n-1]]:!t&&1===n&&e[0]>1?[e[0],1]:null}function tTe(e){let{x:t,filter:n,convInfo:r,backend:o,bias:a=null,preluActivationWeights:i=null,leakyreluAlpha:s=0,activation:l=null}=e;const u=t.shape,c=o.texData.get(t.dataId),d=r.inChannels,p=u[0]*u[1]*u[2],h=r.outChannels,f="channelsLast"===r.dataFormat,m=!1;let g;const y=[];if(null!=i){const e=eTe(i.shape,f);null!=e&&(i=gAe({inputs:{x:i},backend:o,attrs:{shape:e}}),y.push(i))}if(null!=a){const e=eTe(a.shape,f);null!=e&&(a=gAe({inputs:{x:a},backend:o,attrs:{shape:e}}),y.push(a))}if(!((1===p||1===h)&&d>1e3)&&c.isPacked&&f&&null!=c.texture&&u[2]%2!==0&&TJ(c.shape.slice(-3),u.slice(-3))){const e=u[0]*u[1]*(u[2]+1),d={dataId:t.dataId,shape:[1,e,r.inChannels],dtype:t.dtype},p=c.shape;c.shape=c.shape.slice(),c.shape[c.shape.length-2]++,xJ(Dwe(c.shape,d.shape),(()=>`packed reshape ${c.shape} to ${d.shape} isn't free`));const h=gAe({inputs:{x:n},backend:o,attrs:{shape:[1,r.inChannels,r.outChannels]}});y.push(h);const f=EAe({a:d,b:h,backend:o,transposeA:false,transposeB:m,bias:a,activation:l,preluActivationWeights:i,leakyreluAlpha:s}),v=o.texData.get(f.dataId);xJ(v.isPacked,(()=>"batchMatMul result is expected to be packed")),c.shape=p,v.shape=r.outShape,g=XSe({inputs:{x:f},backend:o}),g.shape=r.outShape,y.push(f)}else{const e=r.outHeight*r.outWidth,u=gAe({inputs:{x:t},backend:o,attrs:{shape:f?[r.batchSize,e,r.inChannels]:[r.batchSize,r.inChannels,e]}}),c=gAe({inputs:{x:n},backend:o,attrs:{shape:[1,r.inChannels,r.outChannels]}}),d=EAe({a:f?u:c,b:f?c:u,transposeA:!f,transposeB:m,backend:o,bias:a,activation:l,preluActivationWeights:i,leakyreluAlpha:s});g=gAe({inputs:{x:d},backend:o,attrs:{shape:r.outShape}}),y.push(u),y.push(c),y.push(d)}for(const v of y)o.disposeIntermediateTensorInfo(v);return g}function nTe(e){let{x:t,filter:n,convInfo:r,backend:o,bias:a=null,preluActivationWeights:i=null,leakyreluAlpha:s=0,activation:l=null}=e;const{filterWidth:u,filterHeight:c,inChannels:d,outWidth:p,outHeight:h,dataFormat:f}=r,m="channelsLast"===f,g=u*c*d,y=h*p,v=[r.batchSize,g,y],b=[];if(null!=i){const e=eTe(i.shape,m);null!=e&&(i=gAe({inputs:{x:i},backend:o,attrs:{shape:e}}),b.push(i))}if(null!=a){const e=eTe(a.shape,m);null!=e&&(a=gAe({inputs:{x:a},backend:o,attrs:{shape:e}}),b.push(a))}const x=gAe({inputs:{x:n},backend:o,attrs:{shape:[1,g,SJ(n.shape)/g]}});b.push(x);const w=new JCe(v,r),k=[t.shape,[r.padInfo.top,r.padInfo.left],[r.strideHeight,r.strideWidth],[r.dilationHeight,r.dilationWidth],[r.inChannels],[r.filterWidth*r.inChannels],[r.outWidth]],S=o.runWebGLProgram(w,[t],"float32",k),A=gAe({inputs:{x:S},backend:o,attrs:{shape:v}});b.push(S),b.push(A);const C=null!=a,T=null!=i,I="leakyrelu"===l,E=l?lAe(l,!0):null,N=new uAe(m?A.shape:x.shape,m?x.shape:A.shape,m?[r.batchSize,y,r.outChannels]:[r.batchSize,r.outChannels,y],!0,!1,C,E,T,I),O=m?[A,x]:[x,A];if(a&&O.push(a),T&&O.push(i),I){const e=o.makeTensorInfo([],"float32",i4(s,"float32"));O.push(e),b.push(e)}const M=o.runWebGLProgram(N,O,"float32"),D=gAe({inputs:{x:M},backend:o,attrs:{shape:r.outShape}});b.push(M);for(const R of b)o.disposeIntermediateTensorInfo(R);return D}const rTe={kernelName:U0,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,filter:a}=t,{strides:i,pad:s,dataFormat:l,dilations:u,dimRoundingMode:c}=r,d=k7(l),p=p7(o.shape,a.shape,i,u,s,c,!1,d);let h;if(1!==p.filterHeight||1!==p.filterWidth||1!==p.dilationHeight||1!==p.dilationWidth||1!==p.strideHeight||1!==p.strideWidth||"SAME"!==p.padInfo.type&&"VALID"!==p.padInfo.type)if(p.strideWidth<=2&&"channelsLast"===d&&u0().getBool("WEBGL_EXP_CONV")){const e=new ZCe(p),t=[[p.padInfo.top,p.padInfo.left],[p.strideHeight,p.strideWidth],[p.dilationHeight,p.dilationWidth],[p.inHeight,p.inWidth]];h=n.runWebGLProgram(e,[o,a],"float32",t)}else if(u0().getBool("WEBGL_CONV_IM2COL"))h=nTe({x:o,filter:a,convInfo:p,backend:n});else{const e=new YCe(p);h=n.runWebGLProgram(e,[o,a],"float32")}else h=tTe({x:o,filter:a,convInfo:p,backend:n});const f=gAe({inputs:{x:h},backend:n,attrs:{shape:p.outShape}});return n.disposeIntermediateTensorInfo(h),f}};class oTe{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const t=e.strideHeight,n=e.strideWidth,r=e.padInfo.top,o=e.padInfo.left,a="channelsLast"===e.dataFormat;this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int d2 = coords.w;\n\n        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int b = 0; b < ${e.batchSize}; b++) {\n          for (int yR = 0; yR < ${e.outHeight}; yR++) {\n            int xR = wR + yR * ${t} - ${r};\n\n            if (xR < 0 || xR >= ${e.inHeight}) {\n              continue;\n            }\n\n            for (int yC = 0; yC < ${e.outWidth}; yC++) {\n              int xC = wC + yC * ${n} - ${o};\n\n              if (xC < 0 || xC >= ${e.inWidth}) {\n                continue;\n              }\n\n              ${a?"float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);":"float dyValue = getDy(b, d2, yR, yC);\n              float xValue = getX(b, d1, xR, xC);\n              dotProd += (xValue * dyValue);"}\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class aTe{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,o=e.strideWidth,a="channelsLast"===e.dataFormat,i=t-1-e.padInfo.top,s=n-1-e.padInfo.left,l=a?1:2,u=a?2:3,c=a?3:1;this.userCode=`\n      const ivec2 pads = ivec2(${i}, ${s});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[${c}];\n\n        ivec2 dyCorner = ivec2(coords[${l}], coords[${u}]) - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ${t}; wR++) {\n          float dyR = float(dyRCorner + wR) / ${r}.0;\n\n          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = ${t} - 1 - wR;\n\n          for (int wC = 0; wC < ${n}; wC++) {\n            float dyC = float(dyCCorner + wC) / ${o}.0;\n\n            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = ${n} - 1 - wC;\n\n            for (int d2 = 0; d2 < ${e.outChannels}; d2++) {\n\n              if (${a}) {\n                float xValue = getDy(batch, idyR, idyC, d2);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              } else {\n                float xValue = getDy(batch, d2, idyR, idyC);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class iTe{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const t=e.strideDepth,n=e.strideHeight,r=e.strideWidth,o=e.padInfo.front,a=e.padInfo.top,i=e.padInfo.left;this.userCode=`\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int wF = coords.x;\n        int wR = coords.y;\n        int wC = coords.z;\n        int d1 = coords.w;\n        int d2 = coords.u;\n\n        float dotProd = 0.0;\n\n        for (int b = 0; b < ${e.batchSize}; b++) {\n          for (int yF = 0; yF < ${e.outDepth}; yF++) {\n            int xF = wF + yF * ${t} - ${o};\n\n            if (xF < 0 || xF >= ${e.inDepth}) {\n              continue;\n            }\n\n            for (int yR = 0; yR < ${e.outHeight}; yR++) {\n              int xR = wR + yR * ${n} - ${a};\n\n              if (xR < 0 || xR >= ${e.inHeight}) {\n                continue;\n              }\n\n              for (int yC = 0; yC < ${e.outWidth}; yC++) {\n                int xC = wC + yC * ${r} - ${i};\n\n                if (xC < 0 || xC >= ${e.inWidth}) {\n                  continue;\n                }\n\n                float dyValue = getDy(b, yF, yR, yC, d2);\n                float xValue = getX(b, xF, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class sTe{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const t=e.filterDepth,n=e.filterHeight,r=e.filterWidth,o=e.strideDepth,a=e.strideHeight,i=e.strideWidth,s=t-1-e.padInfo.front,l=n-1-e.padInfo.top,u=r-1-e.padInfo.left;this.userCode=`\n      const ivec3 pads = ivec3(${s}, ${l}, ${u});\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.u;\n\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyFCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        float dotProd = 0.0;\n        for (int wF = 0; wF < ${t}; wF++) {\n          float dyF = float(dyFCorner + wF) / ${o}.0;\n\n          if (dyF < 0.0 || dyF >= ${e.outDepth}.0 || fract(dyF) > 0.0) {\n            continue;\n          }\n          int idyF = int(dyF);\n\n          int wFPerm = ${t} - 1 - wF;\n\n          for (int wR = 0; wR < ${n}; wR++) {\n            float dyR = float(dyRCorner + wR) / ${a}.0;\n\n            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||\n              fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            int wRPerm = ${n} - 1 - wR;\n\n            for (int wC = 0; wC < ${r}; wC++) {\n              float dyC = float(dyCCorner + wC) / ${i}.0;\n\n              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              int wCPerm = ${r} - 1 - wC;\n\n              for (int d2 = 0; d2 < ${e.outChannels}; d2++) {\n                float xValue = getDy(batch, idyF, idyR, idyC, d2);\n                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}const lTe={kernelName:H0,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,dy:a}=t,{strides:i,pad:s,dataFormat:l,dimRoundingMode:u,filterShape:c}=r,d=k7(l),p=p7(o.shape,c,i,1,s,u,!1,d),h=new oTe(p);return n.runWebGLProgram(h,[o,a],"float32")}};class uTe{constructor(e){this.variableNames=["dy","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"strides",type:"vec2"}],this.outputShape=e.inShape,this.enableShapeUniforms=dke(this.outputShape.length);const t=e.filterHeight,n=e.filterWidth,r=t-1-e.padInfo.top,o=n-1-e.padInfo.left;this.userCode=`\n      const ivec2 pads = ivec2(${r}, ${o});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n\n        ivec2 dyCorner = ivec2(coords[1], coords[2]) - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        vec4 result = vec4(0.);\n        for (int wR = 0; wR < ${t}; wR++) {\n          float dyR = float(dyRCorner + wR) / strides[0];\n          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n          int wRPerm = ${t} - 1 - wR;\n\n          for (int wC = 0; wC < ${n}; wC++) {\n            int wCPerm = ${n} - 1 - wC;\n\n            float dyC = float(dyCCorner + wC) / strides[1];\n            bool idyCVal = (dyC >= 0.0) && (dyC < ${e.outWidth}.0)\n              && (fract(dyC) == 0.0);\n            int idyC = int(dyC);\n\n            float dyC2 = float(dyCCorner + wC + 1) / strides[1];\n            bool idyCVal2 = (dyC2 >= 0.0) && (dyC2 < ${e.outWidth}.0)\n              && (fract(dyC2) == 0.0);\n            int idyC2 = int(dyC2);\n\n            if (idyCVal && idyCVal2) {\n              for (int d2 = 0; d2 < ${e.outChannels}; d2 += 2) {\n                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);\n                vec4 dySample = getDy(batch, idyR, idyC, d2);\n                vec4 dySample2 = (idyC / 2 == idyC2 / 2) ?\n                  dySample : getDy(batch, idyR, idyC2, d2);\n\n                vec2 dyValue = mod(float(idyC), 2.) == 0. ?\n                  dySample.xy : dySample.zw;\n                result.xy += vec2(dot(dyValue, wValue.xy),\n                  dot(dyValue, wValue.zw));\n\n                dyValue = mod(float(idyC2), 2.) == 0. ?\n                  dySample2.xy : dySample2.zw;\n                result.zw += vec2(dot(dyValue, wValue.xy),\n                  dot(dyValue, wValue.zw));\n              }\n            } else if (idyCVal) {\n              for (int d2 = 0; d2 < ${e.outChannels}; d2 += 2) {\n                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);\n                vec4 dySample = getDy(batch, idyR, idyC, d2);\n                vec2 dyValue = mod(float(idyC), 2.) == 0. ?\n                  dySample.xy : dySample.zw;\n                result.xy += vec2(dot(dyValue, wValue.xy),\n                  dot(dyValue, wValue.zw));\n              }\n            } else if (idyCVal2) {\n              for (int d2 = 0; d2 < ${e.outChannels}; d2 += 2) {\n                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);\n                vec4 dySample = getDy(batch, idyR, idyC2, d2);\n                vec2 dyValue = mod(float(idyC2), 2.) == 0. ?\n                  dySample.xy : dySample.zw;\n                result.zw += vec2(dot(dyValue, wValue.xy),\n                  dot(dyValue, wValue.zw));\n              }\n            }\n          }\n        }\n        setOutput(result);\n      }\n    `}}const cTe={kernelName:G0,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:o,filter:a}=t,{inputShape:i,strides:s,pad:l,dataFormat:u,dimRoundingMode:c}=r,d=k7(u),p=p7(i,a.shape,s,1,l,c,!1,d);if(u0().getBool("WEBGL_PACK_CONV2DTRANSPOSE")&&"channelsLast"===d){const e=[[p.strideHeight,p.strideWidth]],t=new uTe(p);return n.runWebGLProgram(t,[o,a],"float32",e)}{const e=new aTe(p);return n.runWebGLProgram(e,[o,a],"float32")}}};const dTe={kernelName:q0,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,filter:a}=t,{strides:i,pad:s,dilations:l}=r,u=h7(o.shape,a.shape,i,l,s),c=new QCe(u);return n.runWebGLProgram(c,[o,a],"float32")}};const pTe={kernelName:K0,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,dy:a}=t,{strides:i,pad:s,filterShape:l}=r,u=h7(o.shape,l,i,1,s),c=new iTe(u);return n.runWebGLProgram(c,[o,a],"float32")}};const hTe={kernelName:X0,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:o,filter:a}=t,{pad:i,strides:s,inputShape:l}=r,u=h7(l,a.shape,s,1,i),c=new sTe(u);return n.runWebGLProgram(c,[o,a],"float32")}},fTe=iAe({opSnippet:aAe+"\n  return cos(x);\n",packedOpSnippet:`\n  vec4 result = cos(x);\n  bvec4 isNaN = isnan(x);\n  ${qSe}\n  return result;\n`}),mTe={kernelName:Y0,backendName:"webgl",kernelFunc:fTe},gTe=iAe({opSnippet:"\n  float e2x = exp(-x);\n  return (e2x + 1.0 / e2x) / 2.0;\n"}),yTe={kernelName:Q0,backendName:"webgl",kernelFunc:gTe};class vTe{constructor(e,t,n,r,o){this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];const[a,i,s,l]=e,[u]=t,[c,d]=n;this.outputShape=[u,c,d,l];const p="bilinear"===r?1:0,[h,f]=[i-1+".0",s-1+".0"],[m,g,y]=c>1?[""+(i-1)/(c-1),"(y2-y1) * height_ratio",`y1*${h} + float(y)*(height_scale)`]:["0.0","0.0",`0.5 * (y1+y2) * ${h}`],[v,b,x]=d>1?[""+(s-1)/(d-1),"(x2-x1) * width_ratio",`x1*${f} + float(x)*(width_scale)`]:["0.0","0.0",`0.5 * (x1+x2) * ${f}`];this.userCode=`\n      const float height_ratio = float(${m});\n      const float width_ratio = float(${v});\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int y = coords[1];\n        int x = coords[2];\n        int d = coords[3];\n\n        // get box vals\n        float y1 = getBoxes(b,0);\n        float x1 = getBoxes(b,1);\n        float y2 = getBoxes(b,2);\n        float x2 = getBoxes(b,3);\n\n        // get image in batch index\n        int bInd = round(getBoxInd(b));\n        if(bInd < 0 || bInd >= ${a}) {\n          return;\n        }\n\n        float height_scale = ${g};\n        float width_scale = ${b};\n\n        float in_y = ${y};\n        if( in_y < 0.0 || in_y > ${h} ) {\n          setOutput(float(${o}));\n          return;\n        }\n        float in_x = ${x};\n        if( in_x < 0.0 || in_x > ${f} ) {\n          setOutput(float(${o}));\n          return;\n        }\n\n        vec2 sourceFracIndexCR = vec2(in_x,in_y);\n        if(${p} == 1) {\n          // Compute the four integer indices.\n          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);\n          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));\n\n          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);\n          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);\n          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);\n          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);\n\n          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);\n\n          float top = topLeft + (topRight - topLeft) * fracCR.x;\n          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;\n          float newValue = top + (bottom - top) * fracCR.y;\n          setOutput(newValue);\n        } else {\n          // Compute the coordinators of nearest neighbor point.\n          ivec2 sourceNearestCR = ivec2(floor(\n            sourceFracIndexCR + vec2(0.5,0.5)));\n          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);\n          setOutput(newValue);\n        }\n      }\n    `}}const bTe={kernelName:e1,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:r}=e,{image:o,boxes:a,boxInd:i}=t,{cropSize:s,method:l,extrapolationValue:u}=r,c=new vTe(o.shape,a.shape,s,l,u);return n.runWebGLProgram(c,[o,a,i],"float32")}};var xTe,wTe;(wTe=xTe||(xTe={})).Prod="*",wTe.Sum="+";class kTe{constructor(e,t,n,r){this.op=e,this.outputShape=t,this.variableNames=["x"],this.customUniforms=[{name:"index",type:"float"}];const o=this.outputShape.length,a=this.op===xTe.Prod?"1.0":"0.0",i=n?a:`getX(${STe(o,"coords",this.op)})`,s=this.outputShape[this.outputShape.length-1];let l="",u="";n?(l=r?"end != "+(s-1):"end != 0",u=r?"end + 1":"end - 1"):(l=r?`end + pow2 < ${s}`:"end >= pow2",u=r?"end + pow2":"end - pow2"),this.userCode=`\n      void main() {\n        ${oke(o)} coords = getOutputCoords();\n        int end = ${ATe(o,"coords",this.op)};\n        float val = ${i};\n        int pow2 = int(pow(2.0, index));\n        if (${l}) {\n          int idx = ${u};\n          ${ATe(o,"coords",this.op)} = idx;\n          val ${this.op}= getX(${STe(o,"coords",this.op)});\n        }\n        setOutput(val);\n      }\n    `}}function STe(e,t,n){if(1===e)return`${t}`;if(2===e)return`${t}.x, ${t}.y`;if(3===e)return`${t}.x, ${t}.y, ${t}.z`;if(4===e)return`${t}.x, ${t}.y, ${t}.z, ${t}.w`;throw new Error(`Cumulative ${n} for rank ${e} is not yet supported`)}function ATe(e,t,n){if(1===e)return`${t}`;if(2===e)return`${t}.y`;if(3===e)return`${t}.z`;if(4===e)return`${t}.w`;throw new Error(`Cumulative ${n} for rank ${e} is not yet supported`)}function CTe(e,t,n,r,o,a){const i=t.shape.length,s=kee([r],i);let l=t;null!=s&&(l=TAe({inputs:{x:t},backend:n,attrs:{perm:s}}));const u=Aee(1,i)[0];if(u!==i-1)throw new Error(`WebGL cumprod shader expects an inner-most axis=${t.shape.length-1} but got axis=${r}`);const c=l.shape[u];let d=XSe({inputs:{x:l},backend:n});for(let p=0;p<=Math.ceil(Math.log2(c))-1;p++){const t=new kTe(e,l.shape,!1,a),r=[[p]],o=d;d=n.runWebGLProgram(t,[d],d.dtype,r),n.disposeIntermediateTensorInfo(o)}if(o){const t=new kTe(e,l.shape,o,a),r=d;d=n.runWebGLProgram(t,[d],d.dtype),n.disposeIntermediateTensorInfo(r)}if(null!=s){const e=TAe({inputs:{x:d},backend:n,attrs:{perm:See(s)}});return n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(l),e}return d}const TTe={kernelName:Z0,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:a,exclusive:i,reverse:s}=r;return CTe(xTe.Prod,o,n,a,i,s)}};const ITe={kernelName:J0,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:a,exclusive:i,reverse:s}=r;return CTe(xTe.Sum,o,n,a,i,s)}};const ETe={kernelName:t1,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,weights:a}=t,{size:i,binaryOutput:s}=r;if(1===o.shape.length){const e=n.readSync(o.dataId),t=n.readSync(a.dataId),r=Mke(e,t,a.dtype,a.shape,i);return n.makeTensorInfo([i],a.dtype,r)}if(2===o.shape.length){const e=n.bufferSync(o),t=n.bufferSync(a),r=Dke(e,t,i,s);return n.makeTensorInfo(r.shape,a.dtype,r.values)}throw new Error(`Error in denseBincount: input must be at most rank 2, but got rank${o.shape.length}.`)}};class NTe{constructor(e,t,n){this.variableNames=["x"],this.outputShape=[],this.outputShape=e,this.blockSize=t,this.dataFormat=n,this.userCode=`\n    void main() {\n      ivec4 coords = getOutputCoords();\n      int b = coords[0];\n      int h = ${this.getHeightCoordString()};\n      int w = ${this.getWidthCoordString()};\n      int d = ${this.getDepthCoordString()};\n\n      int in_h = h / ${t};\n      int offset_h = imod(h, ${t});\n      int in_w = w / ${t};\n      int offset_w = imod(w, ${t});\n      int offset_d = (offset_h * ${t} + offset_w) *\n        ${this.getOutputDepthSize()};\n      int in_d = d + offset_d;\n\n      float result = ${this.getInputSamplingString()};\n      setOutput(result);\n    }\n  `}getHeightCoordString(){return"NHWC"===this.dataFormat?"coords[1]":"coords[2]"}getWidthCoordString(){return"NHWC"===this.dataFormat?"coords[2]":"coords[3]"}getDepthCoordString(){return"NHWC"===this.dataFormat?"coords[3]":"coords[1]"}getOutputDepthSize(){return"NHWC"===this.dataFormat?this.outputShape[3]:this.outputShape[1]}getInputSamplingString(){return"NHWC"===this.dataFormat?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"}}const OTe={kernelName:n1,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{blockSize:a,dataFormat:i}=r,s=o.shape[0],l=("NHWC"===i?o.shape[1]:o.shape[2])*a,u=("NHWC"===i?o.shape[2]:o.shape[3])*a,c=("NHWC"===i?o.shape[3]:o.shape[1])/(a*a),d=new NTe("NHWC"===i?[s,l,u,c]:[s,c,l,u],a,i);return n.runWebGLProgram(d,[o],o.dtype)}};class MTe{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.variableNames=["x","W"],this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=dke(this.outputShape.length);const a=e.filterHeight,i=e.filterWidth,s=e.outChannels/e.inChannels;let l="",u="";n&&(l=r?`float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          ${n}\n        }`:o?`float activation(float a) {\n          float b = getLeakyreluAlphaAtOutCoords();\n          ${n}\n        }`:`\n          float activation(float x) {\n            ${n}\n          }\n        `,u="result = activation(result);");const c=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),o&&this.variableNames.push("leakyreluAlpha"),this.userCode=`\n      ${l}\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / ${s};\n        int q = d2 - d1 * ${s};\n\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.\n        for (int wR = 0; wR < ${a}; wR++) {\n          int xR = xRCorner + wR * dilations[0];\n\n          if (xR < 0 || xR >= inDims[0]) {\n            continue;\n          }\n\n          for (int wC = 0; wC < ${i}; wC++) {\n            int xC = xCCorner + wC * dilations[1];\n\n            if (xC < 0 || xC >= inDims[1]) {\n              continue;\n            }\n\n            float xVal = getX(batch, xR, xC, d1);\n            float wVal = getW(wR, wC, d1, q);\n            dotProd += xVal * wVal;\n          }\n        }\n\n        float result = dotProd;\n        ${c}\n        ${u}\n        setOutput(result);\n      }\n    `}}class DTe{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=dke(this.outputShape.length);const a=e.outChannels/e.inChannels,i=e.padInfo.left,s=e.strideWidth,l=e.dilationWidth,u=e.filterHeight,c=e.filterWidth,d=c;let p="\n      int xR; int xC; int xCOffset;\n      vec4 wTexel; vec4 previous; vec4 final;";for(let g=0;g<c;g++)p+=`\n          vec4 xTexelC${2*g};\n          int xTexelC${2*g}Ready;\n          vec4 xTexelC${2*g+1};\n          int xTexelC${2*g+1}Ready;\n          vec4 xC${g};`;p+=`\n    for (int r = 0; r < ${u}; r++) {\n      `;for(let g=0;g<c;g++)p+=`\n          xTexelC${2*g} = vec4(0.0);\n          xTexelC${2*g}Ready = 0;\n          xTexelC${2*g+1} = vec4(0.0);\n          xTexelC${2*g+1}Ready = 0;\n          xC${g} = vec4(0.0);`;p+="\n        xR = xRCorner + r * dilations[0];\n        if (xR >=0 && xR < inDims[0]) {\n      ";for(let g=0;g<(d+1)/2;g++){const e=2*g;if(p+=`\n          xC = xCCorner + ${e*l};\n          `,1===s){if(e<c&&(i%2===1?(p+=`\n                xCOffset = xC + 1;\n                if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${e}Ready == 0) {\n                  xTexelC${e} = getX(batch, xR, xCOffset, d1);\n\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC${e}.zw = vec2(0.0);\n                  }\n                  xTexelC${e}Ready = 1;\n                }\n              `,p+=1===l&&e>0?`\n                xC${e} = vec4(xTexelC${e-2}.zw, xTexelC${e}.xy);\n                `:`\n                  xCOffset = xC + 1 - 2;\n\n                  if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                    previous = getX(batch, xR, xCOffset, d1);\n\n                    // Need to manually clear unused channels in case\n                    // we're reading from recycled texture.\n                    if (xCOffset + 1 >= inDims[1]) {\n                      previous.zw = vec2(0.0);\n                    }\n\n                    xC${e} = vec4(previous.zw, xTexelC${e}.xy);\n                  } else {\n                    xC${e} = vec4(0.0, 0.0, xTexelC${e}.xy);\n                  }\n                  `):p+=`\n                if (xC >= 0 && xC < inDims[1] && xTexelC${e}Ready == 0) {\n                  xTexelC${e} = getX(batch, xR, xC, d1);\n                  if (xC + 1 >= inDims[1]) {\n                    xTexelC${e}.zw = vec2(0.0);\n                  }\n                  xTexelC${e}Ready = 1;\n                }\n\n                xC${e} = xTexelC${e};\n                `,e+1<c)){const t=i%2===0?mJ(l):l;l%2===0&&i%2===1||l%2!==0&&i%2!==1?(p+=`\n                  xCOffset = xC + imod(pads[1], 2) + ${t};\n\n                  if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${e+1}Ready == 0) {\n                    xTexelC${e+1} = getX(batch, xR, xCOffset, d1);\n\n                    // Need to manually clear unused channels in case\n                    // we're reading from recycled texture.\n                    if (xCOffset + 1 >= inDims[1]) {\n                      xTexelC${e+1}.zw = vec2(0.0);\n                    }\n                    xTexelC${e+1}Ready = 1;\n                  }\n                  `,p+=l>1?`\n                    xCOffset -= 2;\n                    if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                     previous = getX(batch, xR, xCOffset, d1);\n                     xC${e+1} = vec4(previous.zw, xTexelC${e+1}.xy);\n                    } else {\n                     xC${e+1} = vec4(0.0, 0.0, xTexelC${e+1}.xy);\n                    }\n                    `:`\n                    xC${e+1} = vec4(xTexelC${e}.zw, xTexelC${e+1}.xy);\n                    `):p+=1===t?`\n                    xC${e+1} = xTexelC${e};\n                    `:`\n                    xCOffset = xC + ${t};\n\n                    if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${e+1}Ready == 0) {\n                      xTexelC${e+1} = getX(batch, xR, xCOffset, d1);\n                      if (xCOffset + 1 >= inDims[1]) {\n                        xTexelC${e+1}.zw = vec2(0.0);\n                      }\n                      xTexelC${e+1}Ready = 1;\n                    }\n\n                    xC${e+1} = xTexelC${e+1};\n                    `}}else e<c&&(i%2===1?(p+=`\n                xCOffset = xC + 1 - strides[1];\n                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${e}Ready == 0) {\n                  xTexelC${e} = getX(batch, xR, xCOffset, d1);\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC${e}.zw = vec2(0.0);\n                  }\n                  xTexelC${e}Ready = 1;\n                }\n\n                if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC${e+1}Ready == 0) {\n                  xTexelC${e+1} = getX(batch, xR, xC + 1, d1);\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xC + 2 >= inDims[1]) {\n                    xTexelC${e+1}.zw = vec2(0.0);\n                  }\n                  xTexelC${e+1}Ready = 1;\n                }\n\n                xC${e} = vec4(xTexelC${e}.zw, xTexelC${e+1}.zw);\n              `,e+1<c&&(p+=`\n                  final = vec4(0.0);\n                  xCOffset = xC + 1 + strides[1];\n                  if(xCOffset >= 0 && xCOffset < inDims[1]) {\n                    final = getX(batch, xR, xCOffset, d1);\n                  }\n                  xC${e+1} = vec4(xTexelC${e+1}.xy, final.xy);\n                `)):(p+=`\n                if(xC >= 0 && xC < inDims[1] && xTexelC${e}Ready == 0) {\n                  xTexelC${e} = getX(batch, xR, xC, d1);\n                  if (xC + 1 >= inDims[1]) {\n                    xTexelC${e}.zw = vec2(0.0);\n                  }\n                  xTexelC${e}Ready = 1;\n                }\n\n                xCOffset = xC + strides[1];\n                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${e+1}Ready == 0) {\n                  xTexelC${e+1} = getX(batch, xR, xCOffset, d1);\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC${e+1}.zw = vec2(0.);\n                  }\n                  xTexelC${e+1}Ready = 1;\n                }\n\n                xC${e} = vec4(\n                  xTexelC${e}.xy, xTexelC${e+1}.xy);\n              `,e+1<c&&(p+=`\n                  xC${e+1} = vec4(xTexelC${e}.zw, xTexelC${e+1}.zw);\n                `)));e<c&&(p+=`\n            wTexel = getW(r, ${e}, d1, q);\n            dotProd += xC${e} * vec4(wTexel.xz, wTexel.xz);\n          `,e+1<c&&(p+=`\n              wTexel = getW(r, ${e+1}, d1, q);\n              dotProd += xC${e+1} * vec4(wTexel.xz, wTexel.xz);\n            `))}p+="\n    }\n  ",p+="\n      }\n    ";let h="",f="";n&&(h=r?`vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          ${n}\n        }`:o?`vec4 activation(vec4 a) {\n          vec4 b = getLeakyreluAlphaAtOutCoords();\n          ${n}\n        }`:`vec4 activation(vec4 x) {\n          ${n}\n        }`,f="result = activation(result);");const m=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),o&&this.variableNames.push("leakyreluAlpha"),this.userCode=`\n      ${h}\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / ${a};\n        int q = d2 - d1 * ${a};\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.\n        vec4 dotProd = vec4(0.000000000000001);\n\n        ${p}\n\n        vec4 result = dotProd - vec4(0.000000000000001);\n        ${m}\n        ${f}\n        setOutput(result);\n      }\n    `}}const RTe={kernelName:r1,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,filter:a}=t,{strides:i,pad:s,dilations:l,dimRoundingMode:u}=r;let c=l;null==c&&(c=[1,1]),xJ(x7(i,c),(()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${i} and dilations '${c}'`));const d=p7(o.shape,a.shape,i,c,s,u,!0);let p;p=u0().getBool("WEBGL_PACK_DEPTHWISECONV")&&d.strideWidth<=2&&d.outChannels/d.inChannels===1?new DTe(d):new MTe(d);const h=[[d.padInfo.top,d.padInfo.left],[d.strideHeight,d.strideWidth],[d.dilationHeight,d.dilationWidth],[d.inHeight,d.inWidth]];return n.runWebGLProgram(p,[o,a],"float32",h)}};class PTe{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const t=e.strideHeight,n=e.strideWidth,r=e.padInfo.top,o=e.padInfo.left,a=e.outChannels/e.inChannels;this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int dm = coords.w;\n        int d2 = d1 * ${a} + dm;\n\n        float dotProd = 0.0;\n\n        // TO DO: Vec4 over the batch size\n        for (int b = 0; b < ${e.batchSize}; b++) {\n          for (int yR = 0; yR < ${e.outHeight}; yR++) {\n            int xR = wR + yR * ${t} - ${r};\n\n            if (xR < 0 || xR >= ${e.inHeight}) {\n              continue;\n            }\n\n            for (int yC = 0; yC < ${e.outWidth}; yC++) {\n              int xC = wC + yC * ${n} - ${o};\n\n              if (xC < 0 || xC >= ${e.inWidth}) {\n                continue;\n              }\n\n              float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class $Te{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,o=e.strideWidth,a=t-1-e.padInfo.top,i=n-1-e.padInfo.left,s=e.outChannels/e.inChannels;this.userCode=`\n      const ivec2 pads = ivec2(${a}, ${i});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n        ivec2 dyCorner = coords.yz - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        float dotProd = 0.0;\n\n        for (int wR = 0; wR < ${t}; wR++) {\n          float dyR = float(dyRCorner + wR) / ${r}.0;\n\n          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = ${t} - 1 - wR;\n\n          for (int wC = 0; wC < ${n}; wC++) {\n            float dyC = float(dyCCorner + wC) / ${o}.0;\n\n            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = ${n} - 1 - wC;\n\n            // TO DO: Vec4 over the channelMul\n            for (int dm = 0; dm < ${s}; dm++) {\n              int d2 = d1 * ${s} + dm;\n              float xValue = getDy(batch, idyR, idyC, d2);\n              float wValue = getW(wRPerm, wCPerm, d1, dm);\n              dotProd += xValue * wValue;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}const jTe={kernelName:o1,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,dy:a}=t,{strides:i,dilations:s,pad:l,dimRoundingMode:u,filterShape:c}=r,d=p7(o.shape,c,i,s,l,u,!0),p=new PTe(d);return n.runWebGLProgram(p,[o,a],"float32")}};const _Te={kernelName:a1,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:o,filter:a}=t,{strides:i,dilations:s,pad:l,dimRoundingMode:u,inputShape:c}=r,d=p7(c,a.shape,i,s,l,u,!0),p=new $Te(d);return n.runWebGLProgram(p,[o,a],"float32")}};class FTe{constructor(e){this.variableNames=["X"],this.outputShape=[e,e],this.userCode="\n      void main() {\n          ivec2 coords = getOutputCoords();\n          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;\n          setOutput(val);\n      }\n    "}}const LTe={kernelName:i1,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:r}=t,o=[...r.shape,...r.shape],a=SJ(r.shape),i=gAe({inputs:{x:r},backend:n,attrs:{shape:[a]}}),s=new FTe(a),l=n.runWebGLProgram(s,[i],i.dtype),u=gAe({inputs:{x:l},backend:n,attrs:{shape:o}});return n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(l),u}};class zTe{constructor(e){this.variableNames=["x","W"],this.outputShape=e.outShape;const{inHeight:t,inWidth:n,padInfo:r,strideHeight:o,strideWidth:a,filterHeight:i,filterWidth:s,dilationHeight:l,dilationWidth:u}=e,{top:c,left:d}=r;this.userCode=`\n      const ivec2 strides = ivec2(${o}, ${a});\n      const ivec2 pads = ivec2(${c}, ${d});\n      const float neg_infinity = -3.4e38;\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.w;\n        ivec2 outTopLeftCorner =\n            coords.yz * strides - pads;\n        int hBeg = outTopLeftCorner.x;\n        int wBeg = outTopLeftCorner.y;\n\n        float curVal = neg_infinity;\n        for (int h = 0; h < ${i}; h++) {\n          int hIn = hBeg + h * ${l};\n\n          if (hIn >= 0 && hIn < ${t}) {\n            for (int w = 0; w < ${s}; w++) {\n              int wIn = wBeg + w * ${u};\n\n              if (wIn >= 0 && wIn < ${n}) {\n                float xVal = getX(batch, hIn, wIn, d1);\n                float wVal = getW(h, w, d1);\n\n                float val = xVal + wVal;\n                if (val > curVal) {\n                  curVal = val;\n                }\n              }\n            }\n          }\n        }\n\n        float result = curVal;\n        setOutput(result);\n      }\n    `}}const BTe={kernelName:s1,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,filter:a}=t,{strides:i,pad:s,dilations:l}=r,u=u7(o.shape,a.shape,i,s,"NHWC",l);let c;const d=new zTe(u);c=n.runWebGLProgram(d,[o,a],"float32");const p=gAe({inputs:{x:c},backend:n,attrs:{shape:u.outShape}});return n.disposeIntermediateTensorInfo(c),p}};const WTe={kernelName:p1,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{equation:o}=r,a=t,{allDims:i,summedDims:s,idDims:l}=zoe(o,a.length);Woe(i.length,l,a);const{path:u,steps:c}=Voe(s,l),d=c.length;let p=null,h=i.length;const f=[];for(let m=0;m<d;++m){for(const e of c[m]){const{permutationIndices:t,expandDims:r}=Boe(h,l[e]);let o;Uoe(t)?o=a[e]:(o=TAe({inputs:{x:a[e]},backend:n,attrs:{perm:t}}),f.push(o));const i=o.shape.slice();for(let e=0;e<r.length;++e)i.splice(r[e],0,1);TJ(o.shape,i)||(o=gAe({inputs:{x:o},backend:n,attrs:{shape:i}}),f.push(o)),null===p?p=o:(p=fAe({inputs:{a:o,b:p},backend:n}),f.push(p))}m<d-1&&(u[m]>=0&&(p=AAe({inputs:{x:p},backend:n,attrs:{axis:u[m]-(i.length-h),keepDims:!1}}),f.push(p)),h--)}for(const m of f)m!==p&&n.disposeIntermediateTensorInfo(m);return p}},VTe=iAe({opSnippet:"return (x >= 0.0) ? x : (exp(x) - 1.0);",packedOpSnippet:"\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n"}),UTe={kernelName:h1,backendName:"webgl",kernelFunc:VTe},HTe={kernelName:f1,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n}=e,{dy:r,y:o}=t,a=u0().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new KSe("\n  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));\n  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));\n",r.shape,o.shape):new GSe("return (b >= 0.0) ? a : a * (b + 1.0);",r.shape,o.shape);return n.runWebGLProgram(a,[r,o],r.dtype)}},GTe=sAe({opSnippet:"return float(a == b);",packedOpSnippet:"\n  return vec4(equal(a, b));\n",dtype:"bool",cpuKernelImpl:_ke}),qTe={kernelName:g1,backendName:"webgl",kernelFunc:GTe},KTe=iAe({opSnippet:`\n  // Error function is calculated approximately with elementary function.\n  // See "Handbook of Mathematical Functions with Formulas,\n  // Graphs, and Mathematical Tables", Abramowitz and Stegun.\n  float p = ${koe};\n  float a1 = ${Soe};\n  float a2 = ${Aoe};\n  float a3 = ${Coe};\n  float a4 = ${Toe};\n  float a5 = ${Ioe};\n\n  float sign = sign(x);\n  x = abs(x);\n  float t = 1.0 / (1.0 + p * x);\n  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));\n`}),XTe={kernelName:m1,backendName:"webgl",kernelFunc:KTe},YTe=iAe({opSnippet:aAe+"\n  return exp(x);\n",packedOpSnippet:"\n  vec4 result = exp(x);\n  bvec4 isNaN = isnan(x);\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",cpuKernelImpl:Fke,dtype:"float32"}),QTe={kernelName:y1,backendName:"webgl",kernelFunc:YTe};function ZTe(e){const{inputs:t,attrs:n,backend:r}=e,{dim:o}=n,{input:a}=t,i=a.shape.length,s=a.shape.slice();let l=o;return o<0&&(xJ(-(i+1)<=o,(()=>`Axis must be in the interval [${-(i+1)}, ${i}]`)),l=i+o+1),s.splice(l,0,1),gAe({inputs:{x:a},backend:r,attrs:{shape:s}})}const JTe={kernelName:v1,backendName:"webgl",kernelFunc:ZTe},eIe="return exp(x) - 1.0;",tIe=iAe({opSnippet:eIe,packedOpSnippet:eIe,cpuKernelImpl:Lke}),nIe={kernelName:b1,backendName:"webgl",kernelFunc:tIe};class rIe{constructor(e,t,n){this.variableNames=["real","imag"];const r=t[1];this.outputShape=t;const o=n?`2.0 * ${Math.PI}`:`-2.0 * ${Math.PI}`,a=n?`${r}.0`:"1.0";let i;if("real"===e)i="return real * expR - imag * expI;";else{if("imag"!==e)throw new Error(`FFT component must be either "real" or "imag", got ${e}.`);i="return real * expI + imag * expR;"}this.userCode=`\n      const float exponentMultiplier = ${o};\n\n      float unaryOpComplex(float real, float expR, float imag, float expI) {\n        ${i}\n      }\n\n      float mulMatDFT(int batch, int index) {\n        float indexRatio = float(index) / float(${r});\n        float exponentMultiplierTimesIndexRatio =\n            exponentMultiplier * indexRatio;\n\n        float result = 0.0;\n\n        for (int i = 0; i < ${r}; i++) {\n          // x = (-2|2 * PI / N) * index * i;\n          float x = exponentMultiplierTimesIndexRatio * float(i);\n          float expR = cos(x);\n          float expI = sin(x);\n          float real = getReal(batch, i);\n          float imag = getImag(batch, i);\n\n          result +=\n              unaryOpComplex(real, expR, imag, expI) / ${a};\n        }\n\n        return result;\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        setOutput(mulMatDFT(coords[0], coords[1]));\n      }\n    `}}function oIe(e,t,n){const r=n.texData.get(e.dataId),o=SJ(e.shape),a=e.shape[e.shape.length-1],i=gAe({inputs:{x:e},backend:n,attrs:{shape:[o/a,a]}}),s=i.shape,l=new rIe("real",s,t),u=new rIe("imag",s,t),c=[{dataId:r.complexTensorInfos.real.dataId,dtype:r.complexTensorInfos.real.dtype,shape:s},{dataId:r.complexTensorInfos.imag.dataId,dtype:r.complexTensorInfos.imag.dtype,shape:s}],d=n.runWebGLProgram(l,c,"float32"),p=n.runWebGLProgram(u,c,"float32"),h=QSe({inputs:{real:d,imag:p},backend:n});n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(p);const f=gAe({inputs:{x:h},backend:n,attrs:{shape:e.shape}});return n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(h),f}const aIe={kernelName:x1,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{input:r}=t;return oIe(r,!1,n)}};class iIe{constructor(e,t){this.outputShape=[],this.customUniforms=[{name:"value",type:"float"}],this.variableNames=["x"],this.outputShape=e,this.userCode="\n      void main() {\n        // Input can be obtained from uniform value.\n        setOutput(value);\n      }\n    "}}function sIe(e){const{backend:t,attrs:n}=e,{shape:r,value:o}=n;let{dtype:a}=n;if(a=a||GJ(o),"string"===a){const e=_J(a,SJ(r));return e.fill(o),t.makeTensorInfo(r,a,e)}{const e=new iIe(r,o),n=[[o]];return t.runWebGLProgram(e,[],a,n)}}const lIe={kernelName:w1,backendName:"webgl",kernelFunc:sIe};class uIe{constructor(e){this.variableNames=["Image"],this.outputShape=[];const t=e[2];this.outputShape=e,this.userCode=`\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int x = coords[2];\n\n          int coordX = ${t} - x - 1;\n          float outputValue;\n          if(coordX >= 0 && coordX < ${t}) {\n            outputValue = getImage(coords[0], coords[1], coordX, coords[3]);\n          } else {\n            outputValue = getImage(coords[0], coords[1], coords[2], coords[3]);\n          }\n          setOutput(outputValue);\n        }\n    `}}const cIe={kernelName:k1,backendName:"webgl",kernelFunc:e=>{let{inputs:t,backend:n}=e;const{image:r}=t,o=n,a=new uIe(r.shape);return o.runWebGLProgram(a,[r],r.dtype)}},dIe="return floor(x);",pIe=iAe({opSnippet:dIe,packedOpSnippet:dIe,cpuKernelImpl:zke}),hIe={kernelName:S1,backendName:"webgl",kernelFunc:pIe},fIe=sAe({opSnippet:"\n  float s = sign(a) * sign(b);\n  int ia = round(a);\n  int ib = round(b);\n  if (ib != 0) {\n    // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n    return float(idiv(ia, ib, s));\n  } else {\n    return NAN;\n  }\n",packedOpSnippet:"\n  ivec4 ia = round(a);\n  ivec4 ib = round(b);\n  bvec4 cond = notEqual(ib, ivec4(0));\n  ivec4 result = ivec4(0);\n  vec4 s = sign(a) * sign(b);\n\n  // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n  if (cond[0]) {\n    result[0] = idiv(ia[0], ib[0], s[0]);\n  }\n  if (cond[1]) {\n    result[1] = idiv(ia[1], ib[1], s[1]);\n  }\n  if (cond[2]) {\n    result[2] = idiv(ia[2], ib[2], s[2]);\n  }\n  if (cond[3]) {\n    result[3] = idiv(ia[3], ib[3], s[3]);\n  }\n  return vec4(result);\n",dtype:"int32"}),mIe={kernelName:A1,backendName:"webgl",kernelFunc:fIe};class gIe{constructor(e){this.variableNames=["A"];const t=Bwe(),[n,r]=e;this.outputShape=e,this.userCode=`\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${r}.0, ${n}.0);\n\n        vec4 values = ${t.texture2D}(A, uv);\n        float value;\n        if (depth == 0) {\n          value = values.r;\n        } else if (depth == 1) {\n          value = values.g;\n        } else if (depth == 2) {\n          value = values.b;\n        } else if (depth == 3) {\n          value = values.a;\n        }\n\n        setOutput(floor(value * 255.0 + 0.5));\n      }\n    `}}class yIe{constructor(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;const t=Bwe(),[n,r]=e;this.outputShape=e,this.userCode=`\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n\n        vec4 result = vec4(0.);\n\n        for(int row=0; row<=1; row++) {\n          for(int col=0; col<=1; col++) {\n            texC = coords[1] + row;\n            depth = coords[2] + col;\n\n            vec2 uv = (vec2(texC, texR) + halfCR) /\n                       vec2(${r}.0, ${n}.0);\n            vec4 values = ${t.texture2D}(A, uv);\n            float value;\n            if (depth == 0) {\n              value = values.r;\n            } else if (depth == 1) {\n              value = values.g;\n            } else if (depth == 2) {\n              value = values.b;\n            } else if (depth == 3) {\n              value = values.a;\n            }\n\n            result[row * 2 + col] = floor(value * 255.0 + 0.5);\n          }\n        }\n\n        ${t.output} = result;\n      }\n    `}}const vIe={kernelName:I3,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e;let{pixels:o}=t;const{numChannels:a}=r,i="undefined"!==typeof HTMLVideoElement&&o instanceof HTMLVideoElement,s="undefined"!==typeof HTMLImageElement&&o instanceof HTMLImageElement,[l,u]=i?[o.videoWidth,o.videoHeight]:[o.width,o.height],c=[u,l],d=[u,l,a];if(s||i){const e=u0().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");null!=bIe&&e===xIe||(xIe=e,bIe=document.createElement("canvas").getContext("2d",{willReadFrequently:xIe})),bIe.canvas.width=l,bIe.canvas.height=u,bIe.drawImage(o,0,0,l,u),o=bIe.canvas}const p=n.makeTensorInfo(c,"int32");n.texData.get(p.dataId).usage=swe.PIXELS,n.gpgpu.uploadPixelDataToTexture(n.getTexture(p.dataId),o);const h=u0().getBool("WEBGL_PACK")?new yIe(d):new gIe(d),f=n.runWebGLProgram(h,[p],"int32");return n.disposeData(p.dataId),f}};let bIe,xIe=u0().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");const wIe={kernelName:O3,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,filter:a,bias:i,preluActivationWeights:s}=t,{strides:l,pad:u,dataFormat:c,dilations:d,dimRoundingMode:p,activation:h,leakyreluAlpha:f}=r,m=k7(c),g=p7(o.shape,a.shape,l,d,u,p,!1,m);let y;const v=[],b=null!=i,x=null!=s,w="leakyrelu"===h,k=()=>{const e=[o,a],t=(e,t)=>{if("NCHW"===t&&1===e.shape.length&&1!==e.shape[0]){const t=gAe({inputs:{x:e},backend:n,attrs:{shape:[e.shape[0],1,1]}});return v.push(t),t}return e};if(b&&e.push(t(i,c)),x&&e.push(t(s,c)),w){const t=n.makeTensorInfo([],"float32",i4(f,"float32"));e.push(t),v.push(t)}return e};if(1!==g.filterHeight||1!==g.filterWidth||1!==g.dilationHeight||1!==g.dilationWidth||1!==g.strideHeight||1!==g.strideWidth||"SAME"!==g.padInfo.type&&"VALID"!==g.padInfo.type)if(g.strideWidth<=2&&"channelsLast"===m&&u0().getBool("WEBGL_EXP_CONV")){const e=h?lAe(h,!0):null,t=new ZCe(g,b,e,x,w),r=[[g.padInfo.top,g.padInfo.left],[g.strideHeight,g.strideWidth],[g.dilationHeight,g.dilationWidth],[g.inHeight,g.inWidth]],o=k();y=n.runWebGLProgram(t,o,"float32",r)}else if(u0().getBool("WEBGL_CONV_IM2COL"))y=nTe({x:o,filter:a,convInfo:g,backend:n,bias:i,activation:h,preluActivationWeights:s,leakyreluAlpha:f});else{const e=h?lAe(h,!1):null,t=new YCe(g,b,e,x,w),r=k();y=n.runWebGLProgram(t,r,"float32")}else y=tTe({x:o,filter:a,convInfo:g,backend:n,bias:i,activation:h,preluActivationWeights:s,leakyreluAlpha:f});const S=gAe({inputs:{x:y},backend:n,attrs:{shape:g.outShape}});return v.push(y),v.forEach((e=>n.disposeIntermediateTensorInfo(e))),S}};const kIe={kernelName:M3,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,filter:a,bias:i,preluActivationWeights:s}=t,{strides:l,pad:u,dilations:c,dimRoundingMode:d,activation:p,leakyreluAlpha:h}=r,f=[];let m=c;null==m&&(m=[1,1]),xJ(x7(l,m),(()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${l} and dilations '${m}'`));const g=p7(o.shape,a.shape,l,m,u,d,!0),y=u0().getBool("WEBGL_PACK_DEPTHWISECONV")&&g.strideWidth<=2&&g.outChannels/g.inChannels===1,v=p?lAe(p,y):null,b=[o,a],x=null!=i,w=null!=s,k="leakyrelu"===p;if(x&&b.push(i),w&&b.push(s),k){const e=n.makeTensorInfo([],"float32",i4(h,"float32"));b.push(e),f.push(e)}let S;S=y?new DTe(g,x,v,w,k):new MTe(g,x,v,w,k);const A=[[g.padInfo.top,g.padInfo.left],[g.strideHeight,g.strideWidth],[g.dilationHeight,g.dilationWidth],[g.inHeight,g.inWidth]],C=n.runWebGLProgram(S,b,"float32",A);return f.forEach((e=>n.disposeIntermediateTensorInfo(e))),C}};class SIe{constructor(e,t,n,r){this.sliceDim=e,this.strides=t,this.paramsShape=r,this.variableNames=["x","indices"],this.outputShape=n;const o=oke(n.length);let a="\n    int index;";for(let i=0;i<this.sliceDim;i++)a+=`\n          index = round(getIndices(coords[0], ${i}));\n          out_of_bounds = out_of_bounds || index < 0;\n          out_of_bounds = out_of_bounds || index >= ${this.paramsShape[i]};\n          flattenIndex += index * ${this.strides[i]};`;this.userCode=`\n         void main() {\n          ${o} coords = getOutputCoords();\n          int flattenIndex = 0;\n          bool out_of_bounds = false;\n\n          ${a}\n\n          setOutput(out_of_bounds ? 0.0 : getX(flattenIndex, coords[1]));\n        }\n      `}}const AIe={kernelName:I1,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{params:r,indices:o}=t,a=o.shape,i=a[a.length-1],s=SJ(r.shape),[l,u,c,d]=p9(r,o),p=gAe({inputs:{x:o},backend:n,attrs:{shape:[u,i]}}),h=gAe({inputs:{x:r},backend:n,attrs:{shape:[SJ(r.shape)/c,c]}});if(n.shouldExecuteOnCPU([r,o])||"string"===r.dtype){const e=n.readSync(o.dataId),t=n.bufferSync(r),a=Bke(e,t,r.dtype,u,i,c,d,r.shape,s);return n.makeTensorInfo(l,r.dtype,a.values)}const f=new SIe(i,d,[u,c],r.shape),m=n.runWebGLProgram(f,[h,p],h.dtype),g=gAe({inputs:{x:m},backend:n,attrs:{shape:l}});return n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(m),g}};class CIe{constructor(e,t){this.variableNames=["A","indices"],this.outputShape=t,this.rank=t.length;const n=oke(this.rank),r=function(e){const t=["resRC.x","resRC.y","resRC.z","resRC.w"],n=[];for(let r=0;r<e.length;r++)2===r?n.push("index"):n.push(`${t[r]}`);return n.join()}(e);this.userCode=`\n      void main() {\n        ${n} resRC = getOutputCoords();\n        int index = int(getIndices(resRC.x, resRC.z));\n        float inBounds = (index >= 0) && (index < ${e[2]}) ? 1.0 : 0.0;\n        setOutput(inBounds * getA(${r}));\n      }\n    `}}function TIe(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,indices:a}=t,{axis:i,batchDims:s}=r,l=PJ(i,o.shape)[0];if(u0().get("DEBUG")){const e=n.readSync(a.dataId),t=o.shape[l];for(let n=0;n<e.length;++n){const r=e[n];xJ(r<=t-1&&r>=0,(()=>`GatherV2: the index value ${r} is not in [0, ${t-1}]`))}}const u=sae(o,a,l,s),c=SJ(a.shape),d=[],p=gAe({inputs:{x:o},backend:n,attrs:{shape:[u.batchSize,u.outerSize,u.dimSize,u.sliceSize]}}),h=gAe({inputs:{x:a},backend:n,attrs:{shape:[u.batchSize,c/u.batchSize]}});d.push(p),d.push(h);const f=[u.batchSize,u.outerSize,c/u.batchSize,u.sliceSize];if(n.shouldExecuteOnCPU([o,a])||"string"===o.dtype){const e=n.bufferSync(h),t=n.bufferSync(p),r=Wke(t,e,f);return d.forEach((e=>n.disposeIntermediateTensorInfo(e))),n.makeTensorInfo(u.outputShape,r.dtype,r.values)}const m=new CIe(p.shape,f),g=n.runWebGLProgram(m,[p,h],p.dtype);d.push(g);const y=gAe({inputs:{x:g},backend:n,attrs:{shape:u.outputShape}});return d.forEach((e=>n.disposeIntermediateTensorInfo(e))),y}const IIe={kernelName:T1,backendName:"webgl",kernelFunc:TIe},EIe=sAe({opSnippet:"return float(a > b);",packedOpSnippet:"\n  return vec4(greaterThan(a, b));\n",cpuKernelImpl:Vke,dtype:"bool"}),NIe={kernelName:E1,backendName:"webgl",kernelFunc:EIe},OIe=sAe({opSnippet:"return float(a >= b);",packedOpSnippet:"\n  return vec4(greaterThanEqual(a, b));\n",dtype:"bool",cpuKernelImpl:Uke}),MIe={kernelName:N1,backendName:"webgl",kernelFunc:OIe};const DIe={kernelName:M1,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{input:r}=t;return oIe(r,!0,n)}},RIe=iAe({opSnippet:"return float(!isnan(x) && !isinf(x));",dtype:"bool"}),PIe={kernelName:R1,backendName:"webgl",kernelFunc:RIe},$Ie=iAe({opSnippet:"return float(isinf(x));",dtype:"bool"}),jIe={kernelName:P1,backendName:"webgl",kernelFunc:$Ie},_Ie=iAe({opSnippet:"return float(isnan(x));",dtype:"bool"}),FIe={kernelName:$1,backendName:"webgl",kernelFunc:_Ie},LIe=sAe({opSnippet:"return float(a < b);",packedOpSnippet:"\n  return vec4(lessThan(a, b));\n",cpuKernelImpl:Hke,dtype:"bool"}),zIe={kernelName:_1,backendName:"webgl",kernelFunc:LIe},BIe=sAe({opSnippet:"return float(a <= b);",packedOpSnippet:"\n  return vec4(lessThanEqual(a, b));\n",cpuKernelImpl:Gke,dtype:"bool"}),WIe={kernelName:F1,backendName:"webgl",kernelFunc:BIe};const VIe={kernelName:L1,backendName:"webgl",kernelFunc:function(e){const{backend:t,attrs:n}=e,{start:r,stop:o,num:a}=n,i=qke(r,o,a);return t.makeTensorInfo([i.length],"float32",i)}},UIe=iAe({opSnippet:aAe+"\n  return x < 0.0 ? 0./0. : log(x);\n",packedOpSnippet:"\n  vec4 result = log(x);\n  bvec4 isNaN = isnan(x);\n  result.r = isNaN.r ? x.r : (x.r < 0.0 ? 0./0. : result.r);\n  result.g = isNaN.g ? x.g : (x.g < 0.0 ? 0./0. : result.g);\n  result.b = isNaN.b ? x.b : (x.b < 0.0 ? 0./0. : result.b);\n  result.a = isNaN.a ? x.a : (x.a < 0.0 ? 0./0. : result.a);\n  return result;\n",cpuKernelImpl:Kke}),HIe={kernelName:z1,backendName:"webgl",kernelFunc:UIe},GIe=iAe({opSnippet:aAe+"\n  return log(1.0 + x);\n"}),qIe={kernelName:B1,backendName:"webgl",kernelFunc:GIe},KIe=sAe({opSnippet:"return float(a >= 1.0 && b >= 1.0);",packedOpSnippet:"\n  return vec4(\n    vec4(greaterThanEqual(a, vec4(1.0))) *\n    vec4(greaterThanEqual(b, vec4(1.0))));\n",dtype:"bool"}),XIe={kernelName:W1,backendName:"webgl",kernelFunc:KIe},YIe=iAe({opSnippet:"return float(!(x >= 1.0));"}),QIe={kernelName:V1,backendName:"webgl",kernelFunc:YIe},ZIe=sAe({opSnippet:"return float(a >= 1.0 || b >= 1.0);",packedOpSnippet:"\n  return min(\n    vec4(greaterThanEqual(a, vec4(1.0))) +\n    vec4(greaterThanEqual(b, vec4(1.0))),\n    vec4(1.0));\n",dtype:"bool"}),JIe={kernelName:U1,backendName:"webgl",kernelFunc:ZIe};class eEe{constructor(e,t,n,r,o){this.variableNames=["x"],this.outputShape=[];const a=t,i=e[3]-1;let s;this.outputShape=e;const l=`float(${n}) + float(${r}) * sum`;s=.5===o?`inversesqrt(${l})`:1===o?`1.0/(${l})`:`exp(log(${l}) * float(-${o}));`,this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n        int d = coords[3];\n        float x = getX(b, r, c, d);\n        float sum = 0.0;\n        for (int j = -${a}; j <= ${a}; j++) {\n          int idx = d + j;\n          if (idx >= 0 && idx <=  ${i}) {\n            float z = getX(b, r, c, idx);\n            sum += z * z;\n          }\n        }\n        float val = x * ${s};\n        setOutput(val);\n      }\n    `}}class tEe{constructor(e,t,n,r,o){this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;const a=t,i=e[3]-1;let s;this.outputShape=e;const l=`float(${n}) + float(${r}) * sum`;s=.5===o?`inversesqrt(${l})`:1===o?`1.0/(${l})`:`exp(log(${l}) * float(-${o}));`,this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords.x;\n        int r = coords.y;\n        int c = coords.z;\n        int d = coords.w;\n\n        bool hasNextCol = d < ${this.outputShape[3]};\n        bool hasNextRow = c < ${this.outputShape[2]};\n\n        vec4 sum = vec4(0.);\n        vec4 xFragAtOutputCoords = getX(b, r, c, d);\n\n        vec4 xAtOutputCoords = vec4(\n          getChannel(xFragAtOutputCoords, vec2(c, d)),\n          hasNextCol ?\n            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,\n          hasNextRow ?\n            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0\n        );\n\n        int firstChannel = d - ${a};\n        vec2 cache = vec2(0.);\n        if(firstChannel >= 0){\n          vec4 firstChannelFrag = getX(b, r, c, firstChannel);\n          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));\n            if(hasNextRow){\n              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));\n            }\n        }\n\n        ivec2 depth = ivec2(d, d + 1);\n        for (int j = - ${a}; j <= ${a}; j++) {\n          ivec2 idx = depth + j;\n          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));\n          bvec2 belowUpperBound = lessThanEqual(idx, ivec2(${i}));\n\n          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;\n          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;\n\n          if(depthInRange || depthPlusOneInRange){\n            vec4 z = vec4(0.);\n            vec4 xFragAtCurrentDepth;\n            z.xz = cache.xy;\n            if(depthPlusOneInRange && hasNextCol){\n              xFragAtCurrentDepth = idx.y != d ?\n                getX(b, r, c, idx.y) : xFragAtOutputCoords;\n              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));\n              if(hasNextRow){\n                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));\n              }\n            }\n            cache.xy = z.yw;\n            sum += z * z;\n          }\n        }\n        vec4 result = xAtOutputCoords * ${s};\n        setOutput(result);\n      }\n    `}}const nEe={kernelName:K1,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{depthRadius:a,bias:i,alpha:s,beta:l}=r,u=u0().getBool("WEBGL_PACK_NORMALIZATION")?new tEe(o.shape,a,i,s,l):new eEe(o.shape,a,i,s,l);return n.runWebGLProgram(u,[o],o.dtype)}};class rEe{constructor(e,t,n,r,o){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=e,this.depth=e[3],this.depthRadius=t,this.bias=n,this.alpha=r,this.beta=o,this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n\n        float result = 0.0;\n        for (int d = 0; d < ${this.depth}; ++d) {\n          int depthBegin = int(max(0.0, float(d - ${t})));\n          int depthEnd = int(min(float(${this.depth}),\n              float(d + ${t} + 1)));\n\n          const int MIN_DEPTH_BEGIN = 0;\n          const int MAX_DEPTH_END = ${this.depth};\n\n          float norm = 0.0;\n          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd) {\n              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);\n            }\n            else {\n              break;\n            }\n          }\n\n          norm = float(${r}) * norm + float(${n});\n\n          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd){\n              float dyi = -2.0 * float(${r})\n                * float(${o})\n                * getInputImage(b, r, c, k) * getOutputImage(b, r, c, d)\n                / norm;\n              if (k == d) {\n                dyi += pow(norm, -1.0 * ${o});\n              }\n              if (k == coords[3]) {\n                dyi *= getDy(b, r, c, d);\n                result += dyi;\n              }\n            }\n            else {\n              break;\n            }\n          }\n      }\n      setOutput(result);\n      }\n    `}}const oEe={kernelName:X1,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:r}=e,{x:o,y:a,dy:i}=t,{depthRadius:s,bias:l,alpha:u,beta:c}=r,d=new rEe(o.shape,s,l,u,c);return n.runWebGLProgram(d,[o,a,i],o.dtype)}};function aEe(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{reductionIndices:a,keepDims:i}=r,s=o.shape.length,l=PJ(a,o.shape);let u=l;const c=kee(u,s),d=null!=c,p=n.shouldExecuteOnCPU([o]);let h=o;if(d){if(p){const e=n.texData.get(h.dataId).values,t=new Array(s);for(let n=0;n<t.length;n++)t[n]=o.shape[c[n]];const r=SSe(e,o.shape,o.dtype,c,t);h=n.makeTensorInfo(t,o.dtype);n.texData.get(h.dataId).values=r}else h=SAe(o,c,n);u=Aee(u.length,s)}wee("max",u,s);const[f,m]=bee(h.shape,u);let g,y=f;if(i&&(y=xee(f,l)),p){const e=n.texData.get(h.dataId).values,t=Xke(e,SJ(m),y,o.dtype);g=n.makeTensorInfo(y,o.dtype);n.texData.get(g.dataId).values=t}else g=function(e,t,n,r){const o=SJ(t),a=gAe({inputs:{x:e},attrs:{shape:[SJ(e.shape)/o,o]},backend:r}),i=xAe(a,e.dtype,"max",r),s=gAe({inputs:{x:i},attrs:{shape:n},backend:r});return r.disposeIntermediateTensorInfo(a),r.disposeIntermediateTensorInfo(i),s}(h,m,y,n);return d&&n.disposeIntermediateTensorInfo(h),g}const iEe={kernelName:Q1,backendName:"webgl",kernelFunc:aEe},sEe=sAe({opSnippet:HSe+"\n  return max(a, b);\n",packedOpSnippet:"\n  vec4 result = vec4(max(a, b));\n  bvec4 isNaNA = isnan(a);\n  bvec4 isNaNB = isnan(b);\n  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);\n  "+qSe+"\n  return result;\n",cpuKernelImpl:Yke}),lEe={kernelName:Z1,backendName:"webgl",kernelFunc:sEe};const uEe={kernelName:J1,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t;Lwe(o,"maxPool");const{filterSize:a,strides:i,pad:s,dimRoundingMode:l}=r;xJ(x7(i,1),(()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${i} and dilations '1'`));const u=c7(o.shape,a,i,1,s,l);if(1===u.filterWidth&&1===u.filterHeight&&TJ(u.inShape,u.outShape))return XSe({inputs:{x:o},backend:n});const c=new sCe(u,"max",!1);return n.runWebGLProgram(c,[o],o.dtype)}};const cEe={kernelName:t2,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{filterSize:a,strides:i,pad:s,dataFormat:l,dimRoundingMode:u}=r,c=d7(o.shape,a,i,[1,1,1],s,u,l),d=new lCe(c,"max",!1);return n.runWebGLProgram(d,[o],o.dtype)}};class dEe{constructor(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;const t=e.strideHeight,n=e.strideWidth,r=e.dilationHeight,o=e.effectiveFilterHeight,a=e.effectiveFilterWidth,i=o-1-e.padInfo.top,s=a-1-e.padInfo.left,l=o*a-1;this.userCode=`\n      const ivec2 pads = ivec2(${i}, ${s});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ${o};\n          wR += ${r}) {\n          float dyR = float(dyRCorner + wR) / ${t}.0;\n\n          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < ${a}; wC++) {\n            float dyC = float(dyCCorner + wC) / ${n}.0;\n\n            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n            int maxPosValue = ${l} - int(getMaxPos(b, idyR, idyC, d));\n\n            // Get the current value, check it against the value from the\n            // position matrix.\n            int curPosValue = wR * ${a} + wC;\n            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n            dotProd += dyValue * mask;\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class pEe{constructor(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;const t=e.strideDepth,n=e.strideHeight,r=e.strideWidth,o=e.dilationDepth,a=e.dilationHeight,i=e.dilationWidth,s=e.effectiveFilterDepth,l=e.effectiveFilterHeight,u=e.effectiveFilterWidth,c=s-1-e.padInfo.front,d=l-1-e.padInfo.top,p=u-1-e.padInfo.left,h=s*l*u-1;this.userCode=`\n      const ivec3 pads = ivec3(${c}, ${d}, ${p});\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < ${s};\n           wD += ${o}) {\n          float dyD = float(dyDCorner + wD) / ${t}.0;\n\n          if (dyD < 0.0 || dyD >= ${e.outDepth}.0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < ${l};\n              wR += ${a}) {\n            float dyR = float(dyRCorner + wR) / ${n}.0;\n\n            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < ${u};\n                wC += ${i}) {\n              float dyC = float(dyCCorner + wC) / ${r}.0;\n\n              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n              int maxPosValue = ${h} -\n                  int(getMaxPos(batch, idyD, idyR, idyC, ch));\n\n              // Get the current value, check it against the value from the\n              // position matrix.\n              int curPosValue =\n                  wD * ${l} * ${u} +\n                  wR * ${u} + wC;\n              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n              dotProd += dyValue * mask;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}const hEe={kernelName:n2,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:o,input:a}=t,i=a,{filterSize:s,strides:l,pad:u,dimRoundingMode:c}=r,d=d7(i.shape,s,l,[1,1,1],u,c),p=new lCe(d,"max",!0),h=n.runWebGLProgram(p,[i],i.dtype),f=new pEe(d),m=n.runWebGLProgram(f,[o,h],i.dtype);return n.disposeIntermediateTensorInfo(h),m}};const fEe={kernelName:e2,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:o,input:a,output:i}=t,s=a;Lwe([a,i],"maxPoolGrad");const{filterSize:l,strides:u,pad:c,dimRoundingMode:d}=r,p=c7(s.shape,l,u,1,c,d),h=new sCe(p,"max",!0),f=n.runWebGLProgram(h,[s],s.dtype),m=new dEe(p),g=n.runWebGLProgram(m,[o,f],s.dtype);return n.disposeIntermediateTensorInfo(f),g}};const mEe={kernelName:r2,backendName:"webgl",kernelFunc:e=>{let{inputs:t,attrs:n,backend:r}=e;const{x:o}=t,{filterSize:a,strides:i,pad:s,includeBatchInIndex:l}=n,u=r;xJ(4===o.shape.length,(()=>`Error in maxPool: input must be rank 4 but got rank ${o.shape.length}.`));const c=[1,1];xJ(x7(i,c),(()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${i} and dilations '${c}'`));const d=c7(o.shape,a,i,c,s),[p,h]=function(e,t,n,r){let o=new sCe(n,"max",!1);const a=r.runWebGLProgram(o,[e],"float32");return o=new sCe(n,"max",!0,!0,t),[a,r.runWebGLProgram(o,[e],"float32")]}(o,l,d,u);return[p,h]}};const gEe={kernelName:o2,backendName:"webgl",kernelFunc:e=>{let{inputs:t,attrs:n,backend:r}=e;const{x:o}=t,{keepDims:a,axis:i}=n,s=r,l=o.shape.length,u=PJ(i,o.shape);let c=u;const d=kee(c,l),p=null!=d,h=s.shouldExecuteOnCPU([o]),f=[];let m=o;if(p){if(h){const e=s.texData.get(m.dataId).values,t=new Array(l);for(let r=0;r<t.length;r++)t[r]=o.shape[d[r]];const n=SSe(e,o.shape,o.dtype,d,t);m=s.makeTensorInfo(t,o.dtype);s.texData.get(m.dataId).values=n}else m=SAe(o,d,s);f.push(m),c=Aee(c.length,l)}wee("sum",c,l);const[g,y]=bee(m.shape,c);let v=g;a&&(v=xee(g,u));const b=function(e,t,n,r){const o=SJ(t),a=gAe({inputs:{x:e},attrs:{shape:[SJ(e.shape)/o,o]},backend:r}),i=xAe(a,"float32","mean",r),s=gAe({inputs:{x:i},attrs:{shape:n},backend:r});return r.disposeIntermediateTensorInfo(a),r.disposeIntermediateTensorInfo(i),s}(m,y,v,s);for(const x of f)s.disposeIntermediateTensorInfo(x);return b}};const yEe={kernelName:a2,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:a,keepDims:i}=r,s=o.shape.length,l=PJ(a,o.shape);let u=l;const c=kee(u,s);let d=o;null!=c&&(d=TAe({inputs:{x:o},backend:n,attrs:{perm:c}}),u=Aee(u.length,o.shape.length)),wee("min",u,s);const[p,h]=bee(d.shape,u),f=gAe({inputs:{x:d},backend:n,attrs:{shape:[-1,SJ(h)]}}),m=xAe(f,f.dtype,"min",n);let g;if(i){g=gAe({inputs:{x:m},backend:n,attrs:{shape:xee(p,l)}})}else g=gAe({inputs:{x:m},backend:n,attrs:{shape:p}});return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),null!=c&&n.disposeIntermediateTensorInfo(d),g}},vEe=sAe({opSnippet:HSe+"\n  return min(a, b);\n",packedOpSnippet:"\n  vec4 result = vec4(min(a, b));\n  bvec4 isNaNA = isnan(a);\n  bvec4 isNaNB = isnan(b);\n  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);\n  "+qSe+"\n  return result;\n",cpuKernelImpl:Qke}),bEe={kernelName:i2,backendName:"webgl",kernelFunc:vEe};class xEe{constructor(e,t,n){this.variableNames=["x"],this.outputShape=t.map(((t,n)=>t[0]+e[n]+t[1]));const r=e.length,o=oke(r),a=t.map((e=>e[0])).join(","),i=t.map(((t,n)=>t[0]+e[n])).join(","),s=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,r),l="reflect"===n?0:1;this.userCode=1!==r?`\n      ${o} start = ${o}(${a});\n      ${o} end = ${o}(${i});\n\n      void main() {\n        ${o} outC = getOutputCoords();\n        for (int i = 0; i < ${r}; i++) {\n          if (outC[i] < start[i]) {\n            outC[i] = start[i] * 2 - outC[i] - ${l};\n          } else if(outC[i] >= end[i]) {\n            outC[i] = (end[i] - 1) * 2 - outC[i] + ${l};\n          }\n        }\n        ${o} coords = outC - start;\n        setOutput(getX(${s}));\n      }\n    `:`\n        int start = ${a};\n        int end = ${i};\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start) {\n            outC = start * 2 - outC - ${l};\n          } else if(outC >= end) {\n            outC = (end - 1) * 2 - outC + ${l};\n          }\n          setOutput(getX(outC - start));\n        }\n      `}}class wEe{constructor(e,t,n){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t.map(((t,n)=>t[0]+e[n]+t[1]));const r=e.length,o=oke(r),a=t.map((e=>e[0])).join(","),i=t.map(((t,n)=>t[0]+e[n])).join(","),s=TSe("rc",r),l=TSe("source",r),u=`${s[r-1]} < ${this.outputShape[r-1]}`,c=1===r?"source":`vec2(${l.slice(-2).join()})`,d="reflect"===n?0:1;let p="";if(1===r){const e=`\n        ${o} source = rc;\n        if (source < start) {\n          source = start * 2 - source - ${d};\n        } else if (source >= end) {\n          source = (end - 1) * 2 - source + ${d};\n        }\n        source -= start;\n      `;p=`\n        ${o} rc = outputLoc;\n        ${e}\n        result[0] = getChannel(getX(${l.join()}), ${c});\n        ${s[r-1]} += 1;\n        if(${u}) {\n          ${e}\n          result[1] = getChannel(getX(${l.join()}), ${c});\n        }\n      `}else{const e=`\n        ${o} source = rc;\n        ${o} lt = ${o}(lessThan(source, start));\n        ${o} gte = ${o}(greaterThanEqual(source, end));\n        ${o} orig = 1 - (lt + gte);\n        source = orig * source +\n                lt * (start * 2 - source - ${d}) +\n                gte * ((end - 1) * 2 - source + ${d});\n        source -= start;\n      `;p=`\n        ${o} rc = outputLoc;\n        ${e}\n        result[0] = getChannel(getX(${l.join()}), ${c});\n        ${s[r-1]} += 1;\n        if(${u}) {\n          ${e}\n          result[1] = getChannel(getX(${l.join()}), ${c});\n        }\n        rc = outputLoc;\n        ${s[r-2]} += 1;\n        if(${s[r-2]} < ${this.outputShape[r-2]}) {\n          ${e}\n          result[2] = getChannel(getX(${l.join()}), ${c});\n          ${s[r-1]} += 1;\n          if(${u}) {\n            ${e}\n            result[3] = getChannel(getX(${l.join()}), ${c});\n          }\n        }\n      `}this.userCode=`\n      const ${o} start = ${o}(${a});\n      const ${o} end = ${o}(${i});\n\n      void main() {\n        ${o} outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        ${p}\n        setOutput(result);\n      }\n    `}}const kEe={kernelName:s2,backendName:"webgl",kernelFunc:e=>{let{inputs:t,backend:n,attrs:r}=e;const{x:o}=t,{paddings:a,mode:i}=r,s=u0().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new wEe(o.shape,a,i):new xEe(o.shape,a,i);return n.runWebGLProgram(s,[o],o.dtype)}},SEe=sAe({opSnippet:"if (b == 0.0) return NAN;\n  return mod(a, b);",packedOpSnippet:"\n  vec4 result = mod(a, b);\n  bvec4 isNaN = equal(b, vec4(0.0));\n  "+qSe+"\n  return result;\n"}),AEe={kernelName:l2,backendName:"webgl",kernelFunc:SEe};class CEe{constructor(e,t,n){this.variableNames=["probs"],this.customUniforms=[{name:"seed",type:"float"}],this.outputShape=[e,n],this.userCode=`\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n\n        float r = random(seed);\n        float cdf = 0.0;\n\n        for (int i = 0; i < ${t-1}; i++) {\n          cdf += getProbs(batch, i);\n\n          if (r < cdf) {\n            setOutput(float(i));\n            return;\n          }\n        }\n\n        // If no other event happened, last event happened.\n        setOutput(float(${t-1}));\n      }\n    `}}const TEe=sAe({opSnippet:"\nif (a == b) {\n  return 1.0;\n};\nreturn a / b;",packedOpSnippet:"\n  // vec4 one = vec4(equal(a, b));\n  // return one + (vec4(1.0) - one) * a / b;\n  vec4 result = a / b;\n  if(a.x == b.x) {\n    result.x = 1.;\n  }\n  if(a.y == b.y) {\n    result.y = 1.;\n  }\n  if(a.z == b.z) {\n    result.z = 1.;\n  }\n  if(a.w == b.w) {\n    result.w = 1.;\n  }\n\n  return result;\n",checkOutOfBounds:!0}),IEe={kernelName:d1,backendName:"webgl",kernelFunc:TEe},EEe="return a - b;",NEe=sAe({opSnippet:EEe,packedOpSnippet:EEe,supportsComplex:!0,cpuKernelImpl:xSe}),OEe={kernelName:f3,backendName:"webgl",kernelFunc:NEe};function MEe(e){const{inputs:t,backend:n,attrs:r}=e,{logits:o}=t,{dim:a}=r,i=PJ([a],o.shape),s=aEe({inputs:{x:o},backend:n,attrs:{reductionIndices:i,keepDims:!1}}),l=xee(s.shape,i),u=gAe({inputs:{x:s},backend:n,attrs:{shape:l}}),c=NEe({inputs:{a:o,b:u},backend:n}),d=YTe({inputs:{x:c},backend:n}),p=AAe({inputs:{x:d},backend:n,attrs:{axis:i,keepDims:!1}}),h=gAe({inputs:{x:p},backend:n,attrs:{shape:l}}),f=TEe({inputs:{a:d,b:h},backend:n});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(h),f}const DEe={kernelName:t3,backendName:"webgl",kernelFunc:MEe};const REe={kernelName:u2,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{logits:o}=t,{numSamples:a,seed:i,normalized:s}=r,l=s?o:MEe({inputs:{logits:o},backend:n,attrs:{dim:o.shape.length-1}}),u=l.shape[0],c=l.shape[1],d=new CEe(u,c,a),p=[[i]],h=n.runWebGLProgram(d,[l],"int32",p);return s||n.disposeIntermediateTensorInfo(l),h}},PEe=PSe+"\n  return -x;\n";const $Ee={kernelName:d2,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:r}=t;if(n.shouldExecuteOnCPU([r])){const e=n.texData.get(r.dataId),[t,o]=Jke(e.values,r.shape,r.dtype);return n.makeTensorInfo(o,r.dtype,t)}let o;return o=u0().getBool("WEBGL_PACK_UNARY_OPERATIONS")?new LSe(r.shape,"\n  vec4 result = -x;\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"):new RSe(r.shape,PEe),n.runWebGLProgram(o,[r],r.dtype)}},jEe=yre;const _Ee={kernelName:h2,backendName:"webgl",kernelFunc:function(e){D3("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:t,backend:n,attrs:r}=e,{boxes:o,scores:a}=t,{maxOutputSize:i,iouThreshold:s,scoreThreshold:l}=r,u=n.readSync(o.dataId),c=n.readSync(a.dataId),{selectedIndices:d}=jEe(u,c,i,s,l);return n.makeTensorInfo([d.length],"int32",new Int32Array(d))}},FEe=vre;const LEe={kernelName:f2,backendName:"webgl",kernelFunc:function(e){D3("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:t,backend:n,attrs:r}=e,{boxes:o,scores:a}=t,{maxOutputSize:i,iouThreshold:s,scoreThreshold:l,padToMaxOutputSize:u}=r,c=n.readSync(o.dataId),d=n.readSync(a.dataId),{selectedIndices:p,validOutputs:h}=FEe(c,d,i,s,l,u);return[n.makeTensorInfo([p.length],"int32",new Int32Array(p)),n.makeTensorInfo([],"int32",new Int32Array([h]))]}},zEe=bre;const BEe={kernelName:m2,backendName:"webgl",kernelFunc:function(e){D3("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:t,backend:n,attrs:r}=e,{boxes:o,scores:a}=t,{maxOutputSize:i,iouThreshold:s,scoreThreshold:l,softNmsSigma:u}=r,c=n.readSync(o.dataId),d=n.readSync(a.dataId),p=i,h=s,f=l,m=u,{selectedIndices:g,selectedScores:y}=zEe(c,d,p,h,f,m);return[n.makeTensorInfo([g.length],"int32",new Int32Array(g)),n.makeTensorInfo([y.length],"float32",new Float32Array(y))]}};class WEe{constructor(e,t,n,r){this.variableNames=["indices"],this.outputShape=[e,t],this.userCode=`\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int index = round(getIndices(coords.x));\n        setOutput(mix(float(${r}), float(${n}),\n                      float(index == coords.y)));\n      }\n    `}}const VEe={kernelName:y2,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:r}=e,{indices:o}=t,{dtype:a,depth:i,onValue:s,offValue:l}=r,u=SJ(o.shape),c=new WEe(u,i,s,l),d=gAe({inputs:{x:o},backend:n,attrs:{shape:[u]}}),p=n.runWebGLProgram(c,[d],a);n.disposeIntermediateTensorInfo(d);const h=gAe({inputs:{x:p},backend:n,attrs:{shape:[...o.shape,i]}});return n.disposeIntermediateTensorInfo(p),h}};function UEe(e){const{inputs:t,backend:n}=e,{x:r}=t;if("complex64"===r.dtype){const e=OCe({inputs:{input:r},backend:n}),t=UEe({inputs:{x:e},backend:n}),o=HCe({inputs:{input:r},backend:n}),a=UEe({inputs:{x:o},backend:n}),i=QSe({inputs:{real:t,imag:a},backend:n});return n.disposeIntermediateTensorInfo(e),n.disposeIntermediateTensorInfo(t),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(a),i}return sIe({attrs:{shape:r.shape,dtype:r.dtype,value:"string"===r.dtype?"":0},backend:n})}const HEe={kernelName:C3,backendName:"webgl",kernelFunc:UEe};const GEe={kernelName:g2,backendName:"webgl",kernelFunc:function e(t){const{inputs:n,backend:r}=t,{x:o}=n;if("string"===o.dtype)throw new Error("onesLike is not supported under string dtype");if("complex64"===o.dtype){const t=OCe({inputs:{input:o},backend:r}),n=e({inputs:{x:t},backend:r}),a=HCe({inputs:{input:o},backend:r}),i=UEe({inputs:{x:a},backend:r}),s=QSe({inputs:{real:n,imag:i},backend:r});return r.disposeIntermediateTensorInfo(t),r.disposeIntermediateTensorInfo(n),r.disposeIntermediateTensorInfo(a),r.disposeIntermediateTensorInfo(i),s}return sIe({attrs:{shape:o.shape,dtype:o.dtype,value:1},backend:r})}};const qEe={kernelName:v2,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{axis:o}=r;if(1===t.length)return ZTe({inputs:{input:t[0]},backend:n,attrs:{dim:o}});const a=t[0].shape,i=t[0].dtype;t.forEach((e=>{wJ(a,e.shape,"All tensors passed to stack must have matching shapes"),xJ(i===e.dtype,(()=>"All tensors passed to stack must have matching dtypes"))}));const s=[],l=KCe({inputs:t.map((e=>{const t=ZTe({inputs:{input:e},backend:n,attrs:{dim:o}});return s.push(t),t})),backend:n,attrs:{axis:o}});return s.forEach((e=>n.disposeIntermediateTensorInfo(e))),l}};class KEe{constructor(e,t,n){this.variableNames=["x"],this.customUniforms=[{name:"value",type:"float"}],this.outputShape=t.map(((t,n)=>t[0]+e[n]+t[1]));const r=e.length,o=oke(r),a=t.map((e=>e[0])).join(","),i=t.map(((t,n)=>t[0]+e[n])).join(","),s=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,r);this.userCode=1!==r?`\n      ${o} start = ${o}(${a});\n      ${o} end = ${o}(${i});\n\n      void main() {\n        ${o} outC = getOutputCoords();\n        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {\n          setOutput(value);\n        } else {\n          ${o} coords = outC - start;\n          setOutput(getX(${s}));\n        }\n      }\n    `:`\n        int start = ${a};\n        int end = ${i};\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start || outC >= end) {\n            setOutput(value);\n          } else {\n            setOutput(getX(outC - start));\n          }\n        }\n      `}}class XEe{constructor(e,t,n){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"value",type:"float"}],this.outputShape=t.map(((t,n)=>t[0]+e[n]+t[1]));const r=e.length,o=oke(r),a=t.map((e=>e[0])).join(","),i=t.map(((t,n)=>t[0]+e[n])).join(","),s=TSe("rc",r),l=TSe("source",r),u=`${s[r-1]} < ${this.outputShape[r-1]}`,c=1===r?"source":`vec2(${l.slice(-2).join()})`,d=[`${o} rc = outputLoc;`,`${s[r-1]} += 1;\n       if(${u}) {\n      `,1===r?"":`}\n       rc = outputLoc;\n       ${s[r-2]} += 1;\n       if(${s[r-2]} < ${this.outputShape[r-2]}) {`,1===r?"":`  ${s[r-1]} += 1;\n         if(${u}) {`],p=1===r?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))";let h="";for(let f=0,m=1===r?2:4;f<m;f++)h+=`\n        ${d[f]}\n        if (${p}) {\n          result[${f}] = float(value);\n        } else {\n          ${o} source = rc - start;\n          result[${f}] = getChannel(getX(${l.join()}), ${c});\n        }\n      `;h+=1===r?"} ":"}}",this.userCode=`\n      const ${o} start = ${o}(${a});\n      const ${o} end = ${o}(${i});\n\n      void main() {\n        ${o} outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        ${h}\n        setOutput(result);\n      }\n    `}}const YEe=e=>{const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{paddings:a,constantValue:i}=r;if(0===SJ(o.shape)){return sIe({backend:n,attrs:{shape:a.map(((e,t)=>e[0]+o.shape[t]+e[1])),value:i,dtype:o.dtype}})}const s=u0().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new XEe(o.shape,a,i):new KEe(o.shape,a,i),l=[[i]];return n.runWebGLProgram(s,[o],o.dtype,l)},QEe={kernelName:b2,backendName:"webgl",kernelFunc:YEe},ZEe=sAe({opSnippet:"\n  if(a < 0.0 && floor(b) < b){\n    return NAN;\n  }\n  if (b == 0.0) {\n    return 1.0;\n  }\n  return (round(mod(b, 2.0)) != 1) ?\n      pow(abs(a), b) : sign(a) * pow(abs(a), b);\n",packedOpSnippet:"\n  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.\n  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));\n  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);\n  vec4 result = multiplier * pow(abs(a), b);\n\n  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS\n  bvec4 isExpZero = equal(b, vec4(0.0));\n  result.r = isExpZero.r ? 1.0 : result.r;\n  result.g = isExpZero.g ? 1.0 : result.g;\n  result.b = isExpZero.b ? 1.0 : result.b;\n  result.a = isExpZero.a ? 1.0 : result.a;\n\n  bvec4 isNaN1 = lessThan(a, vec4(0.0));\n  bvec4 isNaN2 = lessThan(floor(b), b);\n  bvec4 isNaN = bvec4(isNaN1.x && isNaN2.x, isNaN1.y && isNaN2.y, isNaN1.z && isNaN2.z, isNaN1.w && isNaN2.w);\n  "+qSe+"\n  return result;\n"}),JEe={kernelName:w2,backendName:"webgl",kernelFunc:ZEe};const eNe={kernelName:S2,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:a,keepDims:i}=r,s=o.shape.length,l=[],u=PJ(a,o.shape);let c=u;const d=kee(c,s);let p,h=o;if(null!=d&&(h=TAe({inputs:{x:o},backend:n,attrs:{perm:d}}),c=Aee(c.length,s),l.push(h)),wee("prod",c,s),n.shouldExecuteOnCPU([h])){const e=n.texData.get(h.dataId).values,{outVals:t,outShape:r,outDtype:o}=tSe(h.shape,h.dtype,e,c);p=n.makeTensorInfo(r,o,t)}else{const[e,t]=bee(h.shape,c),r=SJ(t),a=gAe({inputs:{x:h},backend:n,attrs:{shape:[-1,r]}}),i=xAe(a,B4(o.dtype),"prod",n);p=gAe({inputs:{x:i},backend:n,attrs:{shape:e}}),l.push(a),l.push(i)}if(i){l.push(p);const e=xee(p.shape,u);p=gAe({inputs:{x:p},backend:n,attrs:{shape:e}})}return l.forEach((e=>n.disposeIntermediateTensorInfo(e))),p}};const tNe={kernelName:A2,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{paramsNestedSplits:o,paramsDenseValues:a,indices:i}=t,{outputRaggedRank:s}=r,l=o.map((e=>n.readSync(e.dataId))),u=o.map((e=>e.shape)),c=n.readSync(a.dataId),d=n.readSync(i.dataId),[p,h,f]=nSe(l,u,c,a.shape,a.dtype,d,i.shape,s),m=p.map((e=>n.makeTensorInfo([e.length],"int32",e))),g=n.makeTensorInfo(f,a.dtype,h);return m.concat([g])}};const nNe={kernelName:C2,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{starts:r,limits:o,deltas:a}=t,i=n.readSync(r.dataId),s=n.readSync(o.dataId),l=n.readSync(a.dataId),[u,c]=rSe(i,r.shape,r.dtype,s,o.shape,l,a.shape);return[n.makeTensorInfo([u.length],"int32",u),n.makeTensorInfo([c.length],r.dtype,c)]}};const rNe={kernelName:T2,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{shape:o,values:a,defaultValue:i,rowPartitionTensors:s}=t,{rowPartitionTypes:l}=r,u=n.readSync(o.dataId),c=n.readSync(a.dataId),d=n.readSync(i.dataId),p=s.map((e=>n.readSync(e.dataId))),h=s.map((e=>e.shape)),[f,m]=oSe(u,o.shape,c,a.shape,a.dtype,d,i.shape,p,h,l);return n.makeTensorInfo(f,a.dtype,m)}},oNe=e=>{const{backend:t,attrs:n}=e,{start:r,stop:o,step:a,dtype:i}=n,s=aSe(r,o,a,i);return t.makeTensorInfo([s.length],i,s)},aNe={kernelName:I2,backendName:"webgl",kernelFunc:oNe},iNe=iAe({opSnippet:"return 1.0 / x;"}),sNe={kernelName:N2,backendName:"webgl",kernelFunc:iNe},lNe=iAe({opSnippet:PSe+"\n  return (x < 0.0) ? 0.0 : x;\n",packedOpSnippet:"\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"}),uNe={kernelName:O2,backendName:"webgl",kernelFunc:lNe},cNe=iAe({opSnippet:PSe+"\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",packedOpSnippet:"\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"}),dNe={kernelName:j2,backendName:"webgl",kernelFunc:cNe};class pNe{constructor(e,t,n,r,o){this.variableNames=["A"],this.outputShape=[];const[a,i,s,l]=e;this.outputShape=[a,t,n,l];const u=[r&&t>1?i-1:i,r&&n>1?s-1:s],c=[r&&t>1?t-1:t,r&&n>1?n-1:n];let d;d=o?"(vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC - vec2(0.5)":"vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          ${u[0]/c[0]},\n          ${u[1]/c[1]});\n      const vec2 inputShapeRC = vec2(${i}.0, ${s}.0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = ${d};\n\n        // Compute the four integer indices.\n        ivec2 sourceFloorRC = ivec2(max(sourceFracIndexRC, vec2(0.0)));\n        ivec2 sourceCeilRC = ivec2(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);\n        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);\n        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);\n        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);\n\n        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);\n\n        float top = topLeft + (topRight - topLeft) * fracRC.y;\n        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;\n        float newValue = top + (bottom - top) * fracRC.x;\n\n        setOutput(newValue);\n      }\n    `}}class hNe{constructor(e,t,n,r,o){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];const[a,i,s,l]=e;this.outputShape=[a,t,n,l];const u=[r&&t>1?i-1:i,r&&n>1?s-1:s],c=[r&&t>1?t-1:t,r&&n>1?n-1:n];let d;d=o?"(vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC - vec3(0.5)":"vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          ${u[0]/c[0]},\n          ${u[1]/c[1]},\n          ${u[1]/c[1]});\n      const vec3 inputShapeRC = vec3(${i}.0, ${s}.0,\n                                     ${s}.0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = ${d};\n\n        // Compute the four integer indices.\n        ivec3 sourceFloorRC = ivec3(max(sourceFracIndexRC, vec3(0.0)));\n        ivec3 sourceCeilRC = ivec3(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < ${l-1};\n        bool hasNextRow = coords.z < ${n-1};\n\n        // In parallel, construct four corners for all four components in\n        // packed 2x2 cell.\n        vec4 topLeft = vec4(\n          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 bottomLeft = vec4(\n          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 topRight = vec4(\n          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec4 bottomRight = vec4(\n          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);\n\n        vec4 top = mix(topLeft, topRight, fracRC.yyzz);\n        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);\n        vec4 newValue = mix(top, bottom, fracRC.x);\n\n        setOutput(newValue);\n      }\n    `}}const fNe={kernelName:P2,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:o}=t,{alignCorners:a,halfPixelCenters:i,size:s}=r,[l,u]=s,c=u0().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new hNe(o.shape,l,u,a,i):new pNe(o.shape,l,u,a,i);return n.runWebGLProgram(c,[o],"float32")}};class mNe{constructor(e,t,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t;const[,r,o]=t,[,a,i]=e,s=[n&&a>1?r-1:r,n&&i>1?o-1:o],l=[n&&a>1?a-1:a,n&&i>1?i-1:i],u=s[0]/l[0],c=s[1]/l[1],d=1/u,p=1/c,h=2*Math.ceil(d)+2,f=2*Math.ceil(p)+2;this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float(${u});\n        const float widthScale = float(${c});\n\n        const float invHeightScale = float(${d});\n        const float invWidthScale = float(${p});\n\n        const int winHeight = int(${h});\n        const int winWidth = int(${f});\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(startRLerp - float(winHeight / 2));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(startCLerp - float(winWidth / 2));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= ${a}) {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= ${i}) {\n              continue;\n            }\n\n            float dxR = float(dyR) * heightScale;\n            int topDxRIndex = int(floor(dxR));\n            int bottomDxRIndex = int(min(ceil(dxR), ${r-1}.0));\n            float dxRLerp = dxR - float(topDxRIndex);\n            float inverseDxRLerp = 1.0 - dxRLerp;\n\n            float dxC = float(dyC) * widthScale;\n            int leftDxCIndex = int(floor(dxC));\n            int rightDxCIndex = int(min(ceil(dxC), ${o-1}.0));\n            float dxCLerp = dxC - float(leftDxCIndex);\n            float inverseDxCLerp = 1.0 - dxCLerp;\n\n            if (r == topDxRIndex && c == leftDxCIndex) {\n              // topLeft\n              accumulator +=\n                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;\n            }\n\n            if (r == topDxRIndex && c == rightDxCIndex) {\n              // topRight\n              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == leftDxCIndex) {\n              // bottomLeft\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == rightDxCIndex) {\n              // bottomRight\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    `}}const gNe={kernelName:$2,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:o,dy:a}=t,{alignCorners:i}=r,s=new mNe(a.shape,o.shape,i);return n.runWebGLProgram(s,[a],a.dtype)}};class yNe{constructor(e,t,n,r,o){this.variableNames=["A"],this.outputShape=[];const[a,i,s,l]=e;this.outputShape=[a,t,n,l];const u=[r&&t>1?i-1:i,r&&n>1?s-1:s],c=[r&&t>1?t-1:t,r&&n>1?n-1:n],d=r?"0.5":"0.0";let p;p=o?"max((vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC, vec2(0.0))":"vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          ${u[0]/c[0]},\n          ${u[1]/c[1]});\n      const vec2 inputShapeRC = vec2(${i}.0, ${s}.0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = ${p};\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec2 sourceNearestRC = ivec2(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ${d})));\n        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);\n\n        setOutput(newValue);\n      }\n    `}}class vNe{constructor(e,t,n,r,o){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];const[a,i,s,l]=e;this.outputShape=[a,t,n,l];const u=[r&&t>1?i-1:i,r&&n>1?s-1:s],c=[r&&t>1?t-1:t,r&&n>1?n-1:n],d=r?"0.5":"0.0";let p;p=o?"max((vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC, vec3(0.0))":"vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          ${u[0]/c[0]},\n          ${u[1]/c[1]},\n          ${u[1]/c[1]});\n      const vec3 inputShapeRC = vec3(${i}.0, ${s}.0,\n                                     ${s}.0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = ${p};\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec3 sourceNearestRC = ivec3(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ${d})));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < ${l-1};\n        bool hasNextRow = coords.z < ${n-1};\n\n        vec4 newValue = vec4(\n          getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d),\n          hasNextCol ? getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d + 1) : 0.0);\n\n        setOutput(newValue);\n      }\n    `}}const bNe={kernelName:D2,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:o}=t,{alignCorners:a,halfPixelCenters:i,size:s}=r,[l,u]=s,c=u0().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new vNe(o.shape,l,u,a,i):new yNe(o.shape,l,u,a,i);return n.runWebGLProgram(c,[o],o.dtype)}};class xNe{constructor(e,t,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t;const[,r,o]=t,[,a,i]=e,s=[n&&a>1?r-1:r,n&&i>1?o-1:o],l=[n&&a>1?a-1:a,n&&i>1?i-1:i],u=s[0]/l[0],c=s[1]/l[1],d=1/u,p=1/c,h=2*Math.ceil(d)+2,f=2*Math.ceil(p)+2;this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float(${u});\n        const float widthScale = float(${c});\n\n        const float invHeightScale = float(${d});\n        const float invWidthScale = float(${p});\n\n        const int winHeight = int(${h});\n        const int winWidth = int(${f});\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(floor(startRLerp - float(winHeight / 2)));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(floor(startCLerp - float(winWidth / 2)));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= ${a}) {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= ${i}) {\n              continue;\n            }\n\n            float sourceFracRow =\n              float(${s[0]}) *\n                (float(dyR) / float(${l[0]}));\n\n            float sourceFracCol =\n                float(${s[1]}) *\n                  (float(dyC) / float(${l[1]}));\n\n            int sourceNearestRow = int(min(\n                float(int(${r}) - 1),\n                ${n} ? float(round(sourceFracRow)) :\n                                  float(floor(sourceFracRow))));\n\n            int sourceNearestCol = int(min(\n                float(int(${o}) - 1),\n                ${n} ? float(round(sourceFracCol)) :\n                                  float(floor(sourceFracCol))));\n\n            if (r == sourceNearestRow && c == sourceNearestCol) {\n              accumulator += getDy(b, dyR, dyC, d);\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    `}}const wNe={kernelName:R2,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:o,dy:a}=t,{alignCorners:i}=r,s=new xNe(a.shape,o.shape,i);return n.runWebGLProgram(s,[a],a.dtype)}};class kNe{constructor(e,t){this.variableNames=["x"];const n=e.length;if(n>4)throw new Error(`WebGL backend: Reverse of rank-${n} tensor is not yet supported`);if(this.outputShape=e,1===n)return void(this.userCode=`\n        void main() {\n          int coord = getOutputCoords();\n          setOutput(getX(${e[0]} - coord - 1));\n        }\n      `);const r=e.map(((n,r)=>(n=>-1!==t.indexOf(n)&&1!==e[n]?`${e[n]} - coords[${n}] - 1`:`coords[${n}]`)(r))).join(","),o=oke(n);this.userCode=`\n      void main() {\n        ${o} coords = getOutputCoords();\n        setOutput(getX(${r}));\n      }\n    `}}class SNe{constructor(e,t){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;const n=e.length;if(n>4)throw new Error(`WebGL backend: Reverse of rank-${n} tensor is not yet supported`);this.outputShape=e;const r=TSe("rc",n),o=`${r[n-1]} + 1 < ${this.outputShape[n-1]}`,a=`${r[n-2]} + 1 < ${this.outputShape[n-2]}`,i=oke(n);function s(n){const r=e.map(((r,o)=>function(n,r){return-1!==t.indexOf(n)&&1!==e[n]?`${e[n]} - ${r[n]} - 1`:`${r[n]}`}(o,n)));return`getChannel(getX(${r.join(",")}), vec2(${r.slice(-2).join(",")}))`}this.userCode=1===n?`\n        void main(){\n          int rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = getChannel(getX(${e[0]} - rc - 1),\n            ${e[0]} - rc - 1);\n          if(${o}){\n              result.g = getChannel(getX(${e[0]} - (rc  + 1) - 1),\n                ${e[0]} - (rc  + 1) - 1);\n          }\n          setOutput(result);\n        }\n      `:`\n        void main() {\n          ${i} rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = ${function(e){return s(e)}(r.slice())};\n          if(${o}){\n            result.g = ${function(e){return e[n-1]="("+e[n-1]+" + 1)",s(e)}(r.slice())};\n          }\n          if(${a}) {\n            result.b = ${function(e){return e[n-2]="("+e[n-2]+" + 1)",s(e)}(r.slice())};\n            if(${o}) {\n              result.a = ${function(e){return e[n-1]="("+e[n-1]+" + 1)",e[n-2]="("+e[n-2]+" + 1)",s(e)}(r.slice())};\n            }\n          }\n          setOutput(result);\n        }\n    `}}const ANe={kernelName:_2,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{dims:a}=r,i=o.shape.length,s=PJ(a,o.shape);if(0===i)return XSe({inputs:{x:o},backend:n});const l=u0().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new SNe(o.shape,s):new kNe(o.shape,s);return n.runWebGLProgram(l,[o],o.dtype)}};class CNe{constructor(e,t){this.variableNames=["Image"],this.outputShape=[],this.customUniforms=[{name:"params",type:"vec4"}];const n=e[1],r=e[2];this.outputShape=e;let o="";o="number"===typeof t?`float outputValue = ${t.toFixed(2)};`:`\n        vec3 fill = vec3(${t.join(",")});\n        float outputValue = fill[coords[3]];`,this.userCode=`\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int x = coords[2];\n          int y = coords[1];\n          float coordXFloat = (float(x) - params[0]) * params[3] -\n            (float(y) - params[1]) * params[2];\n          float coordYFloat = (float(x) - params[0]) * params[2] +\n            (float(y) - params[1]) * params[3];\n          int coordX = int(round(coordXFloat + params[0]));\n          int coordY = int(round(coordYFloat + params[1]));\n          ${o}\n          if(coordX >= 0 && coordX < ${r} && coordY >= 0 && coordY < ${n}) {\n            outputValue = getImage(coords[0], coordY, coordX, coords[3]);\n          }\n          setOutput(outputValue);\n        }\n    `}}const TNe={kernelName:E3,backendName:"webgl",kernelFunc:e=>{let{inputs:t,attrs:n,backend:r}=e;const{image:o}=t,{radians:a,fillValue:i,center:s}=n,l=r,u=new CNe(o.shape,i),[c,d]=foe(s,o.shape[1],o.shape[2]),p=[[c,d,Math.sin(a),Math.cos(a)]];return l.runWebGLProgram(u,[o],o.dtype,p)}},INe=iAe({opSnippet:"\n  // OpenGL ES does not support round function.\n  // The algorithm is based on banker's rounding.\n  float base = floor(x);\n  if ((x - base) < 0.5) {\n    return floor(x);\n  } else if ((x - base) > 0.5) {\n    return ceil(x);\n  } else {\n    if (mod(base, 2.0) == 0.0) {\n      return base;\n    } else {\n      return base + 1.0;\n    }\n  }\n"}),ENe={kernelName:F2,backendName:"webgl",kernelFunc:INe},NNe=iAe({opSnippet:"return inversesqrt(x);",cpuKernelImpl:iSe}),ONe={kernelName:L2,backendName:"webgl",kernelFunc:NNe};class MNe{constructor(e,t,n,r,o,a){let i=arguments.length>7&&void 0!==arguments[7]&&arguments[7];this.variableNames=["updates","indices","defaultValue"],this.outputShape=a;const s=oke(o.length),l=oke(a.length);let u="";1===n?u="i":2===n&&(u="i, j");const c=`getIndices(${u})`;let d="";1===r?d="i":2===r&&(d="i, coords[1]");const p=`getUpdates(${d})`;let h="";i&&(h="coords[0], coords[1]");const f=`getDefaultValue(${h})`,m=t>1?"strides[j]":"strides";this.userCode=`\n        ${s} strides = ${s}(${o});\n\n        void main() {\n          ${l} coords = getOutputCoords();\n          float sum = 0.0;\n          bool found = false;\n          for (int i = 0; i < ${e}; i++) {\n            int flattenedIndex = 0;\n            for (int j = 0; j < ${t}; j++) {\n              int index = round(${c});\n              flattenedIndex += index * ${m};\n            }\n            if (flattenedIndex == coords[0]) {\n              sum += ${p};\n              found = true;\n            }\n          }\n          setOutput(mix(${f}, sum, float(found)));\n        }\n      `}}class DNe{constructor(e,t,n,r,o,a){let i=arguments.length>7&&void 0!==arguments[7]&&arguments[7];this.variableNames=["updates","indices","defaultValue"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=a;const s=oke(o.length),l=oke(a.length);let u="";1===n?u="i":2===n&&(u="i, j");const c=`getIndices(${u})`;let d="";1===r?d="i":2===r&&(d="i, coords[1]");const p=`getUpdates(${d})`;let h="";i&&(h="coords[0], coords[1]");const f=`getDefaultValue(${h})`,m=t>1?"strides[j]":"strides",g=t>1?"strides[j + 1]":"strides";this.userCode=`\n        ${s} strides = ${s}(${o});\n\n        void main() {\n          ${l} coords = getOutputCoords();\n          vec4 sum = vec4(0.);\n          vec4 found = vec4(0.);\n          for (int i = 0; i < ${e}; i+=2) {\n            ivec2 flattenedIndex = ivec2(0);\n            for (int j = 0; j < ${t}; j+=2) {\n              ivec4 index = round(${c});\n              flattenedIndex += index.xz * ${m};\n              if (j + 1 < ${t}) {\n                flattenedIndex += index.yw * ${g};\n              }\n            }\n            if (flattenedIndex[0] == coords[0] || flattenedIndex[1] == coords[0] ||\n                flattenedIndex[0] == coords[0] + 1 || flattenedIndex[1] == coords[0] + 1) {\n              vec4 updVals = ${p};\n              if (flattenedIndex[0] == coords[0]) {\n                sum.xy += updVals.xy;\n                found.xy = vec2(1.);\n              } else if (flattenedIndex[0] == coords[0] + 1) {\n                sum.zw += updVals.xy;\n                found.zw = vec2(1.);\n              }\n              if (flattenedIndex[1] == coords[0]) {\n                sum.xy += updVals.zw;\n                found.xy = vec2(1.);\n              } else if (flattenedIndex[1] == coords[0] + 1) {\n                sum.zw += updVals.zw;\n                found.zw = vec2(1.);\n              }\n            }\n          }\n          setOutput(mix(${f}, sum, found));\n        }\n      `}}const RNe={kernelName:z2,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{indices:o,updates:a}=t,{shape:i}=r,{sliceRank:s,numUpdates:l,sliceSize:u,strides:c,outputSize:d}=m9(0,o,i),p=[d/u,u];if(0===d)return n.makeTensorInfo(i,o.dtype);const h=gAe({inputs:{x:o},backend:n,attrs:{shape:[l,s]}}),f=gAe({inputs:{x:a},backend:n,attrs:{shape:[l,u]}}),m=n.makeTensorInfo([],"float32",new Float32Array([0]));let g;g=u0().getBool("WEBGL_PACK")?new DNe(l,s,h.shape.length,f.shape.length,c,p):new MNe(l,s,h.shape.length,f.shape.length,c,p);const y=n.runWebGLProgram(g,[f,h,m],f.dtype),v=gAe({inputs:{x:y},backend:n,attrs:{shape:i}});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(m),v}};class PNe{constructor(e,t,n,r){this.variableNames=["sortedSequence","values"],this.customUniforms=[{name:"numInputs",type:"int"}],this.outputShape=[e,n];const o=`for (int i = 0; i < ${Math.ceil(Math.log2(t+1))}; ++i) { if (left >= right) break;`,a=2===u0().getNumber("WEBGL_VERSION")?"while (left < right) {":o,i="left"===r?"<":"<=";this.userCode=`\n       int findBound(int batch, float value) {\n         int left = 0;\n         int right = numInputs;\n         int mid;\n         ${a}\n           mid = (left + right) / 2;\n           if (getSortedSequence(batch, mid) ${i} value) {\n             left = mid + 1;\n           } else {\n             right = mid;\n           }\n         }\n         return right;\n       }\n\n       void main() {\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int valueIndex = coords[1];\n\n         float value = getValues(batch, valueIndex);\n\n         setOutput(float(findBound(batch, value)));\n       }\n     `}}const $Ne={kernelName:W2,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{sortedSequence:o,values:a}=t,{side:i}=r,s=new PNe(o.shape[0],o.shape[1],a.shape[1],i),l=[[o.shape[1]]];return n.runWebGLProgram(s,[o,a],"int32",l)}};class jNe{constructor(e,t,n){let r,o;if(this.variableNames=["c","a","b"],this.outputShape=t,n>4)throw Error(`Where for rank ${n} is not yet supported`);if(1===n)o="resRC",r="resRC";else{const n=["resRC.x","resRC.y","resRC.z","resRC.w"],a=[],i=[];for(let r=0;r<t.length;r++)i.push(`${n[r]}`),r<e&&a.push(`${n[r]}`);r=a.join(),o=i.join()}const a=oke(n);this.userCode=`\n      void main() {\n        ${a} resRC = getOutputCoords();\n        float cVal = getC(${r});\n        if (cVal >= 1.0) {\n          setOutput(getA(${o}));\n        } else {\n          setOutput(getB(${o}));\n        }\n      }\n    `}}const _Ne={kernelName:V2,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{condition:r,t:o,e:a}=t,i=new jNe(r.shape.length,o.shape,o.shape.length);return n.runWebGLProgram(i,[r,o,a],z4(o.dtype,a.dtype))}},FNe=iAe({opSnippet:`\n  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.\n  // see: https://arxiv.org/abs/1706.02515\n  float scaleAlpha = ${xoe};\n  float scale = ${woe};\n  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);\n`}),LNe={kernelName:U2,backendName:"webgl",kernelFunc:FNe},zNe=iAe({opSnippet:aAe+"\n  return 1.0 / (1.0 + exp(-1.0 * x));\n",packedOpSnippet:"\n  vec4 result = 1.0 / (1.0 + exp(-1.0 * x));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",cpuKernelImpl:lSe}),BNe={kernelName:X2,backendName:"webgl",kernelFunc:zNe},WNe=iAe({opSnippet:"\n  if (isnan(x)) { return 0.0; }\n  return sign(x);\n"}),VNe={kernelName:K2,backendName:"webgl",kernelFunc:WNe},UNe=iAe({opSnippet:aAe+"\n  return sin(x);\n",packedOpSnippet:`\n  vec4 result = sin(x);\n  bvec4 isNaN = isnan(x);\n  ${qSe}\n  return result;\n`}),HNe={kernelName:G2,backendName:"webgl",kernelFunc:UNe},GNe=iAe({opSnippet:"\n  float e2x = exp(x);\n  return (e2x - 1.0 / e2x) / 2.0;\n"}),qNe={kernelName:q2,backendName:"webgl",kernelFunc:GNe},KNe=iAe({opSnippet:"\n  float epsilon = 1.1920928955078125e-7;\n  float threshold = log(epsilon) + 2.0;\n\n  bool too_large = x > -threshold;\n  bool too_small = x < threshold;\n\n  float result;\n  float exp_x = exp(x);\n\n  if (too_large){\n    result = x;\n  }\n  else if (too_small){\n    result = exp_x;\n  }\n  else{\n    result = log(exp_x + 1.0);\n  }\n  return result;\n"}),XNe={kernelName:Y2,backendName:"webgl",kernelFunc:KNe},YNe={kernelName:J2,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{blockShape:a,paddings:i}=r;xJ(o.shape.length<=4,(()=>"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet"));const s=a.reduce(((e,t)=>e*t)),l=[[0,0]];l.push(...i);for(let y=1+a.length;y<o.shape.length;++y)l.push([0,0]);const u=[],c=YEe({inputs:{x:o},backend:n,attrs:{paddings:l,constantValue:0}}),d=moe(c.shape,a,s,!1),p=goe(d.length,a.length,!1),h=yoe(c.shape,a,s,!1),f=gAe({inputs:{x:c},backend:n,attrs:{shape:d}}),m=TAe({inputs:{x:f},backend:n,attrs:{perm:p}}),g=gAe({inputs:{x:m},backend:n,attrs:{shape:h}});return u.push(c),u.push(f),u.push(m),u.forEach((e=>n.disposeIntermediateTensorInfo(e))),g}};const QNe={kernelName:n3,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{indices:r,values:o,denseShape:a,defaultValue:i}=t;if(1!==a.shape.length)throw new Error(`Dense shape must be a vector, saw:\n         ${a.shape}`);if(2!==r.shape.length)throw new Error(`Indices must be a matrix, saw:\n         ${r.shape}`);if(1!==o.shape.length)throw new Error(`Values must be a vector, saw:\n         ${o.shape}`);if(0!==i.shape.length)throw new Error(`Default value must be a scalar, saw:\n        ${i.shape}`);const s=n.readSync(r.dataId),l=n.readSync(o.dataId),u=n.readSync(a.dataId),c=n.readSync(i.dataId)[0],[d,p,h,f,m]=dSe(s,r.shape,r.dtype,l,o.dtype,u,c);return[n.makeTensorInfo(p,r.dtype,d),n.makeTensorInfo([p[0]],o.dtype,h),n.makeTensorInfo([f.length],"bool",new Uint8Array(f.map((e=>Number(e))))),n.makeTensorInfo([m.length],r.dtype,new Int32Array(m))]}};const ZNe={kernelName:r3,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{inputIndices:r,inputShape:o,newShape:a}=t;if(2!==r.shape.length)throw new Error(`Input indices should be a matrix but received shape ${r.shape}`);if(1!==o.shape.length)throw new Error(`Input shape should be a vector but received shape ${o.shape}`);if(1!==a.shape.length)throw new Error(`Target shape should be a vector but received shape ${a.shape}`);const i=Array.from(n.readSync(o.dataId)),s=n.readSync(r.dataId),l=Array.from(n.readSync(a.dataId)),[u,c,d]=pSe(s,r.shape,r.dtype,i,l);return[n.makeTensorInfo(c,r.dtype,u),n.makeTensorInfo([d.length],a.dtype,new Int32Array(d))]}};const JNe={kernelName:o3,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{data:r,indices:o,segmentIds:a}=t;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==o.shape.length)throw new Error(`Indices should be a vector but received shape\n              ${o.shape}`);if(1!==a.shape.length)throw new Error(`Segment ids should be a vector but received shape\n              ${a.shape}`);const i=n.readSync(r.dataId),s=n.readSync(o.dataId),l=n.readSync(a.dataId),[u,c]=hSe(i,r.shape,r.dtype,s,l,!0);return n.makeTensorInfo(c,r.dtype,u)}};const eOe={kernelName:a3,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{data:r,indices:o,segmentIds:a}=t;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==o.shape.length)throw new Error(`Indices should be a vector but received shape\n             ${o.shape}`);if(1!==a.shape.length)throw new Error(`Segment ids should be a vector but received shape\n             ${a.shape}`);const i=n.readSync(r.dataId),s=n.readSync(o.dataId),l=n.readSync(a.dataId),[u,c]=hSe(i,r.shape,r.dtype,s,l);return n.makeTensorInfo(c,r.dtype,u)}};const tOe={kernelName:i3,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{sparseIndices:o,sparseValues:a,defaultValue:i}=t,{outputShape:s}=r,{sliceRank:l,numUpdates:u,sliceSize:c,strides:d,outputSize:p}=m9(0,o,s),h=!1;if("string"===a.dtype){const e=n.bufferSync(o),t=n.bufferSync(a),r=d4(n.readSync(i.dataId)[0]),f=sSe(e,t,s,p,c,u,l,d,r,h);return n.makeTensorInfo(s,f.dtype,f.values)}const f=new MNe(u,l,o.shape.length,a.shape.length,d,[p,1],h),m=n.runWebGLProgram(f,[a,o,i],a.dtype),g=gAe({inputs:{x:m},backend:n,attrs:{shape:s}});return n.disposeIntermediateTensorInfo(m),g}};const nOe={kernelName:e3,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{numOrSizeSplits:a,axis:i}=r,s=PJ(i,o.shape)[0],l=Goe(o,a,s),u=o.shape.length,c=new Array(u).fill(0),d=o.shape.slice();return l.map((e=>{const t=[...d];t[s]=e;const r=kCe({inputs:{x:o},backend:n,attrs:{begin:c,size:t}});return c[s]+=e,r}))}},rOe="return sqrt(x);",oOe=iAe({opSnippet:rOe,packedOpSnippet:rOe,cpuKernelImpl:fSe}),aOe={kernelName:Q2,backendName:"webgl",kernelFunc:oOe},iOe=iAe({opSnippet:"return x * x;"}),sOe={kernelName:l3,backendName:"webgl",kernelFunc:iOe},lOe="return (a - b) * (a - b);",uOe=sAe({opSnippet:lOe,packedOpSnippet:lOe}),cOe={kernelName:s3,backendName:"webgl",kernelFunc:uOe};const dOe={kernelName:u3,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t;if("string"!==o.dtype)throw new Error("Input must be of datatype string");const a=lae(n.readSync(o.dataId)),i=mSe(a,"string",r);return n.makeTensorInfo(o.shape,"string",i)}};const pOe={kernelName:T3,backendName:"webgl",kernelFunc:function(e){let{inputs:t,attrs:n,backend:r}=e;const{x:o}=t,a=PSe+`\n    return x > 0.0 ? 1.0 : float(${n.alpha});\n  `,i=new RSe(o.shape,a);return r.runWebGLProgram(i,[o],o.dtype)}};class hOe{constructor(e,t,n){this.variableNames=["x"],this.outputShape=n;const r=n.length,o=oke(n.length),a=oke(n.length);let i="";if(1===r)i="coords * strides + begin";else{let e=0;i=n.map(((t,r)=>(e++,1===n.length?`coords * strides[${r}] + begin[${r}]`:`coords[${e-1}] * strides[${r}] + begin[${r}]`))).join(",")}this.userCode=`\n      ${o} begin = ${o}(${e});\n      ${o} strides = ${o}(${t});\n\n      void main() {\n        ${a} coords = getOutputCoords();\n        setOutput(getX(${i}));\n      }\n    `}}const fOe={kernelName:c3,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{begin:a,end:i,strides:s,beginMask:l,endMask:u,ellipsisMask:c,newAxisMask:d,shrinkAxisMask:p}=r,{finalShapeSparse:h,finalShape:f,isIdentity:m,sliceDim0:g,isSimpleSlice:y,begin:v,end:b,strides:x}=R9(o.shape,a,i,s,l,u,c,d,p);let w;if(m)w=gAe({inputs:{x:o},backend:n,attrs:{shape:f}});else if(g||y){xJ(o.shape.length>=1,(()=>`Input must have rank at least 1, got: ${o.shape.length}`));const e=x9(v,b,x),t=kCe({inputs:{x:o},backend:n,attrs:{begin:v,size:e}});w=gAe({inputs:{x:t},backend:n,attrs:{shape:f}}),n.disposeIntermediateTensorInfo(t)}else{if(n.shouldExecuteOnCPU([o])){const e=n.readSync(o.dataId),t=B6(o.shape,o.dtype,e),r=gSe(h,t,x,v);w=n.makeTensorInfo(f,o.dtype,r.values)}else{const e=new hOe(v,x,h);w=n.runWebGLProgram(e,[o],o.dtype)}}const k=gAe({inputs:{x:w},backend:n,attrs:{shape:f}});return n.disposeIntermediateTensorInfo(w),k}};const mOe={kernelName:d3,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{separator:o,nGramWidths:a,leftPad:i,rightPad:s,padWidth:l,preserveShortSequences:u}=r,{data:c,dataSplits:d}=t,p=n.readSync(c.dataId),h=n.readSync(d.dataId),[f,m]=ySe(p,h,o,a,i,s,l,u);return[n.makeTensorInfo([f.length],"string",f),n.makeTensorInfo(d.shape,"int32",m)]}};const gOe={kernelName:p3,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{skipEmpty:o}=r,{input:a,delimiter:i}=t;if("string"!==a.dtype)throw new Error("Input must be of datatype string");if(1!==a.shape.length)throw new Error(`Input must be a vector, got shape: ${a.shape}`);if(0!==i.shape.length)throw new Error(`Delimiter must be a scalar, got shape: ${i.shape}`);const s=n.readSync(a.dataId),l=n.readSync(i.dataId)[0],[u,c,d]=vSe(s,l,o),p=c.length;return[n.makeTensorInfo([p,2],"int32",u),n.makeTensorInfo([p],"string",c),n.makeTensorInfo([2],"int32",new Int32Array(d))]}};const yOe={kernelName:h3,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{numBuckets:o}=r,{input:a}=t;if("string"!==a.dtype)throw new Error("Input must be of datatype string");if(o<=0)throw new Error("Number of buckets must be at least 1");const i=n.readSync(a.dataId),s=bSe(i,o);return n.makeTensorInfo(a.shape,"int32",s)}},vOe=iAe({opSnippet:"return tan(x);"}),bOe={kernelName:m3,backendName:"webgl",kernelFunc:vOe},xOe=iAe({opSnippet:"\n  float e2x = exp(-2.0 * abs(x));\n  return sign(x) * (1.0 - e2x) / (1.0 + e2x);\n"}),wOe={kernelName:g3,backendName:"webgl",kernelFunc:xOe};const kOe={kernelName:B2,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{tensor:o,indices:a,updates:i}=t,{}=r,{sliceRank:s,numUpdates:l,sliceSize:u,strides:c,outputSize:d}=m9(0,a,o.shape),p=[d/u,u];if(0===d)return n.makeTensorInfo(o.shape,a.dtype);const h=gAe({inputs:{x:a},backend:n,attrs:{shape:[l,s]}}),f=gAe({inputs:{x:i},backend:n,attrs:{shape:[l,u]}}),m=gAe({inputs:{x:o},backend:n,attrs:{shape:p}}),g=new MNe(l,s,h.shape.length,f.shape.length,c,p,!1,!0),y=n.runWebGLProgram(g,[f,h,m],m.dtype),v=gAe({inputs:{x:y},backend:n,attrs:{shape:o.shape}});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(y),v}};class SOe{constructor(e,t){this.variableNames=["A"];const n=new Array(e.length);for(let a=0;a<n.length;a++)n[a]=e[a]*t[a];this.outputShape=n,this.rank=n.length;const r=oke(this.rank),o=function(e){const t=e.length;if(t>5)throw Error(`Tile for rank ${t} is not yet supported`);if(1===t)return`imod(resRC, ${e[0]})`;const n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],r=[];for(let o=0;o<e.length;o++)r.push(`imod(${n[o]}, ${e[o]})`);return r.join()}(e);this.userCode=`\n      void main() {\n        ${r} resRC = getOutputCoords();\n        setOutput(getA(${o}));\n      }\n    `}}function AOe(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{reps:a}=r;if("string"===o.dtype||o.shape.length>5){const e=n.readSync(o.dataId),t="string"===o.dtype?e.map((e=>d4(e))):e,r=B6(o.shape,o.dtype,t),i=wSe(r,a);return n.makeTensorInfo(i.shape,i.dtype,i.values)}const i=new SOe(o.shape,a);return n.runWebGLProgram(i,[o],o.dtype)}const COe={kernelName:y3,backendName:"webgl",kernelFunc:AOe};class TOe{constructor(e){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"negativeInf",type:"float"},{name:"dir",type:"int"},{name:"inc",type:"int"}],this.outputShape=e,this.userCode="\n       void main() {\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int elemIdx = coords[1];\n\n         // We compare elements pair-wise within a group of size 2 * inc.\n         // The comparing rule for each group alternates between ascending\n         // and descending. Within each group, we compare each pair at\n         // positions i and i+inc. To decide whether an element at position i\n         // is x0 or x1, we mod it by 2 * inc, if the result is smaller than\n         // inc, it is in the first half of the group, we denote it as x0,\n         // otherwise we denote it as x1.\n         // For example, as shown in the Bitonic top K paper referenced above,\n         // Figure5(a) shows that element[1] is in the\n         // second half of the group when group size is 2, but it is in the\n         // first half of the group when group size is 4.\n\n         bool isFirstInPair = imod(elemIdx, 2 * inc) < inc;\n         int i = isFirstInPair ? elemIdx : elemIdx - inc;\n\n         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));\n         int i1 = firstPass == 1 ? i + inc : int(getIndices(batch, i + inc));\n         float x0 = i0 < n ? getX(batch, i0) : negativeInf;\n         float x1 = i1 < n ? getX(batch, i1) : negativeInf;\n\n         // Denotes which direction indices are in (ascending or descending).\n         bool reverse = imod(elemIdx, 2 * dir) >= dir;\n         bool isGreater = x0 > x1 || (x0 == x1 && i1 > i0);\n         if (reverse == isGreater) { // Elements in opposite order of direction\n           int iTemp = i0;\n           i0 = i1;\n           i1 = iTemp;\n         }\n         if (isFirstInPair) {\n            setOutput(float(i0));\n         } else {\n            setOutput(float(i1));\n         }\n       }\n     "}}class IOe{constructor(e){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"k",type:"int"}],this.outputShape=e,this.userCode="\n    void main() {\n         // Takes max of indices (0, k), (1, k + 1), (2, k + 2) ...\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int elemIdx = coords[1];\n\n         // The output size is half of the previous size.\n         // If the previous sequence is | | | | _ _ _ _  | | | |  _ _ _ _ (k=4),\n         // we only need to output the indices at positions |, the indices at\n         // positions _ can be thrown away, see Figure5(b) After Phase 2\n         // (Merge phase) in the Bitonic Top K paper referenced above.\n         // For example, the paper shows we only need to output the orange bars.\n         // The output sequence should look like this | | | | | | | |.\n         // Because the sequence is halved, to map the output index back\n         // to the previous sequence to find the corresponding value,\n         // we need to double the index. When we double the index,\n         // we basically interpolate a position, so 2i looks like\n         // | _ | _ | _ | _ | _ | _ | _. We move the | to the first k position\n         // of each 2k positions by - elemIdx % k. E.g. for output at\n         // index 4,5,6,7, we want to get the corresponding element at\n         // original index 8,9,10,11, for output at index 8,9,10,11,\n         // we want to get the corresponding element at original index\n         // 16,17,18,19, so on and so forth.\n\n         int i = elemIdx < k ? elemIdx : (elemIdx * 2 - imod(elemIdx, k));\n         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));\n         int i1 = firstPass == 1 ? i + k : int(getIndices(batch, i + k));\n\n         float x0 = getX(batch, i0);\n         float x1 = i1 < n ? getX(batch, i1) : x0;\n\n         setOutput(x0 >= x1 ? float(i0) : float(i1));\n       }\n     "}}function EOe(e,t){null!==t&&e.disposeIntermediateTensorInfo(t)}function NOe(e){let t=1;for(;t<e;)t*=2;return t}const OOe={kernelName:v3,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{k:a,sorted:i}=r,s=u0().getNumber("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD"),l=u0().getNumber("TOPK_K_CPU_HANDOFF_THRESHOLD"),u=o.shape,c=u[u.length-1];if(n.shouldExecuteOnCPU([o])||c<s||a>l){const e=n.readSync(o.dataId),[t,r]=kSe(e,u,o.dtype,a,i);return[n.makeTensorInfo(t.shape,t.dtype,t.values),n.makeTensorInfo(r.shape,r.dtype,r.values)]}if(0===a)return u[u.length-1]=0,[n.makeTensorInfo(u,o.dtype,[]),n.makeTensorInfo(u,"int32",[])];if(1===c)return[o,sIe({attrs:{shape:u,dtype:"int32",value:0},backend:n})];const d=n.texData.get(o.dataId),p=null!==d&&d.isPacked,h=p?n.unpackTensor(o):o,f=SJ(u)/c,m=gAe({inputs:{x:h},attrs:{shape:[f,c]},backend:n});p&&EOe(n,h);const g=NOe(a),y=NOe(c);let v=null;const b=()=>null===v?[m,m]:[m,v],x=(e,t,r)=>{const o=b(),a=new TOe(r),i=[[c],[null===v?1:0],[Number.NEGATIVE_INFINITY],[e],[t]],s=v;v=n.runWebGLProgram(a,o,"int32",i),EOe(n,s)};for(let C=1;C<g;C*=2){const e=2*C;for(let t=C;t>=1;t/=2)x(e,t,[f,y])}for(let C=y;C>g;C/=2){const e=b(),t=new IOe([f,C/2]),r=[[c],[null===v?1:0],[g]],o=v;v=n.runWebGLProgram(t,e,"int32",r),EOe(n,o);const a=g/2,i=2*a;for(let n=a;n>=1;n/=2)x(i,n,v.shape)}let w=v;v=kCe({inputs:{x:v},backend:n,attrs:{begin:0,size:[f,a]}}),EOe(n,w);let k=TIe({inputs:{x:m,indices:v},backend:n,attrs:{axis:1,batchDims:1}});EOe(n,m);const S=u.slice(0,-1);S.push(a),w=v,v=gAe({inputs:{x:v},attrs:{shape:S},backend:n}),EOe(n,w);const A=k;return k=gAe({inputs:{x:k},attrs:{shape:S},backend:n}),EOe(n,A),[k,v]}};class MOe{constructor(e,t,n,r,o,a){this.variableNames=["Image","Transforms"],this.outputShape=a;const i="nearest"===n?1:2;let s;switch(r){case"constant":default:s=1;break;case"reflect":s=2;break;case"wrap":s=3;break;case"nearest":s=4}this.userCode=`\n            float mapCoord(float outCoord, float len) {\n              float inCoord = outCoord;\n              if(${s} == 2) {\n                if (inCoord < 0.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz2 = 2.0 * len;\n                    if (inCoord < sz2) {\n                      inCoord = sz2 * float(int(float(-inCoord / sz2))) +\n                      inCoord;\n                    }\n                    inCoord = inCoord < -len ? inCoord + sz2 : -inCoord - 1.0;\n                  }\n                } else if (inCoord > len - 1.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz2 = 2.0 * len;\n                    inCoord -= sz2 * float(int(float(inCoord / sz2)));\n                    if (inCoord >= len) {\n                      inCoord = sz2 - inCoord - 1.0;\n                    }\n                  }\n                }\n                return clamp(inCoord, 0.0, len - 1.0);\n              } else if (${s} == 3) {\n                if (inCoord < 0.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz = len - 1.0;\n                    inCoord += len * (float(int(float(-inCoord / sz))) + 1.0);\n                  }\n                } else if (inCoord > len - 1.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz = len - 1.0;\n                    inCoord -= len * float(int(float(inCoord / sz)));\n                  }\n                }\n                return clamp(inCoord, 0.0, len - 1.0);\n              } else if (${s} == 4) {\n                return clamp(outCoord, 0.0, len - 1.0);\n              } else {\n                return outCoord;\n              }\n            }\n\n            float readWithFillValue(int batch, int coordY, int coordX,\n              int channel) {\n              float outputValue;\n              if (0 <= coordY && coordY < ${e} && 0 <= coordX && coordX < ${t}) {\n                  outputValue = getImage(batch, coordY, coordX, channel);\n              } else {\n                outputValue = float(${o});\n              }\n              return outputValue;\n            }\n\n            void main() {\n              ivec4 coords = getOutputCoords();\n              float outputValue;\n              int batch = coords[0];\n              int x = coords[2];\n              int y = coords[1];\n              int channel = coords[3];\n              float xf = float(x);\n              float yf = float(y);\n              float a1 = getTransforms(batch, 0);\n              float a2 = getTransforms(batch, 1);\n              float a3 = getTransforms(batch, 2);\n              float b1 = getTransforms(batch, 3);\n              float b2 = getTransforms(batch, 4);\n              float b3 = getTransforms(batch, 5);\n              float c1 = getTransforms(batch, 6);\n              float c2 = getTransforms(batch, 7);\n              float projection = c1 * xf + c2 * yf + 1.0;\n              if (projection == 0.0) {\n                outputValue = float(${o});\n              } else {\n                float inX = (a1 * xf + a2 * yf + a3) / projection;\n                float inY = (b1 * xf + b2 * yf + b3) / projection;\n                float mapX = mapCoord(inX, float(${t}));\n                float mapY = mapCoord(inY, float(${e}));\n\n                if (${i} == 1) {\n                  int coordY = int(round(mapY));\n                  int coordX = int(round(mapX));\n                  outputValue = readWithFillValue(batch, coordY, coordX,\n                    channel);\n                } else {\n                  float yFloor = floor(mapY);\n                  float xFloor = floor(mapX);\n                  float yCeil = yFloor + 1.0;\n                  float xCeil = xFloor + 1.0;\n                  float valueYFloor = (xCeil - mapX) *\n                  readWithFillValue(batch, int(yFloor), int(xFloor), channel) +\n                  (mapX - xFloor) *\n                  readWithFillValue(batch, int(yFloor), int(xCeil), channel);\n                  float valueYCeil = (xCeil - mapX) *\n                  readWithFillValue(batch, int(yCeil), int(xFloor), channel) +\n                  (mapX - xFloor) *\n                  readWithFillValue(batch, int(yCeil), int(xCeil), channel);\n                  outputValue = (yCeil - mapY) * valueYFloor +\n                  (mapY - yFloor) * valueYCeil;\n                }\n              }\n              setOutput(outputValue);\n            }\n        `}}const DOe={kernelName:b3,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{image:o,transforms:a}=t,{interpolation:i,fillMode:s,fillValue:l,outputShape:u}=r,[c,d,p,h]=o.shape,[f,m]=null!=u?u:[d,p],g=new MOe(d,p,i,s,l,[c,f,m,h]);return n.runWebGLProgram(g,[o,a],"float32")}};const ROe={kernelName:w3,backendName:"webgl",kernelFunc:function(e){const{inputs:t,attrs:n,backend:r}=e,{axis:o}=n,{x:a}=t;Lwe(a,"unique"),console.warn("WARNING: ","UI might be locked temporarily as data is being downloaded");const i=r.readSync(a.dataId),{outputValues:s,outputShape:l,indices:u}=ASe(i,o,a.shape,a.dtype);return[r.makeTensorInfo(l,a.dtype,s),r.makeTensorInfo([u.length],"int32",u)]}};const POe={kernelName:k3,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{value:o}=t;let{axis:a}=r;a<0&&(a+=o.shape.length);const i=o,s=i.shape.length,l=o.shape[a],u=new Array(s-1);let c=0;for(let m=0;m<s;m++)m!==a&&(u[c++]=i.shape[m]);const d=[],p=new Array(s).fill(0),h=i.shape.slice();h[a]=1;const f=new Array(l);for(let m=0;m<f.length;m++){p[a]=m;const e=kCe({inputs:{x:i},backend:n,attrs:{begin:p,size:h}}),t=gAe({inputs:{x:e},backend:n,attrs:{shape:u}});f[m]=t,d.push(e)}return d.forEach((e=>n.disposeIntermediateTensorInfo(e))),f}};class $Oe{constructor(e,t){this.variableNames=["x","segmentIds"];const n=e.windowSize,r=e.batchSize,o=e.inSize,a=e.numSegments,i=a*Math.ceil(o/n);this.outputShape=[r,i];const s=4*Math.floor(n/4),l=n%4,u="\n        sumValue += dot(values, segFilter);\n    ";let c="";o%n>0&&(c=`\n        if (inIdx < 0 || inIdx >= ${o}) {\n          return initializationValue;\n        }\n      `);let d="";o%n>0&&(d=`\n        if (inIdx < 0 || inIdx >= ${o}) {\n          return -1.0;\n        }\n      `),this.userCode=`\n      const float initializationValue = 0.0;\n\n      float getValue(int batch, int inIdx) {\n        ${c}\n        return getX(batch, inIdx);\n      }\n\n      float getSegmentIdAtIndex(int inIdx) {\n        ${d}\n        return getSegmentIds(inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = int(floor(float(outIdx) / float(\n          ${a})) * float(${n}));\n        int currentSeg = int(mod(float(outIdx), float(${a})));\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < ${s}; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0\n          );\n\n          ${u}\n        }\n\n        int inIdx = inOffset + ${s};\n        if (${1===l}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            0,\n            0,\n            0\n          );\n\n          ${u}\n        } else if (${2===l}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n              0,\n              0\n          );\n\n          ${u}\n        } else if (${3===l}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            0\n          );\n\n          ${u}\n        }\n        setOutput(sumValue);\n      }\n    `}}const jOe=[NAe,MAe,RAe,$Ae,FAe,BAe,WAe,VAe,XAe,YAe,ZAe,eCe,nCe,oCe,iCe,uCe,cCe,hCe,fCe,mCe,vCe,ACe,CCe,TCe,ICe,DCe,$Ce,FCe,ZSe,BCe,XCe,rTe,lTe,cTe,dTe,pTe,hTe,mTe,yTe,bTe,TTe,ITe,ETe,OTe,RTe,jTe,_Te,LTe,BTe,WTe,UTe,HTe,qTe,XTe,QTe,JTe,nIe,aIe,lIe,cIe,hIe,mIe,vIe,wIe,kIe,AIe,IIe,NIe,MIe,YSe,DIe,GCe,PIe,jIe,FIe,tAe,zIe,WIe,VIe,HIe,qIe,XIe,QIe,JIe,nEe,oEe,iEe,lEe,uEe,cEe,hEe,fEe,mEe,gEe,yEe,bEe,kEe,AEe,REe,mAe,$Ee,_Ee,LEe,BEe,NCe,VEe,GEe,qEe,QEe,JEe,oAe,eNe,tNe,nNe,rNe,aNe,MCe,IEe,sNe,uNe,dNe,yAe,fNe,gNe,bNe,wNe,ANe,TNe,ENe,ONe,RNe,$Ne,_Ne,LNe,BNe,VNe,HNe,qNe,SCe,DEe,XNe,YNe,QNe,ZNe,JNe,eOe,tOe,nOe,aOe,sOe,cOe,dOe,pOe,fOe,mOe,gOe,yOe,OEe,CAe,bOe,wOe,kOe,COe,OOe,DOe,IAe,ROe,POe,{kernelName:S3,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,segmentIds:a}=t,{numSegments:i}=r,s=o.shape.length,l=[];let u=0;const c=kee([u],s);let d=o;null!=c&&(d=TAe({inputs:{x:o},backend:n,attrs:{perm:c}}),l.push(d),u=Aee(1,s)[0]);const p=iae(d.shape,u,i),h=SJ([d.shape[u]]),f=gAe({inputs:{x:d},backend:n,attrs:{shape:[-1,h]}});l.push(f);const m=B4(o.dtype),g=(e,t,r,o,a)=>{const i=e.shape[0],s=e.shape[1],u=aae(s,a),c=new $Oe({windowSize:u,inSize:s,batchSize:i,numSegments:a},t),d=n.compileAndRun(c,[e,r],o);if(l.push(d),d.shape[1]===a)return d;const p=oNe({backend:n,attrs:{start:0,stop:a,step:1,dtype:"float32"}}),h=AOe({inputs:{x:p},backend:n,attrs:{reps:[s/u]}});l.push(p),l.push(h);return g(d,t,h,o,a)},y=gAe({inputs:{x:g(f,"unsortedSegmentSum",a,m,i)},backend:n,attrs:{shape:p}});let v=y;if(null!=c){l.push(y);const e=See(c);v=TAe({inputs:{x:v},backend:n,attrs:{perm:e}})}return l.forEach((e=>n.disposeIntermediateTensorInfo(e))),v}},HEe];for(const n of jOe)L3(n);const _Oe={container:{maxWidth:"600px",margin:"auto",textAlign:"center",fontFamily:"Arial, sans-serif",padding:"20px"},image:{width:"100%",marginTop:"10px",borderRadius:"8px"},inputContainer:{marginTop:"20px"},checkboxContainer:{marginBottom:"10px"},customWeightContainer:{marginTop:"10px"},resultContainer:{marginTop:"20px"},foodListContainer:{marginTop:"10px",textAlign:"left"},input:{padding:"5px",width:"80px"},error:{color:"red",fontWeight:"bold"}},FOe=()=>{const[e,t]=(0,W.useState)({prediction:null,calories:null,weightEstimate:{},foodDetails:{},loading:!1,error:null,portion:100,selectedFoods:[],customWeights:{}}),[n,r]=(0,W.useState)(null),[o,a]=(0,W.useState)(null);(0,W.useEffect)((()=>{(async()=>{try{const e=await function(e){return void 0===e&&(e={version:1,alpha:1}),Mie(this,void 0,void 0,(function(){var t,n,r,o,a,i,s;return Die(this,(function(l){switch(l.label){case 0:if(null==b)throw new Error("Cannot find TensorFlow.js. If you are using a <script> tag, please also include @tensorflow/tfjs on the page before using this model.");if(t=e.version.toFixed(2),n=e.alpha?e.alpha.toFixed(2):"",r=-1,o=1,null==e.modelUrl){if(!(t in jie))throw new Error("Invalid version of MobileNet. Valid versions are: "+Object.keys(jie));if(!(n in jie[t]))throw new Error("MobileNet constructed with invalid alpha "+e.alpha+". Valid multipliers for this version are: "+Object.keys(jie[t])+".");i=jie[t][n].inputRange,r=i[0],o=i[1]}return null!=e.inputRange&&(s=e.inputRange,r=s[0],o=s[1]),[4,(a=new _ie(t,n,e.modelUrl,r,o)).load()];case 1:return l.sent(),[2,a]}}))}))}();a(e)}catch(e){t((e=>({...e,error:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u043c\u043e\u0434\u0435\u043b\u0438. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437."})))}})()}),[]);const i=()=>{t({...e,prediction:null,calories:null,weightEstimate:{},foodDetails:{},loading:!1,error:null,selectedFoods:[],customWeights:{}})},s=e=>{switch(e){case"pizza":return 300;case"bread":return 50;case"soup":return 250;default:return 100}};return(0,sn.jsxs)("div",{style:{maxWidth:"600px",margin:"auto",textAlign:"center",fontFamily:"Arial, sans-serif",padding:"20px"},children:[(0,sn.jsx)("h2",{children:"\ud83c\udf7d\ufe0f \u0420\u0430\u0441\u043f\u043e\u0437\u043d\u0430\u0439 \u0441\u0432\u043e\u044e \u0435\u0434\u0443 \u0438 \u0443\u0437\u043d\u0430\u0439 \u043a\u0430\u043b\u043e\u0440\u0438\u0438!"}),(0,sn.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{var t;const n=null===(t=e.target.files)||void 0===t?void 0:t[0];if(n){const e=new FileReader;e.onload=e=>{var t;r(null===(t=e.target)||void 0===t?void 0:t.result),i()},e.readAsDataURL(n)}}}),n&&(0,sn.jsx)("img",{src:n,alt:"\u0417\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u043d\u043e\u0435 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435",style:_Oe.image}),(0,sn.jsx)("div",{style:_Oe.inputContainer,children:(0,sn.jsx)("button",{onClick:async()=>{if(!n||!o)return;t((e=>({...e,loading:!0})));const e=new Image;e.src=n,e.onload=async()=>{try{const r=await o.classify(e);let a={},i={};for(const e of r){const t=e.className.toLowerCase();try{const e=(await Hc.get(`https://api.calorieninjas.com/v1/nutrition?query=${t}`,{headers:{"X-Api-Key":"pQIj4l+SZD9VgPrevSjTHw==bP6aAmCK2h1Snp4d"}})).data.items[0];if(e){const n=e.calories,r=s(t);a[t]={name:t,caloriesPer100g:n,estimatedWeight:r},i[t]=r}}catch(n){console.error(`\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0435 \u0434\u0430\u043d\u043d\u044b\u0445 \u0434\u043b\u044f ${e.className}:`,n)}}t((e=>({...e,prediction:r.map((e=>e.className)).join(", "),foodDetails:a,weightEstimate:i,loading:!1})))}catch(JBe){t((e=>({...e,error:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f.",loading:!1})))}}},disabled:!n||e.loading,children:e.loading?"\u0410\u043d\u0430\u043b\u0438\u0437\u0438\u0440\u0443\u044e...":"\u041e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c"})}),e.error&&(0,sn.jsx)("p",{style:_Oe.error,children:e.error}),e.prediction&&(0,sn.jsxs)("div",{style:_Oe.resultContainer,children:[(0,sn.jsxs)("p",{children:[(0,sn.jsx)("strong",{children:"\u0420\u0430\u0441\u043f\u043e\u0437\u043d\u0430\u043d\u043d\u044b\u0435 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u044b:"})," ",e.prediction]}),(0,sn.jsxs)("div",{style:{marginTop:"10px",textAlign:"left"},children:[(0,sn.jsx)("h4",{children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u044b:"}),Object.keys(e.foodDetails).map((n=>(0,sn.jsxs)("div",{style:_Oe.checkboxContainer,children:[(0,sn.jsx)("input",{type:"checkbox",id:n,checked:e.selectedFoods.includes(n),onChange:()=>(e=>{t((t=>{const n=t.selectedFoods.includes(e)?t.selectedFoods.filter((t=>t!==e)):[...t.selectedFoods,e];return{...t,selectedFoods:n}}))})(n)}),(0,sn.jsx)("label",{htmlFor:n,children:n}),e.selectedFoods.includes(n)&&(0,sn.jsx)("div",{style:_Oe.customWeightContainer,children:(0,sn.jsxs)("label",{children:["\u0418\u043d\u0434\u0438\u0432\u0438\u0434\u0443\u0430\u043b\u044c\u043d\u044b\u0439 \u0432\u0435\u0441 (\u0433\u0440\u0430\u043c\u043c\u044b):",(0,sn.jsx)("input",{type:"number",value:e.customWeights[n]||e.weightEstimate[n],onChange:e=>((e,n)=>{t((t=>{const r={...t.customWeights,[e]:n};return{...t,customWeights:r}}))})(n,Number(e.target.value)),style:_Oe.input})]})})]},n)))]}),(0,sn.jsx)("div",{style:_Oe.inputContainer,children:(0,sn.jsxs)("label",{children:["\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0435\u0441 \u043f\u043e\u0440\u0446\u0438\u0438:",(0,sn.jsx)("input",{type:"number",value:e.portion,onChange:e=>{const n=Number(e.target.value);t((e=>({...e,portion:n})))},style:_Oe.input})]})}),e.selectedFoods.length>0&&(0,sn.jsxs)("p",{children:[(0,sn.jsx)("strong",{children:"\u041e\u0431\u0449\u0435\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043a\u0430\u043b\u043e\u0440\u0438\u0439:"})," ",(()=>{let t=0;return e.selectedFoods.forEach((n=>{const r=e.foodDetails[n];if(r){const o=(e.customWeights[n]||e.weightEstimate[n])/100*r.caloriesPer100g;t+=o}})),t})().toFixed(2)," \u043a\u043a\u0430\u043b"]})]})]})},LOe=e=>{let{user:t}=e;return(0,sn.jsxs)(sn.Fragment,{children:["Calorie check page",(0,sn.jsx)(FOe,{})]})},zOe=["className","component","disableGutters","fixed","maxWidth","classes"],BOe=(0,Sr.A)(),WOe=NI("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`maxWidth${(0,Nw.A)(String(n.maxWidth))}`],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),VOe=e=>gv({props:e,name:"MuiContainer",defaultTheme:BOe});const UOe=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{createStyledComponent:t=WOe,useThemeProps:n=VOe,componentName:r="MuiContainer"}=e,o=t((e=>{let{theme:t,ownerState:n}=e;return(0,Yt.A)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!n.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}})}),(e=>{let{theme:t,ownerState:n}=e;return n.fixed&&Object.keys(t.breakpoints.values).reduce(((e,n)=>{const r=n,o=t.breakpoints.values[r];return 0!==o&&(e[t.breakpoints.up(r)]={maxWidth:`${o}${t.breakpoints.unit}`}),e}),{})}),(e=>{let{theme:t,ownerState:n}=e;return(0,Yt.A)({},"xs"===n.maxWidth&&{[t.breakpoints.up("xs")]:{maxWidth:Math.max(t.breakpoints.values.xs,444)}},n.maxWidth&&"xs"!==n.maxWidth&&{[t.breakpoints.up(n.maxWidth)]:{maxWidth:`${t.breakpoints.values[n.maxWidth]}${t.breakpoints.unit}`}})}));return W.forwardRef((function(e,t){const a=n(e),{className:i,component:s="div",disableGutters:l=!1,fixed:u=!1,maxWidth:c="lg"}=a,d=(0,Xt.A)(a,zOe),p=(0,Yt.A)({},a,{component:s,disableGutters:l,fixed:u,maxWidth:c}),h=((e,t)=>{const{classes:n,fixed:r,disableGutters:o,maxWidth:a}=e,i={root:["root",a&&`maxWidth${(0,Nw.A)(String(a))}`,r&&"fixed",o&&"disableGutters"]};return(0,Zt.A)(i,(e=>(0,on.Ay)(t,e)),n)})(p,r);return(0,sn.jsx)(o,(0,Yt.A)({as:s,ownerState:p,className:(0,Qt.A)(h.root,i),ref:t},d))}))}({createStyledComponent:(0,en.Ay)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`maxWidth${(0,qn.A)(String(n.maxWidth))}`],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),useThemeProps:e=>(0,nn.b)({props:e,name:"MuiContainer"})}),HOe=(0,Vi.A)((0,sn.jsx)("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61"}),"FilterAlt"),GOe=(0,Vi.A)((0,sn.jsx)("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3m-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3m0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5m8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5"}),"People"),qOe=(0,Vi.A)((0,sn.jsx)("path",{d:"m20.54 5.23-1.39-1.68C18.88 3.21 18.47 3 18 3H6c-.47 0-.88.21-1.16.55L3.46 5.23C3.17 5.57 3 6.02 3 6.5V19c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V6.5c0-.48-.17-.93-.46-1.27M12 17.5 6.5 12H10v-2h4v2h3.5zM5.12 5l.81-1h12l.94 1z"}),"Archive"),KOe=e=>{let{user:t}=e;const[n,r]=(0,W.useState)([]),[o,a]=(0,W.useState)(""),[i,s]=(0,W.useState)(""),[l,u]=(0,W.useState)(null),[c,d]=(0,W.useState)(!1),[p,h]=(0,W.useState)("active"),[f,m]=(0,W.useState)(null),{addSnackBar:g}=(0,W.useContext)(Hd),[y,v]=(0,W.useState)(null),[b,x]=(0,W.useState)(null),[w,k]=(0,W.useState)(""),S=(0,W.useCallback)(((e,t)=>{v(e.currentTarget),x(t)}),[]),A=()=>{v(null),x(null),setTimeout((()=>{document.activeElement&&"LI"===document.activeElement.tagName&&document.activeElement.blur()}),0)};(0,W.useEffect)((()=>{C()}),[]);const C=async()=>{try{const e=await qd(`/clients?userId=${t.id}`,"GET");r(e)}catch(e){Ud("allClientsError1","error","\u041e\u0448\u0438\u0431\u043a\u0430 \u0432 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u0434\u0430\u043d\u043d\u044b\u0445 \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0432 \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u0430",1e3)}},T=e=>{switch(e){case"\u041d\u0438\u0437\u043a\u0438\u0439":return"error";case"\u0421\u0440\u0435\u0434\u043d\u0438\u0439":return"warning";case"\u0412\u044b\u0441\u043e\u043a\u0438\u0439":return"success";default:return"info"}},I=(0,W.useMemo)((()=>{const e=o.toLowerCase();return n.filter((t=>t.name.toLowerCase().includes(e)&&t.phone.includes(i)&&("active"===p?0===t.archive:1===t.archive)&&t.id!==f))}),[n,o,i,p,f]),E=(0,W.useCallback)((()=>{A(),k("payAdd")}),[A]),N=(0,W.useCallback)((()=>{A(),k("writeOff")}),[A]),O=(0,W.useCallback)((()=>{A(),k("delete")}),[A]),M=(0,W.useCallback)((e=>{u(e),d(!0)}),[]),D=async e=>{try{A();const t={archive:0===e.archive?1:0,clientId:e.id};r((n=>n.map((n=>n.id===e.id?{...n,archive:t.archive}:n)))),m(e.id),setTimeout((async()=>{try{await qd("clients/changeArchive","PATCH",t),m(null),0===e.archive?Ud("archiveSuccess","success","\u041a\u043b\u0438\u0435\u043d\u0442 \u043f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d \u0432 \u0430\u0440\u0445\u0438\u0432",2e3):Ud("restoreSuccess","success","\u041a\u043b\u0438\u0435\u043d\u0442 \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d \u0438\u0437 \u0430\u0440\u0445\u0438\u0432\u0430",2e3)}catch(n){r((t=>t.map((t=>t.id===e.id?{...t,archive:e.archive}:t)))),m(null),Ud("allClientsArchiveError1","error","\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0438 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438",1e3)}}),300)}catch(t){m(null),Ud("allClientsArchiveError1","error","\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0438 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438",1e3)}};return(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsxs)(UOe,{maxWidth:"xl",sx:{py:4},children:[(0,sn.jsx)(ps,{sx:{mb:4},children:(0,sn.jsx)(cn,{elevation:3,sx:{p:3,mb:4,borderRadius:3},children:(0,sn.jsxs)(Zs,{container:!0,spacing:2,alignItems:"center",children:[(0,sn.jsx)(Zs,{item:!0,xs:12,md:3,children:(0,sn.jsx)(rs,{fullWidth:!0,placeholder:"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u0438\u043c\u0435\u043d\u0438",value:o,onChange:e=>a(e.target.value),InputProps:{startAdornment:(0,sn.jsx)(Gb,{position:"start",children:(0,sn.jsx)(cm,{color:"primary"})})},variant:"outlined",size:"small"})}),(0,sn.jsx)(Zs,{item:!0,xs:12,md:3,children:(0,sn.jsx)(rs,{fullWidth:!0,placeholder:"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0443",value:i,onChange:e=>s(e.target.value),InputProps:{startAdornment:(0,sn.jsx)(Gb,{position:"start",children:(0,sn.jsx)(HOe,{color:"primary"})})},variant:"outlined",size:"small"})}),(0,sn.jsx)(Zs,{item:!0,xs:12,md:4,children:(0,sn.jsxs)(CE,{value:p,exclusive:!0,onChange:(e,t)=>{null!==t&&h(t)},"aria-label":"\u0442\u0438\u043f \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0432",fullWidth:!0,children:[(0,sn.jsxs)(OE,{value:"active","aria-label":"\u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u043a\u043b\u0438\u0435\u043d\u0442\u044b",children:[(0,sn.jsx)(GOe,{sx:{mr:1}}),"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435"]}),(0,sn.jsxs)(OE,{value:"archived","aria-label":"\u0430\u0440\u0445\u0438\u0432\u043d\u044b\u0435 \u043a\u043b\u0438\u0435\u043d\u0442\u044b",children:[(0,sn.jsx)(qOe,{sx:{mr:1}}),"\u0410\u0440\u0445\u0438\u0432\u043d\u044b\u0435"]})]})}),(0,sn.jsx)(Zs,{item:!0,xs:12,md:2,children:(0,sn.jsx)(Sp,{label:`\u0412\u0441\u0435\u0433\u043e: ${I.length}`,color:"primary",variant:"outlined",sx:{width:"100%",fontWeight:600}})})]})})}),I.length>0?(0,sn.jsx)(Zs,{container:!0,spacing:3,children:I.slice().reverse().map(((e,t)=>(0,sn.jsx)(Zs,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,sn.jsx)(Fa,{in:f!==e.id,timeout:300,unmountOnExit:!0,children:(0,sn.jsxs)(Fp,{sx:{position:"relative",height:"100%",display:"flex",flexDirection:"column",borderRadius:3,boxShadow:3,transition:"all 0.3s ease","&:hover":{cursor:"pointer",transform:f!==e.id?"translateY(-8px)":"none",boxShadow:f!==e.id?"0 10px 20px rgba(0,0,0,0.15)":3},border:(!e.sessionQueue||"[]"===e.sessionQueue)&&"2px solid rgba(248, 149, 0, 0.76)",opacity:"archived"===p?.7:1,...f===e.id&&{transform:"scale(0.8)",opacity:0,transition:"all 0.3s ease"}},onContextMenu:t=>{f!==e.id&&(t.preventDefault(),S(t,e.id))},onClick:()=>{f!==e.id&&M(e)},children:[(0,sn.jsxs)(ps,{sx:{cursor:f!==e.id?"pointer":"default",bgcolor:"Male"===e.gender?"primary.light":"secondary.light",p:2,display:"flex",alignItems:"center",borderTopLeftRadius:12,borderTopRightRadius:12,background:(e.gender,"linear-gradient(135deg, #6a1b9a 0%, #6a1b9a 100%)"),position:"relative"},children:[1===e.archive&&(0,sn.jsx)(Sp,{label:"\u0412 \u0430\u0440\u0445\u0438\u0432\u0435",color:"default",size:"small",sx:{position:"absolute",top:8,right:8,backgroundColor:"rgba(0,0,0,0.5)",color:"white"}}),(0,sn.jsx)(mp,{sx:{width:56,height:56,mr:2,bgcolor:"background.paper",color:"Male"===e.gender?"primary.dark":"secondary.dark",fontWeight:700,fontSize:"1.5rem"},children:e.name.charAt(0)}),(0,sn.jsxs)(ps,{children:[(0,sn.jsxs)(vs,{variant:"h6",component:"div",sx:{fontWeight:"bold",color:"common.white"},children:[e.name.split(" ")[0]," ",e.name.split(" ")[1]]}),(0,sn.jsxs)(vs,{variant:"body2",sx:{color:"common.white",opacity:.9},children:[e.age," \u043b\u0435\u0442 "," ",(!e.sessionQueue||"[]"===e.sessionQueue)&&0===e.archive&&(0,sn.jsx)(Sp,{label:"\u041d\u0435\u0442 \u043f\u0430\u043a\u0435\u0442\u0430!",color:"default",size:"small",sx:{position:"absolute",top:8,right:8,backgroundColor:"rgba(0,0,0,0.5)",color:"white"}})]})]}),(0,sn.jsxs)(ps,{sx:{marginLeft:"auto"},children:[(0,sn.jsx)(Ns,{size:"small",onClick:t=>{f!==e.id&&(t.stopPropagation(),S(t,e.id))},sx:{color:"white",opacity:f===e.id?.5:1},disabled:f===e.id,children:(0,sn.jsx)(Tp.A,{})}),(0,sn.jsxs)(wi,{anchorEl:y,open:Boolean(y)&&b===e.id,onClose:A,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},onClick:e=>e.stopPropagation(),children:[(0,sn.jsx)(ul,{onClick:()=>{E(),u(e)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043e\u043f\u043b\u0430\u0442\u0443"}),(0,sn.jsx)(ul,{onClick:()=>{N(),u(e)},children:"\u0421\u043f\u0438\u0441\u0430\u0442\u044c \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0443"}),(0,sn.jsx)(ul,{onClick:()=>{O(),u(e)},sx:{color:"error.main"},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"}),0===e.archive?(0,sn.jsxs)(ul,{onClick:()=>{D(e)},children:[(0,sn.jsx)(qOe,{sx:{mr:1,fontSize:20}}),"\u0412 \u0430\u0440\u0445\u0438\u0432"]}):(0,sn.jsxs)(ul,{onClick:()=>{D(e)},children:[(0,sn.jsx)(GOe,{sx:{mr:1,fontSize:20}}),"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0438\u0437 \u0430\u0440\u0445\u0438\u0432\u0430"]})]})]})]}),(0,sn.jsxs)(Wp,{sx:{flexGrow:1},children:[(0,sn.jsxs)(ps,{sx:{display:"flex",justifyContent:"space-between",mb:2,flexWrap:"wrap",gap:1},children:[(0,sn.jsx)(Sp,{icon:(0,sn.jsx)(rm,{fontSize:"small"}),label:`${e.height} \u0441\u043c`,variant:"outlined",size:"small",sx:{fontWeight:600}}),(0,sn.jsx)(Sp,{icon:(0,sn.jsx)(om,{fontSize:"small"}),label:`${e.weight} \u043a\u0433`,variant:"outlined",size:"small",sx:{fontWeight:600}}),(0,sn.jsx)(Sp,{icon:"Male"===e.gender?(0,sn.jsx)(am,{fontSize:"small"}):(0,sn.jsx)(im,{fontSize:"small"}),label:"Male"===e.gender?"\u041c\u0443\u0436":"\u0416\u0435\u043d",color:"Male"===e.gender?"primary":"secondary",size:"small",sx:{fontWeight:600}})]}),(0,sn.jsxs)(ps,{sx:{mb:2},children:[(0,sn.jsxs)(vs,{variant:"body2",sx:{display:"flex",alignItems:"center",mb:1,fontWeight:500},children:[(0,sn.jsx)(em,{sx:{mr:1,fontSize:18}}),(0,sn.jsx)("strong",{children:"\u0426\u0435\u043b\u044c:"})," ",e.goal]}),(0,sn.jsx)(Sp,{label:`\u0410\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c: ${e.activityLevel}`,color:T(e.activityLevel),size:"small",sx:{width:"100%",fontWeight:600}})]}),(0,sn.jsx)(qp,{sx:{my:1}}),(0,sn.jsxs)(vs,{variant:"body2",sx:{display:"flex",alignItems:"center",mb:1,fontWeight:500},children:[(0,sn.jsx)(Tl,{sx:{mr:1,fontSize:18}}),e.phone.replace(/(\d{1})(\d{3})(\d{3})(\d{4})/,"+$1 ($2) $3-$4")]}),(0,sn.jsx)(ps,{sx:{mt:2},children:(0,sn.jsxs)(vs,{variant:"caption",color:"text.secondary",sx:{display:"flex",alignItems:"center",fontSize:"0.75rem"},children:[(0,sn.jsx)(dm,{sx:{mr:1,fontSize:16}}),"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d: ",new Date(e.createdAt).toLocaleDateString()]})})]})]})})},e.id)))}):(0,sn.jsx)(cn,{elevation:0,sx:{p:4,textAlign:"center",borderRadius:3,bgcolor:"background.default"},children:(0,sn.jsx)(vs,{variant:"h6",color:"text.secondary",children:"active"===p?"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u043a\u043b\u0438\u0435\u043d\u0442\u044b \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b. \u0418\u0437\u043c\u0435\u043d\u0438\u0442\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u043f\u043e\u0438\u0441\u043a\u0430.":"\u0410\u0440\u0445\u0438\u0432\u043d\u044b\u0435 \u043a\u043b\u0438\u0435\u043d\u0442\u044b \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b."})})]}),null!==l&&(0,sn.jsx)(sn.Fragment,{children:(0,sn.jsx)(hZ,{setAction:k,action:w,client:l,setSelectedClient:u,open:c,onClose:()=>d(!1),fetchWithRetry:qd,addToast:Ud,addSnackBar:g,fetchData:C})})]})},XOe=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],YOe=(0,en.Ay)("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${ol.primary}`]:t.primary},{[`& .${ol.secondary}`]:t.secondary},t.root,n.inset&&t.inset,n.primary&&n.secondary&&t.multiline,n.dense&&t.dense]}})((e=>{let{ownerState:t}=e;return(0,Yt.A)({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},t.primary&&t.secondary&&{marginTop:6,marginBottom:6},t.inset&&{paddingLeft:56})})),QOe=W.forwardRef((function(e,t){const n=(0,nn.b)({props:e,name:"MuiListItemText"}),{children:r,className:o,disableTypography:a=!1,inset:i=!1,primary:s,primaryTypographyProps:l,secondary:u,secondaryTypographyProps:c}=n,d=(0,Xt.A)(n,XOe),{dense:p}=W.useContext(Ko);let h=null!=s?s:r,f=u;const m=(0,Yt.A)({},n,{disableTypography:a,inset:i,primary:!!h,secondary:!!f,dense:p}),g=(e=>{const{classes:t,inset:n,primary:r,secondary:o,dense:a}=e,i={root:["root",n&&"inset",a&&"dense",r&&o&&"multiline"],primary:["primary"],secondary:["secondary"]};return(0,Zt.A)(i,rl,t)})(m);return null==h||h.type===vs||a||(h=(0,sn.jsx)(vs,(0,Yt.A)({variant:p?"body2":"body1",className:g.primary,component:null!=l&&l.variant?void 0:"span",display:"block"},l,{children:h}))),null==f||f.type===vs||a||(f=(0,sn.jsx)(vs,(0,Yt.A)({variant:"body2",className:g.secondary,color:"text.secondary",display:"block"},c,{children:f}))),(0,sn.jsxs)(YOe,(0,Yt.A)({className:(0,Qt.A)(g.root,o),ownerState:m,ref:t},d,{children:[h,f]}))})),ZOe=(0,Vi.A)((0,sn.jsx)("path",{d:"M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3m-3 11H8v-5h8zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1m-1-9H6v4h12z"}),"Print"),JOe=(0,Vi.A)((0,sn.jsx)("path",{d:"M19 9h-4V3H9v6H5l7 7zM5 18v2h14v-2z"}),"FileDownload"),eMe=(0,Vi.A)((0,sn.jsx)("path",{d:"M10 18h4v-2h-4zM3 6v2h18V6zm3 7h12v-2H6z"}),"FilterList"),tMe=e=>{let{onSuccess:t,open:n,onClose:r,onSubmit:o,clients:a,userId:i}=e;const[s,l]=(0,W.useState)(!0),[u,c]=(0,W.useState)(null),[d,p]=(0,W.useState)(""),[h,f]=(0,W.useState)(""),[m,g]=(0,W.useState)(""),[y,v]=(0,W.useState)(""),b=""!==h.trim()&&""!==m.trim()&&(s&&u||!s&&""!==d.trim());return(0,sn.jsxs)(xm,{open:n,onClose:r,maxWidth:"sm",fullWidth:!0,children:[(0,sn.jsx)(Cm,{children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0434\u043e\u0445\u043e\u0434"}),(0,sn.jsx)(Nm,{children:(0,sn.jsxs)(_I,{spacing:2,mt:1,children:[(0,sn.jsx)(QI,{control:(0,sn.jsx)(wN,{checked:s,onChange:()=>{l((e=>!e)),c(null),p("")}}),label:s?"\u041d\u0430\u0448 \u043a\u043b\u0438\u0435\u043d\u0442":"\u041d\u0435 \u043d\u0430\u0448 \u043a\u043b\u0438\u0435\u043d\u0442"}),s?(0,sn.jsx)(Xf,{options:a||[],getOptionLabel:e=>e.name||"",value:u,onChange:(e,t)=>c(t),renderInput:e=>(0,sn.jsx)(rs,{...e,label:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043a\u043b\u0438\u0435\u043d\u0442\u0430"}),isOptionEqualToValue:(e,t)=>e.id===t.id,clearOnEscape:!0}):(0,sn.jsx)(rs,{label:"\u0418\u043c\u044f \u043a\u043b\u0438\u0435\u043d\u0442\u0430",value:d,onChange:e=>p(e.target.value),fullWidth:!0}),(0,sn.jsx)(Xf,{freeSolo:!0,options:["1000","2000","3000","5000","10000"],value:h,onInputChange:(e,t)=>f(t),renderInput:e=>(0,sn.jsx)(rs,{...e,label:"\u0421\u0443\u043c\u043c\u0430 (\u0432 \u0440\u0443\u0431\u043b\u044f\u0445)",type:"number",InputProps:{...e.InputProps,inputMode:"numeric"}})}),(0,sn.jsx)(Xf,{freeSolo:!0,options:["\u041f\u0440\u043e\u0434\u0430\u0436\u0430 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u044b \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043e\u043a","\u041f\u0440\u043e\u0434\u0430\u0436\u0430 \u0434\u0438\u0435\u0442\u044b","\u0421\u041f\u0422","\u041a\u043e\u043d\u0441\u0443\u043b\u044c\u0442\u0430\u0446\u0438\u044f","\u041e\u043d\u043b\u0430\u0439\u043d \u0432\u0435\u0434\u0435\u043d\u0438\u0435","\u0414\u0440\u0443\u0433\u043e\u0435"],value:m,onInputChange:(e,t)=>g(t),renderInput:e=>(0,sn.jsx)(rs,{...e,label:"\u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0434\u043e\u0445\u043e\u0434\u0430",fullWidth:!0})}),(0,sn.jsx)(rs,{label:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 (\u043d\u0435\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e)",multiline:!0,rows:2,value:y,onChange:e=>v(e.target.value),fullWidth:!0})]})}),(0,sn.jsxs)(Rm,{children:[(0,sn.jsx)(rr,{onClick:r,children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),(0,sn.jsx)(rr,{variant:"contained",onClick:async()=>{const e=new Date;e.setHours(e.getHours()+3);const n=e.toISOString(),o={client_name:s?u.name:d,isOurClient:s,amount:h,incomeType:m,comment:y,date:n,client_id:s?u.id:null,userId:i};try{const e=await qd("additional_payments","POST",{...o});t&&t(),Ud("successAdditioanlPayments","success",`${e.message}`,1500)}catch(a){Ud("errorAdditioanlPayments","error","\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u043e \u043f\u043e\u0437\u0436\u0435 \u0438\u043b\u0438 \u0441\u043e\u043e\u0431\u0449\u0438\u0442\u0435 \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0443!",1500),console.error("\u041f\u0420\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0438 \u0441\u0442\u043e\u0440\u043e\u043d\u043d\u0435\u0439 \u043e\u043f\u043b\u0430\u0442\u044b!")}r(),l(!0),c(null),p(""),f(""),g(""),v("")},disabled:!b,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})]})},nMe=e=>{let{user:t}=e;const[n,r]=(0,W.useState)(!1),[o,a]=(0,W.useState)(null),[i,s]=(0,W.useState)(),[l,u]=(0,W.useState)(!1),[c,d]=(0,W.useState)(),[p,h]=(0,W.useState)(!1),[f,m]=(0,W.useState)(),[g,y]=(0,W.useState)(!1),[v,b]=(mv(xa().breakpoints.down("sm")),(0,W.useState)([])),[x,w]=(0,W.useState)(!1),[k,S]=(0,W.useState)({cashInMonth:0,sessionsInMonth:0,averageReceipt:0,additionalPymentsInMonth:0}),[A,C]=(0,W.useState)({}),[T,I]=(0,W.useState)(!1),[E,N]=(0,W.useState)(!1),[O,M]=(0,W.useState)(!1),[D,R]=(0,W.useState)(null),[P,$]=(0,W.useState)(!1),j=(0,W.useMemo)((()=>c),[c]),_=k.cashInMonth+k.additionalPymentsInMonth;(0,W.useEffect)((()=>{try{z()}catch(e){console.error("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u0432 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0432!")}}),[n]),(0,W.useEffect)((()=>{L()}),[]),(0,W.useEffect)((()=>{d(v)}),[v]);const F=(0,W.useCallback)((e=>{const t=i.find((t=>t.id===e));R(t),M(!0)}),[i]),L=async()=>{try{const e=await qd("/payment_history","GET"),t=await qd("/users","GET");S({cashInMonth:t[0].cashInMonth,sessionsInMonth:t[0].sessionsInMonth,additionalPymentsInMonth:t[0].additionalPymentsInMonth,averageReceipt:(t[0].cashInMonth/t[0].sessionsInMonth).toFixed(2)}),b(e)}catch(e){Ud("error","error","\u041e\u0448\u0438\u0431\u043a\u0430 \u0434\u043e\u0431\u044b\u0447\u0438 \u0434\u0430\u043d\u043d\u044b\u0445 \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u0430!",1e3)}},z=async()=>{const e=await qd(`/clients?userId=${t.id}`,"GET");s(e)},B=(0,W.useCallback)((e=>{m(e),u(!0)}),[]),V=(0,W.useCallback)((()=>{y(!1),console.log("\u0414\u0430\u043d\u043d\u044b\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u044b:",f)}),[f]),U=(0,W.useCallback)((e=>{const{name:t,value:n}=e.target;m((e=>({...e,[t]:n})))}),[]),H=(0,W.useCallback)((e=>{switch(e){case"amount":return(0,sn.jsx)(sN.A,{fontSize:"small"});case"client":return(0,sn.jsx)(lN.A,{fontSize:"small"});case"date":case"dateTo":return(0,sn.jsx)(uN.A,{fontSize:"small"});case"phone":return(0,sn.jsx)(cN.A,{fontSize:"small"});case"notes":return(0,sn.jsx)(dN.A,{fontSize:"small"});case"method":return(0,sn.jsx)(pN.A,{fontSize:"small"});case"type":return(0,sn.jsx)(Ap.A,{fontSize:"small"});case"status":return(0,sn.jsx)(hN.A,{fontSize:"small"});default:return null}}),[]),G=(0,W.useCallback)((e=>{let t="default";return"\u0410\u043a\u0442\u0438\u0432\u0435\u043d"===e&&(t="success"),"\u041f\u0440\u043e\u0441\u0440\u043e\u0447\u0435\u043d"===e&&(t="error"),"\u041e\u0436\u0438\u0434\u0430\u0435\u0442"===e&&(t="warning"),(0,sn.jsx)(Sp,{label:e,color:t,size:"small",icon:(0,sn.jsx)(hN.A,{fontSize:"small"}),sx:{borderRadius:"6px",fontWeight:500}})}),[]),q=(0,W.useCallback)((e=>{var t,n;let r=[...v];if(C((t=>({...t,...e}))),e.dateFrom&&(r=r.filter((t=>new Date(t.date)>=new Date(e.dateFrom)))),e.dateTo&&(r=r.filter((t=>new Date(t.date)<=new Date(e.dateTo)))),e.clientName&&(r=r.filter((t=>t.client.toLowerCase().includes(e.clientName.toLowerCase())))),e.amountType&&"custom"!==e.amountType){const[t,n]=e.amountType.split("-").map(Number);r=r.filter((e=>e.amount>=t&&e.amount<=n))}else if(e.customAmount){const t=Number(e.customAmount);r=r.filter((e=>e.amount>=t))}(null===(t=e.statuses)||void 0===t?void 0:t.length)>0&&(r=r.filter((t=>e.statuses.includes(t.status)))),(null===(n=e.types)||void 0===n?void 0:n.length)>0&&(r=r.filter((t=>e.types.includes(t.type)))),d(r)}),[v]);return(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsxs)(ps,{sx:{p:3,maxWidth:1400,margin:"0 auto"},children:[(0,sn.jsxs)(ps,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[(0,sn.jsx)(vs,{variant:"h4",sx:{fontWeight:700},children:"\u0424\u0438\u043d\u0430\u043d\u0441\u044b YouFit"}),(0,sn.jsxs)(ps,{children:[(0,sn.jsx)(rr,{variant:"outlined",sx:{mr:2},onClick:()=>{$(!0)},children:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0443 \u043d\u0430 \u043d\u043e\u0432\u044b\u0439 \u043c\u0435\u0441\u044f\u0446"}),(0,sn.jsx)(rMe,{open:x,onClose:()=>w(!1),payments:v,clients:i,onApplyFilters:e=>{q(e),w(!1)},onResetFilters:()=>{C({}),d(v)}}),(0,sn.jsx)(rr,{variant:"outlined",startIcon:(0,sn.jsx)(ZOe,{}),sx:{mr:2},children:"\u041f\u0435\u0447\u0430\u0442\u044c"}),(0,sn.jsx)(rr,{variant:"outlined",startIcon:(0,sn.jsx)(JOe,{}),children:"\u042d\u043a\u0441\u043f\u043e\u0440\u0442"})]})]}),(0,sn.jsxs)(ps,{sx:{display:"flex",gap:3,mb:4,flexWrap:"wrap"},children:[(0,sn.jsxs)(cn,{sx:{p:3,flexGrow:1,borderRadius:3,background:"linear-gradient(135deg, #6a11cb 0%, #2575fc 100%)",color:"white"},children:[(0,sn.jsx)(vs,{variant:"h6",children:"\u0414\u043e\u0445\u043e\u0434"}),(0,sn.jsx)(tg,{title:(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsxs)("div",{children:["\u0417\u0430 \u0442\u0435\u0440\u043d\u0438\u0440\u043e\u0432\u043a\u0438: ",k.cashInMonth,"\u20bd"]}),(0,sn.jsxs)("div",{children:["\u0414\u043e\u043f. \u0434\u043e\u0445\u043e\u0434: ",k.additionalPymentsInMonth,"\u20bd"]})]}),arrow:!0,children:(0,sn.jsxs)(vs,{variant:"h4",sx:{fontWeight:700,cursor:"pointer"},children:[_,"\u20bd"]})}),(0,sn.jsx)(vs,{variant:"body2",children:"\u0437\u0430 \u0442\u0435\u043a\u0443\u0449\u0438\u0439 \u043c\u0435\u0441\u044f\u0446"})]}),(0,sn.jsxs)(cn,{sx:{p:3,flexGrow:1,borderRadius:3,background:"linear-gradient(135deg, #11998e 0%, #38ef7d 100%)",color:"white"},children:[(0,sn.jsx)(vs,{variant:"h6",children:"\u041f\u0440\u043e\u0432\u0435\u0434\u0435\u043d\u043e \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043e\u043a"}),(0,sn.jsx)(vs,{variant:"h4",sx:{fontWeight:700},children:k.sessionsInMonth}),(0,sn.jsx)(vs,{variant:"body2",children:"\u0437\u0430 \u0442\u0435\u043a\u0443\u0449\u0438\u0439 \u043c\u0435\u0441\u044f\u0446"})]}),(0,sn.jsxs)(cn,{sx:{p:3,flexGrow:1,borderRadius:3,background:"linear-gradient(135deg, #f46b45 0%, #eea849 100%)",color:"white"},children:[(0,sn.jsx)(vs,{variant:"h6",children:"\u0421\u0440\u0435\u0434\u043d\u0438\u0439 \u0447\u0435\u043a"}),(0,sn.jsxs)(vs,{variant:"h4",sx:{fontWeight:700},children:["  ",isNaN(k.averageReceipt)?0:k.averageReceipt," \u20bd"]}),(0,sn.jsx)(vs,{variant:"body2",children:"\u0437\u0430 \u0442\u0435\u043a\u0443\u0449\u0438\u0439 \u043c\u0435\u0441\u044f\u0446"})]})]}),(0,sn.jsxs)(ps,{sx:{mb:3,display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,sn.jsx)(ps,{sx:{flex:1},children:(0,sn.jsx)(rr,{variant:"contained",startIcon:(0,sn.jsx)(lm,{}),onClick:()=>h(!0),sx:{background:"linear-gradient(135deg, #6a11cb 0%, #2575fc 100%)",borderRadius:3,px:2,py:1.5,boxShadow:"0 4px 15px rgba(106, 17, 203, 0.3)",textTransform:"none",fontWeight:600,"&:hover":{boxShadow:"0 6px 20px rgba(106, 17, 203, 0.4)",background:"linear-gradient(135deg, #5e0ec0 0%, #1e63e9 100%)"}},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0442\u043e\u0440\u043e\u043d\u043d\u044e\u044e \u043e\u043f\u043b\u0430\u0442\u0443!"})}),(0,sn.jsx)(rr,{variant:"outlined",onClick:()=>{I((e=>!e))},startIcon:(0,sn.jsx)(ly,{}),sx:{color:"#6a11cb",borderColor:"#6a11cb",borderRadius:3,px:4,py:1.2,fontWeight:600,textTransform:"none",transition:"all 0.3s ease","&:hover":{background:"linear-gradient(135deg, #6a11cb 0%, #2575fc 100%)",color:"#fff",borderColor:"transparent",boxShadow:"0 4px 15px rgba(106, 17, 203, 0.3)"}},children:T?"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0439":"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u043e\u043f\u043b\u0430\u0442"}),(0,sn.jsx)(ps,{sx:{flex:1,display:"flex",justifyContent:"flex-end"},children:(0,sn.jsx)(rr,{variant:"contained",startIcon:(0,sn.jsx)(lm,{}),onClick:()=>r(!0),sx:{background:"linear-gradient(135deg, #6a11cb 0%, #2575fc 100%)",borderRadius:3,px:4,py:1.5,boxShadow:"0 4px 15px rgba(106, 17, 203, 0.3)",textTransform:"none",fontWeight:600,"&:hover":{boxShadow:"0 6px 20px rgba(106, 17, 203, 0.4)",background:"linear-gradient(135deg, #5e0ec0 0%, #1e63e9 100%)"}},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043e\u043f\u043b\u0430\u0442\u0443"})})]}),T?(0,sn.jsx)(SM,{filters:A,filtersClientsetOpenCardDialog:A.client,setOpenCardDialog:N,findSelectedClient:F}):(0,sn.jsx)(uv,{payments:v,filteredPayments:j,handleOpen:B,setOpenCardDialog:N,findSelectedClient:F}),E&&(0,sn.jsx)(hZ,{client:D,open:O,onClose:()=>M(!1),fetchWithRetry:qd,addToast:Ud,onSuccess:L}),(0,sn.jsx)(CI,{open:n,onClose:()=>r(!1),clients:i,fetchDataPayList:()=>L(),setClient:a,client:o}),(0,sn.jsx)(EI,{open:l,onClose:()=>u(!1),payment:f,isEditing:g,setIsEditing:y,handleChange:U,handleSave:V,getFieldIcon:H,renderStatusChip:G}),(0,sn.jsx)(tMe,{open:p,onClose:()=>h(!1),clients:i,userId:t.id,onSubmit:e=>{console.log("\u041e\u043f\u043b\u0430\u0442\u0430:",e)},onSuccess:L})]}),(0,sn.jsxs)(xm,{open:P,onClose:()=>$(!1),children:[(0,sn.jsx)(Cm,{style:{color:"red"},children:"\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0438"}),(0,sn.jsx)(Nm,{children:(0,sn.jsx)("p",{style:{color:"red"},children:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0443 \u0437\u0430 \u043c\u0435\u0441\u044f\u0446?"})}),(0,sn.jsxs)(Rm,{children:[(0,sn.jsx)(rr,{onClick:()=>{(async()=>{try{await qd("users/resetStatisticUser","PATCH",t)?Ud("successNewStatistic","success","\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 \u043e\u0431\u043d\u043e\u0432\u0438\u043b\u0430\u0441\u044c \u043d\u0430 \u043d\u043e\u0432\u044b\u0439 \u043c\u0435\u0441\u044f\u0446",1500):Ud("errorNewStatistic","error","\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0438 \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0438",1500)}catch(JBe){Ud("errorNewStatistic","error","\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0438 \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0438",1500)}})(),$(!1)},color:"primary",variant:"contained",children:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c"}),(0,sn.jsx)(rr,{onClick:()=>$(!1),children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"})]})]})]})},rMe=e=>{let{clients:t,payments:n,onApplyFilters:r,onResetFilters:o}=e;const[a,i]=(0,W.useState)(null),[s,l]=(0,W.useState)({dateFrom:"",dateTo:"",clientName:"",amountType:"",customAmount:"",statuses:[],types:[]}),u=[...new Set(n.map((e=>e.status)))],c=[...new Set(n.map((e=>e.type)))],d=()=>{i(null)},p=e=>{const{name:t,value:n}=e.target;l((e=>({...e,[t]:n})))},h=e=>t=>{const n=t.target.value;l((t=>({...t,[e]:"string"===typeof n?n.split(","):n})))};return(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)(rr,{variant:"contained",startIcon:(0,sn.jsx)(eMe,{}),sx:{mr:2},onClick:e=>{i(e.currentTarget)},children:"\u0424\u0438\u043b\u044c\u0442\u0440\u044b"}),(0,sn.jsxs)(wi,{anchorEl:a,open:Boolean(a),onClose:d,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},PaperProps:{sx:{width:400,maxWidth:"100%",p:2,borderRadius:2,boxShadow:"0px 4px 20px rgba(0, 0, 0, 0.15)"}},children:[(0,sn.jsxs)(ps,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,sn.jsx)(vs,{variant:"h6",sx:{fontWeight:600},children:"\u0424\u0438\u043b\u044c\u0442\u0440\u044b"}),(0,sn.jsx)(ny,{onClick:d,sx:{cursor:"pointer",color:"text.secondary"}})]}),(0,sn.jsx)(qp,{sx:{my:1}}),(0,sn.jsx)(vs,{variant:"subtitle2",sx:{mt:1,mb:1,fontWeight:500},children:"\u041f\u0435\u0440\u0438\u043e\u0434"}),(0,sn.jsxs)(_I,{direction:"row",spacing:2,sx:{mb:2},children:[(0,sn.jsx)(rs,{fullWidth:!0,type:"date",label:"\u041e\u0442",name:"dateFrom",value:s.dateFrom,onChange:p,InputLabelProps:{shrink:!0}}),(0,sn.jsx)(rs,{fullWidth:!0,type:"date",label:"\u0414\u043e",name:"dateTo",value:s.dateTo,onChange:p,InputLabelProps:{shrink:!0}})]}),(0,sn.jsxs)(ps,{sx:{mb:2},children:[(0,sn.jsx)(vs,{variant:"subtitle2",sx:{mb:1,fontWeight:600},children:"\u041a\u043b\u0438\u0435\u043d\u0442"}),(0,sn.jsx)(Xf,{options:t||[],getOptionLabel:e=>e.name,renderInput:e=>(0,sn.jsx)(rs,{...e,placeholder:"\u041d\u0430\u0447\u043d\u0438\u0442\u0435 \u0432\u0432\u043e\u0434\u0438\u0442\u044c \u0438\u043c\u044f",InputProps:{...e.InputProps,startAdornment:(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)(cm,{sx:{mr:1,color:"action.active"}}),e.InputProps.startAdornment]})}}),value:s.client||null,onChange:(e,t)=>l((e=>({...e,clientName:(null===t||void 0===t?void 0:t.name)||"",client:t||null}))),fullWidth:!0})]}),(0,sn.jsx)(vs,{variant:"subtitle2",sx:{mt:1,mb:1,fontWeight:500},children:"\u0421\u0443\u043c\u043c\u0430 \u043e\u043f\u043b\u0430\u0442\u044b"}),(0,sn.jsxs)(Oo,{fullWidth:!0,sx:{mb:2},children:[(0,sn.jsx)(Co,{children:"\u0414\u0438\u0430\u043f\u0430\u0437\u043e\u043d \u0441\u0443\u043c\u043c\u044b"}),(0,sn.jsxs)(Zi,{label:"\u0414\u0438\u0430\u043f\u0430\u0437\u043e\u043d \u0441\u0443\u043c\u043c\u044b",value:s.amountType,onChange:(f="amountType",e=>{const t=e.target.value;l((e=>({...e,[f]:t})))}),children:[[{label:"\u0414\u043e 1 000 \u20bd",value:"0-1000"},{label:"1 000 - 3 000 \u20bd",value:"1000-3000"},{label:"3 000 - 5 000 \u20bd",value:"3000-5000"},{label:"\u0411\u043e\u043b\u0435\u0435 5 000 \u20bd",value:"5000-100000"}].map((e=>(0,sn.jsx)(ul,{value:e.value,children:e.label},e.value))),(0,sn.jsx)(ul,{value:"custom",children:"\u0421\u0432\u043e\u044f \u0441\u0443\u043c\u043c\u0430"})]})]}),"custom"===s.amountType&&(0,sn.jsx)(rs,{fullWidth:!0,label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0443\u043c\u043c\u0443",name:"customAmount",type:"number",value:s.customAmount,onChange:p,sx:{mb:2},InputProps:{startAdornment:(0,sn.jsx)(Yf,{fontSize:"small",sx:{mr:1,color:"text.secondary"}})}}),(0,sn.jsx)(vs,{variant:"subtitle2",sx:{mt:1,mb:1,fontWeight:500},children:"\u0421\u0442\u0430\u0442\u0443\u0441"}),(0,sn.jsxs)(Oo,{fullWidth:!0,sx:{mb:2},children:[(0,sn.jsx)(Co,{children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0442\u0430\u0442\u0443\u0441\u044b"}),(0,sn.jsx)(Zi,{multiple:!0,label:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0442\u0430\u0442\u0443\u0441\u044b",value:s.statuses,onChange:h("statuses"),renderValue:e=>(0,sn.jsx)(ps,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:e.map((e=>(0,sn.jsx)(Sp,{label:e,size:"small"},e)))}),children:u.map((e=>(0,sn.jsxs)(ul,{value:e,children:[(0,sn.jsx)(tD,{checked:s.statuses.indexOf(e)>-1}),(0,sn.jsx)(QOe,{primary:e})]},e)))})]}),(0,sn.jsx)(vs,{variant:"subtitle2",sx:{mt:1,mb:1,fontWeight:500},children:"\u0422\u0438\u043f \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043a\u0438"}),(0,sn.jsxs)(Oo,{fullWidth:!0,sx:{mb:3},children:[(0,sn.jsx)(Co,{children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u0438\u043f\u044b"}),(0,sn.jsx)(Zi,{multiple:!0,label:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u0438\u043f\u044b",value:s.types,onChange:h("types"),renderValue:e=>(0,sn.jsx)(ps,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:e.map((e=>(0,sn.jsx)(Sp,{label:e,size:"small"},e)))}),children:c.map((e=>(0,sn.jsxs)(ul,{value:e,children:[(0,sn.jsx)(tD,{checked:s.types.indexOf(e)>-1}),(0,sn.jsx)(QOe,{primary:e})]},e)))})]}),(0,sn.jsx)(qp,{sx:{my:1}}),(0,sn.jsxs)(ps,{sx:{display:"flex",justifyContent:"space-between",mt:2},children:[(0,sn.jsx)(rr,{variant:"outlined",onClick:()=>{l({dateFrom:"",dateTo:"",clientName:"",amountType:"",customAmount:"",statuses:[],types:[]}),o(),r({})},sx:{borderRadius:2},children:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c"}),(0,sn.jsx)(rr,{variant:"contained",onClick:()=>{r(s),d()},sx:{borderRadius:2},children:"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c"})]})]})]});var f},oMe=e=>{let{setUser:t}=e;const[n,r]=(0,W.useState)(""),[o,a]=(0,W.useState)(""),[i,s]=(0,W.useState)(!0),l=Be();return(0,sn.jsxs)("div",{className:"login-container",children:[(0,sn.jsxs)("div",{className:"left-panel",children:[(0,sn.jsx)("div",{className:"circle top-right"}),(0,sn.jsx)("div",{className:"circle bottom-left"}),(0,sn.jsxs)("div",{className:"left-content",children:[(0,sn.jsx)("h1",{className:"title",children:"YouFit"}),(0,sn.jsx)("h2",{className:"subtitle"}),(0,sn.jsx)("div",{className:"icon-wrapper",children:(0,sn.jsxs)("svg",{width:"60",height:"60",viewBox:"0 0 24 24",fill:"white",xmlns:"http://www.w3.org/2000/svg",children:[(0,sn.jsx)("path",{d:"M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z"}),(0,sn.jsx)("path",{d:"M19.4 15...Z"}),(0,sn.jsx)("path",{d:"M4.6 15...Z"})]})}),(0,sn.jsx)("p",{className:"quote",children:'"\u0417\u0434\u043e\u0440\u043e\u0432\u044c\u0435 - \u044d\u0442\u043e \u0433\u043b\u0430\u0432\u043d\u043e\u0435 \u0431\u043e\u0433\u0430\u0442\u0441\u0442\u0432\u043e!"'})]})]}),(0,sn.jsx)("div",{className:"right-panel",children:(0,sn.jsxs)(cn,{elevation:6,className:"form-paper",children:[(0,sn.jsxs)(CE,{value:i?"login":"register",exclusive:!0,onChange:(e,t)=>{null!==t&&s("login"===t)},className:"toggle-buttons",fullWidth:!0,children:[(0,sn.jsx)(OE,{value:"login",children:"\u0412\u0445\u043e\u0434"}),(0,sn.jsx)(OE,{value:"register",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})]}),(0,sn.jsx)(vs,{variant:"h4",className:"form-title",children:i?"\u0412\u0445\u043e\u0434":"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),(0,sn.jsx)(rs,{label:"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",fullWidth:!0,variant:"outlined",margin:"normal",value:n,onChange:e=>r(e.target.value)}),(0,sn.jsx)(rs,{label:"\u041f\u0430\u0440\u043e\u043b\u044c",type:"password",fullWidth:!0,variant:"outlined",margin:"normal",value:o,onChange:e=>a(e.target.value)}),(0,sn.jsx)(rr,{variant:"contained",fullWidth:!0,className:"submit-button",onClick:i?async()=>{try{const e=await qd("/auth/login","POST",{username:n,password:o});e.user.googleCalendar="",e.user.phone="",e.user&&(t(e.user),localStorage.setItem("user",JSON.stringify(e.user)),l("/MainPage")),localStorage.setItem("refresh_token",e.user.refresh_token),l("/MainPage")}catch(JBe){alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u0445\u043e\u0434\u0430")}}:async()=>{try{await qd("/auth/register","POST",{username:n,password:o}),alert("\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u0443\u0441\u043f\u0435\u0448\u043d\u0430! \u0422\u0435\u043f\u0435\u0440\u044c \u0432\u043e\u0439\u0434\u0438\u0442\u0435."),s(!0)}catch(JBe){alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438")}},children:i?"\u0412\u043e\u0439\u0442\u0438":"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]})})]})};const aMe=W.createContext({});function iMe(e){return(0,on.Ay)("MuiAccordion",e)}const sMe=(0,rn.A)("MuiAccordion",["root","rounded","expanded","disabled","gutters","region"]),lMe=["children","className","defaultExpanded","disabled","disableGutters","expanded","onChange","square","slots","slotProps","TransitionComponent","TransitionProps"],uMe=(0,en.Ay)(cn,{name:"MuiAccordion",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${sMe.region}`]:t.region},t.root,!n.square&&t.rounded,!n.disableGutters&&t.gutters]}})((e=>{let{theme:t}=e;const n={duration:t.transitions.duration.shortest};return{position:"relative",transition:t.transitions.create(["margin"],n),overflowAnchor:"none","&::before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:(t.vars||t).palette.divider,transition:t.transitions.create(["opacity","background-color"],n)},"&:first-of-type":{"&::before":{display:"none"}},[`&.${sMe.expanded}`]:{"&::before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&::before":{display:"none"}}},[`&.${sMe.disabled}`]:{backgroundColor:(t.vars||t).palette.action.disabledBackground}}}),(e=>{let{theme:t}=e;return{variants:[{props:e=>!e.square,style:{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:(t.vars||t).shape.borderRadius,borderBottomRightRadius:(t.vars||t).shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}}},{props:e=>!e.disableGutters,style:{[`&.${sMe.expanded}`]:{margin:"16px 0"}}}]}})),cMe=W.forwardRef((function(e,t){const n=(0,nn.b)({props:e,name:"MuiAccordion"}),{children:r,className:o,defaultExpanded:a=!1,disabled:i=!1,disableGutters:s=!1,expanded:l,onChange:u,square:c=!1,slots:d={},slotProps:p={},TransitionComponent:h,TransitionProps:f}=n,m=(0,Xt.A)(n,lMe),[g,y]=(0,Mi.A)({controlled:l,default:a,name:"Accordion",state:"expanded"}),v=W.useCallback((e=>{y(!g),u&&u(e,!g)}),[g,u,y]),[b,...x]=W.Children.toArray(r),w=W.useMemo((()=>({expanded:g,disabled:i,disableGutters:s,toggle:v})),[g,i,s,v]),k=(0,Yt.A)({},n,{square:c,disabled:i,disableGutters:s,expanded:g}),S=(e=>{const{classes:t,square:n,expanded:r,disabled:o,disableGutters:a}=e,i={root:["root",!n&&"rounded",r&&"expanded",o&&"disabled",!a&&"gutters"],region:["region"]};return(0,Zt.A)(i,iMe,t)})(k),A=(0,Yt.A)({transition:h},d),C=(0,Yt.A)({transition:f},p),[T,I]=ks("transition",{elementType:XQ,externalForwardedProps:{slots:A,slotProps:C},ownerState:k});return(0,sn.jsxs)(uMe,(0,Yt.A)({className:(0,Qt.A)(S.root,o),ref:t,ownerState:k,square:c},m,{children:[(0,sn.jsx)(aMe.Provider,{value:w,children:b}),(0,sn.jsx)(T,(0,Yt.A)({in:g,timeout:"auto"},I,{children:(0,sn.jsx)("div",{"aria-labelledby":b.props.id,id:b.props["aria-controls"],role:"region",className:S.region,children:x})}))]}))}));function dMe(e){return(0,on.Ay)("MuiAccordionSummary",e)}const pMe=(0,rn.A)("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]),hMe=["children","className","expandIcon","focusVisibleClassName","onClick"],fMe=(0,en.Ay)(Gn,{name:"MuiAccordionSummary",slot:"Root",overridesResolver:(e,t)=>t.root})((e=>{let{theme:t}=e;const n={duration:t.transitions.duration.shortest};return{display:"flex",minHeight:48,padding:t.spacing(0,2),transition:t.transitions.create(["min-height","background-color"],n),[`&.${pMe.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${pMe.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`&:hover:not(.${pMe.disabled})`]:{cursor:"pointer"},variants:[{props:e=>!e.disableGutters,style:{[`&.${pMe.expanded}`]:{minHeight:64}}}]}})),mMe=(0,en.Ay)("div",{name:"MuiAccordionSummary",slot:"Content",overridesResolver:(e,t)=>t.content})((e=>{let{theme:t}=e;return{display:"flex",flexGrow:1,margin:"12px 0",variants:[{props:e=>!e.disableGutters,style:{transition:t.transitions.create(["margin"],{duration:t.transitions.duration.shortest}),[`&.${pMe.expanded}`]:{margin:"20px 0"}}}]}})),gMe=(0,en.Ay)("div",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper",overridesResolver:(e,t)=>t.expandIconWrapper})((e=>{let{theme:t}=e;return{display:"flex",color:(t.vars||t).palette.action.active,transform:"rotate(0deg)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest}),[`&.${pMe.expanded}`]:{transform:"rotate(180deg)"}}})),yMe=W.forwardRef((function(e,t){const n=(0,nn.b)({props:e,name:"MuiAccordionSummary"}),{children:r,className:o,expandIcon:a,focusVisibleClassName:i,onClick:s}=n,l=(0,Xt.A)(n,hMe),{disabled:u=!1,disableGutters:c,expanded:d,toggle:p}=W.useContext(aMe),h=(0,Yt.A)({},n,{expanded:d,disabled:u,disableGutters:c}),f=(e=>{const{classes:t,expanded:n,disabled:r,disableGutters:o}=e,a={root:["root",n&&"expanded",r&&"disabled",!o&&"gutters"],focusVisible:["focusVisible"],content:["content",n&&"expanded",!o&&"contentGutters"],expandIconWrapper:["expandIconWrapper",n&&"expanded"]};return(0,Zt.A)(a,dMe,t)})(h);return(0,sn.jsxs)(fMe,(0,Yt.A)({focusRipple:!1,disableRipple:!0,disabled:u,component:"div","aria-expanded":d,className:(0,Qt.A)(f.root,o),focusVisibleClassName:(0,Qt.A)(f.focusVisible,i),onClick:e=>{p&&p(e),s&&s(e)},ref:t,ownerState:h},l,{children:[(0,sn.jsx)(mMe,{className:f.content,ownerState:h,children:r}),a&&(0,sn.jsx)(gMe,{className:f.expandIconWrapper,ownerState:h,children:a})]}))}));function vMe(e){return(0,on.Ay)("MuiAccordionDetails",e)}(0,rn.A)("MuiAccordionDetails",["root"]);const bMe=["className"],xMe=(0,en.Ay)("div",{name:"MuiAccordionDetails",slot:"Root",overridesResolver:(e,t)=>t.root})((e=>{let{theme:t}=e;return{padding:t.spacing(1,2,2)}})),wMe=W.forwardRef((function(e,t){const n=(0,nn.b)({props:e,name:"MuiAccordionDetails"}),{className:r}=n,o=(0,Xt.A)(n,bMe),a=n,i=(e=>{const{classes:t}=e;return(0,Zt.A)({root:["root"]},vMe,t)})(a);return(0,sn.jsx)(xMe,(0,Yt.A)({className:(0,Qt.A)(i.root,r),ref:t,ownerState:a},o))}));var kMe=n(4914),SMe=n(4329),AMe=n(492),CMe=n(8625),TMe=n(1337);const IMe={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let EMe;const NMe=new Uint8Array(16);const OMe=[];for(let n=0;n<256;++n)OMe.push((n+256).toString(16).slice(1));function MMe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(OMe[e[t+0]]+OMe[e[t+1]]+OMe[e[t+2]]+OMe[e[t+3]]+"-"+OMe[e[t+4]]+OMe[e[t+5]]+"-"+OMe[e[t+6]]+OMe[e[t+7]]+"-"+OMe[e[t+8]]+OMe[e[t+9]]+"-"+OMe[e[t+10]]+OMe[e[t+11]]+OMe[e[t+12]]+OMe[e[t+13]]+OMe[e[t+14]]+OMe[e[t+15]]).toLowerCase()}const DMe=function(e,t,n){if(IMe.randomUUID&&!t&&!e)return IMe.randomUUID();const r=(e=e||{}).random??e.rng?.()??function(){if(!EMe){if("undefined"===typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");EMe=crypto.getRandomValues.bind(crypto)}return EMe(NMe)}();if(r.length<16)throw new Error("Random bytes length must be >= 16");if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){if((n=n||0)<0||n+16>t.length)throw new RangeError(`UUID byte range ${n}:${n+15} is out of buffer bounds`);for(let e=0;e<16;++e)t[n+e]=r[e];return t}return MMe(r)},RMe=async(e,t)=>{const n=JSON.parse(localStorage.getItem("user")),r=null===n||void 0===n?void 0:n.id;if(!r)return Ud("error","\u041e\u0448\u0438\u0431\u043a\u0430","\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d",1500),[];const o=new URLSearchParams({userId:r});t&&o.append("clientId",t.toString()),Array.isArray(e)?e.forEach((e=>o.append("nameColumn",e))):e&&o.append("nameColumn",e);try{const e=await qd(`/clients/customGet?${o.toString()}`,"GET");if(!e)throw new Error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0434\u0430\u043d\u043d\u044b\u0445");return e}catch(a){return console.error("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0432",a),Ud("error","\u041e\u0448\u0438\u0431\u043a\u0430","\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u0441\u043f\u0438\u0441\u043a\u0430 \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0432",1500),[]}},PMe=async()=>{try{const e=JSON.parse(localStorage.getItem("user")),t=null===e||void 0===e?void 0:e.id,n=await qd(`/programTraining?userId=${t}`,"GET");if(!n)throw new Error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0434\u0430\u043d\u043d\u044b\u0445");return await n}catch(e){return console.log("error:",e),Ud("error","error","\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0443\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u0439!",1500),[]}},$Me=async e=>{try{const t=JSON.parse(localStorage.getItem("user")),n=await qd("/programTraining/save","POST",{body:JSON.stringify({program:e,userId:null===t||void 0===t?void 0:t.id})});if(!n)throw new Error(`HTTP error! status: ${n.status}`);return await n}catch(t){throw console.error("Error saving program:",t),t}};var jMe=n(122);const _Me="undefined"!==typeof window?W.useLayoutEffect:W.useEffect;function FMe(e,t,n){const[r,o]=function(e,t,n){const[r,o]=(0,W.useState)((()=>t(e))),a=(0,W.useCallback)((()=>{const a=t(e);jMe(r,a)||(o(a),n&&n())}),[r,e,n]);return _Me(a),[r,a]}(e,t,n);return _Me((function(){const t=e.getHandlerId();if(null!=t)return e.subscribeToStateChange(o,{handlerIds:[t]})}),[e,o]),r}function LMe(e,t,n){return FMe(t,e||(()=>({})),(()=>n.reconnect()))}function zMe(e,t){const n=[...t||[]];return null==t&&"function"!==typeof e&&n.push(e),(0,W.useMemo)((()=>"function"===typeof e?e():e),n)}function BMe(e){return(0,W.useMemo)((()=>e.hooks.dropTarget()),[e])}function WMe(e,t,n,r){let o=n?n.call(r,e,t):void 0;if(void 0!==o)return!!o;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;const a=Object.keys(e),i=Object.keys(t);if(a.length!==i.length)return!1;const s=Object.prototype.hasOwnProperty.bind(t);for(let l=0;l<a.length;l++){const i=a[l];if(!s(i))return!1;const u=e[i],c=t[i];if(o=n?n.call(r,u,c,i):void 0,!1===o||void 0===o&&u!==c)return!1}return!0}function VMe(e){return null!==e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function UMe(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];if("undefined"!==typeof process&&void 0===t)throw new Error("invariant requires an error message argument");if(!e){let e;if(void 0===t)e=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let n=0;e=new Error(t.replace(/%s/g,(function(){return r[n++]}))),e.name="Invariant Violation"}throw e.framesToPop=1,e}}function HMe(e){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!(0,W.isValidElement)(t)){const r=t;return e(r,n),r}const r=t;!function(e){if("string"===typeof e.type)return;const t=e.type.displayName||e.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${t} into a <div>, or turn it into a drag source or a drop target itself.`)}(r);return function(e,t){const n=e.ref;return UMe("string"!==typeof n,"Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),n?(0,W.cloneElement)(e,{ref:e=>{qMe(n,e),qMe(t,e)}}):(0,W.cloneElement)(e,{ref:t})}(r,n?t=>e(t,n):e)}}function GMe(e){const t={};return Object.keys(e).forEach((n=>{const r=e[n];if(n.endsWith("Ref"))t[n]=e[n];else{const e=HMe(r);t[n]=()=>e}})),t}function qMe(e,t){"function"===typeof e?e(t):e.current=t}class KMe{get connectTarget(){return this.dropTarget}reconnect(){const e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();const t=this.dropTarget;this.handlerId&&(t?e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=t,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,t,this.dropTargetOptions)):this.lastConnectedDropTarget=t)}receiveHandlerId(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(e){this.dropTargetOptionsInternal=e}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!WMe(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(e){this.hooks=GMe({dropTarget:(e,t)=>{this.clearDropTarget(),this.dropTargetOptions=t,VMe(e)?this.dropTargetRef=e:this.dropTargetNode=e,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=e}}const XMe=(0,W.createContext)({dragDropManager:void 0});function YMe(){const{dragDropManager:e}=(0,W.useContext)(XMe);return UMe(null!=e,"Expected drag drop context"),e}let QMe=!1;class ZMe{receiveHandlerId(e){this.targetId=e}getHandlerId(){return this.targetId}subscribeToStateChange(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}canDrop(){if(!this.targetId)return!1;UMe(!QMe,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return QMe=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{QMe=!1}}isOver(e){return!!this.targetId&&this.internalMonitor.isOverTarget(this.targetId,e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.targetId=null,this.internalMonitor=e.getMonitor()}}class JMe{canDrop(){const e=this.spec,t=this.monitor;return!e.canDrop||e.canDrop(t.getItem(),t)}hover(){const e=this.spec,t=this.monitor;e.hover&&e.hover(t.getItem(),t)}drop(){const e=this.spec,t=this.monitor;if(e.drop)return e.drop(t.getItem(),t)}constructor(e,t){this.spec=e,this.monitor=t}}function eDe(e,t,n){const r=YMe(),o=function(e,t){const n=(0,W.useMemo)((()=>new JMe(e,t)),[t]);return(0,W.useEffect)((()=>{n.spec=e}),[e]),n}(e,t),a=function(e){const{accept:t}=e;return(0,W.useMemo)((()=>(UMe(null!=e.accept,"accept must be defined"),Array.isArray(t)?t:[t])),[t])}(e);_Me((function(){const[e,i]=function(e,t,n){const r=n.getRegistry(),o=r.addTarget(e,t);return[o,()=>r.removeTarget(o)]}(a,o,r);return t.receiveHandlerId(e),n.receiveHandlerId(e),i}),[r,t,o,n,a.map((e=>e.toString())).join("|")])}function tDe(e,t){const n=zMe(e,t),r=function(){const e=YMe();return(0,W.useMemo)((()=>new ZMe(e)),[e])}(),o=function(e){const t=YMe(),n=(0,W.useMemo)((()=>new KMe(t.getBackend())),[t]);return _Me((()=>(n.dropTargetOptions=e||null,n.reconnect(),()=>n.disconnectDropTarget())),[e]),n}(n.options);return eDe(n,r,o),[LMe(n.collect,r,o),BMe(o)]}function nDe(e){return(0,W.useMemo)((()=>e.hooks.dragSource()),[e])}function rDe(e){return(0,W.useMemo)((()=>e.hooks.dragPreview()),[e])}class oDe{receiveHandlerId(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(e){this.dragSourceOptionsInternal=e}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(e){this.dragPreviewOptionsInternal=e}reconnect(){const e=this.reconnectDragSource();this.reconnectDragPreview(e)}reconnectDragSource(){const e=this.dragSource,t=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return t&&this.disconnectDragSource(),this.handlerId?e?(t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)),t):(this.lastConnectedDragSource=e,t):t}reconnectDragPreview(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=this.dragPreview,n=e||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();n&&this.disconnectDragPreview(),this.handlerId&&(t?n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=t,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,t,this.dragPreviewOptions)):this.lastConnectedDragPreview=t)}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!WMe(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!WMe(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(e){this.hooks=GMe({dragSource:(e,t)=>{this.clearDragSource(),this.dragSourceOptions=t||null,VMe(e)?this.dragSourceRef=e:this.dragSourceNode=e,this.reconnectDragSource()},dragPreview:(e,t)=>{this.clearDragPreview(),this.dragPreviewOptions=t||null,VMe(e)?this.dragPreviewRef=e:this.dragPreviewNode=e,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=e}}let aDe=!1,iDe=!1;class sDe{receiveHandlerId(e){this.sourceId=e}getHandlerId(){return this.sourceId}canDrag(){UMe(!aDe,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return aDe=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{aDe=!1}}isDragging(){if(!this.sourceId)return!1;UMe(!iDe,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return iDe=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{iDe=!1}}subscribeToStateChange(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}isDraggingSource(e){return this.internalMonitor.isDraggingSource(e)}isOverTarget(e,t){return this.internalMonitor.isOverTarget(e,t)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(e){return this.internalMonitor.subscribeToOffsetChange(e)}canDragSource(e){return this.internalMonitor.canDragSource(e)}canDropOnTarget(e){return this.internalMonitor.canDropOnTarget(e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.sourceId=null,this.internalMonitor=e.getMonitor()}}class lDe{beginDrag(){const e=this.spec,t=this.monitor;let n=null;return n="object"===typeof e.item?e.item:"function"===typeof e.item?e.item(t):{},null!==n&&void 0!==n?n:null}canDrag(){const e=this.spec,t=this.monitor;return"boolean"===typeof e.canDrag?e.canDrag:"function"!==typeof e.canDrag||e.canDrag(t)}isDragging(e,t){const n=this.spec,r=this.monitor,{isDragging:o}=n;return o?o(r):t===e.getSourceId()}endDrag(){const e=this.spec,t=this.monitor,n=this.connector,{end:r}=e;r&&r(t.getItem(),t),n.reconnect()}constructor(e,t,n){this.spec=e,this.monitor=t,this.connector=n}}function uDe(e,t,n){const r=YMe(),o=function(e,t,n){const r=(0,W.useMemo)((()=>new lDe(e,t,n)),[t,n]);return(0,W.useEffect)((()=>{r.spec=e}),[e]),r}(e,t,n),a=function(e){return(0,W.useMemo)((()=>{const t=e.type;return UMe(null!=t,"spec.type must be defined"),t}),[e])}(e);_Me((function(){if(null!=a){const[e,i]=function(e,t,n){const r=n.getRegistry(),o=r.addSource(e,t);return[o,()=>r.removeSource(o)]}(a,o,r);return t.receiveHandlerId(e),n.receiveHandlerId(e),i}}),[r,t,n,o,a])}function cDe(e,t){const n=zMe(e,t);UMe(!n.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const r=function(){const e=YMe();return(0,W.useMemo)((()=>new sDe(e)),[e])}(),o=function(e,t){const n=YMe(),r=(0,W.useMemo)((()=>new oDe(n.getBackend())),[n]);return _Me((()=>(r.dragSourceOptions=e||null,r.reconnect(),()=>r.disconnectDragSource())),[r,e]),_Me((()=>(r.dragPreviewOptions=t||null,r.reconnect(),()=>r.disconnectDragPreview())),[r,t]),r}(n.options,n.previewOptions);return uDe(n,r,o),[LMe(n.collect,r,o),nDe(o),rDe(o)]}const dDe=(0,W.createContext)({});function pDe(e){const t=(0,W.useRef)(null);return null===t.current&&(t.current=e()),t.current}const hDe="undefined"!==typeof window,fDe=hDe?W.useLayoutEffect:W.useEffect,mDe=(0,W.createContext)(null);function gDe(e){return"object"===typeof e&&null!==e}function yDe(e){return gDe(e)&&"offsetHeight"in e}const vDe=(0,W.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class bDe extends W.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=t.offsetParent,n=yDe(e)&&e.offsetWidth||0,r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft,r.right=n-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function xDe(e){let{children:t,isPresent:n,anchorX:r}=e;const o=(0,W.useId)(),a=(0,W.useRef)(null),i=(0,W.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:s}=(0,W.useContext)(vDe);return(0,W.useInsertionEffect)((()=>{const{width:e,height:t,top:l,left:u,right:c}=i.current;if(n||!a.current||!e||!t)return;const d="left"===r?`left: ${u}`:`right: ${c}`;a.current.dataset.motionPopId=o;const p=document.createElement("style");return s&&(p.nonce=s),document.head.appendChild(p),p.sheet&&p.sheet.insertRule(`\n          [data-motion-pop-id="${o}"] {\n            position: absolute !important;\n            width: ${e}px !important;\n            height: ${t}px !important;\n            ${d}px !important;\n            top: ${l}px !important;\n          }\n        `),()=>{document.head.contains(p)&&document.head.removeChild(p)}}),[n]),(0,sn.jsx)(bDe,{isPresent:n,childRef:a,sizeRef:i,children:W.cloneElement(t,{ref:a})})}const wDe=e=>{let{children:t,initial:n,isPresent:r,onExitComplete:o,custom:a,presenceAffectsLayout:i,mode:s,anchorX:l}=e;const u=pDe(kDe),c=(0,W.useId)();let d=!0,p=(0,W.useMemo)((()=>(d=!1,{id:c,initial:n,isPresent:r,custom:a,onExitComplete:e=>{u.set(e,!0);for(const t of u.values())if(!t)return;o&&o()},register:e=>(u.set(e,!1),()=>u.delete(e))})),[r,u,o]);return i&&d&&(p={...p}),(0,W.useMemo)((()=>{u.forEach(((e,t)=>u.set(t,!1)))}),[r]),W.useEffect((()=>{!r&&!u.size&&o&&o()}),[r]),"popLayout"===s&&(t=(0,sn.jsx)(xDe,{isPresent:r,anchorX:l,children:t})),(0,sn.jsx)(mDe.Provider,{value:p,children:t})};function kDe(){return new Map}function SDe(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=(0,W.useContext)(mDe);if(null===t)return[!0,null];const{isPresent:n,onExitComplete:r,register:o}=t,a=(0,W.useId)();(0,W.useEffect)((()=>{if(e)return o(a)}),[e]);const i=(0,W.useCallback)((()=>e&&r&&r(a)),[a,r,e]);return!n&&r?[!1,i]:[!0]}const ADe=e=>e.key||"";function CDe(e){const t=[];return W.Children.forEach(e,(e=>{(0,W.isValidElement)(e)&&t.push(e)})),t}const TDe=e=>{let{children:t,custom:n,initial:r=!0,onExitComplete:o,presenceAffectsLayout:a=!0,mode:i="sync",propagate:s=!1,anchorX:l="left"}=e;const[u,c]=SDe(s),d=(0,W.useMemo)((()=>CDe(t)),[t]),p=s&&!u?[]:d.map(ADe),h=(0,W.useRef)(!0),f=(0,W.useRef)(d),m=pDe((()=>new Map)),[g,y]=(0,W.useState)(d),[v,b]=(0,W.useState)(d);fDe((()=>{h.current=!1,f.current=d;for(let e=0;e<v.length;e++){const t=ADe(v[e]);p.includes(t)?m.delete(t):!0!==m.get(t)&&m.set(t,!1)}}),[v,p.length,p.join("-")]);const x=[];if(d!==g){let e=[...d];for(let t=0;t<v.length;t++){const n=v[t],r=ADe(n);p.includes(r)||(e.splice(t,0,n),x.push(n))}return"wait"===i&&x.length&&(e=x),b(CDe(e)),y(d),null}const{forceRender:w}=(0,W.useContext)(dDe);return(0,sn.jsx)(sn.Fragment,{children:v.map((e=>{const t=ADe(e),g=!(s&&!u)&&(d===v||p.includes(t));return(0,sn.jsx)(wDe,{isPresent:g,initial:!(h.current&&!r)&&void 0,custom:n,presenceAffectsLayout:a,mode:i,onExitComplete:g?void 0:()=>{if(!m.has(t))return;m.set(t,!0);let e=!0;m.forEach((t=>{t||(e=!1)})),e&&(w?.(),b(f.current),s&&c?.(),o&&o())},anchorX:l,children:e},t)}))})};function IDe(e){if("undefined"===typeof Proxy)return e;const t=new Map;return new Proxy((function(){return e(...arguments)}),{get:(n,r)=>"create"===r?e:(t.has(r)||t.set(r,e(r)),t.get(r))})}function EDe(e){return null!==e&&"object"===typeof e&&"function"===typeof e.start}function NDe(e){const t=[{},{}];return e?.values.forEach(((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()})),t}function ODe(e,t,n,r){if("function"===typeof t){const[o,a]=NDe(r);t=t(void 0!==n?n:e.custom,o,a)}if("string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t){const[o,a]=NDe(r);t=t(void 0!==n?n:e.custom,o,a)}return t}function MDe(e,t,n){const r=e.getProps();return ODe(r,t,void 0!==n?n:r.custom,e)}function DDe(e,t){return e?.[t]??e?.default??e}const RDe=e=>e,PDe={},$De=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],jDe={value:null,addProjectionMetrics:null};function _De(e,t){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,i=$De.reduce(((e,n)=>(e[n]=function(e,t){let n=new Set,r=new Set,o=!1,a=!1;const i=new WeakSet;let s={delta:0,timestamp:0,isProcessing:!1},l=0;function u(t){i.has(t)&&(c.schedule(t),e()),l++,t(s)}const c={schedule:function(e){const t=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&o?n:r;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&i.add(e),t.has(e)||t.add(e),e},cancel:e=>{r.delete(e),i.delete(e)},process:e=>{s=e,o?a=!0:(o=!0,[n,r]=[r,n],n.forEach(u),t&&jDe.value&&jDe.value.frameloop[t].push(l),l=0,n.clear(),o=!1,a&&(a=!1,c.process(e)))}};return c}(a,t?n:void 0),e)),{}),{setup:s,read:l,resolveKeyframes:u,preUpdate:c,update:d,preRender:p,render:h,postRender:f}=i,m=()=>{const a=PDe.useManualTiming?o.timestamp:performance.now();n=!1,PDe.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(a-o.timestamp,40),1)),o.timestamp=a,o.isProcessing=!0,s.process(o),l.process(o),u.process(o),c.process(o),d.process(o),p.process(o),h.process(o),f.process(o),o.isProcessing=!1,n&&t&&(r=!1,e(m))},g=$De.reduce(((t,a)=>{const s=i[a];return t[a]=function(t){let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(n=!0,r=!0,o.isProcessing||e(m)),s.schedule(t,a,i)},t}),{});return{schedule:g,cancel:e=>{for(let t=0;t<$De.length;t++)i[$De[t]].cancel(e)},state:o,steps:i}}const{schedule:FDe,cancel:LDe,state:zDe,steps:BDe}=_De("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:RDe,!0),WDe=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],VDe=(()=>new Set(WDe))(),UDe=new Set(["width","height","top","left","right","bottom",...WDe]);function HDe(e,t){-1===e.indexOf(t)&&e.push(t)}function GDe(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class qDe{constructor(){this.subscriptions=[]}add(e){return HDe(this.subscriptions,e),()=>GDe(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let o=0;o<r;o++){const r=this.subscriptions[o];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function KDe(e,t){return t?e*(1e3/t):0}let XDe;function YDe(){XDe=void 0}const QDe={now:()=>(void 0===XDe&&QDe.set(zDe.isProcessing||PDe.useManualTiming?zDe.timestamp:performance.now()),XDe),set:e=>{XDe=e,queueMicrotask(YDe)}},ZDe={current:void 0};class JDe{constructor(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.canTrackVelocity=null,this.events={},this.updateAndNotify=function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const r=QDe.now();if(t.updatedAt!==r&&t.setPrevFrameValue(),t.prev=t.current,t.setCurrent(e),t.current!==t.prev&&(t.events.change?.notify(t.current),t.dependents))for(const o of t.dependents)o.dirty();n&&t.events.renderRequest?.notify(t.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){var t;this.current=e,this.updatedAt=QDe.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=(t=this.current,!isNaN(parseFloat(t))))}setPrevFrameValue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.current;this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new qDe);const n=this.events[e].add(t);return"change"===e?()=>{n(),FDe.read((()=>{this.events.change.getSize()||this.stop()}))}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return ZDe.current&&ZDe.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=QDe.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return KDe(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise((t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()})).then((()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()}))}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function eRe(e,t){return new JDe(e,t)}const tRe=e=>Array.isArray(e);function nRe(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,eRe(n))}const rRe=e=>Boolean(e&&e.getVelocity);function oRe(e,t){const n=e.getValue("willChange");if(r=n,Boolean(rRe(r)&&r.add))return n.add(t);if(!n&&PDe.WillChange){const n=new PDe.WillChange("auto");e.addValue("willChange",n),n.add(t)}var r}const aRe=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),iRe="data-"+aRe("framerAppearId");function sRe(e){return e.props[iRe]}const lRe=(e,t)=>n=>t(e(n)),uRe=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(lRe)},cRe=(e,t,n)=>n>t?t:n<e?e:n,dRe=e=>1e3*e,pRe=e=>e/1e3,hRe={layout:0,mainThread:0,waapi:0};const fRe=e=>t=>"string"===typeof t&&t.startsWith(e),mRe=fRe("--"),gRe=fRe("var(--"),yRe=e=>!!gRe(e)&&vRe.test(e.split("/*")[0].trim()),vRe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,bRe={test:e=>"number"===typeof e,parse:parseFloat,transform:e=>e},xRe={...bRe,transform:e=>cRe(0,1,e)},wRe={...bRe,default:1},kRe=e=>Math.round(1e5*e)/1e5,SRe=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;const ARe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,CRe=(e,t)=>n=>Boolean("string"===typeof n&&ARe.test(n)&&n.startsWith(e)||t&&!function(e){return null==e}(n)&&Object.prototype.hasOwnProperty.call(n,t)),TRe=(e,t,n)=>r=>{if("string"!==typeof r)return r;const[o,a,i,s]=r.match(SRe);return{[e]:parseFloat(o),[t]:parseFloat(a),[n]:parseFloat(i),alpha:void 0!==s?parseFloat(s):1}},IRe={...bRe,transform:e=>Math.round((e=>cRe(0,255,e))(e))},ERe={test:CRe("rgb","red"),parse:TRe("red","green","blue"),transform:e=>{let{red:t,green:n,blue:r,alpha:o=1}=e;return"rgba("+IRe.transform(t)+", "+IRe.transform(n)+", "+IRe.transform(r)+", "+kRe(xRe.transform(o))+")"}};const NRe={test:CRe("#"),parse:function(e){let t="",n="",r="",o="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),o=e.substring(4,5),t+=t,n+=n,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}},transform:ERe.transform},ORe=e=>({test:t=>"string"===typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),MRe=ORe("deg"),DRe=ORe("%"),RRe=ORe("px"),PRe=ORe("vh"),$Re=ORe("vw"),jRe=(()=>({...DRe,parse:e=>DRe.parse(e)/100,transform:e=>DRe.transform(100*e)}))(),_Re={test:CRe("hsl","hue"),parse:TRe("hue","saturation","lightness"),transform:e=>{let{hue:t,saturation:n,lightness:r,alpha:o=1}=e;return"hsla("+Math.round(t)+", "+DRe.transform(kRe(n))+", "+DRe.transform(kRe(r))+", "+kRe(xRe.transform(o))+")"}},FRe={test:e=>ERe.test(e)||NRe.test(e)||_Re.test(e),parse:e=>ERe.test(e)?ERe.parse(e):_Re.test(e)?_Re.parse(e):NRe.parse(e),transform:e=>"string"===typeof e?e:e.hasOwnProperty("red")?ERe.transform(e):_Re.transform(e)},LRe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;const zRe="number",BRe="color",WRe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function VRe(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},o=[];let a=0;const i=t.replace(WRe,(e=>(FRe.test(e)?(r.color.push(a),o.push(BRe),n.push(FRe.parse(e))):e.startsWith("var(")?(r.var.push(a),o.push("var"),n.push(e)):(r.number.push(a),o.push(zRe),n.push(parseFloat(e))),++a,"${}"))).split("${}");return{values:n,split:i,indexes:r,types:o}}function URe(e){return VRe(e).values}function HRe(e){const{split:t,types:n}=VRe(e),r=t.length;return e=>{let o="";for(let a=0;a<r;a++)if(o+=t[a],void 0!==e[a]){const t=n[a];o+=t===zRe?kRe(e[a]):t===BRe?FRe.transform(e[a]):e[a]}return o}}const GRe=e=>"number"===typeof e?0:e;const qRe={test:function(e){return isNaN(e)&&"string"===typeof e&&(e.match(SRe)?.length||0)+(e.match(LRe)?.length||0)>0},parse:URe,createTransformer:HRe,getAnimatableNone:function(e){const t=URe(e);return HRe(e)(t.map(GRe))}};function KRe(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function XRe(e,t){return n=>n>0?t:e}const YRe=(e,t,n)=>e+(t-e)*n,QRe=(e,t,n)=>{const r=e*e,o=n*(t*t-r)+r;return o<0?0:Math.sqrt(o)},ZRe=[NRe,ERe,_Re];function JRe(e){const t=(n=e,ZRe.find((e=>e.test(n))));var n;if(Boolean(t),!Boolean(t))return!1;let r=t.parse(e);return t===_Re&&(r=function(e){let{hue:t,saturation:n,lightness:r,alpha:o}=e;t/=360,n/=100,r/=100;let a=0,i=0,s=0;if(n){const e=r<.5?r*(1+n):r+n-r*n,o=2*r-e;a=KRe(o,e,t+1/3),i=KRe(o,e,t),s=KRe(o,e,t-1/3)}else a=i=s=r;return{red:Math.round(255*a),green:Math.round(255*i),blue:Math.round(255*s),alpha:o}}(r)),r}const ePe=(e,t)=>{const n=JRe(e),r=JRe(t);if(!n||!r)return XRe(e,t);const o={...n};return e=>(o.red=QRe(n.red,r.red,e),o.green=QRe(n.green,r.green,e),o.blue=QRe(n.blue,r.blue,e),o.alpha=YRe(n.alpha,r.alpha,e),ERe.transform(o))},tPe=new Set(["none","hidden"]);function nPe(e,t){return n=>YRe(e,t,n)}function rPe(e){return"number"===typeof e?nPe:"string"===typeof e?yRe(e)?XRe:FRe.test(e)?ePe:iPe:Array.isArray(e)?oPe:"object"===typeof e?FRe.test(e)?ePe:aPe:XRe}function oPe(e,t){const n=[...e],r=n.length,o=e.map(((e,n)=>rPe(e)(e,t[n])));return e=>{for(let t=0;t<r;t++)n[t]=o[t](e);return n}}function aPe(e,t){const n={...e,...t},r={};for(const o in n)void 0!==e[o]&&void 0!==t[o]&&(r[o]=rPe(e[o])(e[o],t[o]));return e=>{for(const t in r)n[t]=r[t](e);return n}}const iPe=(e,t)=>{const n=qRe.createTransformer(t),r=VRe(e),o=VRe(t);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?tPe.has(e)&&!o.values.length||tPe.has(t)&&!r.values.length?function(e,t){return tPe.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}(e,t):uRe(oPe(function(e,t){const n=[],r={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const a=t.types[o],i=e.indexes[a][r[a]],s=e.values[i]??0;n[o]=s,r[a]++}return n}(r,o),o.values),n):XRe(e,t)};function sPe(e,t,n){if("number"===typeof e&&"number"===typeof t&&"number"===typeof n)return YRe(e,t,n);return rPe(e)(e,t)}const lPe=e=>{const t=t=>{let{timestamp:n}=t;return e(n)};return{start:function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return FDe.update(t,e)},stop:()=>LDe(t),now:()=>zDe.isProcessing?zDe.timestamp:QDe.now()}},uPe=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r="";const o=Math.max(Math.round(t/n),2);for(let a=0;a<o;a++)r+=Math.round(1e4*e(a/(o-1)))/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},cPe=2e4;function dPe(e){let t=0;let n=e.next(t);for(;!n.done&&t<cPe;)t+=50,n=e.next(t);return t>=cPe?1/0:t}function pPe(e,t,n){const r=Math.max(t-5,0);return KDe(n-e(r),t-r)}const hPe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},fPe=.001;function mPe(e){let t,n,{duration:r=hPe.duration,bounce:o=hPe.bounce,velocity:a=hPe.velocity,mass:i=hPe.mass}=e;dRe(hPe.maxDuration);let s=1-o;s=cRe(hPe.minDamping,hPe.maxDamping,s),r=cRe(hPe.minDuration,hPe.maxDuration,pRe(r)),s<1?(t=e=>{const t=e*s,n=t*r,o=t-a,i=yPe(e,s),l=Math.exp(-n);return fPe-o/i*l},n=e=>{const n=e*s*r,o=n*a+a,i=Math.pow(s,2)*Math.pow(e,2)*r,l=Math.exp(-n),u=yPe(Math.pow(e,2),s);return(-t(e)+fPe>0?-1:1)*((o-i)*l)/u}):(t=e=>Math.exp(-e*r)*((e-a)*r+1)-.001,n=e=>Math.exp(-e*r)*(r*r*(a-e)));const l=function(e,t,n){let r=n;for(let o=1;o<gPe;o++)r-=e(r)/t(r);return r}(t,n,5/r);if(r=dRe(r),isNaN(l))return{stiffness:hPe.stiffness,damping:hPe.damping,duration:r};{const e=Math.pow(l,2)*i;return{stiffness:e,damping:2*s*Math.sqrt(i*e),duration:r}}}const gPe=12;function yPe(e,t){return e*Math.sqrt(1-t*t)}const vPe=["duration","bounce"],bPe=["stiffness","damping","mass"];function xPe(e,t){return t.some((t=>void 0!==e[t]))}function wPe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hPe.visualDuration,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:hPe.bounce;const n="object"!==typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:o}=n;const a=n.keyframes[0],i=n.keyframes[n.keyframes.length-1],s={done:!1,value:a},{stiffness:l,damping:u,mass:c,duration:d,velocity:p,isResolvedFromDuration:h}=function(e){let t={velocity:hPe.velocity,stiffness:hPe.stiffness,damping:hPe.damping,mass:hPe.mass,isResolvedFromDuration:!1,...e};if(!xPe(e,bPe)&&xPe(e,vPe))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(1.2*n),o=r*r,a=2*cRe(.05,1,1-(e.bounce||0))*Math.sqrt(o);t={...t,mass:hPe.mass,stiffness:o,damping:a}}else{const n=mPe(e);t={...t,...n,mass:hPe.mass},t.isResolvedFromDuration=!0}return t}({...n,velocity:-pRe(n.velocity||0)}),f=p||0,m=u/(2*Math.sqrt(l*c)),g=i-a,y=pRe(Math.sqrt(l/c)),v=Math.abs(g)<5;let b;if(r||(r=v?hPe.restSpeed.granular:hPe.restSpeed.default),o||(o=v?hPe.restDelta.granular:hPe.restDelta.default),m<1){const e=yPe(y,m);b=t=>{const n=Math.exp(-m*y*t);return i-n*((f+m*y*g)/e*Math.sin(e*t)+g*Math.cos(e*t))}}else if(1===m)b=e=>i-Math.exp(-y*e)*(g+(f+y*g)*e);else{const e=y*Math.sqrt(m*m-1);b=t=>{const n=Math.exp(-m*y*t),r=Math.min(e*t,300);return i-n*((f+m*y*g)*Math.sinh(r)+e*g*Math.cosh(r))/e}}const x={calculatedDuration:h&&d||null,next:e=>{const t=b(e);if(h)s.done=e>=d;else{let n=0===e?f:0;m<1&&(n=0===e?dRe(f):pPe(b,e,t));const a=Math.abs(n)<=r,l=Math.abs(i-t)<=o;s.done=a&&l}return s.value=s.done?i:t,s},toString:()=>{const e=Math.min(dPe(x),cPe),t=uPe((t=>x.next(e*t).value),e,30);return e+"ms "+t},toTransition:()=>{}};return x}function kPe(e){let{keyframes:t,velocity:n=0,power:r=.8,timeConstant:o=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:s,min:l,max:u,restDelta:c=.5,restSpeed:d}=e;const p=t[0],h={done:!1,value:p},f=e=>void 0===l?u:void 0===u||Math.abs(l-e)<Math.abs(u-e)?l:u;let m=r*n;const g=p+m,y=void 0===s?g:s(g);y!==g&&(m=y-p);const v=e=>-m*Math.exp(-e/o),b=e=>y+v(e),x=e=>{const t=v(e),n=b(e);h.done=Math.abs(t)<=c,h.value=h.done?y:n};let w,k;const S=e=>{var t;(t=h.value,void 0!==l&&t<l||void 0!==u&&t>u)&&(w=e,k=wPe({keyframes:[h.value,f(h.value)],velocity:pPe(b,e,h.value),damping:a,stiffness:i,restDelta:c,restSpeed:d}))};return S(0),{calculatedDuration:null,next:e=>{let t=!1;return k||void 0!==w||(t=!0,x(e),S(e)),void 0!==w&&e>=w?k.next(e-w):(!t&&x(e),h)}}}wPe.applyToOptions=e=>{const t=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;const n=(arguments.length>2?arguments[2]:void 0)({...e,keyframes:[0,t]}),r=Math.min(dPe(n),cPe);return{type:"keyframes",ease:e=>n.next(r*e).value/t,duration:pRe(r)}}(e,100,wPe);return e.ease=t.ease,e.duration=dRe(t.duration),e.type="keyframes",e};const SPe=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function APe(e,t,n,r){if(e===t&&n===r)return RDe;const o=t=>function(e,t,n,r,o){let a,i,s=0;do{i=t+(n-t)/2,a=SPe(i,r,o)-e,a>0?n=i:t=i}while(Math.abs(a)>1e-7&&++s<12);return i}(t,0,1,e,n);return e=>0===e||1===e?e:SPe(o(e),t,r)}const CPe=APe(.42,0,1,1),TPe=APe(0,0,.58,1),IPe=APe(.42,0,.58,1),EPe=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,NPe=e=>t=>1-e(1-t),OPe=APe(.33,1.53,.69,.99),MPe=NPe(OPe),DPe=EPe(MPe),RPe=e=>(e*=2)<1?.5*MPe(e):.5*(2-Math.pow(2,-10*(e-1))),PPe=e=>1-Math.sin(Math.acos(e)),$Pe=NPe(PPe),jPe=EPe(PPe),_Pe=e=>Array.isArray(e)&&"number"===typeof e[0],FPe={linear:RDe,easeIn:CPe,easeInOut:IPe,easeOut:TPe,circIn:PPe,circInOut:jPe,circOut:$Pe,backIn:MPe,backInOut:DPe,backOut:OPe,anticipate:RPe},LPe=e=>{if(_Pe(e)){e.length;const[t,n,r,o]=e;return APe(t,n,r,o)}return"string"===typeof e?FPe[e]:e},zPe=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r};function BPe(e,t){let{clamp:n=!0,ease:r,mixer:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=e.length;if(t.length,1===a)return()=>t[0];if(2===a&&t[0]===t[1])return()=>t[1];const i=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const s=function(e,t,n){const r=[],o=n||PDe.mix||sPe,a=e.length-1;for(let i=0;i<a;i++){let n=o(e[i],e[i+1]);if(t){const e=Array.isArray(t)?t[i]||RDe:t;n=uRe(e,n)}r.push(n)}return r}(t,r,o),l=s.length,u=n=>{if(i&&n<e[0])return t[0];let r=0;if(l>1)for(;r<e.length-2&&!(n<e[r+1]);r++);const o=zPe(e[r],e[r+1],n);return s[r](o)};return n?t=>u(cRe(e[0],e[a-1],t)):u}function WPe(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const o=zPe(0,t,r);e.push(YRe(n,1,o))}}(t,e.length-1),t}function VPe(e){let{duration:t=300,keyframes:n,times:r,ease:o="easeInOut"}=e;const a=(e=>Array.isArray(e)&&"number"!==typeof e[0])(o)?o.map(LPe):LPe(o),i={done:!1,value:n[0]},s=function(e,t){return e.map((e=>e*t))}(r&&r.length===n.length?r:WPe(n),t),l=BPe(s,n,{ease:Array.isArray(a)?a:(u=n,c=a,u.map((()=>c||IPe)).splice(0,u.length-1))});var u,c;return{calculatedDuration:t,next:e=>(i.value=l(e),i.done=e>=t,i)}}const UPe=e=>null!==e;function HPe(e,t,n){let{repeat:r,repeatType:o="loop"}=t,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const i=e.filter(UPe),s=a<0||r&&"loop"!==o&&r%2===1?0:i.length-1;return s&&void 0!==n?n:i[s]}const GPe={decay:kPe,inertia:kPe,tween:VPe,keyframes:VPe,spring:wPe};function qPe(e){"string"===typeof e.type&&(e.type=GPe[e.type])}class KPe{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise((e=>{this.resolve=e}))}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const XPe=e=>e/100;class YPe extends KPe{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:e}=this.options;e&&e.updatedAt!==QDe.now()&&this.tick(QDe.now()),this.isStopped=!0,"idle"!==this.state&&(this.teardown(),this.options.onStop?.())},hRe.mainThread++,this.options=e,this.initAnimation(),this.play(),!1===e.autoplay&&this.pause()}initAnimation(){const{options:e}=this;qPe(e);const{type:t=VPe,repeat:n=0,repeatDelay:r=0,repeatType:o,velocity:a=0}=e;let{keyframes:i}=e;const s=t||VPe;s!==VPe&&"number"!==typeof i[0]&&(this.mixKeyframes=uRe(XPe,sPe(i[0],i[1])),i=[0,100]);const l=s({...e,keyframes:i});"mirror"===o&&(this.mirroredGenerator=s({...e,keyframes:[...i].reverse(),velocity:-a})),null===l.calculatedDuration&&(l.calculatedDuration=dPe(l));const{calculatedDuration:u}=l;this.calculatedDuration=u,this.resolvedDuration=u+r,this.totalDuration=this.resolvedDuration*(n+1)-r,this.generator=l}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=t}tick(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{generator:n,totalDuration:r,mixKeyframes:o,mirroredGenerator:a,resolvedDuration:i,calculatedDuration:s}=this;if(null===this.startTime)return n.next(0);const{delay:l=0,keyframes:u,repeat:c,repeatType:d,repeatDelay:p,type:h,onUpdate:f,finalKeyframe:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const g=this.currentTime-l*(this.playbackSpeed>=0?1:-1),y=this.playbackSpeed>=0?g<0:g>r;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=r);let v=this.currentTime,b=n;if(c){const e=Math.min(this.currentTime,r)/i;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,c+1);Boolean(t%2)&&("reverse"===d?(n=1-n,p&&(n-=p/i)):"mirror"===d&&(b=a)),v=cRe(0,1,n)*i}const x=y?{done:!1,value:u[0]}:b.next(v);o&&(x.value=o(x.value));let{done:w}=x;y||null===s||(w=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const k=null===this.holdTime&&("finished"===this.state||"running"===this.state&&w);return k&&h!==kPe&&(x.value=HPe(u,this.options,m,this.speed)),f&&f(x.value),k&&this.finish(),x}then(e,t){return this.finished.then(e,t)}get duration(){return pRe(this.calculatedDuration)}get time(){return pRe(this.currentTime)}set time(e){e=dRe(e),this.currentTime=e,null===this.startTime||null!==this.holdTime||0===this.playbackSpeed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(QDe.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=pRe(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=lPe,startTime:t}=this.options;this.driver||(this.driver=e((e=>this.tick(e)))),this.options.onPlay?.();const n=this.driver.now();"finished"===this.state?(this.updateFinished(),this.startTime=n):null!==this.holdTime?this.startTime=n-this.holdTime:this.startTime||(this.startTime=t??n),"finished"===this.state&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(QDe.now()),this.holdTime=this.currentTime}complete(){"running"!==this.state&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null,hRe.mainThread--}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}const QPe=e=>180*e/Math.PI,ZPe=e=>{const t=QPe(Math.atan2(e[1],e[0]));return e$e(t)},JPe={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:ZPe,rotateZ:ZPe,skewX:e=>QPe(Math.atan(e[1])),skewY:e=>QPe(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},e$e=e=>((e%=360)<0&&(e+=360),e),t$e=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),n$e=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),r$e={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:t$e,scaleY:n$e,scale:e=>(t$e(e)+n$e(e))/2,rotateX:e=>e$e(QPe(Math.atan2(e[6],e[5]))),rotateY:e=>e$e(QPe(Math.atan2(-e[2],e[0]))),rotateZ:ZPe,rotate:ZPe,skewX:e=>QPe(Math.atan(e[4])),skewY:e=>QPe(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function o$e(e){return e.includes("scale")?1:0}function a$e(e,t){if(!e||"none"===e)return o$e(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(n)r=r$e,o=n;else{const t=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=JPe,o=t}if(!o)return o$e(t);const a=r[t],i=o[1].split(",").map(i$e);return"function"===typeof a?a(i):i[a]}function i$e(e){return parseFloat(e.trim())}const s$e=e=>e===bRe||e===RRe,l$e=new Set(["x","y","z"]),u$e=WDe.filter((e=>!l$e.has(e)));const c$e={width:(e,t)=>{let{x:n}=e,{paddingLeft:r="0",paddingRight:o="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(o)},height:(e,t)=>{let{y:n}=e,{paddingTop:r="0",paddingBottom:o="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(o)},top:(e,t)=>{let{top:n}=t;return parseFloat(n)},left:(e,t)=>{let{left:n}=t;return parseFloat(n)},bottom:(e,t)=>{let{y:n}=e,{top:r}=t;return parseFloat(r)+(n.max-n.min)},right:(e,t)=>{let{x:n}=e,{left:r}=t;return parseFloat(r)+(n.max-n.min)},x:(e,t)=>{let{transform:n}=t;return a$e(n,"x")},y:(e,t)=>{let{transform:n}=t;return a$e(n,"y")}};c$e.translateX=c$e.x,c$e.translateY=c$e.y;const d$e=new Set;let p$e=!1,h$e=!1,f$e=!1;function m$e(){if(h$e){const e=Array.from(d$e).filter((e=>e.needsMeasurement)),t=new Set(e.map((e=>e.element))),n=new Map;t.forEach((e=>{const t=function(e){const t=[];return u$e.forEach((n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),t}(e);t.length&&(n.set(e,t),e.render())})),e.forEach((e=>e.measureInitialState())),t.forEach((e=>{e.render();const t=n.get(e);t&&t.forEach((t=>{let[n,r]=t;e.getValue(n)?.set(r)}))})),e.forEach((e=>e.measureEndState())),e.forEach((e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)}))}h$e=!1,p$e=!1,d$e.forEach((e=>e.complete(f$e))),d$e.clear()}function g$e(){d$e.forEach((e=>{e.readKeyframes(),e.needsMeasurement&&(h$e=!0)}))}class y$e{constructor(e,t,n,r,o){let a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=r,this.element=o,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(d$e.add(this),p$e||(p$e=!0,FDe.read(g$e),FDe.resolveKeyframes(m$e))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:r}=this;if(null===e[0]){const o=r?.get(),a=e[e.length-1];if(void 0!==o)e[0]=o;else if(n&&t){const r=n.readValue(t,a);void 0!==r&&null!==r&&(e[0]=r)}void 0===e[0]&&(e[0]=a),r&&void 0===o&&r.set(e[0])}!function(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),d$e.delete(this)}cancel(){"scheduled"===this.state&&(d$e.delete(this),this.state="pending")}resume(){"pending"===this.state&&this.scheduleResolve()}}function v$e(e){let t;return()=>(void 0===t&&(t=e()),t)}const b$e=v$e((()=>void 0!==window.ScrollTimeline)),x$e={};function w$e(e,t){const n=v$e(e);return()=>x$e[t]??n()}const k$e=w$e((()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(ZBe){return!1}return!0}),"linearEasing"),S$e=e=>{let[t,n,r,o]=e;return`cubic-bezier(${t}, ${n}, ${r}, ${o})`},A$e={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:S$e([0,.65,.55,1]),circOut:S$e([.55,0,1,.45]),backIn:S$e([.31,.01,.66,-.59]),backOut:S$e([.33,1.53,.69,.99])};function C$e(e,t){return e?"function"===typeof e?k$e()?uPe(e,t):"ease-out":_Pe(e)?S$e(e):Array.isArray(e)?e.map((e=>C$e(e,t)||A$e.easeOut)):A$e[e]:void 0}function T$e(e,t,n){let{delay:r=0,duration:o=300,repeat:a=0,repeatType:i="loop",ease:s="easeOut",times:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;const c={[t]:n};l&&(c.offset=l);const d=C$e(s,o);Array.isArray(d)&&(c.easing=d),jDe.value&&hRe.waapi++;const p={delay:r,duration:o,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:a+1,direction:"reverse"===i?"alternate":"normal"};u&&(p.pseudoElement=u);const h=e.animate(c,p);return jDe.value&&h.finished.finally((()=>{hRe.waapi--})),h}function I$e(e){return"function"===typeof e&&"applyToOptions"in e}class E$e extends KPe{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:n,keyframes:r,pseudoElement:o,allowFlatten:a=!1,finalKeyframe:i,onComplete:s}=e;this.isPseudoElement=Boolean(o),this.allowFlatten=a,this.options=e,e.type;const l=function(e){let{type:t,...n}=e;return I$e(t)&&k$e()?t.applyToOptions(n):(n.duration??(n.duration=300),n.ease??(n.ease="easeOut"),n)}(e);this.animation=T$e(t,n,r,l,o),!1===l.autoplay&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const e=HPe(r,this.options,i,this.speed);this.updateMotionValue?this.updateMotionValue(e):function(e,t,n){(e=>e.startsWith("--"))(t)?e.style.setProperty(t,n):e.style[t]=n}(t,n,e),this.animation.cancel()}s?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),"finished"===this.state&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch(ZBe){}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;"idle"!==e&&"finished"!==e&&(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return pRe(Number(e))}get time(){return pRe(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=dRe(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return null!==this.finishedTime?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline(e){let{timeline:t,observe:n}=e;return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&b$e()?(this.animation.timeline=t,RDe):n(this)}}const N$e={anticipate:RPe,backInOut:DPe,circInOut:jPe};function O$e(e){"string"===typeof e.ease&&e.ease in N$e&&(e.ease=N$e[e.ease])}class M$e extends E$e{constructor(e){O$e(e),qPe(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:n,onComplete:r,element:o,...a}=this.options;if(!t)return;if(void 0!==e)return void t.set(e);const i=new YPe({...a,autoplay:!1}),s=dRe(this.finishedTime??this.time);t.setWithVelocity(i.sample(s-10).value,i.sample(s).value,10),i.stop()}}const D$e=(e,t)=>"zIndex"!==t&&(!("number"!==typeof e&&!Array.isArray(e))||!("string"!==typeof e||!qRe.test(e)&&"0"!==e||e.startsWith("url(")));const R$e=new Set(["opacity","clipPath","filter","transform"]),P$e=v$e((()=>Object.hasOwnProperty.call(Element.prototype,"animate")));class $$e extends KPe{constructor(e){let{autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:o=0,repeatDelay:a=0,repeatType:i="loop",keyframes:s,name:l,motionValue:u,element:c,...d}=e;super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=QDe.now();const p={autoplay:t,delay:n,type:r,repeat:o,repeatDelay:a,repeatType:i,name:l,motionValue:u,element:c,...d},h=c?.KeyframeResolver||y$e;this.keyframeResolver=new h(s,((e,t,n)=>this.onKeyframesResolved(e,t,p,!n)),l,u,c),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,n,r){this.keyframeResolver=void 0;const{name:o,type:a,velocity:i,delay:s,isHandoff:l,onUpdate:u}=n;this.resolvedAt=QDe.now(),function(e,t,n,r){const o=e[0];if(null===o)return!1;if("display"===t||"visibility"===t)return!0;const a=e[e.length-1],i=D$e(o,t),s=D$e(a,t);return!(!i||!s)&&(function(e){const t=e[0];if(1===e.length)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}(e)||("spring"===n||I$e(n))&&r)}(e,o,a,i)||(!PDe.instantAnimations&&s||u?.(HPe(e,n,t)),e[0]=e[e.length-1],n.duration=0,n.repeat=0);const c={startTime:r?this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt:void 0,finalKeyframe:t,...n,keyframes:e},d=!l&&function(e){const{motionValue:t,name:n,repeatDelay:r,repeatType:o,damping:a,type:i}=e;if(!yDe(t?.owner?.current))return!1;const{onUpdate:s,transformTemplate:l}=t.owner.getProps();return P$e()&&n&&R$e.has(n)&&("transform"!==n||!l)&&!s&&!r&&"mirror"!==o&&0!==a&&"inertia"!==i}(c)?new M$e({...c,element:c.motionValue.owner.current}):new YPe(c);d.finished.then((()=>this.notifyFinished())).catch(RDe),this.pendingTimeline&&(this.stopTimeline=d.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=d}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then((()=>{}))}get animation(){return this._animation||(this.keyframeResolver?.resume(),f$e=!0,g$e(),m$e(),f$e=!1),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const j$e=e=>null!==e;const _$e={type:"spring",stiffness:500,damping:25,restSpeed:10},F$e={type:"keyframes",duration:.8},L$e={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},z$e=(e,t)=>{let{keyframes:n}=t;return n.length>2?F$e:VDe.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:_$e:L$e};const B$e=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0;return i=>{const s=DDe(r,e)||{},l=s.delay||r.delay||0;let{elapsed:u=0}=r;u-=dRe(l);const c={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...s,delay:-u,onUpdate:e=>{t.set(e),s.onUpdate&&s.onUpdate(e)},onComplete:()=>{i(),s.onComplete&&s.onComplete()},name:e,motionValue:t,element:a?void 0:o};(function(e){let{when:t,delay:n,delayChildren:r,staggerChildren:o,staggerDirection:a,repeat:i,repeatType:s,repeatDelay:l,from:u,elapsed:c,...d}=e;return!!Object.keys(d).length})(s)||Object.assign(c,z$e(e,c)),c.duration&&(c.duration=dRe(c.duration)),c.repeatDelay&&(c.repeatDelay=dRe(c.repeatDelay)),void 0!==c.from&&(c.keyframes[0]=c.from);let d=!1;if((!1===c.type||0===c.duration&&!c.repeatDelay)&&(c.duration=0,0===c.delay&&(d=!0)),(PDe.instantAnimations||PDe.skipAnimations)&&(d=!0,c.duration=0,c.delay=0),c.allowFlatten=!s.type&&!s.ease,d&&!a&&void 0!==t.get()){const e=function(e,t,n){let{repeat:r,repeatType:o="loop"}=t;const a=e.filter(j$e),i=r&&"loop"!==o&&r%2===1?0:a.length-1;return i&&void 0!==n?n:a[i]}(c.keyframes,s);if(void 0!==e)return void FDe.update((()=>{c.onUpdate(e),c.onComplete()}))}return s.isSync?new YPe(c):new $$e(c)}};function W$e(e,t){let{protectedKeys:n,needsAnimating:r}=e;const o=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,o}function V$e(e,t){let{delay:n=0,transitionOverride:r,type:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{transition:a=e.getDefaultTransition(),transitionEnd:i,...s}=t;r&&(a=r);const l=[],u=o&&e.animationState&&e.animationState.getState()[o];for(const c in s){const t=e.getValue(c,e.latestValues[c]??null),r=s[c];if(void 0===r||u&&W$e(u,c))continue;const o={delay:n,...DDe(a||{},c)},i=t.get();if(void 0!==i&&!t.isAnimating&&!Array.isArray(r)&&r===i&&!o.velocity)continue;let d=!1;if(window.MotionHandoffAnimation){const t=sRe(e);if(t){const e=window.MotionHandoffAnimation(t,c,FDe);null!==e&&(o.startTime=e,d=!0)}}oRe(e,c),t.start(B$e(c,t,r,e.shouldReduceMotion&&UDe.has(c)?{type:!1}:o,e,d));const p=t.animation;p&&l.push(p)}return i&&Promise.all(l).then((()=>{FDe.update((()=>{i&&function(e,t){const n=MDe(e,t);let{transitionEnd:r={},transition:o={},...a}=n||{};a={...a,...r};for(const s in a)nRe(e,s,(i=a[s],tRe(i)?i[i.length-1]||0:i));var i}(e,i)}))})),l}function U$e(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=MDe(e,t,"exit"===n.type?e.presenceContext?.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(o=n.transitionOverride);const a=r?()=>Promise.all(V$e(e,r,n)):()=>Promise.resolve(),i=e.variantChildren&&e.variantChildren.size?function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:a=0,staggerChildren:i,staggerDirection:s}=o;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=arguments.length>5?arguments[5]:void 0;const i=[],s=(e.variantChildren.size-1)*r,l=1===o?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r}:function(){return s-(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r};return Array.from(e.variantChildren).sort(H$e).forEach(((e,r)=>{e.notify("AnimationStart",t),i.push(U$e(e,t,{...a,delay:n+l(r)}).then((()=>e.notify("AnimationComplete",t))))})),Promise.all(i)}(e,t,a+r,i,s,n)}:()=>Promise.resolve(),{when:s}=o;if(s){const[e,t]="beforeChildren"===s?[a,i]:[i,a];return e().then((()=>t()))}return Promise.all([a(),i(n.delay)])}function H$e(e,t){return e.sortNodePosition(t)}function G$e(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function q$e(e){return"string"===typeof e||Array.isArray(e)}const K$e=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],X$e=["initial",...K$e],Y$e=X$e.length;function Q$e(e){if(!e)return;if(!e.isControllingVariants){const t=e.parent&&Q$e(e.parent)||{};return void 0!==e.props.initial&&(t.initial=e.props.initial),t}const t={};for(let n=0;n<Y$e;n++){const r=X$e[n],o=e.props[r];(q$e(o)||!1===o)&&(t[r]=o)}return t}const Z$e=[...K$e].reverse(),J$e=K$e.length;function eje(e){return t=>Promise.all(t.map((t=>{let{animation:n,options:r}=t;return function(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){const o=t.map((t=>U$e(e,t,r)));n=Promise.all(o)}else if("string"===typeof t)n=U$e(e,t,r);else{const o="function"===typeof t?MDe(e,t,r.custom):t;n=Promise.all(V$e(e,o,r))}return n.then((()=>{e.notify("AnimationComplete",t)}))}(e,n,r)})))}function tje(e){let t=eje(e),n=oje(),r=!0;const o=t=>(n,r)=>{const o=MDe(e,r,"exit"===t?e.presenceContext?.custom:void 0);if(o){const{transition:e,transitionEnd:t,...r}=o;n={...n,...r,...t}}return n};function a(a){const{props:i}=e,s=Q$e(e.parent)||{},l=[],u=new Set;let c={},d=1/0;for(let t=0;t<J$e;t++){const p=Z$e[t],h=n[p],f=void 0!==i[p]?i[p]:s[p],m=q$e(f),g=p===a?h.isActive:null;!1===g&&(d=t);let y=f===s[p]&&f!==i[p]&&m;if(y&&r&&e.manuallyAnimateOnMount&&(y=!1),h.protectedKeys={...c},!h.isActive&&null===g||!f&&!h.prevProp||EDe(f)||"boolean"===typeof f)continue;const v=nje(h.prevProp,f);let b=v||p===a&&h.isActive&&!y&&m||t>d&&m,x=!1;const w=Array.isArray(f)?f:[f];let k=w.reduce(o(p),{});!1===g&&(k={});const{prevResolvedValues:S={}}=h,A={...S,...k},C=t=>{b=!0,u.has(t)&&(x=!0,u.delete(t)),h.needsAnimating[t]=!0;const n=e.getValue(t);n&&(n.liveStyle=!1)};for(const e in A){const t=k[e],n=S[e];if(c.hasOwnProperty(e))continue;let r=!1;r=tRe(t)&&tRe(n)?!G$e(t,n):t!==n,r?void 0!==t&&null!==t?C(e):u.add(e):void 0!==t&&u.has(e)?C(e):h.protectedKeys[e]=!0}h.prevProp=f,h.prevResolvedValues=k,h.isActive&&(c={...c,...k}),r&&e.blockInitialAnimation&&(b=!1);b&&(!(y&&v)||x)&&l.push(...w.map((e=>({animation:e,options:{type:p}}))))}if(u.size){const t={};if("boolean"!==typeof i.initial){const n=MDe(e,Array.isArray(i.initial)?i.initial[0]:i.initial);n&&n.transition&&(t.transition=n.transition)}u.forEach((n=>{const r=e.getBaseTarget(n),o=e.getValue(n);o&&(o.liveStyle=!0),t[n]=r??null})),l.push({animation:t})}let p=Boolean(l.length);return!r||!1!==i.initial&&i.initial!==i.animate||e.manuallyAnimateOnMount||(p=!1),r=!1,p?t(l):Promise.resolve()}return{animateChanges:a,setActive:function(t,r){if(n[t].isActive===r)return Promise.resolve();e.variantChildren?.forEach((e=>e.animationState?.setActive(t,r))),n[t].isActive=r;const o=a(t);for(const e in n)n[e].protectedKeys={};return o},setAnimateFunction:function(n){t=n(e)},getState:()=>n,reset:()=>{n=oje(),r=!0}}}function nje(e,t){return"string"===typeof t?t!==e:!!Array.isArray(t)&&!G$e(t,e)}function rje(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function oje(){return{animate:rje(!0),whileInView:rje(),whileHover:rje(),whileTap:rje(),whileDrag:rje(),whileFocus:rje(),exit:rje()}}class aje{constructor(e){this.isMounted=!1,this.node=e}update(){}}let ije=0;const sje={animation:{Feature:class extends aje{constructor(e){super(e),e.animationState||(e.animationState=tje(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();EDe(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}},exit:{Feature:class extends aje{constructor(){super(...arguments),this.id=ije++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then((()=>{t(this.id)}))}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}}},lje={x:!1,y:!1};function uje(){return lje.x||lje.y}function cje(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const dje=e=>"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary;function pje(e){return{point:{x:e.pageX,y:e.pageY}}}function hje(e,t,n,r){return cje(e,t,(e=>t=>dje(t)&&e(t,pje(t)))(n),r)}function fje(e){let{top:t,left:n,right:r,bottom:o}=e;return{x:{min:n,max:r},y:{min:t,max:o}}}function mje(e){return e.max-e.min}function gje(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=r,e.originPoint=YRe(t.min,t.max,e.origin),e.scale=mje(n)/mje(t),e.translate=YRe(n.min,n.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function yje(e,t,n,r){gje(e.x,t.x,n.x,r?r.originX:void 0),gje(e.y,t.y,n.y,r?r.originY:void 0)}function vje(e,t,n){e.min=n.min+t.min,e.max=e.min+mje(t)}function bje(e,t,n){e.min=t.min-n.min,e.max=e.min+mje(t)}function xje(e,t,n){bje(e.x,t.x,n.x),bje(e.y,t.y,n.y)}const wje=()=>({x:{min:0,max:0},y:{min:0,max:0}});function kje(e){return[e("x"),e("y")]}function Sje(e){return void 0===e||1===e}function Aje(e){let{scale:t,scaleX:n,scaleY:r}=e;return!Sje(t)||!Sje(n)||!Sje(r)}function Cje(e){return Aje(e)||Tje(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Tje(e){return Ije(e.x)||Ije(e.y)}function Ije(e){return e&&"0%"!==e}function Eje(e,t,n){return n+t*(e-n)}function Nje(e,t,n,r,o){return void 0!==o&&(e=Eje(e,o,r)),Eje(e,n,r)+t}function Oje(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;e.min=Nje(e.min,t,n,r,o),e.max=Nje(e.max,t,n,r,o)}function Mje(e,t){let{x:n,y:r}=t;Oje(e.x,n.translate,n.scale,n.originPoint),Oje(e.y,r.translate,r.scale,r.originPoint)}const Dje=.999999999999,Rje=1.0000000000001;function Pje(e,t){e.min=e.min+t,e.max=e.max+t}function $je(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5;Oje(e,t,n,YRe(e.min,e.max,o),r)}function jje(e,t){$je(e.x,t.x,t.scaleX,t.scale,t.originX),$je(e.y,t.y,t.scaleY,t.scale,t.originY)}function _je(e,t){return fje(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const Fje=e=>{let{current:t}=e;return t?t.ownerDocument.defaultView:null};function Lje(e){return e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}const zje=(e,t)=>Math.abs(e-t);class Bje{constructor(e,t){let{transformPagePoint:n,contextWindow:r,dragSnapToOrigin:o=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=Uje(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=zje(e.x,t.x),r=zje(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=3;if(!t&&!n)return;const{point:r}=e,{timestamp:o}=zDe;this.history.push({...r,timestamp:o});const{onStart:a,onMove:i}=this.handlers;t||(a&&a(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),i&&i(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=Wje(t,this.transformPagePoint),FDe.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:o}=this.handlers;if(this.dragSnapToOrigin&&o&&o(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const a=Uje("pointercancel"===e.type?this.lastMoveEventInfo:Wje(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,a),r&&r(e,a)},!dje(e))return;this.dragSnapToOrigin=o,this.handlers=t,this.transformPagePoint=n,this.contextWindow=r||window;const a=Wje(pje(e),this.transformPagePoint),{point:i}=a,{timestamp:s}=zDe;this.history=[{...i,timestamp:s}];const{onSessionStart:l}=t;l&&l(e,Uje(a,this.history)),this.removeListeners=uRe(hje(this.contextWindow,"pointermove",this.handlePointerMove),hje(this.contextWindow,"pointerup",this.handlePointerUp),hje(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),LDe(this.updatePoint)}}function Wje(e,t){return t?{point:t(e.point)}:e}function Vje(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Uje(e,t){let{point:n}=e;return{point:n,delta:Vje(n,Gje(t)),offset:Vje(n,Hje(t)),velocity:qje(t,.1)}}function Hje(e){return e[0]}function Gje(e){return e[e.length-1]}function qje(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const o=Gje(e);for(;n>=0&&(r=e[n],!(o.timestamp-r.timestamp>dRe(t)));)n--;if(!r)return{x:0,y:0};const a=pRe(o.timestamp-r.timestamp);if(0===a)return{x:0,y:0};const i={x:(o.x-r.x)/a,y:(o.y-r.y)/a};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function Kje(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function Xje(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const Yje=.35;function Qje(e,t,n){return{min:Zje(e,t),max:Zje(e,n)}}function Zje(e,t){return"number"===typeof e?e:e[t]||0}const Jje=new WeakMap;class e_e{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=e}start(e){let{snapToCursor:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;const{dragSnapToOrigin:r}=this.getProps();this.panSession=new Bje(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(pje(e).point)},onStart:(e,t)=>{const{drag:n,dragPropagation:r,onDragStart:o}=this.getProps();if(n&&!r&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===(a=n)||"y"===a?lje[a]?null:(lje[a]=!0,()=>{lje[a]=!1}):lje.x||lje.y?null:(lje.x=lje.y=!0,()=>{lje.x=lje.y=!1}),!this.openDragLock))return;var a;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),kje((e=>{let t=this.getAxisMotionValue(e).get()||0;if(DRe.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];if(r){t=mje(r)*(parseFloat(t)/100)}}}this.originPoint[e]=t})),o&&FDe.postRender((()=>o(e,t))),oRe(this.visualElement,"transform");const{animationState:i}=this.visualElement;i&&i.setActive("whileDrag",!0)},onMove:(e,t)=>{const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:o,onDrag:a}=this.getProps();if(!n&&!this.openDragLock)return;const{offset:i}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(i),void(null!==this.currentDirection&&o&&o(this.currentDirection));this.updateAxis("x",t.point,i),this.updateAxis("y",t.point,i),this.visualElement.render(),a&&a(e,t)},onSessionEnd:(e,t)=>this.stop(e,t),resumeAnimation:()=>kje((e=>"paused"===this.getAnimationState(e)&&this.getAxisMotionValue(e).animation?.play()))},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:r,contextWindow:Fje(this.visualElement)})}stop(e,t){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:o}=this.getProps();o&&FDe.postRender((()=>o(e,t)))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!t_e(e,r,this.currentDirection))return;const o=this.getAxisMotionValue(e);let a=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(a=function(e,t,n){let{min:r,max:o}=t;return void 0!==r&&e<r?e=n?YRe(r,e,n.min):Math.max(e,r):void 0!==o&&e>o&&(e=n?YRe(o,e,n.max):Math.min(e,o)),e}(a,this.constraints[e],this.elastic[e])),o.set(a)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,r=this.constraints;e&&Lje(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!e||!n)&&function(e,t){let{top:n,left:r,bottom:o,right:a}=t;return{x:Kje(e.x,r,a),y:Kje(e.y,n,o)}}(n.layoutBox,e),this.elastic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yje;return!1===e?e=0:!0===e&&(e=Yje),{x:Qje(e,"left","right"),y:Qje(e,"top","bottom")}}(t),r!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&kje((e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(n.layoutBox[e],this.constraints[e]))}))}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Lje(e))return!1;const n=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const o=function(e,t,n){const r=_je(e,n),{scroll:o}=t;return o&&(Pje(r.x,o.offset.x),Pje(r.y,o.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let a=function(e,t){return{x:Xje(e.x,t.x),y:Xje(e.y,t.y)}}(r.layout.layoutBox,o);if(t){const e=t(function(e){let{x:t,y:n}=e;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(a));this.hasMutatedConstraints=!!e,e&&(a=fje(e))}return a}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:o,dragSnapToOrigin:a,onDragTransitionEnd:i}=this.getProps(),s=this.constraints||{},l=kje((i=>{if(!t_e(i,t,this.currentDirection))return;let l=s&&s[i]||{};a&&(l={min:0,max:0});const u=r?200:1e6,c=r?40:1e7,d={type:"inertia",velocity:n?e[i]:0,bounceStiffness:u,bounceDamping:c,timeConstant:750,restDelta:1,restSpeed:10,...o,...l};return this.startAxisValueAnimation(i,d)}));return Promise.all(l).then(i)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return oRe(this.visualElement,e),n.start(B$e(e,n,0,t,this.visualElement,!1))}stopAnimation(){kje((e=>this.getAxisMotionValue(e).stop()))}pauseAnimation(){kje((e=>this.getAxisMotionValue(e).animation?.pause()))}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){kje((t=>{const{drag:n}=this.getProps();if(!t_e(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,o=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:a}=r.layout.layoutBox[t];o.set(e[t]-YRe(n,a,.5))}}))}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!Lje(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};kje((e=>{const t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){const n=t.get();r[e]=function(e,t){let n=.5;const r=mje(e),o=mje(t);return o>r?n=zPe(t.min,t.max-r,e.min):r>o&&(n=zPe(e.min,e.max-o,t.min)),cRe(0,1,n)}({min:n,max:n},this.constraints[e])}}));const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),kje((t=>{if(!t_e(t,e,null))return;const n=this.getAxisMotionValue(t),{min:o,max:a}=this.constraints[t];n.set(YRe(o,a,r[t]))}))}addListeners(){if(!this.visualElement.current)return;Jje.set(this.visualElement,this);const e=hje(this.visualElement.current,"pointerdown",(e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)})),t=()=>{const{dragConstraints:e}=this.getProps();Lje(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),FDe.read(t);const o=cje(window,"resize",(()=>this.scalePositionWithinConstraints())),a=n.addEventListener("didUpdate",(e=>{let{delta:t,hasLayoutChanged:n}=e;this.isDragging&&n&&(kje((e=>{const n=this.getAxisMotionValue(e);n&&(this.originPoint[e]+=t[e].translate,n.set(n.get()+t[e].translate))})),this.visualElement.render())}));return()=>{o(),e(),r(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:o=!1,dragElastic:a=Yje,dragMomentum:i=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:o,dragElastic:a,dragMomentum:i}}}function t_e(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}const n_e=e=>(t,n)=>{e&&FDe.postRender((()=>e(t,n)))};const{schedule:r_e,cancel:o_e}=_De(queueMicrotask,!1),a_e=(0,W.createContext)({}),i_e={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function s_e(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const l_e={correct:(e,t)=>{if(!t.target)return e;if("string"===typeof e){if(!RRe.test(e))return e;e=parseFloat(e)}return`${s_e(e,t.target.x)}% ${s_e(e,t.target.y)}%`}},u_e={correct:(e,t)=>{let{treeScale:n,projectionDelta:r}=t;const o=e,a=qRe.parse(e);if(a.length>5)return o;const i=qRe.createTransformer(e),s="number"!==typeof a[0]?1:0,l=r.x.scale*n.x,u=r.y.scale*n.y;a[0+s]/=l,a[1+s]/=u;const c=YRe(l,u,.5);return"number"===typeof a[2+s]&&(a[2+s]/=c),"number"===typeof a[3+s]&&(a[3+s]/=c),i(a)}},c_e={};class d_e extends W.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:o}=e;!function(e){for(const t in e)c_e[t]=e[t],mRe(t)&&(c_e[t].isCSSVariable=!0)}(h_e),o&&(t.group&&t.group.add(o),n&&n.register&&r&&n.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",(()=>{this.safeToRemove()})),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),i_e.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:o}=this.props,{projection:a}=n;return a?(a.isPresent=o,r||e.layoutDependency!==t||void 0===t||e.isPresent!==o?a.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?a.promote():a.relegate()||FDe.postRender((()=>{const e=a.getStack();e&&e.members.length||this.safeToRemove()}))),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),r_e.postRender((()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()})))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function p_e(e){const[t,n]=SDe(),r=(0,W.useContext)(dDe);return(0,sn.jsx)(d_e,{...e,layoutGroup:r,switchLayoutGroup:(0,W.useContext)(a_e),isPresent:t,safeToRemove:n})}const h_e={borderRadius:{...l_e,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:l_e,borderTopRightRadius:l_e,borderBottomLeftRadius:l_e,borderBottomRightRadius:l_e,boxShadow:u_e};function f_e(e){return gDe(e)&&"ownerSVGElement"in e}const m_e=(e,t)=>e.depth-t.depth;class g_e{constructor(){this.children=[],this.isDirty=!1}add(e){HDe(this.children,e),this.isDirty=!0}remove(e){GDe(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(m_e),this.isDirty=!1,this.children.forEach(e)}}function y_e(e,t){const n=QDe.now(),r=o=>{let{timestamp:a}=o;const i=a-n;i>=t&&(LDe(r),e(i-t))};return FDe.setup(r,!0),()=>LDe(r)}function v_e(e){return rRe(e)?e.get():e}const b_e=["TopLeft","TopRight","BottomLeft","BottomRight"],x_e=b_e.length,w_e=e=>"string"===typeof e?parseFloat(e):e,k_e=e=>"number"===typeof e||RRe.test(e);function S_e(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const A_e=T_e(0,.5,$Pe),C_e=T_e(.5,.95,RDe);function T_e(e,t,n){return r=>r<e?0:r>t?1:n(zPe(e,t,r))}function I_e(e,t){e.min=t.min,e.max=t.max}function E_e(e,t){I_e(e.x,t.x),I_e(e.y,t.y)}function N_e(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function O_e(e,t,n,r,o){return e=Eje(e-=t,1/n,r),void 0!==o&&(e=Eje(e,1/o,r)),e}function M_e(e,t,n,r,o){let[a,i,s]=n;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,o=arguments.length>4?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;DRe.test(t)&&(t=parseFloat(t),t=YRe(i.min,i.max,t/100)-i.min);if("number"!==typeof t)return;let s=YRe(a.min,a.max,r);e===a&&(s-=t),e.min=O_e(e.min,t,n,s,o),e.max=O_e(e.max,t,n,s,o)}(e,t[a],t[i],t[s],t.scale,r,o)}const D_e=["x","scaleX","originX"],R_e=["y","scaleY","originY"];function P_e(e,t,n,r){M_e(e.x,t,D_e,n?n.x:void 0,r?r.x:void 0),M_e(e.y,t,R_e,n?n.y:void 0,r?r.y:void 0)}function $_e(e){return 0===e.translate&&1===e.scale}function j_e(e){return $_e(e.x)&&$_e(e.y)}function __e(e,t){return e.min===t.min&&e.max===t.max}function F_e(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function L_e(e,t){return F_e(e.x,t.x)&&F_e(e.y,t.y)}function z_e(e){return mje(e.x)/mje(e.y)}function B_e(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class W_e{constructor(){this.members=[]}add(e){HDe(this.members,e),e.scheduleRender()}remove(e){if(GDe(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex((t=>e===t));if(0===t)return!1;let n;for(let r=t;r>=0;r--){const e=this.members[r];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach((e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()}))}scheduleRender(){this.members.forEach((e=>{e.instance&&e.scheduleRender(!1)}))}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const V_e={nodes:0,calculatedTargetDeltas:0,calculatedProjections:0},U_e=["","X","Y","Z"],H_e={visibility:"hidden"};let G_e=0;function q_e(e,t,n,r){const{latestValues:o}=t;o[e]&&(n[e]=o[e],t.setStaticValue(e,0),r&&(r[e]=0))}function K_e(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=sRe(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:t,layoutId:r}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",FDe,!(t||r))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&K_e(r)}function X_e(e){let{attachResizeListener:t,defaultParent:n,measureScroll:r,checkIsScrollRoot:o,resetTransform:a}=e;return class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n?.();this.id=G_e++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,jDe.value&&(V_e.nodes=V_e.calculatedTargetDeltas=V_e.calculatedProjections=0),this.nodes.forEach(Z_e),this.nodes.forEach(aFe),this.nodes.forEach(iFe),this.nodes.forEach(J_e),jDe.addProjectionMetrics&&jDe.addProjectionMetrics(V_e)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=t?t.root||t:this,this.path=t?[...t.path,t]:[],this.parent=t,this.depth=t?t.depth+1:0;for(let n=0;n<this.path.length;n++)this.path[n].shouldResetTransform=!0;this.root===this&&(this.nodes=new g_e)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new qDe),this.eventHandlers.get(e).add(t)}notifyListeners(e){const t=this.eventHandlers.get(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];t&&t.notify(...r)}hasListeners(e){return this.eventHandlers.has(e)}mount(e){if(this.instance)return;var n;this.isSVG=f_e(e)&&!(f_e(n=e)&&"svg"===n.tagName),this.instance=e;const{layoutId:r,layout:o,visualElement:a}=this.options;if(a&&!a.current&&a.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(o||r)&&(this.isLayoutDirty=!0),t){let n;const r=()=>this.root.updateBlockedByResize=!1;t(e,(()=>{this.root.updateBlockedByResize=!0,n&&n(),n=y_e(r,250),i_e.hasAnimatedSinceResize&&(i_e.hasAnimatedSinceResize=!1,this.nodes.forEach(oFe))}))}r&&this.root.registerSharedNode(r,this),!1!==this.options.animate&&a&&(r||o)&&this.addEventListener("didUpdate",(e=>{let{delta:t,hasLayoutChanged:n,hasRelativeLayoutChanged:r,layout:o}=e;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const i=this.options.transition||a.getDefaultTransition()||pFe,{onLayoutAnimationStart:s,onLayoutAnimationComplete:l}=a.getProps(),u=!this.targetLayout||!L_e(this.targetLayout,o),c=!n&&r;if(this.options.layoutRoot||this.resumeFrom||c||n&&(u||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const e={...DDe(i,"layout"),onPlay:s,onComplete:l};(a.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e),this.setAnimationOrigin(t,c)}else n||oFe(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=o}))}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),LDe(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(sFe),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&K_e(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let o=0;o<this.path.length;o++){const e=this.path[o];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(tFe);this.isUpdating||this.nodes.forEach(nFe),this.isUpdating=!1,this.nodes.forEach(rFe),this.nodes.forEach(Y_e),this.nodes.forEach(Q_e),this.clearAllSnapshots();const e=QDe.now();zDe.delta=cRe(0,1e3/60,e-zDe.timestamp),zDe.timestamp=e,zDe.isProcessing=!0,BDe.update.process(zDe),BDe.preRender.process(zDe),BDe.render.process(zDe),zDe.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,r_e.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(eFe),this.sharedNodes.forEach(lFe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,FDe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){FDe.postRender((()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()}))}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure(),!this.snapshot||mje(this.snapshot.measuredBox.x)||mje(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&this.instance){const t=o(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!a)return;const e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!j_e(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,o=r!==this.prevTransformTemplateValue;e&&this.instance&&(t||Cje(this.latestValues)||o)&&(a(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),mFe((r=n).x),mFe(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:e}=this.options;if(!e)return{x:{min:0,max:0},y:{min:0,max:0}};const t=e.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(yFe))){const{scroll:e}=this.root;e&&(Pje(t.x,e.offset.x),Pje(t.y,e.offset.y))}return t}removeElementScroll(e){const t={x:{min:0,max:0},y:{min:0,max:0}};if(E_e(t,e),this.scroll?.wasRoot)return t;for(let n=0;n<this.path.length;n++){const r=this.path[n],{scroll:o,options:a}=r;r!==this.root&&o&&a.layoutScroll&&(o.wasRoot&&E_e(t,e),Pje(t.x,o.offset.x),Pje(t.y,o.offset.y))}return t}applyTransform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={x:{min:0,max:0},y:{min:0,max:0}};E_e(n,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&jje(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),Cje(e.latestValues)&&jje(n,e.latestValues)}return Cje(this.latestValues)&&jje(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};E_e(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!Cje(e.latestValues))continue;Aje(e.latestValues)&&e.updateSnapshot();const r={x:{min:0,max:0},y:{min:0,max:0}};E_e(r,e.measurePageBox()),P_e(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return Cje(this.latestValues)&&P_e(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==zDe.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=t.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=t.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=t.isSharedProjectionDirty);const n=Boolean(this.resumingFrom)||this!==t;if(!(e||n&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:r,layoutId:o}=this.options;if(this.layout&&(r||o)){if(this.resolvedRelativeTargetAt=zDe.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},xje(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),E_e(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var a,i,s;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),a=this.target,i=this.relativeTarget,s=this.relativeParent.target,vje(a.x,i.x,s.x),vje(a.y,i.y,s.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):E_e(this.target,this.layout.layoutBox),Mje(this.target,this.targetDelta)):E_e(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},xje(this.relativeTargetOrigin,this.target,e.target),E_e(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}jDe.value&&V_e.calculatedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!Aje(this.parent.latestValues)&&!Tje(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const e=this.getLead(),t=Boolean(this.resumingFrom)||this!==e;let n=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(n=!1),t&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(n=!1),this.resolvedRelativeTargetAt===zDe.timestamp&&(n=!1),n)return;const{layout:r,layoutId:o}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!r&&!o)return;E_e(this.layoutCorrected,this.layout.layoutBox);const a=this.treeScale.x,i=this.treeScale.y;!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=n.length;if(!o)return;let a,i;t.x=t.y=1;for(let s=0;s<o;s++){a=n[s],i=a.projectionDelta;const{visualElement:o}=a.options;o&&o.props.style&&"contents"===o.props.style.display||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&jje(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),i&&(t.x*=i.x.scale,t.y*=i.y.scale,Mje(e,i)),r&&Cje(a.latestValues)&&jje(e,a.latestValues))}t.x<Rje&&t.x>Dje&&(t.x=1),t.y<Rje&&t.y>Dje&&(t.y=1)}(this.layoutCorrected,this.treeScale,this.path,t),!e.layout||e.target||1===this.treeScale.x&&1===this.treeScale.y||(e.target=e.layout.layoutBox,e.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}});const{target:s}=e;s?(this.projectionDelta&&this.prevProjectionDelta?(N_e(this.prevProjectionDelta.x,this.projectionDelta.x),N_e(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),yje(this.projectionDelta,this.layoutCorrected,s,this.latestValues),this.treeScale.x===a&&this.treeScale.y===i&&B_e(this.projectionDelta.x,this.prevProjectionDelta.x)&&B_e(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",s)),jDe.value&&V_e.calculatedProjections++):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.options.visualElement?.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}}setAnimationOrigin(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.snapshot,r=n?n.latestValues:{},o={...this.latestValues},a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const i={x:{min:0,max:0},y:{min:0,max:0}},s=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),u=!l||l.members.length<=1,c=Boolean(s&&!u&&!0===this.options.crossfade&&!this.path.some(dFe));let d;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;var l,p;uFe(a.x,e.x,n),uFe(a.y,e.y,n),this.setTargetDelta(a),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(xje(i,this.layout.layoutBox,this.relativeParent.layout.layoutBox),function(e,t,n,r){cFe(e.x,t.x,n.x,r),cFe(e.y,t.y,n.y,r)}(this.relativeTarget,this.relativeTargetOrigin,i,n),d&&(l=this.relativeTarget,p=d,__e(l.x,p.x)&&__e(l.y,p.y))&&(this.isProjectionDirty=!1),d||(d={x:{min:0,max:0},y:{min:0,max:0}}),E_e(d,this.relativeTarget)),s&&(this.animationValues=o,function(e,t,n,r,o,a){o?(e.opacity=YRe(0,n.opacity??1,A_e(r)),e.opacityExit=YRe(t.opacity??1,0,C_e(r))):a&&(e.opacity=YRe(t.opacity??1,n.opacity??1,r));for(let i=0;i<x_e;i++){const o=`border${b_e[i]}Radius`;let a=S_e(t,o),s=S_e(n,o);void 0===a&&void 0===s||(a||(a=0),s||(s=0),0===a||0===s||k_e(a)===k_e(s)?(e[o]=Math.max(YRe(w_e(a),w_e(s),r),0),(DRe.test(s)||DRe.test(a))&&(e[o]+="%")):e[o]=s)}(t.rotate||n.rotate)&&(e.rotate=YRe(t.rotate||0,n.rotate||0,r))}(o,r,this.latestValues,n,c,u)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(LDe(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=FDe.update((()=>{i_e.hasAnimatedSinceResize=!0,hRe.layout++,this.motionValue||(this.motionValue=eRe(0)),this.currentAnimation=function(e,t,n){const r=rRe(e)?e:eRe(e);return r.start(B$e("",r,t,n)),r.animation}(this.motionValue,[0,1e3],{...e,velocity:0,isSync:!0,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onStop:()=>{hRe.layout--},onComplete:()=>{hRe.layout--,e.onComplete&&e.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0}))}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:o}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&gFe(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=mje(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=mje(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}E_e(t,n),jje(t,o),yje(this.projectionDeltaWithTransform,this.layoutCorrected,t,o)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new W_e);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){const{layoutId:e}=this.options;return e&&this.getStack()?.lead||this}getPrevLead(){const{layoutId:e}=this.options;return e?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote(){let{needsReset:e,transition:t,preserveFollowOpacity:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(t=!0),!t)return;const r={};n.z&&q_e("z",e,r,this.animationValues);for(let o=0;o<U_e.length;o++)q_e(`rotate${U_e[o]}`,e,r,this.animationValues),q_e(`skew${U_e[o]}`,e,r,this.animationValues);e.render();for(const o in r)e.setStaticValue(o,r[o]),this.animationValues&&(this.animationValues[o]=r[o]);e.scheduleRender()}getProjectionStyles(e){if(!this.instance||this.isSVG)return;if(!this.isVisible)return H_e;const t={visibility:""},n=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,t.opacity="",t.pointerEvents=v_e(e?.pointerEvents)||"",t.transform=n?n(this.latestValues,""):"none",t;const r=this.getLead();if(!this.projectionDelta||!this.layout||!r.target){const t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=v_e(e?.pointerEvents)||""),this.hasProjected&&!Cje(this.latestValues)&&(t.transform=n?n({},""):"none",this.hasProjected=!1),t}const o=r.animationValues||r.latestValues;this.applyTransformsToTarget(),t.transform=function(e,t,n){let r="";const o=e.x.translate/t.x,a=e.y.translate/t.y,i=n?.z||0;if((o||a||i)&&(r=`translate3d(${o}px, ${a}px, ${i}px) `),1===t.x&&1===t.y||(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:e,rotate:t,rotateX:o,rotateY:a,skewX:i,skewY:s}=n;e&&(r=`perspective(${e}px) ${r}`),t&&(r+=`rotate(${t}deg) `),o&&(r+=`rotateX(${o}deg) `),a&&(r+=`rotateY(${a}deg) `),i&&(r+=`skewX(${i}deg) `),s&&(r+=`skewY(${s}deg) `)}const s=e.x.scale*t.x,l=e.y.scale*t.y;return 1===s&&1===l||(r+=`scale(${s}, ${l})`),r||"none"}(this.projectionDeltaWithTransform,this.treeScale,o),n&&(t.transform=n(o,t.transform));const{x:a,y:i}=this.projectionDelta;t.transformOrigin=`${100*a.origin}% ${100*i.origin}% 0`,r.animationValues?t.opacity=r===this?o.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:o.opacityExit:t.opacity=r===this?void 0!==o.opacity?o.opacity:"":void 0!==o.opacityExit?o.opacityExit:0;for(const s in c_e){if(void 0===o[s])continue;const{correct:e,applyTo:n,isCSSVariable:a}=c_e[s],i="none"===t.transform?o[s]:e(o[s],r);if(n){const e=n.length;for(let r=0;r<e;r++)t[n[r]]=i}else a?this.options.visualElement.renderState.vars[s]=i:t[s]=i}return this.options.layoutId&&(t.pointerEvents=r===this?v_e(e?.pointerEvents)||"":"none"),t}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach((e=>e.currentAnimation?.stop())),this.root.nodes.forEach(tFe),this.root.sharedNodes.clear()}}}function Y_e(e){e.updateLayout()}function Q_e(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=e.layout,{animationType:o}=e.options,a=t.source!==e.layout.source;"size"===o?kje((e=>{const r=a?t.measuredBox[e]:t.layoutBox[e],o=mje(r);r.min=n[e].min,r.max=r.min+o})):gFe(o,t.layoutBox,n)&&kje((r=>{const o=a?t.measuredBox[r]:t.layoutBox[r],i=mje(n[r]);o.max=o.min+i,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+i)}));const i={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};yje(i,n,t.layoutBox);const s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};a?yje(s,e.applyTransform(r,!0),t.measuredBox):yje(s,n,t.layoutBox);const l=!j_e(i);let u=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:o,layout:a}=r;if(o&&a){const i={x:{min:0,max:0},y:{min:0,max:0}};xje(i,t.layoutBox,o.layoutBox);const s={x:{min:0,max:0},y:{min:0,max:0}};xje(s,n,a.layoutBox),L_e(i,s)||(u=!0),r.options.layoutRoot&&(e.relativeTarget=s,e.relativeTargetOrigin=i,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:s,layoutDelta:i,hasLayoutChanged:l,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function Z_e(e){jDe.value&&V_e.nodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function J_e(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function eFe(e){e.clearSnapshot()}function tFe(e){e.clearMeasurements()}function nFe(e){e.isLayoutDirty=!1}function rFe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function oFe(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function aFe(e){e.resolveTargetDelta()}function iFe(e){e.calcProjection()}function sFe(e){e.resetSkewAndRotation()}function lFe(e){e.removeLeadSnapshot()}function uFe(e,t,n){e.translate=YRe(t.translate,0,n),e.scale=YRe(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function cFe(e,t,n,r){e.min=YRe(t.min,n.min,r),e.max=YRe(t.max,n.max,r)}function dFe(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const pFe={duration:.45,ease:[.4,0,.1,1]},hFe=e=>"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),fFe=hFe("applewebkit/")&&!hFe("chrome/")?Math.round:RDe;function mFe(e){e.min=fFe(e.min),e.max=fFe(e.max)}function gFe(e,t,n){return"position"===e||"preserve-aspect"===e&&(r=z_e(t),o=z_e(n),a=.2,!(Math.abs(r-o)<=a));var r,o,a}function yFe(e){return e!==e.root&&e.scroll?.wasRoot}const vFe=X_e({attachResizeListener:(e,t)=>cje(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),bFe={current:void 0},xFe=X_e({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!bFe.current){const e=new vFe({});e.mount(window),e.setOptions({layoutScroll:!0}),bFe.current=e}return bFe.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),wFe={pan:{Feature:class extends aje{constructor(){super(...arguments),this.removePointerDownListener=RDe}onPointerDown(e){this.session=new Bje(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Fje(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:n_e(e),onStart:n_e(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&FDe.postRender((()=>r(e,t)))}}}mount(){this.removePointerDownListener=hje(this.node.current,"pointerdown",(e=>this.onPointerDown(e)))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends aje{constructor(e){super(e),this.removeGroupControls=RDe,this.removeListeners=RDe,this.controls=new e_e(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||RDe}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:xFe,MeasureLayout:p_e}};function kFe(e,t){const n=function(e,t,n){if(e instanceof EventTarget)return[e];if("string"===typeof e){let r=document;t&&(r=t.current);const o=n?.[e]??r.querySelectorAll(e);return o?Array.from(o):[]}return Array.from(e)}(e),r=new AbortController;return[n,{passive:!0,...t,signal:r.signal},()=>r.abort()]}function SFe(e){return!("touch"===e.pointerType||uje())}function AFe(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover","Start"===n);const o=r["onHover"+n];o&&FDe.postRender((()=>o(t,pje(t))))}const CFe=(e,t)=>!!t&&(e===t||CFe(e,t.parentElement)),TFe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);const IFe=new WeakSet;function EFe(e){return t=>{"Enter"===t.key&&e(t)}}function NFe(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}function OFe(e){return dje(e)&&!uje()}function MFe(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[r,o,a]=kFe(e,n),i=e=>{const r=e.currentTarget;if(!OFe(e))return;IFe.add(r);const a=t(r,e),i=(e,t)=>{window.removeEventListener("pointerup",s),window.removeEventListener("pointercancel",l),IFe.has(r)&&IFe.delete(r),OFe(e)&&"function"===typeof a&&a(e,{success:t})},s=e=>{i(e,r===window||r===document||n.useGlobalTarget||CFe(r,e.target))},l=e=>{i(e,!1)};window.addEventListener("pointerup",s,o),window.addEventListener("pointercancel",l,o)};return r.forEach((e=>{var t;(n.useGlobalTarget?window:e).addEventListener("pointerdown",i,o),yDe(e)&&(e.addEventListener("focus",(e=>((e,t)=>{const n=e.currentTarget;if(!n)return;const r=EFe((()=>{if(IFe.has(n))return;NFe(n,"down");const e=EFe((()=>{NFe(n,"up")}));n.addEventListener("keyup",e,t),n.addEventListener("blur",(()=>NFe(n,"cancel")),t)}));n.addEventListener("keydown",r,t),n.addEventListener("blur",(()=>n.removeEventListener("keydown",r)),t)})(e,o))),t=e,TFe.has(t.tagName)||-1!==t.tabIndex||e.hasAttribute("tabindex")||(e.tabIndex=0))})),a}function DFe(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap","Start"===n);const o=r["onTap"+("End"===n?"":n)];o&&FDe.postRender((()=>o(t,pje(t))))}const RFe=new WeakMap,PFe=new WeakMap,$Fe=e=>{const t=RFe.get(e.target);t&&t(e)},jFe=e=>{e.forEach($Fe)};function _Fe(e,t,n){const r=function(e){let{root:t,...n}=e;const r=t||document;PFe.has(r)||PFe.set(r,{});const o=PFe.get(r),a=JSON.stringify(n);return o[a]||(o[a]=new IntersectionObserver(jFe,{root:t,...n})),o[a]}(t);return RFe.set(e,n),r.observe(e),()=>{RFe.delete(e),r.unobserve(e)}}const FFe={some:0,all:1};const LFe={inView:{Feature:class extends aje{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:o}=e,a={root:t?t.current:void 0,rootMargin:n,threshold:"number"===typeof r?r:FFe[r]};return _Fe(this.node.current,a,(e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,o&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),a=t?n:r;a&&a(e)}))}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node,n=["amount","margin","root"].some(function(e){let{viewport:t={}}=e,{viewport:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=>t[e]!==n[e]}(e,t));n&&this.startObserver()}unmount(){}}},tap:{Feature:class extends aje{mount(){const{current:e}=this.node;e&&(this.unmount=MFe(e,((e,t)=>(DFe(this.node,t,"Start"),(e,t)=>{let{success:n}=t;return DFe(this.node,e,n?"End":"Cancel")})),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends aje{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(ZBe){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=uRe(cje(this.node.current,"focus",(()=>this.onFocus())),cje(this.node.current,"blur",(()=>this.onBlur())))}unmount(){}}},hover:{Feature:class extends aje{mount(){const{current:e}=this.node;e&&(this.unmount=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[r,o,a]=kFe(e,n),i=e=>{if(!SFe(e))return;const{target:n}=e,r=t(n,e);if("function"!==typeof r||!n)return;const a=e=>{SFe(e)&&(r(e),n.removeEventListener("pointerleave",a))};n.addEventListener("pointerleave",a,o)};return r.forEach((e=>{e.addEventListener("pointerenter",i,o)})),a}(e,((e,t)=>(AFe(this.node,t,"Start"),e=>AFe(this.node,e,"End")))))}unmount(){}}}},zFe={layout:{ProjectionNode:xFe,MeasureLayout:p_e}},BFe=(0,W.createContext)({strict:!1}),WFe=(0,W.createContext)({});function VFe(e){return EDe(e.animate)||X$e.some((t=>q$e(e[t])))}function UFe(e){return Boolean(VFe(e)||e.variants)}function HFe(e){const{initial:t,animate:n}=function(e,t){if(VFe(e)){const{initial:t,animate:n}=e;return{initial:!1===t||q$e(t)?t:void 0,animate:q$e(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,(0,W.useContext)(WFe));return(0,W.useMemo)((()=>({initial:t,animate:n})),[GFe(t),GFe(n)])}function GFe(e){return Array.isArray(e)?e.join(" "):e}const qFe={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},KFe={};for(const n in qFe)KFe[n]={isEnabled:e=>qFe[n].some((t=>!!e[t]))};const XFe=Symbol.for("motionComponentSymbol");function YFe(e,t,n){return(0,W.useCallback)((r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&("function"===typeof n?n(r):Lje(n)&&(n.current=r))}),[t])}function QFe(e,t,n,r,o){const{visualElement:a}=(0,W.useContext)(WFe),i=(0,W.useContext)(BFe),s=(0,W.useContext)(mDe),l=(0,W.useContext)(vDe).reducedMotion,u=(0,W.useRef)(null);r=r||i.renderer,!u.current&&r&&(u.current=r(e,{visualState:t,parent:a,props:n,presenceContext:s,blockInitialAnimation:!!s&&!1===s.initial,reducedMotionConfig:l}));const c=u.current,d=(0,W.useContext)(a_e);!c||c.projection||!o||"html"!==c.type&&"svg"!==c.type||function(e,t,n,r){const{layoutId:o,layout:a,drag:i,dragConstraints:s,layoutScroll:l,layoutRoot:u,layoutCrossfade:c}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:ZFe(e.parent)),e.projection.setOptions({layoutId:o,layout:a,alwaysMeasureLayout:Boolean(i)||s&&Lje(s),visualElement:e,animationType:"string"===typeof a?a:"both",initialPromotionConfig:r,crossfade:c,layoutScroll:l,layoutRoot:u})}(u.current,n,o,d);const p=(0,W.useRef)(!1);(0,W.useInsertionEffect)((()=>{c&&p.current&&c.update(n,s)}));const h=n[iRe],f=(0,W.useRef)(Boolean(h)&&!window.MotionHandoffIsComplete?.(h)&&window.MotionHasOptimisedAnimation?.(h));return fDe((()=>{c&&(p.current=!0,window.MotionIsMounted=!0,c.updateFeatures(),r_e.render(c.render),f.current&&c.animationState&&c.animationState.animateChanges())})),(0,W.useEffect)((()=>{c&&(!f.current&&c.animationState&&c.animationState.animateChanges(),f.current&&(queueMicrotask((()=>{window.MotionHandoffMarkAsComplete?.(h)})),f.current=!1))})),c}function ZFe(e){if(e)return!1!==e.options.allowProjection?e.projection:ZFe(e.parent)}function JFe(e){let{preloadedFeatures:t,createVisualElement:n,useRender:r,useVisualState:o,Component:a}=e;function i(e,t){let i;const s={...(0,W.useContext)(vDe),...e,layoutId:eLe(e)},{isStatic:l}=s,u=HFe(e),c=o(e,l);if(!l&&hDe){!function(){(0,W.useContext)(BFe).strict;0}();const e=function(e){const{drag:t,layout:n}=KFe;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}(s);i=e.MeasureLayout,u.visualElement=QFe(a,c,s,n,e.ProjectionNode)}return(0,sn.jsxs)(WFe.Provider,{value:u,children:[i&&u.visualElement?(0,sn.jsx)(i,{visualElement:u.visualElement,...s}):null,r(a,e,YFe(c,u.visualElement,t),c,l,u.visualElement)]})}t&&function(e){for(const t in e)KFe[t]={...KFe[t],...e[t]}}(t),i.displayName=`motion.${"string"===typeof a?a:`create(${a.displayName??a.name??""})`}`;const s=(0,W.forwardRef)(i);return s[XFe]=a,s}function eLe(e){let{layoutId:t}=e;const n=(0,W.useContext)(dDe).id;return n&&void 0!==t?n+"-"+t:t}function tLe(e,t){let{layout:n,layoutId:r}=t;return VDe.has(e)||e.startsWith("origin")||(n||void 0!==r)&&(!!c_e[e]||"opacity"===e)}const nLe=(e,t)=>t&&"number"===typeof e?t.transform(e):e,rLe={...bRe,transform:Math.round},oLe={borderWidth:RRe,borderTopWidth:RRe,borderRightWidth:RRe,borderBottomWidth:RRe,borderLeftWidth:RRe,borderRadius:RRe,radius:RRe,borderTopLeftRadius:RRe,borderTopRightRadius:RRe,borderBottomRightRadius:RRe,borderBottomLeftRadius:RRe,width:RRe,maxWidth:RRe,height:RRe,maxHeight:RRe,top:RRe,right:RRe,bottom:RRe,left:RRe,padding:RRe,paddingTop:RRe,paddingRight:RRe,paddingBottom:RRe,paddingLeft:RRe,margin:RRe,marginTop:RRe,marginRight:RRe,marginBottom:RRe,marginLeft:RRe,backgroundPositionX:RRe,backgroundPositionY:RRe,...{rotate:MRe,rotateX:MRe,rotateY:MRe,rotateZ:MRe,scale:wRe,scaleX:wRe,scaleY:wRe,scaleZ:wRe,skew:MRe,skewX:MRe,skewY:MRe,distance:RRe,translateX:RRe,translateY:RRe,translateZ:RRe,x:RRe,y:RRe,z:RRe,perspective:RRe,transformPerspective:RRe,opacity:xRe,originX:jRe,originY:jRe,originZ:RRe},zIndex:rLe,fillOpacity:xRe,strokeOpacity:xRe,numOctaves:rLe},aLe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},iLe=WDe.length;function sLe(e,t,n){const{style:r,vars:o,transformOrigin:a}=e;let i=!1,s=!1;for(const l in t){const e=t[l];if(VDe.has(l))i=!0;else if(mRe(l))o[l]=e;else{const t=nLe(e,oLe[l]);l.startsWith("origin")?(s=!0,a[l]=t):r[l]=t}}if(t.transform||(i||n?r.transform=function(e,t,n){let r="",o=!0;for(let a=0;a<iLe;a++){const i=WDe[a],s=e[i];if(void 0===s)continue;let l=!0;if(l="number"===typeof s?s===(i.startsWith("scale")?1:0):0===parseFloat(s),!l||n){const e=nLe(s,oLe[i]);l||(o=!1,r+=`${aLe[i]||i}(${e}) `),n&&(t[i]=e)}}return r=r.trim(),n?r=n(t,o?"":r):o&&(r="none"),r}(t,e.transform,n):r.transform&&(r.transform="none")),s){const{originX:e="50%",originY:t="50%",originZ:n=0}=a;r.transformOrigin=`${e} ${t} ${n}`}}const lLe=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function uLe(e,t,n){for(const r in t)rRe(t[r])||tLe(r,n)||(e[r]=t[r])}function cLe(e,t){const n={};return uLe(n,e.style||{},e),Object.assign(n,function(e,t){let{transformTemplate:n}=e;return(0,W.useMemo)((()=>{const e={style:{},transform:{},transformOrigin:{},vars:{}};return sLe(e,t,n),Object.assign({},e.vars,e.style)}),[t])}(e,t)),n}function dLe(e,t){const n={},r=cLe(e,t);return e.drag&&!1!==e.dragListener&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=!0===e.drag?"none":"pan-"+("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const pLe={offset:"stroke-dashoffset",array:"stroke-dasharray"},hLe={offset:"strokeDashoffset",array:"strokeDasharray"};function fLe(e,t,n,r,o){let{attrX:a,attrY:i,attrScale:s,pathLength:l,pathSpacing:u=1,pathOffset:c=0,...d}=t;if(sLe(e,d,r),n)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:p,style:h}=e;p.transform&&(h.transform=p.transform,delete p.transform),(h.transform||p.transformOrigin)&&(h.transformOrigin=p.transformOrigin??"50% 50%",delete p.transformOrigin),h.transform&&(h.transformBox=o?.transformBox??"fill-box",delete p.transformBox),void 0!==a&&(p.x=a),void 0!==i&&(p.y=i),void 0!==s&&(p.scale=s),void 0!==l&&function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;const a=o?pLe:hLe;e[a.offset]=RRe.transform(-r);const i=RRe.transform(t),s=RRe.transform(n);e[a.array]=`${i} ${s}`}(p,l,u,c,!1)}const mLe=()=>({style:{},transform:{},transformOrigin:{},vars:{},attrs:{}}),gLe=e=>"string"===typeof e&&"svg"===e.toLowerCase();function yLe(e,t,n,r){const o=(0,W.useMemo)((()=>{const n={style:{},transform:{},transformOrigin:{},vars:{},attrs:{}};return fLe(n,t,gLe(r),e.transformTemplate,e.style),{...n.attrs,style:{...n.style}}}),[t]);if(e.style){const t={};uLe(t,e.style,e),o.style={...t,...o.style}}return o}const vLe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function bLe(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||vLe.has(e)}let xLe=e=>!bLe(e);try{(wLe=require("@emotion/is-prop-valid").default)&&(xLe=e=>e.startsWith("on")?!bLe(e):wLe(e))}catch{}var wLe;const kLe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function SLe(e){return"string"===typeof e&&!e.includes("-")&&!!(kLe.indexOf(e)>-1||/[A-Z]/u.test(e))}function ALe(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(t,n,r,o,a)=>{let{latestValues:i}=o;const s=(SLe(t)?yLe:dLe)(n,i,a,t),l=function(e,t,n){const r={};for(const o in e)"values"===o&&"object"===typeof e.values||(xLe(o)||!0===n&&bLe(o)||!t&&!bLe(o)||e.draggable&&o.startsWith("onDrag"))&&(r[o]=e[o]);return r}(n,"string"===typeof t,e),u=t!==W.Fragment?{...l,...s,ref:r}:{},{children:c}=n,d=(0,W.useMemo)((()=>rRe(c)?c.get():c),[c]);return(0,W.createElement)(t,{...u,children:d})}}const CLe=e=>(t,n)=>{const r=(0,W.useContext)(WFe),o=(0,W.useContext)(mDe),a=()=>function(e,t,n,r){let{scrapeMotionValuesFromProps:o,createRenderState:a}=e;return{latestValues:TLe(t,n,r,o),renderState:a()}}(e,t,r,o);return n?a():pDe(a)};function TLe(e,t,n,r){const o={},a=r(e,{});for(const p in a)o[p]=v_e(a[p]);let{initial:i,animate:s}=e;const l=VFe(e),u=UFe(e);t&&u&&!l&&!1!==e.inherit&&(void 0===i&&(i=t.initial),void 0===s&&(s=t.animate));let c=!!n&&!1===n.initial;c=c||!1===i;const d=c?s:i;if(d&&"boolean"!==typeof d&&!EDe(d)){const t=Array.isArray(d)?d:[d];for(let n=0;n<t.length;n++){const r=ODe(e,t[n]);if(r){const{transitionEnd:e,transition:t,...n}=r;for(const r in n){let e=n[r];if(Array.isArray(e)){e=e[c?e.length-1:0]}null!==e&&(o[r]=e)}for(const r in e)o[r]=e[r]}}}return o}function ILe(e,t,n){const{style:r}=e,o={};for(const a in r)(rRe(r[a])||t.style&&rRe(t.style[a])||tLe(a,e)||void 0!==n?.getValue(a)?.liveStyle)&&(o[a]=r[a]);return o}const ELe={useVisualState:CLe({scrapeMotionValuesFromProps:ILe,createRenderState:lLe})};function NLe(e,t,n){const r=ILe(e,t,n);for(const o in e)if(rRe(e[o])||rRe(t[o])){r[-1!==WDe.indexOf(o)?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o]=e[o]}return r}const OLe={useVisualState:CLe({scrapeMotionValuesFromProps:NLe,createRenderState:mLe})};function MLe(e,t){return function(n){let{forwardMotionProps:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{forwardMotionProps:!1};return JFe({...SLe(n)?OLe:ELe,preloadedFeatures:e,useRender:ALe(r),createVisualElement:t,Component:n})}}const DLe=e=>t=>t.test(e),RLe=[bRe,RRe,DRe,MRe,$Re,PRe,{test:e=>"auto"===e,parse:e=>e}],PLe=e=>RLe.find(DLe(e)),$Le=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),jLe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function _Le(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const[r,o]=function(e){const t=jLe.exec(e);if(!t)return[,];const[,n,r,o]=t;return[`--${n??r}`,o]}(e);if(!r)return;const a=window.getComputedStyle(t).getPropertyValue(r);if(a){const e=a.trim();return $Le(e)?parseFloat(e):e}return yRe(o)?_Le(o,t,n+1):o}const FLe=e=>/^0[^.\s]+$/u.test(e);const LLe=new Set(["brightness","contrast","saturate","opacity"]);function zLe(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(SRe)||[];if(!r)return e;const o=n.replace(r,"");let a=LLe.has(t)?1:0;return r!==n&&(a*=100),t+"("+a+o+")"}const BLe=/\b([a-z-]*)\(.*?\)/gu,WLe={...qRe,getAnimatableNone:e=>{const t=e.match(BLe);return t?t.map(zLe).join(" "):e}},VLe={...oLe,color:FRe,backgroundColor:FRe,outlineColor:FRe,fill:FRe,stroke:FRe,borderColor:FRe,borderTopColor:FRe,borderRightColor:FRe,borderBottomColor:FRe,borderLeftColor:FRe,filter:WLe,WebkitFilter:WLe},ULe=e=>VLe[e];function HLe(e,t){let n=ULe(e);return n!==WLe&&(n=qRe),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const GLe=new Set(["auto","none","0"]);class qLe extends y$e{constructor(e,t,n,r,o){super(e,t,n,r,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let s=0;s<e.length;s++){let n=e[s];if("string"===typeof n&&(n=n.trim(),yRe(n))){const r=_Le(n,t.current);void 0!==r&&(e[s]=r),s===e.length-1&&(this.finalKeyframe=n)}}if(this.resolveNoneKeyframes(),!UDe.has(n)||2!==e.length)return;const[r,o]=e,a=PLe(r),i=PLe(o);if(a!==i)if(s$e(a)&&s$e(i))for(let s=0;s<e.length;s++){const t=e[s];"string"===typeof t&&(e[s]=parseFloat(t))}else c$e[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let o=0;o<e.length;o++)(null===e[o]||("number"===typeof(r=e[o])?0===r:null===r||"none"===r||"0"===r||FLe(r)))&&n.push(o);var r;n.length&&function(e,t,n){let r,o=0;for(;o<e.length&&!r;){const t=e[o];"string"===typeof t&&!GLe.has(t)&&VRe(t).values.length&&(r=e[o]),o++}if(r&&n)for(const a of t)e[a]=HLe(n,r)}(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=c$e[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];void 0!==r&&e.getValue(n,r).jump(r,!1)}measureEndState(){const{element:e,name:t,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const r=e.getValue(t);r&&r.jump(this.measuredOrigin,!1);const o=n.length-1,a=n[o];n[o]=c$e[t](e.measureViewportBox(),window.getComputedStyle(e.current)),null!==a&&void 0===this.finalKeyframe&&(this.finalKeyframe=a),this.removedTransforms?.length&&this.removedTransforms.forEach((t=>{let[n,r]=t;e.getValue(n).set(r)})),this.resolveNoneKeyframes()}}const KLe=[...RLe,FRe,qRe],XLe={current:null},YLe={current:!1};const QLe=new WeakMap;const ZLe=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class JLe{scrapeMotionValuesFromProps(e,t,n){return{}}constructor(e){let{parent:t,props:n,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:a,visualState:i}=e,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=y$e,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const e=QDe.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,FDe.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=i;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=s,this.blockInitialAnimation=Boolean(a),this.isControllingVariants=VFe(n),this.isVariantNode=UFe(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const{willChange:c,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in d){const e=d[p];void 0!==l[p]&&rRe(e)&&e.set(l[p],!1)}}mount(e){this.current=e,QLe.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach(((e,t)=>this.bindToMotionValue(t,e))),YLe.current||function(){if(YLe.current=!0,hDe)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>XLe.current=e.matches;e.addListener(t),t()}else XLe.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||XLe.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),LDe(this.notifyUpdate),LDe(this.render),this.valueSubscriptions.forEach((e=>e())),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=VDe.has(e);n&&this.onBindTransform&&this.onBindTransform();const r=t.on("change",(t=>{this.latestValues[e]=t,this.props.onUpdate&&FDe.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)})),o=t.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,(()=>{r(),o(),a&&a(),t.owner&&t.stop()}))}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in KFe){const t=KFe[e];if(!t)continue;const{isEnabled:n,Feature:r}=t;if(!this.features[e]&&r&&n(this.props)&&(this.features[e]=new r(this)),this.features[e]){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<ZLe.length;n++){const t=ZLe[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,n){for(const r in t){const o=t[r],a=n[r];if(rRe(o))e.addValue(r,o);else if(rRe(a))e.addValue(r,eRe(o,{owner:e}));else if(a!==o)if(e.hasValue(r)){const t=e.getValue(r);!0===t.liveStyle?t.jump(o):t.hasAnimated||t.set(o)}else{const t=e.getStaticValue(r);e.addValue(r,eRe(void 0!==t?t:o,{owner:e}))}}for(const r in n)void 0===t[r]&&e.removeValue(r);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=eRe(null===t?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){let n=void 0===this.latestValues[e]&&this.current?this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];var r;return void 0!==n&&null!==n&&("string"===typeof n&&($Le(n)||FLe(n))?n=parseFloat(n):(r=n,!KLe.find(DLe(r))&&qRe.test(t)&&(n=HLe(e,t))),this.setBaseTarget(e,rRe(n)?n.get():n)),rRe(n)?n.get():n}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let n;if("string"===typeof t||"object"===typeof t){const r=ODe(this.props,t,this.presenceContext?.custom);r&&(n=r[e])}if(t&&void 0!==n)return n;const r=this.getBaseTargetFromProps(this.props,e);return void 0===r||rRe(r)?void 0!==this.initialValues[e]&&void 0===n?void 0:this.baseTarget[e]:r}on(e,t){return this.events[e]||(this.events[e]=new qDe),this.events[e].add(t)}notify(e){if(this.events[e]){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.events[e].notify(...n)}}}class eze extends JLe{constructor(){super(...arguments),this.KeyframeResolver=qLe}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,t){let{vars:n,style:r}=t;delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;rRe(e)&&(this.childSubscription=e.on("change",(e=>{this.current&&(this.current.textContent=`${e}`)})))}}function tze(e,t,n,r){let{style:o,vars:a}=t;Object.assign(e.style,o,r&&r.getProjectionStyles(n));for(const i in a)e.style.setProperty(i,a[i])}class nze extends eze{constructor(){super(...arguments),this.type="html",this.renderInstance=tze}readValueFromInstance(e,t){if(VDe.has(t))return this.projection?.isProjecting?o$e(t):((e,t)=>{const{transform:n="none"}=getComputedStyle(e);return a$e(n,t)})(e,t);{const r=(n=e,window.getComputedStyle(n)),o=(mRe(t)?r.getPropertyValue(t):r[t])||0;return"string"===typeof o?o.trim():o}var n}measureInstanceViewportBox(e,t){let{transformPagePoint:n}=t;return _je(e,n)}build(e,t,n){sLe(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return ILe(e,t,n)}}const rze=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);class oze extends eze{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=wje}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(VDe.has(t)){const e=ULe(t);return e&&e.default||0}return t=rze.has(t)?t:aRe(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return NLe(e,t,n)}build(e,t,n){fLe(e,t,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,t,n,r){!function(e,t,n,r){tze(e,t,void 0,r);for(const o in t.attrs)e.setAttribute(rze.has(o)?o:aRe(o),t.attrs[o])}(e,t,0,r)}mount(e){this.isSVGTag=gLe(e.tagName),super.mount(e)}}const aze=IDe(MLe({...sje,...LFe,...wFe,...zFe},((e,t)=>SLe(e)?new oze(t):new nze(t,{allowProjection:e!==W.Fragment}))));var ize=n(6061);const sze=e=>{let{card:t,index:n,dayIndex:r,total:o,moveCardWithin:a,moveFromAnotherDay:i,onContextMenu:s,openEditDialog:l,onDeleteCard:u,onCopy:c,onDelete:d,ITEM_TYPE:p}=e;const h=(0,W.useRef)(null),[{isOver:f,canDrop:m},g]=(xa(),tDe({accept:p,collect:e=>({isOver:e.isOver({shallow:!0}),canDrop:e.canDrop()}),hover(e,t){if(!h.current)return;const o=e.index;if(e.sourceCol===r){if(o===n)return;const r=h.current.getBoundingClientRect(),i=(r.bottom-r.top)/2,s=t.getClientOffset().y-r.top;if(o<n&&s<i)return;if(o>n&&s>i)return;a(o,n),e.index=n}},drop(e,t){e.sourceCol!==r&&(i(e.sourceCol,e.cardId,n),e.sourceCol=r,e.index=n)}}));return g(h),(0,sn.jsxs)("div",{ref:h,style:{position:"relative"},children:[(0,sn.jsx)(lze,{onDeleteCard:u,ITEM_TYPE:p,card:t,index:n,sourceCol:r,onContextMenu:(e,n,o)=>s(e,r,t.id),openEditDialog:(e,n)=>l(r,t.id),onCopy:(e,n)=>c(r,t.id),onDelete:(e,n)=>d(r,t.id)}),f&&m&&(0,sn.jsx)("div",{style:{position:"absolute",left:0,right:0,top:0,bottom:0,border:"2px dashed #7b2cbf",borderRadius:12,pointerEvents:"none"}})]})},lze=e=>{var t,n;let{card:r,index:o,sourceCol:a,onContextMenu:i,onCopy:s,onQuickEdit:l,openEditDialog:u,onDelete:c,onDeleteCard:d,ITEM_TYPE:p}=e;const h=(0,W.useRef)(null),f=xa(),[{isDragging:m},g]=cDe({type:p,item:{index:o,sourceCol:a,cardId:r.id},collect:e=>({isDragging:e.isDragging()})});g(h);const y=(null===(t=r.sets)||void 0===t?void 0:t.filter((e=>e.isWarmup)))||[],v=(null===(n=r.sets)||void 0===n?void 0:n.filter((e=>!e.isWarmup)))||[];return(0,sn.jsxs)(aze.div,{ref:h,onContextMenu:e=>i(e,a,r.id),layout:!0,initial:{opacity:1,scale:1,y:0},animate:{scale:m?1.02:1,y:m?-2:0,opacity:m?.9:1,backgroundColor:m?f.palette.action.hover:f.palette.background.paper},whileHover:{y:-1,boxShadow:f.shadows[2]},transition:{type:"spring",stiffness:500,damping:30},style:{borderRadius:12,padding:"12px",marginBottom:10,position:"relative",cursor:"grab",border:`1px solid ${f.palette.divider}`,willChange:"transform",background:`linear-gradient(to right, ${f.palette.background.paper} 0%, ${_k(f.palette.background.default,.7)} 100%)`},children:[(0,sn.jsxs)(ps,{sx:{display:"flex",alignItems:"flex-start",gap:1,minHeight:32},children:[(0,sn.jsx)(ize.A,{fontSize:"small",sx:{color:f.palette.text.disabled,flexShrink:0,alignSelf:"flex-start",mt:.5}}),(0,sn.jsxs)(ps,{sx:{flex:1,minWidth:0},children:[(0,sn.jsx)(vs,{variant:"body2",fontWeight:600,sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",lineHeight:1.3,color:f.palette.text.primary,mb:.5},children:r.exercise}),(y.length>0||v.length>0)&&(0,sn.jsxs)(ps,{sx:{display:"flex",gap:2,mt:.5},children:[y.length>0&&(0,sn.jsxs)(ps,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[(0,sn.jsx)(vs,{variant:"caption",sx:{color:f.palette.warning.dark,fontWeight:500,mb:.5},children:"\u0420\u0430\u0437\u043c\u0438\u043d\u043a\u0430"}),y.map(((e,t)=>(0,sn.jsxs)(vs,{variant:"caption",sx:{color:f.palette.warning.main,fontSize:"0.65rem",lineHeight:1.5},children:[e.reps,"\xd7",e.weight,"\u043a\u0433"]},t)))]}),v.length>0&&(0,sn.jsxs)(ps,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[(0,sn.jsx)(vs,{variant:"caption",sx:{color:f.palette.success.dark,fontWeight:500,mb:.5},children:"\u0420\u0430\u0431\u043e\u0447\u0438\u0435"}),v.map(((e,t)=>(0,sn.jsxs)(vs,{variant:"caption",sx:{color:f.palette.success.main,fontSize:"0.65rem",lineHeight:1.5},children:[e.reps,"\xd7",e.weight,"\u043a\u0433"]},t)))]})]})]}),(0,sn.jsxs)(ps,{sx:{display:"flex",flexDirection:"column",alignItems:"center",gap:.5,ml:"auto",pl:1},children:[(0,sn.jsx)(tg,{title:"\u041a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c",arrow:!0,children:(0,sn.jsx)(Ns,{size:"small",onClick:e=>{e.stopPropagation(),s(a,r.id)},sx:{p:.5,color:f.palette.text.secondary,"&:hover":{color:f.palette.primary.main,backgroundColor:_k(f.palette.primary.main,.1)}},children:(0,sn.jsx)(kMe.A,{fontSize:"small"})})}),(0,sn.jsx)(tg,{title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",arrow:!0,children:(0,sn.jsx)(Ns,{size:"small",onClick:e=>{e.stopPropagation(),u(a,r.id)},sx:{p:.5,color:f.palette.text.secondary,"&:hover":{color:f.palette.info.main,backgroundColor:_k(f.palette.info.main,.1)}},children:(0,sn.jsx)(AM.A,{fontSize:"small"})})}),(0,sn.jsx)(tg,{title:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",arrow:!0,children:(0,sn.jsx)(Ns,{size:"small",onClick:e=>{e.stopPropagation(),d()},sx:{p:.5,color:f.palette.text.secondary,"&:hover":{color:f.palette.error.main,backgroundColor:_k(f.palette.error.main,.1)}},children:(0,sn.jsx)(TM.A,{fontSize:"small"})})})]})]}),r.comment&&(0,sn.jsx)(aze.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.2},children:(0,sn.jsx)(vs,{variant:"caption",sx:{display:"block",color:f.palette.text.secondary,fontStyle:"italic",mt:1,pt:1,borderTop:`1px dashed ${f.palette.divider}`,fontSize:"0.7rem",lineHeight:1.4},children:r.comment})})]})},uze=e=>{let{dayIndex:t,dayName:n,exercises:r,onAdd:o,onClear:a,onContextMenu:i,moveCardWithin:s,moveFromAnotherDay:l,openEditDialog:u,onDeleteCard:c,onCopy:d,onDelete:p,ITEM_TYPE:h}=e;const f=(0,W.useRef)(null),[m,g]=(0,W.useState)(!1),y=xa(),[,v]=tDe({accept:h,hover(e,n){f.current&&e.sourceCol!==t&&0===r.length&&g(!0)},drop(e,n){g(!1),e.sourceCol!==t&&(l(e.sourceCol,e.cardId,null),e.sourceCol=t,e.index=r.length-1)}});return v(f),(0,sn.jsxs)(cn,{ref:f,elevation:4,sx:{flexShrink:0,minWidth:250,maxWidth:270,maxHeight:650,display:"flex",flexDirection:"column",background:0===r.length?"linear-gradient(145deg,#fafafa,#f1f1f4)":"linear-gradient(145deg,#ffffff,#f7f5ff)",borderRadius:3,border:"1px solid rgba(120,110,180,.12)",backdropFilter:"blur(3px)",position:"relative"},children:[(0,sn.jsxs)(ps,{sx:{px:1.5,py:1,display:"flex",alignItems:"center",justifyContent:"space-between",borderBottom:"1px solid rgba(120,110,180,.15)"},children:[(0,sn.jsx)(vs,{variant:"subtitle1",fontWeight:700,children:n}),(0,sn.jsxs)(ps,{sx:{display:"flex",gap:.5},children:[(0,sn.jsx)(tg,{title:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0443\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u0435",arrow:!0,children:(0,sn.jsx)(Ns,{size:"small",onClick:o,children:(0,sn.jsx)(IM.A,{fontSize:"small"})})}),(0,sn.jsx)(tg,{title:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u0434\u0435\u043d\u044c",arrow:!0,children:(0,sn.jsx)(Ns,{size:"small",onClick:a,children:(0,sn.jsx)(_M.A,{fontSize:"small"})})})]})]}),(0,sn.jsxs)(ps,{sx:{flex:1,overflowY:"auto",p:1.2,position:"relative"},children:[(0,sn.jsx)(TDe,{children:0===r.length?(0,sn.jsx)(aze.div,{initial:{opacity:0},animate:{opacity:.5},style:{fontSize:12,textAlign:"center",color:"#777",marginTop:10},children:"\u041d\u0435\u0442 \u0443\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u0439"}):r.map(((e,n)=>(0,sn.jsx)(sze,{onDeleteCard:c,ITEM_TYPE:h,card:e,index:n,dayIndex:t,total:r.length,moveCardWithin:s,moveFromAnotherDay:l,onContextMenu:i,openEditDialog:(e,t)=>u(0,e,t),onCopy:d,onDelete:p},e.id)))}),m&&(0,sn.jsxs)(aze.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},style:{position:"absolute",bottom:10,left:"50%",transform:"translateX(-50%)",zIndex:10},onMouseLeave:()=>g(!1),children:[(0,sn.jsx)(cn,{elevation:4,sx:{p:1,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:y.palette.error.light,color:y.palette.error.contrastText,borderRadius:"50%"},children:(0,sn.jsx)(TM.A,{fontSize:"large"})}),(0,sn.jsx)(vs,{variant:"caption",sx:{display:"block",textAlign:"center",mt:1,color:y.palette.error.main,fontWeight:500},children:"\u041f\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0441\u044e\u0434\u0430 \u0434\u043b\u044f \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f"})]})]}),(0,sn.jsx)(ps,{sx:{px:1.5,py:.7,borderTop:"1px solid rgba(120,110,180,.15)",display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:12,color:"text.secondary"},children:(0,sn.jsxs)("span",{children:[r.length," \u0443\u043f\u0440\u0430\u0436\u043d."]})})]})},cze=["\u041f\u043d","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041f\u0442","\u0421\u0431","\u0412\u0441"],dze={id:DMe(),reps:"",weight:""},pze="10",hze=e=>({weekNumber:e,days:Array(7).fill(null).map((()=>({exercises:[]}))),periodizationNote:""}),fze=()=>{const[e,t]=(0,W.useState)({programId:null,programName:"\u041d\u043e\u0432\u0430\u044f \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0430",clients:[],clientId:null,clientPrograms:[],selectedProgramId:null,clientHasPrograms:!1,exerciseLibrary:[],weeksCount:4,weeks:Array(4).fill(null).map(((e,t)=>hze(t+1))),currentWeek:0,showNoProgramAlert:!1,snackbar:{open:!1,message:""},dialogOpen:!1,editingContext:null,exercise:"",sets:[],comment:"",addWarmup:!1,warmupSets:[dze],workSetsCount:3,templateReps:pze,templateWeight:"",menuAnchor:null,menuInfo:null,periodizationMode:"linear",weightFactors:[1,1.025,1.05,1.075],repsAdjust:[0,-1,-2,-3],hasChanges:!1,expandedWeeks:[0]}),n=async e=>{try{const t=JSON.parse(localStorage.getItem("user")),n=await(async e=>{try{const t=await qd(`/programTraining/list?userId=${e}`,"GET");if(!t)throw new Error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0434\u0430\u043d\u043d\u044b\u0445");return await t}catch(t){return console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0441\u043f\u0438\u0441\u043a\u0430 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c:",t),[]}})(t.id);return console.log("programsprograms1123",n),n.filter((t=>t.clientId===e))}catch(t){return console.error("Error loading programs list:",t),[]}},r=async e=>{try{const t=JSON.parse(localStorage.getItem("user")),n=await(async(e,t)=>{try{const n=await qd(`/programTraining/get?programId=${e}&userId=${t}`,"GET");if(!n)throw new Error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u044b");const r=await n;return{...r,weeks:r.weeks.map((e=>({...e,days:e.days.map((e=>({...e,exercises:e.exercises.map((e=>({...e,sets:e.sets.map((e=>({...e,isWarmup:1===e.isWarmup})))})))})))})))}}catch(n){return console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u044b:",n),null}})(e,t.id);return console.log("programprogramprogram3333",n),n}catch(t){return console.error("Error loading full program:",t),null}},o=async e=>{if(!e)return!1;try{const t=await(async e=>{try{const t=JSON.parse(localStorage.getItem("user")),n=null===t||void 0===t?void 0:t.id;if(!n)throw new Error("\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d");const r=await qd(`/programTraining/clientPrograms?userId=${n}`,"GET");if(!r)throw new Error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c");const o=await r;return e?o.filter((t=>t.clientId===e)):o}catch(t){return console.error("\u041e\u0448\u0438\u0431\u043a\u0430:",t),Ud("error","\u041e\u0448\u0438\u0431\u043a\u0430","\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c",1500),[]}})(e);return t.length>0}catch(t){return console.error("Error checking client programs:",t),!1}},a=e=>{t((t=>({...t,snackbar:{open:!0,message:e}})))};(0,W.useEffect)((()=>{(async()=>{const[e,n]=await Promise.all([RMe(["id","name"]),PMe()]);if(t((t=>{var r;return{...t,clients:e,exerciseLibrary:n,clientId:(null===(r=e[0])||void 0===r?void 0:r.id)||null}})),e.length>0){var r;const n=await o(null===(r=e[0])||void 0===r?void 0:r.id);t((e=>({...e,clientHasPrograms:n,showNoProgramAlert:!n})))}})()}),[]),(0,W.useEffect)((()=>{if(!e.clientId)return;(async()=>{const o=await n(e.clientId),a=o.length>0;if(t((e=>({...e,clientPrograms:o,clientHasPrograms:a,showNoProgramAlert:!a}))),a){const e=o[0].id,n=await r(e);n&&t((t=>({...t,selectedProgramId:e,programId:n.id,programName:n.name,weeksCount:n.weeksCount,weeks:n.weeks,meta:n.meta,currentWeek:0,hasChanges:!1})))}})()}),[e.clientId]),(0,W.useEffect)((()=>{if(!e.clientId)return;(async()=>{const n=await o(e.clientId);t((e=>({...e,clientHasPrograms:n,showNoProgramAlert:!n})))})()}),[e.clientId]),(0,W.useEffect)((()=>{(async()=>{const[e,n]=await Promise.all([RMe(["id","name"]),PMe()]);t((t=>{var r;return{...t,clients:e,exerciseLibrary:n,clientId:(null===(r=e[0])||void 0===r?void 0:r.id)||null}}))})()}),[]);const i=async()=>{if(!e.clientId)return void a("\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043a\u043b\u0438\u0435\u043d\u0442\u0430");const n={name:`\u041d\u043e\u0432\u0430\u044f \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0430 ${(new Date).toLocaleDateString()}`,clientId:e.clientId,weeks:[hze(1)],weeksCount:1,meta:{periodizationMode:e.periodizationMode,weightFactors:e.weightFactors,repsAdjust:e.repsAdjust},updatedAt:(new Date).toISOString()};try{const e=await(async e=>{const t=JSON.parse(localStorage.getItem("user")),n=null===t||void 0===t?void 0:t.id,r=await qd("/programTraining/create","POST",{program:e,userId:n});return await r})(n);t((t=>({...t,programId:e.id,programName:e.name,weeks:e.weeks,weeksCount:e.weeksCount,currentWeek:0,clientHasPrograms:!0,showNoProgramAlert:!1,hasChanges:!1,meta:{periodizationMode:e.meta.periodizationMode,weightFactors:e.meta.weightFactors,repsAdjust:e.meta.repsAdjust},periodizationMode:e.meta.periodizationMode,weightFactors:e.meta.weightFactors,repsAdjust:e.meta.repsAdjust}))),a("\u041d\u043e\u0432\u0430\u044f \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0430")}catch(r){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u044b:",r),a(`\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u044b: ${r}`)}},s=(0,W.useCallback)(((e,n,r,o)=>{t((t=>{const a=[...t.weeks],i={...a[e].days[n]},s=[...i.exercises],[l]=s.splice(r,1);return s.splice(o,0,l),i.exercises=s,a[e]={...a[e],days:a[e].days.map(((e,t)=>t===n?i:e))},{...t,weeks:a,hasChanges:!0}}))}),[]),l=(0,W.useCallback)(((e,n,r,o,a,i)=>{t((t=>{const s=[...t.weeks],l={...s[e].days[n]},u={...s[r].days[o]},c=[...l.exercises],d=c.findIndex((e=>e.id===a));if(-1===d)return t;const[p]=c.splice(d,1),h=[...u.exercises];return h.splice(i>=0?i:h.length,0,p),l.exercises=c,u.exercises=h,s[e]={...s[e],days:s[e].days.map(((e,t)=>t===n?l:t===o?u:e))},{...t,weeks:s,hasChanges:!0}}))}),[]),u=(n,r,o)=>{const a=e.weeks[n].days[r].exercises.find((e=>e.id===o));if(!a)return;const i=a.sets.filter((e=>e.isWarmup)),s=a.sets.filter((e=>!e.isWarmup));t((e=>({...e,editingContext:{weekIndex:n,dayIndex:r,exerciseId:o},exercise:a.exercise,comment:a.comment||"",addWarmup:i.length>0,warmupSets:i.length?i.map((e=>({id:DMe(),reps:String(e.reps),weight:String(e.weight)}))):[dze],sets:s.map((e=>({...e}))),workSetsCount:s.length||3,templateReps:s.length?String(s[0].reps):pze,templateWeight:s.length?String(s[0].weight):"",dialogOpen:!0})))},c=()=>{t((e=>({...e,menuAnchor:null,menuInfo:null})))};return{state:e,setState:t,handleProgramChange:async e=>{if(e){t((e=>({...e,isLoading:!0})));try{const n=await r(e);if(!n)return;t((t=>({...t,selectedProgramId:e,programId:n.id,programName:n.name,weeksCount:n.weeksCount,weeks:n.weeks,meta:n.meta,currentWeek:0,hasChanges:!1,isLoading:!1})))}catch(n){t((e=>({...e,isLoading:!1}))),a("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u044b")}}},handleWeeksCountChange:e=>{const n=Number(e.target.value);t((e=>{const t=[...e.weeks];for(;t.length<n;)t.push(hze(t.length+1));t.length>n&&(t.length=n);const r=e.expandedWeeks.filter((e=>e<n));return 0===r.length&&n>0&&r.push(0),{...e,weeksCount:n,weeks:t,currentWeek:e.currentWeek>=n?n-1:e.currentWeek,expandedWeeks:r,hasChanges:!0}}))},createNewProgram:i,moveCardWithinDay:s,moveCardToAnotherDay:l,openAddDialog:(n,r)=>{e.clientHasPrograms?t((e=>({...e,editingContext:{weekIndex:n,dayIndex:r,exerciseId:null},exercise:"",comment:"",addWarmup:!1,warmupSets:[dze],workSetsCount:3,templateReps:pze,templateWeight:"",sets:[],dialogOpen:!0}))):a("\u0421\u043e\u0437\u0434\u0430\u0439\u0442\u0435 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0443 \u0434\u043b\u044f \u043a\u043b\u0438\u0435\u043d\u0442\u0430 \u043f\u0435\u0440\u0435\u0434 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435\u043c \u0443\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u0439")},openEditDialog:u,closeDialog:()=>{t((e=>({...e,dialogOpen:!1,editingContext:null})))},handleSaveExercise:()=>{if(!e.editingContext)return;const{weekIndex:n,dayIndex:r,exerciseId:o}=e.editingContext,i=[...e.addWarmup?e.warmupSets.filter((e=>e.reps&&e.weight)).map(((e,t)=>({id:DMe(),order:t+1,reps:Number(e.reps),weight:Number(e.weight),isWarmup:!0}))):[],...e.sets.filter((e=>e.reps&&e.weight)).map(((e,t)=>({id:e.id||DMe(),order:t+1,reps:Number(e.reps),weight:Number(e.weight),isWarmup:!1})))];t((e=>{const t=[...e.weeks],a={...t[n].days[r]},s=o?a.exercises.map((t=>t.id===o?{...t,exercise:e.exercise,comment:e.comment,sets:i}:t)):[...a.exercises,{id:DMe(),exercise:e.exercise,comment:e.comment,sets:i,createdAt:(new Date).toISOString()}];a.exercises=s,t[n]={...t[n],days:t[n].days.map(((e,t)=>t===r?a:e))};const l=e.exerciseLibrary.includes(e.exercise)?e.exerciseLibrary:[...e.exerciseLibrary,e.exercise].sort();return{...e,weeks:t,exerciseLibrary:l,hasChanges:!0,dialogOpen:!1,editingContext:null}})),a("\u0423\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043e")},handleRightClick:(e,n,r)=>{e.preventDefault(),t((t=>({...t,menuInfo:{weekIndex:t.currentWeek,dayIndex:n,exerciseId:r},menuAnchor:e.currentTarget})))},closeMenu:c,handleMenuEdit:()=>{e.menuInfo&&u(e.menuInfo.weekIndex,e.menuInfo.dayIndex,e.menuInfo.exerciseId),c()},handleMenuDelete:()=>{e.menuInfo&&(t((t=>{const n=[...t.weeks],r={...n[e.menuInfo.weekIndex].days[e.menuInfo.dayIndex]};return r.exercises=r.exercises.filter((t=>t.id!==e.menuInfo.exerciseId)),n[e.menuInfo.weekIndex]={...n[e.menuInfo.weekIndex],days:n[e.menuInfo.weekIndex].days.map(((t,n)=>n===e.menuInfo.dayIndex?r:t))},{...t,weeks:n,hasChanges:!0}})),a("\u0423\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u0435 \u0443\u0434\u0430\u043b\u0435\u043d\u043e")),c()},handleCopyExercise:(n,r)=>{const o=e.weeks[e.currentWeek].days[n].exercises.find((e=>e.id===r));o&&(t((e=>{const t=[...e.weeks],r={...t[e.currentWeek].days[n]},a={...o,id:DMe(),createdAt:(new Date).toISOString()};return r.exercises=[...r.exercises,a],t[e.currentWeek]={...t[e.currentWeek],days:t[e.currentWeek].days.map(((e,t)=>t===n?r:e))},{...e,weeks:t,hasChanges:!0}})),a("\u0423\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u0435 \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u043e"))},generateNextWeeks:async()=>{try{const n=e.weeks[0],r=await(async(e,t,n,r)=>{try{const o=JSON.parse(localStorage.getItem("user")),a=null===o||void 0===o?void 0:o.id;console.log("\u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445 \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440:",{base:e,periodizationMode:t,repsAdjust:n,weightFactors:r});const i=await qd("/programTraining/generateNextWeeks","PATCH",{userId:a,base:e,periodizationMode:t,repsAdjust:n,weightFactors:r});if(!i.success)throw new Error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u043f\u0435\u0440\u0438\u043e\u0434\u0435\u0437\u0430\u0446\u0438\u0438");return await i}catch(o){throw console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u043f\u0435\u0440\u0438\u043e\u0434\u0435\u0437\u0430\u0446\u0438\u0438:",o),o}})(n,e.periodizationMode,e.repsAdjust,e.weightFactors);t((e=>{var t,n;return{...e,weeks:[e.weeks[0],...r.weeks],hasChanges:!0,periodizationMode:r.periodizationMode||e.periodizationMode,repsAdjust:(null===(t=r.appliedParams)||void 0===t?void 0:t.repsAdjust)||e.repsAdjust,weightFactors:(null===(n=r.appliedParams)||void 0===n?void 0:n.weightFactors)||e.weightFactors}})),a(`\u0421\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b \u043d\u0435\u0434\u0435\u043b\u0438 2-${e.weeksCount}`)}catch(n){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438 \u043d\u0435\u0434\u0435\u043b\u044c:",n),a("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0441\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043d\u0435\u0434\u0435\u043b\u0438",{variant:"error"})}},handleSaveProgram:async()=>{if(!e.clientId||!e.programId)return void a("\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043a\u043b\u0438\u0435\u043d\u0442\u0430 \u0438 \u043f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044e");if(!e.hasChanges)return void a("\u041d\u0435\u0442 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439 \u0434\u043b\u044f \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f");const n={id:e.programId,name:e.programName,clientId:e.clientId,weeks:e.weeks.map(((e,t)=>({...e,days:e.days.map(((e,t)=>({...e,dayIndex:t,exercises:e.exercises.map(((e,t)=>({...e,orderIndex:t,sets:e.sets.map(((e,t)=>({...e,orderIndex:t})))})))})))}))),weeksCount:e.weeksCount,meta:{periodizationMode:e.periodizationMode,weightFactors:e.weightFactors,repsAdjust:e.repsAdjust},updatedAt:(new Date).toISOString()};try{console.log("Saving program:",n),await $Me(n),t((e=>({...e,hasChanges:!1}))),a("\u041f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0430")}catch(r){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f:",r),a(`\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0438: ${r.message}`)}},handleAiPrompt:()=>{a("AI \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u0441\u043a\u043e\u0440\u043e \u0431\u0443\u0434\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0430")},handleCreateFirstProgram:async()=>{await i()},addWarmupSet:()=>{t((e=>({...e,warmupSets:[...e.warmupSets,{id:DMe(),reps:"",weight:""}]})))},removeWarmupSet:e=>{t((t=>({...t,warmupSets:t.warmupSets.filter((t=>t.id!==e))})))},showSnackbar:a,closeSnackbar:()=>{t((e=>({...e,snackbar:{...e.snackbar,open:!1}})))},toggleWeekExpansion:e=>{t((t=>{const n=[...t.expandedWeeks],r=n.indexOf(e);return r>=0?n.splice(r,1):n.push(e),{...t,expandedWeeks:n}}))}}},mze=()=>{var e;const t=xa(),{state:n,setState:r,handleProgramChange:o,handleWeeksCountChange:a,createNewProgram:i,moveCardWithinDay:s,moveCardToAnotherDay:l,openAddDialog:u,openEditDialog:c,closeDialog:d,handleSaveExercise:p,handleRightClick:h,closeMenu:f,handleMenuEdit:m,handleMenuDelete:g,handleCopyExercise:y,generateNextWeeks:v,handleSaveProgram:b,handleAiPrompt:x,handleCreateFirstProgram:w,addWarmupSet:k,removeWarmupSet:S,showSnackbar:A,closeSnackbar:C,toggleWeekExpansion:T}=fze();return(0,sn.jsxs)(ps,{sx:{display:"flex",flexDirection:"column",gap:2,p:2,height:"100%",boxSizing:"border-box",position:"relative"},children:[n.showNoProgramAlert&&(0,sn.jsx)(Bs,{severity:"info",sx:{mb:2},action:(0,sn.jsx)(rr,{color:"inherit",size:"small",onClick:w,startIcon:(0,sn.jsx)(IM.A,{}),children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"}),onClose:()=>r((e=>({...e,showNoProgramAlert:!1}))),children:"\u0423 \u043a\u043b\u0438\u0435\u043d\u0442\u0430 \u043d\u0435\u0442 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043e\u043a. \u0421\u043e\u0437\u0434\u0430\u0439\u0442\u0435 \u043f\u0435\u0440\u0432\u0443\u044e \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0443."}),(0,sn.jsxs)(cn,{elevation:3,sx:{p:2,display:"flex",flexWrap:"wrap",gap:2,alignItems:"center",position:"sticky",top:0,zIndex:10,backgroundColor:t.palette.background.paper},children:[(0,sn.jsxs)(Oo,{size:"small",sx:{minWidth:180},children:[(0,sn.jsx)(Co,{id:"client-label",children:"\u041a\u043b\u0438\u0435\u043d\u0442"}),(0,sn.jsx)(Zi,{labelId:"client-label",label:"\u041a\u043b\u0438\u0435\u043d\u0442",value:n.clientId||"",onChange:e=>r((t=>({...t,clientId:e.target.value,selectedProgramId:null,programName:"",programId:null}))),children:n.clients.map((e=>(0,sn.jsx)(ul,{value:e.id,children:e.name},e.id)))})]}),(0,sn.jsxs)(Oo,{size:"small",sx:{minWidth:220},children:[(0,sn.jsx)(Co,{id:"program-label",children:"\u041f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0430"}),(0,sn.jsx)(Zi,{labelId:"program-label",label:"\u041f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0430",value:n.selectedProgramId||"",onChange:e=>o(e.target.value),disabled:!n.clientHasPrograms,children:n.clientPrograms.map((e=>(0,sn.jsx)(ul,{value:e.id,children:e.name},e.id)))})]}),(0,sn.jsx)(rs,{label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u044b",size:"small",value:n.programName,onChange:e=>r((t=>({...t,programName:e.target.value,hasChanges:!0}))),sx:{minWidth:220}}),(0,sn.jsxs)(Oo,{size:"small",sx:{width:110},children:[(0,sn.jsx)(Co,{id:"weeks-label",children:"\u041d\u0435\u0434\u0435\u043b\u0438"}),(0,sn.jsx)(Zi,{labelId:"weeks-label",label:"\u041d\u0435\u0434\u0435\u043b\u0438",value:n.weeksCount,onChange:a,children:[1,2,3,4].map((e=>(0,sn.jsx)(ul,{value:e,children:e},e)))})]}),(0,sn.jsxs)(Oo,{size:"small",sx:{minWidth:150},children:[(0,sn.jsx)(Co,{id:"periodization-label",children:"\u041f\u0435\u0440\u0438\u043e\u0434\u0438\u0437\u0430\u0446\u0438\u044f"}),(0,sn.jsxs)(Zi,{labelId:"periodization-label",label:"\u041f\u0435\u0440\u0438\u043e\u0434\u0438\u0437\u0430\u0446\u0438\u044f",value:n.periodizationMode,onChange:e=>r((t=>({...t,periodizationMode:e.target.value,hasChanges:!0}))),children:[(0,sn.jsx)(ul,{value:"linear",children:"\u041b\u0438\u043d\u0435\u0439\u043d\u0430\u044f"}),(0,sn.jsx)(ul,{value:"undulating",children:"\u0412\u043e\u043b\u043d\u043e\u043e\u0431\u0440\u0430\u0437\u043d\u0430\u044f"}),(0,sn.jsx)(ul,{value:"custom",children:"\u0421\u0432\u043e\u044f"})]})]}),(0,sn.jsx)(tg,{title:"\u0421\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043d\u0435\u0434\u0435\u043b\u0438 2..N",children:(0,sn.jsx)("span",{children:(0,sn.jsx)(rr,{variant:"outlined",size:"small",startIcon:(0,sn.jsx)(CMe.A,{}),disabled:n.weeksCount<=1,onClick:v,children:"\u0413\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f"})})}),(0,sn.jsx)(rr,{variant:"outlined",size:"small",startIcon:(0,sn.jsx)(AMe.A,{}),onClick:x,children:"AI (\u0441\u043a\u043e\u0440\u043e)"}),(0,sn.jsx)(rr,{variant:"contained",size:"small",startIcon:(0,sn.jsx)(IM.A,{}),onClick:i,sx:{mr:2},children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"}),(0,sn.jsx)(rr,{variant:"contained",size:"small",startIcon:(0,sn.jsx)(SMe.A,{}),onClick:b,disabled:!n.hasChanges||!n.programId,sx:{ml:"auto"},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]}),"custom"===n.periodizationMode&&(0,sn.jsxs)(cn,{sx:{p:2},children:[(0,sn.jsx)(vs,{variant:"subtitle2",sx:{mb:1},children:"\u041a\u0430\u0441\u0442\u043e\u043c\u043d\u044b\u0435 \u043a\u043e\u044d\u0444\u0444\u0438\u0446\u0438\u0435\u043d\u0442\u044b \u0432\u0435\u0441\u0430 / \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u043f\u043e\u0432\u0442\u043e\u0440\u043e\u0432"}),(0,sn.jsx)(ps,{sx:{display:"flex",flexWrap:"wrap",gap:2},children:n.weeks.map(((e,t)=>(0,sn.jsxs)(ps,{sx:{display:"flex",flexDirection:"column",gap:.5,width:120},children:[(0,sn.jsxs)(vs,{variant:"caption",children:["\u041d\u0435\u0434\u0435\u043b\u044f ",t+1]}),(0,sn.jsx)(rs,{size:"small",label:"\xd7\u0412\u0435\u0441",value:n.weightFactors[t],onChange:e=>{const n=Number(e.target.value)||0;r((e=>{const r=[...e.weightFactors];return r[t]=n,{...e,weightFactors:r,hasChanges:!0}}))}}),(0,sn.jsx)(rs,{size:"small",label:"\u0394 \u041f\u043e\u0432\u0442",value:n.repsAdjust[t],onChange:e=>{const n=Number(e.target.value)||0;r((e=>{const r=[...e.repsAdjust];return r[t]=n,{...e,repsAdjust:r,hasChanges:!0}}))}})]},t)))})]}),(0,sn.jsx)(ps,{sx:{display:"flex",flexDirection:"column",gap:2},children:n.weeks.map(((e,o)=>(0,sn.jsxs)(cMe,{expanded:n.expandedWeeks.includes(o),onChange:()=>T(o),children:[(0,sn.jsx)(yMe,{expandIcon:(0,sn.jsx)(TMe.A,{}),sx:{backgroundColor:t.palette.grey[100],"&:hover":{backgroundColor:t.palette.grey[200]}},children:(0,sn.jsxs)(vs,{variant:"h6",children:["\u041d\u0435\u0434\u0435\u043b\u044f ",o+1," ",(0,sn.jsx)(vs,{variant:"caption",component:"span",sx:{color:"text.secondary"},children:e.periodizationNote})]})}),(0,sn.jsx)(wMe,{children:(0,sn.jsx)(ps,{sx:{display:"flex",gap:2,overflowX:"auto",pb:2,alignItems:"flex-start",minHeight:"300px"},children:e.days.map(((e,t)=>(0,sn.jsx)(uze,{ITEM_TYPE:"EXERCISE_CARD",dayIndex:t,dayName:cze[t],exercises:e.exercises,onAdd:()=>u(o,t),onClear:()=>{r((e=>{const n=[...e.weeks],r=n[o],a={exercises:[]};return r.days=r.days.map(((e,n)=>n===t?a:e)),n[o]={...r},{...e,weeks:n,hasChanges:!0}})),A("\u0414\u0435\u043d\u044c \u043e\u0447\u0438\u0449\u0435\u043d")},onContextMenu:h,openEditDialog:c,onCopy:y,onDeleteCard:g,moveCardWithin:(e,n)=>s(o,t,e,n),moveFromAnotherDay:(e,n,r)=>l(o,e,o,t,n,r)},t)))})})]},o)))}),(0,sn.jsxs)(wi,{anchorEl:n.menuAnchor,open:Boolean(n.menuAnchor),onClose:f,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:[(0,sn.jsxs)(ul,{onClick:m,children:[(0,sn.jsx)(AM.A,{fontSize:"small",sx:{mr:1}}),"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"]}),(0,sn.jsxs)(ul,{onClick:()=>{n.menuInfo&&y(n.menuInfo.dayIndex,n.menuInfo.exerciseId),f()},children:[(0,sn.jsx)(kMe.A,{fontSize:"small",sx:{mr:1}}),"\u041a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c"]}),(0,sn.jsxs)(ul,{onClick:g,children:[(0,sn.jsx)(TM.A,{fontSize:"small",sx:{mr:1}}),"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"]})]}),(0,sn.jsxs)(xm,{open:n.dialogOpen,onClose:d,maxWidth:"md",fullWidth:!0,keepMounted:!0,children:[(0,sn.jsx)(Cm,{sx:{pb:1},children:null!==(e=n.editingContext)&&void 0!==e&&e.exerciseId?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0443\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u044f":"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0443\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u044f"}),(0,sn.jsx)(Nm,{dividers:!0,children:(0,sn.jsxs)(ps,{sx:{display:"flex",flexDirection:"column",gap:2},children:[(0,sn.jsx)(Xf,{freeSolo:!0,options:n.exerciseLibrary,getOptionLabel:e=>"string"===typeof e?e:e.name,value:n.exercise,onChange:(e,t)=>r((e=>({...e,exercise:"string"===typeof t?t:(null===t||void 0===t?void 0:t.name)||""}))),onInputChange:(e,t)=>r((e=>({...e,exercise:t}))),renderInput:e=>(0,sn.jsx)(rs,{...e,label:"\u0423\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u0435",variant:"outlined",fullWidth:!0})}),(0,sn.jsx)(rs,{label:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",multiline:!0,minRows:2,value:n.comment,onChange:e=>r((t=>({...t,comment:e.target.value})))}),(0,sn.jsx)(qp,{}),(0,sn.jsx)(QI,{control:(0,sn.jsx)(wN,{checked:n.addWarmup,onChange:e=>r((t=>({...t,addWarmup:e.target.checked})))}),label:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0440\u0430\u0437\u043c\u0438\u043d\u043a\u0443"}),n.addWarmup&&(0,sn.jsxs)(ps,{sx:{display:"flex",flexDirection:"column",gap:1.5},children:[n.warmupSets.map(((e,t)=>(0,sn.jsxs)(ps,{sx:{display:"flex",gap:1,alignItems:"center"},children:[(0,sn.jsx)(rs,{label:`\u0420\u0430\u0437\u043c\u0438\u043d\u043a\u0430 ${t+1} \u043f\u043e\u0432\u0442`,size:"small",value:e.reps,onChange:t=>r((n=>({...n,warmupSets:n.warmupSets.map((n=>n.id===e.id?{...n,reps:t.target.value}:n))}))),sx:{width:120}}),(0,sn.jsx)(rs,{label:"\u0412\u0435\u0441",size:"small",value:e.weight,onChange:t=>r((n=>({...n,warmupSets:n.warmupSets.map((n=>n.id===e.id?{...n,weight:t.target.value}:n))}))),sx:{width:120}}),n.warmupSets.length>1&&(0,sn.jsx)(Ns,{size:"small",onClick:()=>S(e.id),children:(0,sn.jsx)(TM.A,{fontSize:"small"})})]},e.id))),(0,sn.jsx)(rr,{size:"small",variant:"outlined",onClick:k,children:"+ \u0440\u0430\u0437\u043c\u0438\u043d\u043a\u0430"})]}),(0,sn.jsx)(qp,{}),(0,sn.jsx)(vs,{variant:"subtitle2",children:"\u0420\u0430\u0431\u043e\u0447\u0438\u0435 \u043f\u043e\u0434\u0445\u043e\u0434\u044b (\u0448\u0430\u0431\u043b\u043e\u043d)"}),(0,sn.jsxs)(ps,{sx:{display:"flex",flexWrap:"wrap",gap:2,alignItems:"center"},children:[(0,sn.jsx)(rs,{label:"\u041a\u043e\u043b-\u0432\u043e \u043f\u043e\u0434\u0445\u043e\u0434\u043e\u0432",size:"small",type:"number",value:n.workSetsCount,onChange:e=>r((t=>({...t,workSetsCount:Math.min(50,Math.max(1,Number(e.target.value)||1))}))),sx:{width:160}}),(0,sn.jsx)(rs,{label:"\u041f\u043e\u0432\u0442 (\u0448\u0430\u0431\u043b\u043e\u043d)",size:"small",value:n.templateReps,onChange:e=>r((t=>({...t,templateReps:e.target.value}))),sx:{width:160}}),(0,sn.jsx)(rs,{label:"\u0412\u0435\u0441 (\u0448\u0430\u0431\u043b\u043e\u043d)",size:"small",value:n.templateWeight,onChange:e=>r((t=>({...t,templateWeight:e.target.value}))),sx:{width:160}}),(0,sn.jsx)(QI,{control:(0,sn.jsx)(tD,{checked:Boolean(n.sets._generatedTemplate),onChange:e=>{if(e.target.checked)r((e=>({...e,sets:[]})));else{const e=[...n.sets];delete e._generatedTemplate,r((t=>({...t,sets:e})))}}}),label:"\u0410\u0432\u0442\u043e-\u043e\u0431\u043d\u043e\u0432\u043b. \u0448\u0430\u0431\u043b\u043e\u043d\u0430"})]}),(0,sn.jsxs)(ps,{sx:{display:"flex",flexDirection:"column",gap:1,mt:1},children:[n.sets.map(((e,t)=>(0,sn.jsxs)(ps,{sx:{display:"flex",gap:1,alignItems:"center"},children:[(0,sn.jsx)(rs,{size:"small",label:`\u041f\u043e\u0434\u0445\u043e\u0434 ${t+1} \u043f\u043e\u0432\u0442`,value:e.reps,onChange:t=>r((n=>({...n,sets:n.sets.map((n=>n.id===e.id?{...n,reps:t.target.value}:n))}))),sx:{width:130}}),(0,sn.jsx)(rs,{size:"small",label:"\u0412\u0435\u0441",value:e.weight,onChange:t=>r((n=>({...n,sets:n.sets.map((n=>n.id===e.id?{...n,weight:t.target.value}:n))}))),sx:{width:130}}),(0,sn.jsx)(Ns,{size:"small",onClick:()=>r((t=>({...t,sets:t.sets.filter((t=>t.id!==e.id))}))),children:(0,sn.jsx)(TM.A,{fontSize:"small"})})]},e.id))),(0,sn.jsx)(rr,{size:"small",variant:"outlined",onClick:()=>r((e=>({...e,sets:[...e.sets,{id:DMe(),order:e.sets.length+1,reps:e.templateReps,weight:e.templateWeight,isWarmup:!1}]}))),children:"+ \u043f\u043e\u0434\u0445\u043e\u0434"})]})]})}),(0,sn.jsxs)(Rm,{children:[(0,sn.jsx)(rr,{onClick:d,children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),(0,sn.jsx)(rr,{onClick:p,disabled:!n.exercise||0===n.sets.filter((e=>e.reps&&e.weight)).length,variant:"contained",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})]}),(0,sn.jsx)(Vd,{open:n.snackbar.open,autoHideDuration:3e3,onClose:C,anchorOrigin:{vertical:"bottom",horizontal:"right"},children:(0,sn.jsx)(Bs,{onClose:C,severity:"success",sx:{width:"100%"},children:n.snackbar.message})})]})};function gze(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var yze="function"===typeof Symbol&&Symbol.observable||"@@observable",vze=function(){return Math.random().toString(36).substring(7).split("").join(".")},bze={INIT:"@@redux/INIT"+vze(),REPLACE:"@@redux/REPLACE"+vze(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+vze()}};function xze(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function wze(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(gze(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(gze(1));return n(wze)(e,t)}if("function"!==typeof e)throw new Error(gze(2));var o=e,a=t,i=[],s=i,l=!1;function u(){s===i&&(s=i.slice())}function c(){if(l)throw new Error(gze(3));return a}function d(e){if("function"!==typeof e)throw new Error(gze(4));if(l)throw new Error(gze(5));var t=!0;return u(),s.push(e),function(){if(t){if(l)throw new Error(gze(6));t=!1,u();var n=s.indexOf(e);s.splice(n,1),i=null}}}function p(e){if(!xze(e))throw new Error(gze(7));if("undefined"===typeof e.type)throw new Error(gze(8));if(l)throw new Error(gze(9));try{l=!0,a=o(a,e)}finally{l=!1}for(var t=i=s,n=0;n<t.length;n++){(0,t[n])()}return e}return p({type:bze.INIT}),(r={dispatch:p,subscribe:d,getState:c,replaceReducer:function(e){if("function"!==typeof e)throw new Error(gze(10));o=e,p({type:bze.REPLACE})}})[yze]=function(){var e,t=d;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(gze(11));function n(){e.next&&e.next(c())}return n(),{unsubscribe:t(n)}}})[yze]=function(){return this},e},r}function kze(e){return"object"===typeof e}const Sze="dnd-core/INIT_COORDS",Aze="dnd-core/BEGIN_DRAG",Cze="dnd-core/PUBLISH_DRAG_SOURCE",Tze="dnd-core/HOVER",Ize="dnd-core/DROP",Eze="dnd-core/END_DRAG";function Nze(e,t){return{type:Sze,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}const Oze={type:Sze,payload:{clientOffset:null,sourceClientOffset:null}};function Mze(e){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{publishSource:!0};const{publishSource:r=!0,clientOffset:o,getSourceClientOffset:a}=n,i=e.getMonitor(),s=e.getRegistry();e.dispatch(Nze(o)),function(e,t,n){UMe(!t.isDragging(),"Cannot call beginDrag while dragging."),e.forEach((function(e){UMe(n.getSource(e),"Expected sourceIds to be registered.")}))}(t,i,s);const l=function(e,t){let n=null;for(let r=e.length-1;r>=0;r--)if(t.canDragSource(e[r])){n=e[r];break}return n}(t,i);if(null==l)return void e.dispatch(Oze);let u=null;if(o){if(!a)throw new Error("getSourceClientOffset must be defined");!function(e){UMe("function"===typeof e,"When clientOffset is provided, getSourceClientOffset must be a function.")}(a),u=a(l)}e.dispatch(Nze(o,u));const c=s.getSource(l).beginDrag(i,l);if(null==c)return;!function(e){UMe(kze(e),"Item must be an object.")}(c),s.pinSource(l);const d=s.getSourceType(l);return{type:Aze,payload:{itemType:d,item:c,sourceId:l,clientOffset:o||null,sourceClientOffset:u||null,isSourcePublic:!!r}}}}function Dze(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Dze(e,t,n[t])}))}return e}function Pze(e){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=e.getMonitor(),r=e.getRegistry();!function(e){UMe(e.isDragging(),"Cannot call drop while not dragging."),UMe(!e.didDrop(),"Cannot call drop twice during one drag operation.")}(n);const o=function(e){const t=e.getTargetIds().filter(e.canDropOnTarget,e);return t.reverse(),t}(n);o.forEach(((o,a)=>{const i=function(e,t,n,r){const o=n.getTarget(e);let a=o?o.drop(r,e):void 0;(function(e){UMe("undefined"===typeof e||kze(e),"Drop result must either be an object or undefined.")})(a),"undefined"===typeof a&&(a=0===t?{}:r.getDropResult());return a}(o,a,r,n),s={type:Ize,payload:{dropResult:Rze({},t,i)}};e.dispatch(s)}))}}function $ze(e){return function(){const t=e.getMonitor(),n=e.getRegistry();!function(e){UMe(e.isDragging(),"Cannot call endDrag while not dragging.")}(t);const r=t.getSourceId();if(null!=r){n.getSource(r,!0).endDrag(t,r),n.unpinSource()}return{type:Eze}}}function jze(e,t){return null===t?null===e:Array.isArray(e)?e.some((e=>e===t)):e===t}function _ze(e){return function(t){let{clientOffset:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e){UMe(Array.isArray(e),"Expected targetIds to be an array.")}(t);const r=t.slice(0),o=e.getMonitor(),a=e.getRegistry();return function(e,t,n){for(let r=e.length-1;r>=0;r--){const o=e[r];jze(t.getTargetType(o),n)||e.splice(r,1)}}(r,a,o.getItemType()),function(e,t,n){UMe(t.isDragging(),"Cannot call hover while not dragging."),UMe(!t.didDrop(),"Cannot call hover after drop.");for(let r=0;r<e.length;r++){const t=e[r];UMe(e.lastIndexOf(t)===r,"Expected targetIds to be unique in the passed array.");UMe(n.getTarget(t),"Expected targetIds to be registered.")}}(r,o,a),function(e,t,n){e.forEach((function(e){n.getTarget(e).hover(t,e)}))}(r,o,a),{type:Tze,payload:{targetIds:r,clientOffset:n||null}}}}function Fze(e){return function(){if(e.getMonitor().isDragging())return{type:Cze}}}class Lze{receiveBackend(e){this.backend=e}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const e=this,{dispatch:t}=this.store;const n=function(e){return{beginDrag:Mze(e),publishDragSource:Fze(e),hover:_ze(e),drop:Pze(e),endDrag:$ze(e)}}(this);return Object.keys(n).reduce(((r,o)=>{const a=n[o];var i;return r[o]=(i=a,function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];const a=i.apply(e,r);"undefined"!==typeof a&&t(a)}),r}),{})}dispatch(e){this.store.dispatch(e)}constructor(e,t){this.isSetUp=!1,this.handleRefCountChange=()=>{const e=this.store.getState().refCount>0;this.backend&&(e&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!e&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=e,this.monitor=t,e.subscribe(this.handleRefCountChange)}}function zze(e,t){return{x:e.x-t.x,y:e.y-t.y}}const Bze=[],Wze=[];Bze.__IS_NONE__=!0,Wze.__IS_ALL__=!0;class Vze{subscribeToStateChange(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{handlerIds:n}=t;UMe("function"===typeof e,"listener must be a function."),UMe("undefined"===typeof n||Array.isArray(n),"handlerIds, when specified, must be an array of strings.");let r=this.store.getState().stateId;return this.store.subscribe((()=>{const t=this.store.getState(),o=t.stateId;try{const a=o===r||o===r+1&&!function(e,t){return e!==Bze&&(e===Wze||"undefined"===typeof t||(n=e,t.filter((e=>n.indexOf(e)>-1))).length>0);var n}(t.dirtyHandlerIds,n);a||e()}finally{r=o}}))}subscribeToOffsetChange(e){UMe("function"===typeof e,"listener must be a function.");let t=this.store.getState().dragOffset;return this.store.subscribe((()=>{const n=this.store.getState().dragOffset;n!==t&&(t=n,e())}))}canDragSource(e){if(!e)return!1;const t=this.registry.getSource(e);return UMe(t,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()&&t.canDrag(this,e)}canDropOnTarget(e){if(!e)return!1;const t=this.registry.getTarget(e);if(UMe(t,`Expected to find a valid target. targetId=${e}`),!this.isDragging()||this.didDrop())return!1;return jze(this.registry.getTargetType(e),this.getItemType())&&t.canDrop(this,e)}isDragging(){return Boolean(this.getItemType())}isDraggingSource(e){if(!e)return!1;const t=this.registry.getSource(e,!0);if(UMe(t,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()||!this.isSourcePublic())return!1;return this.registry.getSourceType(e)===this.getItemType()&&t.isDragging(this,e)}isOverTarget(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shallow:!1};if(!e)return!1;const{shallow:n}=t;if(!this.isDragging())return!1;const r=this.registry.getTargetType(e),o=this.getItemType();if(o&&!jze(r,o))return!1;const a=this.getTargetIds();if(!a.length)return!1;const i=a.indexOf(e);return n?i===a.length-1:i>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return Boolean(this.store.getState().dragOperation.isSourcePublic)}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return function(e){const{clientOffset:t,initialClientOffset:n,initialSourceClientOffset:r}=e;return t&&n&&r?zze((a=r,{x:(o=t).x+a.x,y:o.y+a.y}),n):null;var o,a}(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return function(e){const{clientOffset:t,initialClientOffset:n}=e;return t&&n?zze(t,n):null}(this.store.getState().dragOffset)}constructor(e,t){this.store=e,this.registry=t}}const Uze="undefined"!==typeof global?global:self,Hze=Uze.MutationObserver||Uze.WebKitMutationObserver;function Gze(e){return function(){const t=setTimeout(r,0),n=setInterval(r,50);function r(){clearTimeout(t),clearInterval(n),e()}}}const qze="function"===typeof Hze?function(e){let t=1;const n=new Hze(e),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){t=-t,r.data=t}}:Gze;class Kze{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,t){this.onError=e,this.release=t,this.task=null}}const Xze=new class{enqueueTask(e){const{queue:t,requestFlush:n}=this;t.length||(n(),this.flushing=!0),t[t.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:e}=this;for(;this.index<e.length;){const t=this.index;if(this.index++,e[t].call(),this.index>this.capacity){for(let t=0,n=e.length-this.index;t<n;t++)e[t]=e[t+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=qze(this.flush),this.requestErrorThrow=Gze((()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()}))}},Yze=new class{create(e){const t=this.freeTasks,n=t.length?t.pop():new Kze(this.onError,(e=>t[t.length]=e));return n.task=e,n}constructor(e){this.onError=e,this.freeTasks=[]}}(Xze.registerPendingError);const Qze="dnd-core/ADD_SOURCE",Zze="dnd-core/ADD_TARGET",Jze="dnd-core/REMOVE_SOURCE",eBe="dnd-core/REMOVE_TARGET";function tBe(e,t){t&&Array.isArray(e)?e.forEach((e=>tBe(e,!1))):UMe("string"===typeof e||"symbol"===typeof e,t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var nBe,rBe;(rBe=nBe||(nBe={})).SOURCE="SOURCE",rBe.TARGET="TARGET";let oBe=0;function aBe(e){const t=(oBe++).toString();switch(e){case nBe.SOURCE:return`S${t}`;case nBe.TARGET:return`T${t}`;default:throw new Error(`Unknown Handler Role: ${e}`)}}function iBe(e){switch(e[0]){case"S":return nBe.SOURCE;case"T":return nBe.TARGET;default:throw new Error(`Cannot parse handler ID: ${e}`)}}function sBe(e,t){const n=e.entries();let r=!1;do{const{done:e,value:[,o]}=n.next();if(o===t)return!0;r=!!e}while(!r);return!1}class lBe{addSource(e,t){tBe(e),function(e){UMe("function"===typeof e.canDrag,"Expected canDrag to be a function."),UMe("function"===typeof e.beginDrag,"Expected beginDrag to be a function."),UMe("function"===typeof e.endDrag,"Expected endDrag to be a function.")}(t);const n=this.addHandler(nBe.SOURCE,e,t);return this.store.dispatch(function(e){return{type:Qze,payload:{sourceId:e}}}(n)),n}addTarget(e,t){tBe(e,!0),function(e){UMe("function"===typeof e.canDrop,"Expected canDrop to be a function."),UMe("function"===typeof e.hover,"Expected hover to be a function."),UMe("function"===typeof e.drop,"Expected beginDrag to be a function.")}(t);const n=this.addHandler(nBe.TARGET,e,t);return this.store.dispatch(function(e){return{type:Zze,payload:{targetId:e}}}(n)),n}containsHandler(e){return sBe(this.dragSources,e)||sBe(this.dropTargets,e)}getSource(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];UMe(this.isSourceId(e),"Expected a valid source ID.");return t&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}getTarget(e){return UMe(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}getSourceType(e){return UMe(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}getTargetType(e){return UMe(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}isSourceId(e){return iBe(e)===nBe.SOURCE}isTargetId(e){return iBe(e)===nBe.TARGET}removeSource(e){var t;UMe(this.getSource(e),"Expected an existing source."),this.store.dispatch(function(e){return{type:Jze,payload:{sourceId:e}}}(e)),t=()=>{this.dragSources.delete(e),this.types.delete(e)},Xze.enqueueTask(Yze.create(t))}removeTarget(e){UMe(this.getTarget(e),"Expected an existing target."),this.store.dispatch(function(e){return{type:eBe,payload:{targetId:e}}}(e)),this.dropTargets.delete(e),this.types.delete(e)}pinSource(e){const t=this.getSource(e);UMe(t,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=t}unpinSource(){UMe(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(e,t,n){const r=aBe(e);return this.types.set(r,t),e===nBe.SOURCE?this.dragSources.set(r,n):e===nBe.TARGET&&this.dropTargets.set(r,n),r}constructor(e){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=e}}const uBe=(e,t)=>e===t;function cBe(){let e=arguments.length>1?arguments[1]:void 0;switch(e.type){case Tze:break;case Qze:case Zze:case eBe:case Jze:return Bze;default:return Wze}const{targetIds:t=[],prevTargetIds:n=[]}=e.payload,r=function(e,t){const n=new Map,r=e=>{n.set(e,n.has(e)?n.get(e)+1:1)};e.forEach(r),t.forEach(r);const o=[];return n.forEach(((e,t)=>{1===e&&o.push(t)})),o}(t,n),o=r.length>0||!function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:uBe;if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(!n(e[r],t[r]))return!1;return!0}(t,n);if(!o)return Bze;const a=n[n.length-1],i=t[t.length-1];return a!==i&&(a&&r.push(a),i&&r.push(i)),r}function dBe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const pBe={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function hBe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pBe,t=arguments.length>1?arguments[1]:void 0;const{payload:n}=t;switch(t.type){case Sze:case Aze:return{initialSourceClientOffset:n.sourceClientOffset,initialClientOffset:n.clientOffset,clientOffset:n.clientOffset};case Tze:return r=e.clientOffset,o=n.clientOffset,!r&&!o||r&&o&&r.x===o.x&&r.y===o.y?e:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){dBe(e,t,n[t])}))}return e}({},e,{clientOffset:n.clientOffset});case Eze:case Ize:return pBe;default:return e}var r,o}function fBe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mBe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){fBe(e,t,n[t])}))}return e}const gBe={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function yBe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gBe,t=arguments.length>1?arguments[1]:void 0;const{payload:n}=t;switch(t.type){case Aze:return mBe({},e,{itemType:n.itemType,item:n.item,sourceId:n.sourceId,isSourcePublic:n.isSourcePublic,dropResult:null,didDrop:!1});case Cze:return mBe({},e,{isSourcePublic:!0});case Tze:return mBe({},e,{targetIds:n.targetIds});case eBe:return-1===e.targetIds.indexOf(n.targetId)?e:mBe({},e,{targetIds:(r=e.targetIds,o=n.targetId,r.filter((e=>e!==o)))});case Ize:return mBe({},e,{dropResult:n.dropResult,didDrop:!0,targetIds:[]});case Eze:return mBe({},e,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}var r,o}function vBe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;switch((arguments.length>1?arguments[1]:void 0).type){case Qze:case Zze:return e+1;case Jze:case eBe:return e-1;default:return e}}function bBe(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)+1}function xBe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wBe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){xBe(e,t,n[t])}))}return e}function kBe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return{dirtyHandlerIds:cBe(e.dirtyHandlerIds,{type:t.type,payload:wBe({},t.payload,{prevTargetIds:(n=e,r="dragOperation.targetIds",o=[],r.split(".").reduce(((e,t)=>e&&e[t]?e[t]:o||null),n))})}),dragOffset:hBe(e.dragOffset,t),refCount:vBe(e.refCount,t),dragOperation:yBe(e.dragOperation,t),stateId:bBe(e.stateId)};var n,r,o}function SBe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=function(e){const t="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__;return wze(kBe,e&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))}(arguments.length>3&&void 0!==arguments[3]&&arguments[3]),o=new Vze(r,new lBe(r)),a=new Lze(r,o),i=e(a,t,n);return a.receiveBackend(i),a}function ABe(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}let CBe=0;const TBe=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var IBe=(0,W.memo)((function(e){var{children:t}=e,n=ABe(e,["children"]);const[r,o]=function(e){if("manager"in e){return[{dragDropManager:e.manager},!1]}const t=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:EBe(),n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;const o=t;o[TBe]||(o[TBe]={dragDropManager:SBe(e,t,n,r)});return o[TBe]}(e.backend,e.context,e.options,e.debugMode),n=!e.context;return[t,n]}(n);return(0,W.useEffect)((()=>{if(o){const e=EBe();return++CBe,()=>{0===--CBe&&(e[TBe]=null)}}}),[]),(0,sn.jsx)(XMe.Provider,{value:r,children:t})}));function EBe(){return"undefined"!==typeof global?global:window}function NBe(e){let t=null;return()=>(null==t&&(t=e()),t)}class OBe{enter(e){const t=this.entered.length;return this.entered=function(e,t){const n=new Set,r=e=>n.add(e);e.forEach(r),t.forEach(r);const o=[];return n.forEach((e=>o.push(e))),o}(this.entered.filter((t=>this.isNodeInDocument(t)&&(!t.contains||t.contains(e)))),[e]),0===t&&this.entered.length>0}leave(e){const t=this.entered.length;var n,r;return this.entered=(n=this.entered.filter(this.isNodeInDocument),r=e,n.filter((e=>e!==r))),t>0&&0===this.entered.length}reset(){this.entered=[]}constructor(e){this.entered=[],this.isNodeInDocument=e}}class MBe{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach((e=>{Object.defineProperty(this.item,e,{configurable:!0,enumerable:!0,get:()=>(console.warn(`Browser doesn't allow reading "${e}" until the drop event.`),null)})}))}loadDataTransfer(e){if(e){const t={};Object.keys(this.config.exposeProperties).forEach((n=>{const r=this.config.exposeProperties[n];null!=r&&(t[n]={value:r(e,this.config.matchesTypes),configurable:!0,enumerable:!0})})),Object.defineProperties(this.item,t)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(e,t){return t===e.getSourceId()}endDrag(){}constructor(e){this.config=e,this.item={},this.initializeExposedProperties()}}const DBe="__NATIVE_FILE__",RBe="__NATIVE_URL__",PBe="__NATIVE_TEXT__",$Be="__NATIVE_HTML__";function jBe(e,t,n){const r=t.reduce(((t,n)=>t||e.getData(n)),"");return null!=r?r:n}const _Be={[DBe]:{exposeProperties:{files:e=>Array.prototype.slice.call(e.files),items:e=>e.items,dataTransfer:e=>e},matchesTypes:["Files"]},[$Be]:{exposeProperties:{html:(e,t)=>jBe(e,t,""),dataTransfer:e=>e},matchesTypes:["Html","text/html"]},[RBe]:{exposeProperties:{urls:(e,t)=>jBe(e,t,"").split("\n"),dataTransfer:e=>e},matchesTypes:["Url","text/uri-list"]},[PBe]:{exposeProperties:{text:(e,t)=>jBe(e,t,""),dataTransfer:e=>e},matchesTypes:["Text","text/plain"]}};function FBe(e){if(!e)return null;const t=Array.prototype.slice.call(e.types||[]);return Object.keys(_Be).filter((e=>{const n=_Be[e];return!!(null===n||void 0===n?void 0:n.matchesTypes)&&n.matchesTypes.some((e=>t.indexOf(e)>-1))}))[0]||null}const LBe=NBe((()=>/firefox/i.test(navigator.userAgent))),zBe=NBe((()=>Boolean(window.safari)));class BBe{interpolate(e){const{xs:t,ys:n,c1s:r,c2s:o,c3s:a}=this;let i=t.length-1;if(e===t[i])return n[i];let s,l=0,u=a.length-1;for(;l<=u;){s=Math.floor(.5*(l+u));const r=t[s];if(r<e)l=s+1;else{if(!(r>e))return n[s];u=s-1}}i=Math.max(0,u);const c=e-t[i],d=c*c;return n[i]+r[i]*c+o[i]*d+a[i]*c*d}constructor(e,t){const{length:n}=e,r=[];for(let h=0;h<n;h++)r.push(h);r.sort(((t,n)=>e[t]<e[n]?-1:1));const o=[],a=[],i=[];let s,l;for(let h=0;h<n-1;h++)s=e[h+1]-e[h],l=t[h+1]-t[h],a.push(s),o.push(l),i.push(l/s);const u=[i[0]];for(let h=0;h<a.length-1;h++){const e=i[h],t=i[h+1];if(e*t<=0)u.push(0);else{s=a[h];const n=a[h+1],r=s+n;u.push(3*r/((r+n)/e+(r+s)/t))}}u.push(i[i.length-1]);const c=[],d=[];let p;for(let h=0;h<u.length-1;h++){p=i[h];const e=u[h],t=1/a[h],n=e+u[h+1]-p-p;c.push((p-e-n)*t),d.push(n*t*t)}this.xs=e,this.ys=t,this.c1s=u,this.c2s=c,this.c3s=d}}function WBe(e){const t=1===e.nodeType?e:e.parentElement;if(!t)return null;const{top:n,left:r}=t.getBoundingClientRect();return{x:r,y:n}}function VBe(e){return{x:e.clientX,y:e.clientY}}function UBe(e,t,n,r,o){const a=function(e){var t;return"IMG"===e.nodeName&&(LBe()||!(null===(t=document.documentElement)||void 0===t?void 0:t.contains(e)))}(t),i=WBe(a?e:t),s={x:n.x-i.x,y:n.y-i.y},{offsetWidth:l,offsetHeight:u}=e,{anchorX:c,anchorY:d}=r,{dragPreviewWidth:p,dragPreviewHeight:h}=function(e,t,n,r){let o=e?t.width:n,a=e?t.height:r;return zBe()&&e&&(a/=window.devicePixelRatio,o/=window.devicePixelRatio),{dragPreviewWidth:o,dragPreviewHeight:a}}(a,t,l,u),{offsetX:f,offsetY:m}=o,g=0===m||m;return{x:0===f||f?f:new BBe([0,.5,1],[s.x,s.x/l*p,s.x+p-l]).interpolate(c),y:g?m:(()=>{let e=new BBe([0,.5,1],[s.y,s.y/u*h,s.y+h-u]).interpolate(d);return zBe()&&a&&(e+=(window.devicePixelRatio-1)*h),e})()}}class HBe{get window(){return this.globalContext?this.globalContext:"undefined"!==typeof window?window:void 0}get document(){var e;return(null===(e=this.globalContext)||void 0===e?void 0:e.document)?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var e;return(null===(e=this.optionsArgs)||void 0===e?void 0:e.rootElement)||this.window}constructor(e,t){this.ownerDocument=null,this.globalContext=e,this.optionsArgs=t}}function GBe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qBe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){GBe(e,t,n[t])}))}return e}class KBe{profile(){var e,t;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:(null===(e=this.dragStartSourceIds)||void 0===e?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:(null===(t=this.dragOverTargetIds)||void 0===t?void 0:t.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const e=this.rootElement;if(void 0!==e){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}teardown(){const e=this.rootElement;var t;void 0!==e&&(e.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId&&(null===(t=this.window)||void 0===t||t.cancelAnimationFrame(this.asyncEndDragFrameId)))}connectDragPreview(e,t,n){return this.sourcePreviewNodeOptions.set(e,n),this.sourcePreviewNodes.set(e,t),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDragSource(e,t,n){this.sourceNodes.set(e,t),this.sourceNodeOptions.set(e,n);const r=t=>this.handleDragStart(t,e),o=e=>this.handleSelectStart(e);return t.setAttribute("draggable","true"),t.addEventListener("dragstart",r),t.addEventListener("selectstart",o),()=>{this.sourceNodes.delete(e),this.sourceNodeOptions.delete(e),t.removeEventListener("dragstart",r),t.removeEventListener("selectstart",o),t.setAttribute("draggable","false")}}connectDropTarget(e,t){const n=t=>this.handleDragEnter(t,e),r=t=>this.handleDragOver(t,e),o=t=>this.handleDrop(t,e);return t.addEventListener("dragenter",n),t.addEventListener("dragover",r),t.addEventListener("drop",o),()=>{t.removeEventListener("dragenter",n),t.removeEventListener("dragover",r),t.removeEventListener("drop",o)}}addEventListeners(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const e=this.monitor.getSourceId(),t=this.sourceNodeOptions.get(e);return qBe({dropEffect:this.altKeyPressed?"copy":"move"},t||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const e=this.monitor.getSourceId();return qBe({anchorX:.5,anchorY:.5,captureDraggingState:!1},this.sourcePreviewNodeOptions.get(e)||{})}isDraggingNativeItem(){const e=this.monitor.getItemType();return Object.keys(B).some((t=>B[t]===e))}beginDragNativeItem(e,t){this.clearCurrentDragSourceNode(),this.currentNativeSource=function(e,t){const n=_Be[e];if(!n)throw new Error(`native type ${e} has no configuration`);const r=new MBe(n);return r.loadDataTransfer(t),r}(e,t),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e;this.mouseMoveTimeoutTimer=setTimeout((()=>{var e;return null===(e=this.rootElement)||void 0===e?void 0:e.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}),1e3)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){var e;if(this.currentDragSourceNode=null,this.rootElement)null===(e=this.window)||void 0===e||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0);return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(e,t){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(t))}handleDragEnter(e,t){this.dragEnterTargetIds.unshift(t)}handleDragOver(e,t){null===this.dragOverTargetIds&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(t)}handleDrop(e,t){this.dropTargetIds.unshift(t)}constructor(e,t,n){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=e=>{const t=this.sourceNodes.get(e);return t&&WBe(t)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=e=>Boolean(e&&this.document&&this.document.body&&this.document.body.contains(e)),this.endDragIfSourceWasRemovedFromDOM=()=>{const e=this.currentDragSourceNode;null==e||this.isNodeInDocument(e)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=e=>{null===this.hoverRafId&&"undefined"!==typeof requestAnimationFrame&&(this.hoverRafId=requestAnimationFrame((()=>{this.monitor.isDragging()&&this.actions.hover(e||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null})))},this.cancelHover=()=>{null!==this.hoverRafId&&"undefined"!==typeof cancelAnimationFrame&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=e=>{if(e.defaultPrevented)return;const{dragStartSourceIds:t}=this;this.dragStartSourceIds=null;const n=VBe(e);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(t||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:n});const{dataTransfer:r}=e,o=FBe(r);if(this.monitor.isDragging()){if(r&&"function"===typeof r.setDragImage){const e=this.monitor.getSourceId(),t=this.sourceNodes.get(e),o=this.sourcePreviewNodes.get(e)||t;if(o){const{anchorX:e,anchorY:a,offsetX:i,offsetY:s}=this.getCurrentSourcePreviewNodeOptions(),l=UBe(t,o,n,{anchorX:e,anchorY:a},{offsetX:i,offsetY:s});r.setDragImage(o,l.x,l.y)}}try{null===r||void 0===r||r.setData("application/json",{})}catch(JBe){}this.setCurrentDragSourceNode(e.target);const{captureDraggingState:t}=this.getCurrentSourcePreviewNodeOptions();t?this.actions.publishDragSource():setTimeout((()=>this.actions.publishDragSource()),0)}else if(o)this.beginDragNativeItem(o);else{if(r&&!r.types&&(e.target&&!e.target.hasAttribute||!e.target.hasAttribute("draggable")))return;e.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=e=>{var t;(this.dragEnterTargetIds=[],this.isDraggingNativeItem())&&(null===(t=this.currentNativeSource)||void 0===t||t.loadDataTransfer(e.dataTransfer));if(!this.enterLeaveCounter.enter(e.target)||this.monitor.isDragging())return;const{dataTransfer:n}=e,r=FBe(n);r&&this.beginDragNativeItem(r,n)},this.handleTopDragEnter=e=>{const{dragEnterTargetIds:t}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=e.altKey,t.length>0&&this.actions.hover(t,{clientOffset:VBe(e)});t.some((e=>this.monitor.canDropOnTarget(e)))&&(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=e=>{var t;(this.dragOverTargetIds=[],this.isDraggingNativeItem())&&(null===(t=this.currentNativeSource)||void 0===t||t.loadDataTransfer(e.dataTransfer))},this.handleTopDragOver=e=>{const{dragOverTargetIds:t}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging())return e.preventDefault(),void(e.dataTransfer&&(e.dataTransfer.dropEffect="none"));this.altKeyPressed=e.altKey,this.lastClientOffset=VBe(e),this.scheduleHover(t);(t||[]).some((e=>this.monitor.canDropOnTarget(e)))?(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?e.preventDefault():(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=e=>{this.isDraggingNativeItem()&&e.preventDefault();this.enterLeaveCounter.leave(e.target)&&(this.isDraggingNativeItem()&&setTimeout((()=>this.endDragNativeItem()),0),this.cancelHover())},this.handleTopDropCapture=e=>{var t;(this.dropTargetIds=[],this.isDraggingNativeItem())?(e.preventDefault(),null===(t=this.currentNativeSource)||void 0===t||t.loadDataTransfer(e.dataTransfer)):FBe(e.dataTransfer)&&e.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=e=>{const{dropTargetIds:t}=this;this.dropTargetIds=[],this.actions.hover(t,{clientOffset:VBe(e)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=e=>{const t=e.target;"function"===typeof t.dragDrop&&("INPUT"===t.tagName||"SELECT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable||(e.preventDefault(),t.dragDrop()))},this.options=new HBe(t,n),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new OBe(this.isNodeInDocument)}}const XBe=function(e,t,n){return new KBe(e,t,n)},YBe=()=>{const[e,t]=(0,W.useState)((()=>{const e=localStorage.getItem("user");return e?JSON.parse(e):null}));return(0,sn.jsx)(IBe,{backend:XBe,children:(0,sn.jsxs)(zt,{children:[e&&(0,sn.jsx)(Pp,{user:e}),(0,sn.jsxs)(at,{children:[(0,sn.jsx)(rt,{path:"/",element:e?(0,sn.jsx)(OZ,{user:e}):(0,sn.jsx)(oMe,{setUser:t})}),(0,sn.jsx)(rt,{path:"/addClient",element:e?(0,sn.jsx)(Jd,{user:e}):(0,sn.jsx)(nt,{to:"/"})}),(0,sn.jsx)(rt,{path:"/MainPage",element:e?(0,sn.jsx)(OZ,{user:e}):(0,sn.jsx)(nt,{to:"/"})}),(0,sn.jsx)(rt,{path:"/trainingCalendar",element:e?(0,sn.jsx)(DZ,{user:e}):(0,sn.jsx)(nt,{to:"/"})}),(0,sn.jsx)(rt,{path:"/calculators",element:e?(0,sn.jsx)(lJ,{user:e}):(0,sn.jsx)(nt,{to:"/"})}),(0,sn.jsx)(rt,{path:"/calories",element:e?(0,sn.jsx)(LOe,{user:e}):(0,sn.jsx)(nt,{to:"/"})}),(0,sn.jsx)(rt,{path:"/allClients",element:e?(0,sn.jsx)(KOe,{user:e}):(0,sn.jsx)(nt,{to:"/"})}),(0,sn.jsx)(rt,{path:"/payPage",element:e?(0,sn.jsx)(nMe,{user:e}):(0,sn.jsx)(nt,{to:"/"})}),(0,sn.jsx)(rt,{path:"/generateProgramm",element:e?(0,sn.jsx)(mze,{}):(0,sn.jsx)(nt,{to:"/"})})]}),(0,sn.jsx)(Nd,{})]})})},QBe=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,6453)).then((t=>{let{getCLS:n,getFID:r,getFCP:o,getLCP:a,getTTFB:i}=t;n(e),r(e),o(e),a(e),i(e)}))};U.createRoot(document.getElementById("root")).render((0,sn.jsx)(W.StrictMode,{children:(0,sn.jsx)(Gd,{children:(0,sn.jsx)(YBe,{})})})),QBe()})()})();
//# sourceMappingURL=main.e9a42b7f.js.map